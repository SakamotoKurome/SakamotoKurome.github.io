<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Ubuntu Applications | Sakamoto Kurome</title>
<meta name="keywords" content="Unix, Linux, Ubuntu" />
<meta name="description" content="GUI Utilities Chrome 因为 Chrome 安装包的时候会自动添加 gpg，因此可以参考 Bypass GPG signature checks only for a single repository 执行如下操作 $ sudo sh -c &#39;echo &#34;deb [arch=amd64 trusted=yes] https://dl.google.com/linux/chrome/deb/ stable main&#34; &gt; /etc/apt/sources.list.d/google-chrome.list&#39; $ sudo apt update $ sudo apt install google-chrome-stable PS：之前直">
<meta name="author" content="Sakamoto Kurome">
<link rel="canonical" href="https://sakamotokurome.github.io/posts/ubuntup1applications/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css" integrity="sha256-yIlj/i15RiAA/Q&#43;xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js" integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5&#43;kdJvBz5iKbt6B5PJI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://sakamotokurome.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://sakamotokurome.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://sakamotokurome.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://sakamotokurome.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://sakamotokurome.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.90.0" />
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
</noscript>

<link rel="stylesheet" href="https://sakamotokurome.github.io/custom.css">
<meta name="google-site-verification" content="i2r403EffR8m-KBf7EHi6AYg7tfnMshaXTAynoYPnpE" />
<script async src="https://www.googletagmanager.com/gtag/js?id=G-K2Y212LPQ2"></script>
<script>
var doNotTrack = false;
if (!doNotTrack) {
	window.dataLayer = window.dataLayer || [];
	function gtag(){dataLayer.push(arguments);}
	gtag('js', new Date());
	gtag('config', 'G-K2Y212LPQ2', { 'anonymize_ip': false });
}
</script>
<meta property="og:title" content="Ubuntu Applications" />
<meta property="og:description" content="GUI Utilities Chrome 因为 Chrome 安装包的时候会自动添加 gpg，因此可以参考 Bypass GPG signature checks only for a single repository 执行如下操作 $ sudo sh -c &#39;echo &#34;deb [arch=amd64 trusted=yes] https://dl.google.com/linux/chrome/deb/ stable main&#34; &gt; /etc/apt/sources.list.d/google-chrome.list&#39; $ sudo apt update $ sudo apt install google-chrome-stable PS：之前直" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://sakamotokurome.github.io/posts/ubuntup1applications/" />
<meta property="og:image" content="https://sakamotokurome.github.io/Distributions/Ubuntu-logo-2022.svg" /><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2022-03-08T15:32:01&#43;08:00" />
<meta property="article:modified_time" content="2022-03-08T15:32:01&#43;08:00" />

<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:image" content="https://sakamotokurome.github.io/Distributions/Ubuntu-logo-2022.svg" />
<meta name="twitter:title" content="Ubuntu Applications"/>
<meta name="twitter:description" content="GUI Utilities Chrome 因为 Chrome 安装包的时候会自动添加 gpg，因此可以参考 Bypass GPG signature checks only for a single repository 执行如下操作 $ sudo sh -c &#39;echo &#34;deb [arch=amd64 trusted=yes] https://dl.google.com/linux/chrome/deb/ stable main&#34; &gt; /etc/apt/sources.list.d/google-chrome.list&#39; $ sudo apt update $ sudo apt install google-chrome-stable PS：之前直"/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Posts",
      "item": "https://sakamotokurome.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Ubuntu Applications",
      "item": "https://sakamotokurome.github.io/posts/ubuntup1applications/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Ubuntu Applications",
  "name": "Ubuntu Applications",
  "description": "GUI Utilities Chrome 因为 Chrome 安装包的时候会自动添加 gpg，因此可以参考 Bypass GPG signature checks only for a single repository 执行如下操作 $ sudo sh -c \u0026#39;echo \u0026#34;deb [arch=amd64 trusted=yes] https://dl.google.com/linux/chrome/deb/ stable main\u0026#34; \u0026gt; /etc/apt/sources.list.d/google-chrome.list\u0026#39; $ sudo apt update $ sudo apt install google-chrome-stable PS：之前直",
  "keywords": [
    "Unix", "Linux", "Ubuntu"
  ],
  "articleBody": "GUI Utilities Chrome 因为 Chrome 安装包的时候会自动添加 gpg，因此可以参考 Bypass GPG signature checks only for a single repository 执行如下操作\n$ sudo sh -c 'echo \"deb [arch=amd64 trusted=yes] https://dl.google.com/linux/chrome/deb/ stable main\"  /etc/apt/sources.list.d/google-chrome.list' $ sudo apt update $ sudo apt install google-chrome-stable PS：之前直接複製網上的，結果一直報錯，原因在於要寫 https 而非 http。\nImport Passwords\n Launch Chrome on your computer. Type the following in the address bar and pressEnter: chrome://flags On the flags screen, put your cursor in the search box and type Password import. You should see the Password import flag in the search results. To enable this flag, click the dropdown menu next to the flag and select Enabled. Click Relaunch at the bottom to relaunch Chrome. This will restore all of your open tabs. When Chrome opens, click the three dots in the top-right corner, and select Settings  Passwords on the following screen. Click the three dots next to Saved Passwords and select Import. Navigate to your CSV passwords file and select it to import it into Chrome.  User Data Directory\n [user data dir] ~/.config/google-chrome [profile dir] ~/.config/google-chrome/Default [user cache dir] ~/.cache/google-chrome/Default  Dark Mode\n注意：以下设置部分在 Android 端依然有效。\n设置：\n Appearance = Use GTK：在系统启用 Dark 模式下，会使窗口，标签页等浏览器上部分变黑暗 启用 chrome://flags/#enable-force-dark：会使设置页，网页黑暗；在Google 搜索页面，设置 = 外观 = 深色主题，可以使搜索结果词条访问过的与没有访问过的相区别（如果没有设置就会呈现一个颜色而无法区分）。有些网页也无效，并且完全看不清文字了，解决办法是启用 Enable with increased text contrast，例如依云的博客。  其他：\n Dark reader 插件：会使网页黑暗。有些页面不起作用，比如 chrome web store、chrome 的设置页、插件、一些网站（即使该网站有黑暗模式，并且跟随系统，依旧显示为 light 模式）。除了无效的，不会使网页变得更难看。 开发工具的暗黑设置：按F12 = 按F1 ，设置主题为 Dark。  断点续传\n含义：\nPause it with the option built-in to Chrome, and hibernate the computer. If the SERVER that is providing the download supports resuming downloads, then after you resume from hibernation, you should have no issues resuming the download.\nAfter you pause the download, there is no need to touch Chrome. Just pause, and hibernate. By that I mean, don’t close Chrome. Don’t kill it or edit anything. Just pause the download, leave Chrome up and running, and hibernate.\n明确需求：我要的不是“断点续传”（即 Pause \u0026 Resume），而是类似aria2 的“始终断点续传”，前面一种在下载失败后会重新开始下载，而后面一种从失败的地方继续下载。\n方案如下：\n 旧版chrome://flags/#enable-download-resumption，新版内置 Chrono Download Manager 扩展 支持断点续传的下载器，如 wge -c link  Live Caption\nChrome 浏览器内置了实时字幕功能，同步将语音转成文字，显示在网页上，对于看英文视频、听英文播客很有用。\nPWA\nPWA（Progressive Web Apps，渐进式 Web 应用）运用现代的 Web API 以及传统的渐进式增强策略来创建跨平台 Web 应用程序。这些应用无处不在、功能丰富，使其具有与原生应用相同的用户体验优势。\nSpotify、抖音、 微博等都有 PWA 版，只需打开网页，点击搜索栏中右侧电脑图标安装就行了。\nTranslate\n每次打开页面，都弹出翻译来，真得很烦，可以在 Language 中关闭 Offer to translate pages that aren’t in a language you read，之后再通过右键\nRemove history of input in Chrome\nTo remove autofill data in chrome. You will have to Clear your auto fill data.\n Open the chrome menu using the three dots in the top, right side of your window and click settings, or navigate to chrome://settings in your address bar. Scroll to the bottom and go into the ‘Advanced’ section Under ‘Privacy and security’ select ‘Clear browsing data’ Then make sure only ‘Auto-fill’ form data is selected and press the Clear data button Chrome has now removed your auto fill data.  Extensions  Reader Mode: A feature-packed distraction-free web reader with dyslexia support and research tools PixelZoomer：测量设计图中图片的尺寸、像素 Download All Images：下载网页所有图片 uBlock Origin：禁广告 沙拉查词：聚合词典专业划词翻译 Infinity New Tab：Chrome Extension，解决 Chrome new tab 加载后会清空搜索栏问题 DeepL Translate：评论家对于它的评价普遍正面，认为它的翻译比起Google翻译更为准确自然。  用户脚本管理器 桌面端\n Chrome：Tampermonkey 或 Violentmonkey Firefox：Greasemonkey、Tampermonkey 或 Violentmonkey Safari：Tampermonkey 或 Userscripts Microsoft Edge：Tampermonkey Opera：Tampermonkey 或 Violentmonkey Maxthon：Violentmonkey AdGuard：（不需要其他软件）  脚本\n FastGithub 镜像加速访问、克隆和下载 秒传链接提取：用于提取和生成百度网盘秒传链接 知乎增强：移除登录弹窗 网页复制限制解除 解锁视频  Chromium Chromium 是一款来自 “The Chromium Project” 的开源图形网络浏览器，基于 Blink 渲染引擎。它也是商业软件 Google Chrome 浏览器得以组成的基础。\n在这里你可以看到 Google Chrome 与 Chromium 浏览器的区别。此外，还有一点重要的不同：2021年3月2日发布的 Chromium 89 及其以后版本不再支持 Google 账户同步功能。\n注意： 目前，可以通过 使用 Chrome 的OAuth2 凭证或者 申请一个属于自己的凭证来恢复同步功能, 但是请注意，这不一定是一个长期的解决方案。长期来讲，最好考虑使用 xbrowsersync 来同步书签数据。\nFirefox 设置\n Sign In = Sync Settings = Proxy = no proxy Settings = Search = Bing Settings = Home = Firefox Home Add-ons = Dark Reader  Multimedia Codecs\n主要用于 Firefox，安装媒体解码器来播放 MP3、MPEG4 和其他格式媒体文件。由于各个国家的版权问题， Ubuntu 在默认情况下不会安装它。\n$ sudo apt-get install ubuntu-restricted-extras GoldenDict 人一生离不开词典。无论是生活、学习还是工作，当我们遇到不懂的词语时，大部分人的解决方法是使用搜索引擎或者查词软件。作为学习者，我认为查词软件更好用，而且一本或几本好词典能让我们学习事半功倍。而免费查词软件我推荐 GoldenDict。\nGoldenDict 的优点：\n 免费 纯净无广告 == 专注 跨平台：Windows / Mac / Linux 支持多种词典格式 支持查维基百科 / 支持在线查词 / 支持在线翻译（需配置） 支持屏幕取词 == 划词释义 支持听取 forvo.com 上的发音 详见 GoldenDict 官网 的权威说明。  GoldenDict 的缺点：\n 无 OCR 屏幕取词 / 无截屏翻译 无单词本。  知道 GoldenDict 的优缺点后，充分利用其优点的同时，我们想办法补齐短板。\nGoldenDict 擅长查词，不擅长文本翻译，可是查词和文本翻译是分不开的，都是我们学习第二语言时经常需要的功能。为此，我引入两个文本翻译程序：CopyTranslator / Saladict。\n无论你用什么电脑操作系统，都能利用它们进行高效率的查词和文本翻译。我认为这对用户很重要。只要我在系统里，我就能随时查词和文本翻译。\n GoldenDict 擅长查词：\n意味着你可以管理多个词典，并利用好的词典对单词进行深度学习。你把 GoldenDict 想成一个书架，上面放了多本纸质词典供你查阅。\nCopyTranslator / Saladict 擅长文本翻译：\n意味着能极大提高你在文本翻译时的效率。比如拥有多个翻译引擎（Google，Baidu，Youdao 等），方便复制翻译结果等。当然，职业译者肯定使用专业的 CAT 软件。\n 好，下面开始学习使用 GoldenDict。\n安装  **Windows：**下载安装最新版，当前为 [GoldenDict-1.5.0-RC2-372-*.exe（2019-04-27）](https://sourceforge.net/projects/goldendict/files/early access builds/)。 **macOS：**下载安装最新版，当前为 [GoldenDict-1.5.0-RC2-372-*.dmg（2019-04-27）](https://sourceforge.net/projects/goldendict/files/early access builds/MacOS/)。 Linux ：终端上执行安装命令  # Ubuntu / Debian sudo apt install goldendict -y 下面我在 Linux 上做演示操作。（Windows / macOS 大同小异）\n打开 GoldenDict 如果你一直用鼠标点击软件图标打开软件，我强烈建议你用更高效的方式——搜索打开应用。按 Super（Win） 键搜索 gold 再按 Enter 键打开程序：\n第一次使用，建议阅读两遍 欢迎说明。\n 为什么搜索打开应用更高效？这就考验你有没有「搜商」了。搜索只依赖键盘，不依赖鼠标，所以能盲开应用。\n 修改语言 菜单栏选择**【编辑】【首选项】**：根据需要修改界面语言和显示风格。\n管理词典 下载词典 我选了 4 部体积小的词典进行快速演练：\n词典来源：星际译王词库 词典下载\n Oxford Advanced Learner’s Dictionary oxford-gb dictionary (en - zh_CN) 牛津现代英汉双解词典 朗道汉英字典 新华字典  存放词典 根据个人情况选择存放位置。我这里放在 /DATA/Software/GoldenDict/dic/ 下。\n导入词典 菜单栏选择**【编辑】【词典】【词典来源】【文件】 添加** 选择上一步的词典位置打开，点击 重新扫描 完成后 Apply 应用，切换到**【群组】**选项卡接着完成下一步词典分组。\n词典分组 刚才下载了「四类」词典：英汉、英英、汉英、汉语，需要将它们按类分组。（这里的英汉包括英汉词典和英汉双解词典，同样，汉英包括汉英词典和汉英双解词典。）\n选择**【群组】 添加群组**，然后在左边 可用词典 中选中，点击中间  添加到分组，最后 OK 确认：\n 英汉（En - 中）（自定义快捷键：Ctrl-1）：牛津现代英汉双解词典 英英（En - En）（自定义快捷键：Ctrl-2）：Oxford Advanced Learner’s Dictionary 汉英（中 - En）（自定义快捷键：Ctrl-3）：朗道汉英字典 汉语（Chinese）（自定义快捷键：Ctrl-4）：新华字典\n  为什么需要分组？当词典很多时，提高检索速度和分类检索。所以，你也可以按使用频率进行分组，比如分一个 最常用 群组。你喜欢就好。\n 使用 复制查词 最笨最原始的方式，就是复制词语再跑到 GoldenDict 窗口粘贴查询。怎么样才叫不笨呢？\n菜单栏选择**【编辑】【首选项】【热键】**可以看到。\n热键 Ctrl+C+C 的意思是，选中需要翻译的词句，按住 Ctrl 再按两下 C 键 ，就能呼唤 GoldenDict 帮你翻译。\n所以正确的查词姿势是：选中词句，Ctrl+C+C。\n下面我列了两个场景现场操练一下（需要完成前面的步骤）：\n 英文场景： 此时你正趴在屏幕前哭逼地学习英文。\nQ：What do I need to plant a flower? A：I need fresh soil and a trowel to dig a hole.\n 我们可以猜出 Trowel 的意思，现在假设你不知道，赶紧选中 Trowel，Ctrl+C+C，在 牛津现代英汉双解词典 里查到是小铲子的意思。\n 中文场景： 此时你正趴在屏幕前读苏轼的《赤壁赋》。\n客有吹洞箫者，倚歌而和之。 其声呜呜然，如怨如慕，如泣如诉；余音袅袅，不绝如缕。 舞幽壑之潜蛟，泣孤舟之嫠妇。\n 假设你不知道 嫠 字怎么读，这时候赶紧选中 嫠，Ctrl+C+C，马上就查出来了读嫠（lí）专指寡妇。\n取词窗口 上有一些按钮，鼠标悬停在上面会弹出解释，常用的是导航栏中的 查询框 、**将词条发送到主窗口（alt-W）**以及 添加收藏（ctrl-E）。 默认在 全部 群组中查询，可以切换到特定群组进行查询。不要怕，不要懒，多点点看看，就能用好这款神器了。\n手动查词：模糊匹配 在查询框中，利用通配符进行词目（headwords）的模糊匹配，可以查询一个记忆模糊的单词。\n通配符：？ （匹配任意一个字符），*（匹配任意字符数字）。\n比如，我要查一下 philosophy 的用法，但是忘记了拼写，我可以搜 ph*phy。使用方法非常简单，不做过多介绍。\n如果实在想不起来英文单词，就查查汉英词典。\n前面四部词典是为了快速演练。下面我将使用我喜欢的词典进行展示，这些词典内容丰富（体积很大），会有更好的展示效果。这些词典在下文 英语词典推荐 部分有介绍。\n调整界面 我们要记住快捷键 Ctrl+M，显示 / 隐藏菜单栏（Menu）。程序窗口中 7 个面板都可以被隐藏，从上到下，从左到右依次为：\n 菜单栏 查询面板 导航栏 词典栏 查询结果导航面板 收藏面板 历史面板  在面板标题上右键，可以选择是否显示该面板。还可以左键拖拽面板调整其位置。我喜欢隐藏菜单栏显示查询面板：\n按住 Ctrl 后滑动鼠标滚轮，可以缩放显示界面。也可以使用导航栏上的放大镜按钮调节。\n我的这部词典有发音，所以可以点击喇叭图标听发音。如果点击喇叭图标没有声音，菜单栏选择**【编辑】【首选项】【音频】 播放  设置播放器**，我这里使用了内部播放器： Qt Multimedia 。当然也可以使用外部播放器：mplayer 。(前提是安装了 mplayer ：sudo apt -y install mplayer)\n排序词典 查找单词时，会按照词典栏的词典顺序进行检索，现在我想把 The little dict 放到第一的位置：菜单栏选择**【编辑】【词典】【词典】**，把 The little dict 拖到第一位。\n这里调整的是默认群组 全部 中的词典顺序，要调整自定义群组的词典顺序，切换到【群组】选项卡，拖拽群组中的条目进行排序。\n屏幕取词 / 划词释义 Ctrl+C+C 是大多数时候的正常查词姿势，不过在特定场景下，比如阅读生词较多的英文文章、英文书籍时， 打开屏幕取词会使效率提升。点击导航栏中魔法棒图标开启屏幕取词，或者右键托盘图标勾选「屏幕取词」。Windows 上是真的屏幕取词，即鼠标悬停取词；而 Linux 上为划词释义，需要手动选择。\n按 F4 打开【首选项】，在屏幕取词选项卡可以对「屏幕取词」进行设置。除非 Ctrl-C-C 快捷键冲突，否则，保持默认就行。\n LCinux 上，如果你觉得经常按 Ctrl+C+C 麻烦，更喜欢用C鼠标控制取词，你可以勾选「单词被选中时显示扫描旗标」，通过点击旗标进行查词。（Windows 版本没有此选项）\n 一起看看 GoldenDict 与浏览器翻译扩展程序之间的差别：\n 统一入口，使用同一个程序 / 使用自己喜欢的词典来学习； 利用英汉词典快速查看释义，同时可利用其他词典深入学习，边学边用学习效率高（前提是时间允许）； 有些人说扩展更快速，我没感觉出来； 可以跨浏览器、跨软件使用； 离线使用，你可以愉快地看电脑上的英文（DOC、PPT、TXT、PDF、EPUB、HTML 等任何电子文档格式）；  查词：在线词典 本地词典可以灵活选择适合自己的词典，非常惬意！但是本地词库收词有限，如果你遇到一个没有收录的单词，怎么办？\n只能查在线词典了！\n为 GoldenDict 添加在线词典非常简单。\n菜单栏选择**【编辑】【词典】【词典来源】【网站】 添加  启用** ：\n# 欧路 https://dict.eudic.net/dicts/en/%GDWORD% # 有道词典 / 翻译 http://dict.youdao.com/search?q=%GDWORD%\u0026ue=utf8 # Collins Online Dictionary https://www.collinsdictionary.com/dictionary/english/%GDWORD% 切换到【群组】选项卡，添加到名为 Online Dictionary 的群组（自定义快捷键：Ctrl-5）。\n其他在线词典，可通过浏览器访问使用：\n 牛津在线词典 朗文在线词典 剑桥在线词典 韦氏在线词典 Vocabulary.com Dictionary.com 沪江小D在线词典 漢典  查词：维基百科 维基百科绝对是个好东西！\n由于国内无法访问到 English Wikipedia，所以这里取消显示。（除非你在【首选项】【网络】中通过代理访问）\n菜单栏选择**【编辑】【词典】【词典来源】【维基百科】**，取消勾选。\n查词：搜索引擎 是的，聪明的你一定会想，我可以直接添加搜索引擎吗？可以的。下面是谷歌 / 搜狗 / 百度 / 必应的搜索串：\n# Bing 中国： http://cn.bing.com/search?q=%GDWORD% # Bing 美国： http://www.bing.com/search?q=%GDWORD% # 搜狗 http://www.sogou.com/web?query=%GDWORD% # 百度搜索 http://www.baidu.com/s?wd=%GDWORD% # Google https://google.com/search?q=%GDWORD% 菜单栏选择**【编辑】【词典】【词典来源】【网站】 添加  启用**。切换到【群组】选项卡，将其添加到 Online Dictionary 群组。\n这里我添加必应搜索并查询 蜗牛，然后双击结果 snails 进行英文搜索，可查看搜索引擎里的图片，帮助我们理解记忆单词。因为词典里面配图一般比较少，搜索引擎将使你获得更多相关信息，辅助学习（警惕浪费时间）。\n文本翻译：谷歌翻译 （Linux 上做演示）：如果不显示翻译，可能是代理之类的问题，可以先在终端运行一下 goldendict，之后便没问题了（原因未知）\ntranslate-shell 支持谷歌翻译或者必应翻译，我们可以在 GoldenDict 上利用其进行文本翻译。\n第一步：安装 translate-shell\nLinux\n# Ubuntu $ sudo apt install translate-shell -y macOS\n# Homebrew $ brew install translate-shell # MacPorts $ sudo port install translate-shell Windows\n 配置比较繁琐，推荐使用 xinebf/google-translate-for-goldendict（使用方法见后面）。或者使用 CopyTranslator。  第二步：菜单栏选择**【编辑】【词典】【词典来源】【程序】 添加**，进行如下配置（类型为纯文本）：\n# Google Translate - [Chinese] trans -e google -s auto -t zh-CN -show-original n -show-original-phonetics n -show-translation n -show-translation-phonetics n -show-prompt-message n -show-languages n -show-original-dictionary n -show-dictionary n -show-alternatives n -no-ansi \"%GDWORD%\" # Google Translate - [English] trans -e google -s auto -t en-US -show-original n -show-original-phonetics n -show-translation n -show-translation-phonetics n -show-prompt-message n -show-languages n -show-original-dictionary n -show-dictionary n -show-alternatives n -no-ansi \"%GDWORD%\"  -show-original Show original text or not. (default: yes) -show-original-phonetics Show phonetic notation of original text or not. (default: yes) -show-translation Show translation or not. (default: yes) -show-translation-phonetics Show phonetic notation of translation or not. (default: yes) -show-prompt-message Show prompt message or not. (default: yes) -show-languages Show source and target languages or not. (default: yes) -show-original-dictionary Show dictionary entry of original text or not. (default: no) This option is enabled in dictionary mode. -show-dictionary Show dictionary entry of translation or not. (default: yes) -show-alternatives Show alternative translations or not. (default: yes) -no-ansi Do not use ANSI escape codes.  第三步：切换到**【群组】 添加群组  Translate**，并添加 图标，设置群组快捷键为 Shift+T（可选）\n第四步：实践一下，在终端中 Ctrl+C+C，查询框处选择 Translate 群组，就看到翻译结果啦\n添加在线翻译后，GoldenDict 就能跨软件快速翻译。无论你是在浏览网页，还是在阅读英文书籍，或者看软件英文手册， Ctrl+C+C 快速查看翻译。你还可以收藏你翻译过的短语。\nWindows 上使用 google-translate-for-goldendict：\n到 Python 官网下载最新版安装包，当前为 python-3.8.2-amd64.exe，安装时勾选 Add Python 3.8 to PATH 就行。\n打开 CMD 运行：\n python -m pip install --upgrade pip  pip3 install google-translate-for-goldendict  先升级 pip 至最新版，然后再安装。\n 按 F3 打开 GoldenDict 词典配置界面， 进入【程序】选项卡：\n   key value     Enabled ✓   Type Html   Name Google Translate   Command Line python -m googletranslate.googletranslate zh-CN %GDWORD% -s “translate.google.cn”   Icon H:\\PathTo\\google_translate.png    切换到**【群组】 添加群组  Translate**，并添加 图标，设置群组快捷键为 Shift+T。\n文本翻译：有道翻译 在 Linux 上，利用 easeflyer 开发的 gd_plugin 添加有道翻译。\n将项目克隆下来：\n$ cd ~ $ git clone git@github.com:easeflyer/gd_plugin.git 按 F3 打开 GoldenDict 词典配置界面， 进入【程序】选项卡（路径替换为自己的绝对路径）：\n   key value     Enabled ✓   Type Html   Name Youdao Translate   Command Line /home/YOUR_USER_NAME/gd_plugin/youdao/youdao_get.py %GDWORD%   Icon /home/YOUR_USER_NAME/gd_plugin/youdao/youdao.svg    下载图标 Youdao icons。\n切换到【群组】选项卡，将其添加到 Translate 群组。\n文本翻译：CopyTranslator CopyTranslator 是复制即翻译的外文辅助阅读翻译解决方案，支持 Windows、Mac、Linux 三大平台，翻译引擎包括 Google，Baidu，Youdao，Sogou，Caiyun，Tencent。\n下载 CopyTranslator 安装包 进行安装后，使用方法请阅读 CopyTranslator 官方文档。\nCopyTranslator 擅长文本翻译，可是与 GoldenDict 交互使用时不够高效。所以，使用 GoldenDict 能满足需求时，就没必要打开 CopyTranslator。\n 有一款叫做 多译 的软件与 CopyTranslator 有相同功能，但是有字数限制，有兴趣可以了解一下。\n 文本翻译：Saladict Saladict 沙拉查词（Chrome / Firefox）插件天生适合浏览器，Saladict 插件可以在线翻译、在线查词、在线语音朗读、添加单词本、页面翻译等。\n使用方法参阅官方文档 沙拉查词使用方式。以及：\n 别找了，这才是你要的英文文献翻译神器！ 文献翻译利器：沙拉查词 + Quicker，这或许是 Windows 上最强的聚合翻译方案  OCR 屏幕取词 / 截屏翻译 GoldenDict 默认无 OCR 屏幕取词，无截屏翻译。先介绍一种三个平台都通用的方法，使用 Utools + 扩展：讯飞 OCR + 扩展：沙拉查词。步骤为，将要翻译的文本截图粘贴到 Utools 中，然后选择「讯飞 OCR」识别内容，最后点击翻译按钮调用「沙拉查词」进行翻译。操作起来还是比较快的。\n或者使用其他软件：\nWindows\n 使用 Quicker 效率神器。（与 Utools 相似） 使用 nonwill 发布的 GoldenDict OCR 划词版。  macOS\n 使用有道词典 Mac 版。打开取词（CTRL + 鼠标取词）。 欧路词典。  Linux\n 利用 words-picker 进行截屏翻译。在 GNOME 桌面环境中，打开 words-picker 程序，然后使用系统截图快捷键 shift-ctrl-Print 将区域复制到剪贴板，完成截屏翻译。 使用有道词典 Linux 版。打开取词（CTRL + 鼠标取词）。 使用 CuteTranslation 进行截屏翻译。  对于那些无法复制的单词，如果查词频率高，就使用具有 OCR 屏幕取词的软件；如果偶尔查询，手动输入也不是什么坏事。\n文本语音朗读 你可能会说：我不需要语音朗读。那是因为你没意识到它的用处或者说你忽略了它。你一定很喜欢词典中的例句发音，对听力和练习口语都有帮助。例句发音 = 句子 + 语音朗读，发散一下你的思维，当你翻译一个句子时，出于学习目的，你是不是同样希望能够听到它的语音朗读。而且学习英语不能太依赖眼睛，要多用耳朵听。\nWindows 上按 F3 打开词典配置， 在【语音合成】选项卡进行配置；Linux 版本暂时没有 text-to-speech (TTS) 功能。Saladict 够用，我就不折腾了。\n这里再推荐两款优秀的浏览器插件：\n Natural Reader Text to Speech Read Aloud: 文本语音朗读助理  还有一个 灵云语音云服务：\n 它可以 文字转音频 / 录音转文字。 它更加侧重于应用场景，不过现在已经收费了。  总之，根据自己的需求，去寻找好资源。\n背单词 GoldenDict 无单词本，意味着你不能像欧路词典那样，将单词添加到单词本中进行背诵。所以，只能「曲线救国」，将单词添加到收藏，隔一段时间（星期 / 月）就将收藏 导出至列表，然后放到 Anki 或 欧路词典中进行背诵复习。如有必要，付钱换取方便远离折腾。\n将收藏 导入欧路词典单词本：\n 菜单栏选择**【帮助】【配置文件夹】**，可以看到收藏文件：favorites。\nAnki 神器的使用，有兴趣可以深入了解。 干货 / 百科\n 备份配置文件 换机或者重装系统时，需要备份你的 GoldenDict 配置文件。否则，一切将从头再来，你会很痛苦。\n菜单栏选择**【帮助】【配置文件夹】**，直接将整个文件夹进行备份。\n新机或者新系统上，将整个文件夹拷贝到原来的位置，完成配置恢复。\n恭喜！你会使用 GoldenDict 了！ 前面主要介绍了 GoldenDict 的使用方法。为提高文本翻译效率，引入了 CopyTranslator / Saladict 两款程序。为补足 GoldenDict OCR 屏幕取词和截屏翻译的缺失，也引入了相应的软件。我们期望有那么一款软件能聚合这些功能，但这样的软件我还没发现，或者说还没有。\n现在的 GoldenDict 具备了离线查词、在线查词和在线翻译的能力，完全能满足我们的需求。而且 GoldenDict 的离线词库拥有最强的学习效果，所以你应该主要使用 GoldenDict 进行查词和文本翻译，而 CopyTranslator / Saladict 作为备用软件，主要用于增强文本翻译。同时也是为了统一入口，避免分散你的学习精力。具体怎么配合，多多使用，慢慢摸索。\n细心的你不难发现，查词和文本翻译里面最核心的是词典和翻译引擎。\n这里我们讨论一下词典。选用什么词典？我们需要做功课来回答。\n我不打算直接甩几本词典放这里，对于新手，看了一定是云里雾里。\n因为词典是每个人必须会用的东西，所以值得深入学习。\nEnglish Dictionary = 英语词典\n字典和词典是两个不同的概念，不要乱叫。中国正式使用“字典”一词始于《康熙字典》。根据《说文解字》，典是五帝的书本，神圣尊贵的大册。\n字典和词典的区别：\n 字典是为单字提供音韵、意思解释、例句、用法等等的工具书。使用字母文字作为文字的人群没有字典这个概念。字典收字为主，亦会收词。 词典（Dictionary），或称辞典，是为词语提供音韵、释义、例句用法等等的工具书。在东方社会中，词典收词为主，也会收字。为了配合社会发展需求，词典收词数量激增并发展出不同对象、不同行业及不同用途的词典。随着吸收百科全书的元素，更有百科辞典的出现。  如果你把 English Dictionary 翻译成「英语字典」，我只能安慰你：没文化不是你的错！\n掌握词典行情，便于做出选择\n通过了解词典的行情，了解词典应该为学习者提供哪些东西，我们就能选择适合自己的词典。如果同学 / 同事 / 朋友 / 小孩需要词典，也能轻松推荐。做「以其昏昏，使人昭昭」的事，心理没底不说还会被内行笑话。\n下面主要讨论一下英语词典，对于汉语词典或者其他外语词典（日语、法语、德语、俄语或西班牙语等），自行了解。\n提醒：后面的内容可能需要阅读多遍。\n浅谈英语词典版本 我们主要以 出身、体例、功用 以及 规模 四个方面对英语词典进行分类。\n一、出身 从出身上讲，英语词典大致可分为本土词典和引进词典两类。\n 本土词典主要是中国人编给中国人用的英汉词典，典型如译文社《英汉大词典》（陆谷孙主编）、《新英汉词典》（第4版）、商务《新时代英汉大词典》（张柏然主编）等。 引进词典又分为英系和美系两大类。目前英系词典占据中国市场的主导地位，著名的品牌如牛津、朗文、剑桥、麦克米伦、柯林斯，简称“牛朗剑麦柯”（谐音“牛郎见迈克”）合称“英国五虎”，除此还有一部词典叫做“钱伯斯”，对英国人意义非凡。美系词典主要有《美国传统词典》（The American Heritage Dictionary）和“韦氏词典”两大品牌。  二、体例 以体例划分，英语词典可分为英汉、英英、英汉双解、汉英、汉英双解以及其他类别等五种。\n 英汉词典 一般为（wéi）中国人所编写，如译文社《新英汉词典》； 英英词典 都是原版引进词典，如《牛津高阶英语词典》（OALD）、《朗文当代高级英语辞典》（Longman Dictionary of Contemporary English，简称 LDOCE）； 英汉双解词典 是目前英语学习词典的主流，最重要的即是牛朗两部词典，英汉双解词典都译自英语原版词典，但并非真正全文翻译，大多数词目的英语释义以对应的汉语词语。 汉英词典 大多是本土词典，如外研社《新世纪汉英词典》、商务《新时代汉英词典》； 汉英双解词典 比较特殊，它是以国内原版的汉语词典编译而成，据我所知，目前只有外研社《现代汉语词典（双语版）》以及商务印书馆国际有限公司《新华字典（双语版）》两种； 除此以外，其他类别指的是国内引进少量英语与其他语种词典，如译文社引进的兰登系列词典《德英—英德小词典》（Random House Webster’s Pocket German Dictionary）以及外教社引进的《柯林斯英德—德英词典》等。  注：所谓双解词典,是一个英文单词,用英文解释一遍意思,再用中文解释一遍意思;用英文来解释是最准确的,中文可以辅助你去理解。 如果想通过中文查英文,需要一本汉英词典。\n三、功用 首先从功用方面，将英语词典分为描述型、学习型和中和型三大类。\n 描述型  描述型英语词典又称为学术型英语词典，实际上描述型英语词典是最常见的英语词典，换作汉语工具书，诸如《新华字典》《现代汉语词典》都属于描述型词典，相反汉语工具书真正缺乏的学习型词典，除了一些给低幼学童使用的学习词典外，也就只有吕叔湘先生主编的《现代汉语八百词》等寥寥几部辞书。\n我们进一步将描述型英语词典分为一般性、百科性和专业性三种。一般性描述词典典型如《牛津简明英语词典》《英汉大词典》，这类词典收词详备并且释义简明；百科性描述词典则有《牛津当代百科大词典》《牛津英美文化词典》等，主要收录文化百科类词条；专业性描述词典则是局限于某一学科或行业的词典，如《牛津哲学词典》和《牛津商务英语词典》。\n学习型  学习型英语词典是专为英语学习者（多为非英语母语人士）设计的，注重英语实际应用时的用法说明，第一部学习型词典始于 1948 年由牛津大学出版社出版、霍恩比（A S Hornby）主编的《现代英语学习词典》（A Learner’s Dictionary of Current English），此即如今闻名于世的《牛津高阶英语词典》（OALD）的前身。\n我们进一步将学习型英语词典分为一般性、多功能和专门性三种。\n一般性英语学习型词典是我们最熟悉的品种，著名的“英国五虎”——“牛朗剑麦柯”都有自己品牌的学习型词典。（划重点）\n 最新版次，出版年份，出版社\n 《牛津高阶英汉双解词典》第 9 版，2018，商务 Oxford Advanced Learner’s Dictionary (OALD) 9th Edition , 2015 , Oxford 《朗文当代高级英语辞典》第 6 版，2019，外研社 Longman Dictionary of Contemporary English (LDOCE) 6th Edition , 2015 , Pearson 《剑桥高阶英汉双解词典》第 2? 版 ， 2008，外研社 Cambridge Advanced Learner’s Dictionary (CALD) 4th Edition , 2013 , Cambridge 《麦克米伦高阶英汉双解词典》第 1 版，2018，外研社 MacMillan English Dictionary for Advanced Learners (MED) 2nd Edition , 2012 , MacMillan 《柯林斯高阶英汉双解学习词典》第 8 版，2017，外研社 Collins COBUILD Advanced Learner’s Dictionary (CCALD) 9th Edition , 2018 , Collins   注： 关于书籍版次：第一次出版印刷的书写有“某年某月第一版，第一次印刷”，这叫初版，如内容不变动，第二次印就注明第一版第二次印刷，这种书叫重印书。如第三次印刷发行时内容经过重大修改，版次就要重新算，要称为：“第二版第三次印刷”。不过这个问题一般人不用想那么多，只需看自己是否喜欢这本词典，喜欢的话买国内最新版即可，毕竟每家词典各有特色。英语水平好的话，直接购买英文原版就行了。\n中和型  中和型词典兼具学习型词典和描述型词典的部分特点，是当前英语词典编纂的新趋势，典型代表为《朗文当代英语大辞典》，在 2000 词限定释词的基础上收录了 15,000 百科词条，是融合释义、用法说明、文化注释以及百科知识于一体的文化学习词典。与此相类的另有《美国传统词典》。\n四、规模 这是对英语词典最直观的分类，一般而言我们可以根据收词量和总字数将英语词典简单分为巨、大、中、小、微型五大类。\n 巨型词典  英语世界中的巨型词典主要有两部，一部即是由英国语言学家默里（James A.H.Murray）主编的久负盛名的《牛津英语词典》（The Oxford English Dictionary，简称 OED），另一部则是最初由美国词典编纂家韦伯斯特（Noah.Webster）主编的《韦氏新世界词典》（Webster Third New International Dictionary，简称 WTNID）。这两部词典是其他各类英语词典的母本，但却因其规模过大并不适合学习者案头使用。\n大型词典  因此 20 世纪下半叶英语国家出版了大量单卷本供高阶学习者案头使用的大型词典，典型的有《牛津简明英语词典》（Concise Oxford Dictionary，简称 COD）、《柯林斯COBUILD英语词典》（Collins COBUILD English Dictionary，简称 CCED）以及《朗文当代英语大辞典》（Longman Dictionary of English Language \u0026 Culture，简称 LDELC）；\n中型词典  后来又有供中阶学习者使用的中型词典，主要有《牛津袖珍英语词典》（Pocket Oxford Dictionary，简称 POD）、《朗文活用英语词典》（Longman Active Study Dictionary，简称 LASD）；\n小型词典  其实除了案头常备的大中型词典，人们更为喜爱和常用的或许是那些便携的小型词典，如《牛津英语小词典》（Little Oxford Dictionary，简称 LOD）；\n微型词典  除此以外，还有一种更其小巧的微型词典，释义极尽简洁，如《牛津英语微型词典》（The Oxford Minidictionary，简称 OMD），但这类词典一般用于速查，不适合英语学习者日常使用。\n词典应该为学习者提供哪些东西 用一本好词典你可以做到以下几点：\n 查找你看到或听到的英语单词的意思 找出如何说一个词 用你的语言找到一个单词的英文翻译 检查单词的拼写 检查动词的名词或过去时态的复数形式 找出一个单词的其他语法信息 找出一个词的同义词或反义词 查找单词的搭配 检查单词的词性 找出单词的语域 查找自然语言中单词的用法示例 听到例句的真人发音 查看配图学习单词 查看单词错误用法 观看单词在线教学视频（想象一下，当你查一个单词，一位美女 / 帅哥马上跳出来教你。恐怕你要天天抱着词典睡觉喽。）  所以，按照类型我们需要四种电子词典：英汉、英汉双解、英英、汉英。\n英汉词典：\n英汉词典主要是快速查看英语单词的中文释义。\n英汉双解词典：\n英汉双解词典对中级学习者当然非常友好，可以借助汉语翻译快速理解。如果查询一个单词需要耗费大量时间阅读英文解释，有时候是不明智的做法，并且，如果查一个单词里面又出现一大堆不认识的单词，太打击学习积极性了！另外，英汉双解词典是双向的，一般人是借助汉语理解英文，也有情况是借助英文查看对应的汉语翻译。所以，每个人必须有一本英汉双解词典。\n英英词典：\n当你英语到了一定水平（中高级水平）后，就应该主要使用英英词典。\n英英词典分两种：ESL 词典（ESL: English as a second language）以及 Non-ESL 词典（又称母语词典）。Non-ESL 词典是指英美国家人士使用的词典，特点是收词量大，释义用词精确，范围广，无上限，很多词典例句很少或没有，有点类似于我们用的《新华字典》和《汉语大词典》 。ESL 词典就是上小节提到的学习型英语词典，专为英语学习者（多为非英语母语人士）设计，其优点是简单易懂，但其缺点也比较明显，由于释义用词所限，部分单词的解释比较啰嗦或者不精确，理解起来也不顺畅。\n至于使用 ESL 词典还是 Non-ESL 词典，或者两者混合使用，就看你的需求了。\n汉英词典：\n使用汉语查找英文翻译或英文表达。\n 翻译软件的词库就来自于这些「英汉词典」和「汉英词典」。\n 有了上面的介绍，我可以推荐几本词典了。\n英语词典推荐 1. 英汉词典：The Little Dict 用来提供快速翻译，还能聆听多个发音以及查看词频。「硬核之作，真香推荐，居家旅行沉迷学习必备，建议日常置顶食用。」下载\n2. 英英·英汉双解词典（ESL）  朗文当代高级英语辞典（释义用词 2000 个） 柯林斯高阶英语学习词典（释义用词 2500 个） 牛津高阶英语词典（释义用词 3000 个）  2.1 朗文当代高级英语辞典\n英英原版\n Longman Dictionary of Contemporary English 6th Edition (En-En)，En-En_LDOCE6。 《朗文当代高级英语辞典（英英）（第六版）》，包含英式发音、美式发音、大部分例句朗读，带图片详解。这本词典收录单词量最大，例句最多，搭配和用法也最全。例句是真人原声，非常自然。 英语老师都会倡导学生尽量使用英英词典，营造英语环境，用英文解释英文，用英文理解英文，用英文对世界编码，有利于养成英语思维，对听说读写都有帮助。全英文解释，不会因为英汉差别而导致理解上的偏差。当然，英汉双解词典我们也是需要的。  英汉双解版\n En-Cn_LDOCE5++ V1.35 / V2.15。下载 《朗文当代高级英语辞典（英英·英汉双解）（第五版）》 这本词典默认是英英版，可以通过点击轻松查看汉语翻译。对于直接使用英英有些吃力的同学，可以设置默认展开汉语，立马就是一本英汉双解词典。释义用词仅 2000 个，让你轻松看懂。大量例句都有真人发音，让你爱上听例句。  PDF 版\n 《朗文当代高级英语辞典（英汉双解）（第五版）》。下载  朗文在线词典\n www.ldoceonline.com  2.2 柯林斯高阶英语学习词典\n英英原版\n Collins COBUILD Advanced Learner’s Dictionary 9th Edition (En-En)，En-En_CCALD9。  英汉双解版\n Collins COBUILD advanced learner’s English-Chinese dictionary 8th Edition。 《柯林斯COBUILD高阶英汉双解学习词典》（第8版）中的全部释义、例证及专栏均基于收词规模达 45 亿词的柯林斯英语语料库；所有单词及短语均采用整句释义，凸显词汇在典型语境中的典型用法。 强烈推荐！可以直接背诵单词及短语的整句释义，这就好比一个外国人在跟你交谈，对英语思维以及口语表达都有莫大的帮助。  柯林斯在线词典\n www.collinsdictionary.com  2.3 牛津高阶英语词典\n英英原版\n Oxford Advanced Learner’s Dictionary 9th edition (En-En)，En-En_OALD9。下载 包含英式发音、美式发音，例句发音，带图片详解等。  英汉双解版\n Oxford Advanced Learner’s English-Chinese Dictionary 9th Edition，En-zh_CN_OALD9。下载 《牛津高阶英语词典》为世所公认的权威英语学习词典，惠及世界各地一代又一代学子。到第九版编者将会话与写作功能融入学习型词典。 释义简明，义项划分清晰；提供系统的语法信息，如搭配模式、用法说明框等；提供插图及主题图片，直观释义。新加牛津口语指南，详解日常及应试等场景会话用语。 纸质版配套光盘中提供 iWriter + iSpeaker 互动式写作和口语指导学习程序。  牛津在线词典\n www.lexico.com www.oxfordlearnersdictionaries.com  3. 汉英词典（任选一部）  汉英大词典（第3版） 新汉英大辞典  一般人上面几部词典基本够用。如果链接失效，可以试试 网盘搜索（超能搜 等）或者 逛论坛。\n英语构词法规则 GoldenDict 安装的时候没有附带 构词法规则，查找一些单词的复数等变位变格形式的单词有时会查不到（比如有些词典查不到 Books，不会自动跳转到 Book），为了让 GoldenDict 更好地工作，我们添加 英语构词法规则库。\n进入 SourceForge 上 GoldenDict 的项目地址，依次选择 Files  [better morphologies](https://sourceforge.net/projects/goldendict/files/better morphologies/)  [1.0](https://sourceforge.net/projects/goldendict/files/better morphologies/1.0/)  [en_US_1.0.zip](https://sourceforge.net/projects/goldendict/files/better morphologies/1.0/en_US_1.0.zip/download) 下载英语构词法规则库。\n菜单栏选择**【编辑】【词典】【词典来源】【构词法规则库】**，添加 英语构词法规则库。\n朗文5 ++：自动展开音节（Syllable）及汉语（Chinese） 我是 En-Cn_LDOCE5++ 和 En-En_LDOCE6 一起使用，所以把 LDOCE5++ 设置为自动展开音节及汉语。\n下面介绍一下设置方法，适用于 En-Cn_LDOCE5++（V1.35 / V2.00 / V2.15）。\n自动展开音节（Syllable）\n打开文件 LM5style.css 搜索 show/hide syllable 注释掉以下代码块：\n/* -------------- show/hide syllable ------------- .HWD .HYP { display: none; }*/ 调整手机中悬浮球高度\n手机欧路词典中 LDOCE5++ 的悬浮球会与控制按钮重叠，需要调整其高度。搜索 .mobile .lm5pp_popup 设置距离底部为 90px：\n.mobile .lm5pp_popup { bottom: 90px; right: 10px; } 自动展开汉语（Chinese）\n打开 LM5style_switch.css 注释掉以下代码块：\n/*.EXAMPLE .cn_txt, .Error .cn_txt,.cn_txt { display: none; }*/ 可以偷懒直接删除 LM5style_switch.css（或者重命名为 LM5style_switch.css.bak）。但是，你将不能在悬浮球上控制隐藏/显示汉语。\n 如果你直接修改手机中的 CSS 文件，需要清除软件缓存再重启 App 才能生效。 如果你在电脑上修改，Ctrl+F5 可以快速刷新词典查看效果。 更多调整参见 FF朗文5++重排 DIY / 改版 fearfare 大的朗文。\n GoldenDict 进阶技巧 效率提升：快捷键 除了全局热键外，GoldenDict 还支持许多程序快捷键。按 F1 快捷键打开 GoldenDict 帮助， 查看 13 Shortcuts。\n第一次使用，按照快捷键列表操作一遍。主要是感受一下快捷键的功能，不要求强行记忆它们，当你经常进行某项操作时，再翻阅一下 13 Shortcuts，用几次就记住了。\n常用快捷键：\n   Shortcut Action     Alt+Left (In main and popup windows) history navigation: show previous founded results   Alt+Right (In main and popup windows) history navigation: show next founded results   Alt+Down Jump to article from next dictionary   Alt+Up Jump to article from previous dictionary   Alt+S (In main and popup windows) playback pronunciation for current word   Alt+W (In popup window) transfer word from search line to main window   Alt+PgDown (In main and popup windows) switch to next dictionaries group   Alt+PgUp (In main and popup windows) switch to previous dictionaries group   Ctrl++ Increase articles font size   Ctrl+– Decrease articles font size   Ctrl+0 Set default articles font size   Ctrl+E Add current tab to Favorites   Ctrl+F (In main and popup windows) search in page / (In dictionaries dialog) go to filter line   Ctrl+M Show/hide main menu   Ctrl+Q (In main window) close GoldenDict   Ctrl+S Show/hide search pane   Ctrl+Shift+F Open/switch to full-text search dialog   Esc (In main window) go to search line (the action for Esc key can be changed in preferences) / (in popup window) close popup window   F1 GoldenDict reference   F3 Dictionaries dialog   F4 GoldenDict preferences    查句：全文搜索 按 F1 打开 GoldenDict 帮助， 查看 09 Full-text search。\n可以通过菜单“搜索”或按“Ctrl+Shift+F”键来调用全文搜索对话框。通过全文搜索，可以在当前词典组的词典文本中而不是在词典 headwords（词目）中搜索单词和表达式。\n **提醒：**如果 GoldenDict 占用 CPU (%) 超高，请关闭全文搜索索引。看一下文章 GoldenDict 全文搜索几例。\n 利用「全文搜索」查找英文表达，显然比直接将一句中文放到翻译软件中翻译更靠谱，比如下面这句摘自 牛津高阶英汉双解词典（第 9 版） 的例句：\n I’ll ask my boss if I can have the day off. 我要问一下老板我能不能请一天假。\n现在我复制中文到谷歌翻译中翻译，结果如下： I have to ask the boss if I can take a day off.\n 很显然翻译出来的英文枯燥无味。\n  下面举例简单介绍一下，使用「全文搜索」查找地道的英文表达。\n 例子：我想知道请假的的英文表达，包括日假周假年假。我该如何搜索？\n 快捷键 Ctrl+Shift+F 打开全文搜索，模式选择 正则表达式。\n如果直接检索 请假 这个关键词，会因范围太大，需要更多检索时间，最后还会出来很多无用结果，所以我们需要缩小检索范围。\n先检索日假。直接输入 请一天假，这个地球人都会，但「请两天假」的表达式就搜不到。现在，我们要一次检索出「请天假」的表达式，输入正则表达式：请.{1,3}天假（中间匹配 1-3 个字符）。\n理论上，我们可以匹配出：请一天假 请两天假 请几天假 请过一天假 请了十五天假 ...\n .：一个点，匹配任意单字符（不包括换行符） {n,m}：m 和 n 均为非负整数，其中 n 现在，我们要把请日假 / 周假 / 年假的表达式一次搜出来。 给搜索框写入正则表达式：请.{1,3}(天|周|年)假，就查出来了。\n ()：标记一个子表达式的开始和结束位置。()? 匹配前面的子表达式零次或一次，()+ 匹配前面的子表达式一次或多次。 |：代表 或\n 正则表达式学习资源：\n 正则表达式 – 语法 _ 菜鸟教程 油管最受欢迎的+正则表达式教程【11集】 练习正则表达式的网站：RegExr  多读几遍 GoldenDict 帮助，掌握更多使用技巧。\n其他  GoldenDict 界面显示风格、字体、背景等的修改 GoldenDict 专贴！  参考文章  GoldenDict 中文用户手册 新手上路：GoldenDict——英语爱好者必备词典 [使用教程] Linux 上最好用的词典 GoldenDict 在 GoldenDict 中添加谷歌翻译 Ubuntu 安装 GoldenDict 英语词典版本浅谈（讲稿版） Linux 下非常好用的字典 GoldenDict！ GoldenDict 添加构词法规则库 GoldenDict 词典的超级实用高级玩法——全文搜索功能  Dark Theme GoldenDict Dark Theme\n官方教程。\nGoldenDict-Full-Dark-Theme\n这个主题有个全黑暗模式，即显示词典结果部分也会黑暗，但是效果不好，看不清。\nDownload GoldenDict-Full-Dark-Theme Move styles and fonts folders to the GD Configuration Folder. If GoldenDict is installed by default, the GD Configuration Folder is located at the ~/.goldendict Move the icons folder to the GoldenDict program folder /usr/share/goldendict Open GoldenDict menu “Preferences… → Interface”: set “Add-on style” to dark-theme; set “Display style” to Lingoes. set “Display style” to Default.  startup \u0026 silent start   startup：将 goldendict 添加到 gnome-session-properties，默认生成的是\n$ cat ~/.config/autostart/goldendict-owned-by-preferences.desktop [Desktop Entry] Type=Application Terminal=false Categories=Office;Dictionary; Name=GoldenDict GenericName=Multiformat Dictionary Comment=A feature-rich dictionary lookup program Icon=goldendict Exec=goldendict   silent start：Edit = Preferences = start to system tray 就是静默启动\n  crow-translate Flameshot Powerful, yet simple to use open-source screenshot software.\n   Keys Description     ←, ↓, ↑, → Move selection 1px   Shift + ←, ↓, ↑, → Resize selection 1px   Esc Quit capture   Ctrl + C Copy to clipboard   Ctrl + S Save selection as a file   Ctrl + Z Undo the last modification   Right Click Show color picker   Mouse Wheel Change the tool’s thickness    Add a new Shortcuts\n On ‘Name’, name it ‘Flameshot’ Define the command as ‘flameshot gui’. Select ‘Define shortcut…‘and click your keyboard win + shift + Prt Sc key.  PPSSPP A PSP emulator.\n$ sudo add-apt-repository ppa:ppsspp/stable $ sudo apt-get update $ sudo apt install ppsspp Graphics:\n Rendering Mode  set the Backend from OpenGL to Vulkan.   Framework Control  Frameskipping is Off Auto-Frameskip is Off set the Alternative Speed to Unlimited   Postprocessing effects  Postprocessing shader should be off.   Performance  If your Device is Powerful, high rendering resolution will work. Its recommended to first try with 2x Rendering resolution as It brings impressive graphics and supports stable gameplay too Hardware transform, Software skinning, Vertex cache and Lazy texture caching should be checked. Retain changed textures should be unchecked while keeping Disable slower effects and Hardware Installation checked.   Overlay Information  Select FPS in Show FPS counter.    System:\n Make sure Fast memory is checked Set I/O timing method, to Simulate UMD delays or Fast  Cemu Cemu: Experimental software to emulate Wii U applications.（已开源）\n对于Ubuntu（Linux）：参考 Current State Of Linux Builds安装\n对于Windows 平台：为避免闪退等问题，到Cemu 官网下载最新版本软件和 Microsoft Visual C++ 2017 X64 Redistributable。\n安装游戏：导航到 Options  General settings  General，在 Game Paths 中添加游戏 .rpx 文件所在目录，游戏就会显示在列表之中。\nCemu vs Yuzu (Zelda BOTW) 说：At this moment, the Wii U version played on Cemu is the superior one in both performance and quality.\n根据 Zelda BOTW runs way better for me on Yuzu than on Cemu 讨论，为更好性能，需要安装并启用 Graphic packs。导航到 Options  Graphic packs，启用对应游戏的（保持默认配置就行）：\n Enhancements Graphics Mods.Extended Memory Mods.FPS++  运行游戏会发现，在实时编译 shaders 和 vkpipeline 时会卡顿。\nshaders 通过 transferable shader cache 解决。首先需要在网上找对应游戏他人分享的 Shader caches，不同地区（日版、美版、欧版）的shader cache 是通用的，Shader caches 越全越好（越大越好）。先运行一下游戏，会在 cemu\\shaderCache\\transferable 建立两个 bin 文件，如 xxx_shaders.bin 和 xxx_vkpipeline.bin，将下载解压后的 bin 文件重命名为游戏创建的 xxx_shaders.bin 文件并替换该文件。再次运行游戏，如果显示 complie cache shader 并且 cemu\\shaderCache\\transferable\\xxx_shaders.bin 大小没有变为 0 的话，说明成功了。\nvkpipeline 通过启用 Options  General settings  Graphics  Async shader complie 解决。启用该功能可能需要安装最新 NVIDIA 显卡驱动（看报不报错）。\n你会发现不能推出游戏 go back to the Cemu main menu，这是可能原因：I would think they did it that way for easeof development. For example on yuzu if you exit to main menu it will not allocate the ram correctly. Meaning if you launch a game and it uses 8gb of ram then exit to a new one, without fully closing yuzu, yuzu would use and extra 8gb of ram on top of that.\n在 [汉化] 【91Wii索引】WiiU游戏汉化补丁及中文游戏资源索引帖 下载解压汉化包后，覆盖掉原游戏根目录中对应的原文件就可以使用了。\n攻略本（Strategy guide），或称攻略，是指收录特定电子游戏提示或完整解的说明书，内容环绕一款或多款电子游戏的过关方法、注意点等。\n游戏模组，这个游戏术语源自英文缩略词“MOD”、“Mod”（全称“Modification”，本意为“修改”），多指游戏厂商或者热心玩家对于原版电子游戏在功能方面的修改。\nyuzu yuzu 是 Citra的制作者写的一个开源NS模拟器，用C++编写，特点包括Vulkan API的支持、灵活的模拟器配置以及游戏配置等等。\n玩了 super mario odyssey，过场动画很卡顿，可以软配置的很少，主要看硬件配置，我的配置玩 BOTW 是不可能了。\n安装   选择 File - Open yuzu Folder\n  在打开的目录下，新建keys文件夹（如果没有），然后进入keys文件夹，放入key文件prod.keys，内容如下\naes_kek_generation_source = 4d870986c45d20722fba1053da92e8a9 aes_key_generation_source = 89615ee05c31b6805fe58f3da24f7aa8 bis_kek_source = 34c1a0c48258f8b4fa9e5e6adafc7e4f bis_key_00 = 374e0e2ab275141f811badcb0fefd881b71d6af540de58895901aa0c01663bc8 bis_key_01 = 0b08f19a42ac5ae590b3373ad9698344a571f35165663536dae0842b5221b31c bis_key_02 = 38f0936f33bacedc0c0a159ffbbeee0f40bb08386915bdd0c6730349b99081ec bis_key_03 = 38f0936f33bacedc0c0a159ffbbeee0f40bb08386915bdd0c6730349b99081ec bis_key_source_00 = f83f386e2cd2ca32a89ab9aa29bfc7487d92b03aa8bfdee1a74c3b6e35cb7106 bis_key_source_01 = 41003049ddccc065647a7eb41eed9c5f44424edab49dfcd98777249adc9f7ca4 bis_key_source_02 = 52c2e9eb09e3ee2932a10c1fb6a0926c4d12e14b2a474c1c09cb0359f015f4e4 device_key = bd16c45b2647d842c5ee3c869e3a9607 device_key_4x = 2078900c6bb36fff1fdad57a7dd1b66e eticket_rsa_kek = 19c8b441d318802bad63a5beda283a84 eticket_rsa_kek_source = dba451124ca0a9836814f5ed95e3125b eticket_rsa_kekek_source = 466e57b74a447f02f321cde58f2f5535 header_kek_source = 1f12913a4acbf00d4cde3af6d523882a header_key = aeaab1ca08adf9bef12991f369e3c567d6881e4e4a6a47a51f6e4877062d542d header_key_source = 5a3ed84fdec0d82631f7e25d197bf5d01c9b7bfaf628183d71f64d73f150b9d2 key_area_key_application_00 = ef979e289a132c23d39c4ec5a0bba969 key_area_key_application_01 = cdedbab97b69729073dfb2440bff2c13 key_area_key_application_02 = 75716ed3b524a01dfe21456ce26c7270 key_area_key_application_03 = f428306544cf5707c25eaa8bc0583fd1 key_area_key_application_04 = 798844ec099eb6a04b26c7c728a35a4d key_area_key_application_05 = a57c6eecc5410ada22712eb3ccbf45f1 key_area_key_application_06 = 2a60f6c4275df1770651d5891b8e73ec key_area_key_application_07 = 32221bd6ed19b938bec06b9d36ed9e51 key_area_key_application_08 = fb20aa9e3dbf67350e86479eb431a0b3 key_area_key_application_09 = ce8d5fa79e220d5f48470e9f21be018b key_area_key_application_0a = 38b865725adcf568a81d2db3ceaa5bcc key_area_key_application_0b = bbddfd40a59d0ff555c0954239972213 key_area_key_application_0c = 3fee7204e21c6b0ff1373226c0c3e055 key_area_key_application_source = 7f59971e629f36a13098066f2144c30d key_area_key_ocean_00 = b33813e4c9c4399c75fabc673ab4947b key_area_key_ocean_01 = c54166efa8c9c0f6511fa8b580191677 key_area_key_ocean_02 = 3061ce73461e0b0409d6a33da85843c8 key_area_key_ocean_03 = 06f170025a64921c849df168e74d37f2 key_area_key_ocean_04 = dc857fd6dc1c6213076ec7b902ec5bb6 key_area_key_ocean_05 = 131d76b70bd8a60036d8218c15cb610f key_area_key_ocean_06 = 17d565492ba819b0c19bed1b4297b659 key_area_key_ocean_07 = 37255186f7678324bf2b2d773ea2c412 key_area_key_ocean_08 = 4115c119b7bd8522ad63c831b6c816a6 key_area_key_ocean_09 = 792bfc652870cca7491d1685384be147 key_area_key_ocean_0a = dfcc9e87e61c9fba54a9b1c262d41e4d key_area_key_ocean_0b = 66fe3107f5a6a8d8eda2459d920b07a1 key_area_key_ocean_0c = b79b6bf3d6cdc5ec10277fc07a4fec93 key_area_key_ocean_source = 327d36085ad1758dab4e6fbaa555d882 key_area_key_system_00 = 6dd02aa15b440d6231236b6677de86bc key_area_key_system_01 = 4ab155e7f29a292037fd147592770b12 key_area_key_system_02 = b7a74adeaf89c2a198c327bdff322d7d key_area_key_system_03 = d5aab1acd23a8aec284a316df859d377 key_area_key_system_04 = 9b44b45b37de9d14754b1d22c2ca742c key_area_key_system_05 = 0012e957530d3dc7af34fbbe6fd44559 key_area_key_system_06 = 01744e3b0818445cd54ee9f89da43192 key_area_key_system_07 = d0d30e46f5695b875f11522c375c5a80 key_area_key_system_08 = bd06cb1b86bd5c433667470a09eb63de key_area_key_system_09 = e19f788f658eda8bbf34a1dd2a9503a9 key_area_key_system_0a = 7070e7ff5cfe448630143a9874903c38 key_area_key_system_0b = 3fa471d4483e58b8f7756fcb64f63890 key_area_key_system_0c = 7bfd381df3369407ab1c6bdd9fabf522 key_area_key_system_source = 8745f1bba6be79647d048ba67b5fda4a keyblob_00 = f759024f8199101dddc1ef91e6eecf37e24b95ac9272f7ae441d5d8060c843a48322d21cdd06d4fc958c68d3800eb4db939ffbec930177f77d136144ff615aa8835e811bb958deda218f8486b5a10f531b30cb9d269645ac9fc25c53fc80525e56bd3602988a9fcf06bbf99ca910ad6530791d512c9d57e17abf49220de6419bf4eca1685c1e4df77f19db7b44a985ca keyblob_01 = bd27264ae07e979756411d0c66e679e3c50851f3e902d9c2cd1a438b948159a517ec1566c10570326ea2697ee62da46f14bb5d581bfc06fd0c9387ea33d2d4dc63e7809ba90f03dd2c7112ffbfa548951b9b8c688b5e4f2951d24a73da29c668154a5d4838dba71ee068ace83fe720e8c2a495c596f73525dc3c05994b40ad27f8c60322f75cd548b821af9162e16f76 keyblob_02 = a3d4a8e153b8e6ae6e6aef3e8f219cb4b7790f47856accc76268f9afa99a1ff8b1a72f63d1f99f480a3c1532078bb59abdd25203cfb12a38b33e9ba6a09afb6f24283b3ba76a0161230a73669ddf5493c2b7919d094fd795b484794854f71e4f4c672245d7770e29397722444d111b4229cdbf35707b70634ea8f140766e884cc580cb1e2d9aa9866ffef920010fc409 keyblob_03 = 1558f525ae8c5be9243fb6d8a8b0a8ee0e886a59035668740a936619b7a5c83e821198b171d18e51445054df68688e45703b936818a827d8e540dd6bef2e11ec9ddc6cfe5fc736dd769b9f6e0a23a62e2e5f49e86143646a04ec3a23f828373a336a5c224a91f8a0c6c6a7b5844dd6415804209f83c943aeca9cfd856db6bd4ec32009c8cb268ed053052c9237dfd8bc keyblob_04 = 9fbeb1957fc1629e08b753a9086d6e01ffb4f11466b7417e3fa7f5f1efb754406704fd75afaf91a408a0b524c1fc80d36c2046fa4757412efe4c11e382f72e8a10d90ed580017d9deb87af2549b6b02661af48ff94f6072c0fef7fc2833b8bdae503898e2e927ac0663e8b6391dd4f1d685313935e2c48ece7d177c88bc9c883ede36c3677495784b838d7265c6ba7a1 keyblob_05 = 94a92da1d73c2b3e165c891ced5607fc6628ca2a0654f3fbc05711c063377c6e9c96a9d0192e530dd510e4fd41aa62ef4213c5f6e059e7e21db098a9b22d1e6c29bee148aaef15c52549d9165de96e85b0d029ecdc5843e2f32cb18be707eec61909cf3385d45bc2a4c8d76e9bfad5a40c4b92dcb982aa50d474897ac9ebb5351a7015dcc277a08f1214ad41384d7941 keyblob_key_00 = 839944c8a38df6791020b38147e906b0 keyblob_key_01 = b9e6fbde828b5f42c897ade8fd14c625 keyblob_key_02 = b6988a0795d294ef522908692d5db7ca keyblob_key_03 = 0e57d7777171d125d3fe3af5b397d009 keyblob_key_04 = b55a282d698fabeb4e03c67ff2026bc5 keyblob_key_05 = fdb542c1f1bdf134ec20b1fda02bc9e1 keyblob_key_source_00 = df206f594454efdc7074483b0ded9fd3 keyblob_key_source_01 = 0c25615d684ceb421c2379ea822512ac keyblob_key_source_02 = 337685ee884aae0ac28afd7d63c0433b keyblob_key_source_03 = 2d1f4880edeced3e3cf248b5657df7be keyblob_key_source_04 = bb5a01f988aff5fc6cff079e133c3980 keyblob_key_source_05 = d8cce1266a353fcc20f32d3b517de9c0 keyblob_mac_key_00 = 604422526723e541a849fa4c18660e0b keyblob_mac_key_01 = 279481456b1dc259d35599e6392e01e5 keyblob_mac_key_02 = dbbfb8096b676c2a54b5d9c61b423a94 keyblob_mac_key_03 = 48b7aef6d9b1edb132b8901a245a7750 keyblob_mac_key_04 = 544c082e9f8602c736dc0732d4319f88 keyblob_mac_key_05 = a540ec8ba84bd31eaaa9ce9f95226875 keyblob_mac_key_source = 59c7fb6fbe9bbe87656b15c0537336a5 mariko_master_kek_source_05 = 77605ad2ee6ef83c3f72e2599dac5e56 mariko_master_kek_source_06 = 1e80b8173ec060aa11be1a4aa66fe4ae mariko_master_kek_source_07 = 940867bd0a00388411d31adbdd8df18a mariko_master_kek_source_08 = 5c24e3b8b4f700c23cfd0ace13c3dc23 mariko_master_kek_source_09 = 8669f00987c805aeb57b4874de62a613 mariko_master_kek_source_0a = 0e440cedb436c03faa1daebf62b10982 mariko_master_kek_source_0b = e541acecd1a7d1abed0377f127caf8f1 mariko_master_kek_source_0c = 52719bdfa78b61d8d58511e48e4f74c6 master_kek_00 = f759024f8199101dddc1ef91e6eecf37 master_kek_01 = bd27264ae07e979756411d0c66e679e3 master_kek_02 = a3d4a8e153b8e6ae6e6aef3e8f219cb4 master_kek_03 = 1558f525ae8c5be9243fb6d8a8b0a8ee master_kek_04 = 9fbeb1957fc1629e08b753a9086d6e01 master_kek_05 = 94a92da1d73c2b3e165c891ced5607fc master_kek_08 = e42f1ec8002043d746575ae6dd9f283f master_kek_09 = cec2885fbeef5f6a989db84a4cc4b393 master_kek_0a = dd1a730232522b5cb4590cd43869ab6a master_kek_0b = fc6f0c891d42710180724ed9e112e72a master_kek_0c = 43f7fc20fcec22a5b2a744790371b094 master_kek_source_06 = 374b772959b4043081f6e58c6d36179a master_kek_source_07 = 9a3ea9abfd56461c9bf6487f5cfa095c master_kek_source_08 = dedce339308816f8ae97adec642d4141 master_kek_source_09 = 1aec11822b32387a2bedba01477e3b67 master_kek_source_0a = 303f027ed838ecd7932534b530ebca7a master_kek_source_0b = 8467b67f1311aee6589b19af136c807a master_kek_source_0c = 683bca54b86f9248c305768788707923 master_key_00 = c2caaff089b9aed55694876055271c7d master_key_01 = 54e1b8e999c2fd16cd07b66109acaaa6 master_key_02 = 4f6b10d33072af2f250562bff06b6da3 master_key_03 = 84e04ec20b9373818c540829cf147f3d master_key_04 = cfa2176790a53ff74974bff2af180921 master_key_05 = c1dbedcebf0dd6956079e506cfa1af6e master_key_06 = 0aa90e6330cdc12d819b3254d11a4e1e master_key_07 = 929f86fbfe4ef7732892bf3462511b0e master_key_08 = 23cfb792c3cb50cd715da0f84880c877 master_key_09 = 75c93b716255319b8e03e14c19dea64e master_key_0a = 73767484c73088f629b0eeb605f64aa6 master_key_0b = 8500b14bf4766b855a26ffc614097a8f master_key_0c = b3c503709135d4b35de31be4b0b9c0f7 master_key_source = d8a2410ac6c59001c61d6a267c513f3c package1_key_00 = f4eca1685c1e4df77f19db7b44a985ca package1_key_01 = f8c60322f75cd548b821af9162e16f76 package1_key_02 = c580cb1e2d9aa9866ffef920010fc409 package1_key_03 = c32009c8cb268ed053052c9237dfd8bc package1_key_04 = ede36c3677495784b838d7265c6ba7a1 package1_key_05 = 1a7015dcc277a08f1214ad41384d7941 package2_key_00 = a35a19cb14404b2f4460d343d178638d package2_key_01 = a0dd1eacd438610c85a191f02c1db8a8 package2_key_02 = 7e5ba2aafd57d47a85fd4a57f2076679 package2_key_03 = bf03e9889fa18f0d7a55e8e9f684323d package2_key_04 = 09df6e361e28eb9c96c9fa0bfc897179 package2_key_05 = 444b1a4f9035178b9b1fe262462acb8e package2_key_06 = 442cd9c21cfb8914587dc12e8e7ed608 package2_key_07 = 70c821e7d6716feb124acbac09f7b863 package2_key_08 = 8accebcc3d15a328a48365503f8369b6 package2_key_09 = f562a7c6c42e3d4d3d13ffd504d77346 package2_key_0a = 0803167ec7fc0bc753d8330e5592a289 package2_key_0b = 341db6796aa7bdb8092f7aae6554900a package2_key_0c = 4e97dc4225d00c6ae33d49bddd17637d package2_key_source = fb8b6a9c7900c849efd24d854d30a0c7 per_console_key_source = 4f025f0eb66d110edc327d4186c2f478 retail_specific_aes_key_source = e2d6b87a119cb880e822888a46fba195 rsa_oaep_kek_generation_source = a8ca938434127fda82cc1aa5e807b112 rsa_private_kek_generation_source = ef2cb61a56729b9157c38b9316784ddd save_mac_kek_source = d89c236ec9124e43c82b038743f9cf1b save_mac_key = 71a917f1bac8f4f04d732e734c90e2ec save_mac_key_source = e4cd3d4ad50f742845a487e5a063ea1f save_mac_sd_card_kek_source = 0489ef5d326e1a59c4b7ab8c367aab17 save_mac_sd_card_key_source = 6f645947c56146f9ffa045d595332918 sd_card_custom_storage_key_source = 370c345e12e4cefe21b58e64db52af354f2ca5a3fc999a47c03ee004485b2fd0 sd_card_kek_source = 88358d9c629ba1a00147dbe0621b5432 sd_card_nca_key_source = 5841a284935b56278b8e1fc518e99f2b67c793f0f24fded075495dca006d99c2 sd_card_save_key_source = 2449b722726703a81965e6e3ea582fdd9a951517b16e8f7f1f68263152ea296a sd_seed = fdb479221c43741a118fb5475374d2f7 secure_boot_key = 208de9b9de94ff698d00657a6a82a973 ssl_rsa_kek = b011100660d1dccbad1b1b733afa9f95 ssl_rsa_kek_source_x = 7f5bb0847b25aa67fac84be23d7b6903 ssl_rsa_kek_source_y = 9a383bf431d0bd8132534ba964397de3 titlekek_00 = 62a24d6e6d0d0e0abf3554d259be3dc9 titlekek_01 = 8821f642176969b1a18021d2665c0111 titlekek_02 = 5d15b9b95a5739a0ac9b20f600283962 titlekek_03 = 1b3f63bcb67d4b06da5badc7d89acce1 titlekek_04 = e45c1789a69c7afbbf1a1e61f2499459 titlekek_05 = ddc67f7189f4527a37b519cb051eee21 titlekek_06 = b1532b9d38ab036068f074c0d78706ac titlekek_07 = 81dc1b1783df268789a6a0edbf058343 titlekek_08 = 47dfe4bf0eeda88b17136b8005ab08ea titlekek_09 = adaa785d90e1a9c182ac07bc276bf600 titlekek_0a = 42daa957c128f75bb1fda56a8387e17b titlekek_0b = d08903363f2c8655d3de3ccf85d79406 titlekek_0c = be2682599db34caa9bc7ebb2cc7c654c titlekek_source = 1edc7b3b60e6b4d878b81715985e629b tsec_key = 53ec4ac7c6c32ff2abff3eeff4f84f36 tsec_root_key_02 = 4b4fbcf58e23cf4902d478b76c8048ec yuzu以及Ryujinx都需要prod.keys，里面包含了NS设备需要的key，需要通过 Hekate等一些列工具生成。yuzu不需要单独安装固件，只要把key文件放好就可以启动游戏了。\n  关闭模拟器，重新打开 yuzu ，若没有弹窗，则配置成功\n  设置 General\n确保勾选 Multicore CPU Emulation 和 Confirm exit while emulation is runing。\nLimit Speed percent：游戏运行速度，默认即可，可加快或限速\nPause emulation when inbackground：退到后台模拟器暂停运行\nHide mouse inactivity：运行时鼠标隐藏\nPrompt for user for game boot：游戏启动时选择哪个账户游玩\nWeb\nyuzu web service：填了用户名和令牌以后可以向官网报告游戏兼容性\nTelemetry：开了以后能让yuzu开发者查看你的使用情况，以便改善模拟器\nDiscord Presence：在discord中显示你的游戏状态\n系统\nSystem 页面，Language 选择 Simplified Chinese，Region 选择 China。这个设置的是系统语言，很多游戏会根据系统语言自动切换游戏内显示的语言。当然前提是游戏本身包含中文，如果游戏本身无中文只能通过打补丁的方式显示中文。\nCustom RTC：修改系统时间，可以触发某些游戏的特定彩蛋之类的功能。\nRNG seed：随机数种子，一般情况别改改。\nProfile Manager：这里可以改switch用户名称、头像。可以设置多个用户\nCPU\n图形\n API设置：支持OpenGL和Vulkan。 Use disk shader cache：磁盘着色器缓存，建议开启，这样就不用每次都重新编译，而是直接从磁盘加载到内存 Use asynchronous GPU emulation：GPU异步模拟，yuzu重写了GPU显存管理器，加速了缓存机制，使得帧数得到明显提示，同时性能提升40%-400%（来自BSoD Gaming的测试数据） Use NVDEC emulation：NVDEC是一项硬件转码技术，能减少转码期间计算密集型任务中CPU的负担，这是Nvidia的一个技术，有了它，过场动画的播放会畅顺很多  Advanced\n Accuracy Level：即模拟器左下角状态栏的 GPU NORMAL。是处理图形绘制精确度，开启High可能会修复一些图形错误，但是速度可能会变慢，一般选默认Normal即可 Use Vysnc (OpenGL Only)：开启垂直同步 Use Fast GPU time： 使用GPU加速渲染 Anisotropic Filtering：是各项异性过滤，是用来处理图形纹理错误的，可以选2x-16x  声音\n默认。\n控制\n连接手柄，选择该设备。\n管理 游戏格式分为两种，.xci 格式和 .nsp 格式。简单一点说，.xci 格式是卡带版，.nsp 格式是数字版。因此基本上所有的 DLC 基本都是 .nsp 格式，但也有 .xci 里集成了 DLC 的情况。\n添加游戏\n双击模拟器中间，添加游戏目录，游戏目录也不要有中文。添加完就可以看到游戏了。\n安装Update和DLC\n选择File -Install Files to NAND…，选中 Update和DLC文件，Update 安装最新就行，DLC 需要全部安装（可以不按顺序）。\n安装 Mod\nMod 用于修改游戏，如解决一些bug以及优化性能等。右键单击要为其添加模组的游戏。然后将整个mod文件夹粘贴到那里。你可以从 Switch Mods 获得一些基本的 yuzu 模组。\n注意：您可以通过右键单击游戏并单击属性来检查您拥有的游戏模组。\n放入着色器缓存\n放入着色器缓存（shader cache）可以明显提升游戏的流畅性，建议找找别人的着色器缓存。\n具体放入步骤：右键某个游戏，选择打开可转移着色器缓存，即可弹出缓存所在文件夹，然后放入你下载的别人的缓存就行了，比如 vulkan.bin 和 opengl.bin\nrubick 基于 electron 的开源工具箱，自由集成丰富插件。\nuTools uTools 是一个极简、插件化的现代桌面软件，通过自由选配丰富的插件，打造得心应手的工具集合。\nAlbert Linux 下的快捷启动工具。\n   应用 / 功能 查找应用 查找文件 查找网页 扩展程序     Albert ✓ ✓ ✓ -   Synapse ✓ ✓ - -   Utools ✓ ✗ ✓ ✓   Ulauncher ✓ ✓ ✓ ✓   FSearch ✗ ✓ ✗ ✗    简单说，Albert 最好用，Ulauncher 综合能力强，而 FSearch 严重偏科。\nCalibre calibre is a powerful and easy to use e-book manager. Users say it’s outstanding and a must-have. It’ll allow you to do nearly everything and it takes things a step beyond normal e-book software. It’s also completely free and open source and great for both casual users and computer experts.\nConvert Epub to PDF\nOpen terminal and run the following command to install Calibre.\n$ sudo apt update $ sudo apt install calibre Calibre software is referred to as ebook-convert command. Here is the command to convert epub file to pdf file.\nebook-convert .epub .pdf If your PDF doesn’t appear to be properly readable, try converting the epub file again using –enable-heuristics option.\n$ ebook-convert /home/ubuntu/test.epub /home/ubuntu/test.pdf --enable-heuristics FBReader 中文乱码需要在 Options = CSS 中启用 Always Use My Own Fonts\nVentoy 简单来说，Ventoy是一个制作可启动U盘的开源工具。\n有了Ventoy你就无需反复地格式化U盘，你只需要把 ISO/WIM/IMG/VHD(x)/EFI 等类型的文件直接拷贝到U盘里面就可以启动了，无需其他操作。\nbalenaEtcher Supported Operating Systems\n Linux (most distros) macOS 10.10 (Yosemite) and later Microsoft Windows 7 and later  UNetbootin UNetbootin installs Linux/BSD distributions to a partition or USB drive\nWoeUSB-ng WoeUSB-ng is a simple tool that enable you to create your own usb stick windows installer from an iso image or a real DVD. This is a rewrite of original WoeUSB.\nTimeshift System restore tool for Linux.\nTodoist Plank Plank is meant to be the simplest dock on the planet.\nlatte-dock Steam $ sudo apt install steam 在 Windows 上运行神秘代码： Win + R，输入 steam://install/2026560。等同于在 Ubuntu 终端敲：xdg-open steam://install/2026560\n`YACReader Tachidesk 快速配置指南：\nTachidesk 是一个免费的开源漫画阅读器，可运行为 Tachiyomi 构建的扩展。Tachidesk 是独立的，但与 Tachiyomi 兼容的开源软件，它不是 Tachiyomi 的下游分支。你可以在任何支持 Java 的设备上运行这个软件。\n如果你熟悉 Tachiyomi，那你也会对 Tachidesk 的用户界面倍感熟悉。\nTachidesk 主要分为两部分：Tachidesk-server （后端）和 Tachidesk 图形化前端。Tachidesk 有多个图形化前端。直接从下文的 GitHub 链接下载的文件会自动集成一个 Tachidesk-WebUI。\nhakuneko work_crawler Download comics novels\ndingtalk 钉钉桌面版，基于electron和钉钉网页版开发\nhowdy Windows Hello™ style facial authentication for Linux\n向日葵 向日葵远程控制软件是一款免费的集远程控制电脑手机、远程桌面连接、远程开机、远程管理、支持内网穿透的一体化远程控制管理工具软件。\nKeePassXC words-picker 有OCR功能的开源取词软件\nCopyQ Clipboard manager with advanced features\nXnViewMP 图片浏览器。速度快，并且可以进行一些简单的图片操作，比如图片压缩、图片格式转换、图片剪裁等等。\nZeal 离线 API 文档查找阅读工具。\nXMind XMind 是一款全功能的思维导图和头脑风暴软件。像大脑的瑞士军刀一般，助你理清思路，捕捉创意。已成为上亿用户喜爱的全平台效率工具。\n快捷键：\n shift：左右移动 tab：subtopic del：delete topic blank：input text  完全免费的脑图软件推荐\n如果平时没有导出需求的话, 可以选用xmind和mindmaster, 如果突然需要导出pdf了, 可以将xmind和mindmaster的文件导出为mindmanager文件, 然后导入到freeplane中, 稍作调整与美化, 然后导出成pdf就可以了.\nAdd new file extension to existing (MIME) type\n问题描述：将 zip 文件默认打开设置为File，点击xmind文件会被解压；设置xmind默认打开 .xmind 文件，zip文件会被xmind打开，xmind 的mime类型为zip，那么要如何区分zip文件与xmind文件呢？\nUse freedesktop’s unified system to define a new association. Write a new source xml file e.g.\n$ gedit ~/.local/share/mime/packages/x-xmind.xml with the following content:\n  xmlns='http://www.freedesktop.org/standards/shared-mime-info'  type=\"application/x-xmind\" XMind mindmap  name=\"package-x-generic\"/  pattern=\"*.xmind\"/   then update your mime database\n$ update-mime-database ~/.local/share/mime or you can register a new MIME entry by using xdg-mime instead of update-mime-database:\n# register $ xdg-mime install x-xmind.xml # unregister $ xdg-mime uninstall x-xmind.xml Query:\n$ xdg-mime query filetype my.xmind application/x-xmind 给XMind脑图文件添加Gnome缩略图显示 [Ubuntu]\nCLI Utilities PostgreSQL 是 macOS Server 的默认数据库。\n安装 $ sudo apt install postgresql postgresql-contrib postgresql-contrib 或者说 contrib 包，包含一些不属于 PostgreSQL 核心包的实用工具和功能。\n通过 service 命令，你可以启动、关闭或重启 postgresql。输入 service postgresql 并按回车将列出所有选项\n默认情况下，PostgreSQL 会创建一个拥有所权限的特殊用户 postgres。要实际使用 PostgreSQL，你必须先登录该账户，使用 psql 来启动 PostgreSQL Shell：\n$ sudo -i -u postgres # sudo -login -user postgres $ psql 使用 \\l 用于查看已经存在的数据库\npostgres=# \\l 使用 \\c + 数据库名 来进入数据库\npostgres=# \\c shop \\d 查看表格信息\npostgres=# \\d [TableName] 查找配置文件 select name, setting from pg_settings where category='File Locations' ; Questions psql: error: FATAL: Peer authentication failed for user “postgres”\npsql的连接建立于Unix Socket上默认使用peer authentication（对等体认证；对等实体认证），所以必须要用和数据库用户相同的系统用户进行登录。\n# su - postgres  # psql 或者将peer authentiction 改为 md5，需先做上面步骤，更改密码：\npostgres=# ALTER USER db_user with password 'db_password'; $ find / -name 'pg_hba.conf' 2/dev/null $ sudo vi /etc/postgresql/12/main/postgresql.conf local all postgres md5 $ systemctl restart postgresql.service $ psql -U postgres -d shop Ansible 安装Ansible之后,不需要启动或运行一个后台进程,或是添加一个数据库.只要在一台电脑(可以是一台笔记本)上安装好,就可以通过这台电脑管理一组远程的机器.在远程被管理的机器上,不需要安装运行任何软件,因此升级Ansible版本不会有太多问题.\nfdupes You can call it like fdupes -r /dir/ect/ory and it will print out a list of dupes. fdupes has also a simple Homepage and a Wikipedia article, which lists some more programs.\ndigiKam 可用于查找重复相片，然后根据需要删除重复内容。\nbypy bypy info 认证特别慢，而授权码又只有10分钟，导致后面授权码过期 Heroku server 认证失败失败。\n如此，可以通过手动认证。\n  通过 bypy -dv 查看详细输出，得到 Full URL，如 https://bypyoauth.herokuapp.com/auth?code=...\u0026bypy_version=1.7.2\u0026redirect_uri=oob，在浏览器中打开，获得token。\n  将其放在 ~/.bypy/bypy.json 中。\n  源码仓库也有示例。\n我下载一个大文件，总共12G左右，已用了两个晚上，中途没关（由于不是立马就要的东西，就用时间换金钱了），一次看进度时，Terminal 就卡退了，重新运行后，bypy会继续上次下载，而不是重新开始（这样话太可怕了）。\nFRP frp 是一个专注于内网穿透的高性能的反向代理应用，支持 TCP、UDP、HTTP、HTTPS 等多种协议。可以将内网服务以安全、便捷的方式通过具有公网 IP 节点的中转暴露到公网。\n其他内网穿透工具\n ngrok ZeroTier N2N Dog Tunnel Tinc  Git sync-repos #!/usr/bin/bash TIME=\"$(date '+%Y%m%d%H%M%S')\" SAMATOMO_SOURCE=$HOME/Documents/SakamotoKuromeSource SAKAMOTO_PUBLIC=$SAMATOMO_SOURCE/public VNOTEBOOK=$HOME/Documents/vNotebook function Git_Sync() { cd $1 echo '## STATUS ##' git status echo '' echo '## PULL ##' git pull echo '' echo '## PUSH ##' echo '### Ignore files larger than 100MB' cat .gitignore_default  .gitignore find . -size +100M | sed 's|^./||g' | cat  .gitignore git add . git commit -m \"Update-${TIME}\" git push -v echo '' echo '' echo '' } function Sync_All() { echo '# PUSH SAMATOMO_SOURCE #' Git_Sync $SAMATOMO_SOURCE echo '# PUSH SAKAMOTO_PUBLIC #' rm -rf $SAKAMOTO_PUBLIC/* hugo Git_Sync $SAKAMOTO_PUBLIC echo '# PUSH vNotebook #' Git_Sync $VNOTEBOOK } Sync_All exit 0  A collection of useful .gitignore templates Ignore files 100MB in your Git repos About large files on GitHub  GitHub Desktop Focus on what matters instead of fighting with Git. Whether you’re new to Git or a seasoned user, GitHub Desktop simplifies your development workflow.\nGitHub520 # GitHub520 Host Start 140.82.113.26 alive.github.com 140.82.113.26 live.github.com 185.199.108.154 github.githubassets.com 140.82.112.22 central.github.com 185.199.108.133 desktop.githubusercontent.com 185.199.108.153 assets-cdn.github.com 185.199.108.133 camo.githubusercontent.com 185.199.108.133 github.map.fastly.net 199.232.69.194 github.global.ssl.fastly.net 140.82.114.4 gist.github.com 185.199.108.153 github.io 140.82.113.4 github.com 192.0.66.2 github.blog 140.82.114.5 api.github.com 185.199.108.133 raw.githubusercontent.com 185.199.108.133 user-images.githubusercontent.com 185.199.108.133 favicons.githubusercontent.com 185.199.108.133 avatars5.githubusercontent.com 185.199.108.133 avatars4.githubusercontent.com 185.199.108.133 avatars3.githubusercontent.com 185.199.108.133 avatars2.githubusercontent.com 185.199.108.133 avatars1.githubusercontent.com 185.199.108.133 avatars0.githubusercontent.com 185.199.108.133 avatars.githubusercontent.com 140.82.114.10 codeload.github.com 52.217.201.185 github-cloud.s3.amazonaws.com 54.231.132.81 github-com.s3.amazonaws.com 52.217.225.9 github-production-release-asset-2e65be.s3.amazonaws.com 52.217.161.97 github-production-user-asset-6210df.s3.amazonaws.com 52.216.134.35 github-production-repository-file-5c1aeb.s3.amazonaws.com 185.199.108.153 githubstatus.com 64.71.144.202 github.community 23.100.27.125 github.dev 140.82.112.22 collector.github.com 13.107.42.16 pipelines.actions.githubusercontent.com 185.199.108.133 media.githubusercontent.com 185.199.108.133 cloud.githubusercontent.com 185.199.108.133 objects.githubusercontent.com # Update time: 2022-03-19T14:06:28+08:00 # Update url: https://raw.hellogithub.com/hosts # Star me: https://github.com/521xueweihan/GitHub520 # GitHub520 Host End libguestfs libguestfs 支持几乎所有类型的磁盘镜像。\n在基于 Debian 的系统上：\n$ apt-get install libguestfs-tools 我们可以像下面这样挂载一个 qcow2 格式的磁盘镜像：\n$ guestmount -a /path/to/qcow2/image -m  /path/to/mount/point 要卸载它，则执行：\n$ guestunmount qcow2_mount_poin Oracle JDK   解压缩到目录\n$ tar -zxv -f jdk-7u60-linux-x64.gz -C dir   修改环境变量\n$ vi ~/.bashrc export JAVA_HOME=/usr/lib/jvm/jdk1.7.0_60 # 这里换成自己解压的jdk 目录 export JRE_HOME=${JAVA_HOME}/jre export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib export PATH=${JAVA_HOME}/bin:$PATH   使环境变量生效\n$ source ~/.bashrc   Snapper Snapper 是一个由 openSUSE 的 Arvin Schnell 开发的工具，用于管理 Btrfs 子卷和 LVM 精简配置(thin-provisioned)卷。它可以创建和比较快照，在快照间回滚，并支持自动按时间序列创建快照。\n列出子卷列表\n$ sudo btrfs subvolume list -p / ID 256 gen 7746 parent 5 top level 5 path @ ID 258 gen 7746 parmount -n -o remount,rw /ent 5 top level 5 path @home 安装 snapper\n$ sudo apt install snapper 创建配置文件，启用自动快照\n$ sudo snapper -c root create-config / Snapshots on boot\n$ sudo systemctl status snapper-boot.timer 管理 snapshot\n$ sudo snapper-gui grub-btrfs Booting into snapshots.\nInclude btrfs snapshots at boot options. (Grub menu)\n教程：Install Ubuntu 21.04 with btrfs + snapper + grub-btrfs\nFail2Ban Fail2Ban 是一款入侵防御软件，可以保护服务器免受暴力攻击。 它是用 Python 编程语言编写的。 Fail2Ban 基于auth 日志文件工作，默认情况下它会扫描所有 auth 日志文件，如 /var/log/auth.log、/var/log/apache/access.log 等，并禁止带有恶意标志的IP，比如密码失败太多，寻找漏洞等等标志。\n通常，Fail2Ban 用于更新防火墙规则，用于在指定的时间内拒绝 IP 地址。 它也会发送邮件通知。 Fail2Ban 为各种服务提供了许多过滤器，如 ssh、apache、nginx、squid、named、mysql、nagios 等。\nFail2Ban 能够降低错误认证尝试的速度，但是它不能消除弱认证带来的风险。 这只是服务器防止暴力攻击的安全手段之一。\nSyncthing Syncthing是一款开源免费跨平台的文件同步工具，是基于P2P技术实现设备间的文件同步，所以它的同步是去中心化的，即你并不需要一个服务器，故不需要担心这个中心的服务器给你带来的种种限制，而且类似于torrent协议，参与同步的设备越多，同步的速度越快。针对隐私问题，Syncthing软件只会将数据存储于个人信任的设备上，不会存储到服务器上。设备之间的通信均通过TLS进行，Syncthing还使用了完全正向保密技术来进一步保障你的数据安全。对于处于不同局域网之中的设备之间的文件同步，Syncthing也提供了支持。\nmasscan Masscan号称是最快的互联网端口扫描器，最快可以在六分钟内扫遍互联网。\nImageMagick Use ImageMagick to create, edit, compose, or convert digital images. It can read and write images in a variety of formats (over 200) including PNG, JPEG, GIF, WebP, HEIC, SVG, PDF, DPX, EXR and TIFF. ImageMagick can resize, flip, mirror, rotate, distort, shear and transform images, adjust image colors, apply various special effects, or draw text, lines, polygons, ellipses and Bézier curves.\nFred’s ImageMagick Scripts\np7zip 7-Zip is a file archiver with a high compression ratio.\np7zip 是 7-Zip 的 POSIX 系统移植，支持 Linux。\n警告： 不要将7z格式用于备份目的，因为它不会保存文件的所有者/组。有关更多详细信息，请参见7z(1)。\n添加文件或目录至已有的存档（或创建一个新的存档）：\n$ 7z a 也可以通过参数-p设置密码，并通过标志-mhe = on隐藏存档的结构：\n$ 7z a -p -mhe=on 更新存档内已有的文件或添加新文件：\n$ 7z u 列出存档内容：\n$ 7z l 从存档中解压文件至当前文件夹，不使用存档内的目录结构：\n$ 7z e 如果需要恢复存档内的目录结构，使用：\n$ 7z x 解压至新的目录：\n$ 7z x -o校验存档完整性：\n$ 7z t Differences between 7z, 7za and 7zr binaries The package includes three binaries, /usr/bin/7z, /usr/bin/7za, and /usr/bin/7zr. Their manual pages explain the differences:\n 7z(1) uses plugins to handle archives. 7za(1) is a stand-alone executable that handles fewer archive formats than 7z. 7zr(1) is a stand-alone executable. It is a “light-version” of 7za that only handles 7z archives. In contrast to 7za, it cannot handle encrypted archives.  分卷压缩与解压缩 rar # rar a -vSIZE 压缩后的文件名 被压缩的文件或者文件夹 # 最大限制为 12M $ rar a -m5 -v12m myarchive myfiles #解压 $ rar e myarchive.part1.rar zip How to unzip a multipart (spanned) ZIP on Linux?\nThe Linux unzip utility doesn’t really support multipart zips. From the manual:\n Multi-part archives are not yet supported, except in conjunction with zip. (All parts must be concatenated together in order, and then zip -F (for zip 2.x) or zip -FF (for zip 3.x) must be performed on the concatenated archive in order to “fix” it. Also, zip 3.0 and later can combine multi-part (split) archives into a combined single-file archive using zip -s- inarchive -O outarchive. See the zip 3 manual page for more information.)\n So you need to first concatenate the pieces, then repair the result. cat test.zip.* concatenates all the files called test.zip.* where the wildcard * stands for any sequence of characters; the files are enumerated in lexicographic order, which is the same as numerical order thanks to the leadings zeroes. test.zip directs the output into the file test.zip.\ncat test.zip.*  test.zip zip -FF test.zip --out test-full.zip unzip test-full.zip If you created the pieces by directly splitting the zip file, as opposed to creating a multi-part zip with the official Pkzip utility, all you need to do is join the parts.\ncat test.zip.*  test.zip unzip test.zip 总结：使用 zip -s- inarchive -O outarchive，例如：\n$ ls archive.zip archive.z01 archive.z02 archive.z03 $ zip -s- archive.zip -O archive-full.zip $ unzip archive-full.zip tar 要将目录logs打包压缩并分割成多个1M的文件，可以用下面的命令：\n$ tar cjf - logs/ | split -b 1m - logs.tar.bz2. 完成后会产生下列文件：\nlogs.tar.bz2.aa, logs.tar.bz2.ab, logs.tar.bz2.ac 要解压的时候只要执行下面的命令就可以了：\n$ cat logs.tar.bz2.a* | tar xj 7z 压缩：\n$ 7z a name.7z filename -v10m 这里a是添加文件到压缩卷，name.7z是压缩后文件,然后filename可以是文件夹或文件，-v10m是限制每个包大小不超过10m.\n解压到当前目录：\n$ 7z x film.7z.001 Wudao-dict 有道词典的命令行版本，支持英汉互查和在线查询。\nascii-image-converter ttyd Share your terminal over the web\nprogress Linux tool to show progress for cp, mv, dd, … (formerly known as cv)\nvosk-api Offline speech recognition API for Android, iOS, Raspberry Pi and servers with Python, Java, C# and Node\nconvert MP3 to text The software you can use is Vosk-api, a modern speech recognition toolkit based on neural networks. It supports 7+ languages and works on variety of platforms including RPi and mobile.\nFirst you convert the file to the required format and then you recognize it:\n$ ffmpeg -i file.mp3 -ar 16000 -ac 1 file.wav Then install vosk-api with pip:\n$ pip3 install -i https://pypi.tuna.tsinghua.edu.cn/simple vosk Then use these steps:\n$ git clone https://github.com/alphacep/vosk-api $ cd vosk-api/python/example $ curl -O http://alphacephei.com/vosk/models/vosk-model-small-en-us-0.15.zip $ unzip vosk-model-small-en-us-0.15.zip $ mv vosk-model-small-en-us-0.15 model $ python3 ./test_simple.py test.wav  result.json The result will be stored in json format.\nThe same directory also contains an srt subtitle output example, which is easier to evaluate and can be directly useful to some users:\n$ python3 -m pip install srt $ python3 ./test_srt.py test.wav The example given in the repository says in perfect American English accent and perfect sound quality three sentences which I transcribe as:\none zero zero zero one nine oh two one oh zero one eight zero three The “nine oh two one oh” is said very fast, but still clear. The “z” of the before last “zero” sounds a bit like an “s”.\nThe SRT generated above reads:\n1 00:00:00,870 -- 00:00:02,610 what zero zero zero one 2 00:00:03,930 -- 00:00:04,950 no no to uno 3 00:00:06,240 -- 00:00:08,010 cyril one eight zero three so we can see that several mistakes were made, presumably in part because we have the understanding that all words are numbers to help us.\nNext I also tried with the vosk-model-en-us-0.22.zip which was a 1.8G download compared to 40M of vosk-model-small-en-us-0.15 and is listed at https://alphacephei.com/vosk/models:\n$ mv model vosk-model-small-en-us-0.15 $ curl -O http://alphacephei.com/vosk/models/vosk-model-en-us-0.22.zip $ unzip vosk-model-en-us-0.22.zip $ mv vosk-model-en-us-0.22 model and the result was:\n1 00:00:00,840 -- 00:00:02,610 one zero zero zero one 2 00:00:04,026 -- 00:00:04,980 i know what you window 3 00:00:06,270 -- 00:00:07,980 serial one eight zero three which got one more word correct.\ninxi inix 是一个用于获取 Linux 系统信息的终端命令。能够获取软件和硬件的详细信息，比如计算机型号、内核版本、发行版号以及桌面环境等信息，甚至可以读取主存模块占用主板的哪块 RAM 卡槽等详细信息。\ninxi 还可以用于监控系统中正在消耗 CPU 或者内存资源的进程。\n在 Ubuntu/Debian 发行版系统中，安装命令：\nsudo apt install inxi 用 -F 参数可以获取详细的系统信息。几乎囊括了所有层次的系统信息。\ninxi -F BusyBox BusyBox 是一个开源（GPL）项目，提供了近 400 个常用命令的简单实现，包括 ls、mv、ln、mkdir、more、ps、gzip、bzip2、tar 和 grep。它还包含了编程语言 awk、流编辑器 sed、文件系统检查工具 fsck、软件包管理器rpm 和 dpkg ，当然还有一个可以方便的访问所有这些命令的 shell（sh）。简而言之，它包含了所有 POSIX 系统需要的基本命令，以执行常见的系统维护任务以及许多用户和管理任务。\n事实上，它甚至包含一个 init 命令，可以作为 PID 1 启动，以作为所有其它系统服务的父进程。换句话说，BusyBox 可以作为 systemd、OpenRC、sinit、init 和其他初始化系统的替代品。\nBusyBox 非常小。作为一个可执行文件，它不到 1MB，所以它在嵌入式、边缘计算 和物联网领域很受欢迎，因为这些场景的存储空间是很宝贵的。在容器和云计算的世界里，它作为精简的 Linux 容器镜像的基础镜像也很受欢迎。\n极简主义 BusyBox 的部分魅力在于它的极简主义。它的所有命令都被编译到一个二进制文件里（busybox），它的手册只有 81 页（根据我对 man 送到 pr 管道的计算），但它涵盖了近 400 条命令。\n作为一个例子的比较，这是 “原版” 的 useradd —help 的输出：\n-b, --base-dir BASE_DIR base directory for home -c, --comment COMMENT GECOS field of the new account -d, --home-dir HOME_DIR home directory of the new account -D, --defaults print or change the default config -e, --expiredate EXPIRE_DATE expiration date of the new account -f, --inactive INACTIVE password inactivity -g, --gid GROUP name or ID of the primary group -G, --groups GROUPS list of supplementary groups -h, --help display this help message and exit -k, --skel SKEL_DIR alternative skeleton dir -K, --key KEY=VALUE override /etc/login.defs -l, --no-log-init do not add the user to the lastlog -m, --create-home create the user's home directory -M, --no-create-home do not create the user's home directory -N, --no-user-group do not create a group with the user's name -o, --non-unique allow users with non-unique UIDs -p, --password PASSWORD encrypted password of the new account -r, --system create a system account -R, --root CHROOT_DIR directory to chroot into -s, --shell SHELL login shell of the new account -u, --uid UID user ID of the new account -U, --user-group create a group with the same name as a user 而这是是同一命令的 BusyBox 版本：\n-h DIR Home directory -g GECOS GECOS field -s SHELL Login shell -G GRP Group -S Create a system user -D Don't assign a password -H Don't create home directory -u UID User id -k SKEL Skeleton directory (/etc/skel) 这种差异是一种特性还是一种限制，取决于你是喜欢你的命令拥有 20 个选项还是 10 个选项。对于一些用户和某些用例来说，BusyBox 的极简主义刚刚满足所需。对于其他人来说，它是一个很好的最小化环境，可以作为一个后备工具，或者作为安装更强大的工具的基础，比如 Bash、Zsh、GNU Awk 等等。\nLynis  使用这个全面的开源安全审计工具检查你的 Linux 机器的安全性。\n 你有没有想过你的 Linux 机器到底安全不安全？Linux 发行版众多，每个发行版都有自己的默认设置，你在上面运行着几十个版本各异的软件包，还有众多的服务在后台运行，而我们几乎不知道或不关心这些。\n要想确定安全态势（指你的 Linux 机器上运行的软件、网络和服务的整体安全状态），你可以运行几个命令，得到一些零碎的相关信息，但你需要解析的数据量是巨大的。\n如果能运行一个工具，生成一份关于机器安全状况的报告，那就好得多了。而幸运的是，有一个这样的软件：Lynis。它是一个非常流行的开源安全审计工具，可以帮助强化基于 Linux 和 Unix 的系统。根据该项目的介绍：\n “它运行在系统本身，可以进行深入的安全扫描。主要目标是测试安全防御措施，并提供进一步强化系统的提示。它还将扫描一般系统信息、易受攻击的软件包和可能的配置问题。Lynis 常被系统管理员和审计人员用来评估其系统的安全防御。”\n 安装 Lynis 你的 Linux 软件仓库中可能有 Lynis。如果有的话，你可以用以下方法安装它：\n$ sudo apt install lynis 然而，如果你的仓库中的版本不是最新的，你最好从 GitHub 上安装它。事实上，Lynis 主要是用 shell 脚本来实现的。\n运行 Lynis 通过给 Lynis 一个 -h 选项来查看帮助部分，以便有个大概了解：\n$ sudo lynis -h 你会看到一个简短的信息屏幕，然后是 Lynis 支持的所有子命令。\n接下来，尝试一些测试命令以大致熟悉一下。要查看你正在使用的 Lynis 版本，请运行：\n$ sudo lynis show version 3.0.0 要查看 Lynis 中所有可用的命令：\n$ sudo lynis show commands Commands: lynis audit lynis configure lynis generate lynis show lynis update lynis upload-only 审计 Linux 系统 要审计你的系统的安全态势，运行以下命令：\n$ sudo lynis audit system 这个命令运行得很快，并会返回一份详细的报告，输出结果可能一开始看起来很吓人，但我将在下面引导你来阅读它。这个命令的输出也会被保存到一个日志文件中，所以你可以随时回过头来检查任何可能感兴趣的东西。\nLynis 将日志保存在这里：\nFiles: - Test and debug information : /var/log/lynis.log - Report data : /var/log/lynis-report.dat 你可以验证是否创建了日志文件。它确实创建了：\n$ ls -l /var/log/lynis.log -rw-r-----. 1 root root 341489 Apr 30 05:52 /var/log/lynis.log $ ls -l /var/log/lynis-report.dat -rw-r-----. 1 root root 638 Apr 30 05:55 /var/log/lynis-report.dat 探索报告 Lynis 提供了相当全面的报告，所以我将介绍一些重要的部分。作为初始化的一部分，Lynis 做的第一件事就是找出机器上运行的操作系统的完整信息。之后是检查是否安装了什么系统工具和插件：\n[+] Initializing program ------------------------------------ - Detecting OS... [ DONE ] - Checking profiles... [ DONE ] --------------------------------------------------- Program version: 3.0.0 Operating system: Linux Operating system name: Red Hat Enterprise Linux Server 7.8 (Maipo) Operating system version: 7.8 Kernel version: 3.10.0 Hardware platform: x86_64 Hostname: example ---------------------------------------------------  [+] System Tools ------------------------------------ - Scanning available tools... - Checking system binaries... [+] Plugins (phase 1) ------------------------------------ Note: plugins have more extensive tests and may take several minutes to complete - Plugin: pam [..] - Plugin: systemd [................] 接下来，该报告被分为不同的部分，每个部分都以 [+] 符号开头。下面可以看到部分章节。（哇，要审核的地方有这么多，Lynis 是最合适的工具！）\n[+] Boot and services [+] Kernel [+] Memory and Processes [+] Users, Groups and Authentication [+] Shells [+] File systems [+] USB Devices [+] Storage [+] NFS [+] Name services [+] Ports and packages [+] Networking [+] Printers and Spools [+] Software: e-mail and messaging [+] Software: firewalls [+] Software: webserver [+] SSH Support [+] SNMP Support [+] Databases [+] LDAP Services [+] PHP [+] Squid Support [+] Logging and files [+] Insecure services [+] Banners and identification [+] Scheduled tasks [+] Accounting [+] Time and Synchronization [+] Cryptography [+] Virtualization [+] Containers [+] Security frameworks [+] Software: file integrity [+] Software: System tooling [+] Software: Malware [+] File Permissions [+] Home directories [+] Kernel Hardening [+] Hardening [+] Custom tests Lynis 使用颜色编码使报告更容易解读。\n 绿色。一切正常 黄色。跳过、未找到，可能有个建议 红色。你可能需要仔细看看这个  在我的案例中，大部分的红色标记都是在 “Kernel Hardening” 部分找到的。内核有各种可调整的设置，它们定义了内核的功能，其中一些可调整的设置可能有其安全场景。发行版可能因为各种原因没有默认设置这些，但是你应该检查每一项，看看你是否需要根据你的安全态势来改变它的值：\n[+] Kernel Hardening ------------------------------------ - Comparing sysctl key pairs with scan profile - fs.protected_hardlinks (exp: 1) [ OK ] - fs.protected_symlinks (exp: 1) [ OK ] - fs.suid_dumpable (exp: 0) [ OK ] - kernel.core_uses_pid (exp: 1) [ OK ] - kernel.ctrl-alt-del (exp: 0) [ OK ] - kernel.dmesg_restrict (exp: 1) [ DIFFERENT ] - kernel.kptr_restrict (exp: 2) [ DIFFERENT ] - kernel.randomize_va_space (exp: 2) [ OK ] - kernel.sysrq (exp: 0) [ DIFFERENT ] - kernel.yama.ptrace_scope (exp: 1 2 3) [ DIFFERENT ] - net.ipv4.conf.all.accept_redirects (exp: 0) [ DIFFERENT ] - net.ipv4.conf.all.accept_source_route (exp: 0) [ OK ] - net.ipv4.conf.all.bootp_relay (exp: 0) [ OK ] - net.ipv4.conf.all.forwarding (exp: 0) [ OK ] - net.ipv4.conf.all.log_martians (exp: 1) [ DIFFERENT ] - net.ipv4.conf.all.mc_forwarding (exp: 0) [ OK ] - net.ipv4.conf.all.proxy_arp (exp: 0) [ OK ] - net.ipv4.conf.all.rp_filter (exp: 1) [ OK ] - net.ipv4.conf.all.send_redirects (exp: 0) [ DIFFERENT ] - net.ipv4.conf.default.accept_redirects (exp: 0) [ DIFFERENT ] - net.ipv4.conf.default.accept_source_route (exp: 0) [ OK ] - net.ipv4.conf.default.log_martians (exp: 1) [ DIFFERENT ] - net.ipv4.icmp_echo_ignore_broadcasts (exp: 1) [ OK ] - net.ipv4.icmp_ignore_bogus_error_responses (exp: 1) [ OK ] - net.ipv4.tcp_syncookies (exp: 1) [ OK ] - net.ipv4.tcp_timestamps (exp: 0 1) [ OK ] - net.ipv6.conf.all.accept_redirects (exp: 0) [ DIFFERENT ] - net.ipv6.conf.all.accept_source_route (exp: 0) [ OK ] - net.ipv6.conf.default.accept_redirects (exp: 0) [ DIFFERENT ] - net.ipv6.conf.default.accept_source_route (exp: 0) [ OK ] 看看 SSH 这个例子，因为它是一个需要保证安全的关键领域。这里没有什么红色的东西，但是 Lynis 对我的环境给出了很多强化 SSH 服务的建议：\n[+] SSH Support ------------------------------------ - Checking running SSH daemon [ FOUND ] - Searching SSH configuration [ FOUND ] - OpenSSH option: AllowTcpForwarding [ SUGGESTION ] - OpenSSH option: ClientAliveCountMax [ SUGGESTION ] - OpenSSH option: ClientAliveInterval [ OK ] - OpenSSH option: Compression [ SUGGESTION ] - OpenSSH option: FingerprintHash [ OK ] - OpenSSH option: GatewayPorts [ OK ] - OpenSSH option: IgnoreRhosts [ OK ] - OpenSSH option: LoginGraceTime [ OK ] - OpenSSH option: LogLevel [ SUGGESTION ] - OpenSSH option: MaxAuthTries [ SUGGESTION ] - OpenSSH option: MaxSessions [ SUGGESTION ] - OpenSSH option: PermitRootLogin [ SUGGESTION ] - OpenSSH option: PermitUserEnvironment [ OK ] - OpenSSH option: PermitTunnel [ OK ] - OpenSSH option: Port [ SUGGESTION ] - OpenSSH option: PrintLastLog [ OK ] - OpenSSH option: StrictModes [ OK ] - OpenSSH option: TCPKeepAlive [ SUGGESTION ] - OpenSSH option: UseDNS [ SUGGESTION ] - OpenSSH option: X11Forwarding [ SUGGESTION ] - OpenSSH option: AllowAgentForwarding [ SUGGESTION ] - OpenSSH option: UsePrivilegeSeparation [ OK ] - OpenSSH option: AllowUsers [ NOT FOUND ] - OpenSSH option: AllowGroups [ NOT FOUND ] 我的系统上没有运行虚拟机或容器，所以这些显示的结果是空的：\n[+] Virtualization ------------------------------------ [+] Containers ------------------------------------ Lynis 会检查一些从安全角度看很重要的文件的文件权限：\n[+] File Permissions ------------------------------------ - Starting file permissions check File: /boot/grub2/grub.cfg [ SUGGESTION ] File: /etc/cron.deny [ OK ] File: /etc/crontab [ SUGGESTION ] File: /etc/group [ OK ] File: /etc/group- [ OK ] File: /etc/hosts.allow [ OK ] File: /etc/hosts.deny [ OK ] File: /etc/issue [ OK ] File: /etc/issue.net [ OK ] File: /etc/motd [ OK ] File: /etc/passwd [ OK ] File: /etc/passwd- [ OK ] File: /etc/ssh/sshd_config [ OK ] Directory: /root/.ssh [ SUGGESTION ] Directory: /etc/cron.d [ SUGGESTION ] Directory: /etc/cron.daily [ SUGGESTION ] Directory: /etc/cron.hourly [ SUGGESTION ] Directory: /etc/cron.weekly [ SUGGESTION ] Directory: /etc/cron.monthly [ SUGGESTION ] 在报告的底部，Lynis 根据报告的发现提出了建议。每项建议后面都有一个 “TEST-ID”（为了下一部分方便，请将其保存起来）。\nSuggestions (47): ---------------------------- * If not required, consider explicit disabling of core dump in /etc/security/limits.conf file [KRNL-5820] https://cisofy.com/lynis/controls/KRNL-5820/ * Check PAM configuration, add rounds if applicable and expire passwords to encrypt with new values [AUTH-9229] https://cisofy.com/lynis/controls/AUTH-9229/ Lynis 提供了一个选项来查找关于每个建议的更多信息，你可以使用 show details 命令和 TEST-ID 号来访问：\n$ sudo lynis show details TEST-ID 这将显示该测试的其他信息。例如，我检查了 SSH-7408 的详细信息：\n$ sudo lynis show details SSH-7408 2020-04-30 05:52:23 Performing test ID SSH-7408 (Check SSH specific defined options) 2020-04-30 05:52:23 Test: Checking specific defined options in /tmp/lynis.k8JwazmKc6 2020-04-30 05:52:23 Result: added additional options for OpenSSH 试试吧 如果你想更多地了解你的 Linux 机器的安全性，请试试 Lynis。如果你想了解 Lynis 是如何工作的，可以研究一下它的 shell 脚本，看看它是如何收集这些信息的。\nHow can I protect against single user mode Potential Attacks\nSingle User Mode\nThis is the easiest way to gain unauthorised access to a Linux system is to boot the server into Single User Mode because it does not, by default, require a root password to gain root level access. Single User Mood can be accessed by power cycling the machine and interrupting the boot process. To boot into single user mode where the GRUB bootloader is used perform the following; interrupt the boot process, press e to edit the boot configuration file, append to the line starting Linux one of either s, S, 1 or systemd. unit=[rescue.target, emergency.target, rescue] to change the argument being passed to the kernel during boot to boot into Single User Mode, then press ctrl+x.\nProtecting Against Single User Mode\nFor a traditional init based system\nAs root edit the file /etc/sysconfig/init then on the line SINGLE=/sbin/sushell change sushell TO sulogin.\nFor a systemd based system\nThe target configuration need to be altered for the root password to be prompted for. The targets are located in /lib/systemd/system the files which need alteration are emergency.service and rescue.service. Alter the line starting ExecStart=-/bin/sh –c “/usr/sbin/sushell; ……” and change the /usr/sbin/sushell to/usr/sbin/sulogin in both emergency.service and rescue.service.\nTo check this has taken affect\nThen save changes and reboot to confirm the alteration has taken affect, if the alteration was success when booting into single user mode it shall ask for the root password.\nRoot Password\nBy default, some Linux distributions do not have root password sets, this can be checked by running the command head -1 /etc/shadow and if the second column, using a colon as a delimiter, is an exclamation mark then no password has been set. If no root password is set, then regardless of if the system is set to prompt for a password for Single User Mode or not it will just load root access.\nSecuring Bootloader\nInsecure bootloaders can result in the bootloader being bypassed completely and a shell being used to gain direct root level access to the system. This is done by interrupting the GRUB boot process and appending init=/bin/bas to the line beginning linux16. This will tell the kernel to use bash instead of init.\nProtecting against bootloader side loading\nThe GRUB bootloader can be password protected by placing the configuration in /etc/grub.d/40_custom file because this file will remain un touched by updates and upgrades to the boot loader. In /etc/grub.d/40_custom add set superusers=”admin” then password admin after that save and exit the file and run the following command grub2-mkpasswd-… (allow tab completion to finish this command so that the system compatible script is run) the output of this command from grub2. Onwards need to be added to the end of the line password admin in /etc/grub.d/40_custom. After that the grub file need to be recompiled by running the command grub2-mkconfig –o /boot/grub2/grub.cfg for centos or update-grub¬ on debian.\nTo check this has taken affect\nThen save changes and reboot to confirm the alteration has taken affect, if the alteration was success when booting and wanting to change the grub setting you will need to supply the username admin and the encrypted password.\nProtecting Against Recovery Attack\nThese measures can aid in protection however, if a disk is used the recover Linux feature on the disk can be used to mount the file system and alter the GRUB setting from the disk. To protect against make any removable media have a lower boot priority than the boot drive and password protect the BIOS and boot option menu to stop someone who hasn’t got access altering the boot order and booting into a disk to make changes to the system.\nCheckInstall 如果你已经从它的源码运行“make install”安装了linux程序。想完整移除它将变得真的很麻烦，除非程序的开发者在Makefile里提供了uninstall的目标设置。否则你必须在安装前后比较你系统里文件的完整列表，然后手工移除所有在安装过程中加入的文件。\n这时候Checkinstall就可以派上使用。Checkinstall会跟踪install命令行所创建或修改的所有文件的路径(例如：“make install”、“make install_modules”等)并建立一个标准的二进制包，让你能用你发行版的标准包管理系统安装或卸载它，请参考其官方文档。\n安装Checkinstall：\n# apt install checkinstall  一旦checkinstall安装好，你就可以用下列格式创建一个特定的软件包\n# checkinstall   如果没有参数，默认安装命令“make install”将被使用。\n在这个例子里，我们将创建一个htop包，这是一个linux交互式文本模式进程查看器（类似 top）。\n首先，让我们从项目的官方网站下载源代码，作为一个好的习惯，我们存储源码包到/usr/local/src下，并解压它。\n# cd /usr/local/src # wget http://hisham.hm/htop/releases/1.0.3/htop-1.0.3.tar.gz # tar xzf htop-1.0.3.tar.gz # cd htop-1.0.3  让我们看看htop的安装命令是什么，以便我们能用Checkinstall命令调用它，如下面所示，htop用“make install”命令安装。\n# ./configure # make install  因此，要创建一个htop安装包，我们可以不带任何参数的调用checkinstall，这将使用“make install”命令创建一个包。在这个过程中， checkinstall命令会问你几个问题。\n简而言之，如下命令会创建一个htop包：\n# ./configure # checkinstall  然后checkinstall将根据你的linux系统是什么，自动地创建一个.rpm或者.deb包。\ngksudo/kdesudo Taken from here:\n You should never use normal sudo to start graphical applications as root. You should use gksudo (kdesudo on Kubuntu) to run such programs. gksudo sets HOME=/root, and copies .Xauthority to a tmp directory. This prevents files in your home directory becoming owned by root.\n Please note that this is primarily about configuration files. If you run Nautilus as root, even with gksu/gksudo, and you create a file or folder anywhere with it (including in your home directory), that file or folder will be owned by root. But if you run Nautilus (or most other graphical applications) as root with sudo, they may save their configuration files in your home directory (rather than root’s home directory). Those configuration files may be owned by root and inaccessible when you’re not running as root, which can severely mess up your settings, and may even keep some applications from working altogether.\nThe solution, once you have made this mistake, is to find the configuration files and delete them or chown them back to belonging your non-root user. Many such files start with a . or are contained in a directory that starts with a .. Some are located inside the .config folder in your home directory. To see files and folders that start with a . in Nautilus, press Ctrl+H (this shows hidden files.) To see them with ls, use the -a (or -A) flag.\nTo find if there are files not owned by you in your home directory, you can use the following command in a terminal:\nfind $HOME -not -user $USER -exec ls -lad {} \\; which will list all files under the home directory not owned by the user.\nman 手册页（man pages），即参考手册页（reference manual pages）的简称，是你进入 Linux 的钥匙。你想知道的一切都在那里，包罗万象。这套文档永远不会赢得普利策奖，但这套文档是相当准确和完整的。手册页是主要信源，其权威性是众所周知的。\n虽然它们是源头，但阅读起来并不是最令人愉快的。有一次，在很久以前的哲学课上，有人告诉我，阅读 亚里士多德 是最无聊的阅读。我不同意：说到枯燥的阅读，亚里士多德远远地排在第二位，仅次于手册页。\n乍一看，这些页面可能看起来并不完整，但是，不管你信不信，手册页并不是为了隐藏信息 —— 只是因为信息量太大，这些页面必须要有结构，而且信息是以尽可能简短的形式给出的。这些解释相当简略，需要一些时间来适应，但一旦你掌握了使用它们的技巧，你就会发现它们实际上是多么有用。\n入门 这些页面是通过一个叫做 man 的工具查看的，使用它的命令相当简单。在最简单的情况下，要使用 man，你要在命令行上输入 man，后面加一个空格和你想查询的命令，比如 ls 或 cp，像这样：\nman ls man 会打开 ls 命令的手册页。\n你可以用方向键上下移动，按 q 退出查看手册页。通常情况下，手册页是用 less 打开的，所以 less 命令的键盘快捷键在 man 中也可以使用。\n例如，你可以用 /search_term 来搜索一个特定的文本，等等。\n有一个关于手册页的介绍，这是一篇值得阅读介绍。它非常详细地说明了手册页是如何布局和组织的。\n要看这个页面，请打开一个终端，然后输入：\nman man 节 在你开始更深入地研究手册页之前，知道手册页有一个固定的页面布局和一个归档方案会有帮助。这可能会让新手感到困惑，因为我可以说：“看手册页中关于 ls 的 NAME 节（section）”，我也可以说：“看第 5 节（section）中的 passwd 的手册页。”\n这个词，“节（section）” 被用于两种不同的方式，但并不总是向新人解释其中的区别。\n我不确定为什么会出现这种混淆，但我在培训新用户和初级系统管理员时看到过几次这种混淆。我认为这可能是隧道视野，专注于一件事会使一个人忘记另一件事。一叶障目，不见泰山。\n对于那些已经知道其中的区别的人，你可以跳过这一小节。这一部分是针对那些刚接触到手册页的人。\n这就是区别：\n对于手册页\n单独的手册页是用来显示信息块的。例如，每个手册页都有一个“NAME”节，显示命令的名称和简短的描述。还会有另一个信息块，称为“SYNOPSIS”，显示该命令是如何使用的，以此类推。\n每个手册页都会有这些，以及其他的标题。这些在各个手册页上的节，或者说标题，有助于保持事情的一致性和信息的分工。\n对于手册\n使用“节”，如 “查看第 5 节中的 passwd 的手册页”，是指整个手册的内容。当我们只看一页时，很容易忽略这一点，但是 passwd 手册页是同一本手册的一部分，该手册还有 ls、rm、date、cal 等的手册页。\n整个 Linux 手册是巨大的；它有成千上万的手册页。其中一些手册页有专门的信息。有些手册页有程序员需要的信息，有些手册页有网络方面的独特信息，还有一些是系统管理员会感兴趣的。\n这些手册页根据其独特的目的被分组。想想看，把整个手册分成几个章节 —— 每章有一个特定的主题。有 9 个左右的章节（非常大的章节）。碰巧的是，这些章节被称为“节”。\n总结一下：\n 手册中单页（我们称之为“手册页”）的节是由标题定义的信息块。 这个大的手册（所有页面的集合）中的章节，刚好被称为“节”。  现在你知道区别了，希望本文的其余部分会更容易理解。\n手册页的节 你将会看到不同的手册页，所以让我们先研究一下各个页面的布局。\n手册页被分成几个标题，它们可能因提供者不同而不同，但会有相似之处。一般的分类如下：\n NAME（名称） SYNOPSIS（概要） DESCRIPTION（描述） EXAMPLES（例子） DIAGNOSTICS（诊断） FILES（文件） LIMITS（限制） PORTABILITY（可移植性） SEE ALSO（另见） HISTORY（历史） WARNING（警告）或BUGS（错误） NOTES（注意事项）  NAME - 在这个标题下是命令的名称和命令的简要描述。\nSYNOPSIS - 显示该命令的使用方法。例如，这里是 cal 命令的概要：\ncal [Month] [Year] 概要以命令的名称开始，后面是选项列表。概要采用命令行的一般形式；它显示了你可以输入的内容和参数的顺序。方括号中的参数（[]）是可选的；你可以不输入这些参数，命令仍然可以正常工作。不在括号内的项目必须使用。\n请注意，方括号只是为了便于阅读。当你输入命令时，不应该输入它们。\nDESCRIPTION - 描述该命令或工具的作用以及如何使用它。这一节通常以对概要的解释开始，并说明如果你省略任何一个可选参数会发生什么。对于长的或复杂的命令，这一节可能会被细分。\nEXAMPLES - 一些手册页提供了如何使用命令或工具的例子。如果有这一节，手册页会尝试给出一些简单的使用例子，以及更复杂的例子来说明如何完成复杂的任务。\nDIAGNOSTICS - 本节列出了由命令或工具返回的状态或错误信息。通常不显示不言自明的错误和状态信息。通常会列出可能难以理解的信息。\nFILES - 本节包含了 UNIX 用来运行这个特定命令的补充文件的列表。这里，“补充文件”是指没有在命令行中指定的文件。例如，如果你在看 passwd 命令的手册，你可能会发现 /etc/passwd 列在这一节中，因为 UNIX 是在这里存储密码信息。\nLIMITS - 本节描述了一个工具的限制。操作系统和硬件的限制通常不会被列出，因为它们不在工具的控制范围内。\nPORTABILITY - 列出其他可以使用该工具的系统，以及该工具的其他版本可能有什么不同。\nSEE ALSO - 列出包含相关信息的相关手册页。\nHISTORY - 提供命令的简要历史，如它第一次出现的时间。\nWARNING - 如果有这个部分，它包含了对用户的重要建议。\nNOTES - 不像警告那样严重，但也是重要的信息。\n同样，并不是所有的手册都使用上面列出的确切标题，但它们足够接近，可以遵循。\n手册的节 整个 Linux 手册集合的手册页传统上被划分为有编号的节：\n 第 1 节：Shell 命令和应用程序 第 2 节：基本内核服务 - 系统调用和错误代码 第 3 节：为程序员提供的库信息 第 4 节：网络服务 - 如果安装了 TCP/IP 或 NFS 设备驱动和网络协议 第 5 节：文件格式 - 例如：显示 tar 存档的样子 第 6 节：游戏 第 7 节：杂项文件和文档 第 8 节：系统管理和维护命令 第 9 节：不知名的内核规格和接口  将手册页分成这些组，可以使搜索更有效率。在我工作的地方，我有时会做一些编程工作，所以我花了一点时间看第 3 节的手册页。我也做一些网络方面的工作，所以我也知道要涉足网络部分。作为几个实验性机器的系统管理员，我在第 8 节花了很多时间。\n将手册网归入特定的节（章节），使搜索信息更加容易 —— 无论是对需要搜索的人，还是对进行搜索的机器。\n你可以通过名称旁边的数字来判断哪个手册页属于哪个部分。例如，如果你正在看 ls 的手册页，而页面的最上面写着。 LS(1)，那么你正在浏览第 1 节中的 ls 页面，该节包含关于 shell 命令和应用程序的页面。\n下面是另一个例子。如果你在看 passwd 的手册页，页面的顶部显示: PASSWD(1)，说明你正在阅读第 1 节中描述 passwd 命令如何更改用户账户密码的手册页。如果你看到 PASSWD(5)，那么你正在阅读关于密码文件和它是如何组成的的手册页。\npasswd 恰好是两个不同的东西：一个是命令的名称，一个是文件的名称。同样，第 1 节描述了命令，而第 5 节涉及文件格式。\n括号中的数字是重要的线索 —— 这个数字告诉你正在阅读的页面来自哪一节。\n搜索一个特定的节 基本命令：\nman -a name 将在每一节中搜索由 name 标识的手册页，按数字顺序逐一显示。要把搜索限制在一个特定的部分，请在 man 命令中使用一个参数，像这样：\nman 1 name 这个命令将只在手册页的第 1 节中搜索 name。使用我们前面的 passwd 例子，这意味着我们可以保持搜索的针对性。如果我想阅读 passwd 命令的手册页，我可以在终端输入以下内容：\nman 1 passwd man 工具将只在第 1 节中搜索 passwd 并显示它。它不会在任何其他节中寻找 passwd。\n这个命令的另一种方法是输入: man passwd.1。\n搜索包含某个关键词的所有手册页 如果你想获得包含某个关键词的手册页的列表，man 命令中的 -k 选项（通常称为标志或开关）可以派上用场。例如，如果你想看一个关于 ftp 的手册列表，你可以通过输入以下内容得到这个列表：\nman -k ftp 在接下来的列表中，你可以选择一个特定的手册页来阅读。\n在某些系统上，在 man -k 工作之前，系统管理员需要运行一个叫做 catman 的工具。\n了解手册的各个节 有两个有趣的工具可以帮助你搜索信息：whatis和 whereis。\nwhatis\n有的时候，我们完全可以得到我们需要的信息。我们需要的信息有很大的机会是可以找到的 —— 找到它可能是一个小问题。\n例如，如果我想看关于 passwd 文件的手册页，我在终端上输入：\nman passwd 我就会看到关于 passwd 命令所有信息的手册页，但没有关于 passwd 文件的内容。我知道 passwd 是一个命令，也有一个 passwd 文件，但有时，我可能会忘记这一点。这时我才意识到，文件结构在手册页中的不同节，所以我输入了：\nman 4 passwd 我得到这样的答复：\nNo manual entry for passwd in section 4 See 'man 7 undocumented' for help when manual pages are not available. 又是一次健忘的失误。文件结构在 System V UNIX 页面的第 4 节中。几年前，当我建立文件时，我经常使用 man 4 ...；这仍然是我的一个习惯。那么它在 Linux 手册中的什么地方呢？\n现在是时候调用 whatis 来纠正我了。为了做到这一点，我在我的终端中输入以下内容：\nwhatis passwd 然后我看到以下内容：\npasswd (1) - change user password passwd (1ssl) - compute password hashes passwd (5) - the password file 啊！passwd 文件的页面在第 5 节。现在没问题了，可以访问我想要的信息了：\nman 5 passwd 然后我被带到了有我需要的信息的手册页。\nwhatis 是一个方便的工具，可以用简短的一句话告诉你一个命令的作用。想象一下，你想知道 cal 是做什么的，而不想查看手册页。只要在命令提示符下键入以下内容。\nwhatis cal 你会看到这样的回应：\ncal (1) - displays a calendar and the date of Easter 现在你知道了 whatis 命令，我可以告诉你一个秘密 —— 有一个 man 命令的等价物。为了得到这个，我们使用 -f 开关：man -f ...。\n试试吧。在终端提示下输入 whatis cal。执行后就输入：man -f cal。两个命令的输出将是相同的。\nwhereis\nwhereis 命令的名字就说明了这一点 —— 它告诉你一个程序在文件系统中的位置。它也会告诉你手册页的存放位置。再以 cal 为例，我在提示符下输入以下内容：\nwhereis cal 我将看到这个：\ncal: /usr/bin/cal /usr/share/man/man1/cal.1.gz 仔细看一下这个回答。答案只在一行里，但它告诉我两件事：\n /usr/bin/cal 是 cal 程序所在的地方，以及 /usr/share/man/man1/cal.1.gz 是手册页所在的地方（我也知道手册页是被压缩的，但不用担心 —— man 命令知道如何即时解压）。  whereis 依赖于 PATH 环境变量；它只能告诉你文件在哪里，如果它们在你的 PATH 环境变量中。\n你可能想知道是否有一个与 whereis 相当的 man 命令。没有一个命令可以告诉你可执行文件的位置，但有一个开关可以告诉你手册页的位置。在这个例子中使用 date 命令，如果我们输入：\nwhereis date 在终端提示符下，我们会看到：\ndate: /usr/bin/date /usr/share/man/man1/date.1.gz 我们看到 date 程序在 /usr/bin/ 目录下，其手册页的名称和位置是：/usr/share/man/man1/date.1.gz。\n我们可以让 man 像 whereis 一样行事，最接近的方法是使用 -w 开关。我们不会得到程序的位置，但我们至少可以得到手册页的位置，像这样：\nman -w date 我们将看到这样的返回：\n/usr/share/man/man1/date.1.gz 你知道了 whatis 和 whereis，以及让 man 命令做同样（或接近）事情的方法。我展示了这两种方法，有几个不同的原因。\n多年来，我使用 whatis 和 whereis，因为它们在我的培训手册中。直到最近我才了解到 man -f ... 和 man -w ...。我确信我看了几百次 man 的手册页，但我从未注意到 -f 和 -w 开关。我总是在看手册页的其他东西（例如：man -k ...）。我只专注于我需要找到的东西，而忽略了其他的东西。一旦我找到了我需要的信息，我就会离开这个页面，去完成工作，而不去注意这个命令所提供的其他一些宝贝。\n这没关系，因为这部分就是手册页的作用：帮助你完成工作。\n直到最近我向别人展示如何使用手册页时，我才花时间去阅读 —— “看看还有什么可能” —— 我们才真正注意到关于 man 命令的 -f 和 -w 标记可以做什么的信息。\n不管你使用 Linux 多久了，或者多么有经验，总有一些新东西需要学习。\n手册页会告诉你在完成某项任务时可能需要知道的东西 —— 但它们也有很多内容 —— 足以让你看起来像个魔术师，但前提是你要花时间去读。\n结论 如果你花一些时间和精力在手册页上，你将会取得胜利。你对手册页的熟练程度，将在你掌握 Linux 的过程中发挥巨大作用。\ntldr Collaborative cheatsheets for console commands\n“TLDR” 是流行的互联网行话，意思是“太长不读（to long didn’t read）”。这就是他们创建 tldr 的想法。如果你觉得手册页太长而不想阅读，tldr 通过提供命令的实际例子而将其简化了。\n$ sudo apt install tldr $ tldr -u $ tldr tldr ls ls 命令可以列出一个 POSIX 系统上的文件。这是一个简单的命令，但它经常被低估，不是它能做什么（因为它确实只做了一件事），而是你该如何优化对它的使用。\nGNU 还是 BSD？ 在了解 ls 的隐藏能力之前，你必须确定你正在运行哪个 ls 命令。有两个最流行的版本：包含在 GNU coreutils 包中的 GNU 版本，以及 BSD 版本。如果你正在运行 Linux，那么你很可能已经安装了 GNU 版本的 ls。如果你正在运行 BSD 或 MacOS，那么你有的是 BSD 版本。本文会介绍它们的不同之处。\n你可以使用 --version 选项找出你计算机上的版本：\n$ ls --version 如果它返回有关 GNU coreutils 的信息，那么你拥有的是 GNU 版本。如果它返回一个错误，你可能正在运行的是 BSD 版本（运行 man ls | head 以确定）。\n你还应该调查你的发行版可能具有哪些预设选项。终端命令的自定义通常放在 $HOME/.bashrc 或 $HOME/.bash_aliases 或 $HOME/.profile 中，它们是通过将 ls 别名化为更复杂的 ls 命令来完成的。例如：\nalias ls='ls --color' 发行版提供的预设非常有用，但它们确实很难分辨出哪些是 ls 本身的特性，哪些是它的附加选项提供的。你要是想要运行 ls 命令本身而不是它的别名，你可以用反斜杠“转义”命令：\n$ \\ls 分类 单独运行 ls 会以适合你终端的列数列出文件：\n$ ls ~/example bunko jdk-10.0.2 chapterize otf2ttf.ff despacer overtar.sh estimate.sh pandoc-2.7.1 fop-2.3 safe_yaml games tt 这是有用的信息，但所有这些文件看起来基本相同，没有方便的图标来快速表示出哪个是目录、文本文件或图像等等。\n使用 -F（或 GNU 上的长选项 --classify）以在每个条目之后显示标识文件类型的指示符：\n$ ls ~/example bunko jdk-10.0.2/ chapterize* otf2ttf.ff* despacer* overtar.sh* estimate.sh pandoc@ fop-2.3/ pandoc-2.7.1/ games/ tt* 使用此选项，终端中列出的项目使用简写符号来按文件类型分类：\n 斜杠（/）表示目录（或“文件夹”）。 星号（*）表示可执行文件。这包括二进制文件（编译代码）以及脚本（具有可执行权限的文本文件）。 符号（@）表示符号链接（或“别名”）。 等号（=）表示套接字。 在 BSD 上，百分号（%）表示涂改whiteout（某些文件系统上的文件删除方法）。 在 GNU 上，尖括号（）表示门door（Illumos 和 Solaris上的进程间通信）。 竖线（|）表示 FIFO 管道。 这个选项的一个更简单的版本是 -p，它只区分文件和目录。  （LCTT 译注：在支持彩色的终端上，使用 --color 选项可以以不同的颜色来区分文件类型，但要注意如果将输出导入到管道中，则颜色消失。）\n长列表 从 ls 获取“长列表”的做法是如此常见，以至于许多发行版将 ll 别名为 ls -l。长列表提供了许多重要的文件属性，例如权限、拥有每个文件的用户、文件所属的组、文件大小（以字节为单位）以及文件上次更改的日期：\n$ ls -l -rwxrwx---. 1 seth users 455 Mar 2 2017 estimate.sh -rwxrwxr-x. 1 seth users 662 Apr 29 22:27 factorial -rwxrwx---. 1 seth users 20697793 Jun 29 2018 fop-2.3-bin.tar.gz -rwxrwxr-x. 1 seth users 6210 May 22 10:22 geteltorito -rwxrwx---. 1 seth users 177 Nov 12 2018 html4mutt.sh [...] 如果你不想以字节为单位，请添加 -h 标志（或 GNU 中的 --human）以将文件大小转换为更加人性化的表示方法：\n$ ls --human -rwxrwx---. 1 seth users 455 Mar 2 2017 estimate.sh -rwxrwxr-x. 1 seth seth 662 Apr 29 22:27 factorial -rwxrwx---. 1 seth users 20M Jun 29 2018 fop-2.3-bin.tar.gz -rwxrwxr-x. 1 seth seth 6.1K May 22 10:22 geteltorito -rwxrwx---. 1 seth users 177 Nov 12 2018 html4mutt.sh 要看到更少的信息，你可以带有 -o 选项只显示所有者的列，或带有 -g 选项只显示所属组的列：\n$ ls -o -rwxrwx---. 1 seth 455 Mar 2 2017 estimate.sh -rwxrwxr-x. 1 seth 662 Apr 29 22:27 factorial -rwxrwx---. 1 seth 20M Jun 29 2018 fop-2.3-bin.tar.gz -rwxrwxr-x. 1 seth 6.1K May 22 10:22 geteltorito -rwxrwx---. 1 seth 177 Nov 12 2018 html4mutt.sh 也可以将两个选项组合使用以显示两者。\n时间和日期格式 ls 的长列表格式通常如下所示：\n-rwxrwx---. 1 seth users 455 Mar 2 2017 estimate.sh -rwxrwxr-x. 1 seth users 662 Apr 29 22:27 factorial -rwxrwx---. 1 seth users 20697793 Jun 29 2018 fop-2.3-bin.tar.gz -rwxrwxr-x. 1 seth users 6210 May 22 10:22 geteltorito -rwxrwx---. 1 seth users 177 Nov 12 2018 html4mutt.sh 月份的名字不便于排序，无论是通过计算还是识别（取决于你的大脑是否倾向于喜欢字符串或整数）。你可以使用 --time-style 选项和格式名称更改时间戳的格式。可用格式为：\n full-iso：ISO 完整格式（1970-01-01 21:12:00） long-iso：ISO 长格式（1970-01-01 21:12） iso：iso 格式（01-01 21:12） locale：本地化格式（使用你的区域设置） posix-STYLE：POSIX 风格（用区域设置定义替换 STYLE）  你还可以使用 date 命令的正式表示法创建自定义样式。\n按时间排序 通常，ls 命令按字母顺序排序。你可以使用 -t 选项根据文件的最近更改的时间（最新的文件最先列出）进行排序。\n例如：\n$ touch foo bar baz $ ls bar baz foo $ touch foo $ ls -t foo bar baz 列出方式 ls 的标准输出平衡了可读性和空间效率，但有时你需要按照特定方式排列的文件列表。\n要以逗号分隔文件列表，请使用 -m：\nls -m ~/example bar, baz, foo 要强制每行一个文件，请使用 -1 选项（这是数字 1，而不是小写的 L）：\n$ ls -1 ~/bin/ bar baz foo 要按文件扩展名而不是文件名对条目进行排序，请使用 -X（这是大写 X）：\n$ ls bar.xfc baz.txt foo.asc $ ls -X foo.asc baz.txt bar.xfc 隐藏杂项 在某些 ls 列表中有一些你可能不关心的条目。例如，元字符 . 和 .. 分别代表“本目录”和“父目录”。如果你熟悉在终端中如何切换目录，你可能已经知道每个目录都将自己称为 .，并将其父目录称为 ..，因此当你使用 -a 选项显示隐藏文件时并不需要它经常提醒你。\n要显示几乎所有隐藏文件（. 和 .. 除外），请使用 -A 选项：\n$ ls -a . .. .android .atom .bash_aliases [...] $ ls -A .android .atom .bash_aliases [...] 有许多优秀的 Unix 工具有保存备份文件的传统，它们会在保存文件的名称后附加一些特殊字符作为备份文件。例如，在 Vim 中，备份会以在文件名后附加 ~ 字符的文件名保存。\n这些类型的备份文件已经多次使我免于愚蠢的错误，但是经过多年享受它们提供的安全感后，我觉得不需要用视觉证据来证明它们存在。我相信 Linux 应用程序可以生成备份文件（如果它们声称这样做的话），我很乐意相信它们存在 —— 而不用必须看到它们。\n要隐藏备份文件，请使用 -B 或 --ignore-backups 隐藏常用备份格式（此选项在 BSD 的 ls 中不可用）：\n$ ls bar.xfc baz.txt foo.asc~ foo.asc $ ls -B bar.xfc baz.txt foo.asc 当然，备份文件仍然存在；它只是过滤掉了，你不必看到它。\n除非另有配置，GNU Emacs 在文件名的开头和结尾添加哈希字符（＃）来保存备份文件（#file＃）。其他应用程序可能使用不同的样式。使用什么模式并不重要，因为你可以使用 --hide 选项创建自己的排除项：\n$ ls bar.xfc baz.txt #foo.asc# foo.asc $ ls --hide=\"#*#\" bar.xfc baz.txt foo.asc 递归地列出目录 除非你在指定目录上运行 ls，否则子目录的内容不会与 ls 命令一起列出：\n$ ls -F example/ quux* xyz.txt $ ls -R quux xyz.txt ./example: bar.xfc baz.txt #foo.asc# foo.asc 使用别名使其永久化 ls 命令可能是 shell 会话期间最常使用的命令。这是你的眼睛和耳朵，为你提供上下文信息和确认命令的结果。虽然有很多选项很有用，但 ls 之美的一部分就是简洁：两个字符和回车键，你就知道你到底在哪里以及附近有什么。如果你不得不停下思考（更不用说输入）几个不同的选项，它会变得不那么方便，所以通常情况下，即使最有用的选项也不会用了。\n解决方案是为你的 ls 命令添加别名，以便在使用它时，你可以获得最关心的信息。\n要在 Bash shell 中为命令创建别名，请在主目录中创建名为 .bash_aliases 的文件（必须在开头包含 .）。 在此文件中，列出要创建的别名，然后是要为其创建别名的命令。例如：\nalias ls='ls -A -F -B --human --color' 这一行导致你的 Bash shell 将 ls 命令解释为 ls -A -F -B --human --color。\n你不必仅限于重新定义现有命令，还可以创建自己的别名：\nalias ll='ls -l' alias la='ls -A' alias lh='ls -h' 要使别名起作用，shell 必须知道 .bash_aliases 配置文件存在。在编辑器中打开 .bashrc 文件（如果它不存在则创建它），并包含以下代码块：\nif [ -e $HOME/.bash_aliases ]; then source $HOME/.bash_aliases fi 每次加载 .bashrc（这是一个新的 Bash shell 启动的时候），Bash 会将 .bash_aliases 加载到你的环境中。你可以关闭并重新启动 Bash 会话，或者直接强制它执行此操作：\n$ source ~/.bashrc 如果你忘了你是否有别名命令，which 命令可以告诉你：\n$ which ls alias ls='ls -A -F -B --human --color' /usr/bin/ls 如果你将 ls 命令别名为带有选项的 ls 命令，则可以通过将反斜杠前缀到 ls 前来覆盖你的别名。例如，在示例别名中，使用 -B 选项隐藏备份文件，这意味着无法使用 ls 命令显示备份文件。 可以覆盖该别名以查看备份文件：\n$ ls bar baz foo $ \\ls bar baz baz~ foo 做一件事，把它做好 ls 命令有很多选项，其中许多是特定用途的或高度依赖于你所使用的终端。在 GNU 系统上查看 info ls，或在 GNU 或 BSD 系统上查看 man ls 以了解更多选项。\n你可能会觉得奇怪的是，一个以每个工具“做一件事，把它做好”的前提而闻名的系统会让其最常见的命令背负 50 个选项。但是 ls 只做一件事：它列出文件，而这 50 个选项允许你控制接收列表的方式，ls 的这项工作做得非常、非常好。\nexa A modern replacement for ‘ls’.\ndu (Disk Usage) 在 Linux 中使用 ls 命令 列出的目录内容中，目录的大小仅显示 4KB。这是一个默认的大小，是用来存储磁盘上存储目录的元数据的大小。\ndu 命令 表示 磁盘使用率。这是一个标准的 Unix 程序，用于估计当前工作目录中的文件空间使用情况。\n它使用递归方式总结磁盘使用情况，以获取目录及其子目录的大小。\n$ du -hs --max-depth=0 /path/dir  du – 这是一个命令 -h – 以易读的格式显示大小 (例如 1K 234M 2G) -s – 仅显示每个参数的总数 --max-depth=N – 目录的打印深度  NCurses Disk Usage Ncdu is a disk usage analyzer with an ncurses interface.\nncdu 命令旨在提供一份关于你在硬盘上使用的空间的交互式报告。\ngdu Fast disk usage analyzer with console interface written in Go\nDiff diff是Unix系统的一个很重要的工具程序。\n它用来比较两个文本文件的差异，是代码版本管理的基石之一。你在命令行下，输入：\n$ diff   diff就会告诉你，这两个文件有何差异。它的显示结果不太好懂，下面我就来说明，如何读懂diff。\n三种格式 由于历史原因，diff有三种格式：\n 正常格式（normal diff） 上下文格式（context diff） 合并格式（unified diff）  我们依次来看。\n示例文件 为了便于讲解，先新建两个示例文件。\n第一个文件叫做f1，内容是每行一个a，一共7行。\na a a a a a a 第二个文件叫做f2，修改f1而成，第4行变成b，其他不变。\na a a b a a a 正常格式 现在对f1和f2进行比较：\n$ diff f1 f2 这时，diff就会显示正常格式的结果：\n4c4 b 第一行是一个提示，用来说明变动位置。\n4c4 它分成三个部分：前面的\"4\"，表示f1的第4行有变化；中间的\"c\"表示变动的模式是内容改变（change），其他模式还有\"增加\"（a，代表addition）和\"删除\"（d，代表deletion）；后面的\"4\"，表示变动后变成f2的第4行。\n第二行分成两个部分。\n前面的小于号，表示要从f1当中去除该行（也就是第4行），后面的\"a\"表示该行的内容。\n第三行用来分割f1和f2。\n--- 第四行，类似于第二行。\n b 前面的大于号表示f2增加了该行，后面的\"b\"表示该行的内容。\n最早的Unix（即AT\u0026T版本的Unix），使用的就是这种格式的diff。\n上下文格式 上个世纪80年代初，加州大学伯克利分校推出BSD版本的Unix时，觉得diff的显示结果太简单，最好加入上下文，便于了解发生的变动。因此，推出了上下文格式的diff。\n它的使用方法是加入c参数（代表context）。\n$ diff -c f1 f2 显示结果如下：\n*** f1 2012-08-29 16:45:41.000000000 +0800 --- f2 2012-08-29 16:45:51.000000000 +0800 *************** *** 1,7 **** a a a !a a a a --- 1,7 ---- a a a !b a a a 这个结果分成四个部分。\n第一部分的两行，显示两个文件的基本情况：文件名和时间信息。\n*** f1 2012-08-29 16:45:41.000000000 +0800 --- f2 2012-08-29 16:45:51.000000000 +0800 ***表示变动前的文件，---表示变动后的文件。\n第二部分是15个星号，将文件的基本情况与变动内容分割开。\n*************** 第三部分显示变动前的文件，即f1。\n*** 1,7 **** a a a !a a a a 这时不仅显示发生变化的第4行，还显示第4行的前面三行和后面三行，因此一共显示7行。所以，前面的*** 1,7 ****就表示，从第1行开始连续7行。\n另外，文件内容的每一行最前面，还有一个标记位。如果为空，表示该行无变化；如果是感叹号（!），表示该行有改动；如果是减号（-），表示该行被删除；如果是加号（+），表示该行为新增。\n第四部分显示变动后的文件，即f2。\n--- 1,7 ---- a a a !b a a a 除了变动行（第4行）以外，也是上下文各显示三行，总共显示7行。\n合并格式 如果两个文件相似度很高，那么上下文格式的diff，将显示大量重复的内容，很浪费空间。1990年，GNU diff率先推出了\"合并格式\"的diff，将f1和f2的上下文合并在一起显示。\n它的使用方法是加入u参数（代表unified）。\n$ diff -u f1 f2 显示结果如下：\n--- f1 2012-08-29 16:45:41.000000000 +0800 +++ f2 2012-08-29 16:45:51.000000000 +0800 @@ -1,7 +1,7 @@ a a a -a +b a a a 它的第一部分，也是文件的基本信息。\n--- f1 2012-08-29 16:45:41.000000000 +0800 +++ f2 2012-08-29 16:45:51.000000000 +0800 ---表示变动前的文件，+++表示变动后的文件。\n第二部分，变动的位置用两个@作为起首和结束。\n@@ -1,7 +1,7 @@ 前面的\"-1,7\"分成三个部分：减号表示第一个文件（即f1），“1\"表示第1行，“7\"表示连续7行。合在一起，就表示下面是第一个文件从第1行开始的连续7行。同样的，\"+1,7\"表示变动后，成为第二个文件从第1行开始的连续7行。\n第三部分是变动的具体内容。\na a a -a +b a a a 除了有变动的那些行以外，也是上下文各显示3行。它将两个文件的上下文，合并显示在一起，所以叫做\"合并格式”。每一行最前面的标志位，空表示无变动，减号表示第一个文件删除的行，加号表示第二个文件新增的行。\ngit格式 版本管理系统git，使用的是合并格式diff的变体。\n$ git diff 显示结果如下：\ndiff --git a/f1 b/f1 index 6f8a38c..449b072 100644 --- a/f1 +++ b/f1 @@ -1,7 +1,7 @@ a a a -a +b a a a 第一行表示结果为git格式的diff。\ndiff --git a/f1 b/f1 进行比较的是，a版本的f1（即变动前）和b版本的f1（即变动后）。\n第二行表示两个版本的git哈希值（index区域的6f8a38c对象，与工作目录区域的449b072对象进行比较），最后的六位数字是对象的模式（普通文件，644权限）。　index 6f8a38c..449b072 100644 第三行表示进行比较的两个文件。\n--- a/f1 +++ b/f1 ---表示变动前的版本，+++表示变动后的版本。\n后面的行都与官方的合并格式diff相同。\n@@ -1,7 +1,7 @@ a a a -a +b a a a Crontab 使用 crontab 命令来执行定时任务。所谓定时任务，就是未来的某个或多个时点，预定要执行的任务，比如每五分钟收一次邮件、每天半夜两点分析一下日志等等。\nInstalling $ sudo apt install cronie Running $ systemctl enable crond.service $ systemctl start crond.service 命令详解 crontab 命令通过 /etc/cron.allow 和 /etc/cron.deny 文件来限制某些用户是否可以使用 crontab 命令：\n 当系统中有 /etc/cron.allow 文件时，只有写入此文件的用户可以使用 crontab 命令，没有写入的用户不能使用 crontab 命令。 当系统中只有 /etc/cron.deny 文件时，写入此文件的用户不能使用 crontab 命令，没有写入文件的用户可以使用 crontab 命令。 /etc/cron.allow 文件比 /etc/cron.deny 文件的优先级高，Linux 系统中默认只有 /etc/cron.deny 文件。  crontab 命令的基本格式如下：\ncrontab [选项] [file] 注意，这里的 file 指的是命令文件的名字，表示将 file 作为 crontab 的任务列表文件并载入 crontab，若在命令行中未指定文件名，则此命令将接受标准输入（键盘）上键入的命令，并将它们键入 crontab。\n常用选项    选项 功能     -u user 用来设定某个用户的 crontab 服务，例如 “-u demo” 表示设备 demo 用户的 crontab 服务，此选项一般有 root 用户来运行。   -e 编辑某个用户的 crontab 文件内容。如果不指定用户，则表示编辑当前用户的 crontab 文件。   -l 显示某用户的 crontab 文件内容，如果不指定用户，则表示显示当前用户的 crontab 文件内容。   -r 从 /var/spool/cron 删除某用户的 crontab 文件，如果不指定用户，则默认删除当前用户的 crontab 文件。   -i 在删除用户的 crontab 文件时，给确认提示。    crontab 文件格式 * * * * * 执行的任务 执行的任务字段既可以定时执行系统命令，也可以定时执行某个 Shell 脚本。\n执行时间\n   项目 含义 范围     第一个”*\" 一小时当中的第几分钟（minute） 0~59   第二个\"*\" 一天当中的第几小时（hour） 0~23   第三个\"*\" 一个月当中的第几天（day） 1~31   第四个\"*\" 一年当中的第几个月（month） 1~12   第五个\"*\" 一周当中的星期几（week） 0~7（0和7都代表星期日）    时间特殊符号\n   特殊符号 含义     *（星号） 代表任何时间。比如第一个\"*“就代表一小时种每分钟都执行一次的意思。   ,（逗号） 代表不连续的时间。比如\"0 8，12，16***命令\"就代表在每天的 8 点 0 分、12 点 0 分、16 点 0 分都执行一次命令。   -（中杠） 代表连续的时间范围。比如\"0 5 ** 1-6命令”，代表在周一到周六的凌晨 5 点 0 分执行命令。   /（正斜线） 代表每隔多久执行一次。比如\"*/10****命令\"，代表每隔 10 分钟就执行一次命令。    当“crontab -e”编辑完成之后，一旦保存退出，那么这个定时任务实际就会写入 /var/spool/cron/ 目录中，每个用户的定时任务用自己的用户名进行区分。而且 crontab 命令只要保存就会生效，只要 crond 服务是启动的。\ncrontab举例\n   时间 含义     45 22 ***命令 在每天 22 点 45 分执行命令   0 17 ** 1命令 在每周一的 17 点 0 分执行命令   0 5 1，15**命令 在每月 1 日和 15 日的凌晨 5 点 0 分执行命令   40 4 ** 1-5命令 在每周一到周五的凌晨 4 点 40 分执行命令   */10 4 ***命令 在每天的凌晨 4 点，每隔 10 分钟执行一次命令   0 0 1，15 * 1命令 在每月 1 日和 15 日，每周一 0 点 0 分都会执行命令    注意事项\n 6 个选项都不能为空，必须填写。如果不确定，则使用“*”代表任意时间。 crontab 定时任务的最小有效时间是分钟，最大有效时间是月。像 2018 年某时执行、3 点 30 分 30 秒这样的时间都不能被识别。 在定义时间时，日期和星期最好不要在一条定时任务中出现，因为它们都以天为单位，非常容易让管理员混淆。 在定时任务中，不管是直接写命令，还是在脚本中写命令，最好都使用绝对路径。有时使用相对路径的命令会报错。  run a script on startup Put the script in the appropriate user’s cron table (i. e. the crontab) with a schedule of @reboot.\nA user can edit its cron table with crontab -e.\nAn example which will run /path/to/script.sh at startup:\n@reboot /path/to/script.sh If you need to run it as root, don’t use @reboot sudo /path/to/script.sh; use sudo crontab -eu root to edit root’s crontab.\nps 简介 要对进程进行监测和控制，首先必须要了解当前进程的情况，也就是需要查看当前进程，而 ps 命令（Process Status）就是最基本同时也是非常强大的进程查看命令。使用该命令可以确定有哪些进程正在运行和运行的状态、进程是否结束、进程有没有僵死、哪些进程占用了过多的资源等等。总之大部分信息都是可以通过执行该命令得到的。ps命令列出的是当前那些进程的快照，就是执行ps命令的那个时刻的那些进程，如果想要动态的显示进程信息，就可以使用top命令。\nlinux上进程有5种状态：\n  就绪状态和运行状态\n就绪状态的状态标志state的值为TASK_RUNNING。此时，程序已被挂入运行队列，处于准备运行状态。一旦获得处理器使用权，即可进入运行状态。\n当进程获得处理器而运行时 ，state的值仍然为TASK_RUNNING，并不发生改变；但Linux会把一个专门用来指向当前运行任务的指针current指向它，以表示它是一个正在运行的进程。\n  可中断等待状态\n状态标志state的值为TASK_INTERRUPTIBL。此时，由于进程未获得它所申请的资源而处在等待状态。一旦资源有效或者有唤醒信号，进程会立即结束等待而进入就绪状态。\n  不可中断等待状态\n状态标志state的值为TASK_UNINTERRUPTIBL。此时，进程也处于等待资源状态。一旦资源有效，进程会立即进入就绪状态。这个等待状态与可中断等待状态的区别在于：处于TASK_UNINTERRUPTIBL状态的进程不能被信号量或者中断所唤醒，只有当它申请的资源有效时才能被唤醒。\n这个状态被应用在内核中某些场景中，比如当进程需要对磁盘进行读写，而此刻正在DMA中进行着数据到内存的拷贝，如果这时进程休眠被打断（比如强制退出信号）那么很可能会出现问题，所以这时进程就会处于不可被打断的状态下。\n  停止状态\n状态标志state的值为TASK_STOPPED。当进程收到一个SIGSTOP信号后，就由运行状态进入停止状态，当受到一个SIGCONT信号时，又会恢复运行状态。这种状态主要用于程序的调试，又被叫做“暂停状态”、“挂起状态”。\n  中止状态\n状态标志state的值为TASK_DEAD。进程因某种原因而中止运行，进程占有的所有资源将被回收，除了task_struct结构（以及少数资源）以外，并且系统对它不再予以理睬，所以这种状态也叫做“僵死状态”，进程成为僵尸进程。\n  ps 标识进程状态对应的 5 种状态码：\n R：就绪状态和运行状态 runnable (on run queue) S：可中断等待状态 sleeping D：不可中断等待状态 uninterruptible sleep (usually IO) T：停止状态 traced or stopped Z：中止状态 a defunct (”zombie”) process  ps 标识进程的其他状态码：\n X：死掉的进程 Dead （应该不会出现） W：内存交互状态Paging （从 2.6 内核开始无效） N：高优先级 ：低优先级 s：包含子进程 L：被锁入内存 l：多线程状态 +：前台进程  命令参数 在不同的 Linux 发行版上，ps 命令的语法各不相同，为此，Linux 采取了一个折中的方法，即融合各种不同的风格，兼顾那些已经习惯了其它系统上使用 ps 命令的用户。ps命令支持三种使用的语法格式：\n UNIX 风格，选项可以组合在一起，并且选项前必须有“-”连字符； BSD 风格，选项可以组合在一起，但是选项前不能有“-”连字符； GNU 风格的选项，选项前有两个“-”连字符；  ps 命令常用的参数：\nps -a 显示所有终端下执行的进程，包含其他用户的进程 ps -A 显示所有进程 ps -e 和-A功能一样 ps -H 显示树状结构，表示程序间的相互关系 ps -f 全格式显示进程 ps a 显示当前终端下执行的进程 ps c 显示进程的真实名称 ps e 列出程序所使用的环境变量 ps f 用ASCII字符显示树状结构，表达程序间的相互关系 ps x 显示所有进程，无论是否运行在终端上 ps u 显示用户相关的进程或者与用户相关的属性 ps r 只显示正在运行的进程 使用实例 大家如果执行 man ps 命令，则会发现 ps 命令的帮助为了适应不同的类 UNIX 系统，可用格式非常多，不方便记忆。所以，我建议大家记忆几个固定选项即可。\nps aux 查看系统中所有的进程\n# ps aux USER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMAND root 1 0.0 0.2 2872 1416 ? Ss Jun04 0:02 /sbin/init root 2 0.0 0.0 0 0 ? S Jun04 0:00 [kthreadd] root 3 0.0 0.0 0 0 ? S Jun04 0:00 [migration/0] root 4 0.0 0.0 0 0 ? S Jun04 0:00 [ksoftirqd/0] …省略部分输出… 输出信息中各列的具体含义：\n   表头 含义     USER 该进程是由哪个用户产生的。   PID 进程的 ID。   %CPU 该进程占用 CPU 资源的百分比，占用的百分比越高，进程越耗费资源。   %MEM 该进程占用物理内存的百分比，占用的百分比越高，进程越耗费资源。   VSZ 该进程占用虚拟内存的大小，单位为 KB。   RSS 该进程占用实际物理内存的大小，单位为 KB。   TTY 该进程是在哪个终端运行的。其中，tty1 ~ tty7 代表本地控制台终端（可以通过 Alt+F1 ~ F7 快捷键切换不同的终端），tty1~tty6 是本地的字符界面终端，tty7 是图形终端。pts/0 ~ 255 代表虚拟终端，一般是远程连接的终端，第一个远程连接占用 pts/0，第二个远程连接占用 pts/1，依次増长。   STAT 进程状态。   START 该进程的启动时间。   TIME 该进程占用 CPU 的运算时间，注意不是系统时间。   COMMAND 产生此进程的命令名。    ps -le 查看系统中所有的进程\nps aux 命令可以看到系统中所有的进程，ps -le 命令也能看到系统中所有的进程。由于 -l 选项的作用，所以 ps -le 命令能够看到更加详细的信息，比如父进程的 PID、优先级等。但是这两个命令的基本作用是一致的，掌握其中一个就足够了。\n# ps -le F S UID PID PPID C PRI Nl ADDR SZ WCHAN TTY TIME CMD 4 S 0 1 0 0 80 0 - 718 - ? 00:00:02 init 1 S 0 2 0 0 80 0 - 0 - ? 00:00:00 kthreadd 1 S 0 3 2 0 -40 - - 0 - ? 00:00:00 migration/0 1 S 0 4 2 0 80 0 - 0 - ? 00:00:00 ksoflirqd/0 1 S 0 5 2 0 -40 - - 0 - ? 00:00:00 migration/0 …省略部分输出… 输出信息中各列的含义：\n   表头 含义     F 进程标志，说明进程的权限，常见的标志有两个: 1：进程可以被复制，但是不能被执行；4：进程使用超级用户权限；   S 进程状态。具体的状态和\"psaux\"命令中的 STAT 状态一致；   UID 运行此进程的用户的 ID；   PID 进程的 ID；   PPID 父进程的 ID；   C 该进程的 CPU 使用率，单位是百分比；   PRI 进程的优先级，数值越小，该进程的优先级越高，越早被 CPU 执行；   NI 进程的优先级，数值越小，该进程越早被执行；   ADDR 该进程在内存的哪个位置；   SZ 该进程占用多大内存；   WCHAN 该进程是否运行。\"-“代表正在运行；   TTY 该进程由哪个终端产生；   TIME 该进程占用 CPU 的运算时间，注意不是系统时间；   CMD 产生此进程的命令名；    ps -l 查看当前 Shell 产生的进程\n# ps -l F S UID PID PPID C PRI NI ADDR SZ WCHAN TTY TIME CMD 4 S 0 18618 18614 0 80 0 - 1681 - pts/1 00:00:00 bash 4 R 0 18683 18618 4 80 0 - 1619 - pts/1 00:00:00 ps top 简介 top命令是Linux下常用的性能分析工具，能够实时显示系统中各个进程的资源占用状况，类似于Windows的任务管理器。\ntop显示系统当前的进程和其他状况，是一个动态显示过程，即可以通过用户按键来不断刷新当前状态。如果在前台执行该命令，它将独占前台，直到用户终止该程序为止。\n比较准确的说，top命令提供了实时的对系统处理器的状态监视。它将显示系统中CPU最“敏感”的任务列表。该命令可以按CPU使用、内存使用和执行时间对任务进行排序；而且该命令的很多特性都可以通过交互式命令或者在个人定制文件中进行设定。\n命令参数 top 命令的基本格式如下：\n#top [选项] 选项：\n -d 秒数：指定 top 命令每隔几秒更新。默认是 3 秒； -b：使用批处理模式输出。一般和”-n\"选项合用，用于把 top 命令重定向到文件中； -n 次数：指定 top 命令执行的次数。一般和\"-b\"选项合用； -p 进程PID：仅查看指定 ID 的进程； -s：使 top 命令在安全模式中运行，避免在交互模式中出现错误； -u 用户名：只监听某个用户的进程；  交互操作指令 在 top 命令的显示窗口中，还可以使用如下按键，进行一下交互操作：\n ? 或 h：显示交互模式的帮助 P：按照 CPU 的使用率排序，默认就是此选项 M：按照内存的使用率排序 N：按照 PID 排序 T：按照 CPU 的累积运算时间排序，也就是按照 TIME+ 项排序 k：按照 PID 给予某个进程一个信号。一般用于中止某个进程，信号 9 是强制中止的信号 r：按照 PID 给某个进程重设优先级（Nice）值 ：立即刷新 s：设置刷新时间间隔 c：显示命令完全模式 t:：显示或隐藏进程和CPU状态信息 m：显示或隐藏内存状态信息 l：显示或隐藏uptime信息 f：增加或减少进程显示标志 S：累计模式，会把已完成或退出的子进程占用的CPU时间累计到父进程的TIME+ u：指定显示用户进程 i：只显示正在运行的进程 W：保存对top的设置到文件 ~/.toprc，下次启动将自动调用toprc文件的设置。 q：退出  使用实例 # top top - 12:26:46 up 1 day, 13:32, 2 users, load average: 0.00, 0.00, 0.00 Tasks: 95 total, 1 running, 94 sleeping, 0 stopped, 0 zombie Cpu(s): 0.1%us, 0.1%sy, 0.0%ni, 99.7%id, 0.1%wa, 0.0%hi, 0.1%si, 0.0%st Mem: 625344k total, 571504k used, 53840k free, 65800k buffers Swap: 524280k total, 0k used, 524280k free, 409280k cached PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND 19002 root 20 0 2656 1068 856 R 0.3 0.2 0:01.87 top 1 root 20 0 2872 1416 1200 S 0.0 0.2 0:02.55 init 2 root 20 0 0 0 0 S 0.0 0.0 0:00.03 kthreadd 第一行为任务队列信息\n   内 容 说 明     12:26:46 系统当前时间   up 1 day, 13:32 系统的运行时间.本机己经运行 1 天 13 小时 32 分钟   2 users 当前登录了两个用户   load average: 0.00,0.00，0.00 系统在之前 1 分钟、5 分钟、15 分钟的平均负载。如果 CPU 是单核的，则这个数值超过 1 就是高负载：如果 CPU 是四核的，则这个数值超过 4 就是高负载 （这个平均负载完全是依据个人经验来进行判断的，一般认为不应该超过服务器 CPU 的核数）    第二行为进程信息\n   内 容 说 明     Tasks: 95 total 系统中的进程总数   1 running 正在运行的进程数   94 sleeping 睡眠的进程数   0 stopped 正在停止的进程数   0 zombie 僵尸进程数。如果不是 0，则需要手工检查僵尸进程    第三行为 CPU 信息\n   内 容 说 明     Cpu(s): 0.1 %us 用户模式占用的 CPU 百分比   0.1%sy 系统模式占用的 CPU 百分比   0.0%ni 改变过优先级的用户进程占用的 CPU 百分比   99.7%id 空闲 CPU 占用的 CPU 百分比   0.1%wa 等待输入/输出的进程占用的 CPU 百分比   0.0%hi 硬中断请求服务占用的 CPU 百分比   0.1%si 软中断请求服务占用的 CPU 百分比   0.0%st st（steal time）意为虚拟时间百分比，就是当有虚拟机时，虚拟 CPU 等待实际 CPU 的时间百分比    第四行为物理内存信息\n   内 容 说 明     Mem: 625344k total 物理内存的总量，单位为KB   571504k used 己经使用的物理内存数量   53840k free 空闲的物理内存数量。我们使用的是虚拟机，共分配了 628MB内存，所以只有53MB的空闲内存   65800k buffers/cache 作为缓冲的内存数量    缓冲（buffer）和缓存（cache）的区别：\n 缓存（cache）是在读取硬盘中的数据时，把最常用的数据保存在内存的缓存区中，再次读取该数据时，就不去硬盘中读取了，而在缓存中读取。 缓冲（buffer）是在向硬盘写入数据时，先把数据放入缓冲区,然后再一起向硬盘写入，把分散的写操作集中进行，减少磁盘碎片和硬盘的反复寻道，从而提高系统性能。  简单来说，缓存（cache）是用来加速数据从硬盘中\"读取\"的，而缓冲（buffer）是用来加速数据\"写入\"硬盘的。\n第五行为交换分区（swap）信息\n   内 容 说 明     Swap: 524280k total 交换分区（虚拟内存）的总大小   Ok used 已经使用的交换分区的大小   524280k free 空闲交换分区的大小   409280k cached 作为缓存的交换分区的大小    第六行为系统进程信息\n再来看 top 命令的第二部分输出，主要是系统进程信息，各个字段的含义如下：\n PID：进程的 ID。 USER：该进程所属的用户。 PR：优先级，数值越小优先级越高。 NI：优先级，数值越小、优先级越高。 VIRT：该进程使用的虚拟内存的大小，单位为 KB。 RES：该进程使用的物理内存的大小，单位为 KB。 SHR：共享内存大小，单位为 KB。 S：进程状态。 %CPU：该进程占用 CPU 的百分比。 %MEM：该进程占用内存的百分比。 TIME+：该进程共占用的 CPU 时间。 COMMAND：进程的命令名。  htop htop 是一个 Linux 下的交互式的进程浏览器，可以用来替换Linux下的top命令。\n与Linux传统的top相比，htop更加人性化。它可让用户交互式操作，支持颜色主题，可横向或纵向滚动浏览进程列表，并支持鼠标操作。\nbpytop Linux/OSX/FreeBSD resource monitor\nlsof 简介 lsof 命令，“list opened files”的缩写，直译过来，就是列举系统中已经被打开的文件。通过 lsof 命令，我们就可以根据文件找到对应的进程信息，也可以根据进程信息找到进程打开的文件。\n在linux环境下，任何事物都以文件的形式存在，通过文件不仅仅可以访问常规数据，还可以访问网络连接和硬件。如传输控制协议 (TCP) 和用户数据报协议 (UDP) 套接字等，系统在后台都为该应用程序分配了一个文件描述符，无论这个文件的本质如何，该文件描述符为应用程序与基础操作系统之间的交互提供了通用接口。因为应用程序打开文件的描述符列表提供了大量关于这个应用程序本身的信息，因此通过lsof工具能够查看这个列表对系统监测以及排错将是很有帮助的。\n在终端下输入lsof即可显示系统打开的文件，因为 lsof 需要访问核心内存和各种文件，所以必须以 root 用户的身份运行它才能够充分地发挥其功能。\n$ sudo lsof | less COMMAND PID TID TASKCMD USER FD TYPE DEVICE SIZE/OFF NODE NAME systemd 1 root cwd DIR 8,2 4096 2 / systemd 1 root rtd DIR 8,2 4096 2 / systemd 1 root txt REG 8,2 1620224 2491035 /usr/lib/systemd/systemd systemd 1 root mem REG 8,2 1369352 2498532 /usr/lib/x86_64-linux-gnu/libm-2.31.so systemd 1 root mem REG 8,2 178528 2490726 /usr/lib/x86_64-linux-gnu/libudev.so.1.6.17 输出各列信息的意义如下：\n  COMMAND：进程的名称\n  PID：进程标识符\n  PPID：父进程标识符（需要指定-R参数）\n  USER：进程所有者\n  PGID：进程所属组\n  FD：文件描述符（filedescriptor，简称 fd），应用程序通过文件描述符识别该文件类型。\n例如 cwd 表示current work dirctory，即应用程序的当前工作目录，这是该应用程序启动的目录，除非它本身对这个目录进行更改。txt 表示该类型的文件是程序代码，如应用程序二进制文件本身或共享库，如上列表中显示的 /usr/lib/systemd/systemd 程序。\n  TYPE：文件类型，如DIR、REG等，常见的文件类型:\n DIR：目录 REG：普通文件 CHR：字符 BLK：块设备类型 UNIX： UNIX 域套接字 FIFO：先进先出 (FIFO) 队列 IPv4：网际协议 (IP) 套接字    DEVICE：指定磁盘的名称\n  SIZE：文件的大小\n  NODE：索引节点（文件在磁盘上的标识）\n  NAME：打开文件的确切名称\n  命令参数    参数 含义     -a 列出打开文件存在的进程   -c  列出指定进程名所打开的文件   -g 列出GID号进程详情   -d  列出占用该文件号的进程   +d  列出目录下被打开的文件   +D  递归列出目录下被打开的文件   -n  列出使用NFS的文件   -i  列出符合条件的进程   -p  列出指定进程号所打开的文件   -u 列出UID号进程详情   -h 显示帮助信息   -v 显示版本信息    使用实例 查询某个文件被哪个进程调用\n$ lsof /bin/bash 查询某个目录下所有的文件是被哪些进程调用的\n$ lsof +d /usr/lib 查看以httpd开头的进程调用了哪些文件\n$ lsof -c httpd 查询PID是1的进程调用的文件\n$ lsof -p 1 按照用户名查询某个用户的进程调用的文件\n$ lsof -u username 列出某个用户以及某个进程所打开的文件信息\n$ lsof -u test -c mysql 列出所有的网络连接\n$ lsof -i 列出所有tcp 网络连接信息\n$ lsof -i tcp 列出谁在使用某个端口\n$ lsof -i :3306 列出某个用户的所有活跃的网络端口\n$ lsof -a -u test -i 根据文件描述列出对应的文件信息\n$ lsof -d txt 列出被进程号为1234的进程所打开的所有 IPV4 network files\n$ lsof -i 4 -a -p 1234 列出目前连接主机nf5260i5-td上端口为：20，21，80相关的所有文件信息，且每隔3秒重复执行\n$ lsof -i @nf5260i5-td:20,21,80 -r 3 write 在服务器上，有时会有多个用户同时登录，一些必要的沟通就显得尤为重要。比如,我必须关闭某个服务，或者需要重启服务器，当然需要通知同时登录服务器的用户，这时就可以使用 write 命令。\nwrite 命令的信息如下：\n 命令名称：write。 英文原意：send a message to another user。 所在路径：/usr/bin/write。 执行权限：所有用户。 功能描述：向其他用户发送信息。  write 命令的基本格式如下:\n$ write 用户名 [终端号] write 命令没有多余的选项，我们要向在某个终端登录的用户发送信息，就可以这样来执行命令：\n# 向在pts/1 (远程终端1)登录的user1用户发送信息，使用\"Ctrl+D\"快捷键保存发送的数据 $ write user1 pts/1 hello I will be in 5 minutes to restart, please save your data 这时，user1 用户就可以收到你要在 5 分钟之后重启系统的信息了。\nxargs 标准输入与管道命令 Unix 命令都带有参数，有些命令可以接受\"标准输入\"（stdin）作为参数。\n$ cat /etc/passwd | grep root 上面的代码使用了管道命令（|）。管道命令的作用，是将左侧命令（cat /etc/passwd）的标准输出转换为标准输入，提供给右侧命令（grep root）作为参数。\n因为grep命令可以接受标准输入作为参数，所以上面的代码等同于下面的代码。\n$ grep root /etc/passwd 但是，大多数命令都不接受标准输入作为参数，只能直接在命令行输入参数，这导致无法用管道命令传递参数。举例来说，echo命令就不接受管道传参。\n$ echo \"hello world\" | echo 上面的代码不会有输出。因为管道右侧的echo不接受管道传来的标准输入作为参数。\nxargs 命令的作用 xargs命令的作用，是将标准输入转为命令行参数。\n$ echo \"hello world\" | xargs echo hello world 上面的代码将管道左侧的标准输入，转为命令行参数hello world，传给第二个echo命令。\nxargs命令的格式如下。\n$ xargs [-options] [command] 真正执行的命令，紧跟在xargs后面，接受xargs传来的参数。\nxargs的作用在于，大多数命令（比如rm、mkdir、ls）与管道一起使用时，都需要xargs将标准输入转为命令行参数。\n$ echo \"one two three\" | xargs mkdir 上面的代码等同于mkdir one two three。如果不加xargs就会报错，提示mkdir缺少操作参数。\nxargs 的单独使用 xargs后面的命令默认是echo。\n$ xargs # 等同于 $ xargs echo 大多数时候，xargs命令都是跟管道一起使用的。但是，它也可以单独使用。\n输入xargs按下回车以后，命令行就会等待用户输入，作为标准输入。你可以输入任意内容，然后按下Ctrl d，表示输入结束，这时echo命令就会把前面的输入打印出来。\n$ xargs hello (Ctrl + d) hello 再看一个例子。\n$ xargs find -name \"*.txt\" ./foo.txt ./hello.txt 上面的例子输入xargs find -name以后，命令行会等待用户输入所要搜索的文件。用户输入\"*.txt\"，表示搜索当前目录下的所有 TXT 文件，然后按下Ctrl d，表示输入结束。这时就相当执行find -name *.txt。\n-d 参数与分隔符 默认情况下，xargs将换行符和空格作为分隔符，把标准输入分解成一个个命令行参数。\n$ echo \"one two three\" | xargs mkdir 上面代码中，mkdir会新建三个子目录，因为xargs将one two three分解成三个命令行参数，执行mkdir one two three。\n-d参数可以更改分隔符。\n$ echo -e \"a\\tb\\tc\" | xargs -d \"\\t\" echo a b c 上面的命令指定制表符\\t作为分隔符，所以a\\tb\\tc就转换成了三个命令行参数。echo命令的-e参数表示解释转义字符。\n-p 参数，-t 参数 使用xargs命令以后，由于存在转换参数过程，有时需要确认一下到底执行的是什么命令。\n-p参数打印出要执行的命令，询问用户是否要执行。\n$ echo 'one two three' | xargs -p touch touch one two three ?... 上面的命令执行以后，会打印出最终要执行的命令，让用户确认。用户输入y以后（大小写皆可），才会真正执行。\n-t参数则是打印出最终要执行的命令，然后直接执行，不需要用户确认。\n$ echo 'one two three' | xargs -t rm rm one two three -0 参数与 find 命令 由于xargs默认将空格作为分隔符，所以不太适合处理文件名，因为文件名可能包含空格。\nfind命令有一个特别的参数-print0，指定输出的文件列表以null分隔。然后，xargs命令的-0参数表示用null当作分隔符。\n$ find /path -type f -print0 | xargs -0 rm 上面命令删除/path路径下的所有文件。由于分隔符是null，所以处理包含空格的文件名，也不会报错。\n还有一个原因，使得xargs特别适合find命令。有些命令（比如rm）一旦参数过多会报错\"参数列表过长\"，而无法执行，改用xargs就没有这个问题，因为它对每个参数执行一次命令。\n$ find . -name \"*.txt\" | xargs grep \"abc\" 上面命令找出所有 TXT 文件以后，对每个文件搜索一次是否包含字符串abc。\n-L 参数 如果标准输入包含多行，-L参数指定多少行作为一个命令行参数。\n$ xargs find -name \"*.txt\" \"*.md\" find: paths must precede expression: `*.md' 上面命令同时将\"*.txt\"和*.md两行作为命令行参数，传给find命令导致报错。\n使用-L参数，指定每行作为一个命令行参数，就不会报错。\n$ xargs -L 1 find -name \"*.txt\" ./foo.txt ./hello.txt \"*.md\" ./README.md 上面命令指定了每一行（-L 1）作为命令行参数，分别运行一次命令（find -name）。\n下面是另一个例子。\n$ echo -e \"a\\nb\\nc\" | xargs -L 1 echo a b c 上面代码指定每行运行一次echo命令，所以echo命令执行了三次，输出了三行。\n-n 参数 -L参数虽然解决了多行的问题，但是有时用户会在同一行输入多项。\n$ xargs find -name \"*.txt\" \"*.md\" find: paths must precede expression: `*.md' 上面的命令将同一行的两项作为命令行参数，导致报错。\n-n参数指定每次将多少项，作为命令行参数。\n$ xargs -n 1 find -name 上面命令指定将每一项（-n 1）标准输入作为命令行参数，分别执行一次命令（find -name）。\n下面是另一个例子。\n$ echo {0..9} | xargs -n 2 echo 0 12 34 56 78 9 上面命令指定，每两个参数运行一次echo命令。所以，10个阿拉伯数字运行了五次echo命令，输出了五行。\n-I 参数 如果xargs要将命令行参数传给多个命令，可以使用-I参数。\n-I指定每一项命令行参数的替代字符串。\n$ cat foo.txt one two three $ cat foo.txt | xargs -I file sh -c 'echo file; mkdir file' one two three $ ls one two three 上面代码中，foo.txt是一个三行的文本文件。我们希望对每一项命令行参数，执行两个命令（echo和mkdir），使用-I file表示file是命令行参数的替代字符串。执行命令时，具体的参数会替代掉echo file; mkdir file里面的两个file。\n–max-procs 参数 xargs默认只用一个进程执行命令。如果命令要执行多次，必须等上一次执行完，才能执行下一次。\n--max-procs参数指定同时用多少个进程并行执行命令。--max-procs 2表示同时最多使用两个进程，--max-procs 0表示不限制进程数。\n$ docker ps -q | xargs -n 1 --max-procs 0 docker kill 上面命令表示，同时关闭尽可能多的 Docker 容器，这样运行速度会快很多。\nawk awk是处理文本文件的一个应用程序，几乎所有 Linux 系统都自带这个程序。\n它依次处理文件的每一行，并读取里面的每一个字段。对于日志、CSV 那样的每行格式相同的文本文件，awk可能是最方便的工具。\nawk其实不仅仅是工具软件，还是一种编程语言。不过，本文只介绍它的命令行用法，对于大多数场合，应该足够用了。\n基本用法 awk的基本用法就是下面的形式。\n# 格式 $ awk 动作 文件名 # 示例 $ awk '{print $0}' demo.txt 上面示例中，demo.txt是awk所要处理的文本文件。前面单引号内部有一个大括号，里面就是每一行的处理动作print $0。其中，print是打印命令，$0代表当前行，因此上面命令的执行结果，就是把每一行原样打印出来。\n下面，我们先用标准输入（stdin）演示上面这个例子。\n$ echo 'this is a test' | awk '{print $0}' this is a test 上面代码中，print $0就是把标准输入this is a test，重新打印了一遍。\nawk会根据空格和制表符，将每一行分成若干字段，依次用$1、$2、$3代表第一个字段、第二个字段、第三个字段等等。\n$ echo 'this is a test' | awk '{print $3}' a 上面代码中，$3代表this is a test的第三个字段a。\n下面，为了便于举例，我们把/etc/passwd文件保存成demo.txt。\nroot❌0:0:root:/root:/usr/bin/zsh daemon❌1:1:daemon:/usr/sbin:/usr/sbin/nologin bin❌2:2:bin:/bin:/usr/sbin/nologin sys❌3:3:sys:/dev:/usr/sbin/nologin sync❌4:65534:sync:/bin:/bin/sync 这个文件的字段分隔符是冒号（:），所以要用-F参数指定分隔符为冒号。然后，才能提取到它的第一个字段。\n$ awk -F ':' '{ print $1 }' demo.txt root daemon bin sys sync 变量 除了$ + 数字表示某个字段，awk还提供其他一些变量。\n变量NF表示当前行有多少个字段，因此$NF就代表最后一个字段。\n$ echo 'this is a test' | awk '{print $NF}' test $(NF-1)代表倒数第二个字段。\n$ awk -F ':' '{print $1, $(NF-1)}' demo.txt root /root daemon /usr/sbin bin /bin sys /dev sync /bin 上面代码中，print命令里面的逗号，表示输出的时候，两个部分之间使用空格分隔。\n变量NR表示当前处理的是第几行。\n$ awk -F ':' '{print NR \") \" $1}' demo.txt 1) root 2) daemon 3) bin 4) sys 5) sync 上面代码中，print命令里面，如果原样输出字符，要放在双引号里面。\nawk的其他内置变量如下。\n FILENAME：当前文件名 FS：字段分隔符，默认是空格和制表符。 RS：行分隔符，用于分割每一行，默认是换行符。 OFS：输出字段的分隔符，用于打印时分隔字段，默认为空格。 ORS：输出记录的分隔符，用于打印时分隔记录，默认为换行符。 OFMT：数字输出的格式，默认为％.6g。  函数 awk还提供了一些内置函数，方便对原始数据的处理。\n函数toupper()用于将字符转为大写。\n$ awk -F ':' '{ print toupper($1) }' demo.txt ROOT DAEMON BIN SYS SYNC 上面代码中，第一个字段输出时都变成了大写。\n其他常用函数如下。\n tolower()：字符转为小写。 length()：返回字符串长度。 substr()：返回子字符串。 sin()：正弦。 cos()：余弦。 sqrt()：平方根。 rand()：随机数。  awk内置函数的完整列表，可以查看手册。\n条件 awk允许指定输出条件，只输出符合条件的行。\n输出条件要写在动作的前面。\n$ awk '条件 动作' 文件名 请看下面的例子。\n$ awk -F ':' '/usr/ {print $1}' demo.txt root daemon bin sys 上面代码中，print命令前面是一个正则表达式，只输出包含usr的行。\n下面的例子只输出奇数行，以及输出第三行以后的行。\n# 输出奇数行 $ awk -F ':' 'NR % 2 == 1 {print $1}' demo.txt root bin sync # 输出第三行以后的行 $ awk -F ':' 'NR 3 {print $1}' demo.txt sys sync 下面的例子输出第一个字段等于指定值的行。\n$ awk -F ':' '$1 == \"root\" {print $1}' demo.txt root $ awk -F ':' '$1 == \"root\" || $1 == \"bin\" {print $1}' demo.txt root bin if 语句 awk提供了if结构，用于编写复杂的条件。\n$ awk -F ':' '{if ($1  \"m\") print $1}' demo.txt root sys sync 上面代码输出第一个字段的第一个字符大于m的行。\nif结构还可以指定else部分。\n$ awk -F ':' '{if ($1  \"m\") print $1; else print \"---\"}' demo.txt root --- --- sys sync find find 命令由 POSIX 规范 定义，它创建了一个用于衡量 POSIX 系统的开放标准，这包括 Linux、BSD 和 macOS。简而言之，只要你运行的是 Linux、BSD 或 macOS，那么 find 已经安装了。\n但是，并非所有的 find 命令都完全相同。例如，GNU 的 find 命令有一些 BSD、Busybox 或 Solaris 上 find 命令可能没有或有但实现方式不同的功能。本文使用 findutils 包中的 GNU find，因为它很容易获得且非常流行。本文演示的大多数命令都适用于 find 的其他实现，但是如果你在 Linux 以外的平台上尝试命令并得到非预期结果，尝试下载并安装 GNU 版本。\nman文档中给出的find命令的一般形式为：\nfind [-H] [-L] [-P] [-D debugopts] [-Olevel] [path...] [expression] 其实[-H] [-L] [-P] [-D debugopts] [-Olevel]这几个选项并不常用（至少在我的日常工作中，没有用到过），上面的find命令的常用形式可以简化为：\nfind [path...] [expression]   path：find命令所查找的目录路径。例如用.来表示当前目录，用/来表示系统根目录\n  expression：expression可以分为——“-options [-print -exec -ok …]”\n   -options，指定find命令的常用选项 -print，find命令将匹配的文件输出到标准输出 -exec，find命令对匹配的文件执行该参数所给出的shell命令。相应命令的形式为'command' { } \\;，注意{ }和\\；之间的空格 find ./ -size 0 -exec rm {} \\; 删除文件大小为零的文件 （还可以以这样做：rm -i find ./ -size 0 或 find ./ -size 0 | xargs rm -f \u0026）  为了用ls -l命令列出所匹配到的文件，可以把ls -l命令放在find命令的-exec选项中：find . -type f -exec ls -l { } \\; 在/logs目录中查找更改时间在5日以前的文件并删除它们：find /logs -type f -mtime +5 -exec rm { } \\; -ok，和-exec的作用相同，只不过以一种更为安全的模式来执行该参数所给出的shell命令，在执行每一个命令之前，都会给出提示，让用户来确定是否执行。 find . -name \"*.conf\" -mtime +5 -ok rm { } \\; 在当前目录中查找所有文件名以.LOG结尾、更改时间在5日以上的文件，并删除它们，只不过在删除之前先给出提示    也有人这样总结find命令的结构：\nfind start_directory options criteria_to_match action_to_perform_on_results 常用选项  -name  按照文件名查找文件。 find /dir -name filename  在/dir目录及其子目录下面查找名字为filename的文件 find . -name \"*.c\" 在当前目录及其子目录（用“.”表示）中查找任何扩展名为“c”的文件 -perm 按照文件权限来查找文件。 find . -perm 755 –print 在当前目录下查找文件权限位为755的文件，即文件属主可以读、写、执行，其它用户可以读、执行的文件 -prune  使用这一选项可以使find命令不在当前指定的目录中查找，如果同时使用-depth选项，那么-prune将被find命令忽略。 find /apps -path \"/apps/bin\" -prune -o –print 在/apps目录下查找文件，但不希望在/apps/bin目录下查找 find /usr/sam -path \"/usr/sam/dir1\" -prune -o –print 在/usr/sam目录下查找不在dir1子目录之内的所有文件 -user  按照文件属主来查找文件。 find ~ -user sam –print 在$HOME目录中查找文件属主为sam的文件 -group  按照文件所属的组来查找文件。 find /apps -group gem –print 在/apps目录下查找属于gem用户组的文件 -mtime -n +n  按照文件的更改时间来查找文件， - n表示文件更改时间距现在n天以内，+ n表示文件更改时间距现在n天以前。 find / -mtime -5 –print 在系统根目录下查找更改时间在5日以内的文件 find /var/adm -mtime +3 –print 在/var/adm目录下查找更改时间在3日以前的文件 -nogroup  查找无有效所属组的文件，即该文件所属的组在/etc/groups中不存在。 find / –nogroup -print -nouser  查找无有效属主的文件，即该文件的属主在/etc/passwd中不存在。 find /home -nouser –print -newer file1 ! file2  查找更改时间比文件file1新但比文件file2旧的文件。 -type  查找某一类型的文件，诸如： b - 块设备文件。 d - 目录。 c - 字符设备文件。 p - 管道文件。 l - 符号链接文件。 f - 普通文件。 find /etc -type d –print 在/etc目录下查找所有的目录 find . ! -type d –print 在当前目录下查找除目录以外的所有类型的文件 find /etc -type l –print 在/etc目录下查找所有的符号链接文件 -size n：[c] 查找文件长度为n块的文件，带有c时表示文件长度以字节计。 find . -size +1000000c –print 在当前目录下查找文件长度大于1 M字节的文件 find /home/apache -size 100c –print 在/home/apache目录下查找文件长度恰好为100字节的文件 find . -size +10 –print 在当前目录下查找长度超过10块的文件（一块等于512字节） -depth：在查找文件时，首先查找当前目录中的文件，然后再在其子目录中查找。 find / -name \"CON.FILE\" -depth –print 它将首先匹配所有的文件然后再进入子目录中查找 -mount：在查找文件时不跨越文件系统mount点。 find . -name \"*.XC\" -mount –print 从当前目录开始查找位于本文件系统中文件名以XC结尾的文件（不进入其它文件系统） -follow：如果find命令遇到符号链接文件，就跟踪至链接所指向的文件。  按名称查找文件 你可以借助正则表达式使用完整或部分的文件名来定位文件。find 命令需要你给出想搜索的目录；指定搜索属性选项，例如，-name 用于指定区分大小写的文件名；然后是搜索字符串。默认情况下，搜索字符串按字面意思处理：除非你使用正则表达式语法，否则 find 命令搜索的文件名正是你在引号之间输入的字符串。\n假设你的 Documents 目录包含四个文件：Foo、foo、foobar.txt 和 foo.xml。以下是对 foo 的字面搜索：\n$ find ~ -name \"foo\" /home/tux/Documents/examples/foo 你可以使用 -iname 选项使其不区分大小写来扩大搜索范围：\n$ find ~ -iname \"foo\" /home/tux/Documents/examples/foo /home/tux/Documents/examples/Foo 通配符 你可以使用基本的 shell 通配符来扩展搜索。例如，* 表示任意数量的字符：\n$ find ~ -iname \"foo*\" /home/tux/Documents/examples/foo /home/tux/Documents/examples/Foo /home/tux/Documents/examples/foo.xml /home/tux/Documents/examples/foobar.txt ? 表示单个字符：\n$ find ~ -iname \"foo*.???\" /home/tux/Documents/examples/foo.xml /home/tux/Documents/examples/foobar.txt 这不是正则表达式语法，因此 . 在示例中只表示字母“点”。\n正则表达式 你还可以使用正则表达式。与 -iname 和 -name 一样，也有区分大小写和不区分大小写的选项。但不一样的是，-regex 和 -iregex 搜索应用于整个路径，而不仅仅是文件名。这意味着，如果你搜索 foo，你不会得到任何结果，因为 foo 与 /home/tux/Documents/foo 不匹配。相反，你必须要么搜索整个路径，要么在字符串的开头使用通配符：\n$ find ~ -iregex \".*foo\" /home/tux/Documents/examples/foo /home/tux/Documents/examples/Foo 查找近一周修改过的文件 要查找近一周修改的文件，使用 -mtime 选项以及过去的天数（负数）：\n$ find ~ -mtime -7 /home/tux/Documents/examples/foo /home/tux/Documents/examples/Foo /home/tux/Documents/examples/foo.xml /home/tux/Documents/examples/foobar.txt 查找近几天修改的文件 你可以结合使用 -mtime 选项来查找近几天范围内修改的文件。对于第一个 -mtime 参数，表示上一次修改文件的最近天数。第二个参数表示最大天数。例如，搜索修改时间超过 1 天但不超过 7 天的文件：\n$ find ~ -mtime +1 -mtime -7 按文件类型限制搜索 指定查找文件的类型来优化 find 的结果是很常见的。如果你不确定要查找的内容，则不应该使用此选项。但如果你知道要查找的是文件而不是目录，或者是目录而不是文件，那么这可能是一个很好的过滤器。选项是 -type，它的参数是代表不同类型数据的字母代码。最常见的是：\n d - 目录 f - 文件 l - 链接文件 s - 套接字 p - 命名管道（用于 FIFO） b - 块设备（通常是硬盘）  下面是一些例子：\n$ find ~ -type d -name \"Doc*\" /home/tux/Documents $ find ~ -type f -name \"Doc*\" /home/tux/Downloads/10th-Doctor.gif $ find /dev -type b -name \"sda*\" /dev/sda/dev/sda1 调整范围 find 命令默认是递归的，这意味着它会在指定的目录中层层搜索结果。这在大型文件系统中可能会变得不堪重负，但你可以使用 -maxdepth 选项来控制搜索深度：\n$ find /usr -iname \"*xml\" | wc -l 15588 $ find /usr -maxdepth 2 -iname \"*xml\" | wc -l 15 也可以使用 -mindepth 设置最小递归深度：\n$ find /usr -mindepth 8 -iname \"*xml\" | wc -l 9255 与 xargs 在使用find命令的-exec选项处理匹配到的文件时， find命令将所有匹配到的文件一起传递给exec执行。但有些系统对能够传递给exec的命令长度有限制，这样在find命令运行几分钟之后，就会出现溢出错误。错误信息通常是“参数列太长”或“参数列溢出”。这就是xargs命令的用处所在，特别是与find命令一起使用。\nfind命令把匹配到的文件传递给xargs命令，而xargs命令每次只获取一部分文件而不是全部，不像-exec选项那样。这样它可以先处理最先获取的一部分文件，然后是下一批，并如此继续下去。\n在有些系统中，使用-exec选项会为处理每一个匹配到的文件而发起一个相应的进程，并非将匹配到的文件全部作为参数一次执行；这样在有些情况下就会出现进程过多，系统性能下降的问题，因而效率不高；\n而使用xargs命令则只有一个进程。另外，在使用xargs命令时，究竟是一次获取所有的参数，还是分批取得参数，以及每一次获取参数的数目都会根据该命令的选项及系统内核中相应的可调参数来确定。\n来看看xargs命令是如何同find命令一起使用的，并给出一些例子。\nfind . -type f -print | xargs file 查找系统中的每一个普通文件，然后使用xargs命令来测试它们分别属于哪类文件\nfind / -name \"core\" -print | xargs echo \"\" /tmp/core.log 在整个系统中查找内存信息转储文件(core dump) ，然后把结果保存到/tmp/core.log 文件中：\nfind . -type f -print | xargs grep \"hostname\" 用grep命令在所有的普通文件中搜索hostname这个词\nfind ./ -mtime +3 -print|xargs rm -f –r 删除3天以前的所有东西 （find . -ctime +3 -exec rm -rf {} \\;）\nfind ./ -size 0 | xargs rm -f \u0026 删除文件大小为零的文件\nfind命令配合使用exec和xargs可以使用户对所匹配到的文件执行几乎所有的命令。\nfd fd 命令是一个流行的、用户友好的 find 命令的替代品。\nFind files by file type find . -type f -exec bash -c ' [[ \"$( file -bi \"$1\" )\" == */x-shellscript* ]]' bash {} \\; -print 基于正则表达式匹配文件路径 find . -regex \".*\\(\\.txt\\|\\.pdf\\)$\" 同上，但忽略大小写\nfind . -iregex \".*\\(\\.txt\\|\\.pdf\\)$\" grep grep (global search regular expression(RE) and print out the line，全面搜索正则表达式并把行打印出来)是一种强大的文本搜索工具，它能使用正则表达式搜索文本，并把匹配的行打印出来。\ngrep 这个名字，来源于一个 Unix/Linux 中的古老的行编辑器 ed 中执行相似操作的命令：\ng/re/p 语法如下所示:\ngrep [OPTIONS] PATTERN [FILE...] grep [OPTIONS] [-e PATTERN | -f FILE] [FILE...] grep命令用于搜索由Pattern参数指定的模式，并将每个匹配的行写入标准输出中。这些模式是具有限定的正则表达式，它们使用ed或egrep命令样式。\n如果在File参数中指定了多个名称，grep命令将显示包含匹配行的文件的名称。\n对 shell 有特殊含义的字符 ($, *, [, |, ^, (, ), \\ ) 出现在 Pattern参数中时必须带双引号。如果 Pattern参数不是简单字符串，通常必须用单引号将整个模式括起来。在诸如 [a-z], 之类的表达式中，-（减号）cml 可根据当前正在整理的序列来指定一个范围。整理序列可以定义等价的类以供在字符范围中使用。\n如果未指定任何文件，grep会假定为标准输入。\n基本集 grep正则表达式元字符集：\n ^ 锚定行的开始 如：'^grep'匹配所有以grep开头的行。 $ 锚定行的结束 如：'grep$'匹配所有以grep结尾的行。 . 匹配一个非换行符的字符 如：'gr.p'匹配gr后接一个任意字符，然后是p。 * 匹配零个或多个先前字符 如：' *grep'匹配所有一个或多个空格后紧跟grep的行。 .*一起用代表任意字符。 [] 匹配一个指定范围内的字符，如'[Gg]rep'匹配Grep和grep。 [^]  匹配一个不在指定范围内的字符，如：'[^A-FH-Z]rep'匹配不包含A-F和H-Z的一个字母开头，紧跟rep的行。 \\(..\\) 标记匹配字符，如：'\\(love\\)'，love被标记为1。 \\ 锚定单词的开始，如：'\\ \\ 锚定单词的结束，如grep\\'匹配包含以grep结尾的单词的行。 x\\{m\\} 连续重复字符x，m次，如：'o\\{5\\}'匹配包含连续5个o的行。 x\\{m,\\} 连续重复字符x,至少m次，如：'o\\{5,\\}'匹配至少连续有5个o的行。 x\\{m,n\\} 连续重复字符x，至少m次，不多于n次，如：'o\\{5,10\\}'匹配连续5–10个o的行。 \\w 匹配一个文字和数字字符，也就是[A-Za-z0-9]，如：'G\\w*p'匹配以G后跟零个或多个文字或数字字符，然后是p。 \\W  w的反置形式，匹配一个非单词字符，如点号句号等。\\W*则可匹配多个。 \\b 单词锁定符，如: '\\bgrep\\b'只匹配grep，即只能是grep这个单词，两边均为空格。  常用选项 -? 同时显示匹配行上下的？行，如：grep -2 pattern filename同时显示匹配行的上下2行。\n-b，--byte-offset 打印匹配行前面打印该行所在的块号码。\n-c,--count 只打印匹配的行数，不显示匹配的内容。\n-f File，--file=File 从文件中提取模板。空文件中包含0个模板，所以什么都不匹配。\n-h，--no-filename 当搜索多个文件时，不显示匹配文件名前缀。\n-i，--ignore-case 忽略大小写差别。\n-q，--quiet 取消显示，只返回退出状态。0则表示找到了匹配的行。\n-l，--files-with-matches 打印匹配模板的文件清单。\n-L，--files-without-match 打印不匹配模板的文件清单。\n-n，--line-number 在匹配的行前面打印行号。\n-s，--silent 不显示关于不存在或者无法读取文件的错误信息。\n-v，--revert-match 反检索，只显示不匹配的行。\n-w，--word-regexp 如果被\\引用，就把表达式做为一个单词搜索。\n-V，--version 显示软件版本信息。\n怎么样使用 grep 来搜索一个文件 搜索 /etc/passwd 文件下的 boo 用户,输入:\n$ grep boo /etc/passwd 输出内容:\nfoo❌1000:1000:foo,,,:/home/foo:/bin/ksh 可以使用 grep 去强制忽略大小写。例如，使用 -i 选项可以匹配 boo, Boo, BOO 和其他组合：\n$ grep -i \"boo\" /etc/passwd 递归使用 grep 你可以递归地使用 grep 进行搜索。例如，在文件目录下面搜索所有包含字符串“192.168.1.5”的文件\n$ grep -r \"192.168.1.5\" /etc/ 或者是：\n$ grep -R \"192.168.1.5\" /etc/ 示例输出:\n/etc/ppp/options:# ms-wins 192.168.1.50/etc/ppp/options:# ms-wins 192.168.1.51/etc/NetworkManager/system-connections/Wired connection 1:addresses1=192.168.1.5;24;192.168.1.2; 你会看到搜索到 192.168.1.5 的结果每一行都前缀以找到匹配的文件名（例如：/etc/ppp/options）。输出之中包含的文件名可以加 -h 选项来禁止输出：\n$ grep -h -R \"192.168.1.5\" /etc/ 或者\n$ grep -hR \"192.168.1.5\" /etc/ 示例输出:\n# ms-wins 192.168.1.50# ms-wins 192.168.1.51addresses1=192.168.1.5;24;192.168.1.2; 使用 grep 去搜索文本 当你搜索 boo 时，grep 命令将会匹配 fooboo，boo123, barfoo35 和其他所有包含 boo 的字符串，你可以使用 -w 选项去强制只输出那些仅仅包含那个整个单词的行（LCTT译注：即该字符串两侧是英文单词分隔符，如空格，标点符号，和末端等，因此对中文这种没有断字符号的语言并不适用。）。\n$ grep -w \"boo\" file 使用 grep 命令去搜索两个不同的单词 使用 egrep 命令如下:\n$ egrep -w 'word1|word2' /path/to/file （LCTT 译注：这里使用到了正则表达式，因此使用的是 egrep 命令，即扩展的 grep 命令。）\n统计文本匹配到的行数 grep 命令可以通过加 -c 参数显示每个文件中匹配到的次数：\n$ grep -c 'word' /path/to/file 传递 -n 选项可以输出的行前加入匹配到的行的行号：\n$ grep -n 'root' /etc/passwd 示例输出:\n1:root:x:0:0:root:/root:/bin/bash1042:rootdoor:x:0:0:rootdoor:/home/rootdoor:/bin/csh3319:initrootapp:x:0:0:initrootapp:/home/initroot:/bin/ksh 反转匹配（不匹配） 可以使用 -v 选项来输出不包含匹配项的内容，输出内容仅仅包含那些不含给定单词的行，例如输出所有不包含 bar 单词的行：\n$ grep -v bar /path/to/file UNIX/Linux 管道与 grep 命令 grep 常常与管道一起使用，在这个例子中，显示硬盘设备的名字：\n# dmesg | egrep '(s|h)d[a-z]' 显示 CPU 型号：\n# cat /proc/cpuinfo | grep -i 'Model' 然而，以上命令也可以按照以下方法使用，不使用管道:\n# grep -i 'Model' /proc/cpuinfo 示例输出:\nmodel : 30model name : Intel(R) Core(TM) i7 CPU Q 820 @ 1.73GHzmodel : 30model name : Intel(R) Core(TM) i7 CPU Q 820 @ 1.73GHz 仅仅显示匹配到内容的文件名 使用 -l 选项去显示那些文件内容中包含 main() 的文件名：\n$ grep -l 'main' *.c 最后，你可以强制 grep 以彩色输出：\n$ grep --color vivek /etc/passwd 查找文件内容 从根目录开始查找所有扩展名为 .log 的文本文件，并找出包含 “ERROR” 的行：\n$ find / -type f -name \"*.log\" | xargs grep \"ERROR\" 例子：\n#!/usr/bin/bash  IREGEX=\".*\\(\\.txt\\|\\.md\\|\\.yaml\\)$\" find . \\  -type f \\  -regex $IREGEX \\ \t-print0 | xargs -0 grep -in \"$1\" 2/dev/null only matching Print only the matched (non-empty) parts of a matching line, with each such part on a separate output line.\n$ grep -oh \"\\w*th\\w*\" * cat bat A cat(1) clone with wings.\n添加了语法高亮和 Git 集成等功能，并且还提供了分页选项。\nip linux的ip命令和ifconfig类似，但前者功能更强大，并旨在取代后者。使用ip命令，只需一个命令，你就能很轻松地执行一些网络管理任务。ifconfig是net-tools中已被废弃使用的一个命令，许多年前就已经没有维护了。iproute2套件里提供了许多增强功能的命令，ip命令即是其中之一。\n设置和删除Ip地址 要给你的机器设置一个IP地址，可以使用下列ip命令：\n$ sudo ip addr add 192.168.0.193/24 dev wlan0 请注意IP地址要有一个后缀，比如/24。这种用法用于在无类域内路由选择（CIDR）中来显示所用的子网掩码。在这个例子中，子网掩码是255.255.255.0。\n在你按照上述方式设置好IP地址后，需要查看是否已经生效。\n$ ip addr show wlan0 你也可以使用相同的方式来删除IP地址，只需用del代替add。\n$ sudo ip addr del 192.168.0.193/24 dev wlan0 列出路由表条目 ip命令的路由对象的参数还可以帮助你查看网络中的路由数据，并设置你的路由表。第一个条目是默认的路由条目，你可以随意改动它。\n在这个例子中，有几个路由条目。这个结果显示有几个设备通过不同的网络接口连接起来。它们包括WIFI、以太网和一个点对点连接。\n$ ip route show 假设现在你有一个IP地址，你需要知道路由包从哪里来。可以使用下面的路由选项（译注：列出了路由所使用的接口等）：\n$ ip route get 10.42.0.47 更改默认路由 要更改默认路由，使用下面ip命令：\n$ sudo ip route add default via 192.168.0.196 显示网络统计数据 使用ip命令还可以显示不同网络接口的统计数据。\n当你需要获取一个特定网络接口的信息时，在网络接口名字后面添加选项ls即可。使用多个选项**-s**会给你这个特定接口更详细的信息。特别是在排除网络连接故障时，这会非常有用。\n$ ip -s -s link ls p2p1 ARP条目 地址解析协议（ARP）用于将一个IP地址转换成它对应的物理地址，也就是通常所说的MAC地址。使用ip命令的neigh或者neighbour选项，你可以查看接入你所在的局域网的设备的MAC地址。\n$ ip neighbour 监控netlink消息 也可以使用ip命令查看netlink消息。monitor选项允许你查看网络设备的状态。比如，所在局域网的一台电脑根据它的状态可以被分类成REACHABLE或者STALE。使用下面的命令：\n$ ip monitor all 激活和停止网络接口 你可以使用ip命令的up和down选项来激某个特定的接口，就像ifconfig的用法一样。\n在这个例子中，当ppp0接口被激活和在它被停止和再次激活之后，你可以看到相应的路由表条目。这个接口可能是wlan0或者eth0。将ppp0更改为你可用的任意接口即可。\n$ sudo ip link set ppp0 down $ sudo ip link set ppp0 up 获取帮助 当你陷入困境，不知道某一个特定的选项怎么用的时候，你可以使用help选项。man页面并不会提供许多关于如何使用ip选项的信息，因此这里就是获取帮助的地方。\n比如，想知道关于route选项更多的信息：\n$ ip route help 小结 对于网络管理员们和所有的Linux使用者们，ip命令是必备工具。是时候抛弃ifconfig命令了，特别是当你写脚本时。\ndig 使用 dig 来进行 DNS 查询。\n参数类型：查询和格式化 有两种主要的参数可以传递给 dig：\n 告诉 dig 要进行什么 DNS 查询的参数。 告诉 dig 如何 格式化响应的参数。  首先，让我们看一下查询选项。\n主要的查询选项 你通常想控制 DNS 查询的 3 件事是：\n 名称（如 jvns.ca）。默认情况下，查询的是空名称（.）。 DNS 查询类型（如 A 或 CNAME）。默认是 A。 发送查询的 服务器（如 8.8.8.8）。默认是 /etc/resolv.conf 中的内容。  其格式是：\ndig @server name type 这里有几个例子：\n dig @8.8.8.8 jvns.ca 向谷歌的公共 DNS 服务器（8.8.8.8）查询 jvns.ca。 dig ns jvns.ca 对 jvns.ca 进行类型为 NS 的查询。  -x：进行反向 DNS 查询\n我偶尔使用的另一个查询选项是 -x，用于进行反向 DNS 查询。下面是输出结果的样子。\n$ dig -x 172.217.13.174 174.13.217.172.in-addr.arpa. 72888 IN PTR yul03s04-in-f14.1e100.net。 -x 不是魔术。dig -x 172.217.13.174 只是对 174.13.217.172.in-addr.arpa. 做了一个 PTR 查询。下面是如何在不使用 `-x’ 的情况下进行完全相同的反向 DNS 查询。\n$ dig ptr 174.13.217.172.in-addr.arpa. 174.13.217.172.in-addr.arpa. 72888 IN PTR yul03s04-in-f14.1e100.net。 我总是使用 -x，因为它可以减少输入。\nDNS反向查询大概的一个定义就是：\n从 IP 地址获取 PTR 记录。也就是说，通过使用一些网络工具可以将 IP 地址转换为主机名。 实际上，PRT 代表 POINTER，在 DNS 系统有唯一性，将 IP 地址与规范化的主机名联系起来。PTR 记录其实是 NDS 系统的一部分，但是由专门的区域文件组成的，使用的是传统的 in-addr.arpa 格式。\n格式化响应的选项 现在，让我们讨论一下你可以用来格式化响应的参数。\n我发现 dig 默认格式化 DNS 响应的方式对初学者来说是很难接受的。下面是输出结果的样子：\n;  DiG 9.16.20  -r jvns.ca ;; global options: +cmd ;; Got answer: ;; -HEADERde: QUERY, status: NOERROR, id: 28629 ;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1 ;; OPT PSEUDOSECTION: ; EDNS: version: 0, flags:; udp: 4096 ; COOKIE: d87fc3022c0604d60100000061ab74857110b908b274494d (good) ;; QUESTION SECTION: ;jvns.ca. IN A ;; ANSWER SECTION: jvns.ca. 276 IN A 172.64.80.1 ;; Query time: 9 msec ;; SERVER: 192.168.1.1#53(192.168.1.1) ;; WHEN: Sat Dec 04 09:00:37 EST 2021 ;; MSG SIZE rcvd: 80 如果你不习惯看这个，你可能需要花点时间来筛选，找到你要找的 IP 地址。而且大多数时候，你只对这个响应中的一行感兴趣（jvns.ca. 180 IN A 172.64.80.1）。\n下面是我最喜欢的两种方法，可以使 dig 的输出更容易管理：\n方式 1 : +noall +answer\n这告诉 dig 只打印 DNS 响应中的“答案”部分的内容。下面是一个查询 google.com 的 NS 记录的例子：\n$ dig +noall +answer ns google.com google.com. 158564 IN NS ns4.google.com. google.com. 158564 IN NS ns1.google.com. google.com. 158564 IN NS ns2.google.com. google.com. 158564 IN NS ns3.google.com. 这里的格式是：\nNAME TTL TYPE CONTENT google.com 158564 IN NS ns3.google.com. 顺便说一下：如果你曾经想知道 IN 是什么意思，它是指“查询类”，代表“互联网internet”。它基本上只是上世纪 80、90 年代的遗物，当时还有其他网络与互联网竞争，如“混沌网络chaosnet”。\n方式 2：+short\n这就像 dig +noall +answer，但更短：它只显示每条记录的内容。比如说：\n$ dig +short ns google.com ns2.google.com. ns1.google.com. ns4.google.com. ns3.google.com. digrc 如果你不喜欢 dig 的默认格式（我就不喜欢！），你可以在你的主目录下创建一个 .digrc 文件，告诉它默认使用不同的格式。\n我非常喜欢 +noall +answer 格式，所以我把 +noall +answer 放在我的 ~/.digrc 中。下面是我使用该配置文件运行 dig jvns.ca 时的情况。\n$ dig jvns.ca jvns.ca. 255在172.64.80.1中 这样读起来就容易多了！\n如果我想回到所有输出的长格式（我有时会这样做，通常是因为我想看响应的权威部分的记录），我可以通过运行再次得到一个长答案。\n$ dig +all jvns.ca dig +trace 我使用的最后一个 dig 选项是 +trace。dig +trace 模仿 DNS 解析器在查找域名时的做法 —— 它从根域名服务器开始，然后查询下一级域名服务器（如 .com），以此类推，直到到达该域名的权威域名服务器。因此，它将进行大约 30 次 DNS 查询。（我用 tcpdump 检查了一下，对于每个根域名服务器的 A / AAAA 记录它似乎要进行 2 次查询，所以这已经是 26 次查询了。我不太清楚它为什么这样做，因为它应该已经有了这些 IP 的硬编码，但它确实如此。）\n我发现这对了解 DNS 的工作原理很有用，但我不认为我用它解决过问题。\n为什么要用 dig 尽管有一些更简单的工具来进行 DNS 查询（如 dog 和 host），我发现自己还是坚持使用 dig。\n我喜欢 dig 的地方实际上也是我 不喜欢 dig 的地方 —— 它显示了大量的细节！\n我知道，如果我运行 dig +all，它将显示 DNS 响应的所有部分。例如，让我们查询 jvns.ca 的一个根名称服务器。响应有 3 个部分，我可能会关心：回答部分、权威部分和附加部分。\n$ dig @h.root-servers.net. jvns.ca +all ;; Got answer: ;; -HEADERde: QUERY, status: NOERROR, id: 18229 ;; flags: qr rd; QUERY: 1, ANSWER: 0, AUTHORITY: 4, ADDITIONAL: 9 ;; WARNING: recursion requested but not available ;; OPT PSEUDOSECTION: ; EDNS: version: 0, flags:; udp: 1232 ;; QUESTION SECTION: ;jvns.ca. IN A ;; AUTHORITY SECTION: ca. 172800 IN NS c.ca-servers.ca. ca. 172800 IN NS j.ca-servers.ca. ca. 172800 IN NS x.ca-servers.ca. ca. 172800 IN NS any.ca-servers.ca. ;; ADDITIONAL SECTION: c.ca-servers.ca. 172800 IN A 185.159.196.2 j.ca-servers.ca. 172800 IN A 198.182.167.1 x.ca-servers.ca. 172800 IN A 199.253.250.68 any.ca-servers.ca. 172800 IN A 199.4.144.2 c.ca-servers.ca. 172800 IN AAAA 2620:10a:8053::2 j.ca-servers.ca. 172800 IN AAAA 2001:500:83::1 x.ca-servers.ca. 172800 IN AAAA 2620:10a:80ba::68 any.ca-servers.ca. 172800 IN AAAA 2001:500:a7::2 ;; Query time: 103 msec ;; SERVER: 198.97.190.53#53(198.97.190.53) ;; WHEN: Sat Dec 04 11:23:32 EST 2021 ;; MSG SIZE rcvd: 289 dog 也显示了 “附加” 部分的记录，但它没有明确指出哪个是哪个（我猜 + 意味着它在附加部分？） ，但它似乎没有显示“权威”部分的记录。\n$ dog @h.root-servers.net. jvns.ca NS ca. 2d0h00m00s A \"c.ca-servers.ca.\" NS ca. 2d0h00m00s A \"j.ca-servers.ca.\" NS ca. 2d0h00m00s A \"x.ca-servers.ca.\" NS ca. 2d0h00m00s A \"any.ca-servers.ca.\" A c.ca-servers.ca. 2d0h00m00s + 185.159.196.2 A j.ca-servers.ca. 2d0h00m00s + 198.182.167.1 A x.ca-servers.ca. 2d0h00m00s + 199.253.250.68 A any.ca-servers.ca. 2d0h00m00s + 199.4.144.2 AAAA c.ca-servers.ca. 2d0h00m00s + 2620:10a:8053::2 AAAA j.ca-servers.ca. 2d0h00m00s + 2001:500:83::1 AAAA x.ca-servers.ca. 2d0h00m00s + 2620:10a:80ba::68 AAAA any.ca-servers.ca. 2d0h00m00s + 2001:500:a7::2 而 host 似乎只显示“答案”部分的记录（在这种情况下没有得到记录）：\n$ host jvns.ca h.root-servers.net Using domain server: Name: h.root-servers.net Address: 198.97.190.53#53 Aliases: 总之，我认为这些更简单的 DNS 工具很好（我甚至自己做了一个 简单的网络 DNS 工具），如果你觉得它们更容易，你绝对应该使用它们，但这就是为什么我坚持使用 dig 的原因。drill 的输出格式似乎与 dig 的非常相似，也许 drill 更好！但我还没有真正试过它。\nSamba Samba 是 SMB/CIFS 网络协议的重新实现, 可以在 Linux 和 Windows 系统间进行文件、打印机共享，和 NFS 的功能类似。\n安装 $ sudo apt install samba $ sudo systemctl enable --now smbd.service Samba 服务的配置文件是 /etc/samba/smb.conf，smb.conf(5)提供了详细的文档。\n如果使用了 防火墙，请记得打开需要的端口(通常是 137-139 + 445)。完整列表请查看 Samba 端口使用。\n$ sudo ufw allow Samba $ sudo ufw reload 创建共享 创建的目录即之后能够在Windows主机上直接访问的目录。例如：在用户samba_user的主目录下新建share文件夹为共享目录，由于Windows下的文件夹需可读可写可执行，需更改权限为777\n$ mkdir /home/samba_user/smbshare $ sudo chmod 777 /home/samba_user/smbshare 修改 /etc/samba/smb.conf，在smb.conf文件最后加上以下内容\n$ sudo vim /etc/samba/smb.conf [share] path = /home/samba_user/smbshare public = yes writable = yes valid users = samba_user create mask = 0644 force create mode = 0644 directory mask = 0755 force directory mode = 0755 available = yes  [share]表示共享文件夹的别名，之后将直接使用这个别名 force create mode 与 force directory mode的设置是因为Windows下与Linux下文件和文件夹的默认权限不同造成的，Windows下新建的文件是可执行的，必须强制设定其文件权限。 valid users 设置为你当前的Linux用户名，例如我的是samba_user，因为第一次打开共享文件夹时，需要验证权限。  用户管理 Samba 需要 Linux 账户才能使用 - 可以使用已有账户或创建新用户。\n虽然用户名可以和 Linux 系统共享，Samba 使用单独的密码管理，将下面的 samba_user 替换为上面设置的 valid users:\n$ sudo smbpasswd -a samba_user 根据服务器角色的差异，可能需要修改已有的文件权限和属性。\nWhich is faster-Samba or scp? Depends on the machines. Machines with really fast CPU may do SCP or SFTP faster.\nOtherwise, Samba will probably be faster because it doesn’t have to encrypt.\nConnect to servers with nautilus Step 1: find the “Other Locations” button on the left-hand side of the Gnome file manager and click on the mouse.\nStep 2: make your way to the “Connect to Server” text box and tap on it with the mouse.\nStep 3: write out smb:// followed by the IP address of the Samba file server. Alternatively, write out the hostname of the file server, as that works as well. Confused? Copy the examples below.\n# ip address smb://ip.address.of.samba.file.server # hostname smb://MyExampleSambaShare ftp://ip.address.of.ftp.server nfs://ip.address.of.nfs.server Step 4: click on the “Connect” button to send out a new Samba connection. Assuming your file server has no user-name setup and is public, you’ll instantly see the files and be able to interact with the server.\nHowever, if your server requires a username/password, you must fill out the username/password before using Samba.\nMount Samba Share in Linux List available shares on server:\nInstall the samba client library:\n$ sudo apt install smbclient Then list the shares:\n$ smbclient -L // You will then be prompted to enter a password (assuming your share requires one) and then will output something like this:\nSharename Type Comment --------- ---- ------- folder-mount-1 Disk Description 1 folder-mount-2 Disk Description 2 folder-mount-3 Disk Description 3 IPC$ IPC IPC Service (Server Name) Note the share name that you want to mount for later.\n Temp mount the share to a folder:\nInstall the cifs-utils package:\n$ sudo apt install cifs-utils Create the mount-point (folder) and then mount the share:\n$ sudo mkdir /mnt/myFolder $ sudo mount -t cifs -o username=serverUserName //myServerIpAdress/sharename /mnt/myFolder/ (Note: this will unmount upon reboot.)\n Permanently mount the share to a folder:\nInstall the cifs-utils package:\n$ sudo apt install cifs-utils Create the mount-point (folder):\n$ sudo mkdir /mnt/myFolder Modify your fstab file:\n$ sudo vi /etc/fstab Place the following line at or near the bottom of the file:\n$ /// /mnt/myFolder/ cifs username=YOURUSERNAME,password=YOURPASSWORD,iocharset=utf8,file_mode=0777,dir_mode=0777 (be sure to swap in your info into the line above)\nReboot your server and you should be off to the races. To confirm that it is still mounted, type df -h and look found your mount in the list.\nsudo 简单的说，sudo 是一种权限管理机制，管理员可以授权于一些普通用户去执行一些 root 执行的操作，而不需要知道 root 的密码。\n严谨些说，sudo 允许一个已授权用户以超级用户或者其它用户的角色运行一个命令。当然，能做什么不能做什么都是通过安全策略来指定的。sudo 支持插件架构的安全策略，并能把输入输出写入日志。第三方可以开发并发布自己的安全策略和输入输出日志插件，并让它们无缝的和 sudo 一起工作。默认的安全策略记录在 /etc/sudoers 文件中。而安全策略可能需要用户通过密码来验证他们自己。也就是在用户执行 sudo 命令时要求用户输入自己账号的密码。如果验证失败，sudo 命令将会退出。\n命令语法 $ sudo [-bhHpV][-s ][-u ][指令] $ sudo [-klv] 参数：\n -b 在后台执行指令。 -h 显示帮助。 -H 将HOME环境变量设为新身份的HOME环境变量。 -k 结束密码的有效期限，也就是下次再执行sudo时便需要输入密码。 -l 列出目前用户可执行与无法执行的指令。 -p 改变询问密码的提示符号。 -s 执行指定的shell。 -u  以指定的用户作为新的身份。若不加上此参数，则预设以root作为新的身份。 -v 延长密码有效期限5分钟。 -V 显示版本信息。 -S 从标准输入流替代终端来获取密码  基本配置 系统默认创建了一个名为 sudo 的组。只要把用户加入这个组，用户就具有了 sudo 的权限。\n至于如何把用户加入 sudo 组，您可以直接编辑 /etc/group 文件，当然您得使用一个有 sudo 权限的用户来干这件，在 sudo 组中加入新的用户，要使用逗号分隔多个用户。\n或者您可以使用 usermod 命令把用户添加到一个组中：\n$ sudo usermod -a -G sudo jack 上面的设置中我们把用户 jack 添加到了 sudo 组中，所以当用户 jack 登录后就可以通过 sudo 命令以 root 权限执行命令了！\n详细配置 在前面的配置中我们只是把用户 jack 加入了 sudo 组，他就具有了通过 root 权限执行命令的能力。\n现在我们想问一下，这是怎么发生的？是时候介绍如何配置 sudo 命令了！\nsudo 命令的配置文件为 /etc/sudoers。\n编辑这个文件是有单独的命令的 visudo，这个文件我们最好不要使用 vim 命令来打开，是因为一旦你的语法写错会造成严重的后果，这个工具会替你检查你写的语法，这个文件的语法遵循以下格式：\nwho where whom command 说白了就是哪个用户在哪个主机以谁的身份执行那些命令，那么这个 where, 是指允许在那台主机 ssh 连接进来才能执行后面的命令，文件里面默认给 root 用户定义了一条规则：\nroot ALL=(ALL:ALL) ALL  root 表示 root 用户。 ALL 表示从任何的主机上都可以执行，也可以这样 192.168.100.0/24。 (ALL:ALL) 是以谁的身份来执行，ALL:ALL 就代表 root 可以任何人的身份来执行命令。 ALL 表示任何命令。  那么整条规则就是 root 用户可以在任何主机以任何人的身份来执行所有的命令。\n现在我们可以回答 jack 为什么具有通过 root 权限执行命令的能力了。打开 /etc/sudoers 文件：\n%sudo ALL=(ALL:ALL) ALL sudo 组中的所有用户都具有通过 root 权限执行命令的能力！\n再看个例子：\nnick 192.168.10.0/24=(root) /usr/sbin/useradd 上面的配置只允许 nick 在 192.168.10.0/24 网段上连接主机并且以 root 权限执行 useradd 命令。\n设置 sudo 时不需要输入密码\n只需要在配置行中添加 NOPASSWD: 就可以了：\n%sudo ALL=(ALL:ALL) NOPASSWD:ALL 日志 在 ubuntu 中，sudo 的日志默认被记录在 /var/log/auth.log 文件中。当我们执行 sudo 命令时，相关日志都是会被记录下来的。\n与输出重定向 如果当前用户没有某个文件的写权限，又要通过输出重定向往该文件中写入内容。结果只能是 “Permission denied”。\n比如当前用户为 nick，下面的命令试图查询 /root 目录下的文件并把结果写入到 /root/test.txt 文件中，注意用户 nick 没有对 /root/test.txt 文件的写权限：\n$ sudo ls -al /root/test.txt -rw-r--r-- 1 root root 0 Jan 10 05:19 /root/test.txt $ sudo ls -al /root  /root/test.txt -bash: /root/test.txt: Premission denied 不工作的原因是：虽然 ls 命令是以 sudo 方式执行的，但是输出重定向操作是由当前 shell 执行的，它(当前 shell)没有 /root/test.txt 文件的权限，所以最终失败。\n搞清楚了原因，就可以通过不同的方式来解决这个问题了，下面介绍四种方式。\n以 sudo 方式运行 shell\n既然是 shell 进程没有权限，那就用 sudo 的方式执行 shell：\n$ sudo bash -c 'ls -al /root  /root/test.txt' 把命令写入脚本，以 sudo 方式执行脚本\n把下面的代码保存到脚本文件 test.sh 中：\n#!/bin/bash ls -al /root  /root/test.txt 然后通过下面的方式执行：\n$ chmod +x test.sh $ sudo ./test.sh 如果觉着创建脚本麻烦的话还可以使用变通的方式：\n$ sudo bash  ls -al /root  /root/test.txt  EOF 或者是下面的写法：\n$ echo 'ls -al /root  /root/test.txt' | sudo bash 先通过 sudo -s 启动 shell，然后执行命令\n先通过 sudo -s 命令切换到 root 用户再执行命令，最后 ctrl + d 退出。\n通过 sudo tee 命令实现\nTee 命令用于将数据重定向到文件，另一方面还可以提供一份重定向数据的副本作为后续命令的 stdin。简单的说就是把数据重定向到给定文件和屏幕上：\n面的命令中通过 sudo tee 把 ls 命令的输出写入文件：\n$ sudo ls -al /root | sudo tee /root/test.txt  /dev/null 其中的  /dev/null 阻止 tee 把内容输出到终端。\nfdisk Linux 系统中所有的硬件设备都是通过文件的方式来表现和使用的，我们将这些文件称为设备文件，硬盘对应的设备文件一般被称为块设备文件。\n磁盘分类 比较常见的磁盘类型有消费类市场中的 SATA 硬盘和服务器中使用的 SCSI 硬盘、SAS 硬盘，当然还有当下大热的各种固态硬盘。\nSATA 硬盘\nSATA(Serial ATA)口的硬盘又叫串口硬盘，Serial ATA 采用串行连接方式，串行 ATA 总线使用嵌入式时钟信号，具备了更强的纠错能力，与以往相比其最大的区别在于能对传输指令(不仅仅是数据)进行检查，如果发现错误会自动矫正，这在很大程度上提高了数据传输的可靠性。串行接口还具有结构简单、支持热插拔的优点。SATA 硬盘主要用于消费类市场和一些低端服务器：\nSCSI 硬盘\nSCSI 硬盘即采用 SCSI 接口的硬盘。它由于性能好、稳定性高，因此在服务器上得到广泛应用。同时其价格也不菲，正因它的价格昂贵，所以在普通PC上很少见到它的踪迹。SCSI 硬盘使用 50 针接口，外观和普通硬盘接口有些相似(下图来自互联网)：\nSAS 硬盘\nSAS 是 Serial Attached SCSI 的缩写，即串行连接的 SCSI，其目标是定义一个新的串行点对点的企业级存储设备接口。串行接口减少了线缆的尺寸，允许更快的传输速度。SAS 硬盘与相同转速的 SCSI 硬盘相比有相同或者更好的性能。SAS 硬盘一般用于比较高端的服务器。\n固态硬盘\n固态硬盘(Solid State Disk)，一般称之为 SSD 硬盘，固态硬盘是用固态电子存储芯片阵列而制成的硬盘，由控制单元和存储单元(FLASH芯片、DRAM芯片)组成。其主要特点是没有传统硬盘的机械结构，读写速度非常快(下图来自互联网)：\n表示方法 在 Linux 系统中磁盘设备文件的命名规则为：\n主设备号 + 次设备号 + 磁盘分区号 对于目前常见的磁盘，一般表示为：\nsd[a-z]x  主设备号代表设备的类型，相同的主设备号表示同类型的设备。当前常见磁盘的主设备号为 sd。 次设备号代表同类设备中的序号，用 “a-z” 表示。比如 /dev/sda 表示第一块磁盘，/dev/sdb 表示第二块磁盘。 x 表示磁盘分区编号。在每块磁盘上可能会划分多个分区，针对每个分区，Linux 用 /dev/sdbx 表示，这里的 x 表示第二块磁盘的第 x 个分区。  磁盘分区 创建磁盘分区大概有下面几个目的：\n 提升数据的安全性(一个分区的数据损坏不会影响其他分区的数据) 支持安装多个操作系统 多个小分区对比一个大分区会有性能提升 更好的组织数据  本文以常见的 MBR 分区为例介绍磁盘分区中的一些常见概念。MBR 磁盘的分区由主分区、扩展分区和逻辑分区组成。在一块磁盘上，主分区的最大个数是 4，其中扩展分区也是一个主分区，并且最多只能有一个扩展分区，但可以在扩展分区上创建多个逻辑分区。因此主分区(包括扩展分区)的范围是 1-4，逻辑分区从 5 开始。对于逻辑分区，Linux 规定它们必须建立在扩展分区上，而不是建立在主分区上。\n主分区的作用是用来启动操作系统的，主要存放操作系统的启动或引导程序。\n扩展分区只不过是逻辑分区的 “容器”。实际上只有主分区和逻辑分区是用来进行数据存储的，因而可以将数据集中存放在磁盘的逻辑分区中。\n我们可以通过 fdisk 命令来查看磁盘分区的信息：\n$ sudo fdisk -l /dev/sda 分区信息：\n Device 显示了磁盘分区对应的设备文件名。 Boot 显示是否为引导分区，是引导分区就有一个 ‘*’ 号。 Start 表示磁盘分区的起始位置。 End 表示磁盘分区的结束位置。 Sectors 表示分区占用的扇区数目。 Size 显示分区的大小。 Id/Type 显示的内容相同，分别是数值 ID 及其文字描述。 Id 列显示了磁盘分区对应的 ID，根据分区的不同，分区对应的 ID 号也不相同。Linux 下用 83 表示主分区和逻辑分区，5 表示扩展分区，8e 表示 LVM 分区，82 表示交换分区，7 表示 NTFS 分区。  划分磁盘分区 fdisk 是 Linux 系统中一款功能强大的磁盘分区管理工具，可以观察硬盘的使用情况，也可以用来管理磁盘分区。\n假设我们的 Linux 系统中增加了一块新的磁盘，系统对应的设备名为 /dev/sdd，下面我们通过 fdisk 命令对这个磁盘进行分区：\n$ (echo n; echo p; echo 1; echo ; echo ; echo w) | sudo fdisk /dev/sdd  命令 n 来创建新分区 p 来创建主分区 主分区的编号为 1- 4，这里我们输入了 1。 分区的大小是通过设置分区开始处的扇区和结束处的扇区设置的。这里如果回车两次会把整个磁盘划分为一个分区，也就是整个磁盘的容器都分给了一个分区。 注意此时的分区信息还没有写入到磁盘中，在这里还可以反悔，如果确认执行上面的分区，执行 w 命令就行了。  这时分区操作已经完成了，我们可以通过下面的命令查看分区的结果：\n$ sudo fdisk -l /dev/sdd 分区是使用磁盘的基础，在分区完成后还需要对分区进行格式化，并把格式化后的文件系统挂载到 Linux 系统之后才能存储文件。\n更改分区的类型\n创建的分区类型默认为 83(Linux)，如果想要一个 8e(Linux LVM)类型的分区，在 fdisk 输入 t 命令来修改分区的类型。\nfuser 当使用umount命令卸载挂载点时，会遇到“device is busy”提示，这时fuser就能查出谁在使用这个资源。\n描述 fuser可以显示出当前哪个程序在使用磁盘上的某个文件、挂载点、甚至网络端口，并给出程序进程的详细信息。\n每个进程 ID 后面跟有一个字母代码。字母代码的解释如下所述。\n c：表示此进程正在使用该文件作为其当前目录。 e：将此文件作为程序的可执行对象使用 f：打开的文件。默认不显示。 F：打开的文件，用于写操作。默认不显示。 r：表示此进程正在将该文件用作其根目录。 m：指示进程使用该文件进行内存映射，抑或该文件为共享库文件，被进程映射进内存。 s：将此文件作为共享库（或其他可装载对象）使用  对于具有已挂载文件系统的块特殊设备，将列出使用该设备上的任何文件的所有进程。对于所有类型的文件（文本文件、可执行文件、目录、设备，等等），只会报告使用该文件的进程。\n对于所有类型的设备，fuser 还会显示打开设备的任何已知内核使用者。内核使用者显示为下列格式之一：\n[module_name] [module_name,dev_path=path] [module_name,dev=(major,minor)] [module_name,dev=(major,minor),dev_path=path] 如果指定了多组文件，可能需要为其他每个文件组重新指定选项。单个短划线可取消当前施行的选项。\n各个进程 ID 输出到标准输出中的单个行上，并以空格分隔。所有其他输出（包括单个终止换行符）均被写入到标准错误。\n任何用户都可以运行 fuser，但只有超级用户可以终止其他用户的进程。\n选项 支持以下选项：\n -a：显示所有命令行中指定的文件，默认情况下被访问的文件才会被显示。 -c：和-m一样，用于POSIX兼容。 -k：杀掉访问文件的进程。如果没有指定-signal就会发送SIGKILL信号。 -i：杀掉进程之前询问用户，如果没有-k这个选项会被忽略。 -l：列出所有已知的信号名称。 -m：name 指定一个挂载文件系统上的文件或者被挂载的块设备（名称name）。这样所有访问这个文件或者文件系统的进程都会被列出来。如果指定的是一个目录会自动转换成\"name/\",并使用所有挂载在那个目录下面的文件系统。 -n：space 指定一个不同的命名空间(space).这里支持不同的空间文件(文件名，此处默认)、tcp(本地tcp端口)、udp(本地udp端口)。对于端口， 可以指定端口号或者名称，如果不会引起歧义那么可以使用简单表示的形式，例如：name/space (即形如:80/tcp之类的表示)。 -s：静默模式，这时候-u,-v会被忽略。-a不能和-s一起使用。 -signal：使用指定的信号，而不是用SIGKILL来杀掉进程。可以通过名称或者号码来表示信号(例如-HUP,-1),这个选项要和-k一起使用，否则会被忽略。 -u：在每个PID后面添加进程拥有者的用户名称。 -v：详细模式。输出似ps命令的输出，包含PID,USER,COMMAND等许多域,如果是内核访问的那么PID为kernel. -V 输出版本号。 -4：使用IPV4套接字,不能和-6一起应用，只在-n的tcp和udp的命名存在时不被忽略。 -6：使用IPV6套接字,不能和-4一起应用，只在-n的tcp和udp的命名存在时不被忽略。 -：重置所有的选项，把信号设置为SIGKILL.  示例 示例 1 显示使用某个文件的进程信息\n这个命令在umount的时候很有用，可以找到还有哪些用到这个设备了。\n$ fuser -um /dev/sda2 /dev/sda2: 6378c(quietheart) 6534c(quietheart) 6628(quietheart) 6653c(quietheart) 7429c(quietheart) 7549c(quietheart) 7608c(quietheart) 示例 2 杀掉打开readme文件的程序\n这里，会在kill之前询问是否确定。最好加上-v以便知道将要杀那个进程。\n$ fuser -m -k -i readme 示例 3 查看那些程序使用tcp的80端口\n$ fuser -v -n tcp 80 # or $ fuser -v 80/tcp tcpdump tcpdump 是一款 Linux 平台的抓包工具。它可以抓取涵盖整个 TCP/IP 协议族的数据包，支持针对网络层、协议、主机、端口的过滤，并提供 and、or、not 等逻辑语句来过滤无用的信息。\ntcpdump 是一个非常复杂的工具，掌握它的方方面面实属不易，也不推荐，能够用它来解决日常工作问题才是关系。\n命令选项 tcpdump 有很多命令选项，想了解所有选项可以 Linux 命令行输入 tcpdump -h，man tcpdump 查看每个选项的意思。\n下面列举一些常用选项：\n -A 只使用 ASCII 打印报文的全部数据，不要和 -X 一起使用，获取 http 可以用 tcpdump -nSA port 80 -b 在数据链路层上选择协议，包括 ip, arp, rarp, ipx 等 -c 指定要抓取包的数量 -D 列出操作系统所有可以用于抓包的接口 -e 输出链路层报头 -i 指定监听的网卡，-i any 显示所有网卡 -n 表示不解析主机名，直接用 IP 显示，默认是用 hostname 显示 -nn 表示不解析主机名和端口，直接用端口号显示，默认显示是端口号对应的服务名 -p 关闭接口的混杂模式 -P 指定抓取的包是流入的包还是流出的，可以指定参数 in, out, inout 等，默认是 inout -q 快速打印输出，即只输出少量的协议相关信息 -s len 设置要抓取数据包长度为 len，默认只会截取前 96bytes 的内容，-s 0 的话，会截取全部内容。 -S 将 TCP 的序列号以绝对值形式输出，而不是相对值 -t 不要打印时间戳 -vv 输出详细信息（比如 tos、ttl、checksum等） -X 同时用 hex 和 ascii 显示报文内容 -XX 同 -X，但同时显示以太网头部  过滤器 网络报文是很多的，很多时候我们在主机上抓包，会抓到很多我们并不关心的无用包，然后要从这些包里面去找我们需要的信息，无疑是一件费时费力的事情，tcpdump 提供了灵活的语法可以精确获取我们关心的数据，这些语法说得专业点就是过滤器。\n过滤器简单可分为三类：协议（proto）、传输方向（dir）和类型（type）。\n一般的 表达式格式 为：\n 关于 proto：可选有 ip, arp, rarp, tcp, udp, icmp, ether 等，默认是所有协议的包 关于 dir：可选有 src, dst, src or dst, src and dst，默认为 src or dst 关于 type：可选有 host, net, port, portrange（端口范围，比如 21-42），默认为 host  常用操作 测试环境 IP：172.18.82.173\n抓取某主机的数据包 抓取主机 172.18.82.173 上所有收到（DST_IP）和发出（SRC_IP）的所有数据包\n$ tcpdump host 172.18.82.173 抓取经过指定网口 interface ，并且 DST_IP 或 SRC_IP 是 172.18.82.173 的数据包\n$ tcpdump -i eth0 host 172.18.82.173 筛选 SRC_IP，抓取经过 interface 且从 172.18.82.173 发出的包\n$ tcpdump -i eth0 src host 172.18.82.173 筛选 DST_IP，抓取经过 interface 且发送到 172.18.82.173 的包\n$ tcpdump -i eth0 dst host 172.18.82.173 抓取主机 200.200.200.1 和主机 200.200.200.2 或 200.200.200.3 通信的包\n$ tcpdump host 200.200.200.1 and \\(200.200.200.2 or 200.200.200.3\\) 抓取主机 200.200.200.1 和除了主机 200.200.200.2 之外所有主机通信的包\n$ tcpdump ip host 200.200.200.1 and ! 200.200.200.2 抓取某端口的数据包 抓取所有端口，显示 IP 地址\n$ tcpdump -nS 抓取某端口上的包\n$ tcpdump port 22 抓取经过指定 interface，并且 DST_PORT 或 SRC_PORT 是 22 的数据包\n$ tcpdump -i eth0 port 22 筛选 SRC_PORT\n$ tcpdump -i eth0 src port 22 筛选 DST_PORT\n$ tcpdump -i eth0 dst port 22 比如希望查看发送到 host 172.18.82.173 的网口 eth0 的 22 号端口的包\n$ tcpdump -i eth0 -nnt dst host 172.18.82.173 and port 22 -c 1 -vv 抓取某网络（网段）的数据包 抓取经过指定 interface，并且 DST_NET 或 SRC_NET 是 172.18.82 的包\n$ tcpdump -i eth0 net 172.18.82 筛选 SRC_NET\n$ tcpdump -i eth0 src net 172.18.82 筛选 DST_NET\n$ tcpdump -i eth0 dst net 172.18.82 抓取某协议的数据包 $ tcpdump -i eth0 icmp $ tcpdump -i eth0 ip $ tcpdump -i eth0 tcp $ tcpdump -i eth0 udp $ tcpdump -i eth0 arp 复杂的过滤条件 抓取经过 interface eth0 发送到 host 200.200.200.1 或 200.200.200.2 的 TCP 协议 22 号端口的数据包\n$ tcpdump -i eth0 -nntvv -c 10 '((tcp) and (port 22) and ((dst host 200.200.200.1) or (dst host 200.200.200.2)))' 对于复杂的过滤器表达式，为了逻辑清晰，可以使用 ()，不过默认情况下，tcpdump 会将 () 当做特殊字符，所以必须使用 '' 来消除歧义。\n抓取经过 interface eth0， DST_MAC 或 SRC_MAC 地址是 00:16:3e:12:16:e7 的 ICMP 数据包\n$ tcpdump -i eth0 '((icmp) and ((ether host 00:16:3e:12:16:e7)))' -nnvv 抓取经过 interface eth0，目标网络是 172.18 但目标主机又不是 172.18.82.173 的 TCP 且非 22 号端口号的数据包\n$ tcpdump -i eth0 -nntvv '((dst net 172.18) and (not dst host 172.18.82.173) and (tcp) and (not port 22))' 抓取流入 interface eth0，host 为 172.18.82.173 且协议为 ICMP 的数据包\n$ tcpdump -i eth0 -nntvv -P in host 172.18.82.173 and icmp 抓取流出 interface eth0，host 为 172.18.82.173 且协议为 ICMP 的数据包\n$ tcpdump -i eth0 -nntvv -P out host 172.18.82.173 and icmp 与其他工具的配合 tcpdump 抓包的时候，默认是打印到屏幕输出，如果是抓取包少还好，如果包很多，很多行数据，刷刷刷从眼前一闪而过，根本来不及看清内容。不过，tcpdump 提供了将抓取的数据保存到文件的功能，查看文件就方便分析多了，而且还能与其他图形工具一起配合分析，比如 wireshark、Snort 等。\n -w 选项表示把数据报文输出到文件  $ tcpdump -w capture_file.pcap port 80  -r 选项表示读取文件里的数据报文，显示到屏幕上  $ tcpdump -nXr capture_file.pcap host host1 .pcap 格式的文件需要用 wireshark、Snort 等工具查看，使用 vim 或 cat 会出现乱码。\ntcpdump 的输出格式 tcpdump 的输出格式总体上为：\n系统时间 源主机.端口  目标主机.端口 数据包参数 比如下面的例子，显示了 TCP 的三次握手过程：\n21:27:06.995846 IP (tos 0x0, ttl 64, id 45646, offset 0, flags [DF], proto TCP (6), length 64) 192.168.1.106.56166  124.192.132.54.80: Flags [S], cksum 0xa730 (correct), seq 992042666, win 65535, options [mss 1460,nop,wscale 4,nop,nop,TS val 663433143 ecr 0,sackOK,eol], length 0 21:27:07.030487 IP (tos 0x0, ttl 51, id 0, offset 0, flags [DF], proto TCP (6), length 44) 124.192.132.54.80  192.168.1.106.56166: Flags [S.], cksum 0xedc0 (correct), seq 2147006684, ack 992042667, win 14600, options [mss 1440], length 0 21:27:07.030527 IP (tos 0x0, ttl 64, id 59119, offset 0, flags [DF], proto TCP (6), length 40) 192.168.1.106.56166  124.192.132.54.80: Flags [.], cksum 0x3e72 (correct), ack 2147006685, win 65535, length 0 第一条是 SYN 报文，通过 Flags[S] 看出。第二条是 [S.]，表示 SYN-ACK 报文。常见的 TCP 报文的 Flags 如下：\n [S]： SYN（开始连接） [.]: 没有 Flag [P]: PSH（推送数据） [F]: FIN （结束连接） [R]: RST（重置连接）  GPG 前两篇文章，我介绍了RSA算法。\n今天，就接着来看，现实中怎么使用这个算法，对信息加密和解密。这要用到GnuPG软件（简称GPG），它是目前最流行、最好用的加密工具之一。\n什么是GPG 要了解什么是GPG，就要先了解PGP。\n1991年，程序员Phil Zimmermann为了避开政府监视，开发了加密软件PGP。这个软件非常好用，迅速流传开来，成了许多程序员的必备工具。但是，它是商业软件，不能自由使用。所以，自由软件基金会决定，开发一个PGP的替代品，取名为GnuPG。这就是GPG的由来。\nGnuPG 是完整实现了 RFC4880 （即PGP） 所定义的 OpenPGP 标准的自由软件。\nGnuPG 可以加密和签名你的数据和通讯信息，包含一个通用的密钥管理系统以及用于各种公钥目录的访问模块。\nGnuPG 是一个易于与其它程序整合的命令行工具，拥有很多前端程序和函数库。\nGnuPG 还支持 S/MIME 和 Secure Shell (ssh)。\nGPG有许多用途，本文主要介绍文件加密。至于邮件的加密，不同的邮件客户端有不同的设置，请参考Ubuntu网站的介绍。\n本文的使用环境为Linux命令行。如果掌握了命令行，Windows 或 Mac OS 客户端，就非常容易掌握。GPG并不难学，学会了它，从此就能轻松传递加密信息。建议读者一步步跟着教程做，对每条命令都自行测试。\n安装 GPG有两种安装方式。可以下载源码，自己编译安装。\n$ ./configure $ make $ make install 也可以安装编译好的二进制包。\n$ sudo apt-get install gnupg 安装完成后，键入下面的命令：\n$ gpg --help 如果屏幕显示GPG的帮助，就表示安装成功。\n配置 目录位置 GnuPG 用环境变量 $GNUPGHOME 定位配置文件的位置，默认情况下此变量并未被设置，会直接使用 $HOME，所以默认的配置目录是 ~/.gnupg。\n要改变默认位置，执行 $ gpg --homedir path/to/file 或在 startup files 中设置 GNUPGHOME。\n配置文件 默认的配置文件是 ~/.gnupg/gpg.conf 和 ~/.gnupg/dirmngr.conf.\ngnupg 目录的默认 权限 是 700，其中文件的权限是 600. 仅目录的所有者有权读写，访问这些文件。这是基于安全考虑，请不要变更。如果不使用这样的安全权限设置，会收到不安全文件的警告。\n在文件中附加需要的文件：/usr/share/gnupg 包含基本架构文件. gpg，第一次运行时，如果配置文件不存在，会自动复制文件到 ~/.gnupg。\n新用户的默认选项 要给新建用户设定一些默认选项，把配置文件放到 /etc/skel/.gnupg/。系统创建新用户时，就会把文件复制到 GnuPG 目录。还有一个 addgnupghome 命令可以为已有用户创建新 GnuPG 主目录：\n# addgnupghome user1 user2 此命令会将对检查 /home/user1/.gnupg 和 /home/user2/.gnupg，如果用户的 GnuPG 主目录不存在，就会从 skeleton 目录复制文件过去。\n生成密钥 安装成功后，使用 --full-generate-key 参数生成自己的密钥。\n$ gpg --full-generate-key 或用 gpg --gen-key 快速生成。以下使用 gpg2 --full-generate-key 演示。\n回车以后，会跳出一大段文字：\ngpg (GnuPG) 2.2.19; Copyright (C) 2019 Free Software Foundation, Inc. This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law. Please select what kind of key you want: (1) RSA and RSA (default) (2) DSA and Elgamal (3) DSA (sign only) (4) RSA (sign only) (14) Existing key from card Your selection? 第一段是版权声明，然后让用户自己选择加密算法。默认选择第一个选项，表示加密和签名都使用RSA算法。\n然后，系统就会问你密钥的长度。\nRSA keys may be between 1024 and 4096 bits long. What keysize do you want? (3072) 密钥越长越安全。\n接着，设定密钥的有效期。\nPlease specify how long the key should be valid. 0 = key does not expire  = key expires in n days w = key expires in n weeks m = key expires in n months y = key expires in n years Key is valid for? (0) 如果密钥只是个人使用，并且你很确定可以有效保管私钥，建议选择第一个选项，即永不过期。回答完上面三个问题以后，系统让你确认。\nIs this correct? (y/N) 输入y，系统就要求你提供个人信息。\nGnuPG needs to construct a user ID to identify your key. Real name: Email address Comment: “真实姓名\"填入你姓名的英文写法，“电子邮件地址\"填入你的邮件地址，“注释\"这一栏可以空着。\n然后，你的\"用户ID\"生成了。\nYou selected this USER-ID: \"Vane Hsiung \" 系统会让你最后确认一次。\nChange (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? 输入O表示\"确定”。\n接着，系统会要求你做一些随机的举动，以生成一个随机数。同时系统会让你设定一个私钥的密码。这是为了防止误操作，或者系统被侵入时有人擅自动用私钥。\nWe need to generate a lot of random bytes. It is a good idea to performsome other action (type on the keyboard, move the mouse, utilize thedisks) during the prime generation; this gives the random numbergenerator a better chance to gain enough entropy. 然后，系统就开始生成密钥了，\n几分钟以后，系统提示密钥已经生成了。\ngpg: key B893B73ABC92D2CA marked as ultimately trusted gpg: revocation certificate stored as ''public and secret key created and signed. 请注意上面的字符串\"B893B73ABC92D2CA”，这是\"用户ID\"的Hash字符串，可以用来替代\"用户ID”。\n这时，最好再生成一张\"撤销证书\"，以备以后密钥作废时，可以请求外部的公钥服务器撤销你的公钥。\n$ gpg --gen-revoke [用户ID] 上面的\"用户ID\"部分，可以填入你的邮件地址或者Hash字符串（以下同）。\n密钥管理 列出密钥\nlist-keys参数列出系统中已有的密钥．\n$ gpg --list-keys 显示结果如下：\ngpg: checking the trustdb gpg: marginals needed: 3 completes needed: 1 trust model: pgp gpg: depth: 0 valid: 1 signed: 0 trust: 0-, 0q, 0n, 0m, 0f, 1u /home/vane/.gnupg/pubring.kbx ----------------------------- pub rsa3072 2021-10-17 [SC] BC158F7500033355B5324CF14C701F8BF2E03463 uid [ultimate] Vane Hsiung  sub rsa3072 2021-10-17 [E] 第一行显示公钥文件名（pubring.gpg），第二行显示公钥特征（4096位，Hash字符串和生成时间），第三行显示\"用户ID\"，第四行显示私钥特征。\n如果你要从密钥列表中删除某个密钥，可以使用如下参数。\n$ gpg --delete-secret-keys [用户ID] $ gpg --delete-key [用户ID] 输出密钥\n公钥文件（.gnupg/pubring.gpg）以二进制形式储存，armor参数可以将其转换为ASCII码显示。\n$ gpg --armor --output public-key.txt --export [用户ID] “用户ID\"指定哪个用户的公钥，output参数指定输出文件名（public-key.txt）。\n类似地，export-secret-keys参数可以转换私钥。\n$ gpg --armor --output private-key.txt --export-secret-keys 上传公钥\n公钥服务器是网络上专门储存用户公钥的服务器。send-keys参数可以将公钥上传到服务器。\n$ gpg --send-keys [用户ID] --keyserver hkp://subkeys.pgp.net 使用上面的命令，你的公钥就被传到了服务器subkeys.pgp.net，然后通过交换机制，所有的公钥服务器最终都会包含你的公钥。\n由于公钥服务器没有检查机制，任何人都可以用你的名义上传公钥，所以没有办法保证服务器上的公钥的可靠性。通常，你可以在网站上公布一个公钥指纹，让其他人核对下载到的公钥是否为真。fingerprint参数生成公钥指纹。\n$ gpg --fingerprint [用户ID] 输入密钥\n除了生成自己的密钥，还需要将他人的公钥或者你的其他密钥输入系统。这时可以使用import参数。\n$ gpg --import [密钥文件] 为了获得他人的公钥，可以让对方直接发给你，或者到公钥服务器上寻找。\n$ gpg --keyserver hkp://subkeys.pgp.net --search-keys [用户ID] 正如前面提到的，我们无法保证服务器上的公钥是否可靠，下载后还需要用其他机制验证．\n加密和解密 加密\n假定有一个文本文件demo.txt，怎样对它加密呢？\nencrypt参数用于加密。\n$ gpg --recipient [用户ID] --output demo.en.txt --encrypt demo.txt recipient参数指定接收者的公钥，output参数指定加密后的文件名，encrypt参数指定源文件。运行上面的命令后，demo.en.txt就是已加密的文件，可以把它发给对方。\n解密\n对方收到加密文件以后，就用自己的私钥解密。\n$ gpg --output demo.de.txt --decrypt demo.en.txt output 指定解密后生成的文件，decrypt参数指定需要解密的文件。运行上面的命令，demo.de.txt就是解密后的文件。\nGPG允许省略decrypt参数。\n$ gpg demo.en.txt 签名 对文件签名\n有时，我们不需要加密文件，只需要对文件签名，表示这个文件确实是我本人发出的。sign参数用来签名。\n$ gpg --sign demo.txt 运行上面的命令后，当前目录下生成demo.txt.gpg文件，这就是签名后的文件。这个文件默认采用二进制储存，如果想生成ASCII码的签名文件，可以使用clearsign参数。\n$ gpg --clearsign demo.txt 运行上面的命令后 ，当前目录下生成demo.txt.asc文件，后缀名asc表示该文件是ASCII码形式的。\n如果想生成单独的签名文件，与文件内容分开存放，可以使用detach-sign参数。　$ gpg --detach-sign demo.txt 运行上面的命令后，当前目录下生成一个单独的签名文件demo.txt.sig。该文件是二进制形式的，如果想采用ASCII码形式，要加上armor参数。　$ gpg --armor --detach-sign demo.txt 签名+加密\n上一节的参数，都是只签名不加密。如果想同时签名和加密，可以使用下面的命令。\n$ gpg --local-user [发信者ID] --recipient [接收者ID] --armor --sign --encrypt demo.txt local-user参数指定用发信者的私钥签名，recipient参数指定用接收者的公钥加密，armor参数表示采用ASCII码形式显示，sign参数表示需要签名，encrypt参数表示指定源文件。\n验证签名\n我们收到别人签名后的文件，需要用对方的公钥验证签名是否为真。verify参数用来验证。\n$ gpg --verify demo.txt.asc demo.txt 举例来说，openvpn网站就提供每一个下载包的gpg签名文件。你可以根据它的说明，验证这些下载包是否为真。\nOthers Ubuntu Packages Search List of applications:Arch Recommended applications: Gentoo 常用软件:openSUSE Awesome-Linux-Software 应用下载-优麒麟 国内应用 wine 版 deb 包。\nAUR 抄安装脚本。\nGentoo Portage Overlays 抄安装脚本。\n铜豌豆软件生态  铜豌豆 Linux 收集整理制作了大量中国人常用的应用软件，丰富 Linux 桌面系统软件生态。 大家可以在添加铜豌豆软件源后，来安装使用这些软件包。 铜豌豆软件源不但支持 铜豌豆 Linux 系统，还支持 Debian 系的所有 Linux 发行版。Debian、Armbian、Ubuntu、深度、优麒麟、红旗等。T  ",
  "wordCount" : "72242",
  "inLanguage": "en",
  "image":"https://sakamotokurome.github.io/Distributions/Ubuntu-logo-2022.svg","datePublished": "2022-03-08T15:32:01+08:00",
  "dateModified": "2022-03-08T15:32:01+08:00",
  "author":{
    "@type": "Person",
    "name": "Sakamoto Kurome"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://sakamotokurome.github.io/posts/ubuntup1applications/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Sakamoto Kurome",
    "logo": {
      "@type": "ImageObject",
      "url": "https://sakamotokurome.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class=" dark" id="top">

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://sakamotokurome.github.io/" accesskey="h" title="Sakamoto Kurome (Alt + H)">Sakamoto Kurome</a>
            <span class="logo-switches">
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://sakamotokurome.github.io/archives/" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="https://sakamotokurome.github.io/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://sakamotokurome.github.io/tags/" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title">
      Ubuntu Applications
    </h1>
    <div class="post-meta"><span title='2022-03-08 15:32:01 +0800 CST'>March 8, 2022</span>&nbsp;·&nbsp;145 min&nbsp;·&nbsp;Sakamoto Kurome

</div>
  </header> 
<figure class="entry-cover"><img loading="lazy" src="https://sakamotokurome.github.io/Distributions/Ubuntu-logo-2022.svg" alt="Ubuntu Logo">
        <p>Ubuntu Applications</p>
</figure><div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <span class="details">Table of Contents</span>
        </summary>

        <div class="inner"><ul>
                <li>
                    <a href="#gui-utilities" aria-label="GUI Utilities">GUI Utilities</a><ul>
                        
                <li>
                    <a href="#chromehttpswwwgooglecomlinuxrepositories" aria-label="Chrome"><a href="https://www.google.com/linuxrepositories/">Chrome</a></a><ul>
                        
                <li>
                    <a href="#extensions" aria-label="Extensions">Extensions</a></li>
                <li>
                    <a href="#%e7%94%a8%e6%88%b7%e8%84%9a%e6%9c%ac%e7%ae%a1%e7%90%86%e5%99%a8httpsgreasyforkorgzh-cn" aria-label="用户脚本管理器"><a href="https://greasyfork.org/zh-CN">用户脚本管理器</a></a></li>
                <li>
                    <a href="#chromium" aria-label="Chromium">Chromium</a></li></ul>
                </li>
                <li>
                    <a href="#firefox" aria-label="Firefox">Firefox</a></li>
                <li>
                    <a href="#goldendicthttpswwwcnblogscomkeatonlaop12702571html" aria-label="GoldenDict"><a href="https://www.cnblogs.com/keatonlao/p/12702571.html">GoldenDict</a></a><ul>
                        
                <li>
                    <a href="#%e5%ae%89%e8%a3%85" aria-label="安装">安装</a><ul>
                        
                <li>
                    <a href="#%e6%89%93%e5%bc%80-goldendict" aria-label="打开 GoldenDict">打开 GoldenDict</a></li>
                <li>
                    <a href="#%e4%bf%ae%e6%94%b9%e8%af%ad%e8%a8%80" aria-label="修改语言">修改语言</a></li></ul>
                </li>
                <li>
                    <a href="#%e7%ae%a1%e7%90%86%e8%af%8d%e5%85%b8" aria-label="管理词典">管理词典</a><ul>
                        
                <li>
                    <a href="#%e4%b8%8b%e8%bd%bd%e8%af%8d%e5%85%b8" aria-label="下载词典">下载词典</a></li>
                <li>
                    <a href="#%e5%ad%98%e6%94%be%e8%af%8d%e5%85%b8" aria-label="存放词典">存放词典</a></li>
                <li>
                    <a href="#%e5%af%bc%e5%85%a5%e8%af%8d%e5%85%b8" aria-label="导入词典">导入词典</a></li>
                <li>
                    <a href="#%e8%af%8d%e5%85%b8%e5%88%86%e7%bb%84" aria-label="词典分组">词典分组</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8" aria-label="使用">使用</a><ul>
                        
                <li>
                    <a href="#%e5%a4%8d%e5%88%b6%e6%9f%a5%e8%af%8d" aria-label="复制查词">复制查词</a></li>
                <li>
                    <a href="#%e6%89%8b%e5%8a%a8%e6%9f%a5%e8%af%8d%e6%a8%a1%e7%b3%8a%e5%8c%b9%e9%85%8d" aria-label="手动查词：模糊匹配">手动查词：模糊匹配</a></li>
                <li>
                    <a href="#%e8%b0%83%e6%95%b4%e7%95%8c%e9%9d%a2" aria-label="调整界面">调整界面</a></li>
                <li>
                    <a href="#%e6%8e%92%e5%ba%8f%e8%af%8d%e5%85%b8" aria-label="排序词典">排序词典</a></li>
                <li>
                    <a href="#%e5%b1%8f%e5%b9%95%e5%8f%96%e8%af%8d--%e5%88%92%e8%af%8d%e9%87%8a%e4%b9%89" aria-label="屏幕取词 / 划词释义">屏幕取词 / 划词释义</a></li>
                <li>
                    <a href="#%e6%9f%a5%e8%af%8d%e5%9c%a8%e7%ba%bf%e8%af%8d%e5%85%b8" aria-label="查词：在线词典">查词：在线词典</a></li>
                <li>
                    <a href="#%e6%9f%a5%e8%af%8d%e7%bb%b4%e5%9f%ba%e7%99%be%e7%a7%91" aria-label="查词：维基百科">查词：维基百科</a></li>
                <li>
                    <a href="#%e6%9f%a5%e8%af%8d%e6%90%9c%e7%b4%a2%e5%bc%95%e6%93%8e" aria-label="查词：搜索引擎">查词：搜索引擎</a></li>
                <li>
                    <a href="#%e6%96%87%e6%9c%ac%e7%bf%bb%e8%af%91%e8%b0%b7%e6%ad%8c%e7%bf%bb%e8%af%91" aria-label="文本翻译：谷歌翻译">文本翻译：谷歌翻译</a></li>
                <li>
                    <a href="#%e6%96%87%e6%9c%ac%e7%bf%bb%e8%af%91%e6%9c%89%e9%81%93%e7%bf%bb%e8%af%91" aria-label="文本翻译：有道翻译">文本翻译：有道翻译</a></li>
                <li>
                    <a href="#%e6%96%87%e6%9c%ac%e7%bf%bb%e8%af%91copytranslator" aria-label="文本翻译：CopyTranslator">文本翻译：CopyTranslator</a></li>
                <li>
                    <a href="#%e6%96%87%e6%9c%ac%e7%bf%bb%e8%af%91saladict" aria-label="文本翻译：Saladict">文本翻译：Saladict</a></li>
                <li>
                    <a href="#ocr-%e5%b1%8f%e5%b9%95%e5%8f%96%e8%af%8d--%e6%88%aa%e5%b1%8f%e7%bf%bb%e8%af%91" aria-label="OCR 屏幕取词 / 截屏翻译">OCR 屏幕取词 / 截屏翻译</a></li>
                <li>
                    <a href="#%e6%96%87%e6%9c%ac%e8%af%ad%e9%9f%b3%e6%9c%97%e8%af%bb" aria-label="文本语音朗读">文本语音朗读</a></li>
                <li>
                    <a href="#%e8%83%8c%e5%8d%95%e8%af%8d" aria-label="背单词">背单词</a></li>
                <li>
                    <a href="#%e5%a4%87%e4%bb%bd%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6" aria-label="备份配置文件">备份配置文件</a></li></ul>
                </li>
                <li>
                    <a href="#%e6%81%ad%e5%96%9c%e4%bd%a0%e4%bc%9a%e4%bd%bf%e7%94%a8-goldendict-%e4%ba%86" aria-label="恭喜！你会使用 GoldenDict 了！">恭喜！你会使用 GoldenDict 了！</a></li>
                <li>
                    <a href="#%e6%b5%85%e8%b0%88%e8%8b%b1%e8%af%ad%e8%af%8d%e5%85%b8%e7%89%88%e6%9c%ac" aria-label="浅谈英语词典版本">浅谈英语词典版本</a><ul>
                        
                <li>
                    <a href="#%e4%b8%80%e5%87%ba%e8%ba%ab" aria-label="一、出身">一、出身</a></li>
                <li>
                    <a href="#%e4%ba%8c%e4%bd%93%e4%be%8b" aria-label="二、体例">二、体例</a></li>
                <li>
                    <a href="#%e4%b8%89%e5%8a%9f%e7%94%a8" aria-label="三、功用">三、功用</a></li>
                <li>
                    <a href="#%e5%9b%9b%e8%a7%84%e6%a8%a1" aria-label="四、规模">四、规模</a></li></ul>
                </li>
                <li>
                    <a href="#%e8%af%8d%e5%85%b8%e5%ba%94%e8%af%a5%e4%b8%ba%e5%ad%a6%e4%b9%a0%e8%80%85%e6%8f%90%e4%be%9b%e5%93%aa%e4%ba%9b%e4%b8%9c%e8%a5%bf" aria-label="词典应该为学习者提供哪些东西">词典应该为学习者提供哪些东西</a></li>
                <li>
                    <a href="#%e8%8b%b1%e8%af%ad%e8%af%8d%e5%85%b8%e6%8e%a8%e8%8d%90" aria-label="英语词典推荐">英语词典推荐</a><ul>
                        
                <li>
                    <a href="#1-%e8%8b%b1%e6%b1%89%e8%af%8d%e5%85%b8the-little-dict" aria-label="1. 英汉词典：The Little Dict">1. 英汉词典：<em>The Little Dict</em></a></li>
                <li>
                    <a href="#2-%e8%8b%b1%e8%8b%b1%e8%8b%b1%e6%b1%89%e5%8f%8c%e8%a7%a3%e8%af%8d%e5%85%b8esl" aria-label="2. 英英·英汉双解词典（ESL）">2. 英英·英汉双解词典（ESL）</a></li>
                <li>
                    <a href="#3-%e6%b1%89%e8%8b%b1%e8%af%8d%e5%85%b8%e4%bb%bb%e9%80%89%e4%b8%80%e9%83%a8" aria-label="3. 汉英词典（任选一部）">3. 汉英词典（任选一部）</a></li></ul>
                </li>
                <li>
                    <a href="#%e8%8b%b1%e8%af%ad%e6%9e%84%e8%af%8d%e6%b3%95%e8%a7%84%e5%88%99" aria-label="英语构词法规则">英语构词法规则</a></li>
                <li>
                    <a href="#%e6%9c%97%e6%96%875-%e8%87%aa%e5%8a%a8%e5%b1%95%e5%bc%80%e9%9f%b3%e8%8a%82syllable%e5%8f%8a%e6%b1%89%e8%af%adchinese" aria-label="朗文5 &#43;&#43;：自动展开音节（Syllable）及汉语（Chinese）">朗文5 ++：自动展开音节（Syllable）及汉语（Chinese）</a></li>
                <li>
                    <a href="#goldendict-%e8%bf%9b%e9%98%b6%e6%8a%80%e5%b7%a7" aria-label="GoldenDict 进阶技巧">GoldenDict 进阶技巧</a><ul>
                        
                <li>
                    <a href="#%e6%95%88%e7%8e%87%e6%8f%90%e5%8d%87%e5%bf%ab%e6%8d%b7%e9%94%ae" aria-label="效率提升：快捷键">效率提升：快捷键</a></li>
                <li>
                    <a href="#%e6%9f%a5%e5%8f%a5%e5%85%a8%e6%96%87%e6%90%9c%e7%b4%a2" aria-label="查句：全文搜索">查句：全文搜索</a></li>
                <li>
                    <a href="#%e5%85%b6%e4%bb%96" aria-label="其他">其他</a></li></ul>
                </li>
                <li>
                    <a href="#%e5%8f%82%e8%80%83%e6%96%87%e7%ab%a0" aria-label="参考文章">参考文章</a></li>
                <li>
                    <a href="#dark-theme" aria-label="Dark Theme">Dark Theme</a></li>
                <li>
                    <a href="#startup--silent-start" aria-label="startup &amp;amp; silent start">startup &amp; silent start</a></li></ul>
                </li>
                <li>
                    <a href="#crow-translatehttpsgithubcomcrow-translatecrow-translate" aria-label="crow-translate"><a href="https://github.com/crow-translate/crow-translate">crow-translate</a></a></li>
                <li>
                    <a href="#flameshothttpsflameshotorg" aria-label="Flameshot"><a href="https://flameshot.org/">Flameshot</a></a></li>
                <li>
                    <a href="#ppsspphttpsapkcabalcomngbest-ppsspp-settings" aria-label="PPSSPP"><a href="https://apkcabal.com.ng/best-ppsspp-settings/">PPSSPP</a></a></li>
                <li>
                    <a href="#cemuhttpscemucfwguide" aria-label="Cemu"><a href="https://cemu.cfw.guide/">Cemu</a></a></li>
                <li>
                    <a href="#yuzuhttpswwwbilibilicomreadcv4973631" aria-label="yuzu"><a href="https://www.bilibili.com/read/cv4973631">yuzu</a></a><ul>
                        
                <li>
                    <a href="#%e5%ae%89%e8%a3%85-1" aria-label="安装">安装</a></li>
                <li>
                    <a href="#%e8%ae%be%e7%bd%aehttpswwwjianshucompd55e015fbcb6" aria-label="设置"><a href="https://www.jianshu.com/p/d55e015fbcb6">设置</a></a></li>
                <li>
                    <a href="#%e7%ae%a1%e7%90%86" aria-label="管理">管理</a></li></ul>
                </li>
                <li>
                    <a href="#rubickhttpsgithubcomrubickcenterrubick" aria-label="rubick"><a href="https://github.com/rubickCenter/rubick">rubick</a></a><ul>
                        
                <li>
                    <a href="#utoolshttpsutools" aria-label="uTools"><a href="https://u.tools/">uTools</a></a></li>
                <li>
                    <a href="#alberthttpswwwcnblogscomkeatonlaop13252483html" aria-label="Albert"><a href="https://www.cnblogs.com/keatonlao/p/13252483.html">Albert</a></a></li></ul>
                </li>
                <li>
                    <a href="#calibrehttpscalibre-ebookcom" aria-label="Calibre"><a href="https://calibre-ebook.com/">Calibre</a></a><ul>
                        
                <li>
                    <a href="#fbreader" aria-label="FBReader">FBReader</a></li></ul>
                </li>
                <li>
                    <a href="#ventoyhttpswwwventoynetcnindexhtml" aria-label="Ventoy"><a href="https://www.ventoy.net/cn/index.html">Ventoy</a></a><ul>
                        
                <li>
                    <a href="#balenaetcherhttpsgithubcombalena-ioetcher" aria-label="balenaEtcher"><a href="https://github.com/balena-io/etcher">balenaEtcher</a></a></li>
                <li>
                    <a href="#unetbootinhttpsgithubcomunetbootinunetbootin" aria-label="UNetbootin"><a href="https://github.com/unetbootin/unetbootin">UNetbootin</a></a></li>
                <li>
                    <a href="#woeusb-nghttpsgithubcomwoeusbwoeusb-ng" aria-label="WoeUSB-ng"><a href="https://github.com/WoeUSB/WoeUSB-ng">WoeUSB-ng</a></a></li></ul>
                </li>
                <li>
                    <a href="#timeshifthttpsgithubcomteejee2008timeshift" aria-label="Timeshift"><a href="https://github.com/teejee2008/timeshift">Timeshift</a></a></li>
                <li>
                    <a href="#todoisthttpssnapcraftioinstalltodoistubuntuinstall" aria-label="Todoist"><a href="https://snapcraft.io/install/todoist/ubuntu#install">Todoist</a></a></li>
                <li>
                    <a href="#plankhttpslaunchpadnetplank" aria-label="Plank"><a href="https://launchpad.net/plank">Plank</a></a><ul>
                        
                <li>
                    <a href="#latte-dock" aria-label="latte-dock">latte-dock</a></li></ul>
                </li>
                <li>
                    <a href="#steamhttpsstoresteampoweredcom" aria-label="Steam"><a href="https://store.steampowered.com/">Steam</a></a></li>
                <li>
                    <a href="#yacreaderhttpsyacreadercom" aria-label="`YACReader"><a href="https://yacreader.com/">`YACReader</a></a><ul>
                        
                <li>
                    <a href="#tachideskhttpsgithubcomsuwayomitachidesk-server" aria-label="Tachidesk"><a href="https://github.com/Suwayomi/Tachidesk-Server">Tachidesk</a></a></li></ul>
                </li>
                <li>
                    <a href="#hakunekohttpsgithubcommanga-downloadhakuneko" aria-label="hakuneko"><a href="https://github.com/manga-download/hakuneko">hakuneko</a></a><ul>
                        
                <li>
                    <a href="#work_crawlerhttpsgithubcomkanasimiwork_crawler" aria-label="work_crawler"><a href="https://github.com/kanasimi/work_crawler">work_crawler</a></a></li></ul>
                </li>
                <li>
                    <a href="#dingtalkhttpsgithubcomnashaofudingtalk" aria-label="dingtalk"><a href="https://github.com/nashaofu/dingtalk">dingtalk</a></a></li>
                <li>
                    <a href="#howdyhttpsgithubcomboltgolthowdy" aria-label="howdy"><a href="https://github.com/boltgolt/howdy">howdy</a></a></li>
                <li>
                    <a href="#%e5%90%91%e6%97%a5%e8%91%b5httpssunloginoraycom" aria-label="向日葵"><a href="https://sunlogin.oray.com/">向日葵</a></a></li>
                <li>
                    <a href="#keepassxchttpskeepassxcorg" aria-label="KeePassXC"><a href="https://keepassxc.org/">KeePassXC</a></a></li>
                <li>
                    <a href="#words-pickerhttpsgithubcomziqiangxuwords-picker" aria-label="words-picker"><a href="https://github.com/ziqiangxu/words-picker">words-picker</a></a></li>
                <li>
                    <a href="#copyqhttpsgithubcomhlukcopyq" aria-label="CopyQ"><a href="https://github.com/hluk/CopyQ">CopyQ</a></a></li>
                <li>
                    <a href="#xnviewmphttpswwwxnviewcomenxnviewmp" aria-label="XnViewMP"><a href="https://www.xnview.com/en/xnviewmp/">XnViewMP</a></a></li>
                <li>
                    <a href="#zealhttpszealdocsorg" aria-label="Zeal"><a href="https://zealdocs.org/">Zeal</a></a></li>
                <li>
                    <a href="#xmindhttpswwwxmindnet" aria-label="XMind"><a href="https://www.xmind.net/">XMind</a></a></li></ul>
                </li>
                <li>
                    <a href="#cli-utilities" aria-label="CLI Utilities">CLI Utilities</a><ul>
                        
                <li>
                    <a href="#postgresql" aria-label="PostgreSQL">PostgreSQL</a><ul>
                        
                <li>
                    <a href="#%e5%ae%89%e8%a3%85-2" aria-label="安装">安装</a></li>
                <li>
                    <a href="#%e6%9f%a5%e6%89%be%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6" aria-label="查找配置文件">查找配置文件</a></li>
                <li>
                    <a href="#questions" aria-label="Questions">Questions</a></li></ul>
                </li>
                <li>
                    <a href="#ansiblehttpsansible-tranreadthedocsioenlatestindexhtml" aria-label="Ansible"><a href="https://ansible-tran.readthedocs.io/en/latest/index.html">Ansible</a></a></li>
                <li>
                    <a href="#fdupeshttpsaskubuntucomquestions3865how-to-find-and-delete-duplicate-files" aria-label="fdupes"><a href="https://askubuntu.com/questions/3865/how-to-find-and-delete-duplicate-files">fdupes</a></a><ul>
                        
                <li>
                    <a href="#digikamhttpswwwdigikamorg" aria-label="digiKam"><a href="https://www.digikam.org/">digiKam</a></a></li></ul>
                </li>
                <li>
                    <a href="#bypyhttpscdnjsdelivrnetghhoutianzebypymaster" aria-label="bypy"><a href="https://cdn.jsdelivr.net/gh/houtianze/bypy@master/">bypy</a></a></li>
                <li>
                    <a href="#frphttpsgofrporg" aria-label="FRP"><a href="https://gofrp.org/">FRP</a></a></li>
                <li>
                    <a href="#git" aria-label="Git">Git</a><ul>
                        
                <li>
                    <a href="#sync-repos" aria-label="sync-repos">sync-repos</a></li>
                <li>
                    <a href="#github-desktophttpsdesktopgithubcom" aria-label="GitHub Desktop"><a href="https://desktop.github.com/">GitHub Desktop</a></a></li>
                <li>
                    <a href="#github520httpsgithubcom521xueweihangithub520" aria-label="GitHub520"><a href="https://github.com/521xueweihan/GitHub520">GitHub520</a></a></li></ul>
                </li>
                <li>
                    <a href="#libguestfs" aria-label="libguestfs">libguestfs</a></li>
                <li>
                    <a href="#oracle-jdk" aria-label="Oracle JDK">Oracle JDK</a></li>
                <li>
                    <a href="#snapper" aria-label="Snapper">Snapper</a><ul>
                        
                <li>
                    <a href="#grub-btrfshttpsgithubcomantyneagrub-btrfs" aria-label="grub-btrfs"><a href="https://github.com/Antynea/grub-btrfs">grub-btrfs</a></a></li></ul>
                </li>
                <li>
                    <a href="#fail2banhttpszhuanlanzhihucomp33546122" aria-label="Fail2Ban"><a href="https://zhuanlan.zhihu.com/p/33546122">Fail2Ban</a></a></li>
                <li>
                    <a href="#syncthinghttpszhuanlanzhihucomp69267020" aria-label="Syncthing"><a href="https://zhuanlan.zhihu.com/p/69267020">Syncthing</a></a></li>
                <li>
                    <a href="#masscanhttpscloudtencentcomdeveloperarticle1707983" aria-label="masscan"><a href="https://cloud.tencent.com/developer/article/1707983">masscan</a></a></li>
                <li>
                    <a href="#imagemagickhttpswwwimagemagickorgscriptindexphp" aria-label="ImageMagick"><a href="https://www.imagemagick.org/script/index.php">ImageMagick</a></a></li>
                <li>
                    <a href="#p7ziphttpswww7-ziporg" aria-label="p7zip"><a href="https://www.7-zip.org/">p7zip</a></a><ul>
                        
                <li>
                    <a href="#differences-between-7z-7za-and-7zr-binarieshttpswikiarchlinuxorgtitlep7zip" aria-label="Differences between 7z, 7za and 7zr binaries"><a href="https://wiki.archlinux.org/title/p7zip">Differences between 7z, 7za and 7zr binaries</a></a></li>
                <li>
                    <a href="#%e5%88%86%e5%8d%b7%e5%8e%8b%e7%bc%a9%e4%b8%8e%e8%a7%a3%e5%8e%8b%e7%bc%a9httpsdeveloperaliyuncomarticle506654" aria-label="分卷压缩与解压缩"><a href="https://developer.aliyun.com/article/506654">分卷压缩与解压缩</a></a><ul>
                        
                <li>
                    <a href="#rar" aria-label="rar">rar</a></li>
                <li>
                    <a href="#ziphttpsunixstackexchangecoma40565" aria-label="zip"><a href="https://unix.stackexchange.com/a/40565">zip</a></a></li>
                <li>
                    <a href="#tar" aria-label="tar">tar</a></li>
                <li>
                    <a href="#7z" aria-label="7z">7z</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#wudao-dicthttpsgithubcomchestnuthengwudao-dict" aria-label="Wudao-dict"><a href="https://github.com/ChestnutHeng/Wudao-dict">Wudao-dict</a></a></li>
                <li>
                    <a href="#-ascii-image-converterhttpsgithubcomthezoraizascii-image-converter" aria-label="ascii-image-converter"><a href="https://github.com/TheZoraiz/ascii-image-converter"> ascii-image-converter</a></a></li>
                <li>
                    <a href="#ttydhttpsgithubcomtsl0922ttyd" aria-label="ttyd"><a href="https://github.com/tsl0922/ttyd">ttyd</a></a></li>
                <li>
                    <a href="#progresshttpsgithubcomxfennecprogress" aria-label="progress"><a href="https://github.com/Xfennec/progress">progress</a></a></li>
                <li>
                    <a href="#vosk-apihttpsgithubcomalphacepvosk-api" aria-label="vosk-api"><a href="https://github.com/alphacep/vosk-api">vosk-api</a></a><ul>
                        
                <li>
                    <a href="#convert-mp3-to-texthttpsaskubuntucomquestions161515speech-recognition-app-to-convert-mp3-to-text" aria-label="convert MP3 to text"><a href="https://askubuntu.com/questions/161515/speech-recognition-app-to-convert-mp3-to-text">convert MP3 to text</a></a></li></ul>
                </li>
                <li>
                    <a href="#inxihttpslinuxcnarticle-14089-1html" aria-label="inxi"><a href="https://linux.cn/article-14089-1.html">inxi</a></a></li>
                <li>
                    <a href="#busyboxhttpslinuxcnarticle-13840-1html" aria-label="BusyBox"><a href="https://linux.cn/article-13840-1.html">BusyBox</a></a><ul>
                        
                <li>
                    <a href="#%e6%9e%81%e7%ae%80%e4%b8%bb%e4%b9%89" aria-label="极简主义">极简主义</a></li></ul>
                </li>
                <li>
                    <a href="#lynishttpslinuxcnarticle-12696-1html" aria-label="Lynis"><a href="https://linux.cn/article-12696-1.html">Lynis</a></a><ul>
                        
                <li>
                    <a href="#%e5%ae%89%e8%a3%85-lynis" aria-label="安装 Lynis">安装 Lynis</a></li>
                <li>
                    <a href="#%e8%bf%90%e8%a1%8c-lynis" aria-label="运行 Lynis">运行 Lynis</a></li>
                <li>
                    <a href="#%e5%ae%a1%e8%ae%a1-linux-%e7%b3%bb%e7%bb%9f" aria-label="审计 Linux 系统">审计 Linux 系统</a></li>
                <li>
                    <a href="#%e6%8e%a2%e7%b4%a2%e6%8a%a5%e5%91%8a" aria-label="探索报告">探索报告</a></li>
                <li>
                    <a href="#%e8%af%95%e8%af%95%e5%90%a7" aria-label="试试吧">试试吧</a></li>
                <li>
                    <a href="#how-can-i-protect-against-single-user-modehttpsaskubuntucomquestions1011368how-can-i-protect-against-single-user-mode" aria-label="How can I protect against single user mode"><a href="https://askubuntu.com/questions/1011368/how-can-i-protect-against-single-user-mode">How can I protect against single user mode</a></a></li></ul>
                </li>
                <li>
                    <a href="#checkinstallhttpslinuxcnarticle-4090-1html" aria-label="CheckInstall"><a href="https://linux.cn/article-4090-1.html">CheckInstall</a></a></li>
                <li>
                    <a href="#gksudokdesudohttpsaskubuntucomquestions11760what-is-the-difference-between-gksudo-nautilus-and-sudo-nautilus" aria-label="gksudo/kdesudo"><a href="https://askubuntu.com/questions/11760/what-is-the-difference-between-gksudo-nautilus-and-sudo-nautilus">gksudo/kdesudo</a></a></li>
                <li>
                    <a href="#manhttpslinuxcnarticle-13478-1html" aria-label="man"><a href="https://linux.cn/article-13478-1.html">man</a></a><ul>
                        
                <li>
                    <a href="#%e5%85%a5%e9%97%a8" aria-label="入门">入门</a></li>
                <li>
                    <a href="#%e8%8a%82" aria-label="节">节</a></li>
                <li>
                    <a href="#%e6%89%8b%e5%86%8c%e9%a1%b5%e7%9a%84%e8%8a%82" aria-label="手册页的节">手册页的节</a></li>
                <li>
                    <a href="#%e6%89%8b%e5%86%8c%e7%9a%84%e8%8a%82" aria-label="手册的节">手册的节</a></li>
                <li>
                    <a href="#%e6%90%9c%e7%b4%a2%e4%b8%80%e4%b8%aa%e7%89%b9%e5%ae%9a%e7%9a%84%e8%8a%82" aria-label="搜索一个特定的节">搜索一个特定的节</a></li>
                <li>
                    <a href="#%e6%90%9c%e7%b4%a2%e5%8c%85%e5%90%ab%e6%9f%90%e4%b8%aa%e5%85%b3%e9%94%ae%e8%af%8d%e7%9a%84%e6%89%80%e6%9c%89%e6%89%8b%e5%86%8c%e9%a1%b5" aria-label="搜索包含某个关键词的所有手册页">搜索包含某个关键词的所有手册页</a></li>
                <li>
                    <a href="#%e4%ba%86%e8%a7%a3%e6%89%8b%e5%86%8c%e7%9a%84%e5%90%84%e4%b8%aa%e8%8a%82" aria-label="了解手册的各个节">了解手册的各个节</a></li>
                <li>
                    <a href="#%e7%bb%93%e8%ae%ba" aria-label="结论">结论</a></li>
                <li>
                    <a href="#tldrhttpsgithubcomtldr-pagestldr" aria-label="tldr"><a href="https://github.com/tldr-pages/tldr">tldr</a></a></li></ul>
                </li>
                <li>
                    <a href="#lshttpslinuxcnarticle-11159-1html" aria-label="ls"><a href="https://linux.cn/article-11159-1.html">ls</a></a><ul>
                        
                <li>
                    <a href="#gnu-%e8%bf%98%e6%98%af-bsd" aria-label="GNU 还是 BSD？">GNU 还是 BSD？</a></li>
                <li>
                    <a href="#%e5%88%86%e7%b1%bb" aria-label="分类">分类</a></li>
                <li>
                    <a href="#%e9%95%bf%e5%88%97%e8%a1%a8" aria-label="长列表">长列表</a></li>
                <li>
                    <a href="#%e6%97%b6%e9%97%b4%e5%92%8c%e6%97%a5%e6%9c%9f%e6%a0%bc%e5%bc%8f" aria-label="时间和日期格式">时间和日期格式</a></li>
                <li>
                    <a href="#%e6%8c%89%e6%97%b6%e9%97%b4%e6%8e%92%e5%ba%8f" aria-label="按时间排序">按时间排序</a></li>
                <li>
                    <a href="#%e5%88%97%e5%87%ba%e6%96%b9%e5%bc%8f" aria-label="列出方式">列出方式</a></li>
                <li>
                    <a href="#%e9%9a%90%e8%97%8f%e6%9d%82%e9%a1%b9" aria-label="隐藏杂项">隐藏杂项</a></li>
                <li>
                    <a href="#%e9%80%92%e5%bd%92%e5%9c%b0%e5%88%97%e5%87%ba%e7%9b%ae%e5%bd%95" aria-label="递归地列出目录">递归地列出目录</a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8%e5%88%ab%e5%90%8d%e4%bd%bf%e5%85%b6%e6%b0%b8%e4%b9%85%e5%8c%96" aria-label="使用别名使其永久化">使用别名使其永久化</a></li>
                <li>
                    <a href="#%e5%81%9a%e4%b8%80%e4%bb%b6%e4%ba%8b%e6%8a%8a%e5%ae%83%e5%81%9a%e5%a5%bd" aria-label="做一件事，把它做好">做一件事，把它做好</a></li>
                <li>
                    <a href="#exahttpsgithubcomoghamexa" aria-label="exa"><a href="https://github.com/ogham/exa">exa</a></a></li></ul>
                </li>
                <li>
                    <a href="#du-disk-usagehttpslinuxcnarticle-11503-1html" aria-label="du (Disk Usage)"><a href="https://linux.cn/article-11503-1.html">du (Disk Usage)</a></a><ul>
                        
                <li>
                    <a href="#ncurses-disk-usagehttpsdevyorhelnlncdu" aria-label="NCurses Disk Usage"><a href="https://dev.yorhel.nl/ncdu">NCurses Disk Usage</a></a></li>
                <li>
                    <a href="#gduhttpsgithubcomdundeegdu" aria-label="gdu"><a href="https://github.com/dundee/gdu">gdu</a></a></li></ul>
                </li>
                <li>
                    <a href="#diffhttpswwwruanyifengcomblog201208how_to_read_diffhtml" aria-label="Diff"><a href="https://www.ruanyifeng.com/blog/2012/08/how_to_read_diff.html">Diff</a></a><ul>
                        
                <li>
                    <a href="#%e4%b8%89%e7%a7%8d%e6%a0%bc%e5%bc%8f" aria-label="三种格式">三种格式</a></li>
                <li>
                    <a href="#%e7%a4%ba%e4%be%8b%e6%96%87%e4%bb%b6" aria-label="示例文件">示例文件</a></li>
                <li>
                    <a href="#%e6%ad%a3%e5%b8%b8%e6%a0%bc%e5%bc%8f" aria-label="正常格式">正常格式</a></li>
                <li>
                    <a href="#%e4%b8%8a%e4%b8%8b%e6%96%87%e6%a0%bc%e5%bc%8f" aria-label="上下文格式">上下文格式</a></li>
                <li>
                    <a href="#%e5%90%88%e5%b9%b6%e6%a0%bc%e5%bc%8f" aria-label="合并格式">合并格式</a></li>
                <li>
                    <a href="#git%e6%a0%bc%e5%bc%8f" aria-label="git格式">git格式</a></li></ul>
                </li>
                <li>
                    <a href="#crontabhttpcbianchengnetview1092html" aria-label="Crontab"><a href="http://c.biancheng.net/view/1092.html">Crontab</a></a><ul>
                        
                <li>
                    <a href="#installing" aria-label="Installing">Installing</a></li>
                <li>
                    <a href="#running" aria-label="Running">Running</a></li>
                <li>
                    <a href="#%e5%91%bd%e4%bb%a4%e8%af%a6%e8%a7%a3" aria-label="命令详解">命令详解</a><ul>
                        
                <li>
                    <a href="#%e5%b8%b8%e7%94%a8%e9%80%89%e9%a1%b9" aria-label="常用选项">常用选项</a></li>
                <li>
                    <a href="#crontab-%e6%96%87%e4%bb%b6%e6%a0%bc%e5%bc%8f" aria-label="crontab 文件格式">crontab 文件格式</a></li></ul>
                </li>
                <li>
                    <a href="#run-a-script-on-startuphttpsunixstackexchangecomquestions416137how-can-i-run-a-script-on-startup-on-ubuntu-server-17-10" aria-label="run a script on startup"><a href="https://unix.stackexchange.com/questions/416137/how-can-i-run-a-script-on-startup-on-ubuntu-server-17-10">run a script on startup</a></a></li></ul>
                </li>
                <li>
                    <a href="#pshttpslinuxtools-rstreadthedocsiozh_cnlatesttoolpshtml" aria-label="ps"><a href="https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/ps.html">ps</a></a><ul>
                        
                <li>
                    <a href="#%e7%ae%80%e4%bb%8b" aria-label="简介">简介</a></li>
                <li>
                    <a href="#%e5%91%bd%e4%bb%a4%e5%8f%82%e6%95%b0httpswwwjianshucomp943b90150c10" aria-label="命令参数"><a href="https://www.jianshu.com/p/943b90150c10">命令参数</a></a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8%e5%ae%9e%e4%be%8bhttpcbianchengnetview1062html" aria-label="使用实例"><a href="http://c.biancheng.net/view/1062.html">使用实例</a></a></li></ul>
                </li>
                <li>
                    <a href="#tophttpcbianchengnetview1065html" aria-label="top"><a href="http://c.biancheng.net/view/1065.html">top</a></a><ul>
                        
                <li>
                    <a href="#%e7%ae%80%e4%bb%8bhttpslinuxtools-rstreadthedocsiozh_cnlatesttooltophtml" aria-label="简介"><a href="https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/top.html">简介</a></a></li>
                <li>
                    <a href="#%e5%91%bd%e4%bb%a4%e5%8f%82%e6%95%b0" aria-label="命令参数">命令参数</a></li>
                <li>
                    <a href="#%e4%ba%a4%e4%ba%92%e6%93%8d%e4%bd%9c%e6%8c%87%e4%bb%a4" aria-label="交互操作指令">交互操作指令</a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8%e5%ae%9e%e4%be%8b" aria-label="使用实例">使用实例</a></li>
                <li>
                    <a href="#htophttpsgithubcomhtop-devhtop" aria-label="htop"><a href="https://github.com/htop-dev/htop/">htop</a></a></li>
                <li>
                    <a href="#bpytophttpsgithubcomaristocratosbpytop" aria-label="bpytop"><a href="https://github.com/aristocratos/bpytop">bpytop</a></a></li></ul>
                </li>
                <li>
                    <a href="#lsofhttpslinuxtools-rstreadthedocsiozh_cnlatesttoollsofhtml" aria-label="lsof"><a href="https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/lsof.html">lsof</a></a><ul>
                        
                <li>
                    <a href="#%e7%ae%80%e4%bb%8bhttpcbianchengnetview1088html" aria-label="简介"><a href="http://c.biancheng.net/view/1088.html">简介</a></a></li>
                <li>
                    <a href="#%e5%91%bd%e4%bb%a4%e5%8f%82%e6%95%b0-1" aria-label="命令参数">命令参数</a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8%e5%ae%9e%e4%be%8b-1" aria-label="使用实例">使用实例</a></li></ul>
                </li>
                <li>
                    <a href="#write" aria-label="write">write</a></li>
                <li>
                    <a href="#xargs" aria-label="xargs">xargs</a><ul>
                        
                <li>
                    <a href="#%e6%a0%87%e5%87%86%e8%be%93%e5%85%a5%e4%b8%8e%e7%ae%a1%e9%81%93%e5%91%bd%e4%bb%a4" aria-label="标准输入与管道命令">标准输入与管道命令</a></li>
                <li>
                    <a href="#xargs-%e5%91%bd%e4%bb%a4%e7%9a%84%e4%bd%9c%e7%94%a8" aria-label="xargs 命令的作用">xargs 命令的作用</a></li>
                <li>
                    <a href="#xargs-%e7%9a%84%e5%8d%95%e7%8b%ac%e4%bd%bf%e7%94%a8" aria-label="xargs 的单独使用">xargs 的单独使用</a></li>
                <li>
                    <a href="#-d-%e5%8f%82%e6%95%b0%e4%b8%8e%e5%88%86%e9%9a%94%e7%ac%a6" aria-label="-d 参数与分隔符">-d 参数与分隔符</a></li>
                <li>
                    <a href="#-p-%e5%8f%82%e6%95%b0-t-%e5%8f%82%e6%95%b0" aria-label="-p 参数，-t 参数">-p 参数，-t 参数</a></li>
                <li>
                    <a href="#-0-%e5%8f%82%e6%95%b0%e4%b8%8e-find-%e5%91%bd%e4%bb%a4" aria-label="-0 参数与 find 命令">-0 参数与 find 命令</a></li>
                <li>
                    <a href="#-l-%e5%8f%82%e6%95%b0" aria-label="-L 参数">-L 参数</a></li>
                <li>
                    <a href="#-n-%e5%8f%82%e6%95%b0" aria-label="-n 参数">-n 参数</a></li>
                <li>
                    <a href="#-i-%e5%8f%82%e6%95%b0" aria-label="-I 参数">-I 参数</a></li>
                <li>
                    <a href="#--max-procs-%e5%8f%82%e6%95%b0" aria-label="&amp;ndash;max-procs 参数">&ndash;max-procs 参数</a></li></ul>
                </li>
                <li>
                    <a href="#awkhttpswwwruanyifengcomblog201811awkhtml" aria-label="awk"><a href="https://www.ruanyifeng.com/blog/2018/11/awk.html">awk</a></a><ul>
                        
                <li>
                    <a href="#%e5%9f%ba%e6%9c%ac%e7%94%a8%e6%b3%95" aria-label="基本用法">基本用法</a></li>
                <li>
                    <a href="#%e5%8f%98%e9%87%8f" aria-label="变量">变量</a></li>
                <li>
                    <a href="#%e5%87%bd%e6%95%b0" aria-label="函数">函数</a></li>
                <li>
                    <a href="#%e6%9d%a1%e4%bb%b6" aria-label="条件">条件</a></li>
                <li>
                    <a href="#if-%e8%af%ad%e5%8f%a5" aria-label="if 语句">if 语句</a></li></ul>
                </li>
                <li>
                    <a href="#findhttpslinuxcnarticle-14071-1html" aria-label="find"><a href="https://linux.cn/article-14071-1.html">find</a></a><ul>
                        
                <li>
                    <a href="#%e5%b8%b8%e7%94%a8%e9%80%89%e9%a1%b9httpslinuxcnarticle-1672-1html" aria-label="常用选项"><a href="https://linux.cn/article-1672-1.html">常用选项</a></a></li>
                <li>
                    <a href="#%e6%8c%89%e5%90%8d%e7%a7%b0%e6%9f%a5%e6%89%be%e6%96%87%e4%bb%b6" aria-label="按名称查找文件">按名称查找文件</a></li>
                <li>
                    <a href="#%e9%80%9a%e9%85%8d%e7%ac%a6" aria-label="通配符">通配符</a></li>
                <li>
                    <a href="#%e6%ad%a3%e5%88%99%e8%a1%a8%e8%be%be%e5%bc%8f" aria-label="正则表达式">正则表达式</a></li>
                <li>
                    <a href="#%e6%9f%a5%e6%89%be%e8%bf%91%e4%b8%80%e5%91%a8%e4%bf%ae%e6%94%b9%e8%bf%87%e7%9a%84%e6%96%87%e4%bb%b6" aria-label="查找近一周修改过的文件">查找近一周修改过的文件</a></li>
                <li>
                    <a href="#%e6%9f%a5%e6%89%be%e8%bf%91%e5%87%a0%e5%a4%a9%e4%bf%ae%e6%94%b9%e7%9a%84%e6%96%87%e4%bb%b6" aria-label="查找近几天修改的文件">查找近几天修改的文件</a></li>
                <li>
                    <a href="#%e6%8c%89%e6%96%87%e4%bb%b6%e7%b1%bb%e5%9e%8b%e9%99%90%e5%88%b6%e6%90%9c%e7%b4%a2" aria-label="按文件类型限制搜索">按文件类型限制搜索</a></li>
                <li>
                    <a href="#%e8%b0%83%e6%95%b4%e8%8c%83%e5%9b%b4" aria-label="调整范围">调整范围</a></li>
                <li>
                    <a href="#%e4%b8%8e-xargs" aria-label="与 xargs">与 xargs</a></li>
                <li>
                    <a href="#fdhttpsgithubcomsharkdpfd" aria-label="fd"><a href="https://github.com/sharkdp/fd">fd</a></a></li>
                <li>
                    <a href="#find-files-by-file-typehttpsunixstackexchangecoma483876" aria-label="Find files by file type"><a href="https://unix.stackexchange.com/a/483876">Find files by file type</a></a></li>
                <li>
                    <a href="#%e5%9f%ba%e4%ba%8e%e6%ad%a3%e5%88%99%e8%a1%a8%e8%be%be%e5%bc%8f%e5%8c%b9%e9%85%8d%e6%96%87%e4%bb%b6%e8%b7%af%e5%be%84" aria-label="基于正则表达式匹配文件路径">基于正则表达式匹配文件路径</a></li></ul>
                </li>
                <li>
                    <a href="#grephttpslinuxcnarticle-6927-1html" aria-label="grep"><a href="https://linux.cn/article-6927-1.html">grep</a></a><ul>
                        
                <li>
                    <a href="#%e5%9f%ba%e6%9c%ac%e9%9b%86httpslinuxcnarticle-1672-1html" aria-label="基本集"><a href="https://linux.cn/article-1672-1.html">基本集</a></a></li>
                <li>
                    <a href="#%e5%b8%b8%e7%94%a8%e9%80%89%e9%a1%b9-1" aria-label="常用选项">常用选项</a></li>
                <li>
                    <a href="#%e6%80%8e%e4%b9%88%e6%a0%b7%e4%bd%bf%e7%94%a8-grep-%e6%9d%a5%e6%90%9c%e7%b4%a2%e4%b8%80%e4%b8%aa%e6%96%87%e4%bb%b6" aria-label="怎么样使用 grep 来搜索一个文件">怎么样使用 grep 来搜索一个文件</a></li>
                <li>
                    <a href="#%e9%80%92%e5%bd%92%e4%bd%bf%e7%94%a8-grep" aria-label="递归使用 grep">递归使用 grep</a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8-grep-%e5%8e%bb%e6%90%9c%e7%b4%a2%e6%96%87%e6%9c%ac" aria-label="使用 grep 去搜索文本">使用 grep 去搜索文本</a></li>
                <li>
                    <a href="#%e4%bd%bf%e7%94%a8-grep-%e5%91%bd%e4%bb%a4%e5%8e%bb%e6%90%9c%e7%b4%a2%e4%b8%a4%e4%b8%aa%e4%b8%8d%e5%90%8c%e7%9a%84%e5%8d%95%e8%af%8d" aria-label="使用 grep 命令去搜索两个不同的单词">使用 grep 命令去搜索两个不同的单词</a></li>
                <li>
                    <a href="#%e7%bb%9f%e8%ae%a1%e6%96%87%e6%9c%ac%e5%8c%b9%e9%85%8d%e5%88%b0%e7%9a%84%e8%a1%8c%e6%95%b0" aria-label="统计文本匹配到的行数">统计文本匹配到的行数</a></li>
                <li>
                    <a href="#%e5%8f%8d%e8%bd%ac%e5%8c%b9%e9%85%8d%e4%b8%8d%e5%8c%b9%e9%85%8d" aria-label="反转匹配（不匹配）">反转匹配（不匹配）</a></li>
                <li>
                    <a href="#unixlinux-%e7%ae%a1%e9%81%93%e4%b8%8e-grep-%e5%91%bd%e4%bb%a4" aria-label="UNIX/Linux 管道与 grep 命令">UNIX/Linux 管道与 grep 命令</a></li>
                <li>
                    <a href="#%e4%bb%85%e4%bb%85%e6%98%be%e7%a4%ba%e5%8c%b9%e9%85%8d%e5%88%b0%e5%86%85%e5%ae%b9%e7%9a%84%e6%96%87%e4%bb%b6%e5%90%8d" aria-label="仅仅显示匹配到内容的文件名">仅仅显示匹配到内容的文件名</a></li>
                <li>
                    <a href="#%e6%9f%a5%e6%89%be%e6%96%87%e4%bb%b6%e5%86%85%e5%ae%b9httpswwwrunoobcomnote48437" aria-label="查找文件内容"><a href="https://www.runoob.com/note/48437">查找文件内容</a></a></li>
                <li>
                    <a href="#only-matchinghttpsstackoverflowcomquestions1546711can-grep-show-only-words-that-match-search-pattern" aria-label="only matching"><a href="https://stackoverflow.com/questions/1546711/can-grep-show-only-words-that-match-search-pattern">only matching</a></a></li></ul>
                </li>
                <li>
                    <a href="#cat" aria-label="cat">cat</a><ul>
                        
                <li>
                    <a href="#bathttpsgithubcomsharkdpbat" aria-label="bat"><a href="https://github.com/sharkdp/bat">bat</a></a></li></ul>
                </li>
                <li>
                    <a href="#iphttpslinuxcnarticle-3144-1html" aria-label="ip"><a href="https://linux.cn/article-3144-1.html">ip</a></a><ul>
                        
                <li>
                    <a href="#%e8%ae%be%e7%bd%ae%e5%92%8c%e5%88%a0%e9%99%a4ip%e5%9c%b0%e5%9d%80" aria-label="设置和删除Ip地址">设置和删除Ip地址</a></li>
                <li>
                    <a href="#%e5%88%97%e5%87%ba%e8%b7%af%e7%94%b1%e8%a1%a8%e6%9d%a1%e7%9b%ae" aria-label="列出路由表条目">列出路由表条目</a></li>
                <li>
                    <a href="#%e6%9b%b4%e6%94%b9%e9%bb%98%e8%ae%a4%e8%b7%af%e7%94%b1" aria-label="更改默认路由">更改默认路由</a></li>
                <li>
                    <a href="#%e6%98%be%e7%a4%ba%e7%bd%91%e7%bb%9c%e7%bb%9f%e8%ae%a1%e6%95%b0%e6%8d%ae" aria-label="显示网络统计数据">显示网络统计数据</a></li>
                <li>
                    <a href="#arp%e6%9d%a1%e7%9b%ae" aria-label="ARP条目">ARP条目</a></li>
                <li>
                    <a href="#%e7%9b%91%e6%8e%a7netlink%e6%b6%88%e6%81%af" aria-label="监控netlink消息">监控netlink消息</a></li>
                <li>
                    <a href="#%e6%bf%80%e6%b4%bb%e5%92%8c%e5%81%9c%e6%ad%a2%e7%bd%91%e7%bb%9c%e6%8e%a5%e5%8f%a3" aria-label="激活和停止网络接口">激活和停止网络接口</a></li>
                <li>
                    <a href="#%e8%8e%b7%e5%8f%96%e5%b8%ae%e5%8a%a9" aria-label="获取帮助">获取帮助</a></li>
                <li>
                    <a href="#%e5%b0%8f%e7%bb%93" aria-label="小结">小结</a></li></ul>
                </li>
                <li>
                    <a href="#dighttpslinuxcnarticle-14051-1html" aria-label="dig"><a href="https://linux.cn/article-14051-1.html">dig</a></a><ul>
                        
                <li>
                    <a href="#%e5%8f%82%e6%95%b0%e7%b1%bb%e5%9e%8b%e6%9f%a5%e8%af%a2%e5%92%8c%e6%a0%bc%e5%bc%8f%e5%8c%96" aria-label="参数类型：查询和格式化">参数类型：查询和格式化</a></li>
                <li>
                    <a href="#%e4%b8%bb%e8%a6%81%e7%9a%84%e6%9f%a5%e8%af%a2%e9%80%89%e9%a1%b9" aria-label="主要的查询选项">主要的查询选项</a></li>
                <li>
                    <a href="#%e6%a0%bc%e5%bc%8f%e5%8c%96%e5%93%8d%e5%ba%94%e7%9a%84%e9%80%89%e9%a1%b9" aria-label="格式化响应的选项">格式化响应的选项</a></li>
                <li>
                    <a href="#digrc" aria-label="digrc"><code>digrc</code></a></li>
                <li>
                    <a href="#dig-trace" aria-label="dig &#43;trace">dig +trace</a></li>
                <li>
                    <a href="#%e4%b8%ba%e4%bb%80%e4%b9%88%e8%a6%81%e7%94%a8-dig" aria-label="为什么要用 dig">为什么要用 dig</a></li></ul>
                </li>
                <li>
                    <a href="#sambahttpswwwcnblogscomgzdaijiep5194033html" aria-label="Samba"><a href="https://www.cnblogs.com/gzdaijie/p/5194033.html">Samba</a></a><ul>
                        
                <li>
                    <a href="#%e5%ae%89%e8%a3%85-3" aria-label="安装">安装</a></li>
                <li>
                    <a href="#%e5%88%9b%e5%bb%ba%e5%85%b1%e4%ba%ab" aria-label="创建共享">创建共享</a></li>
                <li>
                    <a href="#%e7%94%a8%e6%88%b7%e7%ae%a1%e7%90%86" aria-label="用户管理">用户管理</a></li>
                <li>
                    <a href="#which-is-faster-samba-or-scphttpsarstechnicacomcivisviewtopicphpf16t365900" aria-label="Which is faster-Samba or scp?"><a href="https://arstechnica.com/civis/viewtopic.php?f=16&amp;t=365900">Which is faster-Samba or scp?</a></a></li>
                <li>
                    <a href="#connect-to-servers-with-nautilushttpswwwaddictivetipscomubuntu-linux-tipsconnect-to-servers-with-gnome-file-manager" aria-label="Connect to servers with nautilus"><a href="https://www.addictivetips.com/ubuntu-linux-tips/connect-to-servers-with-gnome-file-manager/">Connect to servers with nautilus</a></a></li>
                <li>
                    <a href="#mount-samba-share-in-linux" aria-label="Mount Samba Share in Linux">Mount Samba Share in Linux</a></li></ul>
                </li>
                <li>
                    <a href="#sudohttpswwwcnblogscomsparkdevp6189196html" aria-label="sudo"><a href="https://www.cnblogs.com/sparkdev/p/6189196.html">sudo</a></a><ul>
                        
                <li>
                    <a href="#%e5%91%bd%e4%bb%a4%e8%af%ad%e6%b3%95" aria-label="命令语法">命令语法</a></li>
                <li>
                    <a href="#%e5%9f%ba%e6%9c%ac%e9%85%8d%e7%bd%ae" aria-label="基本配置">基本配置</a></li>
                <li>
                    <a href="#%e8%af%a6%e7%bb%86%e9%85%8d%e7%bd%ae" aria-label="详细配置">详细配置</a></li>
                <li>
                    <a href="#%e6%97%a5%e5%bf%97" aria-label="日志">日志</a></li>
                <li>
                    <a href="#%e4%b8%8e%e8%be%93%e5%87%ba%e9%87%8d%e5%ae%9a%e5%90%91httpswwwcnblogscomsparkdevp10287164html" aria-label="与输出重定向"><a href="https://www.cnblogs.com/sparkdev/p/10287164.html">与输出重定向</a></a></li></ul>
                </li>
                <li>
                    <a href="#fdiskhttpswwwcnblogscomsparkdevp10095916html" aria-label="fdisk"><a href="https://www.cnblogs.com/sparkdev/p/10095916.html">fdisk</a></a><ul>
                        
                <li>
                    <a href="#%e7%a3%81%e7%9b%98%e5%88%86%e7%b1%bb" aria-label="磁盘分类">磁盘分类</a></li>
                <li>
                    <a href="#%e8%a1%a8%e7%a4%ba%e6%96%b9%e6%b3%95" aria-label="表示方法">表示方法</a></li>
                <li>
                    <a href="#%e7%a3%81%e7%9b%98%e5%88%86%e5%8c%ba" aria-label="磁盘分区">磁盘分区</a></li>
                <li>
                    <a href="#%e5%88%92%e5%88%86%e7%a3%81%e7%9b%98%e5%88%86%e5%8c%ba" aria-label="划分磁盘分区">划分磁盘分区</a></li></ul>
                </li>
                <li>
                    <a href="#fuserhttpswwwcnblogscomsungeekp11857549html" aria-label="fuser"><a href="https://www.cnblogs.com/Sungeek/p/11857549.html">fuser</a></a><ul>
                        
                <li>
                    <a href="#%e6%8f%8f%e8%bf%b0" aria-label="描述">描述</a></li>
                <li>
                    <a href="#%e9%80%89%e9%a1%b9" aria-label="选项">选项</a></li>
                <li>
                    <a href="#%e7%a4%ba%e4%be%8b" aria-label="示例">示例</a></li></ul>
                </li>
                <li>
                    <a href="#tcpdumphttpssegmentfaultcoma1190000018944427" aria-label="tcpdump"><a href="https://segmentfault.com/a/1190000018944427">tcpdump</a></a><ul>
                        
                <li>
                    <a href="#%e5%91%bd%e4%bb%a4%e9%80%89%e9%a1%b9" aria-label="命令选项">命令选项</a></li>
                <li>
                    <a href="#%e8%bf%87%e6%bb%a4%e5%99%a8" aria-label="过滤器">过滤器</a></li>
                <li>
                    <a href="#%e5%b8%b8%e7%94%a8%e6%93%8d%e4%bd%9c" aria-label="常用操作">常用操作</a><ul>
                        
                <li>
                    <a href="#%e6%8a%93%e5%8f%96%e6%9f%90%e4%b8%bb%e6%9c%ba%e7%9a%84%e6%95%b0%e6%8d%ae%e5%8c%85" aria-label="抓取某主机的数据包">抓取某主机的数据包</a></li>
                <li>
                    <a href="#%e6%8a%93%e5%8f%96%e6%9f%90%e7%ab%af%e5%8f%a3%e7%9a%84%e6%95%b0%e6%8d%ae%e5%8c%85" aria-label="抓取某端口的数据包">抓取某端口的数据包</a></li>
                <li>
                    <a href="#%e6%8a%93%e5%8f%96%e6%9f%90%e7%bd%91%e7%bb%9c%e7%bd%91%e6%ae%b5%e7%9a%84%e6%95%b0%e6%8d%ae%e5%8c%85" aria-label="抓取某网络（网段）的数据包">抓取某网络（网段）的数据包</a></li>
                <li>
                    <a href="#%e6%8a%93%e5%8f%96%e6%9f%90%e5%8d%8f%e8%ae%ae%e7%9a%84%e6%95%b0%e6%8d%ae%e5%8c%85" aria-label="抓取某协议的数据包">抓取某协议的数据包</a></li>
                <li>
                    <a href="#%e5%a4%8d%e6%9d%82%e7%9a%84%e8%bf%87%e6%bb%a4%e6%9d%a1%e4%bb%b6" aria-label="复杂的过滤条件">复杂的过滤条件</a></li></ul>
                </li>
                <li>
                    <a href="#%e4%b8%8e%e5%85%b6%e4%bb%96%e5%b7%a5%e5%85%b7%e7%9a%84%e9%85%8d%e5%90%88" aria-label="与其他工具的配合">与其他工具的配合</a></li>
                <li>
                    <a href="#tcpdump-%e7%9a%84%e8%be%93%e5%87%ba%e6%a0%bc%e5%bc%8f" aria-label="tcpdump 的输出格式">tcpdump 的输出格式</a></li></ul>
                </li>
                <li>
                    <a href="#gpghttpsruanyifengcomblog201307gpghtml" aria-label="GPG"><a href="https://ruanyifeng.com/blog/2013/07/gpg.html">GPG</a></a><ul>
                        
                <li>
                    <a href="#%e4%bb%80%e4%b9%88%e6%98%afgpg" aria-label="什么是GPG">什么是GPG</a></li>
                <li>
                    <a href="#%e5%ae%89%e8%a3%85-4" aria-label="安装">安装</a></li>
                <li>
                    <a href="#%e9%85%8d%e7%bd%ae" aria-label="配置">配置</a><ul>
                        
                <li>
                    <a href="#%e7%9b%ae%e5%bd%95%e4%bd%8d%e7%bd%ae" aria-label="目录位置">目录位置</a></li>
                <li>
                    <a href="#%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6" aria-label="配置文件">配置文件</a></li>
                <li>
                    <a href="#%e6%96%b0%e7%94%a8%e6%88%b7%e7%9a%84%e9%bb%98%e8%ae%a4%e9%80%89%e9%a1%b9" aria-label="新用户的默认选项">新用户的默认选项</a></li></ul>
                </li>
                <li>
                    <a href="#%e7%94%9f%e6%88%90%e5%af%86%e9%92%a5" aria-label="生成密钥">生成密钥</a></li>
                <li>
                    <a href="#%e5%af%86%e9%92%a5%e7%ae%a1%e7%90%86" aria-label="密钥管理">密钥管理</a></li>
                <li>
                    <a href="#%e5%8a%a0%e5%af%86%e5%92%8c%e8%a7%a3%e5%af%86" aria-label="加密和解密">加密和解密</a></li>
                <li>
                    <a href="#%e7%ad%be%e5%90%8d" aria-label="签名">签名</a></li></ul>
                </li></ul>
                </li>
                <li>
                    <a href="#others" aria-label="Others">Others</a><ul>
                        
                <li>
                    <a href="#ubuntu-packages-searchhttpspackagesubuntucom" aria-label="Ubuntu Packages Search"><a href="https://packages.ubuntu.com/">Ubuntu Packages Search</a></a></li>
                <li>
                    <a href="#list-of-applicationshttpswikiarchlinuxorgtitlelist_of_applicationsarch" aria-label="List of applications:Arch"><a href="https://wiki.archlinux.org/title/List_of_applications">List of applications</a>:Arch</a></li>
                <li>
                    <a href="#recommended-applicationshttpswikigentooorgwikirecommended_applications-gentoo" aria-label="Recommended applications: Gentoo"><a href="https://wiki.gentoo.org/wiki/Recommended_applications">Recommended applications</a>: Gentoo</a></li>
                <li>
                    <a href="#%e5%b8%b8%e7%94%a8%e8%bd%af%e4%bb%b6httpszhopensuseorge5b8b8e794a8e8bdafe4bbb6opensuse" aria-label="常用软件:openSUSE"><a href="https://zh.opensuse.org/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6">常用软件</a>:openSUSE</a></li>
                <li>
                    <a href="#awesome-linux-softwarehttpsgithubcomlewisvoawesome-linux-software" aria-label="Awesome-Linux-Software"><a href="https://github.com/LewisVo/Awesome-Linux-Software">Awesome-Linux-Software</a></a></li>
                <li>
                    <a href="#%e5%ba%94%e7%94%a8%e4%b8%8b%e8%bd%bd-%e4%bc%98%e9%ba%92%e9%ba%9fhttpswwwubuntukylincomapplications" aria-label="应用下载-优麒麟"><a href="https://www.ubuntukylin.com/applications/">应用下载-优麒麟</a></a></li>
                <li>
                    <a href="#aurhttpsaurarchlinuxorg" aria-label="AUR"><a href="https://aur.archlinux.org/">AUR</a></a></li>
                <li>
                    <a href="#gentoo-portage-overlayshttpgpozugainaorg" aria-label="Gentoo Portage Overlays"><a href="http://gpo.zugaina.org/">Gentoo Portage Overlays</a></a></li>
                <li>
                    <a href="#%e9%93%9c%e8%b1%8c%e8%b1%86%e8%bd%af%e4%bb%b6%e7%94%9f%e6%80%81httpswwwatzlinuxcomallpackageshtm" aria-label="铜豌豆软件生态"><a href="https://www.atzlinux.com/allpackages.htm">铜豌豆软件生态</a></a>
                </li>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><h2 id="gui-utilities">GUI Utilities<a hidden class="anchor" aria-hidden="true" href="#gui-utilities">#</a></h2>
<h3 id="chromehttpswwwgooglecomlinuxrepositories"><a href="https://www.google.com/linuxrepositories/">Chrome</a><a hidden class="anchor" aria-hidden="true" href="#chromehttpswwwgooglecomlinuxrepositories">#</a></h3>
<p>因为 Chrome 安装包的时候会自动添加 gpg，因此可以参考 <a href="https://unix.stackexchange.com/a/198454">Bypass GPG signature checks only for a single repository</a> 执行如下操作</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo sh -c <span style="color:#e6db74">&#39;echo &#34;deb [arch=amd64 trusted=yes] https://dl.google.com/linux/chrome/deb/ stable main&#34; &gt; /etc/apt/sources.list.d/google-chrome.list&#39;</span>
$ sudo apt update
$ sudo apt install google-chrome-stable
</code></pre></div><p>PS：之前直接複製網上的，結果一直報錯，原因在於要寫 <code>https</code> 而非 http。</p>
<p><a href="https://www.makeuseof.com/import-passwords-into-chrome/"><strong>Import Passwords</strong></a></p>
<ol>
<li>Launch Chrome on your computer.</li>
<li>Type the following in the address bar and pressEnter: <code>chrome://flags</code></li>
<li>On the flags screen, put your cursor in the search box and type <strong>Password import</strong>.</li>
<li>You should see the <strong>Password import</strong> flag in the search results.</li>
<li>To enable this flag, click the dropdown menu next to the flag and select Enabled.</li>
<li>Click <strong>Relaunch</strong> at the bottom to relaunch Chrome. This will restore all of your open tabs.</li>
<li>When Chrome opens, click the three dots in the top-right corner, and select <strong>Settings</strong> &gt; <strong>Passwords</strong> on the following screen.</li>
<li>Click the three dots next to Saved Passwords and select Import.</li>
<li>Navigate to your CSV passwords file and select it to import it into Chrome.</li>
</ol>
<p><a href="https://chromium.googlesource.com/chromium/src/+/master/docs/user_data_dir.md#Linux"><strong>User Data Directory</strong></a></p>
<ul>
<li>[user data dir] <code>~/.config/google-chrome</code></li>
<li>[profile dir] <code>~/.config/google-chrome/Default</code></li>
<li>[user cache dir] <code>~/.cache/google-chrome/Default</code></li>
</ul>
<p><strong>Dark Mode</strong></p>
<p>注意：以下设置部分在 Android 端依然有效。</p>
<p>设置：</p>
<ol>
<li>Appearance =&gt;  Use GTK：在系统启用 Dark 模式下，会使窗口，标签页等浏览器上部分变黑暗</li>
<li>启用 <code>chrome://flags/#enable-force-dark</code>：会使设置页，网页黑暗；在Google 搜索页面，设置 =&gt; 外观 =&gt; 深色主题，可以使搜索结果词条访问过的与没有访问过的相区别（如果没有设置就会呈现一个颜色而无法区分）。有些网页也无效，并且完全看不清文字了，解决办法是启用 <code>Enable with increased text contrast</code>，例如依云的博客。</li>
</ol>
<p>其他：</p>
<ul>
<li><a href="https://github.com/darkreader/darkreader">Dark reader</a> 插件：会使网页黑暗。有些页面不起作用，比如 chrome web store、chrome 的设置页、插件、一些网站（即使该网站有黑暗模式，并且跟随系统，依旧显示为 light 模式）。除了无效的，不会使网页变得更难看。</li>
<li>开发工具的暗黑设置：按F12 =&gt; 按F1 ，设置主题为 Dark。</li>
</ul>
<p><strong>断点续传</strong></p>
<p><a href="https://superuser.com/a/420321">含义</a>：</p>
<p>Pause it with the option built-in to Chrome, and hibernate the computer. If the SERVER that is providing the download supports resuming downloads, then after you resume from hibernation, you should have no issues resuming the download.</p>
<p>After you pause the download, there is no need to touch Chrome. Just pause, and hibernate. By that I mean, don&rsquo;t close Chrome. Don&rsquo;t kill it or edit anything. Just pause the download, leave Chrome up and running, and hibernate.</p>
<p>明确需求：我要的不是“断点续传”（即 Pause &amp; Resume），而是类似aria2 的“始终断点续传”，前面一种在下载失败后会重新开始下载，而后面一种从失败的地方继续下载。</p>
<p>方案如下：</p>
<ol>
<li>旧版<code>chrome://flags/#enable-download-resumption</code>，新版内置</li>
<li><a href="https://www.chronodownloader.net/">Chrono Download Manager</a> 扩展</li>
<li>支持断点续传的下载器，如 <code>wge -c link</code></li>
</ol>
<p><a href="https://support.google.com/chrome/answer/10538231?hl=en"><strong>Live Caption</strong></a></p>
<p>Chrome 浏览器内置了实时字幕功能，同步将语音转成文字，显示在网页上，对于看英文视频、听英文播客很有用。</p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/Progressive_web_apps"><strong>PWA</strong></a></p>
<p>PWA（Progressive Web Apps，渐进式 Web 应用）运用现代的 Web API 以及传统的渐进式增强策略来创建跨平台 Web 应用程序。这些应用无处不在、功能丰富，使其具有与原生应用相同的用户体验优势。</p>
<p>Spotify、抖音、 微博等都有 PWA 版，只需打开网页，点击搜索栏中右侧电脑图标安装就行了。</p>
<p><strong>Translate</strong></p>
<p>每次打开页面，都弹出翻译来，真得很烦，可以在 Language 中关闭 Offer to translate pages that aren&rsquo;t in a language you read，之后再通过右键</p>
<p><a href="https://stackoverflow.com/a/57183713"><strong>Remove history of input in Chrome</strong></a></p>
<p>To remove autofill data in chrome. You will have to Clear your auto fill data.</p>
<ol>
<li>Open the chrome menu using the three dots in the top, right side of your window and click settings, or navigate to <code>chrome://settings</code> in your address bar.</li>
<li>Scroll to the bottom and go into the &lsquo;<strong>Advanced</strong>&rsquo; section</li>
<li>Under &lsquo;<strong>Privacy and security</strong>&rsquo; select &lsquo;<strong>Clear browsing data</strong>&rsquo;</li>
<li>Then make sure only &lsquo;<strong>Auto-fill</strong>&rsquo; form data is selected and press the Clear data button</li>
<li>Chrome has now removed your auto fill data.</li>
</ol>
<h4 id="extensions">Extensions<a hidden class="anchor" aria-hidden="true" href="#extensions">#</a></h4>
<ul>
<li><a href="https://chrome.google.com/webstore/detail/reader-mode/llimhhconnjiflfimocjggfjdlmlhblm/related?hl=en">Reader Mode</a>: A feature-packed distraction-free web reader with dyslexia support and research tools</li>
<li><a href="https://chrome.google.com/webstore/detail/pixelzoomer/fogkjckfkdcnmnnfmbieljpkmmihhpao">PixelZoomer</a>：测量设计图中图片的尺寸、像素</li>
<li><a href="https://download-all-images.mobilefirst.me/">Download All Images</a>：下载网页所有图片</li>
<li><a href="https://github.com/gorhill/uBlock">uBlock Origin</a>：禁广告</li>
<li><a href="https://saladict.crimx.com/">沙拉查词</a>：聚合词典专业划词翻译</li>
<li><a href="https://chrome.google.com/webstore/detail/infinity-new-tab/dbfmnekepjoapopniengjbcpnbljalfg?hl=en-US">Infinity New Tab</a>：Chrome Extension，解决 Chrome new tab 加载后会清空搜索栏问题</li>
<li><a href="https://chrome.google.com/webstore/detail/deepl-translate-beta-vers/cofdbpoegempjloogbagkncekinflcnj?utm_source=chrome-ntp-icon">DeepL Translate</a>：评论家对于它的评价普遍正面，认为它的翻译比起Google翻译更为准确自然。</li>
</ul>
<h4 id="用户脚本管理器httpsgreasyforkorgzh-cn"><a href="https://greasyfork.org/zh-CN">用户脚本管理器</a><a hidden class="anchor" aria-hidden="true" href="#用户脚本管理器httpsgreasyforkorgzh-cn">#</a></h4>
<p><strong>桌面端</strong></p>
<ul>
<li>Chrome：<a href="https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo">Tampermonkey</a> 或 <a href="https://chrome.google.com/webstore/detail/violent-monkey/jinjaccalgkegednnccohejagnlnfdag">Violentmonkey</a></li>
<li>Firefox：<a href="https://addons.mozilla.org/firefox/addon/greasemonkey/">Greasemonkey</a>、<a href="https://addons.mozilla.org/firefox/addon/tampermonkey/">Tampermonkey</a> 或 <a href="https://addons.mozilla.org/firefox/addon/violentmonkey/">Violentmonkey</a></li>
<li>Safari：<a href="http://tampermonkey.net/?browser=safari">Tampermonkey</a> 或 <a href="https://apps.apple.com/app/userscripts/id1463298887">Userscripts</a></li>
<li>Microsoft Edge：<a href="https://microsoftedge.microsoft.com/addons/detail/tampermonkey/iikmkjmpaadaobahmlepeloendndfphd">Tampermonkey</a></li>
<li>Opera：<a href="https://addons.opera.com/extensions/details/tampermonkey-beta/">Tampermonkey</a> 或 <a href="https://violentmonkey.github.io/get-it/">Violentmonkey</a></li>
<li>Maxthon：<a href="http://extension.maxthon.com/detail/index.php?view_id=1680">Violentmonkey</a></li>
<li>AdGuard：（不需要其他软件）</li>
</ul>
<p><strong>脚本</strong></p>
<ul>
<li><a href="https://greasyfork.org/zh-CN/scripts/397419-fastgithub-%E9%95%9C%E5%83%8F%E5%8A%A0%E9%80%9F%E8%AE%BF%E9%97%AE-%E5%85%8B%E9%9A%86%E5%92%8C%E4%B8%8B%E8%BD%BD">FastGithub 镜像加速访问、克隆和下载</a></li>
<li><a href="https://greasyfork.org/zh-CN/scripts/424574-%E7%A7%92%E4%BC%A0%E9%93%BE%E6%8E%A5%E6%8F%90%E5%8F%96">秒传链接提取</a>：用于提取和生成百度网盘秒传链接</li>
<li><a href="https://greasyfork.org/zh-CN/scripts/419081-%E7%9F%A5%E4%B9%8E%E5%A2%9E%E5%BC%BA">知乎增强</a>：移除登录弹窗</li>
<li><a href="https://greasyfork.org/zh-CN/scripts/396310-%E7%BD%91%E9%A1%B5%E5%A4%8D%E5%88%B6%E9%99%90%E5%88%B6%E8%A7%A3%E9%99%A4">网页复制限制解除</a></li>
<li><a href="https://greasyfork.org/zh-CN/scripts/418804-%E8%A7%A3%E9%94%81b%E7%AB%99%E5%A4%A7%E4%BC%9A%E5%91%98%E7%95%AA%E5%89%A7-b%E7%AB%99%E8%A7%86%E9%A2%91%E8%A7%A3%E6%9E%90%E4%B8%8B%E8%BD%BD-%E5%85%A8%E7%BD%91vip%E8%A7%86%E9%A2%91%E5%85%8D%E8%B4%B9%E7%A0%B4%E8%A7%A3%E5%8E%BB%E5%B9%BF%E5%91%8A-%E5%85%A8%E7%BD%91%E9%9F%B3%E4%B9%90%E7%9B%B4%E6%8E%A5%E4%B8%8B%E8%BD%BD-%E6%B2%B9%E7%AE%A1-facebook%E7%AD%89%E5%9B%BD%E5%A4%96%E8%A7%86%E9%A2%91%E8%A7%A3%E6%9E%90%E4%B8%8B%E8%BD%BD-%E7%BD%91%E7%9B%98%E6%90%9C%E7%B4%A2%E5%BC%95%E6%93%8E%E7%A0%B4%E8%A7%A3%E6%97%A0%E9%99%90%E4%B8%8B%E8%BD%BD%E7%AD%89">解锁视频</a></li>
</ul>
<h4 id="chromium">Chromium<a hidden class="anchor" aria-hidden="true" href="#chromium">#</a></h4>
<p><a href="https://en.wikipedia.org/wiki/Chromium_(web_browser)">Chromium</a> 是一款来自 &ldquo;The Chromium Project&rdquo; 的开源图形网络浏览器，基于 <a href="https://en.wikipedia.org/wiki/Blink_(web_engine)">Blink</a> 渲染引擎。它也是商业软件 Google Chrome 浏览器得以组成的基础。</p>
<p>在<a href="https://chromium.googlesource.com/chromium/src/+/master/docs/chromium_browser_vs_google_chrome.md">这里</a>你可以看到 Google Chrome 与 Chromium 浏览器的区别。此外，还有一点重要的不同：2021年3月2日发布的 Chromium 89 及其以后版本不再支持 Google 账户同步功能。</p>
<p><strong>注意：</strong> 目前，可以通过 <a href="https://gist.github.com/foutrelis/14e339596b89813aa9c37fd1b4e5d9d5">使用 Chrome 的OAuth2 凭证</a>或者 <a href="https://www.chromium.org/developers/how-tos/api-keys">申请一个属于自己的凭证</a>来恢复同步功能, 但是请注意，这不一定是一个长期的解决方案。长期来讲，最好考虑使用 <a href="https://www.xbrowsersync.org/">xbrowsersync</a> 来同步书签数据。</p>
<h3 id="firefox">Firefox<a hidden class="anchor" aria-hidden="true" href="#firefox">#</a></h3>
<p><strong>设置</strong></p>
<ul>
<li>Sign In =&gt; Sync</li>
<li>Settings =&gt; Proxy =&gt; no proxy</li>
<li>Settings =&gt; Search =&gt; Bing</li>
<li>Settings =&gt; Home =&gt; Firefox Home</li>
<li>Add-ons =&gt; Dark Reader</li>
</ul>
<p><strong>Multimedia Codecs</strong></p>
<p>主要用于 Firefox，安装媒体解码器来播放 MP3、MPEG4 和其他格式媒体文件。由于各个国家的版权问题， Ubuntu 在默认情况下不会安装它。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo apt-get install ubuntu-restricted-extras
</code></pre></div><h3 id="goldendicthttpswwwcnblogscomkeatonlaop12702571html"><a href="https://www.cnblogs.com/keatonlao/p/12702571.html">GoldenDict</a><a hidden class="anchor" aria-hidden="true" href="#goldendicthttpswwwcnblogscomkeatonlaop12702571html">#</a></h3>
<p><strong>人一生离不开词典</strong>。无论是生活、学习还是工作，当我们遇到不懂的词语时，大部分人的解决方法是使用搜索引擎或者查词软件。作为学习者，我认为查词软件更好用，而且一本或几本好词典能让我们学习事半功倍。而免费查词软件我推荐 <a href="https://sourceforge.net/projects/goldendict/">GoldenDict</a>。</p>
<p>GoldenDict 的优点：</p>
<ul>
<li>免费</li>
<li>纯净无广告 == 专注</li>
<li>跨平台：Windows / Mac / Linux</li>
<li>支持多种词典格式</li>
<li>支持查维基百科 / 支持在线查词 / 支持在线翻译（需配置）</li>
<li>支持屏幕取词 == 划词释义</li>
<li>支持听取 <a href="http://forvo.com/">forvo.com</a> 上的发音</li>
<li>详见 <a href="http://www.goldendict.org/">GoldenDict 官网</a> 的权威说明。</li>
</ul>
<p>GoldenDict 的缺点：</p>
<ul>
<li>无 OCR 屏幕取词 / 无截屏翻译</li>
<li>无单词本。</li>
</ul>
<p>知道 GoldenDict 的优缺点后，充分利用其优点的同时，我们想办法补齐短板。</p>
<p><strong>GoldenDict 擅长查词，不擅长文本翻译，可是查词和文本翻译是分不开的，都是我们学习第二语言时经常需要的功能。为此，我引入两个文本翻译程序：<a href="https://github.com/CopyTranslator/CopyTranslator">CopyTranslator</a> / <a href="https://github.com/crimx/ext-saladict">Saladict</a>。</strong></p>
<p>无论你用什么电脑操作系统，都能利用它们进行高效率的查词和文本翻译。我认为这对用户很重要。只要我在系统里，我就能随时查词和文本翻译。</p>
<blockquote>
<p>GoldenDict 擅长查词：</p>
<p>意味着你可以管理多个词典，并利用好的词典对单词进行深度学习。你把 GoldenDict 想成一个书架，上面放了多本纸质词典供你查阅。</p>
<p>CopyTranslator / Saladict 擅长文本翻译：</p>
<p>意味着能极大提高你在文本翻译时的效率。比如拥有多个翻译引擎（Google，Baidu，Youdao 等），方便复制翻译结果等。当然，职业译者肯定使用专业的 CAT 软件。</p>
</blockquote>
<p>好，下面开始学习使用 GoldenDict。</p>
<h4 id="安装">安装<a hidden class="anchor" aria-hidden="true" href="#安装">#</a></h4>
<ul>
<li>**Windows：**下载安装最新版，当前为 [GoldenDict-1.5.0-RC2-372-*.exe（2019-04-27）](<a href="https://sourceforge.net/projects/goldendict/files/early">https://sourceforge.net/projects/goldendict/files/early</a> access builds/)。</li>
<li>**macOS：**下载安装最新版，当前为 [GoldenDict-1.5.0-RC2-372-*.dmg（2019-04-27）](<a href="https://sourceforge.net/projects/goldendict/files/early">https://sourceforge.net/projects/goldendict/files/early</a> access builds/MacOS/)。</li>
<li><strong>Linux</strong> ：终端上执行安装命令</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># Ubuntu / Debian</span>
sudo apt install goldendict -y
</code></pre></div><p>下面我在 Linux 上做演示操作。（Windows / macOS 大同小异）</p>
<h5 id="打开-goldendict">打开 GoldenDict<a hidden class="anchor" aria-hidden="true" href="#打开-goldendict">#</a></h5>
<p>如果你一直用鼠标点击软件图标打开软件，我强烈建议你用更高效的方式——搜索打开应用。按 <strong>Super</strong>（Win） 键搜索 <strong>gold</strong> 再按 <strong>Enter</strong> 键打开程序：</p>
<p>第一次使用，建议阅读两遍 <strong>欢迎说明</strong>。</p>
<blockquote>
<p>为什么搜索打开应用更高效？这就考验你有没有「搜商」了。搜索只依赖键盘，不依赖鼠标，所以能盲开应用。</p>
</blockquote>
<h5 id="修改语言">修改语言<a hidden class="anchor" aria-hidden="true" href="#修改语言">#</a></h5>
<p>菜单栏选择**【编辑】&gt;【首选项】**：根据需要修改界面语言和显示风格。</p>
<h4 id="管理词典">管理词典<a hidden class="anchor" aria-hidden="true" href="#管理词典">#</a></h4>
<h5 id="下载词典">下载词典<a hidden class="anchor" aria-hidden="true" href="#下载词典">#</a></h5>
<p>我选了 4 部体积小的词典进行快速演练：</p>
<p><strong>词典来源</strong>：<a href="http://download.huzheng.org/">星际译王词库 词典下载</a></p>
<ul>
<li><a href="http://download.huzheng.org/dict.org/stardict-oald-2.4.2.tar.bz2">Oxford Advanced Learner&rsquo;s Dictionary</a></li>
<li><a href="http://download.huzheng.org/zh_CN/stardict-oxford-gb-2.4.2.tar.bz2">oxford-gb dictionary (en - zh_CN) 牛津现代英汉双解词典</a></li>
<li><a href="http://download.huzheng.org/zh_CN/stardict-langdao-ce-gb-2.4.2.tar.bz2">朗道汉英字典</a></li>
<li><a href="http://download.huzheng.org/zh_CN/stardict-xhzd-2.4.2.tar.bz2">新华字典</a></li>
</ul>
<h5 id="存放词典">存放词典<a hidden class="anchor" aria-hidden="true" href="#存放词典">#</a></h5>
<p>根据个人情况选择存放位置。我这里放在 <strong>/DATA/Software/GoldenDict/dic/</strong> 下。</p>
<h5 id="导入词典">导入词典<a hidden class="anchor" aria-hidden="true" href="#导入词典">#</a></h5>
<p>菜单栏选择**【编辑】&gt;【词典】&gt;【词典来源】&gt;【文件】&gt; 添加** 选择上一步的词典位置打开，点击 <strong>重新扫描</strong> 完成后 Apply 应用，切换到**【群组】**选项卡接着完成下一步词典分组。</p>
<h5 id="词典分组">词典分组<a hidden class="anchor" aria-hidden="true" href="#词典分组">#</a></h5>
<p>刚才下载了「四类」词典：<strong>英汉、英英、汉英、汉语</strong>，需要将它们按类分组。（这里的英汉包括英汉词典和英汉双解词典，同样，汉英包括汉英词典和汉英双解词典。）</p>
<p>选择**【群组】&gt; 添加群组**，然后在左边 <strong>可用词典</strong> 中选中，点击中间 <strong>&gt;</strong> 添加到分组，最后 <strong>OK</strong> 确认：</p>
<blockquote>
<p><strong>英汉（En - 中）（自定义快捷键：Ctrl-1）</strong>：牛津现代英汉双解词典
<strong>英英（En - En）（自定义快捷键：Ctrl-2）</strong>：Oxford Advanced Learner&rsquo;s Dictionary
<strong>汉英（中 - En）（自定义快捷键：Ctrl-3）</strong>：朗道汉英字典
<strong>汉语（Chinese）（自定义快捷键：Ctrl-4）</strong>：新华字典</p>
</blockquote>
<blockquote>
<p>为什么需要分组？当词典很多时，提高检索速度和分类检索。所以，你也可以按使用频率进行分组，比如分一个 <strong>最常用</strong> 群组。你喜欢就好。</p>
</blockquote>
<h4 id="使用">使用<a hidden class="anchor" aria-hidden="true" href="#使用">#</a></h4>
<h5 id="复制查词">复制查词<a hidden class="anchor" aria-hidden="true" href="#复制查词">#</a></h5>
<p>最笨最原始的方式，就是复制词语再跑到 GoldenDict 窗口粘贴查询。怎么样才叫不笨呢？</p>
<p>菜单栏选择**【编辑】&gt;【首选项】&gt;【热键】**可以看到。</p>
<p>热键 <strong>Ctrl+C+C</strong> 的意思是，选中需要翻译的词句，按住 Ctrl 再按两下 C 键 ，就能呼唤 GoldenDict 帮你翻译。</p>
<p><strong>所以正确的查词姿势是：选中词句，Ctrl+C+C。</strong></p>
<p>下面我列了两个场景现场操练一下（需要完成前面的步骤）：</p>
<blockquote>
<p><strong>英文场景</strong>： 此时你正趴在屏幕前哭逼地学习英文。</p>
<p>Q：What do I need to plant a flower?
A：I need fresh soil and a trowel to dig a hole.</p>
</blockquote>
<p>我们可以猜出 <strong>Trowel</strong> 的意思，现在假设你不知道，赶紧选中 <strong>Trowel，Ctrl+C+C</strong>，在 牛津现代英汉双解词典 里查到是<strong>小铲子</strong>的意思。</p>
<blockquote>
<p><strong>中文场景</strong>： 此时你正趴在屏幕前读苏轼的《赤壁赋》。</p>
<p>客有吹洞箫者，倚歌而和之。
其声呜呜然，如怨如慕，如泣如诉；余音袅袅，不绝如缕。
舞幽壑之潜蛟，泣孤舟之嫠妇。</p>
</blockquote>
<p>假设你不知道 <strong>嫠</strong> 字怎么读，这时候赶紧选中 <strong>嫠，Ctrl+C+C</strong>，马上就查出来了读嫠（lí）专指寡妇。</p>
<p><strong>取词窗口</strong> 上有一些按钮，鼠标悬停在上面会弹出解释，常用的是导航栏中的 <strong>查询框</strong> 、**将词条发送到主窗口（alt-W）**以及 <strong>添加收藏（ctrl-E）</strong>。 默认在 <strong>全部</strong> 群组中查询，可以切换到特定群组进行查询。不要怕，不要懒，多点点看看，就能用好这款神器了。</p>
<h5 id="手动查词模糊匹配">手动查词：模糊匹配<a hidden class="anchor" aria-hidden="true" href="#手动查词模糊匹配">#</a></h5>
<p>在查询框中，利用通配符进行词目（headwords）的模糊匹配，可以查询一个记忆模糊的单词。</p>
<p>通配符：<code>？</code> （匹配任意一个字符），<code>*</code>（匹配任意字符数字）。</p>
<p>比如，我要查一下 <strong>philosophy</strong> 的用法，但是忘记了拼写，我可以搜 <code>ph*phy</code>。使用方法非常简单，不做过多介绍。</p>
<p>如果实在想不起来英文单词，就查查汉英词典。</p>
<p>前面四部词典是为了快速演练。下面我将使用我喜欢的词典进行展示，这些词典内容丰富（体积很大），会有更好的展示效果。这些词典在下文 <strong>英语词典推荐</strong> 部分有介绍。</p>
<h5 id="调整界面">调整界面<a hidden class="anchor" aria-hidden="true" href="#调整界面">#</a></h5>
<p>我们要记住快捷键 <strong>Ctrl+M</strong>，显示 / 隐藏菜单栏（Menu）。程序窗口中 7 个面板都可以被隐藏，从上到下，从左到右依次为：</p>
<ul>
<li>菜单栏</li>
<li>查询面板</li>
<li>导航栏</li>
<li>词典栏</li>
<li>查询结果导航面板</li>
<li>收藏面板</li>
<li>历史面板</li>
</ul>
<p>在面板标题上右键，可以选择是否显示该面板。还可以左键拖拽面板调整其位置。我喜欢隐藏菜单栏显示查询面板：</p>
<p>按住 <strong>Ctrl</strong> 后滑动鼠标滚轮，可以缩放显示界面。也可以使用导航栏上的放大镜按钮调节。</p>
<p>我的这部词典有发音，所以可以点击喇叭图标听发音。如果点击喇叭图标没有声音，菜单栏选择**【编辑】&gt;【首选项】&gt;【音频】&gt; 播放 &gt; 设置播放器**，我这里使用了内部播放器： Qt Multimedia 。当然也可以使用外部播放器：mplayer 。(前提是安装了 mplayer ：<code>sudo apt -y install mplayer</code>)</p>
<h5 id="排序词典">排序词典<a hidden class="anchor" aria-hidden="true" href="#排序词典">#</a></h5>
<p>查找单词时，会按照词典栏的词典顺序进行检索，现在我想把 <em><strong>The little dict</strong></em> 放到第一的位置：菜单栏选择**【编辑】&gt;【词典】&gt;【词典】**，把 <em><strong>The little dict</strong></em> 拖到第一位。</p>
<p>这里调整的是默认群组 <strong>全部</strong> 中的词典顺序，要调整自定义群组的词典顺序，切换到【群组】选项卡，拖拽群组中的条目进行排序。</p>
<h5 id="屏幕取词--划词释义">屏幕取词 / 划词释义<a hidden class="anchor" aria-hidden="true" href="#屏幕取词--划词释义">#</a></h5>
<p><strong>Ctrl+C+C</strong> 是大多数时候的正常查词姿势，不过在特定场景下，比如阅读生词较多的英文文章、英文书籍时， 打开屏幕取词会使效率提升。点击导航栏中魔法棒图标开启屏幕取词，或者右键托盘图标勾选「屏幕取词」。Windows 上是真的屏幕取词，即鼠标悬停取词；而 Linux 上为划词释义，需要手动选择。</p>
<p>按 F4 打开【首选项】，在屏幕取词选项卡可以对「屏幕取词」进行设置。除非 Ctrl-C-C 快捷键冲突，否则，保持默认就行。</p>
<blockquote>
<p>LCinux 上，如果你觉得经常按 <strong>Ctrl+C+C</strong> 麻烦，更喜欢用C鼠标控制取词，你可以勾选「单词被选中时显示扫描旗标」，通过点击旗标进行查词。（Windows 版本没有此选项）</p>
</blockquote>
<p>一起看看 GoldenDict 与浏览器翻译扩展程序之间的差别：</p>
<ul>
<li>统一入口，使用同一个程序 / 使用自己喜欢的词典来学习；</li>
<li>利用英汉词典快速查看释义，同时可利用其他词典深入学习，边学边用学习效率高（前提是时间允许）；</li>
<li>有些人说扩展更快速，我没感觉出来；</li>
<li>可以跨浏览器、跨软件使用；</li>
<li>离线使用，你可以愉快地看电脑上的英文（DOC、PPT、TXT、PDF、EPUB、HTML 等任何电子文档格式）；</li>
</ul>
<h5 id="查词在线词典">查词：在线词典<a hidden class="anchor" aria-hidden="true" href="#查词在线词典">#</a></h5>
<p>本地词典可以灵活选择适合自己的词典，非常惬意！但是本地词库收词有限，如果你遇到一个没有收录的单词，怎么办？</p>
<p>只能查在线词典了！</p>
<p>为 GoldenDict 添加在线词典非常简单。</p>
<p>菜单栏选择**【编辑】&gt;【词典】&gt;【词典来源】&gt;【网站】&gt; 添加 &gt; 启用** ：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># 欧路</span>
https://dict.eudic.net/dicts/en/%GDWORD%

<span style="color:#75715e"># 有道词典 / 翻译</span>
http://dict.youdao.com/search?q<span style="color:#f92672">=</span>%GDWORD%&amp;ue<span style="color:#f92672">=</span>utf8

<span style="color:#75715e"># Collins Online Dictionary</span>
https://www.collinsdictionary.com/dictionary/english/%GDWORD%
</code></pre></div><p>切换到【群组】选项卡，添加到名为 <strong>Online Dictionary</strong> 的群组（自定义快捷键：Ctrl-5）。</p>
<p>其他在线词典，可通过浏览器访问使用：</p>
<ul>
<li><a href="https://www.oxfordlearnersdictionaries.com/">牛津在线词典</a></li>
<li><a href="https://www.ldoceonline.com/">朗文在线词典</a></li>
<li><a href="https://dictionary.cambridge.org/">剑桥在线词典</a></li>
<li><a href="https://www.merriam-webster.com/">韦氏在线词典</a></li>
<li><a href="https://www.vocabulary.com/">Vocabulary.com</a></li>
<li><a href="https://www.dictionary.com/">Dictionary.com</a></li>
<li><a href="http://dict.hjenglish.com/">沪江小D在线词典</a></li>
<li><a href="https://www.zdic.net/">漢典</a></li>
</ul>
<h5 id="查词维基百科">查词：维基百科<a hidden class="anchor" aria-hidden="true" href="#查词维基百科">#</a></h5>
<p>维基百科绝对是个好东西！</p>
<p>由于国内无法访问到 <strong>English Wikipedia</strong>，所以这里取消显示。（除非你在【首选项】&gt;【网络】中通过代理访问）</p>
<p>菜单栏选择**【编辑】&gt;【词典】&gt;【词典来源】&gt;【维基百科】**，取消勾选。</p>
<h5 id="查词搜索引擎">查词：搜索引擎<a hidden class="anchor" aria-hidden="true" href="#查词搜索引擎">#</a></h5>
<p>是的，聪明的你一定会想，我可以直接添加搜索引擎吗？可以的。下面是谷歌 / 搜狗 / 百度 / 必应的搜索串：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># Bing 中国：</span>
http://cn.bing.com/search?q<span style="color:#f92672">=</span>%GDWORD%

<span style="color:#75715e"># Bing 美国：</span>
http://www.bing.com/search?q<span style="color:#f92672">=</span>%GDWORD%

<span style="color:#75715e"># 搜狗</span>
http://www.sogou.com/web?query<span style="color:#f92672">=</span>%GDWORD%

<span style="color:#75715e"># 百度搜索</span>
http://www.baidu.com/s?wd<span style="color:#f92672">=</span>%GDWORD%

<span style="color:#75715e"># Google</span>
https://google.com/search?q<span style="color:#f92672">=</span>%GDWORD%
</code></pre></div><p>菜单栏选择**【编辑】&gt;【词典】&gt;【词典来源】&gt;【网站】&gt; 添加 &gt; 启用**。切换到【群组】选项卡，将其添加到 <strong>Online Dictionary</strong> 群组。</p>
<p>这里我添加必应搜索并查询 <strong>蜗牛</strong>，然后双击结果 <strong>snails</strong> 进行英文搜索，可查看搜索引擎里的图片，帮助我们理解记忆单词。因为词典里面配图一般比较少，搜索引擎将使你获得更多相关信息，辅助学习（警惕浪费时间）。</p>
<h5 id="文本翻译谷歌翻译">文本翻译：谷歌翻译<a hidden class="anchor" aria-hidden="true" href="#文本翻译谷歌翻译">#</a></h5>
<p>（Linux 上做演示）：如果不显示翻译，可能是代理之类的问题，可以先在终端运行一下 goldendict，之后便没问题了（原因未知）</p>
<p><a href="https://github.com/soimort/translate-shell">translate-shell</a> 支持谷歌翻译或者必应翻译，我们可以在 GoldenDict 上利用其进行文本翻译。</p>
<p><strong>第一步</strong>：安装 translate-shell</p>
<p>Linux</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># Ubuntu</span>
$ sudo apt install translate-shell -y
</code></pre></div><p>macOS</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># Homebrew</span>
$ brew install translate-shell

<span style="color:#75715e"># MacPorts</span>
$ sudo port install translate-shell
</code></pre></div><p>Windows</p>
<ul>
<li>配置比较繁琐，推荐使用 <a href="https://github.com/xinebf">xinebf</a>/<strong><a href="https://github.com/xinebf/google-translate-for-goldendict">google-translate-for-goldendict</a></strong>（使用方法见后面）。或者使用 <a href="https://github.com/CopyTranslator/CopyTranslator">CopyTranslator</a>。</li>
</ul>
<p><strong>第二步</strong>：菜单栏选择**【编辑】&gt;【词典】&gt;【词典来源】&gt;【程序】&gt; 添加**，进行如下配置（类型为纯文本）：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># Google Translate -&gt; [Chinese]</span>
trans -e google -s auto -t zh-CN -show-original n -show-original-phonetics n -show-translation n -show-translation-phonetics n -show-prompt-message n -show-languages n -show-original-dictionary n -show-dictionary n -show-alternatives n -no-ansi <span style="color:#e6db74">&#34;%GDWORD%&#34;</span>

<span style="color:#75715e"># Google Translate -&gt; [English]</span>
trans -e google -s auto -t en-US -show-original n -show-original-phonetics n -show-translation n -show-translation-phonetics n -show-prompt-message n -show-languages n -show-original-dictionary n -show-dictionary n -show-alternatives n -no-ansi <span style="color:#e6db74">&#34;%GDWORD%&#34;</span>
</code></pre></div><ul>
<li><code>-show-original</code> Show original text or not.  (default: yes)</li>
<li><code>-show-original-phonetics</code> Show phonetic notation of original text or not.  (default: yes)</li>
<li><code>-show-translation</code> Show translation or not.  (default: yes)</li>
<li><code>-show-translation-phonetics</code> Show phonetic notation of translation or not.  (default: yes)</li>
<li><code>-show-prompt-message</code> Show prompt message or not.  (default: yes)</li>
<li><code>-show-languages</code> Show source and target languages or not.  (default: yes)</li>
<li><code>-show-original-dictionary</code> Show dictionary entry of original text or not.  (default: no) This option is enabled in dictionary mode.</li>
<li><code>-show-dictionary</code> Show dictionary entry of translation or not.  (default: yes)</li>
<li><code>-show-alternatives</code> Show alternative translations or not.  (default: yes)</li>
<li><code>-no-ansi</code> Do not use ANSI escape codes.</li>
</ul>
<p><strong>第三步</strong>：切换到**【群组】&gt; 添加群组 &gt; Translate**，并添加 <a href="https://img.icons8.com/color/48/000000/google-translate.png">图标</a>，设置群组快捷键为 <strong>Shift+T</strong>（可选）</p>
<p><strong>第四步</strong>：实践一下，在终端中 <strong>Ctrl+C+C</strong>，查询框处选择 Translate 群组，就看到翻译结果啦</p>
<p>添加在线翻译后，GoldenDict 就能跨软件快速翻译。无论你是在浏览网页，还是在阅读英文书籍，或者看软件英文手册， <strong>Ctrl+C+C</strong> 快速查看翻译。你还可以收藏你翻译过的短语。</p>
<p><strong>Windows 上使用 <a href="https://github.com/xinebf/google-translate-for-goldendict">google-translate-for-goldendict</a>：</strong></p>
<p>到 <a href="https://www.python.org/downloads/windows/">Python 官网下载最新版安装包</a>，当前为 <a href="https://www.python.org/ftp/python/3.8.2/python-3.8.2-amd64.exe">python-3.8.2-amd64.exe</a>，安装时勾选 <code>Add Python 3.8 to PATH</code> 就行。</p>
<p>打开 CMD 运行：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cmd" data-lang="cmd">&gt; python -m pip install --upgrade pip
&gt; pip3 install google-translate-for-goldendict
</code></pre></div><blockquote>
<p>先升级 pip 至最新版，然后再安装。</p>
</blockquote>
<p>按 <strong>F3</strong> 打开 GoldenDict 词典配置界面， 进入【程序】选项卡：</p>
<table>
<thead>
<tr>
<th>key</th>
<th>value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Enabled</td>
<td>✓</td>
</tr>
<tr>
<td>Type</td>
<td>Html</td>
</tr>
<tr>
<td>Name</td>
<td>Google Translate</td>
</tr>
<tr>
<td>Command Line</td>
<td>python -m googletranslate.googletranslate zh-CN %GDWORD% -s &ldquo;translate.google.cn&rdquo;</td>
</tr>
<tr>
<td>Icon</td>
<td>H:\PathTo\google_translate.png</td>
</tr>
</tbody>
</table>
<p>切换到**【群组】&gt; 添加群组 &gt; Translate**，并添加 <a href="https://img.icons8.com/color/48/000000/google-translate.png">图标</a>，设置群组快捷键为 <strong>Shift+T</strong>。</p>
<h5 id="文本翻译有道翻译">文本翻译：有道翻译<a hidden class="anchor" aria-hidden="true" href="#文本翻译有道翻译">#</a></h5>
<p>在 Linux 上，利用 easeflyer 开发的 <a href="https://github.com/easeflyer/gd_plugin">gd_plugin</a> 添加有道翻译。</p>
<p>将项目克隆下来：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ cd ~
$ git clone git@github.com:easeflyer/gd_plugin.git
</code></pre></div><p>按 <strong>F3</strong> 打开 GoldenDict 词典配置界面， 进入【程序】选项卡（路径替换为自己的绝对路径）：</p>
<table>
<thead>
<tr>
<th>key</th>
<th>value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Enabled</td>
<td>✓</td>
</tr>
<tr>
<td>Type</td>
<td>Html</td>
</tr>
<tr>
<td>Name</td>
<td>Youdao Translate</td>
</tr>
<tr>
<td>Command Line</td>
<td>/home/YOUR_USER_NAME/gd_plugin/youdao/youdao_get.py %GDWORD%</td>
</tr>
<tr>
<td>Icon</td>
<td>/home/YOUR_USER_NAME/gd_plugin/youdao/youdao.svg</td>
</tr>
</tbody>
</table>
<p>下载图标 <a href="https://www.easyicon.net/language.en/1193429-youdao_icon.html">Youdao icons</a>。</p>
<p>切换到【群组】选项卡，将其添加到 Translate 群组。</p>
<h5 id="文本翻译copytranslator">文本翻译：CopyTranslator<a hidden class="anchor" aria-hidden="true" href="#文本翻译copytranslator">#</a></h5>
<p><a href="https://github.com/CopyTranslator/CopyTranslator">CopyTranslator</a> 是复制即翻译的外文辅助阅读翻译解决方案，支持 Windows、Mac、Linux 三大平台，翻译引擎包括 Google，Baidu，Youdao，Sogou，Caiyun，Tencent。</p>
<p><a href="https://copytranslator.github.io/download/">下载 CopyTranslator 安装包</a> 进行安装后，使用方法请阅读 <a href="https://copytranslator.github.io/guide/">CopyTranslator 官方文档</a>。</p>
<p>CopyTranslator 擅长文本翻译，可是与 GoldenDict 交互使用时不够高效。所以，使用 GoldenDict 能满足需求时，就没必要打开 CopyTranslator。</p>
<blockquote>
<p>有一款叫做 <a href="https://duoyi.io/">多译</a> 的软件与 CopyTranslator 有相同功能，但是有字数限制，有兴趣可以了解一下。</p>
</blockquote>
<h5 id="文本翻译saladict">文本翻译：Saladict<a hidden class="anchor" aria-hidden="true" href="#文本翻译saladict">#</a></h5>
<p><a href="https://github.com/crimx/ext-saladict">Saladict</a> 沙拉查词（<a href="https://chrome.zzzmh.cn/info?token=cdonnmffkdaoajfknoeeecmchibpmkmg">Chrome</a> / <a href="https://addons.mozilla.org/en-US/firefox/addon/ext-saladict/">Firefox</a>）插件天生适合浏览器，Saladict 插件可以在线翻译、在线查词、在线语音朗读、添加单词本、页面翻译等。</p>
<p>使用方法参阅官方文档 <a href="https://saladict.crimx.com/manual.html">沙拉查词使用方式</a>。以及：</p>
<ul>
<li><a href="https://zhuanlan.zhihu.com/p/82773763">别找了，这才是你要的英文文献翻译神器！</a></li>
<li><a href="https://pencilq.com/54/#%E4%B8%89%E7%A7%8D%E6%A8%A1%E5%BC%8F%E6%BC%94%E7%A4%BA-1">文献翻译利器：沙拉查词 + Quicker，这或许是 Windows 上最强的聚合翻译方案</a></li>
</ul>
<h5 id="ocr-屏幕取词--截屏翻译">OCR 屏幕取词 / 截屏翻译<a hidden class="anchor" aria-hidden="true" href="#ocr-屏幕取词--截屏翻译">#</a></h5>
<p>GoldenDict 默认无 OCR 屏幕取词，无截屏翻译。先介绍一种三个平台都通用的方法，使用 <a href="https://u.tools/">Utools</a> + 扩展：讯飞 OCR + 扩展：沙拉查词。步骤为，将要翻译的文本截图粘贴到 Utools 中，然后选择「讯飞 OCR」识别内容，最后点击翻译按钮调用「沙拉查词」进行翻译。操作起来还是比较快的。</p>
<p>或者使用其他软件：</p>
<p>Windows</p>
<ul>
<li>使用 <a href="https://getquicker.net/">Quicker</a> 效率神器。（与 Utools 相似）</li>
<li>使用 nonwill 发布的 <a href="https://nonwill.github.io/post/goldendict/">GoldenDict OCR 划词版</a>。</li>
</ul>
<p>macOS</p>
<ul>
<li>使用有道词典 Mac 版。打开取词（CTRL + 鼠标取词）。</li>
<li>欧路词典。</li>
</ul>
<p>Linux</p>
<ul>
<li>利用 <a href="https://github.com/ziqiangxu/words-picker">words-picker</a> 进行截屏翻译。在 GNOME 桌面环境中，打开 words-picker 程序，然后使用系统截图快捷键 shift-ctrl-Print 将区域复制到剪贴板，完成截屏翻译。</li>
<li>使用有道词典 Linux 版。打开取词（CTRL + 鼠标取词）。</li>
<li>使用 <a href="https://github.com/jiangzc/CuteTranslation">CuteTranslation</a> 进行截屏翻译。</li>
</ul>
<p>对于那些无法复制的单词，如果查词频率高，就使用具有 OCR 屏幕取词的软件；如果偶尔查询，手动输入也不是什么坏事。</p>
<h5 id="文本语音朗读">文本语音朗读<a hidden class="anchor" aria-hidden="true" href="#文本语音朗读">#</a></h5>
<p>你可能会说：我不需要语音朗读。那是因为你没意识到它的用处或者说你忽略了它。你一定很喜欢词典中的例句发音，对听力和练习口语都有帮助。例句发音 = 句子 + 语音朗读，发散一下你的思维，当你翻译一个句子时，出于学习目的，你是不是同样希望能够听到它的语音朗读。而且学习英语不能太依赖眼睛，要多用耳朵听。</p>
<p>Windows 上按 <strong>F3</strong> 打开词典配置， 在【语音合成】选项卡进行配置；Linux 版本暂时没有 text-to-speech (TTS) 功能。Saladict 够用，我就不折腾了。</p>
<p>这里再推荐两款优秀的浏览器插件：</p>
<ul>
<li><a href="https://chrome.google.com/webstore/detail/natural-reader-text-to-sp/kohfgcgbkjodfcfkcackpagifgbcmimk">Natural Reader Text to Speech</a></li>
<li><a href="https://chrome.google.com/webstore/detail/read-aloud-a-text-to-spee/hdhinadidafjejdhmfkjgnolgimiaplp">Read Aloud: 文本语音朗读助理</a></li>
</ul>
<p>还有一个 <a href="https://speech.aicloud.com/index/index/index.html">灵云语音云服务</a>：</p>
<ul>
<li>它可以 文字转音频 / 录音转文字。</li>
<li>它更加侧重于应用场景，不过现在已经收费了。</li>
</ul>
<p>总之，根据自己的需求，去寻找好资源。</p>
<h5 id="背单词">背单词<a hidden class="anchor" aria-hidden="true" href="#背单词">#</a></h5>
<p>GoldenDict 无单词本，意味着你不能像欧路词典那样，将单词添加到单词本中进行背诵。所以，只能「曲线救国」，将单词添加到收藏，隔一段时间（星期 / 月）就将收藏 <strong>导出至列表</strong>，然后放到 <a href="http://ankichina.net/">Anki</a> 或 欧路词典中进行背诵复习。如有必要，付钱换取方便远离折腾。</p>
<p>将收藏 <a href="https://my.eudic.net/studylist/import/">导入欧路词典单词本</a>：</p>
<blockquote>
<p>菜单栏选择**【帮助】&gt;【配置文件夹】**，可以看到收藏文件：favorites。</p>
<p><a href="http://ankichina.net/">Anki</a> 神器的使用，有兴趣可以深入了解。 <a href="https://zhuanlan.zhihu.com/p/31100580">干货</a> / <a href="https://baike.baidu.com/link?url=ukZd8E1QbJdhqApaI_PikxnbIdPwzO3ObpwAtnsID1-73mmdZCwaTgm5FegOQifzxIpPSSFOvCrWgGKlr6l7Q55AEa3Sel4zOtoIKoh8txn-qvJblICiVXLjxJLBdaHz7BXThMpGUwFrO-JW6Gh7nsbC8ffSWYr2Pqrkx_Nf4oG">百科</a></p>
</blockquote>
<h5 id="备份配置文件">备份配置文件<a hidden class="anchor" aria-hidden="true" href="#备份配置文件">#</a></h5>
<p>换机或者重装系统时，需要备份你的 GoldenDict 配置文件。否则，一切将从头再来，你会很痛苦。</p>
<p>菜单栏选择**【帮助】&gt;【配置文件夹】**，直接将整个文件夹进行备份。</p>
<p>新机或者新系统上，将整个文件夹拷贝到原来的位置，完成配置恢复。</p>
<h4 id="恭喜你会使用-goldendict-了">恭喜！你会使用 GoldenDict 了！<a hidden class="anchor" aria-hidden="true" href="#恭喜你会使用-goldendict-了">#</a></h4>
<p>前面主要介绍了 GoldenDict 的使用方法。为提高文本翻译效率，引入了 CopyTranslator / Saladict 两款程序。为补足 GoldenDict OCR 屏幕取词和截屏翻译的缺失，也引入了相应的软件。我们期望有那么一款软件能聚合这些功能，但这样的软件我还没发现，或者说还没有。</p>
<p>现在的 GoldenDict 具备了离线查词、在线查词和在线翻译的能力，完全能满足我们的需求。而且 GoldenDict 的离线词库拥有最强的学习效果，所以你应该主要使用 GoldenDict 进行查词和文本翻译，而 CopyTranslator / Saladict 作为备用软件，主要用于增强文本翻译。同时也是为了统一入口，避免分散你的学习精力。具体怎么配合，多多使用，慢慢摸索。</p>
<p>细心的你不难发现，查词和文本翻译里面最核心的是词典和翻译引擎。</p>
<p>这里我们讨论一下词典。选用什么词典？我们需要做功课来回答。</p>
<p>我不打算直接甩几本词典放这里，对于新手，看了一定是云里雾里。</p>
<p>因为词典是每个人必须会用的东西，所以值得深入学习。</p>
<p><strong>English Dictionary = 英语词典</strong></p>
<p>字典和词典是两个不同的概念，不要乱叫。中国正式使用“字典”一词始于《康熙字典》。根据《说文解字》，典是五帝的书本，神圣尊贵的大册。</p>
<p>字典和词典的区别：</p>
<ul>
<li>字典是为单字提供音韵、意思解释、例句、用法等等的工具书。使用字母文字作为文字的人群没有字典这个概念。字典收字为主，亦会收词。</li>
<li>词典（Dictionary），或称辞典，是为词语提供音韵、释义、例句用法等等的工具书。在东方社会中，词典收词为主，也会收字。为了配合社会发展需求，词典收词数量激增并发展出不同对象、不同行业及不同用途的词典。随着吸收百科全书的元素，更有百科辞典的出现。</li>
</ul>
<p>如果你把 <strong>English Dictionary</strong> 翻译成「英语字典」，我只能安慰你：没文化不是你的错！</p>
<p><strong>掌握词典行情，便于做出选择</strong></p>
<p>通过了解词典的行情，了解词典应该为学习者提供哪些东西，我们就能选择适合自己的词典。如果同学 / 同事 / 朋友 / 小孩需要词典，也能轻松推荐。做「以其昏昏，使人昭昭」的事，心理没底不说还会被内行笑话。</p>
<p>下面主要讨论一下英语词典，对于汉语词典或者其他外语词典（日语、法语、德语、俄语或西班牙语等），自行了解。</p>
<p>提醒：后面的内容可能需要阅读多遍。</p>
<h4 id="浅谈英语词典版本">浅谈英语词典版本<a hidden class="anchor" aria-hidden="true" href="#浅谈英语词典版本">#</a></h4>
<p>我们主要以 <strong>出身、体例、功用</strong> 以及 <strong>规模</strong> 四个方面对英语词典进行分类。</p>
<h5 id="一出身">一、出身<a hidden class="anchor" aria-hidden="true" href="#一出身">#</a></h5>
<p>从出身上讲，英语词典大致可分为本土词典和引进词典两类。</p>
<ol>
<li>本土词典主要是中国人编给中国人用的英汉词典，典型如译文社《英汉大词典》（陆谷孙主编）、《新英汉词典》（第4版）、商务《新时代英汉大词典》（张柏然主编）等。</li>
<li>引进词典又分为英系和美系两大类。目前英系词典占据中国市场的主导地位，著名的品牌如牛津、朗文、剑桥、麦克米伦、柯林斯，简称“牛朗剑麦柯”（谐音“牛郎见迈克”）合称“英国五虎”，除此还有一部词典叫做“钱伯斯”，对英国人意义非凡。美系词典主要有《美国传统词典》（<em>The American Heritage Dictionary</em>）和“韦氏词典”两大品牌。</li>
</ol>
<h5 id="二体例">二、体例<a hidden class="anchor" aria-hidden="true" href="#二体例">#</a></h5>
<p>以体例划分，英语词典可分为英汉、英英、英汉双解、汉英、汉英双解以及其他类别等五种。</p>
<ul>
<li><strong>英汉词典</strong> 一般为（wéi）中国人所编写，如译文社《新英汉词典》；</li>
<li><strong>英英词典</strong> 都是原版引进词典，如《牛津高阶英语词典》（OALD）、《朗文当代高级英语辞典》（<em>Longman Dictionary of Contemporary English</em>，简称 LDOCE）；</li>
<li><strong>英汉双解词典</strong> 是目前英语学习词典的主流，最重要的即是牛朗两部词典，英汉双解词典都译自英语原版词典，但并非真正全文翻译，大多数词目的英语释义以对应的汉语词语。</li>
<li><strong>汉英词典</strong> 大多是本土词典，如外研社《新世纪汉英词典》、商务《新时代汉英词典》；</li>
<li><strong>汉英双解词典</strong> 比较特殊，它是以国内原版的汉语词典编译而成，据我所知，目前只有外研社《现代汉语词典（双语版）》以及商务印书馆国际有限公司《新华字典（双语版）》两种；</li>
<li>除此以外，其他类别指的是国内引进少量英语与其他语种词典，如译文社引进的兰登系列词典《德英—英德小词典》（<em>Random House Webster&rsquo;s Pocket German Dictionary</em>）以及外教社引进的《柯林斯英德—德英词典》等。</li>
</ul>
<p>注：所谓双解词典,是一个英文单词,用英文解释一遍意思,再用中文解释一遍意思;用英文来解释是最准确的,中文可以辅助你去理解。 如果想通过中文查英文,需要一本汉英词典。</p>
<h5 id="三功用">三、功用<a hidden class="anchor" aria-hidden="true" href="#三功用">#</a></h5>
<p>首先从功用方面，将英语词典分为描述型、学习型和中和型三大类。</p>
<ol>
<li>描述型</li>
</ol>
<p>描述型英语词典又称为学术型英语词典，实际上描述型英语词典是最常见的英语词典，换作汉语工具书，诸如《新华字典》《现代汉语词典》都属于描述型词典，相反汉语工具书真正缺乏的学习型词典，除了一些给低幼学童使用的学习词典外，也就只有吕叔湘先生主编的《现代汉语八百词》等寥寥几部辞书。</p>
<p>我们进一步将描述型英语词典分为一般性、百科性和专业性三种。一般性描述词典典型如《牛津简明英语词典》《英汉大词典》，这类词典收词详备并且释义简明；百科性描述词典则有《牛津当代百科大词典》《牛津英美文化词典》等，主要收录文化百科类词条；专业性描述词典则是局限于某一学科或行业的词典，如《牛津哲学词典》和《牛津商务英语词典》。</p>
<ol start="2">
<li>学习型</li>
</ol>
<p>学习型英语词典是专为英语学习者（多为非英语母语人士）设计的，注重英语实际应用时的用法说明，第一部学习型词典始于 1948 年由牛津大学出版社出版、霍恩比（A S Hornby）主编的《现代英语学习词典》（<em>A Learner&rsquo;s Dictionary of Current English</em>），此即如今闻名于世的《牛津高阶英语词典》（OALD）的前身。</p>
<p>我们进一步将学习型英语词典分为一般性、多功能和专门性三种。</p>
<p>一般性英语学习型词典是我们最熟悉的品种，著名的“英国五虎”——“牛朗剑麦柯”都有自己品牌的学习型词典。（划重点）</p>
<hr>
<p><strong>最新版次，出版年份，出版社</strong></p>
<ul>
<li>《牛津高阶英汉双解词典》第 9 版，2018，商务</li>
<li><em><strong>Oxford Advanced Learner&rsquo;s Dictionary</strong></em> (<em><strong>OALD</strong></em>) 9th Edition , 2015 , Oxford</li>
<li>《朗文当代高级英语辞典》第 6 版，2019，外研社</li>
<li><em><strong>Longman Dictionary of Contemporary English</strong></em> (<em><strong>LDOCE</strong></em>) 6th Edition , 2015 , Pearson</li>
<li>《剑桥高阶英汉双解词典》第 2? 版 ， 2008，外研社</li>
<li><em><strong>Cambridge Advanced Learner&rsquo;s Dictionary</strong></em> (<em><strong>CALD</strong></em>) 4th Edition , 2013 , Cambridge</li>
<li>《麦克米伦高阶英汉双解词典》第 1 版，2018，外研社</li>
<li><em><strong>MacMillan English Dictionary for Advanced Learners</strong></em> (<em><strong>MED</strong></em>) 2nd Edition , 2012 , MacMillan</li>
<li>《柯林斯高阶英汉双解学习词典》第 8 版，2017，外研社</li>
<li><em><strong>Collins COBUILD Advanced Learner&rsquo;s Dictionary</strong></em> (<em><strong>CCALD</strong></em>) 9th Edition , 2018 , Collins</li>
</ul>
<hr>
<p><em>注：
关于书籍版次：第一次出版印刷的书写有“某年某月第一版，第一次印刷”，这叫初版，如内容不变动，第二次印就注明第一版第二次印刷，这种书叫重印书。如第三次印刷发行时内容经过重大修改，版次就要重新算，要称为：“第二版第三次印刷”。不过这个问题一般人不用想那么多，只需看自己是否喜欢这本词典，喜欢的话买国内最新版即可，毕竟每家词典各有特色。英语水平好的话，直接购买英文原版就行了。</em></p>
<ol start="3">
<li>中和型</li>
</ol>
<p>中和型词典兼具学习型词典和描述型词典的部分特点，是当前英语词典编纂的新趋势，典型代表为《朗文当代英语大辞典》，在 2000 词限定释词的基础上收录了 15,000 百科词条，是融合释义、用法说明、文化注释以及百科知识于一体的文化学习词典。与此相类的另有《美国传统词典》。</p>
<h5 id="四规模">四、规模<a hidden class="anchor" aria-hidden="true" href="#四规模">#</a></h5>
<p>这是对英语词典最直观的分类，一般而言我们可以根据收词量和总字数将英语词典简单分为巨、大、中、小、微型五大类。</p>
<ol>
<li>巨型词典</li>
</ol>
<p>英语世界中的巨型词典主要有两部，一部即是由英国语言学家默里（James A.H.Murray）主编的久负盛名的《牛津英语词典》（<em>The Oxford English Dictionary</em>，简称 OED），另一部则是最初由美国词典编纂家韦伯斯特（Noah.Webster）主编的《韦氏新世界词典》（<em>Webster Third New International Dictionary</em>，简称 WTNID）。这两部词典是其他各类英语词典的母本，但却因其规模过大并不适合学习者案头使用。</p>
<ol start="2">
<li>大型词典</li>
</ol>
<p>因此 20 世纪下半叶英语国家出版了大量单卷本供高阶学习者案头使用的大型词典，典型的有《牛津简明英语词典》（<em>Concise Oxford Dictionary</em>，简称 COD）、《柯林斯COBUILD英语词典》（<em>Collins COBUILD English Dictionary</em>，简称 CCED）以及《朗文当代英语大辞典》（<em>Longman Dictionary of English Language &amp; Culture</em>，简称 LDELC）；</p>
<ol start="3">
<li>中型词典</li>
</ol>
<p>后来又有供中阶学习者使用的中型词典，主要有《牛津袖珍英语词典》（<em>Pocket Oxford Dictionary</em>，简称 POD）、《朗文活用英语词典》（<em>Longman Active Study Dictionary</em>，简称 LASD）；</p>
<ol start="4">
<li>小型词典</li>
</ol>
<p>其实除了案头常备的大中型词典，人们更为喜爱和常用的或许是那些便携的小型词典，如《牛津英语小词典》（<em>Little Oxford Dictionary</em>，简称 LOD）；</p>
<ol start="5">
<li>微型词典</li>
</ol>
<p>除此以外，还有一种更其小巧的微型词典，释义极尽简洁，如《牛津英语微型词典》（<em>The Oxford Minidictionary</em>，简称 OMD），但这类词典一般用于速查，不适合英语学习者日常使用。</p>
<h4 id="词典应该为学习者提供哪些东西">词典应该为学习者提供哪些东西<a hidden class="anchor" aria-hidden="true" href="#词典应该为学习者提供哪些东西">#</a></h4>
<p>用一本好词典你可以做到以下几点：</p>
<ul>
<li>查找你看到或听到的英语单词的意思</li>
<li>找出如何说一个词</li>
<li>用你的语言找到一个单词的英文翻译</li>
<li>检查单词的拼写</li>
<li>检查动词的名词或过去时态的复数形式</li>
<li>找出一个单词的其他语法信息</li>
<li>找出一个词的同义词或反义词</li>
<li>查找单词的搭配</li>
<li>检查单词的词性</li>
<li>找出单词的语域</li>
<li>查找自然语言中单词的用法示例</li>
<li>听到例句的真人发音</li>
<li>查看配图学习单词</li>
<li>查看单词错误用法</li>
<li>观看单词在线教学视频（想象一下，当你查一个单词，一位美女 / 帅哥马上跳出来教你。恐怕你要天天抱着词典睡觉喽。）</li>
</ul>
<p>所以，<strong>按照类型我们需要四种电子词典：英汉、英汉双解、英英、汉英。</strong></p>
<p><strong>英汉词典：</strong></p>
<p>英汉词典主要是快速查看英语单词的中文释义。</p>
<p><strong>英汉双解词典：</strong></p>
<p>英汉双解词典对中级学习者当然非常友好，可以借助汉语翻译快速理解。如果查询一个单词需要耗费大量时间阅读英文解释，有时候是不明智的做法，并且，如果查一个单词里面又出现一大堆不认识的单词，太打击学习积极性了！另外，英汉双解词典是双向的，一般人是借助汉语理解英文，也有情况是借助英文查看对应的汉语翻译。所以，每个人必须有一本英汉双解词典。</p>
<p><strong>英英词典：</strong></p>
<p>当你英语到了一定水平（中高级水平）后，就应该主要使用英英词典。</p>
<p>英英词典分两种：<strong>ESL</strong> 词典（ESL: English as a second language）以及 <strong>Non-ESL</strong> 词典（又称母语词典）。<strong>Non-ESL</strong> 词典是指英美国家人士使用的词典，特点是收词量大，释义用词精确，范围广，无上限，很多词典例句很少或没有，有点类似于我们用的《新华字典》和《汉语大词典》 。<strong>ESL</strong> 词典就是上小节提到的学习型英语词典，专为英语学习者（多为非英语母语人士）设计，其优点是简单易懂，但其缺点也比较明显，由于释义用词所限，部分单词的解释比较啰嗦或者不精确，理解起来也不顺畅。</p>
<p>至于使用 <strong>ESL</strong> 词典还是 <strong>Non-ESL</strong> 词典，或者两者混合使用，就看你的需求了。</p>
<p><strong>汉英词典：</strong></p>
<p>使用汉语查找英文翻译或英文表达。</p>
<blockquote>
<p>翻译软件的词库就来自于这些「英汉词典」和「汉英词典」。</p>
</blockquote>
<p>有了上面的介绍，我可以推荐几本词典了。</p>
<h4 id="英语词典推荐">英语词典推荐<a hidden class="anchor" aria-hidden="true" href="#英语词典推荐">#</a></h4>
<h5 id="1-英汉词典the-little-dict">1. 英汉词典：<em>The Little Dict</em><a hidden class="anchor" aria-hidden="true" href="#1-英汉词典the-little-dict">#</a></h5>
<p>用来提供快速翻译，还能聆听多个发音以及查看词频。「硬核之作，真香推荐，居家旅行沉迷学习必备，建议日常置顶食用。」<a href="https://www.pdawiki.com/forum/forum.php?mod=viewthread&amp;tid=30146&amp;extra=page%3D1">下载</a></p>
<h5 id="2-英英英汉双解词典esl">2. 英英·英汉双解词典（ESL）<a hidden class="anchor" aria-hidden="true" href="#2-英英英汉双解词典esl">#</a></h5>
<ul>
<li>朗文当代高级英语辞典（释义用词 2000 个）</li>
<li>柯林斯高阶英语学习词典（释义用词 2500 个）</li>
<li>牛津高阶英语词典（释义用词 3000 个）</li>
</ul>
<p><strong>2.1 朗文当代高级英语辞典</strong></p>
<p><strong>英英原版</strong></p>
<ul>
<li><em><strong>Longman Dictionary of Contemporary English 6th Edition (En-En)</strong></em>，<em><strong>En-En_LDOCE6</strong></em>。</li>
<li>《朗文当代高级英语辞典（英英）（第六版）》，包含英式发音、美式发音、大部分例句朗读，带图片详解。这本词典收录单词量最大，例句最多，搭配和用法也最全。例句是真人原声，非常自然。</li>
<li>英语老师都会倡导学生尽量使用英英词典，营造英语环境，用英文解释英文，用英文理解英文，用英文对世界编码，有利于养成英语思维，对听说读写都有帮助。全英文解释，不会因为英汉差别而导致理解上的偏差。当然，英汉双解词典我们也是需要的。</li>
</ul>
<p><strong>英汉双解版</strong></p>
<ul>
<li><em><strong>En-Cn_LDOCE5++ V1.35 / V2.15</strong></em>。<a href="https://freemdict.com/2018/06/04/%E8%8B%B1%E6%B1%89-%E6%9C%97%E6%96%875-%C2%B7%E5%8F%8C%E8%A7%A3%C2%B7%E4%BE%8B%E5%8F%A5%E5%8F%91%E9%9F%B3/">下载</a></li>
<li>《朗文当代高级英语辞典（英英·英汉双解）（第五版）》</li>
<li>这本词典默认是英英版，可以通过点击轻松查看汉语翻译。对于直接使用英英有些吃力的同学，可以设置默认展开汉语，立马就是一本英汉双解词典。释义用词仅 2000 个，让你轻松看懂。大量例句都有真人发音，让你爱上听例句。</li>
</ul>
<p><strong>PDF 版</strong></p>
<ul>
<li>《朗文当代高级英语辞典（英汉双解）（第五版）》。<a href="https://www.pdawiki.com/forum/forum.php?mod=viewthread&amp;tid=36235">下载</a></li>
</ul>
<p><strong>朗文在线词典</strong></p>
<ul>
<li><a href="https://www.ldoceonline.com/">www.ldoceonline.com</a></li>
</ul>
<p><strong>2.2 柯林斯高阶英语学习词典</strong></p>
<p><strong>英英原版</strong></p>
<ul>
<li><em><strong>Collins COBUILD Advanced Learner&rsquo;s Dictionary 9th Edition (En-En)</strong></em>，<em><strong>En-En_CCALD9</strong></em>。</li>
</ul>
<p><strong>英汉双解版</strong></p>
<ul>
<li><em><strong>Collins COBUILD advanced learner’s English-Chinese dictionary 8th Edition</strong></em>。</li>
<li>《柯林斯COBUILD高阶英汉双解学习词典》（第8版）中的全部释义、例证及专栏均基于收词规模达 45 亿词的柯林斯英语语料库；所有单词及短语均采用整句释义，凸显词汇在典型语境中的典型用法。</li>
<li>强烈推荐！可以直接背诵单词及短语的整句释义，这就好比一个外国人在跟你交谈，对英语思维以及口语表达都有莫大的帮助。</li>
</ul>
<p><strong>柯林斯在线词典</strong></p>
<ul>
<li><a href="https://www.collinsdictionary.com/">www.collinsdictionary.com</a></li>
</ul>
<p><strong>2.3 牛津高阶英语词典</strong></p>
<p><strong>英英原版</strong></p>
<ul>
<li><em><strong>Oxford Advanced Learner’s Dictionary 9th edition (En-En)</strong></em>，<em><strong>En-En_OALD9</strong></em>。<a href="https://www.pdawiki.com/forum/thread-34097-1-1.html?x=180507">下载</a></li>
<li>包含英式发音、美式发音，例句发音，带图片详解等。</li>
</ul>
<p><strong>英汉双解版</strong></p>
<ul>
<li><em><strong>Oxford Advanced Learner’s English-Chinese Dictionary 9th Edition</strong></em>，<em><strong>En-zh_CN_OALD9</strong></em>。<a href="https://www.pdawiki.com/forum/thread-35542-1-1.html?x=48936">下载</a></li>
<li>《牛津高阶英语词典》为世所公认的权威英语学习词典，惠及世界各地一代又一代学子。到第九版编者将会话与写作功能融入学习型词典。 释义简明，义项划分清晰；提供系统的语法信息，如搭配模式、用法说明框等；提供插图及主题图片，直观释义。新加牛津口语指南，详解日常及应试等场景会话用语。</li>
<li>纸质版配套光盘中提供 iWriter + iSpeaker 互动式写作和口语指导学习程序。</li>
</ul>
<p><strong>牛津在线词典</strong></p>
<ul>
<li><a href="https://www.lexico.com/en">www.lexico.com</a></li>
<li><a href="https://www.oxfordlearnersdictionaries.com/">www.oxfordlearnersdictionaries.com</a></li>
</ul>
<h5 id="3-汉英词典任选一部">3. 汉英词典（任选一部）<a hidden class="anchor" aria-hidden="true" href="#3-汉英词典任选一部">#</a></h5>
<ul>
<li>汉英大词典（第3版）</li>
<li>新汉英大辞典</li>
</ul>
<p>一般人上面几部词典基本够用。如果链接失效，可以试试 <strong>网盘搜索</strong>（<a href="http://www.chaonengsou.com/">超能搜</a> 等）或者 <a href="https://www.pdawiki.com/forum/">逛论坛</a>。</p>
<h4 id="英语构词法规则">英语构词法规则<a hidden class="anchor" aria-hidden="true" href="#英语构词法规则">#</a></h4>
<p>GoldenDict 安装的时候没有附带 <strong>构词法规则</strong>，查找一些单词的复数等变位变格形式的单词有时会查不到（比如有些词典查不到 Books，不会自动跳转到 Book），为了让 GoldenDict 更好地工作，我们添加 <strong>英语构词法规则库</strong>。</p>
<p>进入 <a href="https://sourceforge.net/projects/goldendict/">SourceForge 上 GoldenDict 的项目地址</a>，依次选择 <a href="https://sourceforge.net/projects/goldendict/files/">Files</a> &gt; [better morphologies](<a href="https://sourceforge.net/projects/goldendict/files/better">https://sourceforge.net/projects/goldendict/files/better</a> morphologies/) &gt; [1.0](<a href="https://sourceforge.net/projects/goldendict/files/better">https://sourceforge.net/projects/goldendict/files/better</a> morphologies/1.0/) &gt; [en_US_1.0.zip](<a href="https://sourceforge.net/projects/goldendict/files/better">https://sourceforge.net/projects/goldendict/files/better</a> morphologies/1.0/en_US_1.0.zip/download) 下载英语构词法规则库。</p>
<p>菜单栏选择**【编辑】&gt;【词典】&gt;【词典来源】&gt;【构词法规则库】**，添加 <strong>英语构词法规则库</strong>。</p>
<h4 id="朗文5-自动展开音节syllable及汉语chinese">朗文5 ++：自动展开音节（Syllable）及汉语（Chinese）<a hidden class="anchor" aria-hidden="true" href="#朗文5-自动展开音节syllable及汉语chinese">#</a></h4>
<p>我是 <em><strong>En-Cn_LDOCE5++</strong></em> 和 <em><strong>En-En_LDOCE6</strong></em> 一起使用，所以把 <strong>LDOCE5++</strong> 设置为自动展开音节及汉语。</p>
<p>下面介绍一下设置方法，适用于 <em><strong>En-Cn_LDOCE5++（V1.35 / V2.00 / V2.15）</strong></em>。</p>
<p><strong>自动展开音节（Syllable）</strong></p>
<p>打开文件 <strong>LM5style.css</strong> 搜索 <code>show/hide syllable</code> 注释掉以下代码块：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css"><span style="color:#75715e">/* -------------- show/hide syllable ------------- 
</span><span style="color:#75715e">.HWD .HYP {
</span><span style="color:#75715e">    display: none;
</span><span style="color:#75715e">}*/</span>
</code></pre></div><p><strong>调整手机中悬浮球高度</strong></p>
<p>手机欧路词典中 <strong>LDOCE5++</strong> 的悬浮球会与控制按钮重叠，需要调整其高度。搜索 <code>.mobile .lm5pp_popup</code> 设置距离底部为 <code>90px</code>：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css">.<span style="color:#a6e22e">mobile</span> .<span style="color:#a6e22e">lm5pp_popup</span> {
    <span style="color:#66d9ef">bottom</span>: <span style="color:#ae81ff">90</span><span style="color:#66d9ef">px</span>;
    <span style="color:#66d9ef">right</span>: <span style="color:#ae81ff">10</span><span style="color:#66d9ef">px</span>;
}
</code></pre></div><p><strong>自动展开汉语（Chinese）</strong></p>
<p>打开 <strong>LM5style_switch.css</strong> 注释掉以下代码块：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-css" data-lang="css"><span style="color:#75715e">/*.EXAMPLE .cn_txt, .Error .cn_txt,.cn_txt {
</span><span style="color:#75715e">	display: none;
</span><span style="color:#75715e">}*/</span>
</code></pre></div><p>可以偷懒直接删除 <strong>LM5style_switch.css</strong>（或者重命名为 <strong>LM5style_switch.css.bak</strong>）。但是，你将不能在悬浮球上控制隐藏/显示汉语。</p>
<blockquote>
<p>如果你直接修改手机中的 CSS 文件，需要清除软件缓存再重启 App 才能生效。
如果你在电脑上修改，<strong>Ctrl+F5</strong> 可以快速刷新词典查看效果。
更多调整参见 <a href="https://www.pdawiki.com/forum/forum.php?mod=viewthread&amp;tid=30452">FF朗文5++重排 DIY</a> / <a href="https://www.pdawiki.com/forum/forum.php?mod=viewthread&amp;tid=25163&amp;fromuid=225114">改版 fearfare 大的朗文</a>。</p>
</blockquote>
<h4 id="goldendict-进阶技巧">GoldenDict 进阶技巧<a hidden class="anchor" aria-hidden="true" href="#goldendict-进阶技巧">#</a></h4>
<h5 id="效率提升快捷键">效率提升：快捷键<a hidden class="anchor" aria-hidden="true" href="#效率提升快捷键">#</a></h5>
<p>除了全局热键外，GoldenDict 还支持许多程序快捷键。按 <strong>F1</strong> 快捷键打开 <strong>GoldenDict 帮助</strong>， 查看 <strong>13 Shortcuts</strong>。</p>
<p>第一次使用，按照快捷键列表操作一遍。主要是感受一下快捷键的功能，不要求强行记忆它们，当你经常进行某项操作时，再翻阅一下 <strong>13 Shortcuts</strong>，用几次就记住了。</p>
<p>常用快捷键：</p>
<table>
<thead>
<tr>
<th>Shortcut</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td>Alt+Left</td>
<td>(In main and popup windows) history navigation: show previous founded results</td>
</tr>
<tr>
<td>Alt+Right</td>
<td>(In main and popup windows) history navigation: show next founded results</td>
</tr>
<tr>
<td>Alt+Down</td>
<td>Jump to article from next dictionary</td>
</tr>
<tr>
<td>Alt+Up</td>
<td>Jump to article from previous dictionary</td>
</tr>
<tr>
<td>Alt+S</td>
<td>(In main and popup windows) playback pronunciation for current word</td>
</tr>
<tr>
<td>Alt+W</td>
<td>(In popup window) transfer word from search line to main window</td>
</tr>
<tr>
<td>Alt+PgDown</td>
<td>(In main and popup windows) switch to next dictionaries group</td>
</tr>
<tr>
<td>Alt+PgUp</td>
<td>(In main and popup windows) switch to previous dictionaries group</td>
</tr>
<tr>
<td>Ctrl++</td>
<td>Increase articles font size</td>
</tr>
<tr>
<td>Ctrl+–</td>
<td>Decrease articles font size</td>
</tr>
<tr>
<td>Ctrl+0</td>
<td>Set default articles font size</td>
</tr>
<tr>
<td>Ctrl+E</td>
<td>Add current tab to Favorites</td>
</tr>
<tr>
<td>Ctrl+F</td>
<td>(In main and popup windows) search in page / (In dictionaries dialog) go to filter line</td>
</tr>
<tr>
<td>Ctrl+M</td>
<td>Show/hide main menu</td>
</tr>
<tr>
<td>Ctrl+Q</td>
<td>(In main window) close GoldenDict</td>
</tr>
<tr>
<td>Ctrl+S</td>
<td>Show/hide search pane</td>
</tr>
<tr>
<td>Ctrl+Shift+F</td>
<td>Open/switch to full-text search dialog</td>
</tr>
<tr>
<td>Esc</td>
<td>(In main window) go to search line (the action for Esc key can be changed in <a href="https://www.cnblogs.com/keatonlao/p/options.html#6-1-interface">preferences</a>) / (in popup window) close popup window</td>
</tr>
<tr>
<td>F1</td>
<td>GoldenDict reference</td>
</tr>
<tr>
<td>F3</td>
<td>Dictionaries dialog</td>
</tr>
<tr>
<td>F4</td>
<td>GoldenDict preferences</td>
</tr>
</tbody>
</table>
<h5 id="查句全文搜索">查句：全文搜索<a hidden class="anchor" aria-hidden="true" href="#查句全文搜索">#</a></h5>
<p>按 <strong>F1</strong> 打开 <strong>GoldenDict 帮助</strong>， 查看 <strong>09 Full-text search</strong>。</p>
<p>可以通过菜单“搜索”或按“Ctrl+Shift+F”键来调用全文搜索对话框。通过全文搜索，可以在当前词典组的词典文本中而不是在词典 headwords（词目）中搜索单词和表达式。</p>
<blockquote>
<p>**提醒：**如果 <a href="https://pdawiki.com/forum/search.php?mod=forum&amp;searchid=233&amp;orderby=lastpost&amp;ascdesc=desc&amp;searchsubmit=yes&amp;kw=CPU">GoldenDict 占用 CPU (%) 超高</a>，请关闭全文搜索索引。看一下文章 <a href="https://mp.weixin.qq.com/s/gHMJrVG_bmGw142fEEtNeQ">GoldenDict 全文搜索几例</a>。</p>
</blockquote>
<p>利用「全文搜索」查找英文表达，显然比直接将一句中文放到翻译软件中翻译更靠谱，比如下面这句摘自 <strong>牛津高阶英汉双解词典（第 9 版）</strong> 的例句：</p>
<blockquote>
<p>I&rsquo;ll ask my boss if I can have the day off.
我要问一下老板我能不能请一天假。</p>
<p>现在我复制中文到谷歌翻译中翻译，结果如下：
I have to ask the boss if I can take a day off.</p>
<blockquote>
<p>很显然翻译出来的英文枯燥无味。</p>
</blockquote>
</blockquote>
<p>下面举例简单介绍一下，使用「全文搜索」查找地道的英文表达。</p>
<hr>
<p><strong>例子：我想知道请假的的英文表达，包括日假周假年假。我该如何搜索？</strong></p>
<hr>
<p>快捷键 <strong>Ctrl+Shift+F</strong> 打开全文搜索，模式选择 <strong>正则表达式</strong>。</p>
<p>如果直接检索 <code>请假</code> 这个关键词，会因范围太大，需要更多检索时间，最后还会出来很多无用结果，所以我们需要缩小检索范围。</p>
<p>先检索日假。直接输入 <code>请一天假</code>，这个地球人都会，但「请两天假」的表达式就搜不到。现在，我们要一次检索出「请天假」的表达式，输入正则表达式：<code>请.{1,3}天假</code>（中间匹配 1-3 个字符）。</p>
<p>理论上，我们可以匹配出：<code>请一天假</code> <code>请两天假</code> <code>请几天假</code> <code>请过一天假</code> <code>请了十五天假</code> <code>...</code></p>
<blockquote>
<p><code>.</code>：一个点，匹配任意单字符（不包括换行符）
<code>{n,m}</code>：m 和 n 均为非负整数，其中 n &lt;= m。最少匹配 n 次且最多匹配 m 次。例如，&ldquo;o{1,3}&rdquo; 将匹配 &ldquo;fooooood&rdquo; 中的前三个 o。&lsquo;o{0,1}&rsquo; 等价于 &lsquo;o?'。请注意在逗号和两个数之间不能有空格。</p>
</blockquote>
<p>现在，我们要把请日假 / 周假 / 年假的表达式一次搜出来。
给搜索框写入正则表达式：<code>请.{1,3}(天|周|年)假</code>，就查出来了。</p>
<blockquote>
<p><code>()</code>：标记一个子表达式的开始和结束位置。<code>()?</code> 匹配前面的子表达式零次或一次，<code>()+</code> 匹配前面的子表达式一次或多次。
<code>|</code>：代表 或</p>
</blockquote>
<p>正则表达式学习资源：</p>
<ul>
<li><a href="https://www.runoob.com/regexp/regexp-syntax.html">正则表达式 – 语法 _ 菜鸟教程</a></li>
<li><a href="https://www.bilibili.com/video/av18432719/?p=1">油管最受欢迎的+正则表达式教程【11集】</a></li>
<li><a href="https://regexr.com/">练习正则表达式的网站：RegExr</a></li>
</ul>
<p><strong>多读几遍 GoldenDict 帮助，掌握更多使用技巧。</strong></p>
<h5 id="其他">其他<a hidden class="anchor" aria-hidden="true" href="#其他">#</a></h5>
<ul>
<li><a href="https://www.pdawiki.com/forum/forum.php?mod=viewthread&amp;tid=14082&amp;extra=page%3D1">GoldenDict 界面显示风格、字体、背景等的修改</a></li>
<li><a href="https://www.pdawiki.com/forum/forum.php?mod=viewthread&amp;tid=11705&amp;extra=page%3D1">GoldenDict 专贴！</a></li>
</ul>
<h4 id="参考文章">参考文章<a hidden class="anchor" aria-hidden="true" href="#参考文章">#</a></h4>
<ul>
<li><a href="https://github.com/Dictionaryphile/GoldenDict_zh_manual">GoldenDict 中文用户手册</a></li>
<li><a href="https://www.chongbuluo.com/thread-5724-1-1.html">新手上路：GoldenDict——英语爱好者必备词典</a></li>
<li>[<a href="https://blog.csdn.net/clksjx/article/details/85052248">使用教程] Linux 上最好用的词典 GoldenDict</a></li>
<li><a href="https://blog.csdn.net/njshaka/article/details/86615217">在 GoldenDict 中添加谷歌翻译</a></li>
<li><a href="https://blog.csdn.net/a775992553/article/details/8788423">Ubuntu 安装 GoldenDict</a></li>
<li><a href="https://book.douban.com/review/2292414/">英语词典版本浅谈（讲稿版）</a></li>
<li><a href="https://einverne.github.io/post/2018/08/goldendict.html">Linux 下非常好用的字典 GoldenDict！</a></li>
<li><a href="https://jingyan.baidu.com/article/d8072ac4808225ec95cefde6.html">GoldenDict 添加构词法规则库</a></li>
<li><a href="http://www.mamicode.com/info-detail-2334877.html">GoldenDict 词典的超级实用高级玩法——全文搜索功能</a></li>
</ul>
<h4 id="dark-theme">Dark Theme<a hidden class="anchor" aria-hidden="true" href="#dark-theme">#</a></h4>
<p><a href="https://github.com/goldendict/goldendict/wiki/GoldenDict-Dark-Theme"><strong>GoldenDict Dark Theme</strong></a></p>
<p>官方教程。</p>
<p><a href="https://github.com/yozhic/GoldenDict-Full-Dark-Theme"><strong>GoldenDict-Full-Dark-Theme</strong></a></p>
<p>这个主题有个全黑暗模式，即显示词典结果部分也会黑暗，但是效果不好，看不清。</p>
<ol start="0">
<li>Download GoldenDict-Full-Dark-Theme</li>
<li>Move <code>styles</code> and <code>fonts</code> folders to the <code>GD Configuration Folder</code>. If <code>GoldenDict</code> is installed by default, the <code>GD Configuration Folder</code> is located at the <code>~/.goldendict</code></li>
<li>Move the <code>icons</code> folder to the <code>GoldenDict</code> program folder <code>/usr/share/goldendict</code></li>
<li>Open <em>GoldenDict</em> menu &ldquo;Preferences&hellip; → Interface&rdquo;: set &ldquo;Add-on style&rdquo; to <code>dark-theme</code>; set &ldquo;Display style&rdquo; to <code>Lingoes</code>.</li>
<li>set &ldquo;Display style&rdquo; to <code>Default</code>.</li>
</ol>
<h4 id="startup--silent-start">startup &amp; silent start<a hidden class="anchor" aria-hidden="true" href="#startup--silent-start">#</a></h4>
<ul>
<li>
<p>startup：将 goldendict 添加到 gnome-session-properties，默认生成的是</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ cat ~/.config/autostart/goldendict-owned-by-preferences.desktop
<span style="color:#f92672">[</span>Desktop Entry<span style="color:#f92672">]</span>
Type<span style="color:#f92672">=</span>Application
Terminal<span style="color:#f92672">=</span>false
Categories<span style="color:#f92672">=</span>Office;Dictionary;
Name<span style="color:#f92672">=</span>GoldenDict
GenericName<span style="color:#f92672">=</span>Multiformat Dictionary
Comment<span style="color:#f92672">=</span>A feature-rich dictionary lookup program
Icon<span style="color:#f92672">=</span>goldendict
Exec<span style="color:#f92672">=</span>goldendict
</code></pre></div></li>
<li>
<p>silent start：Edit =&gt; Preferences =&gt; start to system tray 就是静默启动</p>
</li>
</ul>
<h3 id="crow-translatehttpsgithubcomcrow-translatecrow-translate"><a href="https://github.com/crow-translate/crow-translate">crow-translate</a><a hidden class="anchor" aria-hidden="true" href="#crow-translatehttpsgithubcomcrow-translatecrow-translate">#</a></h3>
<h3 id="flameshothttpsflameshotorg"><a href="https://flameshot.org/">Flameshot</a><a hidden class="anchor" aria-hidden="true" href="#flameshothttpsflameshotorg">#</a></h3>
<p>Powerful, yet simple to use open-source screenshot software.</p>
<table>
<thead>
<tr>
<th>Keys</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>←, ↓, ↑, →</td>
<td>Move selection 1px</td>
</tr>
<tr>
<td>Shift + ←, ↓, ↑, →</td>
<td>Resize selection 1px</td>
</tr>
<tr>
<td>Esc</td>
<td>Quit capture</td>
</tr>
<tr>
<td>Ctrl + C</td>
<td>Copy to clipboard</td>
</tr>
<tr>
<td>Ctrl + S</td>
<td>Save selection as a file</td>
</tr>
<tr>
<td>Ctrl + Z</td>
<td>Undo the last modification</td>
</tr>
<tr>
<td>Right Click</td>
<td>Show color picker</td>
</tr>
<tr>
<td>Mouse Wheel</td>
<td>Change the tool&rsquo;s thickness</td>
</tr>
</tbody>
</table>
<p><a href="https://flameshot.org/docs/guide/key-bindings/">Add a new Shortcuts</a></p>
<ul>
<li>On &lsquo;Name&rsquo;, name it &lsquo;<code>Flameshot</code>&rsquo;</li>
<li>Define the command as &lsquo;<code>flameshot gui</code>&rsquo;.</li>
<li>Select &lsquo;Define shortcut&hellip;&lsquo;and click your keyboard <code>win</code> + <code>shift</code> + <code>Prt Sc</code> key.</li>
</ul>
<h3 id="ppsspphttpsapkcabalcomngbest-ppsspp-settings"><a href="https://apkcabal.com.ng/best-ppsspp-settings/">PPSSPP</a><a hidden class="anchor" aria-hidden="true" href="#ppsspphttpsapkcabalcomngbest-ppsspp-settings">#</a></h3>
<p>A PSP emulator.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo add-apt-repository ppa:ppsspp/stable
$ sudo apt-get update
$ sudo apt install ppsspp
</code></pre></div><p>Graphics:</p>
<ul>
<li>Rendering Mode
<ul>
<li>set the <strong>Backend</strong> from OpenGL to Vulkan.</li>
</ul>
</li>
<li>Framework Control
<ul>
<li><strong>Frameskipping</strong> is Off</li>
<li><strong>Auto-Frameskip</strong> is Off</li>
<li>set the <strong>Alternative Speed</strong> to Unlimited</li>
</ul>
</li>
<li>Postprocessing effects
<ul>
<li><strong>Postprocessing shader</strong> should be off.</li>
</ul>
</li>
<li>Performance
<ul>
<li>If your Device is Powerful, high rendering resolution will work. Its recommended to first try with <strong>2x Rendering resolution</strong> as It brings impressive graphics and supports stable gameplay too</li>
<li><strong>Hardware transform</strong>, <strong>Software skinning</strong>, <strong>Vertex cache</strong> and <strong>Lazy texture caching</strong> should be checked.</li>
<li><strong>Retain changed textures</strong> should be unchecked while keeping Disable <strong>slower effects</strong> and <strong>Hardware Installation</strong> checked.</li>
</ul>
</li>
<li>Overlay Information
<ul>
<li>Select FPS in <strong>Show FPS counter</strong>.</li>
</ul>
</li>
</ul>
<p>System:</p>
<ul>
<li>Make sure <strong>Fast memory</strong> is checked</li>
<li>Set <strong>I/O timing method</strong>, to Simulate UMD delays or Fast</li>
</ul>
<h3 id="cemuhttpscemucfwguide"><a href="https://cemu.cfw.guide/">Cemu</a><a hidden class="anchor" aria-hidden="true" href="#cemuhttpscemucfwguide">#</a></h3>
<p><a href="https://cemu.info/">Cemu</a>: Experimental software to emulate Wii U applications.（已开源）</p>
<p>对于Ubuntu（Linux）：参考 <a href="https://github.com/cemu-project/Cemu/issues/1#issuecomment-1225419710">Current State Of Linux Builds</a>安装</p>
<p>对于Windows 平台：为避免闪退等问题，到<a href="https://cemu.info/">Cemu 官网</a>下载最新版本软件和 <a href="https://aka.ms/vs/16/release/vc_redist.x64.exe">Microsoft Visual C++ 2017 X64 Redistributable</a>。</p>
<p>安装游戏：导航到 Options &gt; General settings &gt; General，在 Game Paths 中添加游戏 <code>.rpx</code> 文件所在目录，游戏就会显示在列表之中。</p>
<p><a href="https://www.reddit.com/r/cemu/comments/mzu5cb/cemu_vs_yuzu_zelda_botw/">Cemu vs Yuzu (Zelda BOTW)</a> 说：At this moment, the Wii U version played on Cemu is the superior one in both performance and quality.</p>
<p>根据 <a href="https://www.reddit.com/r/yuzu/comments/qybp87/zelda_botw_runs_way_better_for_me_on_yuzu_than_on/">Zelda BOTW runs way better for me on Yuzu than on Cemu</a> 讨论，<a href="https://www.reddit.com/r/cemu/comments/pnvmp8/the_legend_of_zelda_breath_of_the_wild_lowend_pc/">为更好性能</a>，需要安装并启用 Graphic packs。导航到 Options &gt; Graphic packs，启用对应游戏的（保持默认配置就行）：</p>
<ul>
<li>Enhancements</li>
<li>Graphics</li>
<li>Mods.Extended Memory</li>
<li>Mods.FPS++</li>
</ul>
<p>运行游戏会发现，在实时编译 shaders 和 vkpipeline 时会卡顿。</p>
<p>shaders 通过 <a href="https://www.reddit.com/r/CEMUcaches/comments/6223uy/faq/">transferable shader cache</a> 解决。首先需要在网上找对应游戏他人分享的 <a href="https://emulation.gametechwiki.com/index.php/Shader_caches">Shader caches</a>，不同地区（日版、美版、欧版）的shader cache 是通用的，Shader caches 越全越好（越大越好）。先运行一下游戏，会在 <code>cemu\shaderCache\transferable</code> 建立两个 bin 文件，如 xxx_shaders.bin 和 xxx_vkpipeline.bin，将下载解压后的 bin 文件重命名为游戏创建的 xxx_shaders.bin 文件并替换该文件。再次运行游戏，如果显示 complie cache shader 并且 <code>cemu\shaderCache\transferable\xxx_shaders.bin</code> 大小没有变为 0 的话，说明成功了。</p>
<p><a href="https://www.reddit.com/r/cemu/comments/l7f3x7/pipeline_compiling_causes_lag_can_someone_help/">vkpipeline</a> 通过启用 Options &gt; General settings &gt; Graphics &gt; Async shader complie 解决。启用该功能可能需要<a href="https://www.nvidia.cn/Download/index.aspx?lang=cn">安装最新 NVIDIA 显卡驱动</a>（看报不报错）。</p>
<p>你会发现不能推出游戏 <a href="https://www.reddit.com/r/cemu/comments/blhw41/stupid_question_how_do_i_go_back_to_the_cemu_main/">go back to the Cemu main menu</a>，这是可能原因：I would think they did it that way for easeof development. For example on yuzu if you exit to main menu it will not allocate the ram correctly. Meaning if you launch a game and it uses 8gb of ram then exit to a new one, without fully closing yuzu, yuzu would use and extra 8gb of ram on top of that.</p>
<p>在 <a href="https://www.91tvg.com/thread-89646-1-1.html">[汉化] 【91Wii索引】WiiU游戏汉化补丁及中文游戏资源索引帖</a> 下载解压汉化包后，覆盖掉原游戏根目录中对应的原文件就可以使用了。</p>
<p><a href="https://zh.m.wikipedia.org/wiki/%E6%94%BB%E7%95%A5%E6%9C%AC">攻略本</a>（Strategy guide），或称攻略，是指收录特定电子游戏提示或完整解的说明书，内容环绕一款或多款电子游戏的过关方法、注意点等。</p>
<p><a href="https://zh.m.wikipedia.org/wiki/%E9%81%8A%E6%88%B2%E6%A8%A1%E7%B5%84">游戏模组</a>，这个游戏术语源自英文缩略词“MOD”、“Mod”（全称“Modification”，本意为“修改”），多指游戏厂商或者热心玩家对于原版电子游戏在功能方面的修改。</p>
<h3 id="yuzuhttpswwwbilibilicomreadcv4973631"><a href="https://www.bilibili.com/read/cv4973631">yuzu</a><a hidden class="anchor" aria-hidden="true" href="#yuzuhttpswwwbilibilicomreadcv4973631">#</a></h3>
<p><a href="https://yuzu-emu.org/">yuzu</a> 是 <code>Citra</code>的制作者写的一个开源<code>NS</code>模拟器，用<code>C++</code>编写，特点包括<code>Vulkan API</code>的支持、灵活的模拟器配置以及游戏配置等等。</p>
<p>玩了 super mario odyssey，过场动画很卡顿，可以软配置的很少，主要看硬件配置，我的配置玩 BOTW 是不可能了。</p>
<h4 id="安装-1">安装<a hidden class="anchor" aria-hidden="true" href="#安装-1">#</a></h4>
<ul>
<li>
<p>选择 File -&gt; Open yuzu Folder</p>
</li>
<li>
<p>在打开的目录下，新建keys文件夹（如果没有），然后进入keys文件夹，放入key文件prod.keys，内容如下</p>
<pre tabindex="0"><code>aes_kek_generation_source = 4d870986c45d20722fba1053da92e8a9
aes_key_generation_source = 89615ee05c31b6805fe58f3da24f7aa8
bis_kek_source = 34c1a0c48258f8b4fa9e5e6adafc7e4f
bis_key_00 = 374e0e2ab275141f811badcb0fefd881b71d6af540de58895901aa0c01663bc8
bis_key_01 = 0b08f19a42ac5ae590b3373ad9698344a571f35165663536dae0842b5221b31c
bis_key_02 = 38f0936f33bacedc0c0a159ffbbeee0f40bb08386915bdd0c6730349b99081ec
bis_key_03 = 38f0936f33bacedc0c0a159ffbbeee0f40bb08386915bdd0c6730349b99081ec
bis_key_source_00 = f83f386e2cd2ca32a89ab9aa29bfc7487d92b03aa8bfdee1a74c3b6e35cb7106
bis_key_source_01 = 41003049ddccc065647a7eb41eed9c5f44424edab49dfcd98777249adc9f7ca4
bis_key_source_02 = 52c2e9eb09e3ee2932a10c1fb6a0926c4d12e14b2a474c1c09cb0359f015f4e4
device_key = bd16c45b2647d842c5ee3c869e3a9607
device_key_4x = 2078900c6bb36fff1fdad57a7dd1b66e
eticket_rsa_kek = 19c8b441d318802bad63a5beda283a84
eticket_rsa_kek_source = dba451124ca0a9836814f5ed95e3125b
eticket_rsa_kekek_source = 466e57b74a447f02f321cde58f2f5535
header_kek_source = 1f12913a4acbf00d4cde3af6d523882a
header_key = aeaab1ca08adf9bef12991f369e3c567d6881e4e4a6a47a51f6e4877062d542d
header_key_source = 5a3ed84fdec0d82631f7e25d197bf5d01c9b7bfaf628183d71f64d73f150b9d2
key_area_key_application_00 = ef979e289a132c23d39c4ec5a0bba969
key_area_key_application_01 = cdedbab97b69729073dfb2440bff2c13
key_area_key_application_02 = 75716ed3b524a01dfe21456ce26c7270
key_area_key_application_03 = f428306544cf5707c25eaa8bc0583fd1
key_area_key_application_04 = 798844ec099eb6a04b26c7c728a35a4d
key_area_key_application_05 = a57c6eecc5410ada22712eb3ccbf45f1
key_area_key_application_06 = 2a60f6c4275df1770651d5891b8e73ec
key_area_key_application_07 = 32221bd6ed19b938bec06b9d36ed9e51
key_area_key_application_08 = fb20aa9e3dbf67350e86479eb431a0b3
key_area_key_application_09 = ce8d5fa79e220d5f48470e9f21be018b
key_area_key_application_0a = 38b865725adcf568a81d2db3ceaa5bcc
key_area_key_application_0b = bbddfd40a59d0ff555c0954239972213
key_area_key_application_0c = 3fee7204e21c6b0ff1373226c0c3e055
key_area_key_application_source = 7f59971e629f36a13098066f2144c30d
key_area_key_ocean_00 = b33813e4c9c4399c75fabc673ab4947b
key_area_key_ocean_01 = c54166efa8c9c0f6511fa8b580191677
key_area_key_ocean_02 = 3061ce73461e0b0409d6a33da85843c8
key_area_key_ocean_03 = 06f170025a64921c849df168e74d37f2
key_area_key_ocean_04 = dc857fd6dc1c6213076ec7b902ec5bb6
key_area_key_ocean_05 = 131d76b70bd8a60036d8218c15cb610f
key_area_key_ocean_06 = 17d565492ba819b0c19bed1b4297b659
key_area_key_ocean_07 = 37255186f7678324bf2b2d773ea2c412
key_area_key_ocean_08 = 4115c119b7bd8522ad63c831b6c816a6
key_area_key_ocean_09 = 792bfc652870cca7491d1685384be147
key_area_key_ocean_0a = dfcc9e87e61c9fba54a9b1c262d41e4d
key_area_key_ocean_0b = 66fe3107f5a6a8d8eda2459d920b07a1
key_area_key_ocean_0c = b79b6bf3d6cdc5ec10277fc07a4fec93
key_area_key_ocean_source = 327d36085ad1758dab4e6fbaa555d882
key_area_key_system_00 = 6dd02aa15b440d6231236b6677de86bc
key_area_key_system_01 = 4ab155e7f29a292037fd147592770b12
key_area_key_system_02 = b7a74adeaf89c2a198c327bdff322d7d
key_area_key_system_03 = d5aab1acd23a8aec284a316df859d377
key_area_key_system_04 = 9b44b45b37de9d14754b1d22c2ca742c
key_area_key_system_05 = 0012e957530d3dc7af34fbbe6fd44559
key_area_key_system_06 = 01744e3b0818445cd54ee9f89da43192
key_area_key_system_07 = d0d30e46f5695b875f11522c375c5a80
key_area_key_system_08 = bd06cb1b86bd5c433667470a09eb63de
key_area_key_system_09 = e19f788f658eda8bbf34a1dd2a9503a9
key_area_key_system_0a = 7070e7ff5cfe448630143a9874903c38
key_area_key_system_0b = 3fa471d4483e58b8f7756fcb64f63890
key_area_key_system_0c = 7bfd381df3369407ab1c6bdd9fabf522
key_area_key_system_source = 8745f1bba6be79647d048ba67b5fda4a
keyblob_00 = f759024f8199101dddc1ef91e6eecf37e24b95ac9272f7ae441d5d8060c843a48322d21cdd06d4fc958c68d3800eb4db939ffbec930177f77d136144ff615aa8835e811bb958deda218f8486b5a10f531b30cb9d269645ac9fc25c53fc80525e56bd3602988a9fcf06bbf99ca910ad6530791d512c9d57e17abf49220de6419bf4eca1685c1e4df77f19db7b44a985ca
keyblob_01 = bd27264ae07e979756411d0c66e679e3c50851f3e902d9c2cd1a438b948159a517ec1566c10570326ea2697ee62da46f14bb5d581bfc06fd0c9387ea33d2d4dc63e7809ba90f03dd2c7112ffbfa548951b9b8c688b5e4f2951d24a73da29c668154a5d4838dba71ee068ace83fe720e8c2a495c596f73525dc3c05994b40ad27f8c60322f75cd548b821af9162e16f76
keyblob_02 = a3d4a8e153b8e6ae6e6aef3e8f219cb4b7790f47856accc76268f9afa99a1ff8b1a72f63d1f99f480a3c1532078bb59abdd25203cfb12a38b33e9ba6a09afb6f24283b3ba76a0161230a73669ddf5493c2b7919d094fd795b484794854f71e4f4c672245d7770e29397722444d111b4229cdbf35707b70634ea8f140766e884cc580cb1e2d9aa9866ffef920010fc409
keyblob_03 = 1558f525ae8c5be9243fb6d8a8b0a8ee0e886a59035668740a936619b7a5c83e821198b171d18e51445054df68688e45703b936818a827d8e540dd6bef2e11ec9ddc6cfe5fc736dd769b9f6e0a23a62e2e5f49e86143646a04ec3a23f828373a336a5c224a91f8a0c6c6a7b5844dd6415804209f83c943aeca9cfd856db6bd4ec32009c8cb268ed053052c9237dfd8bc
keyblob_04 = 9fbeb1957fc1629e08b753a9086d6e01ffb4f11466b7417e3fa7f5f1efb754406704fd75afaf91a408a0b524c1fc80d36c2046fa4757412efe4c11e382f72e8a10d90ed580017d9deb87af2549b6b02661af48ff94f6072c0fef7fc2833b8bdae503898e2e927ac0663e8b6391dd4f1d685313935e2c48ece7d177c88bc9c883ede36c3677495784b838d7265c6ba7a1
keyblob_05 = 94a92da1d73c2b3e165c891ced5607fc6628ca2a0654f3fbc05711c063377c6e9c96a9d0192e530dd510e4fd41aa62ef4213c5f6e059e7e21db098a9b22d1e6c29bee148aaef15c52549d9165de96e85b0d029ecdc5843e2f32cb18be707eec61909cf3385d45bc2a4c8d76e9bfad5a40c4b92dcb982aa50d474897ac9ebb5351a7015dcc277a08f1214ad41384d7941
keyblob_key_00 = 839944c8a38df6791020b38147e906b0
keyblob_key_01 = b9e6fbde828b5f42c897ade8fd14c625
keyblob_key_02 = b6988a0795d294ef522908692d5db7ca
keyblob_key_03 = 0e57d7777171d125d3fe3af5b397d009
keyblob_key_04 = b55a282d698fabeb4e03c67ff2026bc5
keyblob_key_05 = fdb542c1f1bdf134ec20b1fda02bc9e1
keyblob_key_source_00 = df206f594454efdc7074483b0ded9fd3
keyblob_key_source_01 = 0c25615d684ceb421c2379ea822512ac
keyblob_key_source_02 = 337685ee884aae0ac28afd7d63c0433b
keyblob_key_source_03 = 2d1f4880edeced3e3cf248b5657df7be
keyblob_key_source_04 = bb5a01f988aff5fc6cff079e133c3980
keyblob_key_source_05 = d8cce1266a353fcc20f32d3b517de9c0
keyblob_mac_key_00 = 604422526723e541a849fa4c18660e0b
keyblob_mac_key_01 = 279481456b1dc259d35599e6392e01e5
keyblob_mac_key_02 = dbbfb8096b676c2a54b5d9c61b423a94
keyblob_mac_key_03 = 48b7aef6d9b1edb132b8901a245a7750
keyblob_mac_key_04 = 544c082e9f8602c736dc0732d4319f88
keyblob_mac_key_05 = a540ec8ba84bd31eaaa9ce9f95226875
keyblob_mac_key_source = 59c7fb6fbe9bbe87656b15c0537336a5
mariko_master_kek_source_05 = 77605ad2ee6ef83c3f72e2599dac5e56
mariko_master_kek_source_06 = 1e80b8173ec060aa11be1a4aa66fe4ae
mariko_master_kek_source_07 = 940867bd0a00388411d31adbdd8df18a
mariko_master_kek_source_08 = 5c24e3b8b4f700c23cfd0ace13c3dc23
mariko_master_kek_source_09 = 8669f00987c805aeb57b4874de62a613
mariko_master_kek_source_0a = 0e440cedb436c03faa1daebf62b10982
mariko_master_kek_source_0b = e541acecd1a7d1abed0377f127caf8f1
mariko_master_kek_source_0c = 52719bdfa78b61d8d58511e48e4f74c6
master_kek_00 = f759024f8199101dddc1ef91e6eecf37
master_kek_01 = bd27264ae07e979756411d0c66e679e3
master_kek_02 = a3d4a8e153b8e6ae6e6aef3e8f219cb4
master_kek_03 = 1558f525ae8c5be9243fb6d8a8b0a8ee
master_kek_04 = 9fbeb1957fc1629e08b753a9086d6e01
master_kek_05 = 94a92da1d73c2b3e165c891ced5607fc
master_kek_08 = e42f1ec8002043d746575ae6dd9f283f
master_kek_09 = cec2885fbeef5f6a989db84a4cc4b393
master_kek_0a = dd1a730232522b5cb4590cd43869ab6a
master_kek_0b = fc6f0c891d42710180724ed9e112e72a
master_kek_0c = 43f7fc20fcec22a5b2a744790371b094
master_kek_source_06 = 374b772959b4043081f6e58c6d36179a
master_kek_source_07 = 9a3ea9abfd56461c9bf6487f5cfa095c
master_kek_source_08 = dedce339308816f8ae97adec642d4141
master_kek_source_09 = 1aec11822b32387a2bedba01477e3b67
master_kek_source_0a = 303f027ed838ecd7932534b530ebca7a
master_kek_source_0b = 8467b67f1311aee6589b19af136c807a
master_kek_source_0c = 683bca54b86f9248c305768788707923
master_key_00 = c2caaff089b9aed55694876055271c7d
master_key_01 = 54e1b8e999c2fd16cd07b66109acaaa6
master_key_02 = 4f6b10d33072af2f250562bff06b6da3
master_key_03 = 84e04ec20b9373818c540829cf147f3d
master_key_04 = cfa2176790a53ff74974bff2af180921
master_key_05 = c1dbedcebf0dd6956079e506cfa1af6e
master_key_06 = 0aa90e6330cdc12d819b3254d11a4e1e
master_key_07 = 929f86fbfe4ef7732892bf3462511b0e
master_key_08 = 23cfb792c3cb50cd715da0f84880c877
master_key_09 = 75c93b716255319b8e03e14c19dea64e
master_key_0a = 73767484c73088f629b0eeb605f64aa6
master_key_0b = 8500b14bf4766b855a26ffc614097a8f
master_key_0c = b3c503709135d4b35de31be4b0b9c0f7
master_key_source = d8a2410ac6c59001c61d6a267c513f3c
package1_key_00 = f4eca1685c1e4df77f19db7b44a985ca
package1_key_01 = f8c60322f75cd548b821af9162e16f76
package1_key_02 = c580cb1e2d9aa9866ffef920010fc409
package1_key_03 = c32009c8cb268ed053052c9237dfd8bc
package1_key_04 = ede36c3677495784b838d7265c6ba7a1
package1_key_05 = 1a7015dcc277a08f1214ad41384d7941
package2_key_00 = a35a19cb14404b2f4460d343d178638d
package2_key_01 = a0dd1eacd438610c85a191f02c1db8a8
package2_key_02 = 7e5ba2aafd57d47a85fd4a57f2076679
package2_key_03 = bf03e9889fa18f0d7a55e8e9f684323d
package2_key_04 = 09df6e361e28eb9c96c9fa0bfc897179
package2_key_05 = 444b1a4f9035178b9b1fe262462acb8e
package2_key_06 = 442cd9c21cfb8914587dc12e8e7ed608
package2_key_07 = 70c821e7d6716feb124acbac09f7b863
package2_key_08 = 8accebcc3d15a328a48365503f8369b6
package2_key_09 = f562a7c6c42e3d4d3d13ffd504d77346
package2_key_0a = 0803167ec7fc0bc753d8330e5592a289
package2_key_0b = 341db6796aa7bdb8092f7aae6554900a
package2_key_0c = 4e97dc4225d00c6ae33d49bddd17637d
package2_key_source = fb8b6a9c7900c849efd24d854d30a0c7
per_console_key_source = 4f025f0eb66d110edc327d4186c2f478
retail_specific_aes_key_source = e2d6b87a119cb880e822888a46fba195
rsa_oaep_kek_generation_source = a8ca938434127fda82cc1aa5e807b112
rsa_private_kek_generation_source = ef2cb61a56729b9157c38b9316784ddd
save_mac_kek_source = d89c236ec9124e43c82b038743f9cf1b
save_mac_key = 71a917f1bac8f4f04d732e734c90e2ec
save_mac_key_source = e4cd3d4ad50f742845a487e5a063ea1f
save_mac_sd_card_kek_source = 0489ef5d326e1a59c4b7ab8c367aab17
save_mac_sd_card_key_source = 6f645947c56146f9ffa045d595332918
sd_card_custom_storage_key_source = 370c345e12e4cefe21b58e64db52af354f2ca5a3fc999a47c03ee004485b2fd0
sd_card_kek_source = 88358d9c629ba1a00147dbe0621b5432
sd_card_nca_key_source = 5841a284935b56278b8e1fc518e99f2b67c793f0f24fded075495dca006d99c2
sd_card_save_key_source = 2449b722726703a81965e6e3ea582fdd9a951517b16e8f7f1f68263152ea296a
sd_seed = fdb479221c43741a118fb5475374d2f7
secure_boot_key = 208de9b9de94ff698d00657a6a82a973
ssl_rsa_kek = b011100660d1dccbad1b1b733afa9f95
ssl_rsa_kek_source_x = 7f5bb0847b25aa67fac84be23d7b6903
ssl_rsa_kek_source_y = 9a383bf431d0bd8132534ba964397de3
titlekek_00 = 62a24d6e6d0d0e0abf3554d259be3dc9
titlekek_01 = 8821f642176969b1a18021d2665c0111
titlekek_02 = 5d15b9b95a5739a0ac9b20f600283962
titlekek_03 = 1b3f63bcb67d4b06da5badc7d89acce1
titlekek_04 = e45c1789a69c7afbbf1a1e61f2499459
titlekek_05 = ddc67f7189f4527a37b519cb051eee21
titlekek_06 = b1532b9d38ab036068f074c0d78706ac
titlekek_07 = 81dc1b1783df268789a6a0edbf058343
titlekek_08 = 47dfe4bf0eeda88b17136b8005ab08ea
titlekek_09 = adaa785d90e1a9c182ac07bc276bf600
titlekek_0a = 42daa957c128f75bb1fda56a8387e17b
titlekek_0b = d08903363f2c8655d3de3ccf85d79406
titlekek_0c = be2682599db34caa9bc7ebb2cc7c654c
titlekek_source = 1edc7b3b60e6b4d878b81715985e629b
tsec_key = 53ec4ac7c6c32ff2abff3eeff4f84f36
tsec_root_key_02 = 4b4fbcf58e23cf4902d478b76c8048ec
</code></pre><p><code>yuzu</code>以及<code>Ryujinx</code>都需要<code>prod.keys</code>，里面包含了<code>NS</code>设备需要的<code>key</code>，需要通过<code> Hekate</code>等一些列工具生成。yuzu不需要单独安装固件，只要把key文件放好就可以启动游戏了。</p>
</li>
<li>
<p>关闭模拟器，重新打开 yuzu ，若没有弹窗，则配置成功</p>
</li>
</ul>
<h4 id="设置httpswwwjianshucompd55e015fbcb6"><a href="https://www.jianshu.com/p/d55e015fbcb6">设置</a><a hidden class="anchor" aria-hidden="true" href="#设置httpswwwjianshucompd55e015fbcb6">#</a></h4>
<p><strong>General</strong></p>
<p>确保勾选 Multicore CPU Emulation 和 Confirm exit while emulation is runing。</p>
<p>Limit Speed percent：游戏运行速度，默认即可，可加快或限速</p>
<p>Pause emulation when inbackground：退到后台模拟器暂停运行</p>
<p>Hide mouse inactivity：运行时鼠标隐藏</p>
<p>Prompt for user for game boot：游戏启动时选择哪个账户游玩</p>
<p><strong>Web</strong></p>
<p>yuzu web service：填了用户名和令牌以后可以向官网报告游戏兼容性</p>
<p>Telemetry：开了以后能让yuzu开发者查看你的使用情况，以便改善模拟器</p>
<p>Discord Presence：在discord中显示你的游戏状态</p>
<p><strong>系统</strong></p>
<p>System 页面，Language 选择 Simplified Chinese，Region 选择 China。这个设置的是系统语言，很多游戏会根据系统语言自动切换游戏内显示的语言。当然前提是游戏本身包含中文，如果游戏本身无中文只能通过打补丁的方式显示中文。</p>
<p>Custom RTC：修改系统时间，可以触发某些游戏的特定彩蛋之类的功能。</p>
<p>RNG seed：随机数种子，一般情况别改改。</p>
<p>Profile Manager：这里可以改switch用户名称、头像。可以设置多个用户</p>
<p><strong>CPU</strong></p>
<p><strong>图形</strong></p>
<ul>
<li><code>API</code>设置：支持<code>OpenGL</code>和<code>Vulkan</code>。</li>
<li><code>Use disk shader cache</code>：磁盘着色器缓存，建议开启，这样就不用每次都重新编译，而是直接从磁盘加载到内存</li>
<li><code>Use asynchronous GPU emulation</code>：<code>GPU</code>异步模拟，<code>yuzu</code>重写了<code>GPU</code>显存管理器，加速了缓存机制，使得帧数得到明显提示，同时性能提升40%-400%（来自<code>BSoD Gaming</code>的测试数据）</li>
<li><code>Use NVDEC emulation</code>：<a href="https://yuzu-emu.org/entry/yuzu-nvdec-emulation/"><code>NVDEC</code></a>是一项硬件转码技术，能减少转码期间计算密集型任务中CPU的负担，这是<code>Nvidia</code>的一个技术，有了它，过场动画的播放会畅顺很多</li>
</ul>
<p><strong>Advanced</strong></p>
<ul>
<li><code>Accuracy Level</code>：即模拟器左下角状态栏的 GPU NORMAL。是处理图形绘制精确度，开启High可能会修复一些图形错误，但是速度可能会变慢，一般选默认Normal即可</li>
<li><code>Use Vysnc (OpenGL Only)</code>：开启垂直同步</li>
<li><code>Use Fast GPU time</code>： 使用GPU加速渲染</li>
<li><code>Anisotropic Filtering</code>：是各项异性过滤，是用来处理图形纹理错误的，可以选2x-16x</li>
</ul>
<p><strong>声音</strong></p>
<p>默认。</p>
<p><strong>控制</strong></p>
<p>连接手柄，选择该设备。</p>
<h4 id="管理">管理<a hidden class="anchor" aria-hidden="true" href="#管理">#</a></h4>
<p>游戏格式分为两种，.xci 格式和 .nsp 格式。简单一点说，.xci 格式是卡带版，.nsp 格式是数字版。因此基本上所有的 DLC 基本都是 .nsp 格式，但也有 .xci 里集成了 DLC 的情况。</p>
<p><strong>添加游戏</strong></p>
<p>双击模拟器中间，添加游戏目录，游戏目录也不要有中文。添加完就可以看到游戏了。</p>
<p><strong>安装Update和DLC</strong></p>
<p>选择File -&gt;Install Files to NAND&hellip;，选中 Update和DLC文件，Update 安装最新就行，DLC 需要全部安装（可以不按顺序）。</p>
<p><strong>安装 Mod</strong></p>
<p>Mod 用于修改游戏，如解决一些bug以及优化性能等。右键单击要为其添加模组的游戏。然后将整个mod文件夹粘贴到那里。你可以从 <a href="https://github.com/yuzu-emu/yuzu/wiki/Switch-Mods">Switch Mods</a> 获得一些基本的 yuzu 模组。</p>
<p>注意：您可以通过右键单击游戏并单击属性来检查您拥有的游戏模组。</p>
<p><strong>放入着色器缓存</strong></p>
<p>放入着色器缓存（shader cache）可以明显提升游戏的流畅性，建议找找<a href="https://emulation.gametechwiki.com/index.php/Shader_caches">别人的着色器缓存</a>。</p>
<p>具体放入步骤：右键某个游戏，选择打开可转移着色器缓存，即可弹出缓存所在文件夹，然后放入你下载的别人的缓存就行了，比如 vulkan.bin 和 opengl.bin</p>
<h3 id="rubickhttpsgithubcomrubickcenterrubick"><a href="https://github.com/rubickCenter/rubick">rubick</a><a hidden class="anchor" aria-hidden="true" href="#rubickhttpsgithubcomrubickcenterrubick">#</a></h3>
<p>基于 electron 的开源工具箱，自由集成丰富插件。</p>
<h4 id="utoolshttpsutools"><a href="https://u.tools/">uTools</a><a hidden class="anchor" aria-hidden="true" href="#utoolshttpsutools">#</a></h4>
<p>uTools 是一个极简、插件化的现代桌面软件，通过自由选配丰富的插件，打造得心应手的工具集合。</p>
<h4 id="alberthttpswwwcnblogscomkeatonlaop13252483html"><a href="https://www.cnblogs.com/keatonlao/p/13252483.html">Albert</a><a hidden class="anchor" aria-hidden="true" href="#alberthttpswwwcnblogscomkeatonlaop13252483html">#</a></h4>
<p>Linux 下的快捷启动工具。</p>
<table>
<thead>
<tr>
<th>应用 / 功能</th>
<th>查找应用</th>
<th>查找文件</th>
<th>查找网页</th>
<th>扩展程序</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/albertlauncher/albert">Albert</a></td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>-</td>
</tr>
<tr>
<td><a href="https://launchpad.net/synapse-project">Synapse</a></td>
<td>✓</td>
<td>✓</td>
<td>-</td>
<td>-</td>
</tr>
<tr>
<td><a href="https://u.tools/">Utools</a></td>
<td>✓</td>
<td>✗</td>
<td>✓</td>
<td>✓</td>
</tr>
<tr>
<td><a href="https://ulauncher.io/">Ulauncher</a></td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
</tr>
<tr>
<td><a href="https://github.com/cboxdoerfer/fsearch">FSearch</a></td>
<td>✗</td>
<td>✓</td>
<td>✗</td>
<td>✗</td>
</tr>
</tbody>
</table>
<p>简单说，Albert 最好用，Ulauncher 综合能力强，而 FSearch 严重偏科。</p>
<h3 id="calibrehttpscalibre-ebookcom"><a href="https://calibre-ebook.com/">Calibre</a><a hidden class="anchor" aria-hidden="true" href="#calibrehttpscalibre-ebookcom">#</a></h3>
<p><strong>calibre is a powerful and easy to use e-book manager</strong>. Users say it’s <em>outstanding</em> and a <em>must-have</em>. It’ll allow you to do nearly everything and it takes things a step beyond normal e-book software. It’s also <strong>completely free</strong> and <em>open source</em> and great for both <strong>casual users</strong> and computer experts.</p>
<p><a href="https://fedingo.com/how-to-convert-epub-to-pdf-in-linux/"><strong>Convert Epub to PDF</strong></a></p>
<p>Open terminal and run the following command to install Calibre.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo apt update
$ sudo apt install calibre
</code></pre></div><p>Calibre software is referred to as ebook-convert command. Here is the command to convert epub file to pdf file.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ebook-convert &lt;file&gt;.epub &lt;file&gt;.pdf
</code></pre></div><p>If your PDF doesn’t appear to be properly readable, try converting the epub file again using –enable-heuristics option.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ebook-convert /home/ubuntu/test.epub /home/ubuntu/test.pdf --enable-heuristics
</code></pre></div><h4 id="fbreader">FBReader<a hidden class="anchor" aria-hidden="true" href="#fbreader">#</a></h4>
<p>中文乱码需要在 Options =&gt; CSS 中启用 Always Use My Own Fonts</p>
<h3 id="ventoyhttpswwwventoynetcnindexhtml"><a href="https://www.ventoy.net/cn/index.html">Ventoy</a><a hidden class="anchor" aria-hidden="true" href="#ventoyhttpswwwventoynetcnindexhtml">#</a></h3>
<p>简单来说，Ventoy是一个制作可启动U盘的开源工具。</p>
<p>有了Ventoy你就无需反复地格式化U盘，你只需要把 ISO/WIM/IMG/VHD(x)/EFI 等类型的文件直接拷贝到U盘里面就可以启动了，无需其他操作。</p>
<h4 id="balenaetcherhttpsgithubcombalena-ioetcher"><a href="https://github.com/balena-io/etcher">balenaEtcher</a><a hidden class="anchor" aria-hidden="true" href="#balenaetcherhttpsgithubcombalena-ioetcher">#</a></h4>
<p>Supported Operating Systems</p>
<ul>
<li>Linux (most distros)</li>
<li>macOS 10.10 (Yosemite) and later</li>
<li>Microsoft Windows 7 and later</li>
</ul>
<h4 id="unetbootinhttpsgithubcomunetbootinunetbootin"><a href="https://github.com/unetbootin/unetbootin">UNetbootin</a><a hidden class="anchor" aria-hidden="true" href="#unetbootinhttpsgithubcomunetbootinunetbootin">#</a></h4>
<p>UNetbootin installs Linux/BSD distributions to a partition or USB drive</p>
<h4 id="woeusb-nghttpsgithubcomwoeusbwoeusb-ng"><a href="https://github.com/WoeUSB/WoeUSB-ng">WoeUSB-ng</a><a hidden class="anchor" aria-hidden="true" href="#woeusb-nghttpsgithubcomwoeusbwoeusb-ng">#</a></h4>
<p>WoeUSB-ng is a simple tool that enable you to create your own usb stick windows installer from an iso image or a real DVD. This is a rewrite of original WoeUSB.</p>
<h3 id="timeshifthttpsgithubcomteejee2008timeshift"><a href="https://github.com/teejee2008/timeshift">Timeshift</a><a hidden class="anchor" aria-hidden="true" href="#timeshifthttpsgithubcomteejee2008timeshift">#</a></h3>
<p>System restore tool for Linux.</p>
<h3 id="todoisthttpssnapcraftioinstalltodoistubuntuinstall"><a href="https://snapcraft.io/install/todoist/ubuntu#install">Todoist</a><a hidden class="anchor" aria-hidden="true" href="#todoisthttpssnapcraftioinstalltodoistubuntuinstall">#</a></h3>
<h3 id="plankhttpslaunchpadnetplank"><a href="https://launchpad.net/plank">Plank</a><a hidden class="anchor" aria-hidden="true" href="#plankhttpslaunchpadnetplank">#</a></h3>
<p>Plank is meant to be the simplest dock on the planet.</p>
<h4 id="latte-dock">latte-dock<a hidden class="anchor" aria-hidden="true" href="#latte-dock">#</a></h4>
<h3 id="steamhttpsstoresteampoweredcom"><a href="https://store.steampowered.com/">Steam</a><a hidden class="anchor" aria-hidden="true" href="#steamhttpsstoresteampoweredcom">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo apt install steam
</code></pre></div><p>在 Windows 上运行神秘代码： Win + R，输入 steam://install/2026560。等同于在 Ubuntu 终端敲：<code>xdg-open steam://install/2026560</code></p>
<h3 id="yacreaderhttpsyacreadercom"><a href="https://yacreader.com/">`YACReader</a><a hidden class="anchor" aria-hidden="true" href="#yacreaderhttpsyacreadercom">#</a></h3>
<h4 id="tachideskhttpsgithubcomsuwayomitachidesk-server"><a href="https://github.com/Suwayomi/Tachidesk-Server">Tachidesk</a><a hidden class="anchor" aria-hidden="true" href="#tachideskhttpsgithubcomsuwayomitachidesk-server">#</a></h4>
<p><a href="https://hanjingxue-boling.github.io/Whiteboard/essay/memo/Tachidesk-quick-setup/">快速配置指南</a>：</p>
<p>Tachidesk 是一个免费的开源漫画阅读器，可运行为 Tachiyomi 构建的扩展。Tachidesk 是独立的，但与 Tachiyomi 兼容的开源软件，它不是 Tachiyomi 的下游分支。你可以在任何支持 Java 的设备上运行这个软件。</p>
<p>如果你熟悉 Tachiyomi，那你也会对 Tachidesk 的用户界面倍感熟悉。</p>
<p>Tachidesk 主要分为两部分：Tachidesk-server （后端）和 Tachidesk 图形化前端。Tachidesk 有多个图形化前端。直接从下文的 GitHub 链接下载的文件会自动集成一个 Tachidesk-WebUI。</p>
<h3 id="hakunekohttpsgithubcommanga-downloadhakuneko"><a href="https://github.com/manga-download/hakuneko">hakuneko</a><a hidden class="anchor" aria-hidden="true" href="#hakunekohttpsgithubcommanga-downloadhakuneko">#</a></h3>
<h4 id="work_crawlerhttpsgithubcomkanasimiwork_crawler"><a href="https://github.com/kanasimi/work_crawler">work_crawler</a><a hidden class="anchor" aria-hidden="true" href="#work_crawlerhttpsgithubcomkanasimiwork_crawler">#</a></h4>
<p>Download comics novels</p>
<h3 id="dingtalkhttpsgithubcomnashaofudingtalk"><a href="https://github.com/nashaofu/dingtalk">dingtalk</a><a hidden class="anchor" aria-hidden="true" href="#dingtalkhttpsgithubcomnashaofudingtalk">#</a></h3>
<p>钉钉桌面版，基于electron和钉钉网页版开发</p>
<h3 id="howdyhttpsgithubcomboltgolthowdy"><a href="https://github.com/boltgolt/howdy">howdy</a><a hidden class="anchor" aria-hidden="true" href="#howdyhttpsgithubcomboltgolthowdy">#</a></h3>
<p>Windows Hello™ style facial authentication for Linux</p>
<h3 id="向日葵httpssunloginoraycom"><a href="https://sunlogin.oray.com/">向日葵</a><a hidden class="anchor" aria-hidden="true" href="#向日葵httpssunloginoraycom">#</a></h3>
<p>向日葵远程控制软件是一款免费的集远程控制电脑手机、远程桌面连接、远程开机、远程管理、支持内网穿透的一体化远程控制管理工具软件。</p>
<h3 id="keepassxchttpskeepassxcorg"><a href="https://keepassxc.org/">KeePassXC</a><a hidden class="anchor" aria-hidden="true" href="#keepassxchttpskeepassxcorg">#</a></h3>
<h3 id="words-pickerhttpsgithubcomziqiangxuwords-picker"><a href="https://github.com/ziqiangxu/words-picker">words-picker</a><a hidden class="anchor" aria-hidden="true" href="#words-pickerhttpsgithubcomziqiangxuwords-picker">#</a></h3>
<p>有OCR功能的开源取词软件</p>
<h3 id="copyqhttpsgithubcomhlukcopyq"><a href="https://github.com/hluk/CopyQ">CopyQ</a><a hidden class="anchor" aria-hidden="true" href="#copyqhttpsgithubcomhlukcopyq">#</a></h3>
<p>Clipboard manager with advanced features</p>
<h3 id="xnviewmphttpswwwxnviewcomenxnviewmp"><a href="https://www.xnview.com/en/xnviewmp/">XnViewMP</a><a hidden class="anchor" aria-hidden="true" href="#xnviewmphttpswwwxnviewcomenxnviewmp">#</a></h3>
<p>图片浏览器。速度快，并且可以进行一些简单的图片操作，比如图片压缩、图片格式转换、图片剪裁等等。</p>
<h3 id="zealhttpszealdocsorg"><a href="https://zealdocs.org/">Zeal</a><a hidden class="anchor" aria-hidden="true" href="#zealhttpszealdocsorg">#</a></h3>
<p>离线 API 文档查找阅读工具。</p>
<h3 id="xmindhttpswwwxmindnet"><a href="https://www.xmind.net/">XMind</a><a hidden class="anchor" aria-hidden="true" href="#xmindhttpswwwxmindnet">#</a></h3>
<p>XMind 是一款全功能的思维导图和头脑风暴软件。像大脑的瑞士军刀一般，助你理清思路，捕捉创意。已成为上亿用户喜爱的全平台效率工具。</p>
<p>快捷键：</p>
<ul>
<li>shift：左右移动</li>
<li>tab：subtopic</li>
<li>del：delete topic</li>
<li>blank：input text</li>
</ul>
<p><a href="https://www.jianshu.com/p/898c8972b03c"><strong>完全免费的脑图软件推荐</strong></a></p>
<p>如果平时没有导出需求的话, 可以选用xmind和mindmaster, 如果突然需要导出pdf了, 可以将xmind和mindmaster的文件导出为mindmanager文件, 然后导入到freeplane中, 稍作调整与美化, 然后导出成pdf就可以了.</p>
<p><a href="https://unix.stackexchange.com/a/361001"><strong>Add new file extension to existing (MIME) type</strong></a></p>
<p>问题描述：将 zip 文件默认打开设置为File，点击xmind文件会被解压；设置xmind默认打开 .xmind 文件，zip文件会被xmind打开，xmind 的mime类型为zip，那么要如何区分zip文件与xmind文件呢？</p>
<p>Use <em>freedesktop</em>&rsquo;s <a href="https://specifications.freedesktop.org/shared-mime-info-spec/latest/ar01s02.html">unified system</a> to define a new association. Write a new source xml file e.g.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ gedit ~/.local/share/mime/packages/x-xmind.xml
</code></pre></div><p>with the following content:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;?xml version=&#34;1.0&#34;?&gt;</span>
 <span style="color:#f92672">&lt;mime-info</span> <span style="color:#a6e22e">xmlns=</span><span style="color:#e6db74">&#39;http://www.freedesktop.org/standards/shared-mime-info&#39;</span><span style="color:#f92672">&gt;</span>
  <span style="color:#f92672">&lt;mime-type</span> <span style="color:#a6e22e">type=</span><span style="color:#e6db74">&#34;application/x-xmind&#34;</span><span style="color:#f92672">&gt;</span>
    <span style="color:#f92672">&lt;comment&gt;</span>XMind mindmap<span style="color:#f92672">&lt;/comment&gt;</span>
    <span style="color:#f92672">&lt;generic-icon</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;package-x-generic&#34;</span><span style="color:#f92672">/&gt;</span>
    <span style="color:#f92672">&lt;glob</span> <span style="color:#a6e22e">pattern=</span><span style="color:#e6db74">&#34;*.xmind&#34;</span><span style="color:#f92672">/&gt;</span>
  <span style="color:#f92672">&lt;/mime-type&gt;</span>
 <span style="color:#f92672">&lt;/mime-info&gt;</span>
</code></pre></div><p>then update your mime database</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ update-mime-database ~/.local/share/mime
</code></pre></div><p>or you can <a href="https://unix.stackexchange.com/a/358406">register a new MIME entry</a> by using <code>xdg-mime</code> instead of <code>update-mime-database</code>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># register</span>
$ xdg-mime install x-xmind.xml
<span style="color:#75715e"># unregister</span>
$ xdg-mime uninstall x-xmind.xml
</code></pre></div><p>Query:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ xdg-mime query filetype my.xmind
application/x-xmind
</code></pre></div><p><a href="https://felixc.at/2010/07/howto-thumbnails-for-xmind-mind-map-files/">给XMind脑图文件添加Gnome缩略图显示 [Ubuntu]</a></p>
<h2 id="cli-utilities">CLI Utilities<a hidden class="anchor" aria-hidden="true" href="#cli-utilities">#</a></h2>
<h3 id="postgresql">PostgreSQL<a hidden class="anchor" aria-hidden="true" href="#postgresql">#</a></h3>
<p>是 macOS Server 的默认数据库。</p>
<h4 id="安装-2">安装<a hidden class="anchor" aria-hidden="true" href="#安装-2">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo apt install postgresql postgresql-contrib
</code></pre></div><p>postgresql-contrib 或者说 contrib 包，包含一些不属于 PostgreSQL 核心包的实用工具和功能。</p>
<p>通过 service 命令，你可以启动、关闭或重启 postgresql。输入 service postgresql 并按回车将列出所有选项</p>
<p>默认情况下，PostgreSQL 会创建一个拥有所权限的特殊用户 postgres。要实际使用 PostgreSQL，你必须先登录该账户，使用 psql 来启动 PostgreSQL Shell：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo -i -u postgres <span style="color:#75715e"># sudo -login -user postgres</span>
$ psql
</code></pre></div><p>使用 <code>\l</code> 用于查看已经存在的数据库</p>
<pre tabindex="0"><code>postgres=# \l
</code></pre><p>使用 <code>\c + 数据库名</code> 来进入数据库</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">postgres<span style="color:#f92672">=</span><span style="color:#75715e"># \c shop</span>
</code></pre></div><p><code>\d</code> 查看表格信息</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">postgres<span style="color:#f92672">=</span><span style="color:#75715e"># \d [TableName]</span>
</code></pre></div><h4 id="查找配置文件">查找配置文件<a hidden class="anchor" aria-hidden="true" href="#查找配置文件">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#66d9ef">select</span> name, setting <span style="color:#66d9ef">from</span> pg_settings <span style="color:#66d9ef">where</span> category<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;File Locations&#39;</span> ;
</code></pre></div><h4 id="questions">Questions<a hidden class="anchor" aria-hidden="true" href="#questions">#</a></h4>
<p><a href="https://stackoverflow.com/questions/18664074/getting-error-peer-authentication-failed-for-user-postgres-when-trying-to-ge"><strong>psql: error: FATAL:  Peer authentication failed for user &ldquo;postgres&rdquo;</strong></a></p>
<p>psql的连接建立于Unix Socket上默认使用peer authentication（对等体认证；对等实体认证），所以必须要用和数据库用户相同的系统用户进行登录。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># su - postgres </span>
<span style="color:#75715e"># psql</span>
</code></pre></div><p>或者将peer authentiction 改为 md5，需先做上面步骤，更改密码：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">postgres<span style="color:#f92672">=</span><span style="color:#75715e"># ALTER USER db_user with password &#39;db_password&#39;;</span>
$ find / -name <span style="color:#e6db74">&#39;pg_hba.conf&#39;</span> 2&gt;/dev/null
$ sudo vi /etc/postgresql/12/main/postgresql.conf
local   all          postgres          md5
$ systemctl restart postgresql.service
$ psql -U postgres -d shop
</code></pre></div><h3 id="ansiblehttpsansible-tranreadthedocsioenlatestindexhtml"><a href="https://ansible-tran.readthedocs.io/en/latest/index.html">Ansible</a><a hidden class="anchor" aria-hidden="true" href="#ansiblehttpsansible-tranreadthedocsioenlatestindexhtml">#</a></h3>
<p>安装Ansible之后,不需要启动或运行一个后台进程,或是添加一个数据库.只要在一台电脑(可以是一台笔记本)上安装好,就可以通过这台电脑管理一组远程的机器.在远程被管理的机器上,不需要安装运行任何软件,因此升级Ansible版本不会有太多问题.</p>
<h3 id="fdupeshttpsaskubuntucomquestions3865how-to-find-and-delete-duplicate-files"><a href="https://askubuntu.com/questions/3865/how-to-find-and-delete-duplicate-files">fdupes</a><a hidden class="anchor" aria-hidden="true" href="#fdupeshttpsaskubuntucomquestions3865how-to-find-and-delete-duplicate-files">#</a></h3>
<p>You can call it like <code>fdupes -r /dir/ect/ory</code> and it will print out a list of dupes. fdupes has also a <a href="http://netdial.caribe.net/~adrian2/fdupes.html">simple Homepage</a> and a <a href="http://en.wikipedia.org/wiki/Fdupes">Wikipedia article</a>, which lists some more programs.</p>
<h4 id="digikamhttpswwwdigikamorg"><a href="https://www.digikam.org/">digiKam</a><a hidden class="anchor" aria-hidden="true" href="#digikamhttpswwwdigikamorg">#</a></h4>
<p>可用于查找重复相片，然后根据需要删除重复内容。</p>
<h3 id="bypyhttpscdnjsdelivrnetghhoutianzebypymaster"><a href="https://cdn.jsdelivr.net/gh/houtianze/bypy@master/">bypy</a><a hidden class="anchor" aria-hidden="true" href="#bypyhttpscdnjsdelivrnetghhoutianzebypymaster">#</a></h3>
<p><code>bypy info</code> 认证特别慢，而授权码又只有10分钟，导致后面授权码过期 Heroku server 认证失败失败。</p>
<p>如此，可以通过手动认证。</p>
<ul>
<li>
<p>通过 <code>bypy -dv</code> 查看详细输出，得到 Full URL，如 <code>https://bypyoauth.herokuapp.com/auth?code=...&amp;bypy_version=1.7.2&amp;redirect_uri=oob</code>，在浏览器中打开，获得token。</p>
</li>
<li>
<p>将其放在 <code>~/.bypy/bypy.json</code> 中。</p>
</li>
</ul>
<p>源码仓库也有<a href="https://cdn.jsdelivr.net/gh/houtianze/bypy@master/bypy/test/configdir/">示例</a>。</p>
<p>我下载一个大文件，总共12G左右，已用了两个晚上，中途没关（由于不是立马就要的东西，就用时间换金钱了），一次看进度时，Terminal 就卡退了，重新运行后，bypy会继续上次下载，而不是重新开始（这样话太可怕了）。</p>
<h3 id="frphttpsgofrporg"><a href="https://gofrp.org/">FRP</a><a hidden class="anchor" aria-hidden="true" href="#frphttpsgofrporg">#</a></h3>
<p>frp 是一个专注于内网穿透的高性能的反向代理应用，支持 TCP、UDP、HTTP、HTTPS 等多种协议。可以将内网服务以安全、便捷的方式通过具有公网 IP 节点的中转暴露到公网。</p>
<p><strong><a href="http://www.senra.me/tag/%e5%86%85%e7%bd%91%e7%a9%bf%e9%80%8f/">其他内网穿透工具</a></strong></p>
<ul>
<li><a href="https://github.com/inconshreveable/ngrok">ngrok</a></li>
<li><a href="https://github.com/zerotier/ZeroTierOne">ZeroTier</a></li>
<li><a href="https://github.com/ntop/n2n">N2N</a></li>
<li><a href="https://github.com/vzex/dog-tunnel">Dog Tunnel</a></li>
<li><a href="https://github.com/gsliepen/tinc">Tinc</a></li>
</ul>
<h3 id="git">Git<a hidden class="anchor" aria-hidden="true" href="#git">#</a></h3>
<h4 id="sync-repos">sync-repos<a hidden class="anchor" aria-hidden="true" href="#sync-repos">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#!/usr/bin/bash
</span><span style="color:#75715e"></span>TIME<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>date <span style="color:#e6db74">&#39;+%Y%m%d%H%M%S&#39;</span><span style="color:#66d9ef">)</span><span style="color:#e6db74">&#34;</span>
SAMATOMO_SOURCE<span style="color:#f92672">=</span>$HOME/Documents/SakamotoKuromeSource
SAKAMOTO_PUBLIC<span style="color:#f92672">=</span>$SAMATOMO_SOURCE/public
VNOTEBOOK<span style="color:#f92672">=</span>$HOME/Documents/vNotebook


<span style="color:#66d9ef">function</span> Git_Sync<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
  cd $1
  echo <span style="color:#e6db74">&#39;## STATUS ##&#39;</span>
  git status
  echo <span style="color:#e6db74">&#39;&#39;</span>
  echo <span style="color:#e6db74">&#39;## PULL ##&#39;</span>
  git pull
  echo <span style="color:#e6db74">&#39;&#39;</span>
  echo <span style="color:#e6db74">&#39;## PUSH ##&#39;</span>
  echo <span style="color:#e6db74">&#39;### Ignore files larger than 100MB&#39;</span>
  cat .gitignore_default &gt; .gitignore
  find . -size +100M | sed <span style="color:#e6db74">&#39;s|^./||g&#39;</span> | cat &gt;&gt; .gitignore
  git add .
  git commit -m <span style="color:#e6db74">&#34;Update-</span><span style="color:#e6db74">${</span>TIME<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
  git push -v
  echo <span style="color:#e6db74">&#39;&#39;</span>
  echo <span style="color:#e6db74">&#39;&#39;</span>
  echo <span style="color:#e6db74">&#39;&#39;</span>
<span style="color:#f92672">}</span>


<span style="color:#66d9ef">function</span> Sync_All<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
  echo <span style="color:#e6db74">&#39;# PUSH SAMATOMO_SOURCE #&#39;</span>
  Git_Sync $SAMATOMO_SOURCE

  echo <span style="color:#e6db74">&#39;# PUSH SAKAMOTO_PUBLIC #&#39;</span>
  rm -rf $SAKAMOTO_PUBLIC/*
  hugo
  Git_Sync $SAKAMOTO_PUBLIC

  echo <span style="color:#e6db74">&#39;# PUSH vNotebook #&#39;</span>
  Git_Sync $VNOTEBOOK
<span style="color:#f92672">}</span>

Sync_All

exit <span style="color:#ae81ff">0</span>
</code></pre></div><ul>
<li>A collection of useful <a href="https://github.com/github/gitignore">.gitignore</a> templates</li>
<li><a href="https://github.com/sr320/course-fish546-2015/issues/43">Ignore files &gt;100MB in your Git repos</a></li>
<li><a href="https://docs.github.com/en/repositories/working-with-files/managing-large-files/about-large-files-on-github">About large files on GitHub</a></li>
</ul>
<h4 id="github-desktophttpsdesktopgithubcom"><a href="https://desktop.github.com/">GitHub Desktop</a><a hidden class="anchor" aria-hidden="true" href="#github-desktophttpsdesktopgithubcom">#</a></h4>
<p>Focus on what matters instead of fighting with Git. Whether you&rsquo;re new to Git or a seasoned user, GitHub Desktop simplifies your development workflow.</p>
<h4 id="github520httpsgithubcom521xueweihangithub520"><a href="https://github.com/521xueweihan/GitHub520">GitHub520</a><a hidden class="anchor" aria-hidden="true" href="#github520httpsgithubcom521xueweihangithub520">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># GitHub520 Host Start</span>
140.82.113.26                 alive.github.com
140.82.113.26                 live.github.com
185.199.108.154               github.githubassets.com
140.82.112.22                 central.github.com
185.199.108.133               desktop.githubusercontent.com
185.199.108.153               assets-cdn.github.com
185.199.108.133               camo.githubusercontent.com
185.199.108.133               github.map.fastly.net
199.232.69.194                github.global.ssl.fastly.net
140.82.114.4                  gist.github.com
185.199.108.153               github.io
140.82.113.4                  github.com
192.0.66.2                    github.blog
140.82.114.5                  api.github.com
185.199.108.133               raw.githubusercontent.com
185.199.108.133               user-images.githubusercontent.com
185.199.108.133               favicons.githubusercontent.com
185.199.108.133               avatars5.githubusercontent.com
185.199.108.133               avatars4.githubusercontent.com
185.199.108.133               avatars3.githubusercontent.com
185.199.108.133               avatars2.githubusercontent.com
185.199.108.133               avatars1.githubusercontent.com
185.199.108.133               avatars0.githubusercontent.com
185.199.108.133               avatars.githubusercontent.com
140.82.114.10                 codeload.github.com
52.217.201.185                github-cloud.s3.amazonaws.com
54.231.132.81                 github-com.s3.amazonaws.com
52.217.225.9                  github-production-release-asset-2e65be.s3.amazonaws.com
52.217.161.97                 github-production-user-asset-6210df.s3.amazonaws.com
52.216.134.35                 github-production-repository-file-5c1aeb.s3.amazonaws.com
185.199.108.153               githubstatus.com
64.71.144.202                 github.community
23.100.27.125                 github.dev
140.82.112.22                 collector.github.com
13.107.42.16                  pipelines.actions.githubusercontent.com
185.199.108.133               media.githubusercontent.com
185.199.108.133               cloud.githubusercontent.com
185.199.108.133               objects.githubusercontent.com


<span style="color:#75715e"># Update time: 2022-03-19T14:06:28+08:00</span>
<span style="color:#75715e"># Update url: https://raw.hellogithub.com/hosts</span>
<span style="color:#75715e"># Star me: https://github.com/521xueweihan/GitHub520</span>
<span style="color:#75715e"># GitHub520 Host End</span>
</code></pre></div><h3 id="libguestfs">libguestfs<a hidden class="anchor" aria-hidden="true" href="#libguestfs">#</a></h3>
<p>libguestfs 支持几乎所有类型的磁盘镜像。</p>
<p>在基于 Debian 的系统上：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ apt-get install libguestfs-tools
</code></pre></div><p>我们可以像下面这样挂载一个 qcow2 格式的磁盘镜像：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ guestmount -a /path/to/qcow2/image -m &lt;device&gt; /path/to/mount/point
</code></pre></div><p>要卸载它，则执行：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ guestunmount qcow2_mount_poin
</code></pre></div><h3 id="oracle-jdk">Oracle JDK<a hidden class="anchor" aria-hidden="true" href="#oracle-jdk">#</a></h3>
<ul>
<li>
<p>解压缩到目录</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ tar -zxv -f jdk-7u60-linux-x64.gz -C dir
</code></pre></div></li>
<li>
<p>修改环境变量</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ vi ~/.bashrc
export JAVA_HOME<span style="color:#f92672">=</span>/usr/lib/jvm/jdk1.7.0_60 <span style="color:#75715e"># 这里换成自己解压的jdk 目录</span>
export JRE_HOME<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>JAVA_HOME<span style="color:#e6db74">}</span>/jre
export CLASSPATH<span style="color:#f92672">=</span>.:<span style="color:#e6db74">${</span>JAVA_HOME<span style="color:#e6db74">}</span>/lib:<span style="color:#e6db74">${</span>JRE_HOME<span style="color:#e6db74">}</span>/lib
export PATH<span style="color:#f92672">=</span><span style="color:#e6db74">${</span>JAVA_HOME<span style="color:#e6db74">}</span>/bin:$PATH
</code></pre></div></li>
<li>
<p>使环境变量生效</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ source ~/.bashrc
</code></pre></div></li>
</ul>
<h3 id="snapper">Snapper<a hidden class="anchor" aria-hidden="true" href="#snapper">#</a></h3>
<p>Snapper 是一个由 openSUSE 的 Arvin Schnell 开发的工具，用于管理 Btrfs 子卷和 LVM 精简配置(thin-provisioned)卷。它可以创建和比较快照，在快照间回滚，并支持自动按时间序列创建快照。</p>
<p>列出子卷列表</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo btrfs subvolume list -p /
ID <span style="color:#ae81ff">256</span> gen <span style="color:#ae81ff">7746</span> parent <span style="color:#ae81ff">5</span> top level <span style="color:#ae81ff">5</span> path @
ID <span style="color:#ae81ff">258</span> gen <span style="color:#ae81ff">7746</span> parmount -n -o remount,rw /ent <span style="color:#ae81ff">5</span> top level <span style="color:#ae81ff">5</span> path @home
</code></pre></div><p>安装 snapper</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo apt install snapper
</code></pre></div><p>创建配置文件，启用自动快照</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo snapper -c root create-config /
</code></pre></div><p>Snapshots on boot</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo systemctl status snapper-boot.timer
</code></pre></div><p>管理 snapshot</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo snapper-gui
</code></pre></div><h4 id="grub-btrfshttpsgithubcomantyneagrub-btrfs"><a href="https://github.com/Antynea/grub-btrfs">grub-btrfs</a><a hidden class="anchor" aria-hidden="true" href="#grub-btrfshttpsgithubcomantyneagrub-btrfs">#</a></h4>
<p><a href="https://wiki.archlinux.org/title/btrfs#Booting_into_snapshots">Booting into snapshots</a>.</p>
<p>Include btrfs snapshots at boot options. (Grub menu)</p>
<p>教程：<a href="https://theduckchannel.github.io/post/2021/08/24/install-ubuntu-21.04-with-btrfs-+-snapper-+-grub-btrfs/">Install Ubuntu 21.04 with btrfs + snapper + grub-btrfs</a></p>
<h3 id="fail2banhttpszhuanlanzhihucomp33546122"><a href="https://zhuanlan.zhihu.com/p/33546122">Fail2Ban</a><a hidden class="anchor" aria-hidden="true" href="#fail2banhttpszhuanlanzhihucomp33546122">#</a></h3>
<p><a href="https://github.com/fail2ban/fail2ban">Fail2Ban</a> 是一款入侵防御软件，可以保护服务器免受暴力攻击。 它是用 Python 编程语言编写的。 Fail2Ban 基于auth 日志文件工作，默认情况下它会扫描所有 auth 日志文件，如 <code>/var/log/auth.log</code>、<code>/var/log/apache/access.log</code> 等，并禁止带有恶意标志的IP，比如密码失败太多，寻找漏洞等等标志。</p>
<p>通常，Fail2Ban 用于更新防火墙规则，用于在指定的时间内拒绝 IP 地址。 它也会发送邮件通知。 Fail2Ban 为各种服务提供了许多过滤器，如 ssh、apache、nginx、squid、named、mysql、nagios 等。</p>
<p>Fail2Ban 能够降低错误认证尝试的速度，但是它不能消除弱认证带来的风险。 这只是服务器防止暴力攻击的安全手段之一。</p>
<h3 id="syncthinghttpszhuanlanzhihucomp69267020"><a href="https://zhuanlan.zhihu.com/p/69267020">Syncthing</a><a hidden class="anchor" aria-hidden="true" href="#syncthinghttpszhuanlanzhihucomp69267020">#</a></h3>
<p><a href="https://syncthing.net/">Syncthing</a>是一款开源免费跨平台的文件同步工具，是基于<strong>P2P技术</strong>实现设备间的文件同步，所以它的同步是<strong>去中心化</strong>的，即你并不需要一个服务器，故不需要担心这个中心的服务器给你带来的种种限制，而且类似于torrent协议，参与同步的设备越多，同步的速度越快。针对<strong>隐私</strong>问题，Syncthing软件只会将数据存储于个人信任的设备上，不会存储到服务器上。设备之间的通信均通过TLS进行，Syncthing还使用了完全正向保密技术来进一步保障你的数据安全。对于处于<strong>不同局域网之中</strong>的设备之间的文件同步，Syncthing也提供了支持。</p>
<h3 id="masscanhttpscloudtencentcomdeveloperarticle1707983"><a href="https://cloud.tencent.com/developer/article/1707983">masscan</a><a hidden class="anchor" aria-hidden="true" href="#masscanhttpscloudtencentcomdeveloperarticle1707983">#</a></h3>
<p><a href="https://github.com/robertdavidgraham/masscan">Masscan</a>号称是最快的互联网端口扫描器，最快可以在六分钟内扫遍互联网。</p>
<h3 id="imagemagickhttpswwwimagemagickorgscriptindexphp"><a href="https://www.imagemagick.org/script/index.php">ImageMagick</a><a hidden class="anchor" aria-hidden="true" href="#imagemagickhttpswwwimagemagickorgscriptindexphp">#</a></h3>
<p>Use ImageMagick to create, edit, compose, or convert digital images. It can read and write images in a variety of formats (over 200) including PNG, JPEG, GIF, WebP, HEIC, SVG, PDF, DPX, EXR and TIFF. ImageMagick can resize, flip, mirror, rotate, distort, shear and transform images, adjust image colors, apply various special effects, or draw text, lines, polygons, ellipses and Bézier curves.</p>
<p><a href="http://www.fmwconcepts.com/imagemagick/index.php"><strong>Fred&rsquo;s ImageMagick Scripts</strong></a></p>
<h3 id="p7ziphttpswww7-ziporg"><a href="https://www.7-zip.org/">p7zip</a><a hidden class="anchor" aria-hidden="true" href="#p7ziphttpswww7-ziporg">#</a></h3>
<p><strong>7-Zip</strong> is a file archiver with a high compression ratio.</p>
<p>p7zip 是 <a href="https://en.wikipedia.org/wiki/7zip">7-Zip</a> 的 <a href="https://en.wikipedia.org/wiki/POSIX">POSIX</a> 系统移植，支持 Linux。</p>
<p><strong>警告：</strong> 不要将7z格式用于备份目的，因为它不会保存文件的所有者/组。有关更多详细信息，请参见<a href="https://man.archlinux.org/man/7z.1">7z(1)</a>。</p>
<p>添加文件或目录至已有的存档（或创建一个新的存档）：</p>
<pre tabindex="0"><code>$ 7z a &lt;archive name&gt; &lt;file name&gt;
</code></pre><p>也可以通过参数-p设置密码，并通过标志-mhe = on隐藏存档的结构：</p>
<pre tabindex="0"><code>$ 7z a &lt;archive name&gt; &lt;file name&gt; -p -mhe=on
</code></pre><p>更新存档内已有的文件或添加新文件：</p>
<pre tabindex="0"><code>$ 7z u &lt;archive name&gt; &lt;file name&gt;
</code></pre><p>列出存档内容：</p>
<pre tabindex="0"><code>$ 7z l &lt;archive name&gt;
</code></pre><p>从存档中解压文件至当前文件夹，不使用存档内的目录结构：</p>
<pre tabindex="0"><code>$ 7z e &lt;archive name&gt;
</code></pre><p>如果需要恢复存档内的目录结构，使用：</p>
<pre tabindex="0"><code>$ 7z x &lt;archive name&gt;
</code></pre><p>解压至新的目录：</p>
<pre tabindex="0"><code>$ 7z x -o&lt;folder name&gt; &lt;archive name&gt;
</code></pre><p>校验存档完整性：</p>
<pre tabindex="0"><code>$ 7z t &lt;archive name&gt;
</code></pre><h4 id="differences-between-7z-7za-and-7zr-binarieshttpswikiarchlinuxorgtitlep7zip"><a href="https://wiki.archlinux.org/title/p7zip">Differences between 7z, 7za and 7zr binaries</a><a hidden class="anchor" aria-hidden="true" href="#differences-between-7z-7za-and-7zr-binarieshttpswikiarchlinuxorgtitlep7zip">#</a></h4>
<p>The package includes three binaries, <code>/usr/bin/7z</code>, <code>/usr/bin/7za</code>, and <code>/usr/bin/7zr</code>. Their manual pages explain the differences:</p>
<ul>
<li>7z(1) uses plugins to handle archives.</li>
<li>7za(1) is a stand-alone executable that handles fewer archive formats than 7z.</li>
<li>7zr(1) is a stand-alone executable. It is a &ldquo;light-version&rdquo; of 7za that only handles 7z archives. In contrast to 7za, it cannot handle encrypted archives.</li>
</ul>
<h4 id="分卷压缩与解压缩httpsdeveloperaliyuncomarticle506654"><a href="https://developer.aliyun.com/article/506654">分卷压缩与解压缩</a><a hidden class="anchor" aria-hidden="true" href="#分卷压缩与解压缩httpsdeveloperaliyuncomarticle506654">#</a></h4>
<h5 id="rar">rar<a hidden class="anchor" aria-hidden="true" href="#rar">#</a></h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># rar a -vSIZE  压缩后的文件名 被压缩的文件或者文件夹</span>
<span style="color:#75715e"># 最大限制为 12M</span>
$ rar a -m5 -v12m myarchive myfiles
<span style="color:#75715e">#解压</span>
$ rar e myarchive.part1.rar
</code></pre></div><h5 id="ziphttpsunixstackexchangecoma40565"><a href="https://unix.stackexchange.com/a/40565">zip</a><a hidden class="anchor" aria-hidden="true" href="#ziphttpsunixstackexchangecoma40565">#</a></h5>
<p><strong>How to unzip a multipart (spanned) ZIP on Linux?</strong></p>
<p>The Linux <code>unzip</code> utility doesn&rsquo;t really support multipart zips. From the <a href="http://manpages.ubuntu.com/manpages/precise/man1/unzip.1.html#contenttoc11">manual</a>:</p>
<blockquote>
<p>Multi-part archives are not yet supported, except in conjunction with zip. (All parts must be concatenated together in order, and then <code>zip -F</code> (for zip 2.x) or <code>zip -FF</code> (for zip 3.x) must be performed on the concatenated archive in order to “fix” it. Also, zip 3.0 and later can combine multi-part (split) archives into a combined single-file archive using <code>zip -s- inarchive -O outarchive</code>. See the <a href="http://manpages.ubuntu.com/manpages/precise/man1/zip.1.html">zip 3 manual page</a> for more information.)</p>
</blockquote>
<p>So you need to first concatenate the pieces, then repair the result. <code>cat test.zip.*</code> concatenates all the files called <code>test.zip.*</code> where the wildcard <code>*</code> stands for any sequence of characters; the files are enumerated in lexicographic order, which is the same as numerical order thanks to the leadings zeroes. <code>&gt;test.zip</code> directs the output into the file <code>test.zip</code>.</p>
<pre tabindex="0"><code>cat test.zip.* &gt; test.zip
zip -FF test.zip --out test-full.zip
unzip test-full.zip
</code></pre><p>If you created the pieces by directly splitting the zip file, as opposed to creating a multi-part zip with the official Pkzip utility, all you need to do is join the parts.</p>
<pre tabindex="0"><code>cat test.zip.* &gt; test.zip
unzip test.zip
</code></pre><p>总结：使用 <code>zip -s- inarchive -O outarchive</code>，例如：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ls
archive.zip archive.z01 archive.z02 archive.z03
$ zip -s- archive.zip -O archive-full.zip
$ unzip archive-full.zip
</code></pre></div><h5 id="tar">tar<a hidden class="anchor" aria-hidden="true" href="#tar">#</a></h5>
<p>要将目录logs打包压缩并分割成多个1M的文件，可以用下面的命令：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ tar cjf - logs/ | split -b 1m - logs.tar.bz2.
</code></pre></div><p>完成后会产生下列文件：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">logs.tar.bz2.aa, logs.tar.bz2.ab, logs.tar.bz2.ac
</code></pre></div><p>要解压的时候只要执行下面的命令就可以了：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ cat logs.tar.bz2.a* |  tar xj
</code></pre></div><h5 id="7z">7z<a hidden class="anchor" aria-hidden="true" href="#7z">#</a></h5>
<p>压缩：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ 7z a name.7z filename -v10m
</code></pre></div><p>这里a是添加文件到压缩卷，name.7z是压缩后文件,然后filename可以是文件夹或文件，-v10m是限制每个包大小不超过10m.</p>
<p>解压到当前目录：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ 7z x film.7z.001
</code></pre></div><h3 id="wudao-dicthttpsgithubcomchestnuthengwudao-dict"><a href="https://github.com/ChestnutHeng/Wudao-dict">Wudao-dict</a><a hidden class="anchor" aria-hidden="true" href="#wudao-dicthttpsgithubcomchestnuthengwudao-dict">#</a></h3>
<p>有道词典的命令行版本，支持英汉互查和在线查询。</p>
<h3 id="-ascii-image-converterhttpsgithubcomthezoraizascii-image-converter"><a href="https://github.com/TheZoraiz/ascii-image-converter"> ascii-image-converter</a><a hidden class="anchor" aria-hidden="true" href="#-ascii-image-converterhttpsgithubcomthezoraizascii-image-converter">#</a></h3>
<h3 id="ttydhttpsgithubcomtsl0922ttyd"><a href="https://github.com/tsl0922/ttyd">ttyd</a><a hidden class="anchor" aria-hidden="true" href="#ttydhttpsgithubcomtsl0922ttyd">#</a></h3>
<p>Share your terminal over the web</p>
<h3 id="progresshttpsgithubcomxfennecprogress"><a href="https://github.com/Xfennec/progress">progress</a><a hidden class="anchor" aria-hidden="true" href="#progresshttpsgithubcomxfennecprogress">#</a></h3>
<p>Linux tool to show progress for cp, mv, dd, &hellip; (formerly known as cv)</p>
<h3 id="vosk-apihttpsgithubcomalphacepvosk-api"><a href="https://github.com/alphacep/vosk-api">vosk-api</a><a hidden class="anchor" aria-hidden="true" href="#vosk-apihttpsgithubcomalphacepvosk-api">#</a></h3>
<p>Offline speech recognition API for Android, iOS, Raspberry Pi and servers with Python, Java, C# and Node</p>
<h4 id="convert-mp3-to-texthttpsaskubuntucomquestions161515speech-recognition-app-to-convert-mp3-to-text"><a href="https://askubuntu.com/questions/161515/speech-recognition-app-to-convert-mp3-to-text">convert MP3 to text</a><a hidden class="anchor" aria-hidden="true" href="#convert-mp3-to-texthttpsaskubuntucomquestions161515speech-recognition-app-to-convert-mp3-to-text">#</a></h4>
<p>The software you can use is <a href="https://github.com/alphacep/vosk-api/">Vosk-api</a>, a modern speech recognition toolkit based on neural networks. It supports 7+ languages and works on variety of platforms including RPi and mobile.</p>
<p>First you convert the file to the required format and then you recognize it:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ffmpeg -i file.mp3 -ar <span style="color:#ae81ff">16000</span> -ac <span style="color:#ae81ff">1</span> file.wav
</code></pre></div><p>Then install vosk-api with pip:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ pip3 install -i https://pypi.tuna.tsinghua.edu.cn/simple vosk
</code></pre></div><p>Then use these steps:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ git clone https://github.com/alphacep/vosk-api
$ cd vosk-api/python/example
$ curl -O http://alphacephei.com/vosk/models/vosk-model-small-en-us-0.15.zip
$ unzip vosk-model-small-en-us-0.15.zip
$ mv vosk-model-small-en-us-0.15 model
$ python3 ./test_simple.py test.wav &gt; result.json
</code></pre></div><p>The result will be stored in json format.</p>
<p>The same directory also contains an srt subtitle output example, which is easier to evaluate and can be directly useful to some users:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ python3 -m pip install srt
$ python3 ./test_srt.py test.wav
</code></pre></div><p>The example given in the repository says in perfect American English accent and perfect sound quality three sentences which I transcribe as:</p>
<pre tabindex="0"><code>one zero zero zero one
nine oh two one oh
zero one eight zero three
</code></pre><p>The &ldquo;nine oh two one oh&rdquo; is said very fast, but still clear. The &ldquo;z&rdquo; of the before last &ldquo;zero&rdquo; sounds a bit like an &ldquo;s&rdquo;.</p>
<p>The SRT generated above reads:</p>
<pre tabindex="0"><code>1
00:00:00,870 --&gt; 00:00:02,610
what zero zero zero one

2
00:00:03,930 --&gt; 00:00:04,950
no no to uno

3
00:00:06,240 --&gt; 00:00:08,010
cyril one eight zero three
</code></pre><p>so we can see that several mistakes were made, presumably in part because we have the understanding that all words are numbers to help us.</p>
<p>Next I also tried with the <code>vosk-model-en-us-0.22.zip</code> which was a 1.8G download compared to 40M of <code>vosk-model-small-en-us-0.15</code> and is listed at <a href="https://alphacephei.com/vosk/models">https://alphacephei.com/vosk/models</a>:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ mv model vosk-model-small-en-us-0.15
$ curl -O http://alphacephei.com/vosk/models/vosk-model-en-us-0.22.zip
$ unzip vosk-model-en-us-0.22.zip
$ mv vosk-model-en-us-0.22 model
</code></pre></div><p>and the result was:</p>
<pre tabindex="0"><code>1
00:00:00,840 --&gt; 00:00:02,610
one zero zero zero one

2
00:00:04,026 --&gt; 00:00:04,980
i know what you window

3
00:00:06,270 --&gt; 00:00:07,980
serial one eight zero three
</code></pre><p>which got one more word correct.</p>
<h3 id="inxihttpslinuxcnarticle-14089-1html"><a href="https://linux.cn/article-14089-1.html">inxi</a><a hidden class="anchor" aria-hidden="true" href="#inxihttpslinuxcnarticle-14089-1html">#</a></h3>
<p><code>inix</code> 是一个用于获取 Linux 系统信息的终端命令。能够获取软件和硬件的详细信息，比如计算机型号、内核版本、发行版号以及桌面环境等信息，甚至可以读取主存模块占用主板的哪块 RAM 卡槽等详细信息。</p>
<p><code>inxi</code> 还可以用于监控系统中正在消耗 CPU 或者内存资源的进程。</p>
<p>在 Ubuntu/Debian 发行版系统中，安装命令：</p>
<pre tabindex="0"><code>sudo apt install inxi
</code></pre><p>用 <code>-F</code> 参数可以获取详细的系统信息。几乎囊括了所有层次的系统信息。</p>
<pre tabindex="0"><code>inxi -F
</code></pre><h3 id="busyboxhttpslinuxcnarticle-13840-1html"><a href="https://linux.cn/article-13840-1.html">BusyBox</a><a hidden class="anchor" aria-hidden="true" href="#busyboxhttpslinuxcnarticle-13840-1html">#</a></h3>
<p><a href="https://www.busybox.net/">BusyBox</a> 是一个开源（GPL）项目，提供了近 400 个常用命令的简单实现，包括 <code>ls</code>、<code>mv</code>、<code>ln</code>、<code>mkdir</code>、<code>more</code>、<code>ps</code>、<code>gzip</code>、<code>bzip2</code>、<code>tar</code> 和 <code>grep</code>。它还包含了编程语言 <code>awk</code>、流编辑器 <code>sed</code>、文件系统检查工具 <code>fsck</code>、软件包管理器<code>rpm</code> 和 <code>dpkg</code> ，当然还有一个可以方便的访问所有这些命令的 shell（<code>sh</code>）。简而言之，它包含了所有 POSIX 系统需要的基本命令，以执行常见的系统维护任务以及许多用户和管理任务。</p>
<p>事实上，它甚至包含一个 <code>init</code> 命令，可以作为 PID 1 启动，以作为所有其它系统服务的父进程。换句话说，BusyBox 可以作为 systemd、OpenRC、sinit、init 和其他初始化系统的替代品。</p>
<p>BusyBox 非常小。作为一个可执行文件，它不到 1MB，所以它在嵌入式、边缘计算 和物联网领域很受欢迎，因为这些场景的存储空间是很宝贵的。在容器和云计算的世界里，它作为精简的 Linux 容器镜像的基础镜像也很受欢迎。</p>
<h4 id="极简主义">极简主义<a hidden class="anchor" aria-hidden="true" href="#极简主义">#</a></h4>
<p>BusyBox 的部分魅力在于它的极简主义。它的所有命令都被编译到一个二进制文件里（<code>busybox</code>），它的手册只有 81 页（根据我对 <code>man</code> 送到 <code>pr</code> 管道的计算），但它涵盖了近 400 条命令。</p>
<p>作为一个例子的比较，这是 “原版” 的 <code>useradd —help</code> 的输出：</p>
<pre tabindex="0"><code>-b, --base-dir BASE_DIR       base directory for home
 -c, --comment COMMENT         GECOS field of the new account
 -d, --home-dir HOME_DIR       home directory of the new account
 -D, --defaults                print or change the default config
 -e, --expiredate EXPIRE_DATE  expiration date of the new account
 -f, --inactive INACTIVE       password inactivity
 -g, --gid GROUP               name or ID of the primary group
 -G, --groups GROUPS           list of supplementary groups
 -h, --help                    display this help message and exit
 -k, --skel SKEL_DIR           alternative skeleton dir
 -K, --key KEY=VALUE           override /etc/login.defs
 -l, --no-log-init             do not add the user to the lastlog
 -m, --create-home             create the user's home directory
 -M, --no-create-home          do not create the user's home directory
 -N, --no-user-group           do not create a group with the user's name
 -o, --non-unique              allow users with non-unique UIDs
 -p, --password PASSWORD       encrypted password of the new account
 -r, --system                  create a system account
 -R, --root CHROOT_DIR         directory to chroot into
 -s, --shell SHELL             login shell of the new account
 -u, --uid UID                 user ID of the new account
 -U, --user-group              create a group with the same name as a user
</code></pre><p>而这是是同一命令的 BusyBox 版本：</p>
<pre tabindex="0"><code>-h DIR    Home directory
 -g GECOS  GECOS field
 -s SHELL  Login shell
 -G GRP    Group
 -S            Create a system user
 -D            Don't assign a password
 -H            Don't create home directory
 -u UID    User id
 -k SKEL   Skeleton directory (/etc/skel)
</code></pre><p>这种差异是一种特性还是一种限制，取决于你是喜欢你的命令拥有 20 个选项还是 10 个选项。对于一些用户和某些用例来说，BusyBox 的极简主义刚刚满足所需。对于其他人来说，它是一个很好的最小化环境，可以作为一个后备工具，或者作为安装更强大的工具的基础，比如 Bash、Zsh、GNU Awk 等等。</p>
<h3 id="lynishttpslinuxcnarticle-12696-1html"><a href="https://linux.cn/article-12696-1.html">Lynis</a><a hidden class="anchor" aria-hidden="true" href="#lynishttpslinuxcnarticle-12696-1html">#</a></h3>
<blockquote>
<p>使用这个全面的开源安全审计工具检查你的 Linux 机器的安全性。</p>
</blockquote>
<p>你有没有想过你的 Linux 机器到底安全不安全？Linux 发行版众多，每个发行版都有自己的默认设置，你在上面运行着几十个版本各异的软件包，还有众多的服务在后台运行，而我们几乎不知道或不关心这些。</p>
<p>要想确定安全态势（指你的 Linux 机器上运行的软件、网络和服务的整体安全状态），你可以运行几个命令，得到一些零碎的相关信息，但你需要解析的数据量是巨大的。</p>
<p>如果能运行一个工具，生成一份关于机器安全状况的报告，那就好得多了。而幸运的是，有一个这样的软件：<a href="https://github.com/CISOfy/lynis">Lynis</a>。它是一个非常流行的开源安全审计工具，可以帮助强化基于 Linux 和 Unix 的系统。根据该项目的介绍：</p>
<blockquote>
<p>“它运行在系统本身，可以进行深入的安全扫描。主要目标是测试安全防御措施，并提供进一步强化系统的提示。它还将扫描一般系统信息、易受攻击的软件包和可能的配置问题。Lynis 常被系统管理员和审计人员用来评估其系统的安全防御。”</p>
</blockquote>
<h4 id="安装-lynis">安装 Lynis<a hidden class="anchor" aria-hidden="true" href="#安装-lynis">#</a></h4>
<p>你的 Linux 软件仓库中可能有 Lynis。如果有的话，你可以用以下方法安装它：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo apt install lynis
</code></pre></div><p>然而，如果你的仓库中的版本不是最新的，你最好从 GitHub 上安装它。事实上，Lynis 主要是用 shell 脚本来实现的。</p>
<h4 id="运行-lynis">运行 Lynis<a hidden class="anchor" aria-hidden="true" href="#运行-lynis">#</a></h4>
<p>通过给 Lynis 一个 <code>-h</code> 选项来查看帮助部分，以便有个大概了解：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo lynis -h
</code></pre></div><p>你会看到一个简短的信息屏幕，然后是 Lynis 支持的所有子命令。</p>
<p>接下来，尝试一些测试命令以大致熟悉一下。要查看你正在使用的 Lynis 版本，请运行：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo lynis show version
3.0.0
</code></pre></div><p>要查看 Lynis 中所有可用的命令：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo lynis show commands
Commands:
lynis audit
lynis configure
lynis generate
lynis show
lynis update
lynis upload-only
</code></pre></div><h4 id="审计-linux-系统">审计 Linux 系统<a hidden class="anchor" aria-hidden="true" href="#审计-linux-系统">#</a></h4>
<p>要审计你的系统的安全态势，运行以下命令：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo lynis audit system
</code></pre></div><p>这个命令运行得很快，并会返回一份详细的报告，输出结果可能一开始看起来很吓人，但我将在下面引导你来阅读它。这个命令的输出也会被保存到一个日志文件中，所以你可以随时回过头来检查任何可能感兴趣的东西。</p>
<p>Lynis 将日志保存在这里：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">  Files:
  - Test and debug information      : /var/log/lynis.log
  - Report data                     : /var/log/lynis-report.dat
</code></pre></div><p>你可以验证是否创建了日志文件。它确实创建了：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ls -l /var/log/lynis.log
-rw-r-----. <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">341489</span> Apr <span style="color:#ae81ff">30</span> 05:52 /var/log/lynis.log

$ ls -l /var/log/lynis-report.dat
-rw-r-----. <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">638</span> Apr <span style="color:#ae81ff">30</span> 05:55 /var/log/lynis-report.dat
</code></pre></div><h4 id="探索报告">探索报告<a hidden class="anchor" aria-hidden="true" href="#探索报告">#</a></h4>
<p>Lynis 提供了相当全面的报告，所以我将介绍一些重要的部分。作为初始化的一部分，Lynis 做的第一件事就是找出机器上运行的操作系统的完整信息。之后是检查是否安装了什么系统工具和插件：</p>
<pre tabindex="0"><code>[+] Initializing program
------------------------------------
  - Detecting OS...                                           [ DONE ]
  - Checking profiles...                                      [ DONE ]
  ---------------------------------------------------
  Program version:           3.0.0
  Operating system:          Linux
  Operating system name:     Red Hat Enterprise Linux Server 7.8 (Maipo)
  Operating system version:  7.8
  Kernel version:            3.10.0
  Hardware platform:         x86_64
  Hostname:                  example
  ---------------------------------------------------
&lt;&lt;截断&gt;&gt;
[+] System Tools
------------------------------------
  - Scanning available tools...
  - Checking system binaries...
[+] Plugins (phase 1)
------------------------------------
 Note: plugins have more extensive tests and may take several minutes to complete

  - Plugin: pam
    [..]
  - Plugin: systemd
    [................]
</code></pre><p>接下来，该报告被分为不同的部分，每个部分都以 <code>[+]</code> 符号开头。下面可以看到部分章节。（哇，要审核的地方有这么多，Lynis 是最合适的工具！）</p>
<pre tabindex="0"><code>[+] Boot and services
[+] Kernel
[+] Memory and Processes
[+] Users, Groups and Authentication
[+] Shells
[+] File systems
[+] USB Devices
[+] Storage
[+] NFS
[+] Name services
[+] Ports and packages
[+] Networking
[+] Printers and Spools
[+] Software: e-mail and messaging
[+] Software: firewalls
[+] Software: webserver
[+] SSH Support
[+] SNMP Support
[+] Databases
[+] LDAP Services
[+] PHP
[+] Squid Support
[+] Logging and files
[+] Insecure services
[+] Banners and identification
[+] Scheduled tasks
[+] Accounting
[+] Time and Synchronization
[+] Cryptography
[+] Virtualization
[+] Containers
[+] Security frameworks
[+] Software: file integrity
[+] Software: System tooling
[+] Software: Malware
[+] File Permissions
[+] Home directories
[+] Kernel Hardening
[+] Hardening
[+] Custom tests
</code></pre><p>Lynis 使用颜色编码使报告更容易解读。</p>
<ul>
<li>绿色。一切正常</li>
<li>黄色。跳过、未找到，可能有个建议</li>
<li>红色。你可能需要仔细看看这个</li>
</ul>
<p>在我的案例中，大部分的红色标记都是在 “Kernel Hardening” 部分找到的。内核有各种可调整的设置，它们定义了内核的功能，其中一些可调整的设置可能有其安全场景。发行版可能因为各种原因没有默认设置这些，但是你应该检查每一项，看看你是否需要根据你的安全态势来改变它的值：</p>
<pre tabindex="0"><code>[+] Kernel Hardening
------------------------------------
  - Comparing sysctl key pairs with scan profile
    - fs.protected_hardlinks (exp: 1)                         [ OK ]
    - fs.protected_symlinks (exp: 1)                          [ OK ]
    - fs.suid_dumpable (exp: 0)                               [ OK ]
    - kernel.core_uses_pid (exp: 1)                           [ OK ]
    - kernel.ctrl-alt-del (exp: 0)                            [ OK ]
    - kernel.dmesg_restrict (exp: 1)                          [ DIFFERENT ]
    - kernel.kptr_restrict (exp: 2)                           [ DIFFERENT ]
    - kernel.randomize_va_space (exp: 2)                      [ OK ]
    - kernel.sysrq (exp: 0)                                   [ DIFFERENT ]
    - kernel.yama.ptrace_scope (exp: 1 2 3)                   [ DIFFERENT ]
    - net.ipv4.conf.all.accept_redirects (exp: 0)             [ DIFFERENT ]
    - net.ipv4.conf.all.accept_source_route (exp: 0)          [ OK ]
    - net.ipv4.conf.all.bootp_relay (exp: 0)                  [ OK ]
    - net.ipv4.conf.all.forwarding (exp: 0)                   [ OK ]
    - net.ipv4.conf.all.log_martians (exp: 1)                 [ DIFFERENT ]
    - net.ipv4.conf.all.mc_forwarding (exp: 0)                [ OK ]
    - net.ipv4.conf.all.proxy_arp (exp: 0)                    [ OK ]
    - net.ipv4.conf.all.rp_filter (exp: 1)                    [ OK ]
    - net.ipv4.conf.all.send_redirects (exp: 0)               [ DIFFERENT ]
    - net.ipv4.conf.default.accept_redirects (exp: 0)         [ DIFFERENT ]
    - net.ipv4.conf.default.accept_source_route (exp: 0)      [ OK ]
    - net.ipv4.conf.default.log_martians (exp: 1)             [ DIFFERENT ]
    - net.ipv4.icmp_echo_ignore_broadcasts (exp: 1)           [ OK ]
    - net.ipv4.icmp_ignore_bogus_error_responses (exp: 1)     [ OK ]
    - net.ipv4.tcp_syncookies (exp: 1)                        [ OK ]
    - net.ipv4.tcp_timestamps (exp: 0 1)                      [ OK ]
    - net.ipv6.conf.all.accept_redirects (exp: 0)             [ DIFFERENT ]
    - net.ipv6.conf.all.accept_source_route (exp: 0)          [ OK ]
    - net.ipv6.conf.default.accept_redirects (exp: 0)         [ DIFFERENT ]
    - net.ipv6.conf.default.accept_source_route (exp: 0)      [ OK ]
</code></pre><p>看看 SSH 这个例子，因为它是一个需要保证安全的关键领域。这里没有什么红色的东西，但是 Lynis 对我的环境给出了很多强化 SSH 服务的建议：</p>
<pre tabindex="0"><code>[+] SSH Support
------------------------------------
  - Checking running SSH daemon                               [ FOUND ]
    - Searching SSH configuration                             [ FOUND ]
    - OpenSSH option: AllowTcpForwarding                      [ SUGGESTION ]
    - OpenSSH option: ClientAliveCountMax                     [ SUGGESTION ]
    - OpenSSH option: ClientAliveInterval                     [ OK ]
    - OpenSSH option: Compression                             [ SUGGESTION ]
    - OpenSSH option: FingerprintHash                         [ OK ]
    - OpenSSH option: GatewayPorts                            [ OK ]
    - OpenSSH option: IgnoreRhosts                            [ OK ]
    - OpenSSH option: LoginGraceTime                          [ OK ]
    - OpenSSH option: LogLevel                                [ SUGGESTION ]
    - OpenSSH option: MaxAuthTries                            [ SUGGESTION ]
    - OpenSSH option: MaxSessions                             [ SUGGESTION ]
    - OpenSSH option: PermitRootLogin                         [ SUGGESTION ]
    - OpenSSH option: PermitUserEnvironment                   [ OK ]
    - OpenSSH option: PermitTunnel                            [ OK ]
    - OpenSSH option: Port                                    [ SUGGESTION ]
    - OpenSSH option: PrintLastLog                            [ OK ]
    - OpenSSH option: StrictModes                             [ OK ]
    - OpenSSH option: TCPKeepAlive                            [ SUGGESTION ]
    - OpenSSH option: UseDNS                                  [ SUGGESTION ]
    - OpenSSH option: X11Forwarding                           [ SUGGESTION ]
    - OpenSSH option: AllowAgentForwarding                    [ SUGGESTION ]
    - OpenSSH option: UsePrivilegeSeparation                  [ OK ]
    - OpenSSH option: AllowUsers                              [ NOT FOUND ]
    - OpenSSH option: AllowGroups                             [ NOT FOUND ]
</code></pre><p>我的系统上没有运行虚拟机或容器，所以这些显示的结果是空的：</p>
<pre tabindex="0"><code>[+] Virtualization
------------------------------------
[+] Containers
------------------------------------
</code></pre><p>Lynis 会检查一些从安全角度看很重要的文件的文件权限：</p>
<pre tabindex="0"><code>[+] File Permissions
------------------------------------
  - Starting file permissions check
    File: /boot/grub2/grub.cfg                                [ SUGGESTION ]
    File: /etc/cron.deny                                      [ OK ]
    File: /etc/crontab                                        [ SUGGESTION ]
    File: /etc/group                                          [ OK ]
    File: /etc/group-                                         [ OK ]
    File: /etc/hosts.allow                                    [ OK ]
    File: /etc/hosts.deny                                     [ OK ]
    File: /etc/issue                                          [ OK ]
    File: /etc/issue.net                                      [ OK ]
    File: /etc/motd                                           [ OK ]
    File: /etc/passwd                                         [ OK ]
    File: /etc/passwd-                                        [ OK ]
    File: /etc/ssh/sshd_config                                [ OK ]
    Directory: /root/.ssh                                     [ SUGGESTION ]
    Directory: /etc/cron.d                                    [ SUGGESTION ]
    Directory: /etc/cron.daily                                [ SUGGESTION ]
    Directory: /etc/cron.hourly                               [ SUGGESTION ]
    Directory: /etc/cron.weekly                               [ SUGGESTION ]
    Directory: /etc/cron.monthly                              [ SUGGESTION ]
</code></pre><p>在报告的底部，Lynis 根据报告的发现提出了建议。每项建议后面都有一个 “TEST-ID”（为了下一部分方便，请将其保存起来）。</p>
<pre tabindex="0"><code>Suggestions (47):
  ----------------------------
  * If not required, consider explicit disabling of core dump in /etc/security/limits.conf file [KRNL-5820]
      https://cisofy.com/lynis/controls/KRNL-5820/
  * Check PAM configuration, add rounds if applicable and expire passwords to encrypt with new values [AUTH-9229]
      https://cisofy.com/lynis/controls/AUTH-9229/
</code></pre><p>Lynis 提供了一个选项来查找关于每个建议的更多信息，你可以使用 <code>show details</code> 命令和 TEST-ID 号来访问：</p>
<pre tabindex="0"><code>$ sudo lynis show details TEST-ID
</code></pre><p>这将显示该测试的其他信息。例如，我检查了 SSH-7408 的详细信息：</p>
<pre tabindex="0"><code>$ sudo lynis show details SSH-7408
2020-04-30 05:52:23 Performing test ID SSH-7408 (Check SSH specific defined options)
2020-04-30 05:52:23 Test: Checking specific defined options in /tmp/lynis.k8JwazmKc6
2020-04-30 05:52:23 Result: added additional options for OpenSSH &lt; 7.5
2020-04-30 05:52:23 Test: Checking AllowTcpForwarding in /tmp/lynis.k8JwazmKc6
2020-04-30 05:52:23 Result: Option AllowTcpForwarding found
2020-04-30 05:52:23 Result: Option AllowTcpForwarding value is YES
2020-04-30 05:52:23 Result: OpenSSH option AllowTcpForwarding is in a weak configuration state and should be fixed
2020-04-30 05:52:23 Suggestion: Consider hardening SSH configuration [test:SSH-7408] [details:AllowTcpForwarding (set YES to NO)] [solution:-]
</code></pre><h4 id="试试吧">试试吧<a hidden class="anchor" aria-hidden="true" href="#试试吧">#</a></h4>
<p>如果你想更多地了解你的 Linux 机器的安全性，请试试 Lynis。如果你想了解 Lynis 是如何工作的，可以研究一下它的 shell 脚本，看看它是如何收集这些信息的。</p>
<h4 id="how-can-i-protect-against-single-user-modehttpsaskubuntucomquestions1011368how-can-i-protect-against-single-user-mode"><a href="https://askubuntu.com/questions/1011368/how-can-i-protect-against-single-user-mode">How can I protect against single user mode</a><a hidden class="anchor" aria-hidden="true" href="#how-can-i-protect-against-single-user-modehttpsaskubuntucomquestions1011368how-can-i-protect-against-single-user-mode">#</a></h4>
<p><strong>Potential Attacks</strong></p>
<p><strong>Single User Mode</strong></p>
<p>This is the easiest way to gain unauthorised access to a Linux system is to boot the server into Single User Mode because it does not, by default, require a root password to gain root level access. Single User Mood can be accessed by power cycling the machine and interrupting the boot process. To boot into single user mode where the GRUB bootloader is used perform the following; interrupt the boot process, press e to edit the boot configuration file, append to the line starting <code>Linux</code> one of either <code>s, S, 1 or systemd. unit=[rescue.target, emergency.target, rescue]</code> to change the argument being passed to the kernel during boot to boot into Single User Mode, then press ctrl+x.</p>
<p><strong>Protecting Against Single User Mode</strong></p>
<p><strong>For a traditional init based system</strong></p>
<p>As root edit the file <code>/etc/sysconfig/init</code> then on the line <code>SINGLE=/sbin/sushell</code> change sushell TO <code>sulogin</code>.</p>
<p><strong>For a systemd based system</strong></p>
<p>The target configuration need to be altered for the root password to be prompted for. The targets are located in <code>/lib/systemd/system</code> the files which need alteration are <code>emergency.service</code> and <code>rescue.service</code>. Alter the line starting <code>ExecStart=-/bin/sh –c “/usr/sbin/sushell; ……”</code> and change the <code>/usr/sbin/sushell</code> to<code>/usr/sbin/sulogin</code> in both <code>emergency.service</code> and <code>rescue.service</code>.</p>
<p><strong>To check this has taken affect</strong></p>
<p>Then save changes and reboot to confirm the alteration has taken affect, if the alteration was success when booting into single user mode it shall ask for the root password.</p>
<p><strong>Root Password</strong></p>
<p>By default, some Linux distributions do not have root password sets, this can be checked by running the command <code>head -1 /etc/shadow</code> and if the second column, using a colon as a delimiter, is an exclamation mark then no password has been set. If no root password is set, then regardless of if the system is set to prompt for a password for Single User Mode or not it will just load root access.</p>
<p><strong>Securing Bootloader</strong></p>
<p>Insecure bootloaders can result in the bootloader being bypassed completely and a shell being used to gain direct root level access to the system. This is done by interrupting the GRUB boot process and appending <code>init=/bin/bas</code> to the line beginning <code>linux16</code>. This will tell the kernel to use bash instead of init.</p>
<p><strong>Protecting against bootloader side loading</strong></p>
<p>The GRUB bootloader can be password protected by placing the configuration in /etc/grub.d/40_custom file because this file will remain un touched by updates and upgrades to the boot loader. In <code>/etc/grub.d/40_custom</code> add <code>set superusers=”admin”</code> then password admin after that save and exit the file and run the following command <code>grub2-mkpasswd-…</code> (allow tab completion to finish this command so that the system compatible script is run) the output of this command from grub2. Onwards need to be added to the end of the line <code>password admin</code> in <code>/etc/grub.d/40_custom</code>. After that the grub file need to be recompiled by running the command <code>grub2-mkconfig –o /boot/grub2/grub.cfg</code> for centos or <code>update-grub¬</code> on debian.</p>
<p><strong>To check this has taken affect</strong></p>
<p>Then save changes and reboot to confirm the alteration has taken affect, if the alteration was success when booting and wanting to change the grub setting you will need to supply the username admin and the encrypted password.</p>
<p><strong>Protecting Against Recovery Attack</strong></p>
<p>These measures can aid in protection however, if a disk is used the recover Linux feature on the disk can be used to mount the file system and alter the GRUB setting from the disk. To protect against make any removable media have a lower boot priority than the boot drive and password protect the BIOS and boot option menu to stop someone who hasn’t got access altering the boot order and booting into a disk to make changes to the system.</p>
<h3 id="checkinstallhttpslinuxcnarticle-4090-1html"><a href="https://linux.cn/article-4090-1.html">CheckInstall</a><a hidden class="anchor" aria-hidden="true" href="#checkinstallhttpslinuxcnarticle-4090-1html">#</a></h3>
<p>如果你已经从它的源码运行“make  install”安装了linux程序。想完整移除它将变得真的很麻烦，除非程序的开发者在Makefile里提供了uninstall的目标设置。否则你必须在安装前后比较你系统里文件的完整列表，然后手工移除所有在安装过程中加入的文件。</p>
<p>这时候Checkinstall就可以派上使用。Checkinstall会跟踪install命令行所创建或修改的所有文件的路径(例如：“make install”、“make  install_modules”等)并建立一个标准的二进制包，让你能用你发行版的标准包管理系统安装或卸载它，请参考其<a href="http://checkinstall.izto.org/">官方文档</a>。</p>
<p>安装Checkinstall：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># apt install checkinstall </span>
</code></pre></div><p>一旦checkinstall安装好，你就可以用下列格式创建一个特定的软件包</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># checkinstall &lt;install-command&gt; </span>
</code></pre></div><p>如果没有参数，默认安装命令“make install”将被使用。</p>
<p>在这个例子里，我们将创建一个htop包，这是一个linux交互式文本模式进程查看器（类似 top）。</p>
<p>首先，让我们从项目的官方网站下载源代码，作为一个好的习惯，我们存储源码包到/usr/local/src下，并解压它。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># cd /usr/local/src</span>
<span style="color:#75715e"># wget http://hisham.hm/htop/releases/1.0.3/htop-1.0.3.tar.gz</span>
<span style="color:#75715e"># tar xzf htop-1.0.3.tar.gz</span>
<span style="color:#75715e"># cd htop-1.0.3 </span>
</code></pre></div><p>让我们看看htop的安装命令是什么，以便我们能用Checkinstall命令调用它，如下面所示，htop用“make install”命令安装。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># ./configure</span>
<span style="color:#75715e"># make install </span>
</code></pre></div><p>因此，要创建一个htop安装包，我们可以不带任何参数的调用checkinstall，这将使用“make install”命令创建一个包。在这个过程中， checkinstall命令会问你几个问题。</p>
<p>简而言之，如下命令会创建一个htop包：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># ./configure</span>
<span style="color:#75715e"># checkinstall </span>
</code></pre></div><p>然后checkinstall将根据你的linux系统是什么，自动地创建一个.rpm或者.deb包。</p>
<h3 id="gksudokdesudohttpsaskubuntucomquestions11760what-is-the-difference-between-gksudo-nautilus-and-sudo-nautilus"><a href="https://askubuntu.com/questions/11760/what-is-the-difference-between-gksudo-nautilus-and-sudo-nautilus">gksudo/kdesudo</a><a hidden class="anchor" aria-hidden="true" href="#gksudokdesudohttpsaskubuntucomquestions11760what-is-the-difference-between-gksudo-nautilus-and-sudo-nautilus">#</a></h3>
<p>Taken from <a href="https://help.ubuntu.com/community/RootSudo#Graphical_sudo">here</a>:</p>
<blockquote>
<p>You should <strong>never</strong> use normal <code>sudo</code> to start graphical applications as root. You should use <code>gksudo</code> (<code>kdesudo</code> on Kubuntu) to run such programs. <code>gksudo</code> sets <code>HOME=/root</code>, and copies <code>.Xauthority</code> to a <code>tmp</code> directory. This prevents files in your home directory becoming owned by root.</p>
</blockquote>
<p>Please note that this is primarily about <em>configuration files</em>. If you run Nautilus as <code>root</code>, even with <code>gksu</code>/<code>gksudo</code>, and you create a file or folder anywhere with it (including in your home directory), that file or folder will be owned by <code>root</code>. But if you run Nautilus (or most other graphical applications) as <code>root</code> with <code>sudo</code>, they may save their <em>configuration files</em> in your home directory (rather than <code>root</code>&rsquo;s home directory). Those configuration files may be owned by <code>root</code> and inaccessible when you&rsquo;re not running as root, which can severely mess up your settings, and may even keep some applications from working altogether.</p>
<p>The solution, once you have made this mistake, is to find the configuration files and delete them or <a href="http://manpages.ubuntu.com/manpages/precise/en/man1/chown.1.html"><code>chown</code></a> them back to belonging your non-<code>root</code> user. Many such files start with a <code>.</code> or are contained in a directory that starts with a <code>.</code>. Some are located inside the <code>.config</code> folder in your home directory. To see files and folders that start with a <code>.</code> in Nautilus, press Ctrl+H (this <em>shows hidden files</em>.) To see them with <a href="http://manpages.ubuntu.com/manpages/precise/en/man1/ls.1.html"><code>ls</code></a>, use the <code>-a</code> (or <code>-A</code>) flag.</p>
<p>To find if there are files not owned by you in your home directory, you can use the following command in a terminal:</p>
<pre tabindex="0"><code>find $HOME -not -user $USER -exec ls -lad {} \;
</code></pre><p>which will list all files under the home directory not owned by the user.</p>
<h3 id="manhttpslinuxcnarticle-13478-1html"><a href="https://linux.cn/article-13478-1.html">man</a><a hidden class="anchor" aria-hidden="true" href="#manhttpslinuxcnarticle-13478-1html">#</a></h3>
<p>手册页（man pages），即参考手册页（reference manual pages）的简称，是你进入 Linux 的钥匙。你想知道的一切都在那里，包罗万象。这套文档永远不会赢得普利策奖，但这套文档是相当准确和完整的。手册页是主要信源，其权威性是众所周知的。</p>
<p>虽然它们是源头，但阅读起来并不是最令人愉快的。有一次，在很久以前的哲学课上，有人告诉我，阅读 <a href="https://www.britannica.com/biography/Aristotle">亚里士多德</a> 是最无聊的阅读。我不同意：说到枯燥的阅读，亚里士多德远远地排在第二位，仅次于手册页。</p>
<p>乍一看，这些页面可能看起来并不完整，但是，不管你信不信，手册页并不是为了隐藏信息 —— 只是因为信息量太大，这些页面必须要有结构，而且信息是以尽可能简短的形式给出的。这些解释相当简略，需要一些时间来适应，但一旦你掌握了使用它们的技巧，你就会发现它们实际上是多么有用。</p>
<h4 id="入门">入门<a hidden class="anchor" aria-hidden="true" href="#入门">#</a></h4>
<p>这些页面是通过一个叫做 <code>man</code> 的工具查看的，使用它的命令相当简单。在最简单的情况下，要使用 <code>man</code>，你要在命令行上输入 <code>man</code>，后面加一个空格和你想查询的命令，比如 <code>ls</code> 或 <code>cp</code>，像这样：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">man ls
</code></pre></div><p><code>man</code> 会打开 <code>ls</code> 命令的手册页。</p>
<p>你可以用方向键上下移动，按 <code>q</code> 退出查看手册页。通常情况下，手册页是用 <code>less</code> 打开的，所以 <code>less</code> 命令的键盘快捷键在 <code>man</code> 中也可以使用。</p>
<p>例如，你可以用 <code>/search_term</code> 来搜索一个特定的文本，等等。</p>
<p>有一个关于手册页的介绍，这是一篇值得阅读介绍。它非常详细地说明了手册页是如何布局和组织的。</p>
<p>要看这个页面，请打开一个终端，然后输入：</p>
<pre tabindex="0"><code>man man
</code></pre><h4 id="节">节<a hidden class="anchor" aria-hidden="true" href="#节">#</a></h4>
<p>在你开始更深入地研究手册页之前，知道手册页有一个固定的页面布局和一个归档方案会有帮助。这可能会让新手感到困惑，因为我可以说：“看手册页中关于 <code>ls</code> 的 NAME 节（section）”，我也可以说：“看第 5 节（section）中的 <code>passwd</code> 的手册页。”</p>
<p>这个词，“节（section）” 被用于两种不同的方式，但并不总是向新人解释其中的区别。</p>
<p>我不确定为什么会出现这种混淆，但我在培训新用户和初级系统管理员时看到过几次这种混淆。我认为这可能是隧道视野，专注于一件事会使一个人忘记另一件事。一叶障目，不见泰山。</p>
<p>对于那些已经知道其中的区别的人，你可以跳过这一小节。这一部分是针对那些刚接触到手册页的人。</p>
<p>这就是区别：</p>
<p><strong>对于手册页</strong></p>
<p>单独的手册页是用来显示信息块的。例如，每个手册页都有一个“NAME”节，显示命令的名称和简短的描述。还会有另一个信息块，称为“SYNOPSIS”，显示该命令是如何使用的，以此类推。</p>
<p>每个手册页都会有这些，以及其他的标题。这些在各个手册页上的节，或者说标题，有助于保持事情的一致性和信息的分工。</p>
<p><strong>对于手册</strong></p>
<p>使用“节”，如 “查看第 5 节中的 <code>passwd</code> 的手册页”，是指整个手册的内容。当我们只看一页时，很容易忽略这一点，但是 <code>passwd</code> 手册页是同一本手册的一部分，该手册还有 <code>ls</code>、<code>rm</code>、<code>date</code>、<code>cal</code> 等的手册页。</p>
<p>整个 Linux 手册是巨大的；它有成千上万的手册页。其中一些手册页有专门的信息。有些手册页有程序员需要的信息，有些手册页有网络方面的独特信息，还有一些是系统管理员会感兴趣的。</p>
<p>这些手册页根据其独特的目的被分组。想想看，把整个手册分成几个章节 —— 每章有一个特定的主题。有 9 个左右的章节（非常大的章节）。碰巧的是，这些章节被称为“节”。</p>
<p>总结一下：</p>
<ul>
<li>手册中单页（我们称之为“手册页”）的节是由标题定义的信息块。</li>
<li>这个大的手册（所有页面的集合）中的章节，刚好被称为“节”。</li>
</ul>
<p>现在你知道区别了，希望本文的其余部分会更容易理解。</p>
<h4 id="手册页的节">手册页的节<a hidden class="anchor" aria-hidden="true" href="#手册页的节">#</a></h4>
<p>你将会看到不同的手册页，所以让我们先研究一下各个页面的布局。</p>
<p>手册页被分成几个标题，它们可能因提供者不同而不同，但会有相似之处。一般的分类如下：</p>
<ul>
<li><code>NAME</code>（名称）</li>
<li><code>SYNOPSIS</code>（概要）</li>
<li><code>DESCRIPTION</code>（描述）</li>
<li><code>EXAMPLES</code>（例子）</li>
<li><code>DIAGNOSTICS</code>（诊断）</li>
<li><code>FILES</code>（文件）</li>
<li><code>LIMITS</code>（限制）</li>
<li><code>PORTABILITY</code>（可移植性）</li>
<li><code>SEE ALSO</code>（另见）</li>
<li><code>HISTORY</code>（历史）</li>
<li><code>WARNING</code>（警告）或<code>BUGS</code>（错误）</li>
<li><code>NOTES</code>（注意事项）</li>
</ul>
<p><code>NAME</code> - 在这个标题下是命令的名称和命令的简要描述。</p>
<p><code>SYNOPSIS</code> - 显示该命令的使用方法。例如，这里是 <code>cal</code> 命令的概要：</p>
<pre tabindex="0"><code>cal [Month] [Year]
</code></pre><p>概要以命令的名称开始，后面是选项列表。概要采用命令行的一般形式；它显示了你可以输入的内容和参数的顺序。方括号中的参数（<code>[]</code>）是可选的；你可以不输入这些参数，命令仍然可以正常工作。不在括号内的项目必须使用。</p>
<p>请注意，方括号只是为了便于阅读。当你输入命令时，不应该输入它们。</p>
<p><code>DESCRIPTION</code> - 描述该命令或工具的作用以及如何使用它。这一节通常以对概要的解释开始，并说明如果你省略任何一个可选参数会发生什么。对于长的或复杂的命令，这一节可能会被细分。</p>
<p><code>EXAMPLES</code> - 一些手册页提供了如何使用命令或工具的例子。如果有这一节，手册页会尝试给出一些简单的使用例子，以及更复杂的例子来说明如何完成复杂的任务。</p>
<p><code>DIAGNOSTICS</code> - 本节列出了由命令或工具返回的状态或错误信息。通常不显示不言自明的错误和状态信息。通常会列出可能难以理解的信息。</p>
<p><code>FILES</code> - 本节包含了 UNIX 用来运行这个特定命令的补充文件的列表。这里，“补充文件”是指没有在命令行中指定的文件。例如，如果你在看 <code>passwd</code> 命令的手册，你可能会发现 <code>/etc/passwd</code> 列在这一节中，因为 UNIX 是在这里存储密码信息。</p>
<p><code>LIMITS</code> - 本节描述了一个工具的限制。操作系统和硬件的限制通常不会被列出，因为它们不在工具的控制范围内。</p>
<p><code>PORTABILITY</code> - 列出其他可以使用该工具的系统，以及该工具的其他版本可能有什么不同。</p>
<p><code>SEE ALSO</code> - 列出包含相关信息的相关手册页。</p>
<p><code>HISTORY</code> - 提供命令的简要历史，如它第一次出现的时间。</p>
<p><code>WARNING</code> - 如果有这个部分，它包含了对用户的重要建议。</p>
<p><code>NOTES</code> - 不像警告那样严重，但也是重要的信息。</p>
<p>同样，并不是所有的手册都使用上面列出的确切标题，但它们足够接近，可以遵循。</p>
<h4 id="手册的节">手册的节<a hidden class="anchor" aria-hidden="true" href="#手册的节">#</a></h4>
<p>整个 Linux 手册集合的手册页传统上被划分为有编号的节：</p>
<ul>
<li><strong>第 1 节</strong>：Shell 命令和应用程序</li>
<li><strong>第 2 节</strong>：基本内核服务 - 系统调用和错误代码</li>
<li><strong>第 3 节</strong>：为程序员提供的库信息</li>
<li><strong>第 4 节</strong>：网络服务 - 如果安装了 TCP/IP 或 NFS 设备驱动和网络协议</li>
<li><strong>第 5 节</strong>：文件格式 - 例如：显示 <code>tar</code> 存档的样子</li>
<li><strong>第 6 节</strong>：游戏</li>
<li><strong>第 7 节</strong>：杂项文件和文档</li>
<li><strong>第 8 节</strong>：系统管理和维护命令</li>
<li><strong>第 9 节</strong>：不知名的内核规格和接口</li>
</ul>
<p>将手册页分成这些组，可以使搜索更有效率。在我工作的地方，我有时会做一些编程工作，所以我花了一点时间看第 3 节的手册页。我也做一些网络方面的工作，所以我也知道要涉足网络部分。作为几个实验性机器的系统管理员，我在第 8 节花了很多时间。</p>
<p>将手册网归入特定的节（章节），使搜索信息更加容易 —— 无论是对需要搜索的人，还是对进行搜索的机器。</p>
<p>你可以通过名称旁边的数字来判断哪个手册页属于哪个部分。例如，如果你正在看 <code>ls</code> 的手册页，而页面的最上面写着。 <code>LS(1)</code>，那么你正在浏览第 1 节中的 <code>ls</code> 页面，该节包含关于 shell 命令和应用程序的页面。</p>
<p>下面是另一个例子。如果你在看 <code>passwd</code> 的手册页，页面的顶部显示: <code>PASSWD(1)</code>，说明你正在阅读第 1 节中描述 <code>passwd</code> 命令如何更改用户账户密码的手册页。如果你看到 <code>PASSWD(5)</code>，那么你正在阅读关于密码文件和它是如何组成的的手册页。</p>
<p><code>passwd</code> 恰好是两个不同的东西：一个是命令的名称，一个是文件的名称。同样，第 1 节描述了命令，而第 5 节涉及文件格式。</p>
<p>括号中的数字是重要的线索 —— 这个数字告诉你正在阅读的页面来自哪一节。</p>
<h4 id="搜索一个特定的节">搜索一个特定的节<a hidden class="anchor" aria-hidden="true" href="#搜索一个特定的节">#</a></h4>
<p>基本命令：</p>
<pre tabindex="0"><code>man -a name
</code></pre><p>将在每一节中搜索由 <code>name</code> 标识的手册页，按数字顺序逐一显示。要把搜索限制在一个特定的部分，请在 <code>man</code> 命令中使用一个参数，像这样：</p>
<pre tabindex="0"><code>man 1 name
</code></pre><p>这个命令将只在手册页的第 1 节中搜索 <code>name</code>。使用我们前面的 <code>passwd</code> 例子，这意味着我们可以保持搜索的针对性。如果我想阅读 <code>passwd</code> 命令的手册页，我可以在终端输入以下内容：</p>
<pre tabindex="0"><code>man 1 passwd
</code></pre><p><code>man</code> 工具将只在第 1 节中搜索 <code>passwd</code> 并显示它。它不会在任何其他节中寻找 <code>passwd</code>。</p>
<p>这个命令的另一种方法是输入: <code>man passwd.1</code>。</p>
<h4 id="搜索包含某个关键词的所有手册页">搜索包含某个关键词的所有手册页<a hidden class="anchor" aria-hidden="true" href="#搜索包含某个关键词的所有手册页">#</a></h4>
<p>如果你想获得包含某个关键词的手册页的列表，<code>man</code> 命令中的 <code>-k</code> 选项（通常称为标志或开关）可以派上用场。例如，如果你想看一个关于 <code>ftp</code> 的手册列表，你可以通过输入以下内容得到这个列表：</p>
<pre tabindex="0"><code>man -k ftp
</code></pre><p>在接下来的列表中，你可以选择一个特定的手册页来阅读。</p>
<p>在某些系统上，在 <code>man -k</code> 工作之前，系统管理员需要运行一个叫做 <code>catman</code> 的工具。</p>
<h4 id="了解手册的各个节">了解手册的各个节<a hidden class="anchor" aria-hidden="true" href="#了解手册的各个节">#</a></h4>
<p>有两个有趣的工具可以帮助你搜索信息：<code>whatis</code>和 <code>whereis</code>。</p>
<p><strong>whatis</strong></p>
<p>有的时候，我们完全可以得到我们需要的信息。我们需要的信息有很大的机会是可以找到的 —— 找到它可能是一个小问题。</p>
<p>例如，如果我想看关于 <code>passwd</code> 文件的手册页，我在终端上输入：</p>
<pre tabindex="0"><code>man passwd
</code></pre><p>我就会看到关于 <code>passwd</code> 命令所有信息的手册页，但没有关于 <code>passwd</code> 文件的内容。我知道 <code>passwd</code> 是一个命令，也有一个 <code>passwd</code> 文件，但有时，我可能会忘记这一点。这时我才意识到，文件结构在手册页中的不同节，所以我输入了：</p>
<pre tabindex="0"><code>man 4 passwd
</code></pre><p>我得到这样的答复：</p>
<pre tabindex="0"><code>No manual entry for passwd in section 4
See 'man 7 undocumented' for help when manual pages are not available.
</code></pre><p>又是一次健忘的失误。文件结构在 System V UNIX 页面的第 4 节中。几年前，当我建立文件时，我经常使用 <code>man 4 ...</code>；这仍然是我的一个习惯。那么它在 Linux 手册中的什么地方呢？</p>
<p>现在是时候调用 <code>whatis</code> 来纠正我了。为了做到这一点，我在我的终端中输入以下内容：</p>
<pre tabindex="0"><code>whatis passwd
</code></pre><p>然后我看到以下内容：</p>
<pre tabindex="0"><code>passwd (1)           - change user password
passwd (1ssl)        - compute password hashes
passwd (5)           - the password file
</code></pre><p>啊！<code>passwd</code> 文件的页面在第 5 节。现在没问题了，可以访问我想要的信息了：</p>
<pre tabindex="0"><code>man 5 passwd
</code></pre><p>然后我被带到了有我需要的信息的手册页。</p>
<p><code>whatis</code> 是一个方便的工具，可以用简短的一句话告诉你一个命令的作用。想象一下，你想知道 <code>cal</code> 是做什么的，而不想查看手册页。只要在命令提示符下键入以下内容。</p>
<pre tabindex="0"><code>whatis cal
</code></pre><p>你会看到这样的回应：</p>
<pre tabindex="0"><code>cal (1)              - displays a calendar and the date of Easter
</code></pre><p>现在你知道了 <code>whatis</code> 命令，我可以告诉你一个秘密 —— 有一个 <code>man</code> 命令的等价物。为了得到这个，我们使用 <code>-f</code> 开关：<code>man -f ...</code>。</p>
<p>试试吧。在终端提示下输入 <code>whatis cal</code>。执行后就输入：<code>man -f cal</code>。两个命令的输出将是相同的。</p>
<p><strong>whereis</strong></p>
<p><code>whereis</code> 命令的名字就说明了这一点 —— 它告诉你一个程序在文件系统中的位置。它也会告诉你手册页的存放位置。再以 <code>cal</code> 为例，我在提示符下输入以下内容：</p>
<pre tabindex="0"><code>whereis cal
</code></pre><p>我将看到这个：</p>
<pre tabindex="0"><code>cal: /usr/bin/cal /usr/share/man/man1/cal.1.gz
</code></pre><p>仔细看一下这个回答。答案只在一行里，但它告诉我两件事：</p>
<ul>
<li><code>/usr/bin/cal</code> 是 <code>cal</code> 程序所在的地方，以及</li>
<li><code>/usr/share/man/man1/cal.1.gz</code> 是手册页所在的地方（我也知道手册页是被压缩的，但不用担心 —— <code>man</code> 命令知道如何即时解压）。</li>
</ul>
<p><code>whereis</code> 依赖于 <code>PATH</code> 环境变量；它只能告诉你文件在哪里，如果它们在你的 <code>PATH</code> 环境变量中。</p>
<p>你可能想知道是否有一个与 <code>whereis</code> 相当的 <code>man</code> 命令。没有一个命令可以告诉你可执行文件的位置，但有一个开关可以告诉你手册页的位置。在这个例子中使用 <code>date</code> 命令，如果我们输入：</p>
<pre tabindex="0"><code>whereis date
</code></pre><p>在终端提示符下，我们会看到：</p>
<pre tabindex="0"><code>date: /usr/bin/date /usr/share/man/man1/date.1.gz
</code></pre><p>我们看到 <code>date</code> 程序在 <code>/usr/bin/</code> 目录下，其手册页的名称和位置是：<code>/usr/share/man/man1/date.1.gz</code>。</p>
<p>我们可以让 <code>man</code> 像 <code>whereis</code> 一样行事，最接近的方法是使用 <code>-w</code> 开关。我们不会得到程序的位置，但我们至少可以得到手册页的位置，像这样：</p>
<pre tabindex="0"><code>man -w date
</code></pre><p>我们将看到这样的返回：</p>
<pre tabindex="0"><code>/usr/share/man/man1/date.1.gz
</code></pre><p>你知道了 <code>whatis</code> 和 <code>whereis</code>，以及让 <code>man</code> 命令做同样（或接近）事情的方法。我展示了这两种方法，有几个不同的原因。</p>
<p>多年来，我使用 <code>whatis</code> 和 <code>whereis</code>，因为它们在我的培训手册中。直到最近我才了解到 <code>man -f ...</code> 和 <code>man -w ...</code>。我确信我看了几百次 <code>man</code> 的手册页，但我从未注意到 <code>-f</code> 和 <code>-w</code> 开关。我总是在看手册页的其他东西（例如：<code>man -k ...</code>）。我只专注于我需要找到的东西，而忽略了其他的东西。一旦我找到了我需要的信息，我就会离开这个页面，去完成工作，而不去注意这个命令所提供的其他一些宝贝。</p>
<p>这没关系，因为这部分就是手册页的作用：帮助你完成工作。</p>
<p>直到最近我向别人展示如何使用手册页时，我才花时间去阅读 —— “看看还有什么可能” —— 我们才真正注意到关于 <code>man</code> 命令的 <code>-f</code> 和 <code>-w</code> 标记可以做什么的信息。</p>
<p>不管你使用 Linux 多久了，或者多么有经验，总有一些新东西需要学习。</p>
<p>手册页会告诉你在完成某项任务时可能需要知道的东西 —— 但它们也有很多内容 —— 足以让你看起来像个魔术师，但前提是你要花时间去读。</p>
<h4 id="结论">结论<a hidden class="anchor" aria-hidden="true" href="#结论">#</a></h4>
<p>如果你花一些时间和精力在手册页上，你将会取得胜利。你对手册页的熟练程度，将在你掌握 Linux 的过程中发挥巨大作用。</p>
<h4 id="tldrhttpsgithubcomtldr-pagestldr"><a href="https://github.com/tldr-pages/tldr">tldr</a><a hidden class="anchor" aria-hidden="true" href="#tldrhttpsgithubcomtldr-pagestldr">#</a></h4>
<p>Collaborative cheatsheets for console commands</p>
<p>“TLDR” 是流行的互联网行话，意思是“太长不读（to long didn&rsquo;t read）”。这就是他们创建 tldr 的想法。如果你觉得手册页太长而不想阅读，tldr 通过提供命令的实际例子而将其简化了。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo apt install tldr
$ tldr -u
$ tldr tldr
</code></pre></div><h3 id="lshttpslinuxcnarticle-11159-1html"><a href="https://linux.cn/article-11159-1.html">ls</a><a hidden class="anchor" aria-hidden="true" href="#lshttpslinuxcnarticle-11159-1html">#</a></h3>
<p><code>ls</code> 命令可以列出一个 <a href="https://opensource.com/article/19/7/what-posix-richard-stallman-explains">POSIX</a> 系统上的文件。这是一个简单的命令，但它经常被低估，不是它能做什么（因为它确实只做了一件事），而是你该如何优化对它的使用。</p>
<h4 id="gnu-还是-bsd">GNU 还是 BSD？<a hidden class="anchor" aria-hidden="true" href="#gnu-还是-bsd">#</a></h4>
<p>在了解 <code>ls</code> 的隐藏能力之前，你必须确定你正在运行哪个 <code>ls</code> 命令。有两个最流行的版本：包含在 GNU coreutils 包中的 GNU 版本，以及 BSD 版本。如果你正在运行 Linux，那么你很可能已经安装了 GNU 版本的 <code>ls</code>。如果你正在运行 BSD 或 MacOS，那么你有的是 BSD 版本。本文会介绍它们的不同之处。</p>
<p>你可以使用 <code>--version</code> 选项找出你计算机上的版本：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ls --version
</code></pre></div><p>如果它返回有关 GNU coreutils 的信息，那么你拥有的是 GNU 版本。如果它返回一个错误，你可能正在运行的是 BSD 版本（运行 <code>man ls | head</code> 以确定）。</p>
<p>你还应该调查你的发行版可能具有哪些预设选项。终端命令的自定义通常放在 <code>$HOME/.bashrc</code> 或 <code>$HOME/.bash_aliases</code> 或 <code>$HOME/.profile</code> 中，它们是通过将 <code>ls</code> 别名化为更复杂的 <code>ls</code> 命令来完成的。例如：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">alias ls<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ls --color&#39;</span>
</code></pre></div><p>发行版提供的预设非常有用，但它们确实很难分辨出哪些是 <code>ls</code> 本身的特性，哪些是它的附加选项提供的。你要是想要运行 <code>ls</code> 命令本身而不是它的别名，你可以用反斜杠“转义”命令：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ <span style="color:#ae81ff">\l</span>s
</code></pre></div><h4 id="分类">分类<a hidden class="anchor" aria-hidden="true" href="#分类">#</a></h4>
<p>单独运行 <code>ls</code> 会以适合你终端的列数列出文件：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ls ~/example
bunko        jdk-10.0.2
chapterize   otf2ttf.ff
despacer     overtar.sh
estimate.sh  pandoc-2.7.1
fop-2.3      safe_yaml
games        tt
</code></pre></div><p>这是有用的信息，但所有这些文件看起来基本相同，没有方便的图标来快速表示出哪个是目录、文本文件或图像等等。</p>
<p>使用 <code>-F</code>（或 GNU 上的长选项 <code>--classify</code>）以在每个条目之后显示标识文件类型的指示符：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ls ~/example
bunko         jdk-10.0.2/
chapterize*   otf2ttf.ff*
despacer*     overtar.sh*
estimate.sh   pandoc@
fop-2.3/      pandoc-2.7.1/
games/        tt*
</code></pre></div><p>使用此选项，终端中列出的项目使用简写符号来按文件类型分类：</p>
<ul>
<li>斜杠（<code>/</code>）表示目录（或“文件夹”）。</li>
<li>星号（<code>*</code>）表示可执行文件。这包括二进制文件（编译代码）以及脚本（具有<a href="https://opensource.com/article/19/6/understanding-linux-permissions">可执行权限</a>的文本文件）。</li>
<li>符号（<code>@</code>）表示符号链接（或“别名”）。</li>
<li>等号（<code>=</code>）表示套接字。</li>
<li>在 BSD 上，百分号（<code>%</code>）表示涂改whiteout（某些文件系统上的文件删除方法）。</li>
<li>在 GNU 上，尖括号（<code>&gt;</code>）表示门door（<a href="https://www.illumos.org/">Illumos</a> 和 Solaris上的进程间通信）。</li>
<li>竖线（<code>|</code>）表示 <a href="https://en.wikipedia.org/wiki/FIFO_(computing_and_electronics)">FIFO</a> 管道。   这个选项的一个更简单的版本是 <code>-p</code>，它只区分文件和目录。</li>
</ul>
<p>（LCTT 译注：在支持彩色的终端上，使用 <code>--color</code> 选项可以以不同的颜色来区分文件类型，但要注意如果将输出导入到管道中，则颜色消失。）</p>
<h4 id="长列表">长列表<a hidden class="anchor" aria-hidden="true" href="#长列表">#</a></h4>
<p>从 <code>ls</code> 获取“长列表”的做法是如此常见，以至于许多发行版将 <code>ll</code> 别名为 <code>ls -l</code>。长列表提供了许多重要的文件属性，例如权限、拥有每个文件的用户、文件所属的组、文件大小（以字节为单位）以及文件上次更改的日期：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ls -l
-rwxrwx---. <span style="color:#ae81ff">1</span> seth users         <span style="color:#ae81ff">455</span> Mar  <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">2017</span> estimate.sh
-rwxrwxr-x. <span style="color:#ae81ff">1</span> seth users         <span style="color:#ae81ff">662</span> Apr <span style="color:#ae81ff">29</span> 22:27 factorial
-rwxrwx---. <span style="color:#ae81ff">1</span> seth users    <span style="color:#ae81ff">20697793</span> Jun <span style="color:#ae81ff">29</span>  <span style="color:#ae81ff">2018</span> fop-2.3-bin.tar.gz
-rwxrwxr-x. <span style="color:#ae81ff">1</span> seth users        <span style="color:#ae81ff">6210</span> May <span style="color:#ae81ff">22</span> 10:22 geteltorito
-rwxrwx---. <span style="color:#ae81ff">1</span> seth users         <span style="color:#ae81ff">177</span> Nov <span style="color:#ae81ff">12</span>  <span style="color:#ae81ff">2018</span> html4mutt.sh
<span style="color:#f92672">[</span>...<span style="color:#f92672">]</span>
</code></pre></div><p>如果你不想以字节为单位，请添加 <code>-h</code> 标志（或 GNU 中的 <code>--human</code>）以将文件大小转换为更加人性化的表示方法：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ls --human
-rwxrwx---. <span style="color:#ae81ff">1</span> seth users    <span style="color:#ae81ff">455</span> Mar  <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">2017</span> estimate.sh
-rwxrwxr-x. <span style="color:#ae81ff">1</span> seth seth     <span style="color:#ae81ff">662</span> Apr <span style="color:#ae81ff">29</span> 22:27 factorial
-rwxrwx---. <span style="color:#ae81ff">1</span> seth users    20M Jun <span style="color:#ae81ff">29</span>  <span style="color:#ae81ff">2018</span> fop-2.3-bin.tar.gz
-rwxrwxr-x. <span style="color:#ae81ff">1</span> seth seth    6.1K May <span style="color:#ae81ff">22</span> 10:22 geteltorito
-rwxrwx---. <span style="color:#ae81ff">1</span> seth users    <span style="color:#ae81ff">177</span> Nov <span style="color:#ae81ff">12</span>  <span style="color:#ae81ff">2018</span> html4mutt.sh
</code></pre></div><p>要看到更少的信息，你可以带有 <code>-o</code> 选项只显示所有者的列，或带有 <code>-g</code> 选项只显示所属组的列：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ls -o
-rwxrwx---. <span style="color:#ae81ff">1</span> seth    <span style="color:#ae81ff">455</span> Mar  <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">2017</span> estimate.sh
-rwxrwxr-x. <span style="color:#ae81ff">1</span> seth    <span style="color:#ae81ff">662</span> Apr <span style="color:#ae81ff">29</span> 22:27 factorial
-rwxrwx---. <span style="color:#ae81ff">1</span> seth    20M Jun <span style="color:#ae81ff">29</span>  <span style="color:#ae81ff">2018</span> fop-2.3-bin.tar.gz
-rwxrwxr-x. <span style="color:#ae81ff">1</span> seth   6.1K May <span style="color:#ae81ff">22</span> 10:22 geteltorito
-rwxrwx---. <span style="color:#ae81ff">1</span> seth    <span style="color:#ae81ff">177</span> Nov <span style="color:#ae81ff">12</span>  <span style="color:#ae81ff">2018</span> html4mutt.sh
</code></pre></div><p>也可以将两个选项组合使用以显示两者。</p>
<h4 id="时间和日期格式">时间和日期格式<a hidden class="anchor" aria-hidden="true" href="#时间和日期格式">#</a></h4>
<p><code>ls</code> 的长列表格式通常如下所示：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">-rwxrwx---. <span style="color:#ae81ff">1</span> seth users         <span style="color:#ae81ff">455</span> Mar  <span style="color:#ae81ff">2</span>  <span style="color:#ae81ff">2017</span> estimate.sh
-rwxrwxr-x. <span style="color:#ae81ff">1</span> seth users         <span style="color:#ae81ff">662</span> Apr <span style="color:#ae81ff">29</span> 22:27 factorial
-rwxrwx---. <span style="color:#ae81ff">1</span> seth users    <span style="color:#ae81ff">20697793</span> Jun <span style="color:#ae81ff">29</span>  <span style="color:#ae81ff">2018</span> fop-2.3-bin.tar.gz
-rwxrwxr-x. <span style="color:#ae81ff">1</span> seth users        <span style="color:#ae81ff">6210</span> May <span style="color:#ae81ff">22</span> 10:22 geteltorito
-rwxrwx---. <span style="color:#ae81ff">1</span> seth users         <span style="color:#ae81ff">177</span> Nov <span style="color:#ae81ff">12</span>  <span style="color:#ae81ff">2018</span> html4mutt.sh
</code></pre></div><p>月份的名字不便于排序，无论是通过计算还是识别（取决于你的大脑是否倾向于喜欢字符串或整数）。你可以使用 <code>--time-style</code> 选项和格式名称更改时间戳的格式。可用格式为：</p>
<ul>
<li><code>full-iso</code>：ISO 完整格式（1970-01-01 21:12:00）</li>
<li><code>long-iso</code>：ISO 长格式（1970-01-01 21:12）</li>
<li><code>iso</code>：iso 格式（01-01 21:12）</li>
<li><code>locale</code>：本地化格式（使用你的区域设置）</li>
<li><code>posix-STYLE</code>：POSIX 风格（用区域设置定义替换 <code>STYLE</code>）</li>
</ul>
<p>你还可以使用 <code>date</code> 命令的正式表示法创建自定义样式。</p>
<h4 id="按时间排序">按时间排序<a hidden class="anchor" aria-hidden="true" href="#按时间排序">#</a></h4>
<p>通常，<code>ls</code> 命令按字母顺序排序。你可以使用 <code>-t</code> 选项根据文件的最近更改的时间（最新的文件最先列出）进行排序。</p>
<p>例如：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ touch foo bar baz
$ ls
bar  baz  foo
$ touch foo
$ ls -t
foo bar baz
</code></pre></div><h4 id="列出方式">列出方式<a hidden class="anchor" aria-hidden="true" href="#列出方式">#</a></h4>
<p><code>ls</code> 的标准输出平衡了可读性和空间效率，但有时你需要按照特定方式排列的文件列表。</p>
<p>要以逗号分隔文件列表，请使用 <code>-m</code>：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ls -m ~/example
bar, baz, foo
</code></pre></div><p>要强制每行一个文件，请使用 <code>-1</code> 选项（这是数字 1，而不是小写的 L）：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ls -1 ~/bin/
bar
baz
foo
</code></pre></div><p>要按文件扩展名而不是文件名对条目进行排序，请使用 <code>-X</code>（这是大写 X）：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ls
bar.xfc  baz.txt  foo.asc
$ ls -X
foo.asc  baz.txt  bar.xfc
</code></pre></div><h4 id="隐藏杂项">隐藏杂项<a hidden class="anchor" aria-hidden="true" href="#隐藏杂项">#</a></h4>
<p>在某些 <code>ls</code> 列表中有一些你可能不关心的条目。例如，元字符 <code>.</code> 和 <code>..</code> 分别代表“本目录”和“父目录”。如果你熟悉在终端中如何切换目录，你可能已经知道每个目录都将自己称为 <code>.</code>，并将其父目录称为 <code>..</code>，因此当你使用 <code>-a</code> 选项显示隐藏文件时并不需要它经常提醒你。</p>
<p>要显示几乎所有隐藏文件（<code>.</code> 和 <code>..</code> 除外），请使用 <code>-A</code> 选项：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ls -a
.
..
.android
.atom
.bash_aliases
<span style="color:#f92672">[</span>...<span style="color:#f92672">]</span>
$ ls -A
.android
.atom
.bash_aliases
<span style="color:#f92672">[</span>...<span style="color:#f92672">]</span>
</code></pre></div><p>有许多优秀的 Unix 工具有保存备份文件的传统，它们会在保存文件的名称后附加一些特殊字符作为备份文件。例如，在 Vim 中，备份会以在文件名后附加 <code>~</code> 字符的文件名保存。</p>
<p>这些类型的备份文件已经多次使我免于愚蠢的错误，但是经过多年享受它们提供的安全感后，我觉得不需要用视觉证据来证明它们存在。我相信 Linux 应用程序可以生成备份文件（如果它们声称这样做的话），我很乐意相信它们存在 —— 而不用必须看到它们。</p>
<p>要隐藏备份文件，请使用 <code>-B</code> 或 <code>--ignore-backups</code> 隐藏常用备份格式（此选项在 BSD 的 <code>ls</code> 中不可用）：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ls
bar.xfc  baz.txt  foo.asc~  foo.asc
$ ls -B
bar.xfc  baz.txt  foo.asc
</code></pre></div><p>当然，备份文件仍然存在；它只是过滤掉了，你不必看到它。</p>
<p>除非另有配置，GNU Emacs 在文件名的开头和结尾添加哈希字符（<code>＃</code>）来保存备份文件（<code>#file＃</code>）。其他应用程序可能使用不同的样式。使用什么模式并不重要，因为你可以使用 <code>--hide</code> 选项创建自己的排除项：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ls
bar.xfc  baz.txt  <span style="color:#75715e">#foo.asc#  foo.asc</span>
$ ls --hide<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;#*#&#34;</span>
bar.xfc  baz.txt  foo.asc
</code></pre></div><h4 id="递归地列出目录">递归地列出目录<a hidden class="anchor" aria-hidden="true" href="#递归地列出目录">#</a></h4>
<p>除非你在指定目录上运行 <code>ls</code>，否则子目录的内容不会与 <code>ls</code> 命令一起列出：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ls -F
example/  quux*  xyz.txt
$ ls -R
quux  xyz.txt
./example:
bar.xfc  baz.txt  <span style="color:#75715e">#foo.asc#  foo.asc</span>
</code></pre></div><h4 id="使用别名使其永久化">使用别名使其永久化<a hidden class="anchor" aria-hidden="true" href="#使用别名使其永久化">#</a></h4>
<p><code>ls</code> 命令可能是 shell 会话期间最常使用的命令。这是你的眼睛和耳朵，为你提供上下文信息和确认命令的结果。虽然有很多选项很有用，但 <code>ls</code> 之美的一部分就是简洁：两个字符和回车键，你就知道你到底在哪里以及附近有什么。如果你不得不停下思考（更不用说输入）几个不同的选项，它会变得不那么方便，所以通常情况下，即使最有用的选项也不会用了。</p>
<p>解决方案是为你的 <code>ls</code> 命令添加别名，以便在使用它时，你可以获得最关心的信息。</p>
<p>要在 Bash shell 中为命令创建别名，请在主目录中创建名为 <code>.bash_aliases</code> 的文件（必须在开头包含 <code>.</code>）。 在此文件中，列出要创建的别名，然后是要为其创建别名的命令。例如：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">alias ls<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ls -A -F -B --human --color&#39;</span>
</code></pre></div><p>这一行导致你的 Bash shell 将 <code>ls</code> 命令解释为 <code>ls -A -F -B --human --color</code>。</p>
<p>你不必仅限于重新定义现有命令，还可以创建自己的别名：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">alias ll<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ls -l&#39;</span>
alias la<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ls -A&#39;</span>
alias lh<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ls -h&#39;</span>
</code></pre></div><p>要使别名起作用，shell 必须知道 <code>.bash_aliases</code> 配置文件存在。在编辑器中打开 <code>.bashrc</code> 文件（如果它不存在则创建它），并包含以下代码块：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> -e $HOME/.bash_aliases <span style="color:#f92672">]</span>; <span style="color:#66d9ef">then</span>
    source $HOME/.bash_aliases
<span style="color:#66d9ef">fi</span>
</code></pre></div><p>每次加载 <code>.bashrc</code>（这是一个新的 Bash shell 启动的时候），Bash 会将 <code>.bash_aliases</code> 加载到你的环境中。你可以关闭并重新启动 Bash 会话，或者直接强制它执行此操作：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ source ~/.bashrc
</code></pre></div><p>如果你忘了你是否有别名命令，<code>which</code> 命令可以告诉你：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ which ls
alias ls<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;ls -A -F -B --human --color&#39;</span>
        /usr/bin/ls
</code></pre></div><p>如果你将 <code>ls</code> 命令别名为带有选项的 <code>ls</code> 命令，则可以通过将反斜杠前缀到 <code>ls</code> 前来覆盖你的别名。例如，在示例别名中，使用 <code>-B</code> 选项隐藏备份文件，这意味着无法使用 <code>ls</code> 命令显示备份文件。 可以覆盖该别名以查看备份文件：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ls
bar  baz  foo
$ <span style="color:#ae81ff">\l</span>s
bar  baz  baz~  foo
</code></pre></div><h4 id="做一件事把它做好">做一件事，把它做好<a hidden class="anchor" aria-hidden="true" href="#做一件事把它做好">#</a></h4>
<p><code>ls</code> 命令有很多选项，其中许多是特定用途的或高度依赖于你所使用的终端。在 GNU 系统上查看 <code>info ls</code>，或在 GNU 或 BSD 系统上查看 <code>man ls</code> 以了解更多选项。</p>
<p>你可能会觉得奇怪的是，一个以每个工具“做一件事，把它做好”的前提而闻名的系统会让其最常见的命令背负 50 个选项。但是 <code>ls</code> 只做一件事：它列出文件，而这 50 个选项允许你控制接收列表的方式，<code>ls</code> 的这项工作做得非常、<em>非常</em>好。</p>
<h4 id="exahttpsgithubcomoghamexa"><a href="https://github.com/ogham/exa">exa</a><a hidden class="anchor" aria-hidden="true" href="#exahttpsgithubcomoghamexa">#</a></h4>
<p>A modern replacement for ‘ls’.</p>
<h3 id="du-disk-usagehttpslinuxcnarticle-11503-1html"><a href="https://linux.cn/article-11503-1.html">du (Disk Usage)</a><a hidden class="anchor" aria-hidden="true" href="#du-disk-usagehttpslinuxcnarticle-11503-1html">#</a></h3>
<p>在 Linux 中使用 ls 命令 列出的目录内容中，目录的大小仅显示 4KB。这是一个默认的大小，是用来存储磁盘上存储目录的元数据的大小。</p>
<p>du 命令 表示 磁盘使用率。这是一个标准的 Unix 程序，用于估计当前工作目录中的文件空间使用情况。</p>
<p>它使用递归方式总结磁盘使用情况，以获取目录及其子目录的大小。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ du -hs --max-depth<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> /path/dir
</code></pre></div><ul>
<li><code>du</code> – 这是一个命令</li>
<li><code>-h</code> – 以易读的格式显示大小 (例如 1K 234M 2G)</li>
<li><code>-s</code> – 仅显示每个参数的总数</li>
<li><code>--max-depth=N</code> – 目录的打印深度</li>
</ul>
<h4 id="ncurses-disk-usagehttpsdevyorhelnlncdu"><a href="https://dev.yorhel.nl/ncdu">NCurses Disk Usage</a><a hidden class="anchor" aria-hidden="true" href="#ncurses-disk-usagehttpsdevyorhelnlncdu">#</a></h4>
<p>Ncdu is a disk usage analyzer with an ncurses interface.</p>
<p><code>ncdu</code> 命令旨在提供一份关于你在硬盘上使用的空间的交互式报告。</p>
<h4 id="gduhttpsgithubcomdundeegdu"><a href="https://github.com/dundee/gdu">gdu</a><a hidden class="anchor" aria-hidden="true" href="#gduhttpsgithubcomdundeegdu">#</a></h4>
<p>Fast disk usage analyzer with console interface written in Go</p>
<h3 id="diffhttpswwwruanyifengcomblog201208how_to_read_diffhtml"><a href="https://www.ruanyifeng.com/blog/2012/08/how_to_read_diff.html">Diff</a><a hidden class="anchor" aria-hidden="true" href="#diffhttpswwwruanyifengcomblog201208how_to_read_diffhtml">#</a></h3>
<p>diff是Unix系统的一个很重要的工具程序。</p>
<p>它用来比较两个文本文件的差异，是代码版本管理的基石之一。你在命令行下，输入：</p>
<pre tabindex="0"><code>$ diff &lt;变动前的文件&gt; &lt;变动后的文件&gt;
</code></pre><p>diff就会告诉你，这两个文件有何差异。它的显示结果不太好懂，下面我就来说明，如何读懂diff。</p>
<h4 id="三种格式">三种格式<a hidden class="anchor" aria-hidden="true" href="#三种格式">#</a></h4>
<p>由于历史原因，diff有三种格式：</p>
<ul>
<li>正常格式（normal diff）</li>
<li>上下文格式（context diff）</li>
<li>合并格式（unified diff）</li>
</ul>
<p>我们依次来看。</p>
<h4 id="示例文件">示例文件<a hidden class="anchor" aria-hidden="true" href="#示例文件">#</a></h4>
<p>为了便于讲解，先新建两个示例文件。</p>
<p>第一个文件叫做f1，内容是每行一个a，一共7行。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">a
a
a
a
a
a
a
</code></pre></div><p>第二个文件叫做f2，修改f1而成，第4行变成b，其他不变。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">a
a
a
b
a
a
a
</code></pre></div><h4 id="正常格式">正常格式<a hidden class="anchor" aria-hidden="true" href="#正常格式">#</a></h4>
<p>现在对f1和f2进行比较：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ diff f1 f2
</code></pre></div><p>这时，diff就会显示正常格式的结果：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">4c4
&lt; a
---
&gt; b
</code></pre></div><p>第一行是一个提示，用来说明变动位置。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">4c4
</code></pre></div><p>它分成三个部分：前面的&quot;4&quot;，表示f1的第4行有变化；中间的&quot;c&quot;表示变动的模式是内容改变（change），其他模式还有&quot;增加&quot;（a，代表addition）和&quot;删除&quot;（d，代表deletion）；后面的&quot;4&quot;，表示变动后变成f2的第4行。</p>
<p>第二行分成两个部分。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">&lt; a
</code></pre></div><p>前面的小于号，表示要从f1当中去除该行（也就是第4行），后面的&quot;a&quot;表示该行的内容。</p>
<p>第三行用来分割f1和f2。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">---
</code></pre></div><p>第四行，类似于第二行。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">&gt; b
</code></pre></div><p>前面的大于号表示f2增加了该行，后面的&quot;b&quot;表示该行的内容。</p>
<p>最早的<a href="https://www.ruanyifeng.com/blog/2010/03/unix_copyright_history.html">Unix</a>（即AT&amp;T版本的Unix），使用的就是这种格式的diff。</p>
<h4 id="上下文格式">上下文格式<a hidden class="anchor" aria-hidden="true" href="#上下文格式">#</a></h4>
<p>上个世纪80年代初，加州大学伯克利分校推出BSD版本的Unix时，觉得diff的显示结果太简单，最好加入上下文，便于了解发生的变动。因此，推出了上下文格式的diff。</p>
<p>它的使用方法是加入c参数（代表context）。</p>
<pre tabindex="0"><code>$ diff -c f1 f2
</code></pre><p>显示结果如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">*** f1 2012-08-29 16:45:41.000000000 +0800
--- f2 2012-08-29 16:45:51.000000000 +0800
***************
*** 1,7 ****
a
a
a
!a
a
a
a
--- 1,7 ----
a
a
a
!b
a
a
a
</code></pre></div><p>这个结果分成四个部分。</p>
<p>第一部分的两行，显示两个文件的基本情况：文件名和时间信息。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">*** f1 2012-08-29 16:45:41.000000000 +0800
--- f2 2012-08-29 16:45:51.000000000 +0800
</code></pre></div><p><code>***</code>表示变动前的文件，<code>---</code>表示变动后的文件。</p>
<p>第二部分是15个星号，将文件的基本情况与变动内容分割开。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">***************
</code></pre></div><p>第三部分显示变动前的文件，即f1。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">*** 1,7 ****
a
a
a
!a
a
a
a
</code></pre></div><p>这时不仅显示发生变化的第4行，还显示第4行的前面三行和后面三行，因此一共显示7行。所以，前面的<code>*** 1,7 ****</code>就表示，从第1行开始连续7行。</p>
<p>另外，文件内容的每一行最前面，还有一个标记位。如果为空，表示该行无变化；如果是感叹号（!），表示该行有改动；如果是减号（-），表示该行被删除；如果是加号（+），表示该行为新增。</p>
<p>第四部分显示变动后的文件，即f2。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">--- 1,7 ----
a
a
a
!b
a
a
a
</code></pre></div><p>除了变动行（第4行）以外，也是上下文各显示三行，总共显示7行。</p>
<h4 id="合并格式">合并格式<a hidden class="anchor" aria-hidden="true" href="#合并格式">#</a></h4>
<p>如果两个文件相似度很高，那么上下文格式的diff，将显示大量重复的内容，很浪费空间。1990年，GNU diff率先推出了&quot;合并格式&quot;的diff，将f1和f2的上下文合并在一起显示。</p>
<p>它的使用方法是加入u参数（代表unified）。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ diff -u f1 f2
</code></pre></div><p>显示结果如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">--- f1 2012-08-29 16:45:41.000000000 +0800
+++ f2 2012-08-29 16:45:51.000000000 +0800
@@ -1,7 +1,7 @@
a
a
a
-a
+b
a
a
a
</code></pre></div><p>它的第一部分，也是文件的基本信息。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">--- f1 2012-08-29 16:45:41.000000000 +0800
+++ f2 2012-08-29 16:45:51.000000000 +0800
</code></pre></div><p><code>---</code>表示变动前的文件，<code>+++</code>表示变动后的文件。</p>
<p>第二部分，变动的位置用两个@作为起首和结束。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">@@ -1,7 +1,7 @@
</code></pre></div><p>前面的&quot;-1,7&quot;分成三个部分：减号表示第一个文件（即f1），&ldquo;1&quot;表示第1行，&ldquo;7&quot;表示连续7行。合在一起，就表示下面是第一个文件从第1行开始的连续7行。同样的，&quot;+1,7&quot;表示变动后，成为第二个文件从第1行开始的连续7行。</p>
<p>第三部分是变动的具体内容。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">a
a
a
-a
+b
a
a
a
</code></pre></div><p>除了有变动的那些行以外，也是上下文各显示3行。它将两个文件的上下文，合并显示在一起，所以叫做&quot;合并格式&rdquo;。每一行最前面的标志位，空表示无变动，减号表示第一个文件删除的行，加号表示第二个文件新增的行。</p>
<h4 id="git格式">git格式<a hidden class="anchor" aria-hidden="true" href="#git格式">#</a></h4>
<p>版本管理系统git，使用的是合并格式diff的变体。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ git diff
</code></pre></div><p>显示结果如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">diff --git a/f1 b/f1
index 6f8a38c..449b072 <span style="color:#ae81ff">100644</span>
--- a/f1
+++ b/f1
@@ -1,7 +1,7 @@
a
a
a
-a
+b
a
a
a
</code></pre></div><p>第一行表示结果为git格式的diff。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">diff --git a/f1 b/f1
</code></pre></div><p>进行比较的是，a版本的f1（即变动前）和b版本的f1（即变动后）。</p>
<p>第二行表示两个版本的git哈希值（index区域的6f8a38c对象，与工作目录区域的449b072对象进行比较），最后的六位数字是对象的模式（普通文件，644权限）。　</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">index 6f8a38c..449b072 <span style="color:#ae81ff">100644</span>
</code></pre></div><p>第三行表示进行比较的两个文件。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">--- a/f1
+++ b/f1
</code></pre></div><p><code>---</code>表示变动前的版本，<code>+++</code>表示变动后的版本。</p>
<p>后面的行都与官方的合并格式diff相同。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">@@ -1,7 +1,7 @@
a
a
a
-a
+b
a
a
a
</code></pre></div><h3 id="crontabhttpcbianchengnetview1092html"><a href="http://c.biancheng.net/view/1092.html">Crontab</a><a hidden class="anchor" aria-hidden="true" href="#crontabhttpcbianchengnetview1092html">#</a></h3>
<p>使用 crontab 命令来执行定时任务。所谓定时任务，就是未来的某个或多个时点，预定要执行的任务，比如每五分钟收一次邮件、每天半夜两点分析一下日志等等。</p>
<h4 id="installing">Installing<a hidden class="anchor" aria-hidden="true" href="#installing">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo apt install cronie
</code></pre></div><h4 id="running">Running<a hidden class="anchor" aria-hidden="true" href="#running">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ systemctl enable crond.service
$ systemctl start crond.service
</code></pre></div><h4 id="命令详解">命令详解<a hidden class="anchor" aria-hidden="true" href="#命令详解">#</a></h4>
<p>crontab 命令通过 /etc/cron.allow 和 /etc/cron.deny 文件来限制某些用户是否可以使用 crontab 命令：</p>
<ul>
<li>当系统中有 /etc/cron.allow 文件时，只有写入此文件的用户可以使用 crontab 命令，没有写入的用户不能使用 crontab 命令。</li>
<li>当系统中只有 /etc/cron.deny 文件时，写入此文件的用户不能使用 crontab 命令，没有写入文件的用户可以使用 crontab 命令。</li>
<li>/etc/cron.allow 文件比 /etc/cron.deny 文件的优先级高，Linux 系统中默认只有 /etc/cron.deny 文件。</li>
</ul>
<p>crontab 命令的基本格式如下：</p>
<pre tabindex="0"><code>crontab [选项] [file]
</code></pre><p>注意，这里的 file 指的是命令文件的名字，表示将 file 作为 crontab 的任务列表文件并载入 crontab，若在命令行中未指定文件名，则此命令将接受标准输入（键盘）上键入的命令，并将它们键入 crontab。</p>
<h5 id="常用选项">常用选项<a hidden class="anchor" aria-hidden="true" href="#常用选项">#</a></h5>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody>
<tr>
<td>-u user</td>
<td>用来设定某个用户的 crontab 服务，例如 &ldquo;-u demo&rdquo; 表示设备 demo 用户的 crontab 服务，此选项一般有 root 用户来运行。</td>
</tr>
<tr>
<td>-e</td>
<td>编辑某个用户的 crontab 文件内容。如果不指定用户，则表示编辑当前用户的 crontab 文件。</td>
</tr>
<tr>
<td>-l</td>
<td>显示某用户的 crontab 文件内容，如果不指定用户，则表示显示当前用户的 crontab 文件内容。</td>
</tr>
<tr>
<td>-r</td>
<td>从 /var/spool/cron 删除某用户的 crontab 文件，如果不指定用户，则默认删除当前用户的 crontab 文件。</td>
</tr>
<tr>
<td>-i</td>
<td>在删除用户的 crontab 文件时，给确认提示。</td>
</tr>
</tbody>
</table>
<h5 id="crontab-文件格式">crontab 文件格式<a hidden class="anchor" aria-hidden="true" href="#crontab-文件格式">#</a></h5>
<pre tabindex="0"><code>* * * * * 执行的任务
</code></pre><p>执行的任务字段既可以定时执行系统命令，也可以定时执行某个 Shell 脚本。</p>
<p><strong>执行时间</strong></p>
<table>
<thead>
<tr>
<th>项目</th>
<th>含义</th>
<th>范围</th>
</tr>
</thead>
<tbody>
<tr>
<td>第一个&rdquo;*&quot;</td>
<td>一小时当中的第几分钟（minute）</td>
<td>0~59</td>
</tr>
<tr>
<td>第二个&quot;*&quot;</td>
<td>一天当中的第几小时（hour）</td>
<td>0~23</td>
</tr>
<tr>
<td>第三个&quot;*&quot;</td>
<td>一个月当中的第几天（day）</td>
<td>1~31</td>
</tr>
<tr>
<td>第四个&quot;*&quot;</td>
<td>一年当中的第几个月（month）</td>
<td>1~12</td>
</tr>
<tr>
<td>第五个&quot;*&quot;</td>
<td>一周当中的星期几（week）</td>
<td>0~7（0和7都代表星期日）</td>
</tr>
</tbody>
</table>
<p><strong>时间特殊符号</strong></p>
<table>
<thead>
<tr>
<th>特殊符号</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>*（星号）</td>
<td>代表任何时间。比如第一个&quot;*&ldquo;就代表一小时种每分钟都执行一次的意思。</td>
</tr>
<tr>
<td>,（逗号）</td>
<td>代表不连续的时间。比如&quot;0 8，12，16***命令&quot;就代表在每天的 8 点 0 分、12 点 0 分、16 点 0 分都执行一次命令。</td>
</tr>
<tr>
<td>-（中杠）</td>
<td>代表连续的时间范围。比如&quot;0 5 ** 1-6命令&rdquo;，代表在周一到周六的凌晨 5 点 0 分执行命令。</td>
</tr>
<tr>
<td>/（正斜线）</td>
<td>代表每隔多久执行一次。比如&quot;<code>*/10****命令</code>&quot;，代表每隔 10 分钟就执行一次命令。</td>
</tr>
</tbody>
</table>
<p>当“crontab -e”编辑完成之后，一旦保存退出，那么这个定时任务实际就会写入 /var/spool/cron/ 目录中，每个用户的定时任务用自己的用户名进行区分。而且 crontab 命令只要保存就会生效，只要 crond 服务是启动的。</p>
<p><strong>crontab举例</strong></p>
<table>
<thead>
<tr>
<th>时间</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>45 22 ***命令</td>
<td>在每天 22 点 45 分执行命令</td>
</tr>
<tr>
<td>0 17 ** 1命令</td>
<td>在每周一的 17 点 0 分执行命令</td>
</tr>
<tr>
<td>0 5 1，15**命令</td>
<td>在每月 1 日和 15 日的凌晨 5 点 0 分执行命令</td>
</tr>
<tr>
<td>40 4 ** 1-5命令</td>
<td>在每周一到周五的凌晨 4 点 40 分执行命令</td>
</tr>
<tr>
<td>*/10 4 ***命令</td>
<td>在每天的凌晨 4 点，每隔 10 分钟执行一次命令</td>
</tr>
<tr>
<td>0 0 1，15 * 1命令</td>
<td>在每月 1 日和 15 日，每周一 0 点 0 分都会执行命令</td>
</tr>
</tbody>
</table>
<p><strong>注意事项</strong></p>
<ul>
<li>6 个选项都不能为空，必须填写。如果不确定，则使用“*”代表任意时间。</li>
<li>crontab 定时任务的最小有效时间是分钟，最大有效时间是月。像 2018 年某时执行、3 点 30 分 30 秒这样的时间都不能被识别。</li>
<li>在定义时间时，日期和星期最好不要在一条定时任务中出现，因为它们都以天为单位，非常容易让管理员混淆。</li>
<li>在定时任务中，不管是直接写命令，还是在脚本中写命令，最好都使用绝对路径。有时使用相对路径的命令会报错。</li>
</ul>
<h4 id="run-a-script-on-startuphttpsunixstackexchangecomquestions416137how-can-i-run-a-script-on-startup-on-ubuntu-server-17-10"><a href="https://unix.stackexchange.com/questions/416137/how-can-i-run-a-script-on-startup-on-ubuntu-server-17-10">run a script on startup</a><a hidden class="anchor" aria-hidden="true" href="#run-a-script-on-startuphttpsunixstackexchangecomquestions416137how-can-i-run-a-script-on-startup-on-ubuntu-server-17-10">#</a></h4>
<p>Put the script in the appropriate user&rsquo;s <code>cron</code> table (i. e. the <em>crontab</em>) with a schedule of <code>@reboot</code>.</p>
<p>A user can edit its <code>cron</code> table with <code>crontab -e</code>.</p>
<p>An example which will run <code>/path/to/script.sh</code> at startup:</p>
<pre tabindex="0"><code class="language-bsh" data-lang="bsh">@reboot /path/to/script.sh
</code></pre><p>If you need to run it as root, don&rsquo;t use <code>@reboot sudo /path/to/script.sh</code>;
use <code>sudo crontab -eu root</code> to edit root&rsquo;s crontab.</p>
<h3 id="pshttpslinuxtools-rstreadthedocsiozh_cnlatesttoolpshtml"><a href="https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/ps.html">ps</a><a hidden class="anchor" aria-hidden="true" href="#pshttpslinuxtools-rstreadthedocsiozh_cnlatesttoolpshtml">#</a></h3>
<h4 id="简介">简介<a hidden class="anchor" aria-hidden="true" href="#简介">#</a></h4>
<p>要对进程进行监测和控制，首先必须要了解当前进程的情况，也就是需要查看当前进程，而 ps 命令（Process Status）就是最基本同时也是非常强大的进程查看命令。使用该命令可以确定有哪些进程正在运行和运行的状态、进程是否结束、进程有没有僵死、哪些进程占用了过多的资源等等。总之大部分信息都是可以通过执行该命令得到的。ps命令列出的是当前那些进程的快照，就是执行ps命令的那个时刻的那些进程，如果想要动态的显示进程信息，就可以使用top命令。</p>
<p><a href="https://blog.csdn.net/qq_38410730/article/details/81173170">linux上进程有5种状态</a>：</p>
<ul>
<li>
<p>就绪状态和运行状态</p>
<p>就绪状态的状态标志state的值为TASK_RUNNING。此时，程序已被挂入运行队列，处于准备运行状态。一旦获得处理器使用权，即可进入运行状态。</p>
<p>当进程获得处理器而运行时 ，state的值仍然为TASK_RUNNING，并不发生改变；但Linux会把一个专门用来指向当前运行任务的指针current指向它，以表示它是一个正在运行的进程。</p>
</li>
<li>
<p>可中断等待状态</p>
<p>状态标志state的值为TASK_INTERRUPTIBL。此时，由于进程未获得它所申请的资源而处在等待状态。一旦资源有效或者有唤醒信号，进程会立即结束等待而进入就绪状态。</p>
</li>
<li>
<p>不可中断等待状态</p>
<p>状态标志state的值为TASK_UNINTERRUPTIBL。此时，进程也处于等待资源状态。一旦资源有效，进程会立即进入就绪状态。这个等待状态与可中断等待状态的区别在于：处于TASK_UNINTERRUPTIBL状态的进程不能被信号量或者中断所唤醒，只有当它申请的资源有效时才能被唤醒。</p>
<p>这个状态被应用在内核中某些场景中，比如当进程需要对磁盘进行读写，而此刻正在DMA中进行着数据到内存的拷贝，如果这时进程休眠被打断（比如强制退出信号）那么很可能会出现问题，所以这时进程就会处于不可被打断的状态下。</p>
</li>
<li>
<p>停止状态</p>
<p>状态标志state的值为TASK_STOPPED。当进程收到一个SIGSTOP信号后，就由运行状态进入停止状态，当受到一个SIGCONT信号时，又会恢复运行状态。这种状态主要用于程序的调试，又被叫做“暂停状态”、“挂起状态”。</p>
</li>
<li>
<p>中止状态</p>
<p>状态标志state的值为TASK_DEAD。进程因某种原因而中止运行，进程占有的所有资源将被回收，除了task_struct结构（以及少数资源）以外，并且系统对它不再予以理睬，所以这种状态也叫做“僵死状态”，进程成为僵尸进程。</p>
</li>
</ul>
<p><img loading="lazy" src="/Distributions/20180723211512765.png" alt=""  />
</p>
<p>ps 标识进程状态对应的 5 种状态码：</p>
<ul>
<li><code>R</code>：就绪状态和运行状态 runnable (on run queue)</li>
<li><code>S</code>：可中断等待状态 sleeping</li>
<li><code>D</code>：不可中断等待状态 uninterruptible sleep (usually IO)</li>
<li><code>T</code>：停止状态 traced or stopped</li>
<li><code>Z</code>：中止状态 a defunct (”zombie”) process</li>
</ul>
<p>ps 标识进程的其他状态码：</p>
<ul>
<li><code>X</code>：死掉的进程 Dead （应该不会出现）</li>
<li><code>W</code>：内存交互状态Paging （从 2.6 内核开始无效）</li>
<li><code>N</code>：高优先级</li>
<li><code>&lt;</code>：低优先级</li>
<li><code>s</code>：包含子进程</li>
<li><code>L</code>：被锁入内存</li>
<li><code>l</code>：多线程状态</li>
<li><code>+</code>：前台进程</li>
</ul>
<h4 id="命令参数httpswwwjianshucomp943b90150c10"><a href="https://www.jianshu.com/p/943b90150c10">命令参数</a><a hidden class="anchor" aria-hidden="true" href="#命令参数httpswwwjianshucomp943b90150c10">#</a></h4>
<p>在不同的 Linux 发行版上，ps 命令的语法各不相同，为此，Linux 采取了一个折中的方法，即融合各种不同的风格，兼顾那些已经习惯了其它系统上使用 ps  命令的用户。ps命令支持三种使用的语法格式：</p>
<ul>
<li>UNIX 风格，选项可以组合在一起，并且选项前必须有“-”连字符；</li>
<li>BSD 风格，选项可以组合在一起，但是选项前不能有“-”连字符；</li>
<li>GNU 风格的选项，选项前有两个“-”连字符；</li>
</ul>
<p>ps 命令常用的参数：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ps -a  显示所有终端下执行的进程，包含其他用户的进程
ps -A  显示所有进程
ps -e  和-A功能一样
ps -H  显示树状结构，表示程序间的相互关系
ps -f  全格式显示进程

ps a   显示当前终端下执行的进程
ps c   显示进程的真实名称
ps e   列出程序所使用的环境变量
ps f   用ASCII字符显示树状结构，表达程序间的相互关系
ps x   显示所有进程，无论是否运行在终端上
ps u   显示用户相关的进程或者与用户相关的属性
ps r   只显示正在运行的进程
</code></pre></div><h4 id="使用实例httpcbianchengnetview1062html"><a href="http://c.biancheng.net/view/1062.html">使用实例</a><a hidden class="anchor" aria-hidden="true" href="#使用实例httpcbianchengnetview1062html">#</a></h4>
<p>大家如果执行 <code>man ps</code> 命令，则会发现 ps 命令的帮助为了适应不同的类 UNIX 系统，可用格式非常多，不方便记忆。所以，我建议大家记忆几个固定选项即可。</p>
<p><strong><code>ps aux</code> 查看系统中所有的进程</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># ps aux</span>
USER PID %CPU %MEM  VSZ  RSS   TTY STAT START TIME COMMAND
root   <span style="color:#ae81ff">1</span>  0.0  0.2 <span style="color:#ae81ff">2872</span> <span style="color:#ae81ff">1416</span>   ?   Ss   Jun04 0:02 /sbin/init
root   <span style="color:#ae81ff">2</span>  0.0  0.0    <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">0</span>   ?    S   Jun04 0:00 <span style="color:#f92672">[</span>kthreadd<span style="color:#f92672">]</span>
root   <span style="color:#ae81ff">3</span>  0.0  0.0    <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">0</span>   ?    S   Jun04 0:00 <span style="color:#f92672">[</span>migration/0<span style="color:#f92672">]</span>
root   <span style="color:#ae81ff">4</span>  0.0  0.0    <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">0</span>   ?    S   Jun04 0:00 <span style="color:#f92672">[</span>ksoftirqd/0<span style="color:#f92672">]</span>
…省略部分输出…
</code></pre></div><p>输出信息中各列的具体含义：</p>
<table>
<thead>
<tr>
<th>表头</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>USER</td>
<td>该进程是由哪个用户产生的。</td>
</tr>
<tr>
<td>PID</td>
<td>进程的 ID。</td>
</tr>
<tr>
<td>%CPU</td>
<td>该进程占用 CPU 资源的百分比，占用的百分比越高，进程越耗费资源。</td>
</tr>
<tr>
<td>%MEM</td>
<td>该进程占用物理内存的百分比，占用的百分比越高，进程越耗费资源。</td>
</tr>
<tr>
<td>VSZ</td>
<td>该进程占用虚拟内存的大小，单位为 KB。</td>
</tr>
<tr>
<td>RSS</td>
<td>该进程占用实际物理内存的大小，单位为 KB。</td>
</tr>
<tr>
<td>TTY</td>
<td>该进程是在哪个终端运行的。其中，tty1 ~ tty7 代表本地控制台终端（可以通过 Alt+F1 ~ F7 快捷键切换不同的终端），tty1~tty6 是本地的字符界面终端，tty7 是图形终端。pts/0 ~ 255 代表虚拟终端，一般是远程连接的终端，第一个远程连接占用 pts/0，第二个远程连接占用 pts/1，依次増长。</td>
</tr>
<tr>
<td>STAT</td>
<td>进程状态。</td>
</tr>
<tr>
<td>START</td>
<td>该进程的启动时间。</td>
</tr>
<tr>
<td>TIME</td>
<td>该进程占用 CPU 的运算时间，注意不是系统时间。</td>
</tr>
<tr>
<td>COMMAND</td>
<td>产生此进程的命令名。</td>
</tr>
</tbody>
</table>
<p><strong><code>ps -le</code> 查看系统中所有的进程</strong></p>
<p><code>ps aux</code> 命令可以看到系统中所有的进程，<code>ps -le</code> 命令也能看到系统中所有的进程。由于 <code>-l</code> 选项的作用，所以 <code>ps -le</code> 命令能够看到更加详细的信息，比如父进程的 PID、优先级等。但是这两个命令的基本作用是一致的，掌握其中一个就足够了。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># ps -le</span>
F S UID PID PPID C  PRI Nl ADDR  SZ WCHAN TTY      TIME  CMD
<span style="color:#ae81ff">4</span> S   <span style="color:#ae81ff">0</span>   <span style="color:#ae81ff">1</span>    <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">80</span>   <span style="color:#ae81ff">0</span> -    <span style="color:#ae81ff">718</span> -     ?    00:00:02  init
<span style="color:#ae81ff">1</span> S   <span style="color:#ae81ff">0</span>   <span style="color:#ae81ff">2</span>    <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">80</span>   <span style="color:#ae81ff">0</span> -      <span style="color:#ae81ff">0</span> -     ?    00:00:00  kthreadd
<span style="color:#ae81ff">1</span> S   <span style="color:#ae81ff">0</span>   <span style="color:#ae81ff">3</span>    <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">0</span> -40   - -      <span style="color:#ae81ff">0</span> -     ?    00:00:00  migration/0
<span style="color:#ae81ff">1</span> S   <span style="color:#ae81ff">0</span>   <span style="color:#ae81ff">4</span>    <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">80</span>   <span style="color:#ae81ff">0</span> -      <span style="color:#ae81ff">0</span> -     ?    00:00:00  ksoflirqd/0
<span style="color:#ae81ff">1</span> S   <span style="color:#ae81ff">0</span>   <span style="color:#ae81ff">5</span>    <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">0</span> -40   - -      <span style="color:#ae81ff">0</span> -     ?    00:00:00  migration/0
…省略部分输出…
</code></pre></div><p>输出信息中各列的含义：</p>
<table>
<thead>
<tr>
<th>表头</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>F</td>
<td>进程标志，说明进程的权限，常见的标志有两个: 1：进程可以被复制，但是不能被执行；4：进程使用超级用户权限；</td>
</tr>
<tr>
<td>S</td>
<td>进程状态。具体的状态和&quot;psaux&quot;命令中的 STAT 状态一致；</td>
</tr>
<tr>
<td>UID</td>
<td>运行此进程的用户的 ID；</td>
</tr>
<tr>
<td>PID</td>
<td>进程的 ID；</td>
</tr>
<tr>
<td>PPID</td>
<td>父进程的 ID；</td>
</tr>
<tr>
<td>C</td>
<td>该进程的 CPU 使用率，单位是百分比；</td>
</tr>
<tr>
<td>PRI</td>
<td>进程的优先级，数值越小，该进程的优先级越高，越早被 CPU 执行；</td>
</tr>
<tr>
<td>NI</td>
<td>进程的优先级，数值越小，该进程越早被执行；</td>
</tr>
<tr>
<td>ADDR</td>
<td>该进程在内存的哪个位置；</td>
</tr>
<tr>
<td>SZ</td>
<td>该进程占用多大内存；</td>
</tr>
<tr>
<td>WCHAN</td>
<td>该进程是否运行。&quot;-&ldquo;代表正在运行；</td>
</tr>
<tr>
<td>TTY</td>
<td>该进程由哪个终端产生；</td>
</tr>
<tr>
<td>TIME</td>
<td>该进程占用 CPU 的运算时间，注意不是系统时间；</td>
</tr>
<tr>
<td>CMD</td>
<td>产生此进程的命令名；</td>
</tr>
</tbody>
</table>
<p><strong><code>ps -l</code> 查看当前 Shell 产生的进程</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># ps -l</span>
F S UID   PID  PPID C PRI NI ADDR SZ WCHAN TTY       TIME CMD
<span style="color:#ae81ff">4</span> S <span style="color:#ae81ff">0</span>   <span style="color:#ae81ff">18618</span> <span style="color:#ae81ff">18614</span> <span style="color:#ae81ff">0</span>  <span style="color:#ae81ff">80</span>  <span style="color:#ae81ff">0</span> - <span style="color:#ae81ff">1681</span>  -     pts/1 00:00:00 bash
<span style="color:#ae81ff">4</span> R <span style="color:#ae81ff">0</span>   <span style="color:#ae81ff">18683</span> <span style="color:#ae81ff">18618</span> <span style="color:#ae81ff">4</span>  <span style="color:#ae81ff">80</span>  <span style="color:#ae81ff">0</span> - <span style="color:#ae81ff">1619</span>  -     pts/1 00:00:00 ps
</code></pre></div><h3 id="tophttpcbianchengnetview1065html"><a href="http://c.biancheng.net/view/1065.html">top</a><a hidden class="anchor" aria-hidden="true" href="#tophttpcbianchengnetview1065html">#</a></h3>
<h4 id="简介httpslinuxtools-rstreadthedocsiozh_cnlatesttooltophtml"><a href="https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/top.html">简介</a><a hidden class="anchor" aria-hidden="true" href="#简介httpslinuxtools-rstreadthedocsiozh_cnlatesttooltophtml">#</a></h4>
<p>top命令是Linux下常用的性能分析工具，能够实时显示系统中各个进程的资源占用状况，类似于Windows的任务管理器。</p>
<p>top显示系统当前的进程和其他状况，是一个动态显示过程，即可以通过用户按键来不断刷新当前状态。如果在前台执行该命令，它将独占前台，直到用户终止该程序为止。</p>
<p>比较准确的说，top命令提供了实时的对系统处理器的状态监视。它将显示系统中CPU最“敏感”的任务列表。该命令可以按CPU使用、内存使用和执行时间对任务进行排序；而且该命令的很多特性都可以通过交互式命令或者在个人定制文件中进行设定。</p>
<h4 id="命令参数">命令参数<a hidden class="anchor" aria-hidden="true" href="#命令参数">#</a></h4>
<p>top 命令的基本格式如下：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#top [选项]</span>
</code></pre></div><p>选项：</p>
<ul>
<li>-d 秒数：指定 top 命令每隔几秒更新。默认是 3 秒；</li>
<li>-b：使用批处理模式输出。一般和&rdquo;-n&quot;选项合用，用于把 top 命令重定向到文件中；</li>
<li>-n 次数：指定 top 命令执行的次数。一般和&quot;-b&quot;选项合用；</li>
<li>-p 进程PID：仅查看指定 ID 的进程；</li>
<li>-s：使 top 命令在安全模式中运行，避免在交互模式中出现错误；</li>
<li>-u 用户名：只监听某个用户的进程；</li>
</ul>
<h4 id="交互操作指令">交互操作指令<a hidden class="anchor" aria-hidden="true" href="#交互操作指令">#</a></h4>
<p>在 top 命令的显示窗口中，还可以使用如下按键，进行一下交互操作：</p>
<ul>
<li>? 或 h：显示交互模式的帮助</li>
<li>P：按照 CPU 的使用率排序，默认就是此选项</li>
<li>M：按照内存的使用率排序</li>
<li>N：按照 PID 排序</li>
<li>T：按照 CPU 的累积运算时间排序，也就是按照 TIME+ 项排序</li>
<li>k：按照 PID 给予某个进程一个信号。一般用于中止某个进程，信号 9 是强制中止的信号</li>
<li>r：按照 PID 给某个进程重设优先级（Nice）值</li>
<li><code>&lt;Space&gt;</code>：立即刷新</li>
<li>s：设置刷新时间间隔</li>
<li>c：显示命令完全模式</li>
<li>t:：显示或隐藏进程和CPU状态信息</li>
<li>m：显示或隐藏内存状态信息</li>
<li>l：显示或隐藏uptime信息</li>
<li>f：增加或减少进程显示标志</li>
<li>S：累计模式，会把已完成或退出的子进程占用的CPU时间累计到父进程的TIME+</li>
<li>u：指定显示用户进程</li>
<li>i：只显示正在运行的进程</li>
<li>W：保存对top的设置到文件 <code>~/.toprc</code>，下次启动将自动调用toprc文件的设置。</li>
<li>q：退出</li>
</ul>
<h4 id="使用实例">使用实例<a hidden class="anchor" aria-hidden="true" href="#使用实例">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># top</span>
top - 12:26:46 up <span style="color:#ae81ff">1</span> day, 13:32, <span style="color:#ae81ff">2</span> users, load average: 0.00, 0.00, 0.00
Tasks: <span style="color:#ae81ff">95</span> total, <span style="color:#ae81ff">1</span> running, <span style="color:#ae81ff">94</span> sleeping, <span style="color:#ae81ff">0</span> stopped, <span style="color:#ae81ff">0</span> zombie
Cpu<span style="color:#f92672">(</span>s<span style="color:#f92672">)</span>: 0.1%us, 0.1%sy, 0.0%ni, 99.7%id, 0.1%wa, 0.0%hi, 0.1%si, 0.0%st
Mem: 625344k total, 571504k used, 53840k free, 65800k buffers
Swap: 524280k total, 0k used, 524280k free, 409280k cached
PID   USER PR NI VIRT  RES  SHR S %CPU %MEM   TIME+ COMMAND
<span style="color:#ae81ff">19002</span> root <span style="color:#ae81ff">20</span>  <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">2656</span> <span style="color:#ae81ff">1068</span>  <span style="color:#ae81ff">856</span> R  0.3  0.2 0:01.87 top
<span style="color:#ae81ff">1</span>     root <span style="color:#ae81ff">20</span>  <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">2872</span> <span style="color:#ae81ff">1416</span> <span style="color:#ae81ff">1200</span> S  0.0  0.2 0:02.55 init
<span style="color:#ae81ff">2</span>     root <span style="color:#ae81ff">20</span>  <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">0</span> S  0.0  0.0 0:00.03 kthreadd
</code></pre></div><p><strong>第一行为任务队列信息</strong></p>
<table>
<thead>
<tr>
<th>内 容</th>
<th>说 明</th>
</tr>
</thead>
<tbody>
<tr>
<td>12:26:46</td>
<td>系统当前时间</td>
</tr>
<tr>
<td>up 1 day, 13:32</td>
<td>系统的运行时间.本机己经运行 1 天 13 小时 32 分钟</td>
</tr>
<tr>
<td>2 users</td>
<td>当前登录了两个用户</td>
</tr>
<tr>
<td>load average: 0.00,0.00，0.00</td>
<td>系统在之前 1 分钟、5 分钟、15 分钟的平均负载。如果 CPU 是单核的，则这个数值超过 1 就是高负载：如果 CPU 是四核的，则这个数值超过 4 就是高负载 （这个平均负载完全是依据个人经验来进行判断的，一般认为不应该超过服务器 CPU 的核数）</td>
</tr>
</tbody>
</table>
<p><strong>第二行为进程信息</strong></p>
<table>
<thead>
<tr>
<th>内 容</th>
<th>说 明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Tasks: 95 total</td>
<td>系统中的进程总数</td>
</tr>
<tr>
<td>1 running</td>
<td>正在运行的进程数</td>
</tr>
<tr>
<td>94 sleeping</td>
<td>睡眠的进程数</td>
</tr>
<tr>
<td>0 stopped</td>
<td>正在停止的进程数</td>
</tr>
<tr>
<td>0 zombie</td>
<td>僵尸进程数。如果不是 0，则需要手工检查僵尸进程</td>
</tr>
</tbody>
</table>
<p><strong>第三行为 CPU 信息</strong></p>
<table>
<thead>
<tr>
<th>内 容</th>
<th>说 明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cpu(s): 0.1 %us</td>
<td>用户模式占用的 CPU 百分比</td>
</tr>
<tr>
<td>0.1%sy</td>
<td>系统模式占用的 CPU 百分比</td>
</tr>
<tr>
<td>0.0%ni</td>
<td>改变过优先级的用户进程占用的 CPU 百分比</td>
</tr>
<tr>
<td>99.7%id</td>
<td>空闲 CPU 占用的 CPU 百分比</td>
</tr>
<tr>
<td>0.1%wa</td>
<td>等待输入/输出的进程占用的 CPU 百分比</td>
</tr>
<tr>
<td>0.0%hi</td>
<td>硬中断请求服务占用的 CPU 百分比</td>
</tr>
<tr>
<td>0.1%si</td>
<td>软中断请求服务占用的 CPU 百分比</td>
</tr>
<tr>
<td>0.0%st</td>
<td>st（steal time）意为虚拟时间百分比，就是当有虚拟机时，虚拟 CPU 等待实际 CPU 的时间百分比</td>
</tr>
</tbody>
</table>
<p><strong>第四行为物理内存信息</strong></p>
<table>
<thead>
<tr>
<th>内 容</th>
<th>说 明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Mem: 625344k total</td>
<td>物理内存的总量，单位为KB</td>
</tr>
<tr>
<td>571504k used</td>
<td>己经使用的物理内存数量</td>
</tr>
<tr>
<td>53840k free</td>
<td>空闲的物理内存数量。我们使用的是虚拟机，共分配了 628MB内存，所以只有53MB的空闲内存</td>
</tr>
<tr>
<td>65800k buffers/cache</td>
<td>作为缓冲的内存数量</td>
</tr>
</tbody>
</table>
<p>缓冲（buffer）和缓存（cache）的区别：</p>
<ul>
<li>缓存（cache）是在读取硬盘中的数据时，把最常用的数据保存在内存的缓存区中，再次读取该数据时，就不去硬盘中读取了，而在缓存中读取。</li>
<li>缓冲（buffer）是在向硬盘写入数据时，先把数据放入缓冲区,然后再一起向硬盘写入，把分散的写操作集中进行，减少磁盘碎片和硬盘的反复寻道，从而提高系统性能。</li>
</ul>
<p>简单来说，缓存（cache）是用来加速数据从硬盘中&quot;读取&quot;的，而缓冲（buffer）是用来加速数据&quot;写入&quot;硬盘的。</p>
<p><strong>第五行为交换分区（swap）信息</strong></p>
<table>
<thead>
<tr>
<th>内 容</th>
<th>说 明</th>
</tr>
</thead>
<tbody>
<tr>
<td>Swap: 524280k total</td>
<td>交换分区（虚拟内存）的总大小</td>
</tr>
<tr>
<td>Ok used</td>
<td>已经使用的交换分区的大小</td>
</tr>
<tr>
<td>524280k free</td>
<td>空闲交换分区的大小</td>
</tr>
<tr>
<td>409280k cached</td>
<td>作为缓存的交换分区的大小</td>
</tr>
</tbody>
</table>
<p><strong>第六行为系统进程信息</strong></p>
<p>再来看 top 命令的第二部分输出，主要是系统进程信息，各个字段的含义如下：</p>
<ul>
<li>PID：进程的 ID。</li>
<li>USER：该进程所属的用户。</li>
<li>PR：优先级，数值越小优先级越高。</li>
<li>NI：优先级，数值越小、优先级越高。</li>
<li>VIRT：该进程使用的虚拟内存的大小，单位为 KB。</li>
<li>RES：该进程使用的物理内存的大小，单位为 KB。</li>
<li>SHR：共享内存大小，单位为 KB。</li>
<li>S：进程状态。</li>
<li>%CPU：该进程占用 CPU 的百分比。</li>
<li>%MEM：该进程占用内存的百分比。</li>
<li>TIME+：该进程共占用的 CPU 时间。</li>
<li>COMMAND：进程的命令名。</li>
</ul>
<h4 id="htophttpsgithubcomhtop-devhtop"><a href="https://github.com/htop-dev/htop/">htop</a><a hidden class="anchor" aria-hidden="true" href="#htophttpsgithubcomhtop-devhtop">#</a></h4>
<p>htop 是一个 Linux 下的交互式的进程浏览器，可以用来替换Linux下的top命令。</p>
<p>与Linux传统的top相比，htop更加人性化。它可让用户交互式操作，支持颜色主题，可横向或纵向滚动浏览进程列表，并支持鼠标操作。</p>
<h4 id="bpytophttpsgithubcomaristocratosbpytop"><a href="https://github.com/aristocratos/bpytop">bpytop</a><a hidden class="anchor" aria-hidden="true" href="#bpytophttpsgithubcomaristocratosbpytop">#</a></h4>
<p>Linux/OSX/FreeBSD resource monitor</p>
<h3 id="lsofhttpslinuxtools-rstreadthedocsiozh_cnlatesttoollsofhtml"><a href="https://linuxtools-rst.readthedocs.io/zh_CN/latest/tool/lsof.html">lsof</a><a hidden class="anchor" aria-hidden="true" href="#lsofhttpslinuxtools-rstreadthedocsiozh_cnlatesttoollsofhtml">#</a></h3>
<h4 id="简介httpcbianchengnetview1088html"><a href="http://c.biancheng.net/view/1088.html">简介</a><a hidden class="anchor" aria-hidden="true" href="#简介httpcbianchengnetview1088html">#</a></h4>
<p>lsof 命令，“list opened files”的缩写，直译过来，就是列举系统中已经被打开的文件。通过 lsof 命令，我们就可以根据文件找到对应的进程信息，也可以根据进程信息找到进程打开的文件。</p>
<p>在linux环境下，任何事物都以文件的形式存在，通过文件不仅仅可以访问常规数据，还可以访问网络连接和硬件。如传输控制协议 (TCP) 和用户数据报协议 (UDP) 套接字等，系统在后台都为该应用程序分配了一个文件描述符，无论这个文件的本质如何，该文件描述符为应用程序与基础操作系统之间的交互提供了通用接口。因为应用程序打开文件的描述符列表提供了大量关于这个应用程序本身的信息，因此通过lsof工具能够查看这个列表对系统监测以及排错将是很有帮助的。</p>
<p>在终端下输入lsof即可显示系统打开的文件，因为 lsof 需要访问核心内存和各种文件，所以必须以 root 用户的身份运行它才能够充分地发挥其功能。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo lsof | less
COMMAND     PID   TID TASKCMD                  USER   FD      TYPE             DEVICE   SIZE/OFF       NODE NAME
systemd       <span style="color:#ae81ff">1</span>                                root  cwd       DIR                8,2       <span style="color:#ae81ff">4096</span>          <span style="color:#ae81ff">2</span> /
systemd       <span style="color:#ae81ff">1</span>                                root  rtd       DIR                8,2       <span style="color:#ae81ff">4096</span>          <span style="color:#ae81ff">2</span> /
systemd       <span style="color:#ae81ff">1</span>                                root  txt       REG                8,2    <span style="color:#ae81ff">1620224</span>    <span style="color:#ae81ff">2491035</span> /usr/lib/systemd/systemd
systemd       <span style="color:#ae81ff">1</span>                                root  mem       REG                8,2    <span style="color:#ae81ff">1369352</span>    <span style="color:#ae81ff">2498532</span> /usr/lib/x86_64-linux-gnu/libm-2.31.so
systemd       <span style="color:#ae81ff">1</span>                                root  mem       REG                8,2     <span style="color:#ae81ff">178528</span>    <span style="color:#ae81ff">2490726</span> /usr/lib/x86_64-linux-gnu/libudev.so.1.6.17
</code></pre></div><p>输出各列信息的意义如下：</p>
<ul>
<li>
<p>COMMAND：进程的名称</p>
</li>
<li>
<p>PID：进程标识符</p>
</li>
<li>
<p>PPID：父进程标识符（需要指定-R参数）</p>
</li>
<li>
<p>USER：进程所有者</p>
</li>
<li>
<p>PGID：进程所属组</p>
</li>
<li>
<p>FD：文件描述符（filedescriptor，简称 fd），应用程序通过文件描述符识别该文件类型。</p>
<p>例如 cwd 表示current work dirctory，即应用程序的当前工作目录，这是该应用程序启动的目录，除非它本身对这个目录进行更改。txt 表示该类型的文件是程序代码，如应用程序二进制文件本身或共享库，如上列表中显示的 <code>/usr/lib/systemd/systemd</code> 程序。</p>
</li>
<li>
<p>TYPE：文件类型，如DIR、REG等，常见的文件类型:</p>
<ul>
<li>DIR：目录</li>
<li>REG：普通文件</li>
<li>CHR：字符</li>
<li>BLK：块设备类型</li>
<li>UNIX： UNIX 域套接字</li>
<li>FIFO：先进先出 (FIFO) 队列</li>
<li>IPv4：网际协议 (IP) 套接字</li>
</ul>
</li>
<li>
<p>DEVICE：指定磁盘的名称</p>
</li>
<li>
<p>SIZE：文件的大小</p>
</li>
<li>
<p>NODE：索引节点（文件在磁盘上的标识）</p>
</li>
<li>
<p>NAME：打开文件的确切名称</p>
</li>
</ul>
<h4 id="命令参数-1">命令参数<a hidden class="anchor" aria-hidden="true" href="#命令参数-1">#</a></h4>
<table>
<thead>
<tr>
<th>参数</th>
<th>含义</th>
</tr>
</thead>
<tbody>
<tr>
<td>-a</td>
<td>列出打开文件存在的进程</td>
</tr>
<tr>
<td>-c &lt;进程名&gt;</td>
<td>列出指定进程名所打开的文件</td>
</tr>
<tr>
<td>-g</td>
<td>列出GID号进程详情</td>
</tr>
<tr>
<td>-d &lt;文件号&gt;</td>
<td>列出占用该文件号的进程</td>
</tr>
<tr>
<td>+d &lt;目录&gt;</td>
<td>列出目录下被打开的文件</td>
</tr>
<tr>
<td>+D &lt;目录&gt;</td>
<td>递归列出目录下被打开的文件</td>
</tr>
<tr>
<td>-n &lt;目录&gt;</td>
<td>列出使用NFS的文件</td>
</tr>
<tr>
<td>-i &lt;条件&gt;</td>
<td>列出符合条件的进程</td>
</tr>
<tr>
<td>-p &lt;进程号&gt;</td>
<td>列出指定进程号所打开的文件</td>
</tr>
<tr>
<td>-u</td>
<td>列出UID号进程详情</td>
</tr>
<tr>
<td>-h</td>
<td>显示帮助信息</td>
</tr>
<tr>
<td>-v</td>
<td>显示版本信息</td>
</tr>
</tbody>
</table>
<h4 id="使用实例-1">使用实例<a hidden class="anchor" aria-hidden="true" href="#使用实例-1">#</a></h4>
<p><strong>查询某个文件被哪个进程调用</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ lsof /bin/bash
</code></pre></div><p><strong>查询某个目录下所有的文件是被哪些进程调用的</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ lsof +d /usr/lib
</code></pre></div><p><strong>查看以httpd开头的进程调用了哪些文件</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ lsof -c httpd
</code></pre></div><p><strong>查询PID是1的进程调用的文件</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ lsof -p <span style="color:#ae81ff">1</span>
</code></pre></div><p><strong>按照用户名查询某个用户的进程调用的文件</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ lsof -u username
</code></pre></div><p><strong>列出某个用户以及某个进程所打开的文件信息</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ lsof  -u test -c mysql
</code></pre></div><p><strong>列出所有的网络连接</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ lsof -i
</code></pre></div><p><strong>列出所有tcp 网络连接信息</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ lsof -i tcp
</code></pre></div><p><strong>列出谁在使用某个端口</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ lsof -i :3306
</code></pre></div><p><strong>列出某个用户的所有活跃的网络端口</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ lsof -a -u test -i
</code></pre></div><p><strong>根据文件描述列出对应的文件信息</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ lsof -d txt
</code></pre></div><p><strong>列出被进程号为1234的进程所打开的所有 IPV4 network files</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ lsof -i <span style="color:#ae81ff">4</span> -a -p <span style="color:#ae81ff">1234</span>
</code></pre></div><p><strong>列出目前连接主机nf5260i5-td上端口为：20，21，80相关的所有文件信息，且每隔3秒重复执行</strong></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ lsof -i @nf5260i5-td:20,21,80 -r <span style="color:#ae81ff">3</span>
</code></pre></div><h3 id="write">write<a hidden class="anchor" aria-hidden="true" href="#write">#</a></h3>
<p>在服务器上，有时会有多个用户同时登录，一些必要的沟通就显得尤为重要。比如,我必须关闭某个服务，或者需要重启服务器，当然需要通知同时登录服务器的用户，这时就可以使用 write 命令。</p>
<p>write 命令的信息如下：</p>
<ul>
<li>命令名称：write。</li>
<li>英文原意：send a message to another user。</li>
<li>所在路径：/usr/bin/write。</li>
<li>执行权限：所有用户。</li>
<li>功能描述：向其他用户发送信息。</li>
</ul>
<p>write 命令的基本格式如下:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ write 用户名 <span style="color:#f92672">[</span>终端号<span style="color:#f92672">]</span>
</code></pre></div><p>write 命令没有多余的选项，我们要向在某个终端登录的用户发送信息，就可以这样来执行命令：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># 向在pts/1 (远程终端1)登录的user1用户发送信息，使用&#34;Ctrl+D&#34;快捷键保存发送的数据</span>
$ write user1 pts/1
hello
I will be in <span style="color:#ae81ff">5</span> minutes to restart, please save your data
</code></pre></div><p>这时，user1 用户就可以收到你要在 5 分钟之后重启系统的信息了。</p>
<h3 id="xargs">xargs<a hidden class="anchor" aria-hidden="true" href="#xargs">#</a></h3>
<h4 id="标准输入与管道命令">标准输入与管道命令<a hidden class="anchor" aria-hidden="true" href="#标准输入与管道命令">#</a></h4>
<p>Unix 命令都带有参数，有些命令可以接受&quot;标准输入&quot;（stdin）作为参数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ cat /etc/passwd | grep root
</code></pre></div><p>上面的代码使用了管道命令（<code>|</code>）。管道命令的作用，是将左侧命令（<code>cat /etc/passwd</code>）的标准输出转换为标准输入，提供给右侧命令（<code>grep root</code>）作为参数。</p>
<p>因为<code>grep</code>命令可以接受标准输入作为参数，所以上面的代码等同于下面的代码。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ grep root /etc/passwd
</code></pre></div><p>但是，大多数命令都不接受标准输入作为参数，只能直接在命令行输入参数，这导致无法用管道命令传递参数。举例来说，<code>echo</code>命令就不接受管道传参。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ echo <span style="color:#e6db74">&#34;hello world&#34;</span> | echo
</code></pre></div><p>上面的代码不会有输出。因为管道右侧的<code>echo</code>不接受管道传来的标准输入作为参数。</p>
<h4 id="xargs-命令的作用">xargs 命令的作用<a hidden class="anchor" aria-hidden="true" href="#xargs-命令的作用">#</a></h4>
<p><code>xargs</code>命令的作用，是将标准输入转为命令行参数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ echo <span style="color:#e6db74">&#34;hello world&#34;</span> | xargs echo
hello world
</code></pre></div><p>上面的代码将管道左侧的标准输入，转为命令行参数<code>hello world</code>，传给第二个<code>echo</code>命令。</p>
<p><code>xargs</code>命令的格式如下。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ xargs <span style="color:#f92672">[</span>-options<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>command<span style="color:#f92672">]</span>
</code></pre></div><p>真正执行的命令，紧跟在<code>xargs</code>后面，接受<code>xargs</code>传来的参数。</p>
<p><code>xargs</code>的作用在于，大多数命令（比如<code>rm</code>、<code>mkdir</code>、<code>ls</code>）与管道一起使用时，都需要<code>xargs</code>将标准输入转为命令行参数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ echo <span style="color:#e6db74">&#34;one two three&#34;</span> | xargs mkdir
</code></pre></div><p>上面的代码等同于<code>mkdir one two three</code>。如果不加<code>xargs</code>就会报错，提示<code>mkdir</code>缺少操作参数。</p>
<h4 id="xargs-的单独使用">xargs 的单独使用<a hidden class="anchor" aria-hidden="true" href="#xargs-的单独使用">#</a></h4>
<p><code>xargs</code>后面的命令默认是<code>echo</code>。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ xargs
<span style="color:#75715e"># 等同于</span>
$ xargs echo
</code></pre></div><p>大多数时候，<code>xargs</code>命令都是跟管道一起使用的。但是，它也可以单独使用。</p>
<p>输入<code>xargs</code>按下回车以后，命令行就会等待用户输入，作为标准输入。你可以输入任意内容，然后按下<code>Ctrl d</code>，表示输入结束，这时<code>echo</code>命令就会把前面的输入打印出来。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ xargs
hello 
<span style="color:#f92672">(</span>Ctrl + d<span style="color:#f92672">)</span>
hello
</code></pre></div><p>再看一个例子。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ xargs find -name
<span style="color:#e6db74">&#34;*.txt&#34;</span>
./foo.txt
./hello.txt
</code></pre></div><p>上面的例子输入<code>xargs find -name</code>以后，命令行会等待用户输入所要搜索的文件。用户输入<code>&quot;*.txt&quot;</code>，表示搜索当前目录下的所有 TXT 文件，然后按下<code>Ctrl d</code>，表示输入结束。这时就相当执行<code>find -name *.txt</code>。</p>
<h4 id="-d-参数与分隔符">-d 参数与分隔符<a hidden class="anchor" aria-hidden="true" href="#-d-参数与分隔符">#</a></h4>
<p>默认情况下，<code>xargs</code>将换行符和空格作为分隔符，把标准输入分解成一个个命令行参数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ echo <span style="color:#e6db74">&#34;one two three&#34;</span> | xargs mkdir
</code></pre></div><p>上面代码中，<code>mkdir</code>会新建三个子目录，因为<code>xargs</code>将<code>one two three</code>分解成三个命令行参数，执行<code>mkdir one two three</code>。</p>
<p><code>-d</code>参数可以更改分隔符。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ echo -e <span style="color:#e6db74">&#34;a\tb\tc&#34;</span> | xargs -d <span style="color:#e6db74">&#34;\t&#34;</span> echo
a b c
</code></pre></div><p>上面的命令指定制表符<code>\t</code>作为分隔符，所以<code>a\tb\tc</code>就转换成了三个命令行参数。<code>echo</code>命令的<code>-e</code>参数表示解释转义字符。</p>
<h4 id="-p-参数-t-参数">-p 参数，-t 参数<a hidden class="anchor" aria-hidden="true" href="#-p-参数-t-参数">#</a></h4>
<p>使用<code>xargs</code>命令以后，由于存在转换参数过程，有时需要确认一下到底执行的是什么命令。</p>
<p><code>-p</code>参数打印出要执行的命令，询问用户是否要执行。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ echo <span style="color:#e6db74">&#39;one two three&#39;</span> | xargs -p touch
touch one two three ?...
</code></pre></div><p>上面的命令执行以后，会打印出最终要执行的命令，让用户确认。用户输入<code>y</code>以后（大小写皆可），才会真正执行。</p>
<p><code>-t</code>参数则是打印出最终要执行的命令，然后直接执行，不需要用户确认。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ echo <span style="color:#e6db74">&#39;one two three&#39;</span> | xargs -t rm
rm one two three
</code></pre></div><h4 id="-0-参数与-find-命令">-0 参数与 find 命令<a hidden class="anchor" aria-hidden="true" href="#-0-参数与-find-命令">#</a></h4>
<p>由于<code>xargs</code>默认将空格作为分隔符，所以不太适合处理文件名，因为文件名可能包含空格。</p>
<p><code>find</code>命令有一个特别的参数<code>-print0</code>，指定输出的文件列表以<code>null</code>分隔。然后，<code>xargs</code>命令的<code>-0</code>参数表示用<code>null</code>当作分隔符。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ find /path -type f -print0 | xargs -0 rm
</code></pre></div><p>上面命令删除<code>/path</code>路径下的所有文件。由于分隔符是<code>null</code>，所以处理包含空格的文件名，也不会报错。</p>
<p>还有一个原因，使得<code>xargs</code>特别适合<code>find</code>命令。有些命令（比如<code>rm</code>）一旦参数过多会报错&quot;参数列表过长&quot;，而无法执行，改用<code>xargs</code>就没有这个问题，因为它对每个参数执行一次命令。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ find . -name <span style="color:#e6db74">&#34;*.txt&#34;</span> | xargs grep <span style="color:#e6db74">&#34;abc&#34;</span>
</code></pre></div><p>上面命令找出所有 TXT 文件以后，对每个文件搜索一次是否包含字符串<code>abc</code>。</p>
<h4 id="-l-参数">-L 参数<a hidden class="anchor" aria-hidden="true" href="#-l-参数">#</a></h4>
<p>如果标准输入包含多行，<code>-L</code>参数指定多少行作为一个命令行参数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ xargs find -name
<span style="color:#e6db74">&#34;*.txt&#34;</span>
<span style="color:#e6db74">&#34;*.md&#34;</span>
find: paths must precede expression: <span style="color:#e6db74">`</span>*.md<span style="color:#960050;background-color:#1e0010">&#39;</span>
</code></pre></div><p>上面命令同时将<code>&quot;*.txt&quot;</code>和<code>*.md</code>两行作为命令行参数，传给<code>find</code>命令导致报错。</p>
<p>使用<code>-L</code>参数，指定每行作为一个命令行参数，就不会报错。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ xargs -L <span style="color:#ae81ff">1</span> find -name
<span style="color:#e6db74">&#34;*.txt&#34;</span>
./foo.txt
./hello.txt
<span style="color:#e6db74">&#34;*.md&#34;</span>
./README.md
</code></pre></div><p>上面命令指定了每一行（<code>-L 1</code>）作为命令行参数，分别运行一次命令（<code>find -name</code>）。</p>
<p>下面是另一个例子。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ echo -e <span style="color:#e6db74">&#34;a\nb\nc&#34;</span> | xargs -L <span style="color:#ae81ff">1</span> echo
a
b
c
</code></pre></div><p>上面代码指定每行运行一次<code>echo</code>命令，所以<code>echo</code>命令执行了三次，输出了三行。</p>
<h4 id="-n-参数">-n 参数<a hidden class="anchor" aria-hidden="true" href="#-n-参数">#</a></h4>
<p><code>-L</code>参数虽然解决了多行的问题，但是有时用户会在同一行输入多项。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ xargs find -name
<span style="color:#e6db74">&#34;*.txt&#34;</span> <span style="color:#e6db74">&#34;*.md&#34;</span>
find: paths must precede expression: <span style="color:#e6db74">`</span>*.md<span style="color:#960050;background-color:#1e0010">&#39;</span>
</code></pre></div><p>上面的命令将同一行的两项作为命令行参数，导致报错。</p>
<p><code>-n</code>参数指定每次将多少项，作为命令行参数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ xargs -n <span style="color:#ae81ff">1</span> find -name
</code></pre></div><p>上面命令指定将每一项（<code>-n 1</code>）标准输入作为命令行参数，分别执行一次命令（<code>find -name</code>）。</p>
<p>下面是另一个例子。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ echo <span style="color:#f92672">{</span>0..9<span style="color:#f92672">}</span> | xargs -n <span style="color:#ae81ff">2</span> echo
<span style="color:#ae81ff">0</span> <span style="color:#ae81ff">12</span> <span style="color:#ae81ff">34</span> <span style="color:#ae81ff">56</span> <span style="color:#ae81ff">78</span> <span style="color:#ae81ff">9</span>
</code></pre></div><p>上面命令指定，每两个参数运行一次<code>echo</code>命令。所以，10个阿拉伯数字运行了五次<code>echo</code>命令，输出了五行。</p>
<h4 id="-i-参数">-I 参数<a hidden class="anchor" aria-hidden="true" href="#-i-参数">#</a></h4>
<p>如果<code>xargs</code>要将命令行参数传给多个命令，可以使用<code>-I</code>参数。</p>
<p><code>-I</code>指定每一项命令行参数的替代字符串。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ cat foo.txt
one
two
three
$ cat foo.txt | xargs -I file sh -c <span style="color:#e6db74">&#39;echo file; mkdir file&#39;</span>
one 
two
three
$ ls
one two three
</code></pre></div><p>上面代码中，<code>foo.txt</code>是一个三行的文本文件。我们希望对每一项命令行参数，执行两个命令（<code>echo</code>和<code>mkdir</code>），使用<code>-I file</code>表示<code>file</code>是命令行参数的替代字符串。执行命令时，具体的参数会替代掉<code>echo file; mkdir file</code>里面的两个<code>file</code>。</p>
<h4 id="--max-procs-参数">&ndash;max-procs 参数<a hidden class="anchor" aria-hidden="true" href="#--max-procs-参数">#</a></h4>
<p><code>xargs</code>默认只用一个进程执行命令。如果命令要执行多次，必须等上一次执行完，才能执行下一次。</p>
<p><code>--max-procs</code>参数指定同时用多少个进程并行执行命令。<code>--max-procs 2</code>表示同时最多使用两个进程，<code>--max-procs 0</code>表示不限制进程数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ docker ps -q | xargs -n <span style="color:#ae81ff">1</span> --max-procs <span style="color:#ae81ff">0</span> docker kill
</code></pre></div><p>上面命令表示，同时关闭尽可能多的 Docker 容器，这样运行速度会快很多。</p>
<h3 id="awkhttpswwwruanyifengcomblog201811awkhtml"><a href="https://www.ruanyifeng.com/blog/2018/11/awk.html">awk</a><a hidden class="anchor" aria-hidden="true" href="#awkhttpswwwruanyifengcomblog201811awkhtml">#</a></h3>
<p><a href="https://en.wikipedia.org/wiki/AWK"><code>awk</code></a>是处理文本文件的一个应用程序，几乎所有 Linux 系统都自带这个程序。</p>
<p>它依次处理文件的每一行，并读取里面的每一个字段。对于日志、CSV 那样的每行格式相同的文本文件，<code>awk</code>可能是最方便的工具。</p>
<p><code>awk</code>其实不仅仅是工具软件，还是一种编程语言。不过，本文只介绍它的命令行用法，对于大多数场合，应该足够用了。</p>
<h4 id="基本用法">基本用法<a hidden class="anchor" aria-hidden="true" href="#基本用法">#</a></h4>
<p><code>awk</code>的基本用法就是下面的形式。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># 格式</span>
$ awk 动作 文件名

<span style="color:#75715e"># 示例</span>
$ awk <span style="color:#e6db74">&#39;{print $0}&#39;</span> demo.txt
</code></pre></div><p>上面示例中，<code>demo.txt</code>是<code>awk</code>所要处理的文本文件。前面单引号内部有一个大括号，里面就是每一行的处理动作<code>print $0</code>。其中，<code>print</code>是打印命令，<code>$0</code>代表当前行，因此上面命令的执行结果，就是把每一行原样打印出来。</p>
<p>下面，我们先用标准输入（stdin）演示上面这个例子。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ echo <span style="color:#e6db74">&#39;this is a test&#39;</span> | awk <span style="color:#e6db74">&#39;{print $0}&#39;</span>
this is a test
</code></pre></div><p>上面代码中，<code>print $0</code>就是把标准输入<code>this is a test</code>，重新打印了一遍。</p>
<p><code>awk</code>会根据空格和制表符，将每一行分成若干字段，依次用<code>$1</code>、<code>$2</code>、<code>$3</code>代表第一个字段、第二个字段、第三个字段等等。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ echo <span style="color:#e6db74">&#39;this is a test&#39;</span> | awk <span style="color:#e6db74">&#39;{print $3}&#39;</span>
a
</code></pre></div><p>上面代码中，<code>$3</code>代表<code>this is a test</code>的第三个字段<code>a</code>。</p>
<p>下面，为了便于举例，我们把<code>/etc/passwd</code>文件保存成<code>demo.txt</code>。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">root❌0:0:root:/root:/usr/bin/zsh
daemon❌1:1:daemon:/usr/sbin:/usr/sbin/nologin
bin❌2:2:bin:/bin:/usr/sbin/nologin
sys❌3:3:sys:/dev:/usr/sbin/nologin
sync❌4:65534:sync:/bin:/bin/sync
</code></pre></div><p>这个文件的字段分隔符是冒号（<code>:</code>），所以要用<code>-F</code>参数指定分隔符为冒号。然后，才能提取到它的第一个字段。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ awk -F <span style="color:#e6db74">&#39;:&#39;</span> <span style="color:#e6db74">&#39;{ print $1 }&#39;</span> demo.txt
root
daemon
bin
sys
sync
</code></pre></div><h4 id="变量">变量<a hidden class="anchor" aria-hidden="true" href="#变量">#</a></h4>
<p>除了<code>$ + 数字</code>表示某个字段，<code>awk</code>还提供其他一些变量。</p>
<p>变量<code>NF</code>表示当前行有多少个字段，因此<code>$NF</code>就代表最后一个字段。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ echo <span style="color:#e6db74">&#39;this is a test&#39;</span> | awk <span style="color:#e6db74">&#39;{print $NF}&#39;</span>
test
</code></pre></div><p><code>$(NF-1)</code>代表倒数第二个字段。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ awk -F <span style="color:#e6db74">&#39;:&#39;</span> <span style="color:#e6db74">&#39;{print $1, $(NF-1)}&#39;</span> demo.txt
root /root
daemon /usr/sbin
bin /bin
sys /dev
sync /bin
</code></pre></div><p>上面代码中，<code>print</code>命令里面的逗号，表示输出的时候，两个部分之间使用空格分隔。</p>
<p>变量<code>NR</code>表示当前处理的是第几行。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ awk -F <span style="color:#e6db74">&#39;:&#39;</span> <span style="color:#e6db74">&#39;{print NR &#34;) &#34; $1}&#39;</span> demo.txt
1<span style="color:#f92672">)</span> root
2<span style="color:#f92672">)</span> daemon
3<span style="color:#f92672">)</span> bin
4<span style="color:#f92672">)</span> sys
5<span style="color:#f92672">)</span> sync
</code></pre></div><p>上面代码中，<code>print</code>命令里面，如果原样输出字符，要放在双引号里面。</p>
<p><code>awk</code>的其他内置变量如下。</p>
<ul>
<li><code>FILENAME</code>：当前文件名</li>
<li><code>FS</code>：字段分隔符，默认是空格和制表符。</li>
<li><code>RS</code>：行分隔符，用于分割每一行，默认是换行符。</li>
<li><code>OFS</code>：输出字段的分隔符，用于打印时分隔字段，默认为空格。</li>
<li><code>ORS</code>：输出记录的分隔符，用于打印时分隔记录，默认为换行符。</li>
<li><code>OFMT</code>：数字输出的格式，默认为<code>％.6g</code>。</li>
</ul>
<h4 id="函数">函数<a hidden class="anchor" aria-hidden="true" href="#函数">#</a></h4>
<p><code>awk</code>还提供了一些内置函数，方便对原始数据的处理。</p>
<p>函数<code>toupper()</code>用于将字符转为大写。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ awk -F <span style="color:#e6db74">&#39;:&#39;</span> <span style="color:#e6db74">&#39;{ print toupper($1) }&#39;</span> demo.txt
ROOT
DAEMON
BIN
SYS
SYNC
</code></pre></div><p>上面代码中，第一个字段输出时都变成了大写。</p>
<p>其他常用函数如下。</p>
<ul>
<li><code>tolower()</code>：字符转为小写。</li>
<li><code>length()</code>：返回字符串长度。</li>
<li><code>substr()</code>：返回子字符串。</li>
<li><code>sin()</code>：正弦。</li>
<li><code>cos()</code>：余弦。</li>
<li><code>sqrt()</code>：平方根。</li>
<li><code>rand()</code>：随机数。</li>
</ul>
<p><code>awk</code>内置函数的完整列表，可以查看<a href="https://www.gnu.org/software/gawk/manual/html_node/Built_002din.html#Built_002din">手册</a>。</p>
<h4 id="条件">条件<a hidden class="anchor" aria-hidden="true" href="#条件">#</a></h4>
<p><code>awk</code>允许指定输出条件，只输出符合条件的行。</p>
<p>输出条件要写在动作的前面。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ awk <span style="color:#e6db74">&#39;条件 动作&#39;</span> 文件名
</code></pre></div><p>请看下面的例子。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ awk -F <span style="color:#e6db74">&#39;:&#39;</span> <span style="color:#e6db74">&#39;/usr/ {print $1}&#39;</span> demo.txt
root
daemon
bin
sys
</code></pre></div><p>上面代码中，<code>print</code>命令前面是一个正则表达式，只输出包含<code>usr</code>的行。</p>
<p>下面的例子只输出奇数行，以及输出第三行以后的行。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># 输出奇数行</span>
$ awk -F <span style="color:#e6db74">&#39;:&#39;</span> <span style="color:#e6db74">&#39;NR % 2 == 1 {print $1}&#39;</span> demo.txt
root
bin
sync

<span style="color:#75715e"># 输出第三行以后的行</span>
$ awk -F <span style="color:#e6db74">&#39;:&#39;</span> <span style="color:#e6db74">&#39;NR &gt;3 {print $1}&#39;</span> demo.txt
sys
sync
</code></pre></div><p>下面的例子输出第一个字段等于指定值的行。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ awk -F <span style="color:#e6db74">&#39;:&#39;</span> <span style="color:#e6db74">&#39;$1 == &#34;root&#34; {print $1}&#39;</span> demo.txt
root

$ awk -F <span style="color:#e6db74">&#39;:&#39;</span> <span style="color:#e6db74">&#39;$1 == &#34;root&#34; || $1 == &#34;bin&#34; {print $1}&#39;</span> demo.txt
root
bin
</code></pre></div><h4 id="if-语句">if 语句<a hidden class="anchor" aria-hidden="true" href="#if-语句">#</a></h4>
<p><code>awk</code>提供了<code>if</code>结构，用于编写复杂的条件。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ awk -F <span style="color:#e6db74">&#39;:&#39;</span> <span style="color:#e6db74">&#39;{if ($1 &gt; &#34;m&#34;) print $1}&#39;</span> demo.txt
root
sys
sync
</code></pre></div><p>上面代码输出第一个字段的第一个字符大于<code>m</code>的行。</p>
<p><code>if</code>结构还可以指定<code>else</code>部分。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ awk -F <span style="color:#e6db74">&#39;:&#39;</span> <span style="color:#e6db74">&#39;{if ($1 &gt; &#34;m&#34;) print $1; else print &#34;---&#34;}&#39;</span> demo.txt
root
---
---
sys
sync
</code></pre></div><h3 id="findhttpslinuxcnarticle-14071-1html"><a href="https://linux.cn/article-14071-1.html">find</a><a hidden class="anchor" aria-hidden="true" href="#findhttpslinuxcnarticle-14071-1html">#</a></h3>
<p><code>find</code> 命令由 <a href="https://pubs.opengroup.org/onlinepubs/9699919799.2018edition/">POSIX 规范</a> 定义，它创建了一个用于衡量 POSIX 系统的开放标准，这包括 Linux、BSD 和 macOS。简而言之，只要你运行的是 Linux、BSD 或 macOS，那么 <code>find</code> 已经安装了。</p>
<p>但是，并非所有的 <code>find</code> 命令都完全相同。例如，GNU 的 <code>find</code> 命令有一些 BSD、Busybox 或 Solaris 上 <code>find</code> 命令可能没有或有但实现方式不同的功能。本文使用 <a href="https://www.gnu.org/software/findutils/">findutils</a> 包中的 GNU <code>find</code>，因为它很容易获得且非常流行。本文演示的大多数命令都适用于 <code>find</code> 的其他实现，但是如果你在 Linux 以外的平台上尝试命令并得到非预期结果，尝试下载并安装 GNU 版本。</p>
<p>man文档中给出的find命令的一般形式为：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">find <span style="color:#f92672">[</span>-H<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-L<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-P<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-D debugopts<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-Olevel<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>path...<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>expression<span style="color:#f92672">]</span>
</code></pre></div><p>其实[-H] [-L] [-P] [-D debugopts] [-Olevel]这几个选项并不常用（至少在我的日常工作中，没有用到过），上面的find命令的常用形式可以简化为：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">find <span style="color:#f92672">[</span>path...<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>expression<span style="color:#f92672">]</span>
</code></pre></div><ul>
<li>
<p>path：find命令所查找的目录路径。例如用<code>.</code>来表示当前目录，用<code>/</code>来表示系统根目录</p>
</li>
<li>
<p>expression：expression可以分为——“-options [-print -exec -ok &hellip;]”</p>
</li>
<li>
<ul>
<li><code>-options</code>，指定find命令的常用选项</li>
<li><code>-print</code>，find命令将匹配的文件输出到标准输出</li>
<li><code>-exec</code>，find命令对匹配的文件执行该参数所给出的shell命令。相应命令的形式为<code>'command' { } \;</code>，注意{  }和\；之间的空格
<code>find ./ -size 0 -exec rm {} \;</code> 删除文件大小为零的文件 （还可以以这样做：<code>rm -i find ./ -size 0</code>  或 <code>find ./ -size 0 | xargs rm -f &amp;） </code></li>
<li>为了用ls -l命令列出所匹配到的文件，可以把ls -l命令放在find命令的-exec选项中：<code>find . -type f -exec ls -l { } \;</code>
在/logs目录中查找更改时间在5日以前的文件并删除它们：<code>find /logs -type f -mtime +5 -exec rm { } \;</code></li>
<li><code>-ok</code>，和<code>-exec</code>的作用相同，只不过以一种更为安全的模式来执行该参数所给出的shell命令，在执行每一个命令之前，都会给出提示，让用户来确定是否执行。
<code>find . -name &quot;*.conf&quot; -mtime +5 -ok rm { } \;</code> 在当前目录中查找所有文件名以.LOG结尾、更改时间在5日以上的文件，并删除它们，只不过在删除之前先给出提示</li>
</ul>
</li>
</ul>
<p>也有人这样总结find命令的结构：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">find start_directory
      options
      criteria_to_match
      action_to_perform_on_results
</code></pre></div><h4 id="常用选项httpslinuxcnarticle-1672-1html"><a href="https://linux.cn/article-1672-1.html">常用选项</a><a hidden class="anchor" aria-hidden="true" href="#常用选项httpslinuxcnarticle-1672-1html">#</a></h4>
<ul>
<li><code>-name </code>
按照文件名查找文件。
<code>find /dir -name filename </code> 在/dir目录及其子目录下面查找名字为filename的文件
<code>find . -name &quot;*.c&quot;</code> 在当前目录及其子目录（用“.”表示）中查找任何扩展名为“c”的文件</li>
<li><code>-perm</code>
按照文件权限来查找文件。
<code>find . -perm 755 –print</code> 在当前目录下查找文件权限位为755的文件，即文件属主可以读、写、执行，其它用户可以读、执行的文件</li>
<li><code>-prune </code>
使用这一选项可以使find命令不在当前指定的目录中查找，如果同时使用-depth选项，那么-prune将被find命令忽略。
<code>find /apps -path &quot;/apps/bin&quot; -prune -o –print </code>在/apps目录下查找文件，但不希望在/apps/bin目录下查找
<code>find /usr/sam -path &quot;/usr/sam/dir1&quot; -prune -o –print</code> 在/usr/sam目录下查找不在dir1子目录之内的所有文件</li>
<li><code>-user </code>
按照文件属主来查找文件。
<code>find ~ -user sam –print</code> 在$HOME目录中查找文件属主为sam的文件</li>
<li><code>-group </code>
按照文件所属的组来查找文件。
<code>find /apps -group gem –print</code> 在/apps目录下查找属于gem用户组的文件</li>
<li><code>-mtime -n +n </code>
按照文件的更改时间来查找文件， - n表示文件更改时间距现在n天以内，+ n表示文件更改时间距现在n天以前。
<code>find / -mtime -5 –print </code>在系统根目录下查找更改时间在5日以内的文件
<code>find /var/adm -mtime +3 –print</code> 在/var/adm目录下查找更改时间在3日以前的文件</li>
<li><code>-nogroup </code>
查找无有效所属组的文件，即该文件所属的组在/etc/groups中不存在。
<code>find / –nogroup -print</code></li>
<li><code>-nouser </code>
查找无有效属主的文件，即该文件的属主在/etc/passwd中不存在。
<code>find /home -nouser –print</code></li>
<li><code>-newer file1 ! file2 </code>
查找更改时间比文件file1新但比文件file2旧的文件。</li>
<li><code>-type </code>
查找某一类型的文件，诸如：
b - 块设备文件。
d - 目录。
c - 字符设备文件。
p - 管道文件。
l - 符号链接文件。
f - 普通文件。
<code>find /etc -type d –print</code> 在/etc目录下查找所有的目录
<code>find . ! -type d –print</code> 在当前目录下查找除目录以外的所有类型的文件
<code>find /etc -type l –print</code> 在/etc目录下查找所有的符号链接文件</li>
<li><code>-size n</code>：[c] 查找文件长度为n块的文件，带有c时表示文件长度以字节计。
<code>find . -size +1000000c –print</code> 在当前目录下查找文件长度大于1 M字节的文件
<code>find /home/apache -size 100c –print</code> 在/home/apache目录下查找文件长度恰好为100字节的文件
<code>find . -size +10 –print</code> 在当前目录下查找长度超过10块的文件（一块等于512字节）</li>
<li><code>-depth</code>：在查找文件时，首先查找当前目录中的文件，然后再在其子目录中查找。
<code>find / -name &quot;CON.FILE&quot; -depth –print</code> 它将首先匹配所有的文件然后再进入子目录中查找</li>
<li><code>-mount</code>：在查找文件时不跨越文件系统mount点。
<code>find . -name &quot;*.XC&quot; -mount –print</code> 从当前目录开始查找位于本文件系统中文件名以XC结尾的文件（不进入其它文件系统）</li>
<li><code>-follow</code>：如果find命令遇到符号链接文件，就跟踪至链接所指向的文件。</li>
</ul>
<h4 id="按名称查找文件">按名称查找文件<a hidden class="anchor" aria-hidden="true" href="#按名称查找文件">#</a></h4>
<p>你可以借助正则表达式使用完整或部分的文件名来定位文件。<code>find</code> 命令需要你给出想搜索的目录；指定搜索属性选项，例如，<code>-name</code> 用于指定区分大小写的文件名；然后是搜索字符串。默认情况下，搜索字符串按字面意思处理：除非你使用正则表达式语法，否则 <code>find</code> 命令搜索的文件名正是你在引号之间输入的字符串。</p>
<p>假设你的 <code>Documents</code> 目录包含四个文件：<code>Foo</code>、<code>foo</code>、<code>foobar.txt</code> 和 <code>foo.xml</code>。以下是对 <code>foo</code> 的字面搜索：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ find ~ -name <span style="color:#e6db74">&#34;foo&#34;</span>
/home/tux/Documents/examples/foo
</code></pre></div><p>你可以使用 <code>-iname</code> 选项使其不区分大小写来扩大搜索范围：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ find ~ -iname <span style="color:#e6db74">&#34;foo&#34;</span>
/home/tux/Documents/examples/foo
/home/tux/Documents/examples/Foo
</code></pre></div><h4 id="通配符">通配符<a hidden class="anchor" aria-hidden="true" href="#通配符">#</a></h4>
<p>你可以使用基本的 shell 通配符来扩展搜索。例如，<code>*</code> 表示任意数量的字符：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ find ~ -iname <span style="color:#e6db74">&#34;foo*&#34;</span>
/home/tux/Documents/examples/foo
/home/tux/Documents/examples/Foo
/home/tux/Documents/examples/foo.xml
/home/tux/Documents/examples/foobar.txt
</code></pre></div><p><code>?</code> 表示单个字符：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ find ~ -iname <span style="color:#e6db74">&#34;foo*.???&#34;</span>
/home/tux/Documents/examples/foo.xml
/home/tux/Documents/examples/foobar.txt
</code></pre></div><p>这不是正则表达式语法，因此 <code>.</code> 在示例中只表示字母“点”。</p>
<h4 id="正则表达式">正则表达式<a hidden class="anchor" aria-hidden="true" href="#正则表达式">#</a></h4>
<p>你还可以使用正则表达式。与 <code>-iname</code> 和 <code>-name</code> 一样，也有区分大小写和不区分大小写的选项。但不一样的是，<code>-regex</code> 和 <code>-iregex</code> 搜索应用于整个路径，而不仅仅是文件名。这意味着，如果你搜索 <code>foo</code>，你不会得到任何结果，因为 <code>foo</code> 与 <code>/home/tux/Documents/foo</code> 不匹配。相反，你必须要么搜索整个路径，要么在字符串的开头使用通配符：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ find ~ -iregex <span style="color:#e6db74">&#34;.*foo&#34;</span>
/home/tux/Documents/examples/foo
/home/tux/Documents/examples/Foo
</code></pre></div><h4 id="查找近一周修改过的文件">查找近一周修改过的文件<a hidden class="anchor" aria-hidden="true" href="#查找近一周修改过的文件">#</a></h4>
<p>要查找近一周修改的文件，使用 <code>-mtime</code> 选项以及过去的天数（负数）：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ find ~ -mtime -7
/home/tux/Documents/examples/foo
/home/tux/Documents/examples/Foo
/home/tux/Documents/examples/foo.xml
/home/tux/Documents/examples/foobar.txt
</code></pre></div><h4 id="查找近几天修改的文件">查找近几天修改的文件<a hidden class="anchor" aria-hidden="true" href="#查找近几天修改的文件">#</a></h4>
<p>你可以结合使用 <code>-mtime</code> 选项来查找近几天范围内修改的文件。对于第一个 <code>-mtime</code> 参数，表示上一次修改文件的最近天数。第二个参数表示最大天数。例如，搜索修改时间超过 1 天但不超过 7 天的文件：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ find ~ -mtime +1 -mtime -7
</code></pre></div><h4 id="按文件类型限制搜索">按文件类型限制搜索<a hidden class="anchor" aria-hidden="true" href="#按文件类型限制搜索">#</a></h4>
<p>指定查找文件的类型来优化 <code>find</code> 的结果是很常见的。如果你不确定要查找的内容，则不应该使用此选项。但如果你知道要查找的是文件而不是目录，或者是目录而不是文件，那么这可能是一个很好的过滤器。选项是 <code>-type</code>，它的参数是代表不同类型数据的字母代码。最常见的是：</p>
<ul>
<li><code>d</code> - 目录</li>
<li><code>f</code> - 文件</li>
<li><code>l</code> - 链接文件</li>
<li><code>s</code> - 套接字</li>
<li><code>p</code> - 命名管道（用于 FIFO）</li>
<li><code>b</code> - 块设备（通常是硬盘）</li>
</ul>
<p>下面是一些例子：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ find ~ -type d -name <span style="color:#e6db74">&#34;Doc*&#34;</span>
/home/tux/Documents
$ find ~ -type f -name <span style="color:#e6db74">&#34;Doc*&#34;</span>
/home/tux/Downloads/10th-Doctor.gif
$ find /dev -type b -name <span style="color:#e6db74">&#34;sda*&#34;</span>
/dev/sda/dev/sda1
</code></pre></div><h4 id="调整范围">调整范围<a hidden class="anchor" aria-hidden="true" href="#调整范围">#</a></h4>
<p><code>find</code> 命令默认是递归的，这意味着它会在指定的目录中层层搜索结果。这在大型文件系统中可能会变得不堪重负，但你可以使用 <code>-maxdepth</code> 选项来控制搜索深度：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ find /usr -iname <span style="color:#e6db74">&#34;*xml&#34;</span> | wc -l
<span style="color:#ae81ff">15588</span>
$ find /usr -maxdepth <span style="color:#ae81ff">2</span> -iname <span style="color:#e6db74">&#34;*xml&#34;</span> | wc -l
<span style="color:#ae81ff">15</span>
</code></pre></div><p>也可以使用 <code>-mindepth</code> 设置最小递归深度：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ find /usr -mindepth <span style="color:#ae81ff">8</span> -iname <span style="color:#e6db74">&#34;*xml&#34;</span> | wc -l
<span style="color:#ae81ff">9255</span>
</code></pre></div><h4 id="与-xargs">与 xargs<a hidden class="anchor" aria-hidden="true" href="#与-xargs">#</a></h4>
<p>在使用find命令的-exec选项处理匹配到的文件时， find命令将所有匹配到的文件一起传递给exec执行。但有些系统对能够传递给exec的命令长度有限制，这样在find命令运行几分钟之后，就会出现溢出错误。错误信息通常是“参数列太长”或“参数列溢出”。这就是xargs命令的用处所在，特别是与find命令一起使用。</p>
<p>find命令把匹配到的文件传递给xargs命令，而xargs命令每次只获取一部分文件而不是全部，不像-exec选项那样。这样它可以先处理最先获取的一部分文件，然后是下一批，并如此继续下去。</p>
<p>在有些系统中，使用-exec选项会为处理每一个匹配到的文件而发起一个相应的进程，并非将匹配到的文件全部作为参数一次执行；这样在有些情况下就会出现进程过多，系统性能下降的问题，因而效率不高；</p>
<p>而使用xargs命令则只有一个进程。另外，在使用xargs命令时，究竟是一次获取所有的参数，还是分批取得参数，以及每一次获取参数的数目都会根据该命令的选项及系统内核中相应的可调参数来确定。</p>
<p>来看看xargs命令是如何同find命令一起使用的，并给出一些例子。</p>
<p><code>find . -type f -print | xargs file </code>查找系统中的每一个普通文件，然后使用xargs命令来测试它们分别属于哪类文件</p>
<p><code>find / -name &quot;core&quot; -print | xargs echo &quot;&quot; &gt;/tmp/core.log</code> 在整个系统中查找内存信息转储文件(core dump) ，然后把结果保存到/tmp/core.log 文件中：</p>
<p><code>find . -type f -print | xargs grep &quot;hostname&quot;</code> 用grep命令在所有的普通文件中搜索hostname这个词</p>
<p><code>find ./ -mtime +3 -print|xargs rm -f –r </code>删除3天以前的所有东西 （<code>find . -ctime +3 -exec rm -rf {} \;</code>）</p>
<p><code>find ./ -size 0 | xargs rm -f &amp;</code> 删除文件大小为零的文件</p>
<p>find命令配合使用exec和xargs可以使用户对所匹配到的文件执行几乎所有的命令。</p>
<h4 id="fdhttpsgithubcomsharkdpfd"><a href="https://github.com/sharkdp/fd">fd</a><a hidden class="anchor" aria-hidden="true" href="#fdhttpsgithubcomsharkdpfd">#</a></h4>
<p>fd 命令是一个流行的、用户友好的 find 命令的替代品。</p>
<h4 id="find-files-by-file-typehttpsunixstackexchangecoma483876"><a href="https://unix.stackexchange.com/a/483876">Find files by file type</a><a hidden class="anchor" aria-hidden="true" href="#find-files-by-file-typehttpsunixstackexchangecoma483876">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">find . -type f -exec bash -c <span style="color:#e6db74">&#39;
</span><span style="color:#e6db74">    [[ &#34;$( file -bi &#34;$1&#34; )&#34; == */x-shellscript* ]]&#39;</span> bash <span style="color:#f92672">{}</span> <span style="color:#ae81ff">\;</span> -print
</code></pre></div><h4 id="基于正则表达式匹配文件路径">基于正则表达式匹配文件路径<a hidden class="anchor" aria-hidden="true" href="#基于正则表达式匹配文件路径">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">find . -regex <span style="color:#e6db74">&#34;.*\(\.txt\|\.pdf\)</span>$<span style="color:#e6db74">&#34;</span>
</code></pre></div><p>同上，但忽略大小写</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">find . -iregex <span style="color:#e6db74">&#34;.*\(\.txt\|\.pdf\)</span>$<span style="color:#e6db74">&#34;</span>
</code></pre></div><h3 id="grephttpslinuxcnarticle-6927-1html"><a href="https://linux.cn/article-6927-1.html">grep</a><a hidden class="anchor" aria-hidden="true" href="#grephttpslinuxcnarticle-6927-1html">#</a></h3>
<p>grep (global search regular expression(RE) and print out the line，全面搜索正则表达式并把行打印出来)是一种强大的文本搜索工具，它能使用正则表达式搜索文本，并把匹配的行打印出来。</p>
<p>grep 这个名字，来源于一个 Unix/Linux 中的古老的行编辑器 <a href="https://en.wikipedia.org/wiki/Ed_(text_editor)">ed</a> 中执行相似操作的命令：</p>
<pre tabindex="0"><code>g/re/p
</code></pre><p>语法如下所示:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">grep <span style="color:#f92672">[</span>OPTIONS<span style="color:#f92672">]</span> PATTERN <span style="color:#f92672">[</span>FILE...<span style="color:#f92672">]</span> 
grep <span style="color:#f92672">[</span>OPTIONS<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>-e PATTERN | -f FILE<span style="color:#f92672">]</span> <span style="color:#f92672">[</span>FILE...<span style="color:#f92672">]</span>
</code></pre></div><p>grep命令用于搜索由Pattern参数指定的模式，并将每个匹配的行写入标准输出中。这些模式是具有限定的正则表达式，它们使用ed或egrep命令样式。</p>
<p>如果在File参数中指定了多个名称，grep命令将显示包含匹配行的文件的名称。</p>
<p>对 shell 有特殊含义的字符 ($, *, [, |, ^, (, ), \ ) 出现在 Pattern参数中时必须带双引号。如果 Pattern参数不是简单字符串，通常必须用单引号将整个模式括起来。在诸如 [a-z], 之类的表达式中，-（减号）cml 可根据当前正在整理的序列来指定一个范围。整理序列可以定义等价的类以供在字符范围中使用。</p>
<p>如果未指定任何文件，grep会假定为标准输入。</p>
<h4 id="基本集httpslinuxcnarticle-1672-1html"><a href="https://linux.cn/article-1672-1.html">基本集</a><a hidden class="anchor" aria-hidden="true" href="#基本集httpslinuxcnarticle-1672-1html">#</a></h4>
<p>grep正则表达式元字符集：</p>
<ul>
<li><code>^</code> 锚定行的开始 如：<code>'^grep'</code>匹配所有以grep开头的行。</li>
<li><code>$</code> 锚定行的结束 如：<code>'grep$'</code>匹配所有以grep结尾的行。</li>
<li><code>.</code>  匹配一个非换行符的字符 如：<code>'gr.p'</code>匹配gr后接一个任意字符，然后是p。</li>
<li><code>*</code> 匹配零个或多个先前字符 如：<code>' *grep'</code>匹配所有一个或多个空格后紧跟grep的行。 <code>.*</code>一起用代表任意字符。</li>
<li><code>[]</code> 匹配一个指定范围内的字符，如<code>'[Gg]rep'</code>匹配Grep和grep。</li>
<li><code>[^] </code> 匹配一个不在指定范围内的字符，如：<code>'[^A-FH-Z]rep'</code>匹配不包含A-F和H-Z的一个字母开头，紧跟rep的行。</li>
<li><code>\(..\)</code> 标记匹配字符，如：<code>'\(love\)'</code>，love被标记为1。</li>
<li><code>\&lt;</code> 锚定单词的开始，如：<code>'\&lt;</code></li>
<li><code>\&gt;</code> 锚定单词的结束，如<code>grep\&gt;'</code>匹配包含以grep结尾的单词的行。</li>
<li><code>x\{m\}</code> 连续重复字符x，m次，如：<code>'o\{5\}'</code>匹配包含连续5个o的行。</li>
<li><code>x\{m,\}</code> 连续重复字符x,至少m次，如：<code>'o\{5,\}'</code>匹配至少连续有5个o的行。</li>
<li><code>x\{m,n\}</code> 连续重复字符x，至少m次，不多于n次，如：<code>'o\{5,10\}'</code>匹配连续5&ndash;10个o的行。</li>
<li><code>\w</code> 匹配一个文字和数字字符，也就是[A-Za-z0-9]，如：<code>'G\w*p'</code>匹配以G后跟零个或多个文字或数字字符，然后是p。</li>
<li><code>\W </code> w的反置形式，匹配一个非单词字符，如点号句号等。<code>\W*</code>则可匹配多个。</li>
<li><code>\b</code> 单词锁定符，如: <code>'\bgrep\b'</code>只匹配grep，即只能是grep这个单词，两边均为空格。</li>
</ul>
<h4 id="常用选项-1">常用选项<a hidden class="anchor" aria-hidden="true" href="#常用选项-1">#</a></h4>
<pre tabindex="0"><code>-?
</code></pre><p>同时显示匹配行上下的？行，如：grep -2 pattern filename同时显示匹配行的上下2行。</p>
<pre tabindex="0"><code>-b，--byte-offset
</code></pre><p>打印匹配行前面打印该行所在的块号码。</p>
<pre tabindex="0"><code>-c,--count
</code></pre><p>只打印匹配的行数，不显示匹配的内容。</p>
<pre tabindex="0"><code>-f File，--file=File
</code></pre><p>从文件中提取模板。空文件中包含0个模板，所以什么都不匹配。</p>
<pre tabindex="0"><code>-h，--no-filename
</code></pre><p>当搜索多个文件时，不显示匹配文件名前缀。</p>
<pre tabindex="0"><code>-i，--ignore-case
</code></pre><p>忽略大小写差别。</p>
<pre tabindex="0"><code>-q，--quiet
</code></pre><p>取消显示，只返回退出状态。0则表示找到了匹配的行。</p>
<pre tabindex="0"><code>-l，--files-with-matches
</code></pre><p>打印匹配模板的文件清单。</p>
<pre tabindex="0"><code>-L，--files-without-match
</code></pre><p>打印不匹配模板的文件清单。</p>
<pre tabindex="0"><code>-n，--line-number
</code></pre><p>在匹配的行前面打印行号。</p>
<pre tabindex="0"><code>-s，--silent
</code></pre><p>不显示关于不存在或者无法读取文件的错误信息。</p>
<pre tabindex="0"><code>-v，--revert-match
</code></pre><p>反检索，只显示不匹配的行。</p>
<pre tabindex="0"><code>-w，--word-regexp
</code></pre><p>如果被\引用，就把表达式做为一个单词搜索。</p>
<pre tabindex="0"><code>-V，--version
</code></pre><p>显示软件版本信息。</p>
<h4 id="怎么样使用-grep-来搜索一个文件">怎么样使用 grep 来搜索一个文件<a hidden class="anchor" aria-hidden="true" href="#怎么样使用-grep-来搜索一个文件">#</a></h4>
<p>搜索 /etc/passwd 文件下的 boo 用户,输入:</p>
<pre tabindex="0"><code>$ grep boo /etc/passwd
</code></pre><p>输出内容:</p>
<pre tabindex="0"><code>foo❌1000:1000:foo,,,:/home/foo:/bin/ksh
</code></pre><p>可以使用 grep 去强制忽略大小写。例如，使用 -i 选项可以匹配 boo, Boo, BOO 和其他组合：</p>
<pre tabindex="0"><code>$ grep -i &quot;boo&quot; /etc/passwd
</code></pre><h4 id="递归使用-grep">递归使用 grep<a hidden class="anchor" aria-hidden="true" href="#递归使用-grep">#</a></h4>
<p>你可以递归地使用 grep 进行搜索。例如，在文件目录下面搜索所有包含字符串“192.168.1.5”的文件</p>
<pre tabindex="0"><code>$ grep -r &quot;192.168.1.5&quot; /etc/
</code></pre><p>或者是：</p>
<pre tabindex="0"><code>$ grep -R &quot;192.168.1.5&quot; /etc/
</code></pre><p>示例输出:</p>
<pre tabindex="0"><code>/etc/ppp/options:# ms-wins 192.168.1.50/etc/ppp/options:# ms-wins 192.168.1.51/etc/NetworkManager/system-connections/Wired connection 1:addresses1=192.168.1.5;24;192.168.1.2;
</code></pre><p>你会看到搜索到 192.168.1.5 的结果每一行都前缀以找到匹配的文件名（例如：/etc/ppp/options）。输出之中包含的文件名可以加 -h 选项来禁止输出：</p>
<pre tabindex="0"><code>$ grep -h -R &quot;192.168.1.5&quot; /etc/
</code></pre><p>或者</p>
<pre tabindex="0"><code>$ grep -hR &quot;192.168.1.5&quot; /etc/
</code></pre><p>示例输出:</p>
<pre tabindex="0"><code># ms-wins 192.168.1.50# ms-wins 192.168.1.51addresses1=192.168.1.5;24;192.168.1.2;
</code></pre><h4 id="使用-grep-去搜索文本">使用 grep 去搜索文本<a hidden class="anchor" aria-hidden="true" href="#使用-grep-去搜索文本">#</a></h4>
<p>当你搜索 boo 时，grep 命令将会匹配 fooboo，boo123, barfoo35 和其他所有包含 boo 的字符串，你可以使用 -w 选项去强制只输出那些仅仅包含那个整个单词的行（LCTT译注：即该字符串两侧是英文单词分隔符，如空格，标点符号，和末端等，因此对中文这种没有断字符号的语言并不适用。）。</p>
<pre tabindex="0"><code>$ grep -w &quot;boo&quot; file
</code></pre><h4 id="使用-grep-命令去搜索两个不同的单词">使用 grep 命令去搜索两个不同的单词<a hidden class="anchor" aria-hidden="true" href="#使用-grep-命令去搜索两个不同的单词">#</a></h4>
<p>使用 egrep 命令如下:</p>
<pre tabindex="0"><code>$ egrep -w 'word1|word2' /path/to/file
</code></pre><p>（LCTT 译注：这里使用到了正则表达式，因此使用的是 egrep 命令，即扩展的 grep 命令。）</p>
<h4 id="统计文本匹配到的行数">统计文本匹配到的行数<a hidden class="anchor" aria-hidden="true" href="#统计文本匹配到的行数">#</a></h4>
<p>grep 命令可以通过加 -c 参数显示每个文件中匹配到的次数：</p>
<pre tabindex="0"><code>$ grep -c 'word' /path/to/file
</code></pre><p>传递 -n 选项可以输出的行前加入匹配到的行的行号：</p>
<pre tabindex="0"><code>$ grep -n 'root' /etc/passwd
</code></pre><p>示例输出:</p>
<pre tabindex="0"><code>1:root:x:0:0:root:/root:/bin/bash1042:rootdoor:x:0:0:rootdoor:/home/rootdoor:/bin/csh3319:initrootapp:x:0:0:initrootapp:/home/initroot:/bin/ksh
</code></pre><h4 id="反转匹配不匹配">反转匹配（不匹配）<a hidden class="anchor" aria-hidden="true" href="#反转匹配不匹配">#</a></h4>
<p>可以使用 -v 选项来输出不包含匹配项的内容，输出内容仅仅包含那些不含给定单词的行，例如输出所有不包含 bar 单词的行：</p>
<pre tabindex="0"><code>$ grep -v bar /path/to/file
</code></pre><h4 id="unixlinux-管道与-grep-命令">UNIX/Linux 管道与 grep 命令<a hidden class="anchor" aria-hidden="true" href="#unixlinux-管道与-grep-命令">#</a></h4>
<p>grep 常常与管道一起使用，在这个例子中，显示硬盘设备的名字：</p>
<pre tabindex="0"><code># dmesg | egrep '(s|h)d[a-z]'
</code></pre><p>显示 CPU 型号：</p>
<pre tabindex="0"><code># cat /proc/cpuinfo | grep -i 'Model'
</code></pre><p>然而，以上命令也可以按照以下方法使用，不使用管道:</p>
<pre tabindex="0"><code># grep -i 'Model' /proc/cpuinfo
</code></pre><p>示例输出:</p>
<pre tabindex="0"><code>model       : 30model name  : Intel(R) Core(TM) i7 CPU       Q 820  @ 1.73GHzmodel       : 30model name  : Intel(R) Core(TM) i7 CPU       Q 820  @ 1.73GHz
</code></pre><h4 id="仅仅显示匹配到内容的文件名">仅仅显示匹配到内容的文件名<a hidden class="anchor" aria-hidden="true" href="#仅仅显示匹配到内容的文件名">#</a></h4>
<p>使用 -l 选项去显示那些文件内容中包含 main() 的文件名：</p>
<pre tabindex="0"><code>$ grep -l 'main' *.c
</code></pre><p>最后，你可以强制 grep 以彩色输出：</p>
<pre tabindex="0"><code>$ grep --color vivek /etc/passwd
</code></pre><h4 id="查找文件内容httpswwwrunoobcomnote48437"><a href="https://www.runoob.com/note/48437">查找文件内容</a><a hidden class="anchor" aria-hidden="true" href="#查找文件内容httpswwwrunoobcomnote48437">#</a></h4>
<p>从根目录开始查找所有扩展名为 .log 的文本文件，并找出包含 &ldquo;ERROR&rdquo; 的行：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ find / -type f -name <span style="color:#e6db74">&#34;*.log&#34;</span> | xargs grep <span style="color:#e6db74">&#34;ERROR&#34;</span>
</code></pre></div><p>例子：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#!/usr/bin/bash
</span><span style="color:#75715e"></span>
IREGEX<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;.*\(\.txt\|\.md\|\.yaml\)</span>$<span style="color:#e6db74">&#34;</span>

find . <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    -type f <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>    -regex $IREGEX <span style="color:#ae81ff">\
</span><span style="color:#ae81ff"></span>	-print0 | xargs -0 grep -in <span style="color:#e6db74">&#34;</span>$1<span style="color:#e6db74">&#34;</span> 2&gt;/dev/null
</code></pre></div><h4 id="only-matchinghttpsstackoverflowcomquestions1546711can-grep-show-only-words-that-match-search-pattern"><a href="https://stackoverflow.com/questions/1546711/can-grep-show-only-words-that-match-search-pattern">only matching</a><a hidden class="anchor" aria-hidden="true" href="#only-matchinghttpsstackoverflowcomquestions1546711can-grep-show-only-words-that-match-search-pattern">#</a></h4>
<p>Print only the matched (non-empty) parts  of  a  matching  line, with each such part on a separate output line.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ grep -oh <span style="color:#e6db74">&#34;\w*th\w*&#34;</span> *
</code></pre></div><h3 id="cat">cat<a hidden class="anchor" aria-hidden="true" href="#cat">#</a></h3>
<h4 id="bathttpsgithubcomsharkdpbat"><a href="https://github.com/sharkdp/bat">bat</a><a hidden class="anchor" aria-hidden="true" href="#bathttpsgithubcomsharkdpbat">#</a></h4>
<p>A cat(1) clone with wings.</p>
<p>添加了语法高亮和 Git 集成等功能，并且还提供了分页选项。</p>
<h3 id="iphttpslinuxcnarticle-3144-1html"><a href="https://linux.cn/article-3144-1.html">ip</a><a hidden class="anchor" aria-hidden="true" href="#iphttpslinuxcnarticle-3144-1html">#</a></h3>
<p>linux的<strong>ip</strong>命令和<strong>ifconfig</strong>类似，但前者功能更强大，并旨在取代后者。使用ip命令，只需一个命令，你就能很轻松地执行一些网络管理任务。ifconfig是net-tools中已被废弃使用的一个命令，许多年前就已经没有维护了。iproute2套件里提供了许多增强功能的命令，ip命令即是其中之一。</p>
<p><img loading="lazy" src="/Distributions/003404uy9l1t5zayzllylm.png" alt="003404uy9l1t5zayzllylm"  />
</p>
<h4 id="设置和删除ip地址">设置和删除Ip地址<a hidden class="anchor" aria-hidden="true" href="#设置和删除ip地址">#</a></h4>
<p>要给你的机器设置一个IP地址，可以使用下列ip命令：</p>
<pre tabindex="0"><code>$ sudo ip addr add 192.168.0.193/24 dev wlan0
</code></pre><p>请注意IP地址要有一个后缀，比如/24。这种用法用于在无类域内路由选择（CIDR）中来显示所用的子网掩码。在这个例子中，子网掩码是255.255.255.0。</p>
<p>在你按照上述方式设置好IP地址后，需要查看是否已经生效。</p>
<pre tabindex="0"><code>$ ip addr show wlan0
</code></pre><p>你也可以使用相同的方式来删除IP地址，只需用del代替add。</p>
<pre tabindex="0"><code>$ sudo ip addr del 192.168.0.193/24 dev wlan0
</code></pre><h4 id="列出路由表条目">列出路由表条目<a hidden class="anchor" aria-hidden="true" href="#列出路由表条目">#</a></h4>
<p>ip命令的路由对象的参数还可以帮助你查看网络中的路由数据，并设置你的路由表。第一个条目是默认的路由条目，你可以随意改动它。</p>
<p>在这个例子中，有几个路由条目。这个结果显示有几个设备通过不同的网络接口连接起来。它们包括WIFI、以太网和一个点对点连接。</p>
<pre tabindex="0"><code>$ ip route show
</code></pre><p>假设现在你有一个IP地址，你需要知道路由包从哪里来。可以使用下面的路由选项（译注：列出了路由所使用的接口等）：</p>
<pre tabindex="0"><code>$ ip route get 10.42.0.47
</code></pre><h4 id="更改默认路由">更改默认路由<a hidden class="anchor" aria-hidden="true" href="#更改默认路由">#</a></h4>
<p>要更改默认路由，使用下面ip命令：</p>
<pre tabindex="0"><code>$ sudo ip route add default via 192.168.0.196
</code></pre><h4 id="显示网络统计数据">显示网络统计数据<a hidden class="anchor" aria-hidden="true" href="#显示网络统计数据">#</a></h4>
<p>使用ip命令还可以显示不同网络接口的统计数据。</p>
<p>当你需要获取一个特定网络接口的信息时，在网络接口名字后面添加选项<strong>ls</strong>即可。使用多个选项**-s**会给你这个特定接口更详细的信息。特别是在排除网络连接故障时，这会非常有用。</p>
<pre tabindex="0"><code>$ ip -s -s link ls p2p1
</code></pre><h4 id="arp条目">ARP条目<a hidden class="anchor" aria-hidden="true" href="#arp条目">#</a></h4>
<p>地址解析协议（ARP）用于将一个IP地址转换成它对应的物理地址，也就是通常所说的MAC地址。使用ip命令的neigh或者neighbour选项，你可以查看接入你所在的局域网的设备的MAC地址。</p>
<pre tabindex="0"><code>$ ip neighbour
</code></pre><h4 id="监控netlink消息">监控netlink消息<a hidden class="anchor" aria-hidden="true" href="#监控netlink消息">#</a></h4>
<p>也可以使用ip命令查看netlink消息。monitor选项允许你查看网络设备的状态。比如，所在局域网的一台电脑根据它的状态可以被分类成REACHABLE或者STALE。使用下面的命令：</p>
<pre tabindex="0"><code>$ ip monitor all
</code></pre><h4 id="激活和停止网络接口">激活和停止网络接口<a hidden class="anchor" aria-hidden="true" href="#激活和停止网络接口">#</a></h4>
<p>你可以使用ip命令的up和down选项来激某个特定的接口，就像ifconfig的用法一样。</p>
<p>在这个例子中，当ppp0接口被激活和在它被停止和再次激活之后，你可以看到相应的路由表条目。这个接口可能是wlan0或者eth0。将ppp0更改为你可用的任意接口即可。</p>
<pre tabindex="0"><code>$ sudo ip link set ppp0 down 
$ sudo ip link set ppp0 up
</code></pre><h4 id="获取帮助">获取帮助<a hidden class="anchor" aria-hidden="true" href="#获取帮助">#</a></h4>
<p>当你陷入困境，不知道某一个特定的选项怎么用的时候，你可以使用help选项。man页面并不会提供许多关于如何使用ip选项的信息，因此这里就是获取帮助的地方。</p>
<p>比如，想知道关于route选项更多的信息：</p>
<pre tabindex="0"><code>$ ip route help
</code></pre><h4 id="小结">小结<a hidden class="anchor" aria-hidden="true" href="#小结">#</a></h4>
<p>对于网络管理员们和所有的Linux使用者们，ip命令是必备工具。是时候抛弃ifconfig命令了，特别是当你写脚本时。</p>
<h3 id="dighttpslinuxcnarticle-14051-1html"><a href="https://linux.cn/article-14051-1.html">dig</a><a hidden class="anchor" aria-hidden="true" href="#dighttpslinuxcnarticle-14051-1html">#</a></h3>
<p>使用 <code>dig</code> 来进行 DNS 查询。</p>
<h4 id="参数类型查询和格式化">参数类型：查询和格式化<a hidden class="anchor" aria-hidden="true" href="#参数类型查询和格式化">#</a></h4>
<p>有两种主要的参数可以传递给 <code>dig</code>：</p>
<ol>
<li>告诉 <code>dig</code> <strong>要进行什么 DNS 查询的参数</strong>。</li>
<li>告诉 <code>dig</code> 如何 <strong>格式化响应的参数</strong>。</li>
</ol>
<p>首先，让我们看一下查询选项。</p>
<h4 id="主要的查询选项">主要的查询选项<a hidden class="anchor" aria-hidden="true" href="#主要的查询选项">#</a></h4>
<p>你通常想控制 DNS 查询的 3 件事是：</p>
<ol>
<li><strong>名称</strong>（如 <code>jvns.ca</code>）。默认情况下，查询的是空名称（<code>.</code>）。</li>
<li><strong>DNS 查询类型</strong>（如 <code>A</code> 或 <code>CNAME</code>）。默认是 <code>A</code>。</li>
<li>发送查询的 <strong>服务器</strong>（如 <code>8.8.8.8</code>）。默认是 <code>/etc/resolv.conf</code> 中的内容。</li>
</ol>
<p>其格式是：</p>
<pre tabindex="0"><code>dig @server name type
</code></pre><p>这里有几个例子：</p>
<ul>
<li><code>dig @8.8.8.8 jvns.ca</code> 向谷歌的公共 DNS 服务器（<code>8.8.8.8</code>）查询 <code>jvns.ca</code>。</li>
<li><code>dig ns jvns.ca</code> 对 <code>jvns.ca</code> 进行类型为 <code>NS</code> 的查询。</li>
</ul>
<p><strong><code>-x</code>：进行反向 DNS 查询</strong></p>
<p>我偶尔使用的另一个查询选项是 <code>-x</code>，用于进行反向 DNS 查询。下面是输出结果的样子。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ dig -x 172.217.13.174
174.13.217.172.in-addr.arpa. <span style="color:#ae81ff">72888</span> IN PTR yul03s04-in-f14.1e100.net。
</code></pre></div><p><code>-x</code> 不是魔术。<code>dig -x 172.217.13.174</code> 只是对 <code>174.13.217.172.in-addr.arpa.</code> 做了一个 <code>PTR</code> 查询。下面是如何在不使用 `-x’ 的情况下进行完全相同的反向 DNS 查询。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ dig ptr 174.13.217.172.in-addr.arpa.
174.13.217.172.in-addr.arpa. <span style="color:#ae81ff">72888</span> IN PTR yul03s04-in-f14.1e100.net。
</code></pre></div><p>我总是使用 <code>-x</code>，因为它可以减少输入。</p>
<p><a href="https://www.cnblogs.com/mysticbinary/p/13344930.html">DNS反向查询</a>大概的一个定义就是：</p>
<p>从 IP 地址获取 PTR 记录。也就是说，通过使用一些网络工具可以将 IP 地址转换为主机名。 实际上，PRT 代表 POINTER，在 DNS 系统有唯一性，将 IP 地址与规范化的主机名联系起来。PTR 记录其实是 NDS 系统的一部分，但是由专门的区域文件组成的，使用的是传统的 in-addr.arpa 格式。</p>
<h4 id="格式化响应的选项">格式化响应的选项<a hidden class="anchor" aria-hidden="true" href="#格式化响应的选项">#</a></h4>
<p>现在，让我们讨论一下你可以用来格式化响应的参数。</p>
<p>我发现 <code>dig</code> 默认格式化 DNS 响应的方式对初学者来说是很难接受的。下面是输出结果的样子：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">; &lt;&lt;&gt;&gt; DiG 9.16.20 &lt;&lt;&gt;&gt; -r jvns.ca
;; global options: +cmd
;; Got answer:
;; -&gt;&gt;HEADER<span style="color:#e6db74">&lt;&lt;- opco</span>de: QUERY, status: NOERROR, id: <span style="color:#ae81ff">28629</span>
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: <span style="color:#ae81ff">1</span>
;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: <span style="color:#ae81ff">4096</span>
; COOKIE: d87fc3022c0604d60100000061ab74857110b908b274494d <span style="color:#f92672">(</span>good<span style="color:#f92672">)</span>
;; QUESTION SECTION:
;jvns.ca.           IN  A
;; ANSWER SECTION:
jvns.ca.        <span style="color:#ae81ff">276</span> IN  A   172.64.80.1
;; Query time: <span style="color:#ae81ff">9</span> msec
;; SERVER: 192.168.1.1#53<span style="color:#f92672">(</span>192.168.1.1<span style="color:#f92672">)</span>
;; WHEN: Sat Dec <span style="color:#ae81ff">04</span> 09:00:37 EST <span style="color:#ae81ff">2021</span>
;; MSG SIZE  rcvd: <span style="color:#ae81ff">80</span>
</code></pre></div><p>如果你不习惯看这个，你可能需要花点时间来筛选，找到你要找的 IP 地址。而且大多数时候，你只对这个响应中的一行感兴趣（<code>jvns.ca. 180 IN A 172.64.80.1</code>）。</p>
<p>下面是我最喜欢的两种方法，可以使 <code>dig</code> 的输出更容易管理：</p>
<p><strong>方式 1 : +noall +answer</strong></p>
<p>这告诉 <code>dig</code> 只打印 DNS 响应中的“答案”部分的内容。下面是一个查询 <code>google.com</code> 的 <code>NS</code> 记录的例子：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ dig +noall +answer ns google.com
google.com.     <span style="color:#ae81ff">158564</span>  IN  NS  ns4.google.com.
google.com.     <span style="color:#ae81ff">158564</span>  IN  NS  ns1.google.com.
google.com.     <span style="color:#ae81ff">158564</span>  IN  NS  ns2.google.com.
google.com.     <span style="color:#ae81ff">158564</span>  IN  NS  ns3.google.com.
</code></pre></div><p>这里的格式是：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">NAME         TTL            TYPE   CONTENT
google.com   <span style="color:#ae81ff">158564</span>   IN    NS     ns3.google.com.
</code></pre></div><p>顺便说一下：如果你曾经想知道 <code>IN</code> 是什么意思，它是指“查询类”，代表“互联网internet”。它基本上只是上世纪 80、90 年代的遗物，当时还有其他网络与互联网竞争，如“混沌网络chaosnet”。</p>
<p><strong>方式 2：+short</strong></p>
<p>这就像 <code>dig +noall +answer</code>，但更短：它只显示每条记录的内容。比如说：</p>
<pre tabindex="0"><code>$ dig +short ns google.com
ns2.google.com.
ns1.google.com.
ns4.google.com.
ns3.google.com.
</code></pre><h4 id="digrc"><code>digrc</code><a hidden class="anchor" aria-hidden="true" href="#digrc">#</a></h4>
<p>如果你不喜欢 <code>dig</code> 的默认格式（我就不喜欢！），你可以在你的主目录下创建一个 <code>.digrc</code> 文件，告诉它默认使用不同的格式。</p>
<p>我非常喜欢 <code>+noall +answer</code> 格式，所以我把 <code>+noall +answer</code> 放在我的 <code>~/.digrc</code> 中。下面是我使用该配置文件运行 <code>dig jvns.ca</code> 时的情况。</p>
<pre tabindex="0"><code>$ dig jvns.ca
jvns.ca.        255在172.64.80.1中
</code></pre><p>这样读起来就容易多了！</p>
<p>如果我想回到所有输出的长格式（我有时会这样做，通常是因为我想看响应的权威部分的记录），我可以通过运行再次得到一个长答案。</p>
<pre tabindex="0"><code>$ dig +all jvns.ca
</code></pre><h4 id="dig-trace">dig +trace<a hidden class="anchor" aria-hidden="true" href="#dig-trace">#</a></h4>
<p>我使用的最后一个 <code>dig</code> 选项是 <code>+trace</code>。<code>dig +trace</code> 模仿 DNS 解析器在查找域名时的做法 —— 它从根域名服务器开始，然后查询下一级域名服务器（如 <code>.com</code>），以此类推，直到到达该域名的权威域名服务器。因此，它将进行大约 30 次 DNS 查询。（我用 <code>tcpdump</code> 检查了一下，对于每个根域名服务器的 <code>A</code> / <code>AAAA</code> 记录它似乎要进行 2 次查询，所以这已经是 26 次查询了。我不太清楚它为什么这样做，因为它应该已经有了这些 IP 的硬编码，但它确实如此。）</p>
<p>我发现这对了解 DNS 的工作原理很有用，但我不认为我用它解决过问题。</p>
<h4 id="为什么要用-dig">为什么要用 dig<a hidden class="anchor" aria-hidden="true" href="#为什么要用-dig">#</a></h4>
<p>尽管有一些更简单的工具来进行 DNS 查询（如 <code>dog</code> 和 <code>host</code>），我发现自己还是坚持使用 <code>dig</code>。</p>
<p>我喜欢 <code>dig</code> 的地方实际上也是我 <strong>不喜欢</strong> <code>dig</code> 的地方 —— 它显示了大量的细节！</p>
<p>我知道，如果我运行 <code>dig +all</code>，它将显示 DNS 响应的所有部分。例如，让我们查询 <code>jvns.ca</code> 的一个根名称服务器。响应有 3 个部分，我可能会关心：回答部分、权威部分和附加部分。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ dig @h.root-servers.net. jvns.ca +all
;; Got answer:
;; -&gt;&gt;HEADER<span style="color:#e6db74">&lt;&lt;- opco</span>de: QUERY, status: NOERROR, id: <span style="color:#ae81ff">18229</span>
;; flags: qr rd; QUERY: 1, ANSWER: 0, AUTHORITY: 4, ADDITIONAL: <span style="color:#ae81ff">9</span>
;; WARNING: recursion requested but not available
;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: <span style="color:#ae81ff">1232</span>
;; QUESTION SECTION:
;jvns.ca.           IN  A
;; AUTHORITY SECTION:
ca.         <span style="color:#ae81ff">172800</span>  IN  NS  c.ca-servers.ca.
ca.         <span style="color:#ae81ff">172800</span>  IN  NS  j.ca-servers.ca.
ca.         <span style="color:#ae81ff">172800</span>  IN  NS  x.ca-servers.ca.
ca.         <span style="color:#ae81ff">172800</span>  IN  NS  any.ca-servers.ca.
;; ADDITIONAL SECTION:
c.ca-servers.ca.    <span style="color:#ae81ff">172800</span>  IN  A   185.159.196.2
j.ca-servers.ca.    <span style="color:#ae81ff">172800</span>  IN  A   198.182.167.1
x.ca-servers.ca.    <span style="color:#ae81ff">172800</span>  IN  A   199.253.250.68
any.ca-servers.ca.  <span style="color:#ae81ff">172800</span>  IN  A   199.4.144.2
c.ca-servers.ca.    <span style="color:#ae81ff">172800</span>  IN  AAAA    2620:10a:8053::2
j.ca-servers.ca.    <span style="color:#ae81ff">172800</span>  IN  AAAA    2001:500:83::1
x.ca-servers.ca.    <span style="color:#ae81ff">172800</span>  IN  AAAA    2620:10a:80ba::68
any.ca-servers.ca.  <span style="color:#ae81ff">172800</span>  IN  AAAA    2001:500:a7::2
;; Query time: <span style="color:#ae81ff">103</span> msec
;; SERVER: 198.97.190.53#53<span style="color:#f92672">(</span>198.97.190.53<span style="color:#f92672">)</span>
;; WHEN: Sat Dec <span style="color:#ae81ff">04</span> 11:23:32 EST <span style="color:#ae81ff">2021</span>
;; MSG SIZE  rcvd: <span style="color:#ae81ff">289</span>
</code></pre></div><p><code>dog</code> 也显示了 “附加” 部分的记录，但它没有明确指出哪个是哪个（我猜 <code>+</code> 意味着它在附加部分？） ，但它似乎没有显示“权威”部分的记录。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ dog @h.root-servers.net. jvns.ca 
  NS ca.                2d0h00m00s A <span style="color:#e6db74">&#34;c.ca-servers.ca.&#34;</span>
  NS ca.                2d0h00m00s A <span style="color:#e6db74">&#34;j.ca-servers.ca.&#34;</span>
  NS ca.                2d0h00m00s A <span style="color:#e6db74">&#34;x.ca-servers.ca.&#34;</span>
  NS ca.                2d0h00m00s A <span style="color:#e6db74">&#34;any.ca-servers.ca.&#34;</span>
   A c.ca-servers.ca.   2d0h00m00s + 185.159.196.2
   A j.ca-servers.ca.   2d0h00m00s + 198.182.167.1
   A x.ca-servers.ca.   2d0h00m00s + 199.253.250.68
   A any.ca-servers.ca. 2d0h00m00s + 199.4.144.2
AAAA c.ca-servers.ca.   2d0h00m00s + 2620:10a:8053::2
AAAA j.ca-servers.ca.   2d0h00m00s + 2001:500:83::1
AAAA x.ca-servers.ca.   2d0h00m00s + 2620:10a:80ba::68
AAAA any.ca-servers.ca. 2d0h00m00s + 2001:500:a7::2
</code></pre></div><p>而 <code>host</code> 似乎只显示“答案”部分的记录（在这种情况下没有得到记录）：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ host jvns.ca h.root-servers.net
Using domain server:
Name: h.root-servers.net
Address: 198.97.190.53#53
Aliases:
</code></pre></div><p>总之，我认为这些更简单的 DNS 工具很好（我甚至自己做了一个 <a href="https://dns-lookup.jvns.ca/">简单的网络 DNS 工具</a>），如果你觉得它们更容易，你绝对应该使用它们，但这就是为什么我坚持使用 <code>dig</code> 的原因。<code>drill</code> 的输出格式似乎与 <code>dig</code> 的非常相似，也许 <code>drill</code> 更好！但我还没有真正试过它。</p>
<h3 id="sambahttpswwwcnblogscomgzdaijiep5194033html"><a href="https://www.cnblogs.com/gzdaijie/p/5194033.html">Samba</a><a hidden class="anchor" aria-hidden="true" href="#sambahttpswwwcnblogscomgzdaijiep5194033html">#</a></h3>
<p><strong>Samba</strong> 是 <a href="https://en.wikipedia.org/wiki/Server_Message_Block">SMB/CIFS</a> 网络协议的重新实现, 可以在 Linux 和 Windows 系统间进行文件、打印机共享，和 <a href="https://wiki.archlinux.org/title/NFS_(%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87)">NFS</a> 的功能类似。</p>
<h4 id="安装-3">安装<a hidden class="anchor" aria-hidden="true" href="#安装-3">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo apt install samba
$ sudo systemctl enable --now smbd.service
</code></pre></div><p>Samba 服务的配置文件是 <code>/etc/samba/smb.conf</code>，<a href="https://man.archlinux.org/man/smb.conf.5">smb.conf(5)</a>提供了详细的文档。</p>
<p>如果使用了 防火墙，请记得打开需要的端口(通常是 137-139 + 445)。完整列表请查看 <a href="https://www.samba.org/~tpot/articles/firewall.html">Samba 端口使用</a>。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo ufw allow Samba
$ sudo ufw reload
</code></pre></div><h4 id="创建共享">创建共享<a hidden class="anchor" aria-hidden="true" href="#创建共享">#</a></h4>
<p>创建的目录即之后能够在Windows主机上直接访问的目录。例如：在用户samba_user的主目录下新建share文件夹为共享目录，由于Windows下的文件夹需可读可写可执行，需更改权限为777</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ mkdir /home/samba_user/smbshare
$ sudo chmod <span style="color:#ae81ff">777</span> /home/samba_user/smbshare
</code></pre></div><p>修改 /<code>etc/samba/smb.conf</code>，在smb.conf文件最后加上以下内容</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo vim /etc/samba/smb.conf
<span style="color:#f92672">[</span>share<span style="color:#f92672">]</span>
path <span style="color:#f92672">=</span> /home/samba_user/smbshare
public <span style="color:#f92672">=</span> yes
writable <span style="color:#f92672">=</span> yes
valid users <span style="color:#f92672">=</span> samba_user
create mask <span style="color:#f92672">=</span> <span style="color:#ae81ff">0644</span>
force create mode <span style="color:#f92672">=</span> <span style="color:#ae81ff">0644</span>
directory mask <span style="color:#f92672">=</span> <span style="color:#ae81ff">0755</span>
force directory mode <span style="color:#f92672">=</span> <span style="color:#ae81ff">0755</span>
available <span style="color:#f92672">=</span> yes
</code></pre></div><ul>
<li>[share]表示共享文件夹的别名，之后将直接使用这个别名</li>
<li><code>force create mode</code> 与 <code>force directory mode</code>的设置是因为Windows下与Linux下文件和文件夹的默认权限不同造成的，Windows下新建的文件是可执行的，必须强制设定其文件权限。</li>
<li>valid users 设置为你当前的Linux用户名，例如我的是samba_user，因为第一次打开共享文件夹时，需要验证权限。</li>
</ul>
<h4 id="用户管理">用户管理<a hidden class="anchor" aria-hidden="true" href="#用户管理">#</a></h4>
<p>Samba 需要 Linux 账户才能使用 - 可以使用已有账户或创建新用户。</p>
<p>虽然用户名可以和 Linux 系统共享，Samba 使用单独的密码管理，将下面的 <code>samba_user</code> 替换为上面设置的 valid users:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo smbpasswd -a samba_user
</code></pre></div><p>根据服务器角色的差异，可能需要修改已有的文件权限和属性。</p>
<h4 id="which-is-faster-samba-or-scphttpsarstechnicacomcivisviewtopicphpf16t365900"><a href="https://arstechnica.com/civis/viewtopic.php?f=16&amp;t=365900">Which is faster-Samba or scp?</a><a hidden class="anchor" aria-hidden="true" href="#which-is-faster-samba-or-scphttpsarstechnicacomcivisviewtopicphpf16t365900">#</a></h4>
<p>Depends on the machines. Machines with really fast CPU may do SCP or SFTP faster.</p>
<p>Otherwise, Samba will probably be faster because it doesn&rsquo;t have to encrypt.</p>
<h4 id="connect-to-servers-with-nautilushttpswwwaddictivetipscomubuntu-linux-tipsconnect-to-servers-with-gnome-file-manager"><a href="https://www.addictivetips.com/ubuntu-linux-tips/connect-to-servers-with-gnome-file-manager/">Connect to servers with nautilus</a><a hidden class="anchor" aria-hidden="true" href="#connect-to-servers-with-nautilushttpswwwaddictivetipscomubuntu-linux-tipsconnect-to-servers-with-gnome-file-manager">#</a></h4>
<p><strong>Step 1:</strong> find the “Other Locations” button on the left-hand side of the Gnome file manager and click on the mouse.</p>
<p><strong>Step 2:</strong> make your way to the “Connect to Server” text box and tap on it with the mouse.</p>
<p><strong>Step 3:</strong> write out <strong>smb://</strong> followed by the IP address of the Samba file server. Alternatively, write out the hostname of the file server, as that works as well. Confused? Copy the examples below.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># ip address</span>
smb://ip.address.of.samba.file.server
<span style="color:#75715e"># hostname</span>
smb://MyExampleSambaShare

ftp://ip.address.of.ftp.server
nfs://ip.address.of.nfs.server
</code></pre></div><p><strong>Step 4:</strong> click on the “Connect” button to send out a new Samba connection. Assuming your file server has no user-name setup and is public, you’ll instantly see the files and be able to interact with the server.</p>
<p>However, if your server requires a username/password, you must fill out the username/password before using Samba.</p>
<h4 id="mount-samba-share-in-linux">Mount Samba Share in Linux<a hidden class="anchor" aria-hidden="true" href="#mount-samba-share-in-linux">#</a></h4>
<p><strong>List available shares on server:</strong></p>
<p>Install the samba client library:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo apt install smbclient
</code></pre></div><p>Then list the shares:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ smbclient -L //&lt;your-ip-address&gt;
</code></pre></div><p>You will then be prompted to enter a password (assuming your share requires one) and then will output something like this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">Sharename       Type      Comment
---------       ----      -------      
folder-mount-1  Disk      Description <span style="color:#ae81ff">1</span>
folder-mount-2  Disk      Description <span style="color:#ae81ff">2</span>
folder-mount-3  Disk      Description <span style="color:#ae81ff">3</span>
IPC$            IPC       IPC Service <span style="color:#f92672">(</span>Server Name<span style="color:#f92672">)</span>
</code></pre></div><p>Note the share name that you want to mount for later.</p>
<hr>
<p><strong>Temp mount the share to a folder:</strong></p>
<p>Install the <code>cifs-utils</code> package:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo apt install cifs-utils
</code></pre></div><p>Create the mount-point (folder) and then mount the share:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo mkdir /mnt/myFolder

$ sudo mount -t cifs -o username<span style="color:#f92672">=</span>serverUserName //myServerIpAdress/sharename /mnt/myFolder/
</code></pre></div><p>(Note: this will unmount upon reboot.)</p>
<hr>
<p><strong>Permanently mount the share to a folder:</strong></p>
<p>Install the <code>cifs-utils</code> package:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo apt install cifs-utils
</code></pre></div><p>Create the mount-point (folder):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo mkdir /mnt/myFolder
</code></pre></div><p>Modify your <code>fstab</code> file:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo vi /etc/fstab
</code></pre></div><p>Place the following line at or near the bottom of the file:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ //&lt;your-ip-address&gt;/&lt;mount-name&gt; /mnt/myFolder/ cifs username<span style="color:#f92672">=</span>YOURUSERNAME,password<span style="color:#f92672">=</span>YOURPASSWORD,iocharset<span style="color:#f92672">=</span>utf8,file_mode<span style="color:#f92672">=</span>0777,dir_mode<span style="color:#f92672">=</span><span style="color:#ae81ff">0777</span>
</code></pre></div><p>(be sure to swap in your info into the line above)</p>
<p>Reboot your server and you should be off to the races.  To confirm that it is still mounted, type <code>df -h</code> and look found your mount in the list.</p>
<h3 id="sudohttpswwwcnblogscomsparkdevp6189196html"><a href="https://www.cnblogs.com/sparkdev/p/6189196.html">sudo</a><a hidden class="anchor" aria-hidden="true" href="#sudohttpswwwcnblogscomsparkdevp6189196html">#</a></h3>
<p>简单的说，sudo 是一种权限管理机制，管理员可以授权于一些普通用户去执行一些 root 执行的操作，而不需要知道 root 的密码。</p>
<p>严谨些说，sudo 允许一个已授权用户以超级用户或者其它用户的角色运行一个命令。当然，能做什么不能做什么都是通过安全策略来指定的。sudo 支持插件架构的安全策略，并能把输入输出写入日志。第三方可以开发并发布自己的安全策略和输入输出日志插件，并让它们无缝的和 sudo 一起工作。默认的安全策略记录在 <code>/etc/sudoers</code> 文件中。而安全策略可能需要用户通过密码来验证他们自己。也就是在用户执行 sudo 命令时要求用户输入自己账号的密码。如果验证失败，sudo 命令将会退出。</p>
<h4 id="命令语法">命令语法<a hidden class="anchor" aria-hidden="true" href="#命令语法">#</a></h4>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo <span style="color:#f92672">[</span>-bhHpV<span style="color:#f92672">][</span>-s <span style="color:#f92672">][</span>-u &lt;用户&gt;<span style="color:#f92672">][</span>指令<span style="color:#f92672">]</span>
$ sudo <span style="color:#f92672">[</span>-klv<span style="color:#f92672">]</span>
</code></pre></div><p>参数：</p>
<ul>
<li><code>-b</code> 在后台执行指令。</li>
<li><code>-h</code> 显示帮助。</li>
<li><code>-H</code> 将HOME环境变量设为新身份的HOME环境变量。</li>
<li><code>-k</code> 结束密码的有效期限，也就是下次再执行sudo时便需要输入密码。</li>
<li><code>-l</code> 列出目前用户可执行与无法执行的指令。</li>
<li><code>-p</code> 改变询问密码的提示符号。</li>
<li><code>-s</code> 执行指定的shell。</li>
<li><code>-u</code> &lt;用户&gt; 以指定的用户作为新的身份。若不加上此参数，则预设以root作为新的身份。</li>
<li><code>-v</code> 延长密码有效期限5分钟。</li>
<li><code>-V</code> 显示版本信息。</li>
<li><code>-S</code> 从标准输入流替代终端来获取密码</li>
</ul>
<h4 id="基本配置">基本配置<a hidden class="anchor" aria-hidden="true" href="#基本配置">#</a></h4>
<p>系统默认创建了一个名为 sudo 的组。只要把用户加入这个组，用户就具有了 sudo 的权限。</p>
<p>至于如何把用户加入 sudo 组，您可以直接编辑 <code>/etc/group</code> 文件，当然您得使用一个有 sudo 权限的用户来干这件，在 sudo 组中加入新的用户，要使用逗号分隔多个用户。</p>
<p>或者您可以使用 usermod 命令把用户添加到一个组中：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo usermod -a -G sudo jack
</code></pre></div><p>上面的设置中我们把用户 jack 添加到了 sudo 组中，所以当用户 jack 登录后就可以通过 sudo 命令以 root 权限执行命令了！</p>
<h4 id="详细配置">详细配置<a hidden class="anchor" aria-hidden="true" href="#详细配置">#</a></h4>
<p>在前面的配置中我们只是把用户 jack 加入了 sudo 组，他就具有了通过 root 权限执行命令的能力。</p>
<p>现在我们想问一下，这是怎么发生的？是时候介绍如何配置 sudo 命令了！</p>
<p>sudo 命令的配置文件为 <code>/etc/sudoers</code>。</p>
<p>编辑这个文件是有单独的命令的 visudo，这个文件我们最好不要使用 vim 命令来打开，是因为一旦你的语法写错会造成严重的后果，这个工具会替你检查你写的语法，这个文件的语法遵循以下格式：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">who where whom command
</code></pre></div><p>说白了就是哪个用户在哪个主机以谁的身份执行那些命令，那么这个 where, 是指允许在那台主机 ssh 连接进来才能执行后面的命令，文件里面默认给 root 用户定义了一条规则：</p>
<pre tabindex="0"><code>root    ALL=(ALL:ALL)       ALL
</code></pre><ul>
<li><code>root</code> 表示 root 用户。</li>
<li><code>ALL</code> 表示从任何的主机上都可以执行，也可以这样 192.168.100.0/24。</li>
<li><code>(ALL:ALL)</code>  是以谁的身份来执行，ALL:ALL 就代表 root 可以任何人的身份来执行命令。</li>
<li><code>ALL</code>  表示任何命令。</li>
</ul>
<p>那么整条规则就是 root 用户可以在任何主机以任何人的身份来执行所有的命令。</p>
<p>现在我们可以回答 jack 为什么具有通过 root 权限执行命令的能力了。打开 <code>/etc/sudoers</code> 文件：</p>
<pre tabindex="0"><code>%sudo ALL=(ALL:ALL) ALL
</code></pre><p>sudo 组中的所有用户都具有通过 root 权限执行命令的能力！</p>
<p>再看个例子：</p>
<pre tabindex="0"><code>nick   192.168.10.0/24=(root) /usr/sbin/useradd
</code></pre><p>上面的配置只允许 nick 在 192.168.10.0/24 网段上连接主机并且以 root 权限执行 useradd 命令。</p>
<p><strong>设置 sudo 时不需要输入密码</strong></p>
<p>只需要在配置行中添加 NOPASSWD: 就可以了：</p>
<pre tabindex="0"><code>%sudo ALL=(ALL:ALL) NOPASSWD:ALL
</code></pre><h4 id="日志">日志<a hidden class="anchor" aria-hidden="true" href="#日志">#</a></h4>
<p>在 ubuntu 中，sudo 的日志默认被记录在 <code>/var/log/auth.log</code> 文件中。当我们执行 sudo 命令时，相关日志都是会被记录下来的。</p>
<h4 id="与输出重定向httpswwwcnblogscomsparkdevp10287164html"><a href="https://www.cnblogs.com/sparkdev/p/10287164.html">与输出重定向</a><a hidden class="anchor" aria-hidden="true" href="#与输出重定向httpswwwcnblogscomsparkdevp10287164html">#</a></h4>
<p>如果当前用户没有某个文件的写权限，又要通过输出重定向往该文件中写入内容。结果只能是 &ldquo;Permission denied&rdquo;。</p>
<p>比如当前用户为 nick，下面的命令试图查询 /root 目录下的文件并把结果写入到 /root/test.txt 文件中，注意用户 nick 没有对 /root/test.txt 文件的写权限：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo ls -al /root/test.txt
-rw-r--r-- <span style="color:#ae81ff">1</span> root root <span style="color:#ae81ff">0</span> Jan <span style="color:#ae81ff">10</span> 05:19 /root/test.txt
$ sudo ls -al /root &gt; /root/test.txt
-bash: /root/test.txt: Premission denied
</code></pre></div><p>不工作的原因是：<em>虽然 ls 命令是以 sudo 方式执行的，但是输出重定向操作是由当前 shell 执行的，它(当前 shell)没有 /root/test.txt 文件的权限，所以最终失败。</em></p>
<p>搞清楚了原因，就可以通过不同的方式来解决这个问题了，下面介绍四种方式。</p>
<p><strong>以 sudo 方式运行 shell</strong></p>
<p>既然是 shell 进程没有权限，那就用 sudo 的方式执行 shell：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo bash -c <span style="color:#e6db74">&#39;ls -al /root &gt; /root/test.txt&#39;</span>
</code></pre></div><p><strong>把命令写入脚本，以 sudo 方式执行脚本</strong></p>
<p>把下面的代码保存到脚本文件 test.sh 中：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e">#!/bin/bash
</span><span style="color:#75715e"></span>ls -al /root &gt; /root/test.txt
</code></pre></div><p>然后通过下面的方式执行：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ chmod +x test.sh
$ sudo ./test.sh
</code></pre></div><p>如果觉着创建脚本麻烦的话还可以使用变通的方式：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo bash <span style="color:#e6db74">&lt;&lt;EOF
</span><span style="color:#e6db74">&gt; ls -al /root &gt; /root/test.txt
</span><span style="color:#e6db74">&gt; EOF</span>
</code></pre></div><p>或者是下面的写法：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ echo <span style="color:#e6db74">&#39;ls -al /root &gt; /root/test.txt&#39;</span> | sudo bash
</code></pre></div><p><strong>先通过 sudo -s 启动 shell，然后执行命令</strong></p>
<p>先通过 sudo -s 命令切换到 root 用户再执行命令，最后 ctrl + d 退出。</p>
<p><strong>通过 sudo tee 命令实现</strong></p>
<p>Tee 命令用于将数据重定向到文件，另一方面还可以提供一份重定向数据的副本作为后续命令的 stdin。简单的说就是把数据重定向到给定文件和屏幕上：</p>
<p><img loading="lazy" src="/Distributions/952033-20190118131012035-1560486278.png" alt=""  />
</p>
<p>面的命令中通过 sudo tee 把 ls 命令的输出写入文件：</p>
<pre tabindex="0"><code>$ sudo ls -al /root | sudo tee /root/test.txt &gt; /dev/null
</code></pre><p>其中的 &gt; /dev/null 阻止 tee 把内容输出到终端。</p>
<h3 id="fdiskhttpswwwcnblogscomsparkdevp10095916html"><a href="https://www.cnblogs.com/sparkdev/p/10095916.html">fdisk</a><a hidden class="anchor" aria-hidden="true" href="#fdiskhttpswwwcnblogscomsparkdevp10095916html">#</a></h3>
<p>Linux 系统中所有的硬件设备都是通过文件的方式来表现和使用的，我们将这些文件称为设备文件，硬盘对应的设备文件一般被称为块设备文件。</p>
<h4 id="磁盘分类">磁盘分类<a hidden class="anchor" aria-hidden="true" href="#磁盘分类">#</a></h4>
<p>比较常见的磁盘类型有消费类市场中的 SATA 硬盘和服务器中使用的 SCSI 硬盘、SAS 硬盘，当然还有当下大热的各种固态硬盘。</p>
<p><strong>SATA 硬盘</strong></p>
<p>SATA(Serial ATA)口的硬盘又叫串口硬盘，Serial ATA 采用串行连接方式，串行 ATA 总线使用嵌入式时钟信号，具备了更强的纠错能力，与以往相比其最大的区别在于能对传输指令(不仅仅是数据)进行检查，如果发现错误会自动矫正，这在很大程度上提高了数据传输的可靠性。串行接口还具有结构简单、支持热插拔的优点。SATA 硬盘主要用于消费类市场和一些低端服务器：</p>
<p><img loading="lazy" src="/Distributions/952033-20181210130351845-1555163788.jpg" alt="img"  />
</p>
<p><strong>SCSI 硬盘</strong></p>
<p>SCSI 硬盘即采用 SCSI 接口的硬盘。它由于性能好、稳定性高，因此在服务器上得到广泛应用。同时其价格也不菲，正因它的价格昂贵，所以在普通PC上很少见到它的踪迹。SCSI 硬盘使用 50 针接口，外观和普通硬盘接口有些相似(下图来自互联网)：</p>
<p><img loading="lazy" src="/Distributions/952033-20181210130325224-626582547.jpg" alt="img"  />
</p>
<p><strong>SAS 硬盘</strong></p>
<p>SAS 是 Serial Attached SCSI 的缩写，即串行连接的 SCSI，其目标是定义一个新的串行点对点的企业级存储设备接口。串行接口减少了线缆的尺寸，允许更快的传输速度。SAS 硬盘与相同转速的 SCSI 硬盘相比有相同或者更好的性能。SAS 硬盘一般用于比较高端的服务器。</p>
<p><strong>固态硬盘</strong></p>
<p>固态硬盘(Solid State Disk)，一般称之为 SSD 硬盘，固态硬盘是用固态电子存储芯片阵列而制成的硬盘，由控制单元和存储单元(FLASH芯片、DRAM芯片)组成。其主要特点是没有传统硬盘的机械结构，读写速度非常快(下图来自互联网)：</p>
<p><img loading="lazy" src="/Distributions/952033-20181210130414715-469384412.png" alt="img"  />
</p>
<h4 id="表示方法">表示方法<a hidden class="anchor" aria-hidden="true" href="#表示方法">#</a></h4>
<p>在 Linux 系统中磁盘设备文件的命名规则为：</p>
<pre tabindex="0"><code>主设备号 + 次设备号 + 磁盘分区号
</code></pre><p>对于目前常见的磁盘，一般表示为：</p>
<pre tabindex="0"><code>sd[a-z]x
</code></pre><ul>
<li>主设备号代表设备的类型，相同的主设备号表示同类型的设备。当前常见磁盘的主设备号为 sd。</li>
<li>次设备号代表同类设备中的序号，用 &ldquo;a-z&rdquo; 表示。比如 /dev/sda 表示第一块磁盘，/dev/sdb 表示第二块磁盘。</li>
<li>x 表示磁盘分区编号。在每块磁盘上可能会划分多个分区，针对每个分区，Linux 用 /dev/sdbx 表示，这里的 x 表示第二块磁盘的第 x 个分区。</li>
</ul>
<h4 id="磁盘分区">磁盘分区<a hidden class="anchor" aria-hidden="true" href="#磁盘分区">#</a></h4>
<p>创建磁盘分区大概有下面几个目的：</p>
<ul>
<li>提升数据的安全性(一个分区的数据损坏不会影响其他分区的数据)</li>
<li>支持安装多个操作系统</li>
<li>多个小分区对比一个大分区会有性能提升</li>
<li>更好的组织数据</li>
</ul>
<p>本文以常见的 MBR 分区为例介绍磁盘分区中的一些常见概念。MBR 磁盘的分区由主分区、扩展分区和逻辑分区组成。在一块磁盘上，主分区的最大个数是 4，其中扩展分区也是一个主分区，并且最多只能有一个扩展分区，但可以在扩展分区上创建多个逻辑分区。因此主分区(包括扩展分区)的范围是 1-4，逻辑分区从 5 开始。对于逻辑分区，Linux 规定它们必须建立在扩展分区上，而不是建立在主分区上。</p>
<p>主分区的作用是用来启动操作系统的，主要存放操作系统的启动或引导程序。</p>
<p>扩展分区只不过是逻辑分区的 &ldquo;容器&rdquo;。实际上只有主分区和逻辑分区是用来进行数据存储的，因而可以将数据集中存放在磁盘的逻辑分区中。</p>
<p>我们可以通过 fdisk 命令来查看磁盘分区的信息：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo fdisk -l /dev/sda
</code></pre></div><p>分区信息：</p>
<ul>
<li><strong>Device</strong> 显示了磁盘分区对应的设备文件名。</li>
<li><strong>Boot</strong> 显示是否为引导分区，是引导分区就有一个 &lsquo;*&rsquo; 号。</li>
<li><strong>Start</strong> 表示磁盘分区的起始位置。</li>
<li><strong>End</strong> 表示磁盘分区的结束位置。</li>
<li><strong>Sectors</strong> 表示分区占用的扇区数目。</li>
<li><strong>Size</strong> 显示分区的大小。</li>
<li><strong>Id/Type</strong> 显示的内容相同，分别是数值 ID 及其文字描述。 Id 列显示了磁盘分区对应的 ID，根据分区的不同，分区对应的 ID 号也不相同。Linux 下用 83 表示主分区和逻辑分区，5 表示扩展分区，8e 表示 LVM 分区，82 表示交换分区，7 表示 NTFS 分区。</li>
</ul>
<h4 id="划分磁盘分区">划分磁盘分区<a hidden class="anchor" aria-hidden="true" href="#划分磁盘分区">#</a></h4>
<p>fdisk 是 Linux 系统中一款功能强大的磁盘分区管理工具，可以观察硬盘的使用情况，也可以用来管理磁盘分区。</p>
<p>假设我们的 Linux 系统中增加了一块新的磁盘，系统对应的设备名为 /dev/sdd，下面我们通过 fdisk 命令对这个磁盘进行分区：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ <span style="color:#f92672">(</span>echo n; echo p; echo 1; echo ; echo ; echo w<span style="color:#f92672">)</span> | sudo fdisk /dev/sdd
</code></pre></div><ul>
<li>命令 n 来创建新分区</li>
<li>p 来创建主分区</li>
<li>主分区的编号为 1- 4，这里我们输入了 1。</li>
<li>分区的大小是通过设置分区开始处的扇区和结束处的扇区设置的。这里如果回车两次会把整个磁盘划分为一个分区，也就是整个磁盘的容器都分给了一个分区。</li>
<li>注意此时的分区信息还没有写入到磁盘中，在这里还可以反悔，如果确认执行上面的分区，执行 w 命令就行了。</li>
</ul>
<p>这时分区操作已经完成了，我们可以通过下面的命令查看分区的结果：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo fdisk -l /dev/sdd
</code></pre></div><p>分区是使用磁盘的基础，在分区完成后还需要对分区进行格式化，并把格式化后的文件系统挂载到 Linux 系统之后才能存储文件。</p>
<p><strong>更改分区的类型</strong></p>
<p>创建的分区类型默认为 83(Linux)，如果想要一个 8e(Linux LVM)类型的分区，在 fdisk 输入 t 命令来修改分区的类型。</p>
<h3 id="fuserhttpswwwcnblogscomsungeekp11857549html"><a href="https://www.cnblogs.com/Sungeek/p/11857549.html">fuser</a><a hidden class="anchor" aria-hidden="true" href="#fuserhttpswwwcnblogscomsungeekp11857549html">#</a></h3>
<p>当使用umount命令卸载挂载点时，会遇到“device is busy”提示，这时fuser就能查出谁在使用这个资源。</p>
<h4 id="描述">描述<a hidden class="anchor" aria-hidden="true" href="#描述">#</a></h4>
<p>fuser可以显示出当前哪个程序在使用磁盘上的某个文件、挂载点、甚至网络端口，并给出程序进程的详细信息。</p>
<p>每个进程 ID 后面跟有一个字母代码。字母代码的解释如下所述。</p>
<ul>
<li><code>c</code>：表示此进程正在使用该文件作为其当前目录。</li>
<li><code>e</code>：将此文件作为程序的可执行对象使用</li>
<li><code>f</code>：打开的文件。默认不显示。</li>
<li><code>F</code>：打开的文件，用于写操作。默认不显示。</li>
<li><code>r</code>：表示此进程正在将该文件用作其根目录。</li>
<li><code>m</code>：指示进程使用该文件进行内存映射，抑或该文件为共享库文件，被进程映射进内存。</li>
<li><code>s</code>：将此文件作为共享库（或其他可装载对象）使用</li>
</ul>
<p>对于具有已挂载文件系统的块特殊设备，将列出使用该设备上的任何文件的所有进程。对于所有类型的文件（文本文件、可执行文件、目录、设备，等等），只会报告使用该文件的进程。</p>
<p>对于所有类型的设备，<code>fuser</code> 还会显示打开设备的任何已知内核使用者。内核使用者显示为下列格式之一：</p>
<pre tabindex="0"><code>[module_name]
[module_name,dev_path=path]
[module_name,dev=(major,minor)]
[module_name,dev=(major,minor),dev_path=path]
</code></pre><p>如果指定了多组文件，可能需要为其他每个文件组重新指定选项。单个短划线可取消当前施行的选项。</p>
<p>各个进程 ID 输出到标准输出中的单个行上，并以空格分隔。所有其他输出（包括单个终止换行符）均被写入到标准错误。</p>
<p>任何用户都可以运行 fuser，但只有超级用户可以终止其他用户的进程。</p>
<h4 id="选项">选项<a hidden class="anchor" aria-hidden="true" href="#选项">#</a></h4>
<p>支持以下选项：</p>
<ul>
<li><code>-a</code>：显示所有命令行中指定的文件，默认情况下被访问的文件才会被显示。</li>
<li><code>-c</code>：和-m一样，用于POSIX兼容。</li>
<li><code>-k</code>：杀掉访问文件的进程。如果没有指定-signal就会发送SIGKILL信号。</li>
<li><code>-i</code>：杀掉进程之前询问用户，如果没有-k这个选项会被忽略。</li>
<li><code>-l</code>：列出所有已知的信号名称。</li>
<li><code>-m</code>：name 指定一个挂载文件系统上的文件或者被挂载的块设备（名称name）。这样所有访问这个文件或者文件系统的进程都会被列出来。如果指定的是一个目录会自动转换成&quot;name/&quot;,并使用所有挂载在那个目录下面的文件系统。</li>
<li><code>-n</code>：space 指定一个不同的命名空间(space).这里支持不同的空间文件(文件名，此处默认)、tcp(本地tcp端口)、udp(本地udp端口)。对于端口， 可以指定端口号或者名称，如果不会引起歧义那么可以使用简单表示的形式，例如：name/space (即形如:80/tcp之类的表示)。</li>
<li><code>-s</code>：静默模式，这时候-u,-v会被忽略。-a不能和-s一起使用。</li>
<li><code>-signal</code>：使用指定的信号，而不是用SIGKILL来杀掉进程。可以通过名称或者号码来表示信号(例如-HUP,-1),这个选项要和-k一起使用，否则会被忽略。</li>
<li><code>-u</code>：在每个PID后面添加进程拥有者的用户名称。</li>
<li><code>-v</code>：详细模式。输出似ps命令的输出，包含PID,USER,COMMAND等许多域,如果是内核访问的那么PID为kernel.  -V 输出版本号。</li>
<li><code>-4</code>：使用IPV4套接字,不能和-6一起应用，只在-n的tcp和udp的命名存在时不被忽略。</li>
<li><code>-6</code>：使用IPV6套接字,不能和-4一起应用，只在-n的tcp和udp的命名存在时不被忽略。</li>
<li><code>-</code>：重置所有的选项，把信号设置为SIGKILL.</li>
</ul>
<h4 id="示例">示例<a hidden class="anchor" aria-hidden="true" href="#示例">#</a></h4>
<p><strong>示例 1</strong> 显示使用某个文件的进程信息</p>
<p>这个命令在umount的时候很有用，可以找到还有哪些用到这个设备了。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ fuser -um /dev/sda2  
/dev/sda2:            6378c<span style="color:#f92672">(</span>quietheart<span style="color:#f92672">)</span>  6534c<span style="color:#f92672">(</span>quietheart<span style="color:#f92672">)</span>  6628<span style="color:#f92672">(</span>quietheart<span style="color:#f92672">)</span>  
6653c<span style="color:#f92672">(</span>quietheart<span style="color:#f92672">)</span>  7429c<span style="color:#f92672">(</span>quietheart<span style="color:#f92672">)</span>  7549c<span style="color:#f92672">(</span>quietheart<span style="color:#f92672">)</span>  7608c<span style="color:#f92672">(</span>quietheart<span style="color:#f92672">)</span>  
</code></pre></div><p><strong>示例 2</strong> 杀掉打开readme文件的程序</p>
<p>这里，会在kill之前询问是否确定。最好加上-v以便知道将要杀那个进程。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ fuser -m -k -i readme
</code></pre></div><p><strong>示例 3</strong> 查看那些程序使用tcp的80端口</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ fuser -v -n tcp <span style="color:#ae81ff">80</span>
<span style="color:#75715e"># or</span>
$ fuser -v 80/tcp  
</code></pre></div><h3 id="tcpdumphttpssegmentfaultcoma1190000018944427"><a href="https://segmentfault.com/a/1190000018944427">tcpdump</a><a hidden class="anchor" aria-hidden="true" href="#tcpdumphttpssegmentfaultcoma1190000018944427">#</a></h3>
<p><strong>tcpdump</strong> 是一款 Linux 平台的抓包工具。它可以抓取涵盖整个 TCP/IP 协议族的数据包，支持针对网络层、协议、主机、端口的过滤，并提供 and、or、not 等逻辑语句来过滤无用的信息。</p>
<p>tcpdump 是一个非常复杂的工具，掌握它的方方面面实属不易，也不推荐，能够用它来解决日常工作问题才是关系。</p>
<h4 id="命令选项">命令选项<a hidden class="anchor" aria-hidden="true" href="#命令选项">#</a></h4>
<p>tcpdump 有很多命令选项，想了解所有选项可以 Linux 命令行输入 <code>tcpdump -h</code>，<code>man tcpdump</code> 查看每个选项的意思。</p>
<p>下面列举一些常用选项：</p>
<ul>
<li>-A 只使用 ASCII 打印报文的全部数据，不要和 <code>-X</code> 一起使用，获取 http 可以用 <code>tcpdump -nSA port 80</code></li>
<li>-b 在数据链路层上选择协议，包括 ip, arp, rarp, ipx 等</li>
<li>-c 指定要抓取包的数量</li>
<li>-D 列出操作系统所有可以用于抓包的接口</li>
<li>-e 输出链路层报头</li>
<li>-i 指定监听的网卡，<code>-i any</code> 显示所有网卡</li>
<li>-n 表示不解析主机名，直接用 IP 显示，默认是用 hostname 显示</li>
<li>-nn 表示不解析主机名和端口，直接用端口号显示，默认显示是端口号对应的服务名</li>
<li>-p 关闭接口的混杂模式</li>
<li>-P 指定抓取的包是流入的包还是流出的，可以指定参数 in, out, inout 等，默认是 inout</li>
<li>-q 快速打印输出，即只输出少量的协议相关信息</li>
<li>-s len 设置要抓取数据包长度为 len，默认只会截取前 96bytes 的内容，<code>-s 0</code> 的话，会截取全部内容。</li>
<li>-S 将 TCP 的序列号以绝对值形式输出，而不是相对值</li>
<li>-t 不要打印时间戳</li>
<li>-vv 输出详细信息（比如 tos、ttl、checksum等）</li>
<li>-X 同时用 hex 和 ascii 显示报文内容</li>
<li>-XX 同 -X，但同时显示以太网头部</li>
</ul>
<h4 id="过滤器">过滤器<a hidden class="anchor" aria-hidden="true" href="#过滤器">#</a></h4>
<p>网络报文是很多的，很多时候我们在主机上抓包，会抓到很多我们并不关心的无用包，然后要从这些包里面去找我们需要的信息，无疑是一件费时费力的事情，tcpdump 提供了灵活的语法可以精确获取我们关心的数据，这些语法说得专业点就是过滤器。</p>
<p>过滤器简单可分为三类：协议（proto）、传输方向（dir）和类型（type）。</p>
<p>一般的 <strong>表达式格式</strong> 为：</p>
<p><img loading="lazy" src="/Distributions/3347645908-5cc81421999ad_fix732.webp" alt=""  />
</p>
<ul>
<li>关于 proto：可选有 ip, arp, rarp, tcp, udp, icmp, ether 等，默认是所有协议的包</li>
<li>关于 dir：可选有 src, dst, src or dst, src and dst，默认为 src or dst</li>
<li>关于 type：可选有 host, net, port, portrange（端口范围，比如 21-42），默认为 host</li>
</ul>
<h4 id="常用操作">常用操作<a hidden class="anchor" aria-hidden="true" href="#常用操作">#</a></h4>
<p>测试环境 IP：172.18.82.173</p>
<h5 id="抓取某主机的数据包">抓取某主机的数据包<a hidden class="anchor" aria-hidden="true" href="#抓取某主机的数据包">#</a></h5>
<p>抓取主机 172.18.82.173 上所有收到（DST_IP）和发出（SRC_IP）的所有数据包</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ tcpdump host 172.18.82.173
</code></pre></div><p>抓取经过指定网口 interface ，并且 DST_IP 或 SRC_IP 是 172.18.82.173 的数据包</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ tcpdump -i eth0 host 172.18.82.173
</code></pre></div><p>筛选 SRC_IP，抓取经过 interface 且从 172.18.82.173 发出的包</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ tcpdump -i eth0 src host 172.18.82.173
</code></pre></div><p>筛选 DST_IP，抓取经过 interface 且发送到 172.18.82.173 的包</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ tcpdump -i eth0 dst host 172.18.82.173
</code></pre></div><p>抓取主机 200.200.200.1 和主机 200.200.200.2 或 200.200.200.3 通信的包</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ tcpdump host 200.200.200.1 and <span style="color:#ae81ff">\(</span>200.200.200.2 or 200.200.200.3<span style="color:#ae81ff">\)</span>
</code></pre></div><p>抓取主机 200.200.200.1 和除了主机 200.200.200.2 之外所有主机通信的包</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ tcpdump ip host 200.200.200.1 and ! 200.200.200.2
</code></pre></div><h5 id="抓取某端口的数据包">抓取某端口的数据包<a hidden class="anchor" aria-hidden="true" href="#抓取某端口的数据包">#</a></h5>
<p>抓取所有端口，显示 IP 地址</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ tcpdump -nS
</code></pre></div><p>抓取某端口上的包</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ tcpdump port <span style="color:#ae81ff">22</span>
</code></pre></div><p>抓取经过指定 interface，并且 DST_PORT 或 SRC_PORT 是 22 的数据包</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ tcpdump -i eth0 port <span style="color:#ae81ff">22</span>
</code></pre></div><p>筛选 SRC_PORT</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ tcpdump -i eth0 src port <span style="color:#ae81ff">22</span>
</code></pre></div><p>筛选 DST_PORT</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ tcpdump -i eth0 dst port <span style="color:#ae81ff">22</span>
</code></pre></div><p>比如希望查看发送到 host 172.18.82.173 的网口 eth0 的 22 号端口的包</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ tcpdump -i eth0 -nnt dst host 172.18.82.173 and port <span style="color:#ae81ff">22</span> -c <span style="color:#ae81ff">1</span> -vv
</code></pre></div><h5 id="抓取某网络网段的数据包">抓取某网络（网段）的数据包<a hidden class="anchor" aria-hidden="true" href="#抓取某网络网段的数据包">#</a></h5>
<p>抓取经过指定 interface，并且 DST_NET 或 SRC_NET 是 172.18.82 的包</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ tcpdump -i eth0 net 172.18.82
</code></pre></div><p>筛选 SRC_NET</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ tcpdump -i eth0 src net 172.18.82
</code></pre></div><p>筛选 DST_NET</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ tcpdump -i eth0 dst net 172.18.82
</code></pre></div><h5 id="抓取某协议的数据包">抓取某协议的数据包<a hidden class="anchor" aria-hidden="true" href="#抓取某协议的数据包">#</a></h5>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ tcpdump -i eth0 icmp
$ tcpdump -i eth0 ip
$ tcpdump -i eth0 tcp
$ tcpdump -i eth0 udp
$ tcpdump -i eth0 arp
</code></pre></div><h5 id="复杂的过滤条件">复杂的过滤条件<a hidden class="anchor" aria-hidden="true" href="#复杂的过滤条件">#</a></h5>
<p>抓取经过 interface eth0 发送到 host 200.200.200.1 或 200.200.200.2 的 TCP 协议 22 号端口的数据包</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ tcpdump -i eth0 -nntvv -c <span style="color:#ae81ff">10</span> <span style="color:#e6db74">&#39;((tcp) and (port 22) and ((dst host 200.200.200.1) or (dst host 200.200.200.2)))&#39;</span>
</code></pre></div><p>对于复杂的过滤器表达式，为了逻辑清晰，可以使用 <code>()</code>，不过默认情况下，tcpdump 会将 <code>()</code> 当做特殊字符，所以必须使用 <code>''</code> 来消除歧义。</p>
<p>抓取经过 interface eth0， DST_MAC 或 SRC_MAC 地址是 00:16:3e:12:16:e7 的 ICMP 数据包</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ tcpdump -i eth0 <span style="color:#e6db74">&#39;((icmp) and ((ether host 00:16:3e:12:16:e7)))&#39;</span> -nnvv
</code></pre></div><p>抓取经过 interface eth0，目标网络是 172.18 但目标主机又不是 172.18.82.173 的 TCP 且非 22 号端口号的数据包</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ tcpdump -i eth0 -nntvv <span style="color:#e6db74">&#39;((dst net 172.18) and (not dst host 172.18.82.173) and (tcp) and (not port 22))&#39;</span>
</code></pre></div><p>抓取流入 interface eth0，host 为 172.18.82.173 且协议为 ICMP 的数据包</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ tcpdump -i eth0 -nntvv -P in host 172.18.82.173 and icmp
</code></pre></div><p>抓取流出 interface eth0，host 为 172.18.82.173 且协议为 ICMP 的数据包</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ tcpdump -i eth0 -nntvv -P out host 172.18.82.173 and icmp
</code></pre></div><h4 id="与其他工具的配合">与其他工具的配合<a hidden class="anchor" aria-hidden="true" href="#与其他工具的配合">#</a></h4>
<p>tcpdump 抓包的时候，默认是打印到屏幕输出，如果是抓取包少还好，如果包很多，很多行数据，刷刷刷从眼前一闪而过，根本来不及看清内容。不过，tcpdump 提供了将抓取的数据保存到文件的功能，查看文件就方便分析多了，而且还能与其他图形工具一起配合分析，比如 wireshark、Snort 等。</p>
<ul>
<li>-w 选项表示把数据报文输出到文件</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ tcpdump -w capture_file.pcap port <span style="color:#ae81ff">80</span>
</code></pre></div><ul>
<li>-r 选项表示读取文件里的数据报文，显示到屏幕上</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ tcpdump -nXr capture_file.pcap host host1
</code></pre></div><p><code>.pcap</code> 格式的文件需要用 wireshark、Snort 等工具查看，使用 <code>vim</code> 或 <code>cat</code> 会出现乱码。</p>
<h4 id="tcpdump-的输出格式">tcpdump 的输出格式<a hidden class="anchor" aria-hidden="true" href="#tcpdump-的输出格式">#</a></h4>
<p>tcpdump 的输出格式总体上为：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">系统时间 源主机.端口 &gt; 目标主机.端口 数据包参数
</code></pre></div><p>比如下面的例子，显示了 TCP 的三次握手过程：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">21:27:06.995846 IP <span style="color:#f92672">(</span>tos 0x0, ttl 64, id 45646, offset 0, flags <span style="color:#f92672">[</span>DF<span style="color:#f92672">]</span>, proto TCP <span style="color:#f92672">(</span>6<span style="color:#f92672">)</span>, length 64<span style="color:#f92672">)</span>
    192.168.1.106.56166 &gt; 124.192.132.54.80: Flags <span style="color:#f92672">[</span>S<span style="color:#f92672">]</span>, cksum 0xa730 <span style="color:#f92672">(</span>correct<span style="color:#f92672">)</span>, seq 992042666, win 65535, options <span style="color:#f92672">[</span>mss 1460,nop,wscale 4,nop,nop,TS val <span style="color:#ae81ff">663433143</span> ecr 0,sackOK,eol<span style="color:#f92672">]</span>, length <span style="color:#ae81ff">0</span>

21:27:07.030487 IP <span style="color:#f92672">(</span>tos 0x0, ttl 51, id 0, offset 0, flags <span style="color:#f92672">[</span>DF<span style="color:#f92672">]</span>, proto TCP <span style="color:#f92672">(</span>6<span style="color:#f92672">)</span>, length 44<span style="color:#f92672">)</span>
    124.192.132.54.80 &gt; 192.168.1.106.56166: Flags <span style="color:#f92672">[</span>S.<span style="color:#f92672">]</span>, cksum 0xedc0 <span style="color:#f92672">(</span>correct<span style="color:#f92672">)</span>, seq 2147006684, ack 992042667, win 14600, options <span style="color:#f92672">[</span>mss 1440<span style="color:#f92672">]</span>, length <span style="color:#ae81ff">0</span>

21:27:07.030527 IP <span style="color:#f92672">(</span>tos 0x0, ttl 64, id 59119, offset 0, flags <span style="color:#f92672">[</span>DF<span style="color:#f92672">]</span>, proto TCP <span style="color:#f92672">(</span>6<span style="color:#f92672">)</span>, length 40<span style="color:#f92672">)</span>
    192.168.1.106.56166 &gt; 124.192.132.54.80: Flags <span style="color:#f92672">[</span>.<span style="color:#f92672">]</span>, cksum 0x3e72 <span style="color:#f92672">(</span>correct<span style="color:#f92672">)</span>, ack 2147006685, win 65535, length <span style="color:#ae81ff">0</span>
</code></pre></div><p>第一条是 <code>SYN</code> 报文，通过 <code>Flags[S]</code> 看出。第二条是 <code>[S.]</code>，表示 <code>SYN-ACK</code> 报文。常见的 TCP 报文的 Flags 如下：</p>
<ul>
<li><code>[S]</code>： SYN（开始连接）</li>
<li><code>[.]</code>: 没有 Flag</li>
<li><code>[P]</code>: PSH（推送数据）</li>
<li><code>[F]</code>: FIN （结束连接）</li>
<li><code>[R]</code>: RST（重置连接）</li>
</ul>
<h3 id="gpghttpsruanyifengcomblog201307gpghtml"><a href="https://ruanyifeng.com/blog/2013/07/gpg.html">GPG</a><a hidden class="anchor" aria-hidden="true" href="#gpghttpsruanyifengcomblog201307gpghtml">#</a></h3>
<p>前两篇文章，我介绍了<a href="https://www.ruanyifeng.com/blog/2013/06/rsa_algorithm_part_one.html">RSA算法</a>。</p>
<p>今天，就接着来看，现实中怎么使用这个算法，对信息加密和解密。这要用到<a href="https://www.gnupg.org/">GnuPG</a>软件（简称GPG），它是目前最流行、最好用的加密工具之一。</p>
<h4 id="什么是gpg">什么是GPG<a hidden class="anchor" aria-hidden="true" href="#什么是gpg">#</a></h4>
<p>要了解什么是GPG，就要先了解<a href="https://en.wikipedia.org/wiki/Pretty_Good_Privacy">PGP</a>。</p>
<p>1991年，程序员<a href="https://en.wikipedia.org/wiki/Phil_Zimmermann">Phil Zimmermann</a>为了避开政府监视，开发了加密软件PGP。这个软件非常好用，迅速流传开来，成了许多程序员的必备工具。但是，它是商业软件，不能自由使用。所以，自由软件基金会决定，开发一个PGP的替代品，取名为GnuPG。这就是GPG的由来。</p>
<p>GnuPG 是完整实现了 <a href="https://tools.ietf.org/html/rfc4880">RFC4880</a> （即PGP） 所定义的 <a href="https://openpgp.org/about/">OpenPGP</a> 标准的自由软件。</p>
<p>GnuPG 可以加密和签名你的数据和通讯信息，包含一个通用的密钥管理系统以及用于各种公钥目录的访问模块。</p>
<p>GnuPG 是一个易于与其它程序整合的命令行工具，拥有很多前端程序和函数库。</p>
<p>GnuPG 还支持 S/MIME 和 Secure Shell (ssh)。</p>
<p>GPG有许多用途，本文主要介绍文件加密。至于邮件的加密，不同的邮件客户端有不同的设置，请参考Ubuntu网站的<a href="https://help.ubuntu.com/community/GnuPrivacyGuardHowto#Reading_OpenPGP_E-mail">介绍</a>。</p>
<p>本文的使用环境为Linux命令行。如果掌握了命令行，<a href="https://gpg4win.org/">Windows</a> 或 <a href="https://gpgtools.org/">Mac OS</a> 客户端，就非常容易掌握。GPG并不难学，学会了它，从此就能轻松传递加密信息。建议读者一步步跟着教程做，对每条命令都自行测试。</p>
<h4 id="安装-4">安装<a hidden class="anchor" aria-hidden="true" href="#安装-4">#</a></h4>
<p>GPG有两种安装方式。可以<a href="https://www.gnupg.org/download/index.en.html">下载源码</a>，自己编译安装。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ ./configure
$ make
$ make install
</code></pre></div><p>也可以安装编译好的二进制包。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ sudo apt-get install gnupg
</code></pre></div><p>安装完成后，键入下面的命令：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ gpg --help
</code></pre></div><p>如果屏幕显示GPG的帮助，就表示安装成功。</p>
<h4 id="配置">配置<a hidden class="anchor" aria-hidden="true" href="#配置">#</a></h4>
<h5 id="目录位置">目录位置<a hidden class="anchor" aria-hidden="true" href="#目录位置">#</a></h5>
<p>GnuPG 用环境变量 <code>$GNUPGHOME</code> 定位配置文件的位置，默认情况下此变量并未被设置，会直接使用 <code>$HOME</code>，所以默认的配置目录是 <code>~/.gnupg</code>。</p>
<p>要改变默认位置，执行 <code>$ gpg --homedir path/to/file</code> 或在 <a href="https://wiki.archlinux.org/title/Startup_file">startup files</a> 中设置 <code>GNUPGHOME</code>。</p>
<h5 id="配置文件">配置文件<a hidden class="anchor" aria-hidden="true" href="#配置文件">#</a></h5>
<p>默认的配置文件是 <code>~/.gnupg/gpg.conf</code> 和 <code>~/.gnupg/dirmngr.conf</code>.</p>
<p>gnupg 目录的默认 <a href="https://wiki.archlinux.org/title/Permissions">权限</a> 是 <code>700</code>，其中文件的权限是 <code>600</code>. 仅目录的所有者有权读写，访问这些文件。这是基于安全考虑，请不要变更。如果不使用这样的安全权限设置，会收到不安全文件的警告。</p>
<p>在文件中附加需要的文件：<code>/usr/share/gnupg</code> 包含基本架构文件. gpg，第一次运行时，如果配置文件不存在，会自动复制文件到 <code>~/.gnupg</code>。</p>
<h5 id="新用户的默认选项">新用户的默认选项<a hidden class="anchor" aria-hidden="true" href="#新用户的默认选项">#</a></h5>
<p>要给新建用户设定一些默认选项，把配置文件放到 <code>/etc/skel/.gnupg/</code>。系统创建新用户时，就会把文件复制到 GnuPG 目录。还有一个 <em>addgnupghome</em> 命令可以为已有用户创建新 GnuPG 主目录：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#75715e"># addgnupghome user1 user2</span>
</code></pre></div><p>此命令会将对检查 <code>/home/user1/.gnupg</code> 和 <code>/home/user2/.gnupg</code>，如果用户的 GnuPG 主目录不存在，就会从 skeleton 目录复制文件过去。</p>
<h4 id="生成密钥">生成密钥<a hidden class="anchor" aria-hidden="true" href="#生成密钥">#</a></h4>
<p>安装成功后，使用 <code>--full-generate-key</code> 参数生成自己的密钥。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ gpg --full-generate-key
</code></pre></div><p>或用 <code>gpg --gen-key</code> 快速生成。以下使用 <code>gpg2 --full-generate-key</code> 演示。</p>
<p>回车以后，会跳出一大段文字：</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">gpg <span style="color:#f92672">(</span>GnuPG<span style="color:#f92672">)</span> 2.2.19; Copyright <span style="color:#f92672">(</span>C<span style="color:#f92672">)</span> <span style="color:#ae81ff">2019</span> Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Please <span style="color:#66d9ef">select</span> what kind of key you want:
   <span style="color:#f92672">(</span>1<span style="color:#f92672">)</span> RSA and RSA <span style="color:#f92672">(</span>default<span style="color:#f92672">)</span>
   <span style="color:#f92672">(</span>2<span style="color:#f92672">)</span> DSA and Elgamal
   <span style="color:#f92672">(</span>3<span style="color:#f92672">)</span> DSA <span style="color:#f92672">(</span>sign only<span style="color:#f92672">)</span>
   <span style="color:#f92672">(</span>4<span style="color:#f92672">)</span> RSA <span style="color:#f92672">(</span>sign only<span style="color:#f92672">)</span>
  <span style="color:#f92672">(</span>14<span style="color:#f92672">)</span> Existing key from card
Your selection? 
</code></pre></div><p>第一段是版权声明，然后让用户自己选择加密算法。默认选择第一个选项，表示加密和签名都使用RSA算法。</p>
<p>然后，系统就会问你密钥的长度。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">RSA keys may be between <span style="color:#ae81ff">1024</span> and <span style="color:#ae81ff">4096</span> bits long.
What keysize <span style="color:#66d9ef">do</span> you want? <span style="color:#f92672">(</span>3072<span style="color:#f92672">)</span> 
</code></pre></div><p>密钥越长越安全。</p>
<p>接着，设定密钥的有效期。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">Please specify how long the key should be valid.
         0 <span style="color:#f92672">=</span> key does not expire
      &lt;n&gt;  <span style="color:#f92672">=</span> key expires in n days
      &lt;n&gt;w <span style="color:#f92672">=</span> key expires in n weeks
      &lt;n&gt;m <span style="color:#f92672">=</span> key expires in n months
      &lt;n&gt;y <span style="color:#f92672">=</span> key expires in n years
Key is valid <span style="color:#66d9ef">for</span>? <span style="color:#f92672">(</span>0<span style="color:#f92672">)</span> 
</code></pre></div><p>如果密钥只是个人使用，并且你很确定可以有效保管私钥，建议选择第一个选项，即永不过期。回答完上面三个问题以后，系统让你确认。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">Is this correct? <span style="color:#f92672">(</span>y/N<span style="color:#f92672">)</span>
</code></pre></div><p>输入y，系统就要求你提供个人信息。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">GnuPG needs to construct a user ID to identify your key.

Real name: 
Email address
Comment: 
</code></pre></div><p>&ldquo;真实姓名&quot;填入你姓名的英文写法，&ldquo;电子邮件地址&quot;填入你的邮件地址，&ldquo;注释&quot;这一栏可以空着。</p>
<p>然后，你的&quot;用户ID&quot;生成了。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">You selected this USER-ID:
    <span style="color:#e6db74">&#34;Vane Hsiung &lt;1664548605@qq.com&gt;&#34;</span>
</code></pre></div><p>系统会让你最后确认一次。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">Change <span style="color:#f92672">(</span>N<span style="color:#f92672">)</span>ame, <span style="color:#f92672">(</span>C<span style="color:#f92672">)</span>omment, <span style="color:#f92672">(</span>E<span style="color:#f92672">)</span>mail or <span style="color:#f92672">(</span>O<span style="color:#f92672">)</span>kay/<span style="color:#f92672">(</span>Q<span style="color:#f92672">)</span>uit? 
</code></pre></div><p>输入O表示&quot;确定&rdquo;。</p>
<p>接着，系统会要求你做一些随机的举动，以生成一个随机数。同时系统会让你设定一个私钥的密码。这是为了防止误操作，或者系统被侵入时有人擅自动用私钥。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">We need to generate a lot of random bytes. It is a good idea to performsome other action <span style="color:#f92672">(</span>type on the keyboard, move the mouse, utilize thedisks<span style="color:#f92672">)</span> during the prime generation; this gives the random numbergenerator a better chance to gain enough entropy.
</code></pre></div><p>然后，系统就开始生成密钥了，</p>
<p>几分钟以后，系统提示密钥已经生成了。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">gpg: key B893B73ABC92D2CA marked as ultimately trusted
gpg: revocation certificate stored as <span style="color:#e6db74">&#39;&#39;</span>public and secret key created and signed.
</code></pre></div><p>请注意上面的字符串&quot;B893B73ABC92D2CA&rdquo;，这是&quot;用户ID&quot;的Hash字符串，可以用来替代&quot;用户ID&rdquo;。</p>
<p>这时，最好再生成一张&quot;撤销证书&quot;，以备以后密钥作废时，可以请求外部的公钥服务器撤销你的公钥。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ gpg --gen-revoke <span style="color:#f92672">[</span>用户ID<span style="color:#f92672">]</span>
</code></pre></div><p>上面的&quot;用户ID&quot;部分，可以填入你的邮件地址或者Hash字符串（以下同）。</p>
<h4 id="密钥管理">密钥管理<a hidden class="anchor" aria-hidden="true" href="#密钥管理">#</a></h4>
<p><strong>列出密钥</strong></p>
<p>list-keys参数列出系统中已有的密钥．</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ gpg --list-keys
</code></pre></div><p>显示结果如下：</p>
<pre tabindex="0"><code>gpg: checking the trustdb
gpg: marginals needed: 3  completes needed: 1  trust model: pgp
gpg: depth: 0  valid:   1  signed:   0  trust: 0-, 0q, 0n, 0m, 0f, 1u
/home/vane/.gnupg/pubring.kbx
-----------------------------
pub   rsa3072 2021-10-17 [SC]
      BC158F7500033355B5324CF14C701F8BF2E03463
uid           [ultimate] Vane Hsiung &lt;1664548605@qq.com&gt;
sub   rsa3072 2021-10-17 [E]
</code></pre><p>第一行显示公钥文件名（pubring.gpg），第二行显示公钥特征（4096位，Hash字符串和生成时间），第三行显示&quot;用户ID&quot;，第四行显示私钥特征。</p>
<p>如果你要从密钥列表中删除某个密钥，可以使用如下参数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ gpg --delete-secret-keys <span style="color:#f92672">[</span>用户ID<span style="color:#f92672">]</span>
$ gpg --delete-key <span style="color:#f92672">[</span>用户ID<span style="color:#f92672">]</span>
</code></pre></div><p><strong>输出密钥</strong></p>
<p>公钥文件（.gnupg/pubring.gpg）以二进制形式储存，armor参数可以将其转换为ASCII码显示。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ gpg --armor --output public-key.txt --export <span style="color:#f92672">[</span>用户ID<span style="color:#f92672">]</span>
</code></pre></div><p>&ldquo;用户ID&quot;指定哪个用户的公钥，output参数指定输出文件名（public-key.txt）。</p>
<p>类似地，export-secret-keys参数可以转换私钥。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ gpg --armor --output private-key.txt --export-secret-keys
</code></pre></div><p><strong>上传公钥</strong></p>
<p>公钥服务器是网络上专门储存用户公钥的服务器。send-keys参数可以将公钥上传到服务器。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ gpg --send-keys <span style="color:#f92672">[</span>用户ID<span style="color:#f92672">]</span> --keyserver hkp://subkeys.pgp.net
</code></pre></div><p>使用上面的命令，你的公钥就被传到了服务器subkeys.pgp.net，然后通过交换机制，所有的公钥服务器最终都会包含你的公钥。</p>
<p>由于公钥服务器没有检查机制，任何人都可以用你的名义上传公钥，所以没有办法保证服务器上的公钥的可靠性。通常，你可以在网站上公布一个公钥指纹，让其他人核对下载到的公钥是否为真。fingerprint参数生成公钥指纹。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ gpg --fingerprint <span style="color:#f92672">[</span>用户ID<span style="color:#f92672">]</span>
</code></pre></div><p><strong>输入密钥</strong></p>
<p>除了生成自己的密钥，还需要将他人的公钥或者你的其他密钥输入系统。这时可以使用import参数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ gpg --import <span style="color:#f92672">[</span>密钥文件<span style="color:#f92672">]</span>
</code></pre></div><p>为了获得他人的公钥，可以让对方直接发给你，或者到公钥服务器上寻找。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ gpg --keyserver hkp://subkeys.pgp.net --search-keys <span style="color:#f92672">[</span>用户ID<span style="color:#f92672">]</span>
</code></pre></div><p>正如前面提到的，我们无法保证服务器上的公钥是否可靠，下载后还需要用其他机制验证．</p>
<h4 id="加密和解密">加密和解密<a hidden class="anchor" aria-hidden="true" href="#加密和解密">#</a></h4>
<p><strong>加密</strong></p>
<p>假定有一个文本文件demo.txt，怎样对它加密呢？</p>
<p>encrypt参数用于加密。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ gpg --recipient <span style="color:#f92672">[</span>用户ID<span style="color:#f92672">]</span> --output demo.en.txt --encrypt demo.txt
</code></pre></div><p>recipient参数指定接收者的公钥，output参数指定加密后的文件名，encrypt参数指定源文件。运行上面的命令后，demo.en.txt就是已加密的文件，可以把它发给对方。</p>
<p><strong>解密</strong></p>
<p>对方收到加密文件以后，就用自己的私钥解密。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ gpg --output demo.de.txt --decrypt demo.en.txt
</code></pre></div><p>output 指定解密后生成的文件，decrypt参数指定需要解密的文件。运行上面的命令，demo.de.txt就是解密后的文件。</p>
<p>GPG允许省略decrypt参数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ gpg demo.en.txt
</code></pre></div><h4 id="签名">签名<a hidden class="anchor" aria-hidden="true" href="#签名">#</a></h4>
<p><strong>对文件签名</strong></p>
<p>有时，我们不需要加密文件，只需要对文件签名，表示这个文件确实是我本人发出的。sign参数用来签名。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ gpg --sign demo.txt
</code></pre></div><p>运行上面的命令后，当前目录下生成demo.txt.gpg文件，这就是签名后的文件。这个文件默认采用二进制储存，如果想生成ASCII码的签名文件，可以使用clearsign参数。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ gpg --clearsign demo.txt
</code></pre></div><p>运行上面的命令后 ，当前目录下生成demo.txt.asc文件，后缀名asc表示该文件是ASCII码形式的。</p>
<p>如果想生成单独的签名文件，与文件内容分开存放，可以使用detach-sign参数。　　</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ gpg --detach-sign demo.txt
</code></pre></div><p>运行上面的命令后，当前目录下生成一个单独的签名文件demo.txt.sig。该文件是二进制形式的，如果想采用ASCII码形式，要加上armor参数。　　</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ gpg --armor --detach-sign demo.txt
</code></pre></div><p><strong>签名+加密</strong></p>
<p>上一节的参数，都是只签名不加密。如果想同时签名和加密，可以使用下面的命令。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ gpg --local-user <span style="color:#f92672">[</span>发信者ID<span style="color:#f92672">]</span> --recipient <span style="color:#f92672">[</span>接收者ID<span style="color:#f92672">]</span> --armor --sign --encrypt demo.txt
</code></pre></div><p>local-user参数指定用发信者的私钥签名，recipient参数指定用接收者的公钥加密，armor参数表示采用ASCII码形式显示，sign参数表示需要签名，encrypt参数表示指定源文件。</p>
<p><strong>验证签名</strong></p>
<p>我们收到别人签名后的文件，需要用对方的公钥验证签名是否为真。verify参数用来验证。</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">$ gpg --verify demo.txt.asc demo.txt
</code></pre></div><p>举例来说，<a href="https://openvpn.net/index.php/open-source/downloads.html">openvpn</a>网站就提供每一个下载包的gpg签名文件。你可以根据它的<a href="https://openvpn.net/index.php/open-source/documentation/sig.html">说明</a>，验证这些下载包是否为真。</p>
<h2 id="others">Others<a hidden class="anchor" aria-hidden="true" href="#others">#</a></h2>
<h3 id="ubuntu-packages-searchhttpspackagesubuntucom"><a href="https://packages.ubuntu.com/">Ubuntu Packages Search</a><a hidden class="anchor" aria-hidden="true" href="#ubuntu-packages-searchhttpspackagesubuntucom">#</a></h3>
<h3 id="list-of-applicationshttpswikiarchlinuxorgtitlelist_of_applicationsarch"><a href="https://wiki.archlinux.org/title/List_of_applications">List of applications</a>:Arch<a hidden class="anchor" aria-hidden="true" href="#list-of-applicationshttpswikiarchlinuxorgtitlelist_of_applicationsarch">#</a></h3>
<h3 id="recommended-applicationshttpswikigentooorgwikirecommended_applications-gentoo"><a href="https://wiki.gentoo.org/wiki/Recommended_applications">Recommended applications</a>: Gentoo<a hidden class="anchor" aria-hidden="true" href="#recommended-applicationshttpswikigentooorgwikirecommended_applications-gentoo">#</a></h3>
<h3 id="常用软件httpszhopensuseorge5b8b8e794a8e8bdafe4bbb6opensuse"><a href="https://zh.opensuse.org/%E5%B8%B8%E7%94%A8%E8%BD%AF%E4%BB%B6">常用软件</a>:openSUSE<a hidden class="anchor" aria-hidden="true" href="#常用软件httpszhopensuseorge5b8b8e794a8e8bdafe4bbb6opensuse">#</a></h3>
<h3 id="awesome-linux-softwarehttpsgithubcomlewisvoawesome-linux-software"><a href="https://github.com/LewisVo/Awesome-Linux-Software">Awesome-Linux-Software</a><a hidden class="anchor" aria-hidden="true" href="#awesome-linux-softwarehttpsgithubcomlewisvoawesome-linux-software">#</a></h3>
<h3 id="应用下载-优麒麟httpswwwubuntukylincomapplications"><a href="https://www.ubuntukylin.com/applications/">应用下载-优麒麟</a><a hidden class="anchor" aria-hidden="true" href="#应用下载-优麒麟httpswwwubuntukylincomapplications">#</a></h3>
<p>国内应用 wine 版 deb 包。</p>
<h3 id="aurhttpsaurarchlinuxorg"><a href="https://aur.archlinux.org/">AUR</a><a hidden class="anchor" aria-hidden="true" href="#aurhttpsaurarchlinuxorg">#</a></h3>
<p>抄安装脚本。</p>
<h3 id="gentoo-portage-overlayshttpgpozugainaorg"><a href="http://gpo.zugaina.org/">Gentoo Portage Overlays</a><a hidden class="anchor" aria-hidden="true" href="#gentoo-portage-overlayshttpgpozugainaorg">#</a></h3>
<p>抄安装脚本。</p>
<h3 id="铜豌豆软件生态httpswwwatzlinuxcomallpackageshtm"><a href="https://www.atzlinux.com/allpackages.htm">铜豌豆软件生态</a><a hidden class="anchor" aria-hidden="true" href="#铜豌豆软件生态httpswwwatzlinuxcomallpackageshtm">#</a></h3>
<ul>
<li>铜豌豆 Linux 收集整理制作了大量中国人常用的应用软件，丰富 Linux 桌面系统软件生态。</li>
<li>大家可以在添加铜豌豆软件源后，来安装使用这些软件包。</li>
<li>铜豌豆软件源不但支持 铜豌豆 Linux 系统，还支持 <strong>Debian 系</strong>的所有 Linux 发行版。Debian、Armbian、Ubuntu、深度、优麒麟、红旗等。T</li>
</ul>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://sakamotokurome.github.io/tags/unix/">Unix</a></li>
      <li><a href="https://sakamotokurome.github.io/tags/linux/">Linux</a></li>
      <li><a href="https://sakamotokurome.github.io/tags/ubuntu/">Ubuntu</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://sakamotokurome.github.io/posts/ubuntup2virtualization/">
    <span class="title">« Prev Page</span>
    <br>
    <span>Ubuntu Virtualization</span>
  </a>
  <a class="next" href="https://sakamotokurome.github.io/posts/ubuntup0desktop/">
    <span class="title">Next Page »</span>
    <br>
    <span>Ubuntu Desktop</span>
  </a>
</nav>

  </footer>
</article>

<div class="disqus-container">
  <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    this.page.identifier = '56c585';
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "sakamotokurome" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</div>
    </main>
    
<footer class="footer">
    <span>&copy; 2022 <a href="https://sakamotokurome.github.io/">Sakamoto Kurome</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
</body>

</html>
