[{"content":"Portal ä¿¡æ¯ç”Ÿäº§è€…ä¸»è¦æ˜¯ä¼ä¸šã€‚\n OSCHINAï¼šå¼€æºèµ„è®¯ å°‘æ•°æ´¾ï¼šè½¯ç¡¬ä»¶ä½¿ç”¨æŠ€å·§ Linux ä¸­å›½ï¼šLinux ç›¸å…³ Distrowatchï¼šLinxu å‘è¡Œç‰ˆæ’è¡Œ FreeBSDNews LWN.net: News and Information source for the free software community 36æ°ª è™å—… åˆ©å™¨ æ¹¾åŒºæ—¥æŠ¥ï¼šæ¯å¤©æ¨é€3åˆ°5ç¯‡ä¼˜è´¨è‹±æ–‡æ–‡ç«  It\u0026rsquo;s FOSS: Focuses on Open Source in general and Linux in particular å¼€æºå·¥å‚ \u0026lt;å¥‡å®¢\u0026gt; solidotï¼šä¸­æ–‡ç§‘æŠ€ä¿¡æ¯äº¤æµå¹³å°å’Œå¼€æºæ–°é—»å¹³å° LinuxToday: Linux News On Internet Time linuxinsider desktoplinux THE LINUX FOUNDATION ChinaUnixï¼šLinux/UnixæŠ€æœ¯ç¤¾åŒºç½‘ç«™ Fedora Magazine Planet Gentoo æ–°è¿ç»´ FreeBuf 51CTO  Forum\u0026amp;community ä¿¡æ¯ç”Ÿäº§è€…ä¸»è¦æ˜¯å„ä¸ªç”¨æˆ·ã€‚\n æ€å¦ï¼šæŠ€æœ¯æ–‡ç«  æ˜é‡‘ï¼šå¾ˆå¤šä¼˜è´¨å‰ç«¯æ–‡ç«  v2exï¼šç¨‹åºå‘˜ä¹‹é—´çš„äº¤æµ åšå®¢å›­ï¼šblogï¼Œæ–°é—» è±†ç“£ï¼šè¯»ä¹¦ã€ç”µå½± çŸ¥ä¹ï¼šæé—® StackOverflowï¼šæé—® ç‰›å®¢ç½‘ï¼šæ±‚èŒ The FreeBSD Forums openSUSE ä¸­æ–‡è®ºå›ï¼šå¾ˆæ´»è·ƒçš„ Linux è®ºå› Ubuntu ä¸­æ–‡è®ºå› LUG@USTCï¼šä¸­å›½ç§‘å­¦æŠ€æœ¯å¤§å­¦ Linux ç”¨æˆ·åä¼š LinuxQuestions: Linux Community LINUX.ORGï¼šLinux ä¸»ç«™ ç«ç‹ç¤¾åŒº Ask Ubuntu freeCodeCamp ä¸­æ–‡ç¤¾åŒº Hacker News Daily 4chan ubuntu forums ASK FEDORA ç°ç‹å’Œä»–çš„æœ‹å‹ä»¬ Ubuntu æ­£ä½“ä¸­æ–‡ç«™ China FreeBSD Tuxmachines.org Linux Journal HowtoForge phoronix å…ˆçŸ¥ç¤¾åŒº LUPA å¼€æºç¤¾åŒº AOSC ç¤¾åŒºï¼šAOSC OS æ˜¯ç‹¬ç«‹äº Debian æ„å»ºå’Œç»´æŠ¤çš„å‘è¡Œç‰ˆã€‚ åŒ—äº¬ GNU/Linux ç”¨æˆ·ç»„ GamingOnLinux public0821: Linux sparkdev: Linux  Blog\u0026amp;log ä¿¡æ¯ç”Ÿäº§è€…æ˜¯ä¸ªäººã€‚\n æœˆå…‰åšå®¢ï¼šITå’¨è¯¢ åŒ…æ˜Šå†›çš„åšå®¢ delphij\u0026rsquo;s Chaosï¼šFreeBSD å­¦ä¹ æ—¥å¿—ï¼šWebç³»ç»Ÿæ¶æ„ Lamp Nginx Golang MySQL ğšŸğšğš›ğš–ğšŠğšğšğš—: FreeBSD D0n9X1n\u0026rsquo;s Blog: Hexo, WorldPress JavaæŠ€æœ¯é©¿ç«™ èŠ‹é“æºç : Java é…·å£³ â€“ CoolShell.cn LinuxTOYï¼šLinux ç›¸å…³èµ„è®¯ Zoom.Quietï¼šPython ä¸ å¼€æº plaintxt.orgï¼šMinimalism in blog design, an experiment Sickly Lifeï¼šæ—¥æ–‡ Blogï¼ŒUbuntu ç›¸å…³ é˜¿æ˜ŸPlus Jsä¸­æ–‡ç½‘å‘¨åˆŠ å½“ç„¶æˆ‘åœ¨æ‰¯æ·¡ wlopï¼šå¾®åš2020åå¤§å½±å“åŠ›ç”»æ‰‹ çŸ¥ååŠ¨æ¼«åšä¸» è˜‘è‡å¤©æ–‡é¦†ï¼šopensuser Jerry Quï¼šä¸“æ³¨ WEB ç«¯å¼€å‘ Flavio Copesï¼šI\u0026rsquo;m a computer engineer and I write free books to help you become a Web Developer é»‘æœå°å…µçš„éƒ¨è½é˜ å¼ é‘«æ—­çš„ä¸ªäººä¸»é¡µ é˜®ä¸€å³°çš„ç½‘ç»œæ—¥å¿— å»–é›ªå³°çš„å®˜æ–¹ç½‘ç«™ å›§å…‹æ–¯ W3cplus Houge\u0026rsquo;s Madness Blog margueriteï¼šopensuser Slbtty\u0026rsquo;s Notepadï¼šopensuser é¹¤ä»™äººï¼šem\u0026hellip; ä¾äº‘\u0026rsquo;s Blogï¼šä»™å­ Eric S. Raymond\u0026rsquo;s Home Page Dark Side Make Linux æ˜Ÿé»æ®¿ Mark Shuttleworthï¼šUbuntuåˆ›å§‹äººçš„blog V2æ–¹åœ† omg! ubuntu! Yafa-Xena: Gentoo bitbili: Gentoo farseerfc çš„å°çª YangMame ManateeLazyCat codeplayer èœèœåšå£« é˜¿è™šåŒå­¦çš„å‚¨ç‰©é—´ Vamei Felix\u0026rsquo;s Blogï¼šè‚¥çŒ«ã€çŒ«èŠè‹£ iovxw åœŸæœ¨å›å­ çº¦ä¼Šå…¹çš„èŒç‹¼ä¹¡æ‰‹æœ­ å–µ\u0026rsquo;s StackHarbor 512 Pixels: 512 Pixels is a blog covering Apple, computer history, space, design and lots of other fine nerdery. CS Slayerï¼šå›§è„¸ï¼ŒFcitx ä½œè€… æçš“å¥‡ Phoenix\u0026rsquo;s islandï¼šå‡¤å‡°é…± ICEHONEYï¼šç§‹æ°´å­¦å§ Plum\u0026rsquo;s Blog: Ubuntu åˆç­‰è¨˜æ†¶é«” Beyond the void Henry\u0026rsquo;s Blog: FreeBSD! Planet Ubuntuï¼šUbuntu å¼€å‘è€…åšå®¢æ±‡é›† é’›å±±ï¼šå¼€æºè½¯ä»¶å‰ç¥¥ç‰© ç¼–ç¨‹éšæƒ³ FiveYellowMice è’åŸä¹‹æ¢¦ Soymilk Gea-Suan Lin\u0026rsquo;s BLOGï¼šåæŠ€è¡“æ–¹é¢çš„è³‡è¨Š Nova Kwok\u0026rsquo;s Awesome Blog å‡ä»çš„ç­†è¨˜ï¼šå®Œå…¨ç”¨ GNU/Linux å·¥ä½œ å›½å…‰ï¼šæ‰‹æŠŠæ‰‹æ•™ä½ é…ç½® OpenCore Lan Tianï¼šç½‘ç»œ Sukkaï¼šHackintoshã€DNS  Entertainment\u0026amp;games  Unsplashï¼šå›¾ç‰‡ Pexelsï¼šå›¾ç‰‡ Pxhereï¼šå›¾ç‰‡ Pixabayï¼šå›¾ç‰‡ Canvaï¼šå›¾ç‰‡ Kisscc0ï¼šå›¾ç‰‡ 10wallpaper.comï¼šå£çº¸ wallpaperhubï¼šç”µå­äº§å“çš„é»˜è®¤å£çº¸ wall.alphacoders.comï¼šåŠ¨æ¼«é£å£çº¸ æç®€å£çº¸ Rijksmuseumï¼šthe museum of the Netherlands wallhaven Lorem Picsumï¼šThe Lorem Ipsum for photos. RedMonkï¼šç¼–ç¨‹è¯­è¨€æ’è¡Œæ¦œ IPAddressï¼šæŸ¥ ip StatCounterï¼šOSã€æµè§ˆå™¨ä½¿ç”¨æ•°æ® APKComboï¼šGoogle Play é•œåƒ Internet Speed Test - Measure Latency \u0026amp; Jitter | Cloudflare MSDN, æˆ‘å‘Šè¯‰ä½  Alternativetoï¼šå¯»æ‰¾ Linux ä¸‹æ›¿ä»£è½¯ä»¶ Awesome Windows Windowsç»èµåº”ç”¨ Softnicï¼šè½¯ä»¶ä¸‹è½½ï¼Œé’ˆå¯¹æ²¡æœ‰ Google Play å°ä¼—è½¯ä»¶ï¼šwindows è½¯ä»¶ é…·å®‰ï¼šå®‰è£… Microsoft åº”ç”¨ W3Techsï¼šWorld Wide Web Technology Surveys BuiltWithï¼šWeb Technology Usage Trends \u0026ldquo;LinuxQuestions.org Members Choice Results\u0026rdquo; EASYCOUNTERï¼šcouont wep pages hints using only html Steam Hardware \u0026amp; Software Survey YGOPROï¼šæ¸¸æˆç‹ èŒå¡ç¤¾åŒºï¼šæ¸¸æˆç‹ç¤¾åŒº YGOPRODECKï¼šæ¸¸æˆç‹å¡ç»„ æ•…å®«åšç‰©é™¢è—å“æ€»ç›® å¢¨åˆ€ï¼šåŸå‹è®¾è®¡å·¥å…· CanIUseï¼šæµè§ˆå™¨å…¼å®¹æ€§æŸ¥è¯¢ ProcessOnï¼šåœ¨çº¿åˆ¶ä½œæµç¨‹å›¾ å¹•å¸ƒï¼šä¸€é”®ç”Ÿæˆæ€ç»´å¯¼å›¾ Get Emoji ilovepdfï¼šå„ç§å…è´¹çš„ PDF åœ¨çº¿å·¥å…· æ‰¾å­—ç½‘ æœ‰å­—åº“ Iconfont Color Hunt OSCIï¼šOpen Source Contributor Index Gitstar Rankingï¼šGitHub å…¨çƒæ’å Codropsï¼šç½‘é¡µè®¾è®¡å¼€å‘åšå®¢ Neumorphismï¼šæ–°æ‹Ÿæ€æ•ˆæœ uiGradientsï¼šæ¸å˜é…è‰²æ–¹æ¡ˆ kunstderfugeï¼šè¯¥ç½‘ç«™å¯ä»¥æŒ‰ç…§å¤å…¸éŸ³ä¹å®¶çš„äººåæŸ¥è¯¢ï¼Œå…è´¹ä¸‹è½½ä»–ä»¬ä½œå“çš„ MIDI æ–‡ä»¶ lofi.cafeï¼šè¿™ä¸ªç½‘ç«™æ˜¯ä¸€ä¸ªåˆ¶ä½œç²¾è‰¯çš„åœ¨çº¿ç”µå°ï¼Œæ’­æ”¾å·¥ä½œå­¦ä¹ æ—¶æ”¾æ¾ç²¾ç¥çš„èƒŒæ™¯éŸ³ä¹ï¼Œå¯ä»¥æ ¹æ®éŸ³ä¹é£æ ¼åˆ‡æ¢æˆ¿é—´ã€‚ Slantï¼šuse Slant to find the best products and share their knowledge SHOUTcastï¼šradio stations for Rhythmboxï¼ˆhow toï¼‰ ä¸­åäººæ°‘å…±å’Œå›½å›½å®¶å«ç”Ÿå¥åº·å§”å‘˜ä¼šï¼šå¯ä»¥æŸ¥çœ‹åŒ»é™¢ç­‰çº§ä¿¡æ¯ UNPKGï¼šunpkg is a fast, global content delivery network for everything on npm. Skyline Webcamsï¼šè¯¥ç½‘ç«™æä¾›ä¸–ç•Œäº”å¤§æ´²çš„ç›´æ’­æ‘„åƒå¤´ï¼Œå¯ä»¥çœ‹åˆ°ä¸–ç•Œå„ä¸ªåœ°ç‚¹çš„å®å†µã€‚ figmaï¼šFigmaæ˜¯ä¸€ä¸ªå‘é‡å›¾å½¢ç¼–è¾‘å™¨å’ŒåŸå‹è®¾è®¡å·¥å…·ï¼Œä¸»è¦åŸºäºç½‘é¡µï¼Œé€è¿‡macOSå’ŒWindowsçš„æ¡Œé¢åº”ç”¨ç¨‹åºå¯å¯ç”¨é¢å¤–çš„ç¦»çº¿åŠŸèƒ½ã€‚ Manage your teamâ€™s work, projects, \u0026amp; tasks online â€¢ Asana JetBrains Mono Github Ranking freemdict The top 500 sites on the web DistroTest.netï¼šTest a new operating system GAMUXï¼šLinux Game Top500 Stack Overflow Developer Survey pixiv Server World ç½‘å€å¯¼èˆª Jamendo Music Magnatune: Music Magisk drivedroid: Boot a PC using ISO files stored on your Android phone TWRP pixelexperience Notion Avatar Maker è€ç”Ÿå¸¸è°ˆ Distro Chooser ä¸­åå¤ç±èµ„æºåº“ My beautiful Linux development environment ä¸­å›½å“²å­¦ä¹¦ç”µå­åŒ–è®¡åˆ’ Can You Run Itï¼šSystem Requirements Lab analyzes your computer in just seconds, and it\u0026rsquo;s FREE. Torlook: All popular torrent trackers indexed! TorrentFreak  YTS.mx: movies The Pirate Bay 1337X Nyaa: It is one of the largest public anime-dedicated torrent indexes. FitGirl Repacks: \u0026ldquo;repacking\u0026rdquo; games â€” compressing them significantly   IGGGAMES/PCGamesTorrents Immortal Proxy æ¸¸æˆæœºæ¨¡æ‹Ÿå™¨  Cemuï¼šExperimental software to emulate Wii U applications on PC PPSSPPï¼šA PSP emulator. yuzu: Nintendo Switch Emulator PCSX2ï¼šThe Playstation 2 emulator RPCS3ï¼šThe Open-source PlayStation 3 Emulatorï¼ŒPS3ä¸­æ–‡æ¸¸æˆåˆé›†ä¸‹è½½ Citraï¼šNintendo 3DS Emulatorï¼Œ3DSä¸­æ–‡æ¸¸æˆå…¨é›†   è€ç”·äººæ¸¸æˆç½‘ Gamebananaï¼šMod Emulation General Wiki ç»…å£«å¤©å ‚ å¾çˆ±ç ´è§£ èŒå¨˜ç™¾ç§‘ Wikipedia PCGamingWiki Wikiwand Greasy Forkï¼šç”¨æˆ·è„šæœ¬ Mox.moeï¼šKindleæ¼«ç•« Lutrisï¼šPlay all your games on Linux è‘¡è„ç©ï¼šæ˜¯å¼€æºé¡¹ç›® Lutris çš„ä¸­å›½å®šåˆ¶ç‰ˆã€‚ protondbï¼šWith Proton and Steam Play, many Windows games now work on Linux! Play On Linuxï¼šPlayOnLinux simplifies much of this and makes installing and using Windows programs in Ubuntu easier. Paint of Persiaï¼šè¿™ä¸ªå·¥å…·è®©ä½ å¯ä»¥åœ¨å±å¹•ä»»ä½•ä¸€ä¸ªçª—å£ï¼Œæ¡†é€‰ä¸€éƒ¨åˆ†å†…å®¹ï¼Œå°†å…¶å˜æˆåƒç´ ç”»ã€‚ NomnomNami YuriNovel ponpomuYuri è½»å°è¯´æ–‡åº“ å®ä¹¦ç½‘ é¥­é¥­æ–‡å­¦ La Memoria Vegetale åƒç§‹ä¹¦åœ¨ æ¬ä¹¦åŒ  ä¹¦æ ˆç½‘ BTä¹‹å®¶ BDå½±è§†åˆ†äº« åœ¨çº¿ä¹‹å®¶ APKMODY: An Android App Store where you can download your favorite Premium / MOD / APK apps. Antivirus softwareï¼šAV-Comparativesã€AVTESTï¼ˆæ€æ¯’è½¯ä»¶è¯„æ¯”ï¼‰ Yurifans Intel Product Specifications Google Public DNSï¼šConfigure your network settings to use the IP addresses 8.8.8.8 and 8.8.4.4 as your DNS servers. Norton DNS OpenDNS 114DNS LowEndBox: low end dedicated servers and cheap virtual private servers DOSBox: classic PC games emojimix: Combine two emojis into one and share them with your friends. Thousands of combinations are available. FODI: yuri lover Ubuntu certified hardware: Machines you can trust with Ubuntu Linux on Laptops: Reports on running Linux on notebook or laptop computers Library Genesis å‡›å‡›é…±ï¼šCustom ROM maintainers XDA: Custom ROM Forum virustotal ç™¾åˆä¼š å¤šå¤šè§†é¢‘ï¼šåŸäººäººè§†é¢‘ åŠ¨æ¼«ä¹‹å®¶ æ‹·è´æ¼«ç”» MangaDex ç°æœºwikiï¼šä¸€ä¸ªä¸­æ–‡çš„æ¸¸æˆã€Œç»´åŸºå†œåœºã€ï¼ˆç»´åŸºè‡ªåŠ©æ‰˜ç®¡å¹³å°ï¼‰ã€‚ wikiHowï¼šäº’è”ç½‘ä¸Šæœ€å€¼å¾—ä¿¡èµ–çš„æŒ‡å—ç½‘ç«™ the visual novel database æ¸¸æˆæ—¶å…‰ï¼šæ¸¸æˆä»‹ç»ã€èµ„æ–™åº“ IGN: Imagine Games Network é£ç“œæ•°æ® Bç«™ç‰ˆ flightlessmango: Games Benchmarks Steam520: Steam 250 is dedicated to making good Steam games discoverable.  Tutorial\u0026amp;materials  æå®¢å­¦é™¢ï¼šåœ¨çº¿æ•™ç¨‹ W3schoolï¼šåœ¨çº¿æ•™ç¨‹ èœé¸Ÿæ•™ç¨‹ï¼šåœ¨çº¿æ•™ç¨‹ Arch Wiki FreeBSD Handbook Goodreadsï¼šæ‰¾åŸæ–‡å°è¯´ å›¾çµç¤¾åŒºï¼šç”µå­ä¹¦ Microsoft Docs é¸Ÿå“¥ Linux ç§æˆ¿èœ ä¸­æ–‡é©¬å…‹æ€ä¸»ä¹‰æ–‡åº“ Unix Toolbox Learn X in Y minutes openSUSE Wiki openSUSE Documentation Unofficial Guide to openSUSE Leap SUSE product documentation Ubuntu ä¸­æ–‡ Wiki Ubuntu Manpage Ubuntu æ­£é«”ä¸­æ–‡ Wiki Full Circleï¼šUbuntuç¤¾åŒºçš„ç‹¬ç«‹æ‚å¿— Linux Cç¼–ç¨‹ä¸€ç«™å¼å­¦ä¹  äºšåµŒæ•™è‚²ï¼šLinux Books Linuxtopiaï¼šonline resource for anyone learning or deploying enterprise level open source technology. Ultimate Guide: Getting Started With Ubuntu DB-Enginesï¼š Knowledge Base of Relational and NoSQL Database Management Systems Zoo Weekly MDN Web Docs YouZackï¼šè‹±è¯­å¬åŠ›ç²¾å¬ã€èƒŒå•è¯ ç°ä»£ JavaScript æ•™ç¨‹ CodinGameï¼šç¼–ç¨‹å­¦ä¹ å¹³å°ï¼Œç»ƒä¹ ç¼–ç¨‹ FreeCodeCampï¼šç¼–ç¨‹å­¦ä¹ å¹³å°ï¼Œé€‚åˆåˆå­¦è€… Codecademyï¼šç¼–ç¨‹å­¦ä¹ å¹³å°ï¼Œé€‚åˆåˆå­¦è€… JavaScript Weekly CodePen.io CSS Battleï¼šä¸€å…±æœ‰12ä¸ªçº§åˆ«ï¼Œéœ€è¦ä½ ç”¨ HTMLå’Œ CSS 100%è¿˜åŸå®ƒç»™å‡ºçš„é¡µé¢ï¼Œç„¶åå†å°½é‡å‡å°‘ä»£ç  Learn CSS Layoutï¼šå­¦ä¹  CSS å¸ƒå±€ CSS-Tricksï¼šä¸€äº›å…³äº CSS çš„æŠ€å·§ä¼˜ç§€çš„æ•™ç¨‹å’ŒæŠ€å·§ English++ Project ç½‘é“ Docs4dev å¤ç™»å ¡è®¡åˆ’ï¼ˆProject Gutenbergï¼‰ï¼šä¸“é—¨æä¾›å…¬å…±é¢†åŸŸçš„ç”µå­ä¹¦ä¸‹è½½ Project Bartlebyï¼šå“¥ä¼¦æ¯”äºšå¤§å­¦çš„å…è´¹ç”µå­å›¾ä¹¦é¦†é¡¹ç›® The Labyrinthï¼šä¸­ä¸–çºªç ”ç©¶ Spark Notesï¼šå­¦ä¹ ç¬”è®° Voice of the Shuttleï¼šå­¦æœ¯èµ„æº Linux 101 æ˜é‡‘ç¿»è¯‘è®¡åˆ’ å‰ç«¯ç²¾è¯»å‘¨åˆŠ Linuxå°±è¯¥è¿™ä¹ˆå­¦ é‡‘æ­¥å›½ä½œå“é›†ï¼šLinux KDE 25 å¹´å†å²å¹´è¡¨ KDE UserBase SEL ç®¡ç†æŒ‡å— éµå¾æœªåœ¨è£¡é¢ï¼šubuntu Official Ubuntu Documentation å¼€æºä¸–ç•Œæ—…è¡Œæ‰‹å†Œ ä¹¦æ ¼ Eric S. Raymond äº”éƒ¨æ›² å¼€æºè½¯ä»¶æŒ‡å— Fedora Project Wiki å¦‚ä½•æˆä¸ºé»‘å®¢[English]-[Chinese] LibreOffice ä¸­æ–‡ç¤¾åŒº LibreOffice ç®€ä½“ä¸­æ–‡ç”¨æˆ·æ–‡æ¡£ Linux Documentation Project Debian å‚è€ƒæ‰‹å†Œ Linuxå·¥å…·å¿«é€Ÿæ•™ç¨‹ Complete Handbook: Gentoo Arch Linux å®‰è£…ä½¿ç”¨æ•™ç¨‹ Explanations Linux Wiki æå®¢æ‰‹å†Œï¼šFedora FreeBSD ä»å…¥é—¨åˆ°è·‘è·¯ KanCloud Free On-line Linux Technical Books and Tutorials working-on-gnu-linux  Open source project  Giteeï¼šä»£ç æ‰˜ç®¡ Codingï¼šä»£ç æ‰˜ç®¡ Apple Open Source USTC Open Source Software Mirror SourceForgeï¼šå¼€æºè½¯ä»¶ä¸‹è½½ OpenDesktop.org  pling xfce-look gnome-look KDE Store   FreshPorts: FreeBSD Ports FOSSHUBï¼šSoftware Download Hub Welcome to Linux From Scratch!: Build your own custom Linux è¶…èµçš„ Linux è½¯ä»¶ GitHubï¼šä¸€ä¸ª GitHub é•œåƒï¼Œç”¨äºä¸‹è½½å¤§æ–‡ä»¶ HelloGithubï¼šåˆ†äº« GitHub ä¸Šæœ‰è¶£ã€å…¥é—¨çº§çš„å¼€æºé¡¹ç›® GNU mozilla Gnome Debian Ubuntu The Linux Kernel Archives AppImage: Linux apps that run anywhere FLATHUB: the home of hundreds of apps which can be easily installed on any Linux distribution. snapcraftï¼šThe app store for Linux makedeb F-Droidï¼šä¸“é—¨æ”¶å½•å„ç±»è‡ªç”±è½¯ä»¶çš„ Android åº”ç”¨å•†åº—ã€‚ Storybookï¼šStorybook is an open source tool for building UI components and pages in isolation. gitmojiï¼šAn emoji guide for your commit messages Track Awesome List Compute Freely openSUSE Build Serviceï¼šfind rpm package for openSUSE and fedora \u0026hellip; StackEditï¼šç§‘æŠ€çˆ±å¥½è€…å‘¨åˆŠæ‰€ç”¨ \u0026gt;_ .bashrc PS1 generator musicForProgramming fedora SPINS: Alternative desktops for Fedora JSDELIVRï¼šA free CDN for Open Source gentoo portage overlays KDE Applications Internet Archive Online UUID Generator Tool Launchpadï¼šLaunchpad is a software collaboration platform Pkgs.orgï¼šPackages for Linux and Unix Getdeb die.net  ","permalink":"https://sakamotokurome.github.io/posts/links/","summary":"Portal ä¿¡æ¯ç”Ÿäº§è€…ä¸»è¦æ˜¯ä¼ä¸šã€‚ OSCHINAï¼šå¼€æºèµ„è®¯ å°‘æ•°æ´¾ï¼šè½¯ç¡¬ä»¶ä½¿ç”¨æŠ€å·§ Linux ä¸­å›½ï¼šLinux ç›¸å…³ Distrowatchï¼šLinxu å‘è¡Œç‰ˆæ’è¡Œ FreeBSDNews LWN.net:","title":"Links"},{"content":"å‹é‚¦æ‹“ ä¹Œç­å›¾\n During the first ten years of this HOWTO\u0026rsquo;s life, I reported that from a new user\u0026rsquo;s point of view, all Linux distributions are almost equivalent. But in 2006-2007, an actual best choice emerged: Ubuntu. While other distros have their own areas of strength, Ubuntu is far and away the most accessible to Linux newbies. Beware, though, of the hideous and nigh-unusable \u0026ldquo;Unity\u0026rdquo; desktop interface that Ubuntu introduced as a default a few years later; the Xubuntu or Kubuntu variants are better.\nEric Steven Raymond - How To Become A Hacker\n å­¦ä¹  Linux å‡ ç‚¹å¿ å‘Š ä¸è¦ç•¶â€œå‚³æ•™å£«â€\n(é€™é»æœ‰ä¸€å€‹é‡å¤§å¼Šç«¯ï¼šé–‹æ”¾è»Ÿé«”æ²’æœ‰å•†æ¥­è»Ÿä»¶é‚£æ¨£çš„å®£å‚³ï¼Œå¦‚æœä½¿ç”¨è€…éƒ½å¦‚æ­¤ä½èª¿ï¼Œç”¨æˆ¶ç¾¤ä¸æœƒå¤§å¹…æ“´å±•ã€‚)\nå¾ˆå¤šäººåœ¨è¨è«–å€ä¸æ–·çš„å¼•èµ·çš„Linuxå°æ¯”Windowsä¹‹é¡çš„è¨è«–ï¼Œç”šè‡³çˆ­çš„é¢ç´…è€³èµ¤ï¼Œé€™æ˜¯æ²’æœ‰å¿…è¦çš„\né€™ç¨®çˆ­è«–æ˜¯æµªè²»æ™‚é–“è€Œæ²’æœ‰ä»»ä½•ç”¨è™•çš„ã€‚å°ï¼Œä½ èŠ±äº†ä¸€ä¸‹åˆï¼Œç”¨è¨±å¤šäº‹å¯¦â€œæè¡›â€äº†Linuxæ¯”Windowså¥½é€™å€‹èªªæ³•ã€‚ä½†æ˜¯Windowsçš„æ”¯æŒè€…ä¸¦ä¸æœƒå–œæ­¡ä¸ŠLinuxçš„ï¼Œä»–å€‘åªæ˜¯ç¨å¾®é€€ç¸®ä¸€ä¸‹ï¼Œç„¶å¾Œæ‰¾ä¸€äº›æ–°çš„è­‰æ“šä¾†è·Ÿä½ è¾¯è«–ã€‚\nä¸–ç•Œä¸Šçš„äººå€‘éƒ½åœ¨åˆ©ç”¨Linuxçš„ç ”ç©¶æœ€å‰æ²¿çš„ç§‘å­¸ï¼Œæˆ‘å€‘é‚„åœ¨é€™è£¡è¨è«–â€œè¦ä¸è¦ç”¨Linuxçš„é€™ç¨®ç„¡èŠçš„å•é¡Œï¼Œä»€éº¼æ™‚å€™æ‰èƒ½è¶•ä¸Šæ™‚ä»£å‰é€²çš„æ­¥ä¼ï¼Ÿ\nä»€éº¼å«åšWindowæ”¯æŒè€…ï¼Œä»€éº¼å«åšLinuxçš„æ”¯æŒè€…ï¼Ÿæˆ‘å€‘ç‚ºä»€éº¼è¦æ”¯æŒæŸä¸€å€‹è€Œåå°å¦å¤–ä¸€å€‹ï¼Ÿä½ ä¸éœ€è¦ç‚º Linuxçš„è­·æ³•ï¼Œä¸éœ€è¦æˆç‚º Linuxçš„æ”¯æŒè€…â€œæˆ–è€…â€GNUçš„å‚³æ•™å£«â€œ GNU / Linuxçš„å·²ç¶“ç”¨äº‹å¯¦å‘ä¸–ç•Œè­‰æ˜äº†å®ƒå€‘çš„å¨åŠ›ï¼Œå·²ç¶“è¢«å¤§å¤šæ•¸äººæ¥å—ã€‚ä½ åªéœ€è¦å®‰å®‰éœéœäº«å—çš„GNU / Linuxçš„çµ¦ä½ çš„æ¨‚è¶£å’Œè‡ªç”±ã€‚\nä½ éœ€è¦é—œå¿ƒçš„ä¸æ˜¯ä½ çš„å·¥å…·æ˜¯ä»€éº¼ï¼Œè€Œæ˜¯ä½ ç”¨å®ƒåšäº†ä»€éº¼ã€‚ç²¾é€šçš„Linuxä¸¦ä¸èªªæ˜ä»»ä½•å•é¡Œï¼Œå› ç‚ºå®ƒåªæ˜¯ä¸€å€‹å·¥å…·è€Œå·²ã€‚å¦‚æœä½ ç”¨çš„Windowsèƒ½å¾ˆå¥½çš„å®Œæˆä½ çš„ä»»å‹™ï¼Œé‚£ä½ å°±æ²’æœ‰å¿…è¦è²»æ™‚é–“å»ç†Ÿæ‚‰Linuxæ“ä½œç³»çµ±ã€‚ç›´åˆ°æœ‰ä¸€å¤©ä½ ç™¼ç¾ä¸€é …ä»»å‹™åªæœ‰Linuxæ“ä½œç³»çµ±æ‰èƒ½å®Œæˆçš„æ™‚å€™å†æ›ä¹Ÿä¸é²ï¼Œå› ç‚ºä½ èº«é‚Šçš„çš„Linuxçš„æ„›å¥½è€…ä¸€å®šæœƒå¾ˆæ¨‚æ„çš„å¹«åŠ©ä½ ã€‚\nå¦‚æœä½ åœ¨ä½¿ç”¨Linuxæ“ä½œç³»çµ±çš„éç¨‹ä¸­å°å®ƒç”¢ç”Ÿäº†æ„Ÿæƒ…ï¼Œé‚£éº¼ä½ æ‡‰è©²æ˜ç™½é‚£äº›ç¿’æ…£æ–¼ä½¿ç”¨Windowsçš„äººä¹Ÿæœƒå°Windowsç”¢ç”Ÿä¾è³´ã€‚é¡ä¼¼çš„çˆ­è«–é‚„æœ‰å¾ˆå¤šï¼šå¾®è»Ÿ Office Wordå’ŒTeXï¼ŒEmacså’ŒVimï¼ŒWolfram Mathematicaå’ŒMapleï¼Œä¾å„’ï¼Œfvwmçš„å’ŒKDEçš„æ™‚å€™ï¼Œç‹—æ´¾\u0026hellip; \u0026hellip;å’Œå†·éœåœ°å°è‡ªå·±èªªï¼šâ€œæˆ‘ä¸ç«™åœ¨å®ƒå€‘ä»»ä½•ä¸€é‚Šã€‚â€å„˜ç®¡é€™æœ‰äº›ä¸å®¹æ˜“è¾¦åˆ°ã€‚\nå„äººçš„éœ€è¦ä¸åŒï¼Œç”Ÿæ´»çš„ç’°å¢ƒä¸åŒã€‚å°ä½ ä¾†èªªå¥½çš„æ±è¥¿ï¼Œå°åˆ¥äººä¾†èªªä¸ä¸€å®šå¥½ï¼Œæˆ‘å€‘éœ€è¦å°Šé‡åˆ¥äººçš„é¸æ“‡ã€‚å¦‚æœä½ ç•¶é¢èªªåˆ¥äººæ­£åœ¨ç”¨çš„ç¨‹åºä¸å¥½ï¼Œæ²’æœ‰å¿…è¦ã€‚\nä¸è¦å¼·è¿«è‡ªå·±â€\nå–œæ­¡é›»è…¦çš„äººç¸½æ˜¯æœ‰æŸäº›å¿ƒç†å¼·è¿«å‚¾å‘ã€‚æœ‰çš„äººèªªï¼šâ€œéµç›¤æ¯”æ»‘é¼ å¿«ã€‚æˆ‘ä¸è¦ç”¨æ»‘é¼ ã€‚é€™æ¨£æ‰æœ‰é«˜æ•ˆç‡ã€‚â€æ‰€ä»¥ä»–åœ¨ç·¨è¼¯å™¨è£¡ç„¡è«–ä»€éº¼æ™‚å€™ç¸½æ˜¯ç”¨20Wçš„ï¼Œå¤§æ–¼ 10Jé€™æ¨£çš„å‘½ä»¤åˆ°é”ç›®çš„é»ã€‚ä»–ç”šè‡³è¦ºå¾—åœ–å½¢ç•Œé¢æ˜¯å¤šé¤˜çš„ï¼Œä¹¾è„†éƒ½ä¸è£ Xwindowã€‚\nå…¨éƒ¨ç”¨éµç›¤çœ‹èµ·ä¾†çš„ç¢ºæ¯”è®“æ‰‹é›¢é–‹éµç›¤å»æ‹¿é¼ æ¨™ï¼Œå†å›ä¾†â€œå¿«â€å¤šäº†ï¼Œä½†æ˜¯å¿«çš„æ“Šéµé »ç‡ä¸ç­‰æ–¼å·¥ä½œçš„é«˜æ•ˆç‡ï¼Œå°ä½ çš„å¥åº·æ›´æ²’æœ‰ä»€éº¼å¥½è™•ã€‚é€™åªèƒ½æŠŠä½ è®Šæˆæ‰“éµç›¤çš„æ©Ÿå™¨ã€‚\nç•¶ä½ æ­£åœ¨æª¢æŸ¥ä½ çš„æ–‡ç« æˆ–è€…ç¨‹åºï¼Œæ€ç¶­æ­£åœ¨éš¨è‘—å­—ç¬¦çš„å«ç¾©æµå‹•ï¼Œçªç„¶ç‚º 20Wï¼Œå¤§æ–¼ 10Jé€™æ¨£çš„æ±è¥¿å‡ºç¾åœ¨ä½ çš„è…¦å­è£¡ï¼Œæ˜¯ä¸æ˜¯æœƒæ‰“æ–·æ€è·¯ï¼Ÿä¸ï¼Ÿé‚£èªªæ˜ä½ ç•¶æ™‚æ€è€ƒçš„å•é¡Œæ¯”è¼ƒç°¡å–®ï¼Œé€™äº›å¹²æ“¾é‚„ä¸æœƒèµ·åˆ°å‰¯ä½œç”¨ã€‚\nå…¶å¯¦å¾ˆå¤šäººç”¨é›»è…¦çš„æ™‚å€™ï¼Œæ€æƒ³éƒ½å—åˆ°æŸç¨®æ•™å­¸çš„æŸç¸›ï¼Œä¸Šé¢é€™å€‹åªæ˜¯æ•™å¤šæ•¸ç¨®é¡ä¸­çš„ä¸€ç¨®ã€‚æŸäº›äººå‰µé€ äº†å¾ˆå¤šé€™ç¨®æ•¸å­¸ï¼Œç”¨ä»–çš„å·¥ä½œæ–¹å¼ä¾†è¦æ±‚åˆ¥äººï¼Œå˜²ç¬‘æ–¹å¼è·Ÿä»–ä¸ä¸€æ¨£çš„äººã€‚æ¯”å¦‚æœ‰çš„äººå˜²ç¬‘å…¶å®ƒäººå¯«ç¨‹åºä¸æŒ‰Ã§ 8å­—ç¬¦ç¸®é€²ï¼Œå˜²ç¬‘åˆ¥äººåœ¨å…­è£¡ç”¨æ–¹å‘éµï¼Œå˜²ç¬‘åˆ¥äººä¸çŸ¥é“æ˜¯ä»€éº¼å¢å€¼ç¨…ï¼Œå˜²ç¬‘å…¶å®ƒäººç”¨åœ¨Javaï¼ŒCï¼ƒé€™ç¨®ç”±åœ°æ–¹é¸å€å›æ”¶å…§å­˜èªè¨€ \u0026hellip; \u0026hellip;\nä½ ä¸ç”¨ç®¡å„ç¨®å„æ¨£çš„æ•™å­¸ï¼Œé›»è…¦åªæ˜¯ä½ çš„å·¥å…·ï¼Œä½ æƒ³æ€éº¼ç”¨å°±æ€éº¼ç”¨ã€‚æ²’æœ‰äººèƒ½å¤ ç´„æŸä½ ï¼Œæ²’æœ‰äººå¯ä»¥å˜²ç¬‘ä½ çš„å·¥ä½œæ–¹å¼ã€‚é›»è…¦æ˜å¤©å°±ä¸å†æ˜¯é€™å€‹æ¨£å­ï¼Œæ‰€ä»¥ä»Šå¤©ä½ ä¸ç”¨å®Œå…¨äº†è§£å®ƒã€‚ä½ æ²’æœ‰å¿…è¦çŸ¥é“åˆ¥äººå‰µé€ çš„ä¸€åˆ‡ï¼Œå› ç‚ºä½ éœ€è¦ç•™é»æ™‚é–“è‡ªå·±å‰µé€ äº›æ±è¥¿ã€‚åªè¦æœ‰æ¨‚è¶£ï¼\nç•¶ä½ ä¸‹æ¬¡ä¿®æ”¹æ–‡ç« çš„æ™‚å€™ï¼Œä¸å¦¨è©¦è©¦æ‚ é–’çš„ç”¨æ»‘é¼ åœ¨ä½ çœ¼ç›çœ‹åˆ°çš„åœ°æ–¹è¼•è¼•é»ä¸€ä¸‹ã€‚\n å¦‚æœä½ ç™¼ç¾è‡ªå·±æœ‰é¡ä¼¼çš„å¼·è¿«ç—‡ï¼Œå»ºè­°å»è«®è©¢ä¸€ä¸‹å¿ƒç†é†«ç”Ÿã€‚\n ä¸è¦â€œç©â€Linux\nLinuxçš„å¾ˆå¤šäººç”¨çš„æ™‚å€™æœƒæ„Ÿè¦ºå¾ˆè¿·èŒ«ï¼Œè©²ç”¨å“ªå€‹ç™¼è¡Œç‰ˆæœ¬å‘¢ï¼Ÿæ˜¯ä¸æ˜¯æˆ‘å°‘è£äº†ä»€éº¼ï¼Ÿæ€éº¼å‡ç´šé€™éº¼å¿«å•Šï¼æ€éº¼é€™éº¼ä¸ç©©å®šï¼æ¯ç•¶é‡åˆ°æ–°çš„è»Ÿä»¶ä»–å°±æƒ³è©¦ç”¨ï¼Œæ¯ç•¶æ–°çš„ç‰ˆæœ¬å‡ºç¾ï¼Œä»–å°±æ›´æ–°ï¼Œç„¶å¾Œç”¨é¼ æ¨™åœ¨æ–°çš„èœå–®è£¡é¸æ“‡å¾ä¾†æ²’è¦‹éçš„ç¨‹åºä¾†ç”¨ç”¨ã€‚\nå…¶å¯¦ä½ æ˜¯ç‚ºäº†ç©Linuxè€Œä½¿ç”¨Linuxæ“ä½œç³»çµ±çš„ï¼Œè€Œæ²’æœ‰æ‰¾åˆ°æ­£ç¢ºçš„ç†ç”±ä¾†åˆ©ç”¨Linuxæ“ä½œç³»çµ±ã€‚ä½ é¦–å…ˆè¦æ˜ç¢ºç”¨é›»è…¦çš„ç›®çš„ï¼Œä½ ç”¨å®ƒæ˜¯ç‚ºäº†è§£æ±ºä½ çš„å¯¦éš›å•é¡Œï¼Œè€Œä¸æ˜¯ç‚ºäº†å­¸ç¿’å®‰è£æ“ä½œç³»çµ±ï¼Œä¸æ˜¯ç‚ºäº†æ¸¬è©¦å“ªå€‹ç‰ˆæœ¬å¥½ç”¨ï¼Œä¸æ˜¯ç‚ºäº†â€œè¶•ä¸Šæ½®æµï¼Œæ›´ä¸æ˜¯å› ç‚ºä½ ç¡¬ç›¤å¤ªå¤§äº†ï¼Œä½ æƒ³å¤šä½”é»ç©ºé–“ã€‚\nå¦‚æœä½ å•Ÿå‹•äº†é›»è…¦ä¹‹å¾Œä¸çŸ¥é“æ‡‰è©²å¹¹ä»€éº¼ï¼Œé‚£éº¼æœ€å¥½å…ˆä¸è¦ç”¨é›»è…¦ï¼Œå› ç‚ºä½ å¯èƒ½æœ‰æ›´é‡è¦çš„äº‹æƒ…éœ€è¦åšã€‚é€™æ²’ä»€éº¼èªªçš„ã€‚\nä¸ç”¨æŒ‘å‰”ç™¼è¡Œç‰ˆæœ¬\nå¾ˆå¤šäººå‰›é–‹å§‹ç”¨linuxçš„æ™‚å€™ï¼Œç¸½æ˜¯åœ¨æ‡·ç–‘åˆ¥çš„ç™¼è¡Œç‰ˆæœ¬æ˜¯å¦æ¯”è‡ªå·±æ­£åœ¨ç”¨çš„é€™å€‹å¥½ï¼Œç¸½æ˜¯æ‡·ç–‘è‡ªå·±ä»¥å¾Œä»€éº¼æ™‚å€™æœƒå¤±å»æ”¯æŒï¼Œä¸å¾—ä¸æ›ç”¨åˆ¥çš„ç™¼è¡Œã€‚æ‰€ä»¥å¾ˆå¤šäººä»Šå¤©æ˜¯ç´…å¸½ï¼Œæ˜å¤©åˆæ›æˆäº†Debiançš„ï¼Œä¸€æœƒå…’åˆæ˜¯å·´å¸ƒäº\u0026hellip; \u0026hellip;ç”šè‡³æœ‰çš„äººåœ¨ä¸€å°æ©Ÿå™¨ä¸Šè£äº†å…©å€‹ç‰ˆæœ¬çš„Linuxæ“ä½œç³»çµ±ï¼Œç„¶å¾Œæ¯”è¼ƒå“ªä¸€å€‹å¥½ã€‚\nå…¶å¯¦ä½ å®Œå…¨æ²’æœ‰å¿…è¦é€™æ¨£åšï¼Œä»»ä½•ç™¼è¡Œï¼Œåªè¦ä½ ç†Ÿæ‚‰äº†ï¼Œä½ åœ¨ä¸Šé¢çš„å·¥ä½œæ–¹å¼å¹¾ä¹ä¸æœƒå—åˆ°ä»»ä½•å½±éŸ¿ã€‚æˆ‘ä»¥å‰ä¸€ç›´ç”¨çš„ç´…å¸½ï¼Œç•¶æˆ‘æœ‰ä¸€å¤©åœ¨æˆ‘çš„ä¸€å°æ–°æ©Ÿå™¨ä¸Šå®‰è£Debianæ™‚ï¼Œæˆ‘ç™¼ç¾ä½¿ç”¨ç´…å¸½çš„ç¶“é©—å®Œå…¨æ²’æœ‰æµªè²»ã€‚æˆ‘ç”¨äº†ä¸€å€‹ä¸‹åˆå°±é…ç½®å¥½äº†Debianï¼Œä½¿å®ƒæœæœè²¼è²¼çš„è½æˆ‘çš„è©±ï¼Œå°±è·Ÿæ²’æœ‰æ›ç™¼è¡Œç‰ˆæœ¬ä¸€æ¨£ã€‚\nDebianï¼Œæ‹“æ—æ€ï¼ŒSuSEï¼Œç´…å¸½ï¼ŒGentoo\u0026hellip; \u0026hellip;ä»»ä½•ä¸€å€‹ç‰ˆæœ¬éƒ½æ˜¯ä¸éŒ¯çš„ã€‚å¾ˆå¤šäººèªç‚ºè‡ªå·±æ”¢ä¸€å€‹ LFSçš„æ˜¯é«˜æ°´å¹³é»‘å®¢çš„è±¡å¾µï¼Œä½†æ˜¯ä¸æ˜¯æ¯å€‹äººéƒ½æœ‰ç²¾åŠ›å»äº†è§£æ‰€æœ‰ç´°ç¯€ã€‚\nä¸è¦ç›²ç›®å‡ç´š\nä¸çŸ¥é“é€™æ˜¯å¿ƒç†ä½œç”¨é‚„æ˜¯ä»€éº¼ï¼Œæœ‰çš„äººçœ‹åˆ°æ¯”è¼ƒå¤§çš„ç‰ˆæœ¬è™Ÿï¼Œå°±æœƒå¾ˆæƒ³æ›æˆé‚£å€‹ã€‚å¾ˆå¤šäººçš„Redhatçš„æœ¬ä¾†é…ç½®çš„å¾ˆèˆ’æœäº†ï¼Œå¯æ˜¯ä¸€æ—¦Redhatçš„ç™¼è¡Œæ–°çš„ç‰ˆæœ¬ï¼Œä»–å€‘å°±æœƒç›¡å¿«ä¸‹è¼‰éä¾†ï¼Œç„¶å¾Œé¸æ“‡å‡ç´šå®‰è£ã€‚çµæœå¾ˆå¤šæ™‚å€™æŠŠè‡ªå·±åŸä¾†ä¿®æ”¹å¾—å¾ˆå¥½çš„é…ç½®æ–‡ä»¶çµ¦æ²–æ‰äº†ã€‚æ–°çš„è»Ÿä»¶åˆå¸¶ä¾†äº†æ–°çš„å•é¡Œï¼Œæ¯”å¦‚æœ‰ä¸€æ¬¡æˆ‘çš„rxvtçš„å°±å‡ç´šåˆ°2.7.8è·ŸminiChinputè¡çªäº†ï¼Œå‡ç´šåˆ°Redhatçš„8.0ï¼Œxmmsçš„ç™¼ç¾å±…ç„¶ç¼ºçœä¸èƒ½æ”¾äº†MP3æ’­æ”¾ï¼ŒXFree86çš„æ˜¯i810çš„æ¨¡å¡Šåœ¨å•Ÿå‹•ä¸Šæœ‰æ–°çš„æ¼æ´ï¼ŒMozillaä¸­ï¼Œæœƒå°è‡´çªç„¶é€€å‡ºã€‚\nå¦‚æœä½ å·²ç¶“é…ç½®å¥½äº†ä¸€åˆ‡ï¼Œåƒè¬åˆ¥å†æ•´é«”å‡ç´šäº†ï¼Œé€™æœƒæµªè²»ä½ å¾ˆå¤šå¾ˆå¤šæ™‚é–“çš„ï¼Œä¸å€¼å¾—ã€‚æœ‰å¥è©±èªªå¾—å¥½ï¼šâ€œå¦‚æœæ²’æœ‰æ‰“ç ´ï¼Œä¸è§£æ±ºå®ƒã€‚â€å¦‚æœä½ çš„ç¨‹åºèƒ½å¤ å®Œæˆä½ éœ€è¦åšçš„äº‹æƒ…ï¼Œä½ ä½•å¿…å‡ç´šå‘¢ï¼Ÿï¼Ÿï¼Ÿï¼Ÿ\n æ˜¯çš„ï¼Œä¸è«–æ˜¯å¾è«–å£‡é‚„æ˜¯å…¶ä»–çš„åœ°æ–¹åæ˜ å‡ºä¾†çš„å¤§éƒ¨åˆ†éƒ½æ˜¯é€™å€‹å•é¡Œï¼Œè¦ä¹ˆæ¯”è¾ƒSUSEå’ŒUbuntuçš„å¥½ï¼Œè¦ä¹ˆæ¯”Ubuntuæˆ–è€…Mandrivaçš„å¥½ç­‰ç­‰çš„è¨€è«–ã€‚å¾ˆå¤šäººé‚„æ˜¯æŠŠLinuxæ“ä½œç³»çµ±çœ‹æˆäº†ä¸€å€‹è¡¨é¢çš„æ±è¥¿ã€‚ä¸¦æ²’æœ‰å¡Œä¸‹å¿ƒä¾†å­¸ç¿’ Linuxç³»çµ±ã€‚\n ä¸è¦é…ç½®ä½ ä¸éœ€è¦çš„æ±è¥¿\nå¦‚æœä½ åªæƒ³åšä¸€å€‹åƒæˆ‘é€™æ¨£çš„æ™®é€šç”¨æˆ¶ï¼Œä¸»è¦ç›®çš„æ˜¯ç”¨çš„Linuxä¾†å®Œæˆè‡ªå·±çš„ç§‘ç ”ä»»å‹™å’Œæ—¥å¸¸å·¥ä½œï¼Œé‚£å°±å¯ä»¥ä¸ç”¨ç³»çµ±ç®¡ç†å“¡æˆ–è€…ç¶²çµ¡ç®¡ç†å“¡çš„æ¨™æº–ä¾†è¦æ±‚è‡ªå·±ï¼Œå› ç‚ºç•¶ä¸€å€‹ç³»çµ±å’Œç¶²çµ¡ç®¡ç†å“¡ç¢ºå¯¦å¾ˆè¾›è‹¦ã€‚æ™®é€šç”¨æˆ¶å­¸ç¿’é‚£äº›ä¸ç¶“å¸¸ç”¨åˆ°çš„è¤‡é›œçš„ç¶­è­·ç³»çµ±çš„å·¥å…·ï¼Œå…¶å¯¦æ˜¯æµªè²»æ™‚é–“ï¼Œå­¸äº†ä¸ç”¨æ˜¯æœƒå¾ˆå¿«å¿˜è¨˜çš„ï¼\næˆ‘ä¸æ˜¯ä¸€å€‹åˆæ ¼çš„ç¶²çµ¡ç®¡ç†å“¡ï¼Œæˆ‘çš„æœå‹™å™¨éƒ½åªè¨­ç½®äº†æˆ‘è‡ªå·±éœ€è¦çš„åŠŸèƒ½ï¼Œè¨­ç½®å¥½sshé€£æ¥çš„ftpå·²ç¶“è¶³å¤ äº†ï¼Œé‚£æ¨£å¯ä»¥çœå»æˆ‘å¾ˆå¤šéº»ç…©ã€‚æˆ‘å¾ä¾†ä¸éåº¦è€ƒæ…®â€œå®‰å…¨ï¼Œå› ç‚º Linuxæ“ä½œç³»çµ±ç¼ºçœå·²ç¶“å¾ˆå®‰å…¨äº†ã€‚æˆ‘æ²’æœ‰ç£å¸¶æ©Ÿï¼Œå°±ä¸ç”¨ç®¡tarçš„é‚£äº›ç¨€å¥‡å¤æ€ªçš„åƒæ•¸äº†ï¼Œczfï¼Œxzfï¼Œztfå·²ç¶“å¯ä»¥æ»¿è¶³æˆ‘æ‰€æœ‰çš„éœ€è¦ã€‚æ¡‘é”ï¼Œawkçš„ï¼Œ\u0026hellip;æˆ‘ä¹Ÿåªæœƒå¹¾ç¨®å¸¸ç”¨çš„å‘½ä»¤è¡Œã€‚\nä¸è¦ç¿’æ…£çš„ä½¿ç”¨æ ¹å¸³è™Ÿã€‚åœ¨éœ€è¦çš„æ™‚å€™æ‰ç”¨ï¼\né€™æ˜¯å¾ˆå¤šå‰›æ¥è§¸çš„UNIXé¡æ“ä½œç³»çµ±çš„äººå¸¸è¦‹çš„ç¾è±¡ï¼Œä»–å€‘ä¸å–œæ­¡åœ¨ç®¡ç†ç³»çµ±çš„æ™‚å€™æ‰ç”¨ï¼Œè€Œæ˜¯ä¸€ç›´ç”¨æ ¹å¸³è™Ÿå¹¹æ‰€æœ‰äº‹æƒ…ï¼Œé…ç½®ç³»çµ±ï¼Œå®‰è£ç¨‹åºï¼Œç€è¦½ç¶²é ï¼Œç©éŠæˆ²ï¼Œç·¨ç¨‹ \u0026hellip; \u0026hellip;\nçµæœæœ‰ä¸€å¤©ï¼Œä»–ä¸å°å¿ƒåœ¨æŸå€‹ç³»çµ±ç›®éŒ„ä½¿ç”¨äº†del * \u0026hellip;å¾Œæœä¸å ªè¨­æƒ³ \u0026hellip; \u0026hellip;\nä¸è¦ç”¨å•†æ¥­çš„çœ¼å…‰ä¾†çœ‹å¾…Linux\nLinuxä¸æ˜¯å•†æ¥­è»Ÿä»¶ï¼Œæ‰€ä»¥ä¸è¦ç”¨è¦æ±‚Solarisæ“ä½œç³»çµ±ï¼Œè¦–çª—é‚£æ¨£çš„çœ¼å…‰ä¾†çœ‹ Linuxæ“ä½œç³»çµ±ã€‚è‡ªç”±è»Ÿä»¶çš„ä½œè€…å€‘å¾ä¾†ä¸æ‹‰æ”ç”¨æˆ¶ï¼Œä»–å€‘å°ç”¨æˆ¶ä¸è² æœ‰ä»»ä½•è²¬ä»»ã€‚å¯¦éš›ä¸Šåœ¨è‡ªç”±è»Ÿä»¶çš„ä¸–ç•Œè£¡ï¼Œé–‹ç™¼è€…â€œå’Œâ€ç”¨æˆ¶â€œä¸¦æ²’æœ‰æ˜ç¢ºçš„ç•Œé™ï¼Œå¤§å®¶æ˜¯æœ‹å‹ã€‚\nè‡ªç”±è»Ÿä»¶å¾ˆå¯èƒ½åªæ˜¯æ»¿è¶³ä½œè€…å’Œä»–çš„æœ‹å‹çš„éœ€è¦ï¼Œç”šè‡³æ˜¯ç‚ºäº†å¥½ç©è€Œå‰µé€ çš„ã€‚è‡ªç”±è»Ÿä»¶ä¸æ˜¯å®Œç¾çš„ï¼Œè‡ªç”±è»Ÿä»¶æ‰¿èªè‡ªå·±æœ‰ç¼ºé»ï¼Œå®ƒä¸æœƒè‡ªå¹è‡ªæ“‚ï¼Œè’™è”½â€œç”¨æˆ¶â€çš„è€³ç›®ã€‚é€™ç¨®å°ä½œè€…è²¬ä»»çš„è§£è„«æ¿€ç™¼äº†ä½œè€…çš„å‰µé€ åŠ›ï¼Œä»–å€‘ä¸ç”¨éåˆ†è€ƒæ…®â€œå‘ä¸Šå…¼å®¹ï¼Œä»–å€‘å¾€å¾€æ¯”èƒŒä¸Šé‡é‡åŒ…è¢±çš„å•†æ¥­è»Ÿä»¶çµæ§‹æ›´åˆç†ï¼ŒæŠ€è¡“æ›´å…ˆé€²ã€‚\næ‰€ä»¥ç•¶ä½ ç”¨æŸå€‹è‡ªç”±è»Ÿä»¶é‡åˆ°å›°é›£çš„æ™‚å€™ï¼Œä¸æ‡‰è©²åŸ‹æ€¨è»Ÿä»¶çš„ä½œè€…ï¼Œå› ç‚ºä»–å€‘å°ä½ ä¸¦æ²’æœ‰ç¾©å‹™ã€‚ä½ ä¸æ‡‰è©²æŠŠè‡ªå·±ç•¶æˆä¸€å€‹æŒ‘å‰”çš„é¡§å®¢ï¼Œè€Œè¦æŠŠè‡ªå·±ä½œç‚ºé€™å€‹è»Ÿä»¶çš„é¡§å•å’Œä¸€å€‹å’Œè—¹çš„å»ºè­°è€…ï¼Œé€™æ¨£ä½ æ‰èƒ½ç†è§£ä½œè€…å¯«é€™å€‹ç¨‹åºæ™‚çš„å¿«æ¨‚ï¼Œåœ¨é‡åˆ°å•é¡Œæ™‚å‘ä½œè€…åæ˜ ï¼Œå¹«åŠ©ä»–å®Œå–„é€™å€‹è»Ÿä»¶ï¼Œæˆç‚ºä¸€å€‹å¿«æ¨‚çš„åƒèˆ‡è€…ã€‚å°±åƒä½ çš„å“¥å“¥é€ä½ ä¸€å€‹ä»–ç”¨èˆŠäº†çš„è‡ªè¡Œè»Šï¼Œä½ æ‡‰è©²çæƒœé€™ä»½å‹æƒ…ï¼Œè€Œä¸è¦åœ¨è»Šå£äº†ï¼Œæˆ–è€…é¨è»Šæ‘”äº†ä¸€è·¤çš„æ™‚å€™å¤§ç½µä½ çš„å“¥å“¥ã€‚å¦‚æœä½ çœŸçš„ä¸èƒ½ä½¿ç”¨é€™ç¨®åˆä½œçš„å¿ƒæ…‹ï¼Œé‚£éº¼æœ€å¥½ä¸è¦ä½¿ç”¨é€™å€‹è»Ÿä»¶ã€‚\né€™æ˜¯ä¸€ç¨®å…ˆé€²çš„æ–‡åŒ–ï¼Œå®ƒåŒ…å«äº†äº’ç›¸åˆä½œï¼Œç§‘å­¸å‰µæ–°çš„ç²¾ç¥ã€‚ç†è§£é€™ä¸€é»ä¸æ˜¯å¾ˆå®¹æ˜“ï¼Œå¾ˆå¤šäººå¾€å¾€æ˜¯å› ç‚ºä¸èƒ½ç†è§£é€™ç¨®æ–‡åŒ–è€Œé›¢é–‹è‡ªç”±è»Ÿä»¶ã€‚é€™å°æ–¼ä½œè€…ä¾†èªªä¸¦æ²’æœ‰ä»€éº¼æå¤±ã€‚\nå¹¹ä½ çš„æ­£äº‹å»\nå¾ˆå¤šäººè·Ÿæˆ‘èªªï¼Œä½ çš„ç¶²é æµªè²»æˆ‘å¥½å¤šæ™‚é–“ä¾†é…ç½®é€™é…ç½®é‚£ï¼Œä¸€æœƒå…’æ˜¯fvwmçš„ï¼Œä¸€æœƒå…’æ˜¯Muttä¸­\u0026hellip; \u0026hellip;\nå—¯\u0026hellip; \u0026hellip;é‚£äº›æ±è¥¿éƒ½æ˜¯æˆ‘æœ‰ç©ºçš„æ™‚å€™ä¸€é»ä¸€é»ç©ç´¯çš„ï¼Œå¦‚æœä½ æƒ³ä¸€æ¬¡æ€§æå®šæ‰€æœ‰é‚£äº›æ±è¥¿ï¼Œææ€•å¾—èŠ±ä½ å¹¾å€‹æ˜ŸæœŸç”šè‡³å¹¾å€‹æœˆçš„æ™‚é–“ï¼ä¸¦ä¸æ˜¯ä¸€å®šè¦æå®šæ‰€æœ‰é€™äº›æ±è¥¿ä½ æ‰èƒ½æ­£å¸¸å·¥ä½œçš„ã€‚é™¤éä½ çœŸçš„éå¾—åˆ©ç”¨æŸå€‹ç¨‹åºï¼Œæˆ–è€…ä½ é–’è‘—æ²’äº‹ï¼Œå¦å‰‡ä½ å¯ä»¥ä¸ç®¡é€™äº›æ±è¥¿ã€‚\nä¸Šé¢å¹¾æ¢åƒ…ä¾›åƒè€ƒ\nä»¥ä¸Šåªæ˜¯å€‹äººæ„è¦‹ï¼Œä¸ä¸€å®šé©åˆæ‰€æœ‰äººã€‚å–æ¨ç”±ä½ äº†ï¼\nSettings DNS GUI\n æ‰“å¼€è®¾ç½®çª—å£ å¦‚æœä½ è¿æ¥åˆ°äº† WiFi ç½‘ç»œï¼Œç‚¹å‡»â€œWi-FIâ€æ ‡ç­¾æ ã€‚å¦åˆ™ï¼Œå¦‚æœä½ æœ‰ä¸€ä¸ªæœ‰çº¿è¿æ¥ï¼Œç‚¹å‡»ã€Networkã€æ ‡ç­¾æ ã€‚ é€‰æ‹©ä½ è¦è®¾ç½® DNS çš„ç½‘ç»œè¿æ¥ï¼Œå¹¶ä¸”ç‚¹å‡»é½¿è½®çŠ¶çš„æŒ‰é’®ï¼Œæ‰“å¼€ç½‘ç»œç®¡ç†å™¨ã€‚ é€‰æ‹© IPv4 è®¾ç½®æ ‡ç­¾æ ã€‚ ç¦ç”¨è‡ªåŠ¨å¼€å…³ï¼Œå¹¶ä¸”è¾“å…¥ DNS çš„ IP åœ°å€ï¼Œç”¨é€—å·éš”å¼€ã€‚æˆ‘ä»¬ä½¿ç”¨ Google DNS åŸŸåè§£ææœåŠ¡å™¨ã€‚ ç‚¹å‡»â€œApplyâ€æŒ‰é’®ï¼Œä¿å­˜ä¿®æ”¹ã€‚  è¿™ä¸ªä¿®æ”¹åº”è¯¥ä¼šç«‹å³æœ‰æ•ˆï¼Œé™¤éé‚£äº›å·²ç»ç¼“å­˜äº†çš„ DNS æ¡ç›®ã€‚å¦‚æœä½ æƒ³åˆ‡æ¢å›æ—§çš„è®¾ç½®ï¼Œæ‰“å¼€ç½‘ç»œç®¡ç†å™¨ï¼ŒIPv4 è®¾ç½®ï¼Œå¹¶ä¸”å¯ç”¨è‡ªåŠ¨å¼€å…³ã€‚\nCLI\n# æ˜¾ç¤ºå½“å‰ç½‘ç»œè¿æ¥ $ nmcli connection show # ä¿®æ”¹å½“å‰ç½‘ç»œè¿æ¥å¯¹åº”çš„DNSæœåŠ¡å™¨ï¼Œè¿™é‡Œçš„ç½‘ç»œè¿æ¥å¯ä»¥ç”¨åç§°æˆ–è€…UUIDæ¥æ ‡è¯† $ nmcli con mod ens160 ipv4.dns \u0026#34;114.114.114.114 8.8.4.4\u0026#34; # é…ç½®ç”Ÿæ•ˆ $ nmcli con up ens160 æˆ–è€…\n# Config File $ vi /etc/netplan/01-network-manager-all.yaml network: version: 2 renderer: NetworkManager ethernets: ens3: dhcp4: no addresses: - 192.168.100.199/24 gateway4: 192.168.100.1 nameservers: address: [114.114.114.114, 8.8.4.4] wifis: ... # Apply the changes you made in the config file $ sudo netplan apply # To check if the system successfully applied the changes $ systemd-resolve --status | grep \u0026#39;DNS Servers\u0026#39; -A2 DNS Servers: 114.114.114.114 8.8.8.8 8.8.4.4 æ³¨æ„ï¼šæ‚¨ç³»ç»Ÿä¸Šçš„æ–‡ä»¶å¯èƒ½ç¼ºå°‘æ•´ä¸ªä»¥å¤ªç½‘æˆ– wifi éƒ¨åˆ†ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ·»åŠ ç¼ºå°‘çš„è¡Œï¼Œç¡®ä¿éµå®ˆç¤ºä¾‹ä¸­æä¾›çš„ç¼©è¿›ã€‚\nTesting the Domain Name Resolution Speed\n$ time dig @114.114.114.114 Others  Bluetooth: OFF Formats: United States Blank screen: 10 Night Light: On Touchpad: OFF Fractional Scaling  SoftWare\u0026amp;Updates software-properties-gtk or software-properties-kde\n  Ubuntu Software æ  Download from é€‰æ‹© USTC MIRRORSã€‚\n  Other Software æ ä¸‹å¼€å¯ Canonical Partner Repositories (The partner repositories offer access to proprietary and closed-source software)ã€‚\n  Ubuntu è‡ªåŠ¨ä¸‹è½½å¹¶å®‰è£…å¯¹ä½ çš„ç³»ç»Ÿè‡³å…³é‡è¦çš„å®‰å…¨æ›´æ–°ã€‚è€Œè¿™ä¸ªè‡ªåŠ¨æ›´æ–°ç»å¸¸å¯¼è‡´ä½ â€œæ— æ³•é”å®šç®¡ç†ç›®å½•â€é”™è¯¯ã€‚åœ¨ Updates æ ä¸‹é€‰æ‹©\n For other packages, subscribe to: All updates Automatically check for updates: Every two weeks When there are security updates: Download and Install automatically When there are other updates: Display immediately Notify me of a new Ubuntu version: For long-term support versions    æ›´æ–°ç³»ç»Ÿ:\n$ sudo apt update $ sudo apt upgrade $ sudo apt autoremove   Livepatch: æ›´æ–°å†…æ ¸ä¸éœ€è¦ Reboot required äº†\n$ sudo ua attach \u0026lt;subscription\u0026gt;   Ubuntu Software \u0026amp; Update å¡åœ¨ cache refresh\né€šè¿‡ apt update å¯ä»¥çœ‹è§æ˜¯ Connecting to security.ubuntu.com Failedï¼Œè§£å†³åŠæ³•æ˜¯æ›´æ”¹ /etc/hosts æ–‡ä»¶æ·»åŠ å…¶ IPï¼Œå¯é€šè¿‡ EASYCOUNTER æŸ¥æ‰¾ï¼š\n## security.ubuntu.com 91.189.88.142 security.ubuntu.com 91.189.88.152 security.ubuntu.com 91.189.91.38 security.ubuntu.com 91.189.91.39 security.ubuntu.com ## archive.canonical.com 91.189.92.150 archive.canonical.com 91.189.92.191 archive.canonical.com 91.189.91.15 archive.canonical.com ## downloads.sourceforge.net 216.105.38.13 downloads.sourceforge.net ubuntuä¸‹å¦‚ä½•è·å–æºç åŒ…å’Œæºç \n  åœ¨ Software \u0026amp; Updates ä¸­é€‰ä¸­ Source codeï¼Œä¸è¦ Reloadï¼Œå› ä¸ºå¾ˆæ…¢ï¼Œåœ¨å‘½ä»¤è¡Œä¸­ updateã€‚æˆ–è€…åœ¨è½¯ä»¶æºé…ç½®æ–‡ä»¶ /etc/apt/sources.list ä¸­æ·»åŠ  deb-src é¡¹ã€‚\n  è·å– xxx æºç åŒ…çš„è¯¦ç»†ä¿¡æ¯\n$ sudo apt-cache showsrc xxx   è·å–æºç åŒ…ï¼Œå¹¶å°†æºç åŒ…è§£å‹åˆ°åŒåç›®å½•\n$ sudo apt-get source xxx   Upgrade Ubuntu version\n æ‰“å¼€ Software Updater æ›´æ–°è½¯ä»¶ æ‰“å¼€ Software \u0026amp; Updates é€‰æ‹© Updates æ ï¼Œåœ¨ Notify me of a new Ubuntu Version ä¸­é€‰æ‹© For any new version ã€‚ æ‰“å¼€ Software Updater æ›´æ–°åˆ°æ–° Ubuntu ç‰ˆæœ¬ã€‚ ä½¿ç”¨ lsb_release -a ç¡®è®¤ Ubuntu ç‰ˆæœ¬ã€‚  Input Method Editor é¦–å…ˆåœ¨ Language Support ä¸­ä¸‹è½½è¯­è¨€åŒ…\nIBus ubuntu libpinyin è¾“å…¥æ³•æ”¯æŒäº‘æ‹¼éŸ³ï¼Œåªéœ€è¦å¼€å¯å°±å¯ä»¥äº†ã€‚\næœç‹—ç»†èƒè¯åº“\nåˆ°hslinuxextraä¸‹è½½sougou-phrases-full.7zã€‚\nç»è¿‡ä¸ibuså¼€å‘è€…åå•†ï¼Œibus-pinyinçš„è¯åº“æŸ¥æ‰¾è§„åˆ™åšäº†ä¸€äº›æ›´æ”¹ï¼Œåªè¦åœ¨è¯åº“ç›®å½•ï¼ˆå°±æ˜¯æœ‰ä¸€ä¸ª.dbæ–‡ä»¶çš„é‚£ä¸ªç›®å½•ï¼Œä¸€èˆ¬æ˜¯/usr/share/ibus-libpinyin/db/ç›®å½•ï¼‰æŠŠæ–°è¯åº“å¤åˆ¶è¿‡æ¥å¹¶æ”¹åä¸ºlocal.dbå°±å¯ä»¥ä½¿ç”¨äº†ï¼Œå¦‚æœæ„Ÿè§‰è¯åº“ä¸å¥½ï¼Œç›´æ¥åˆ é™¤æ‰local.dbï¼Œå°±å¯ä»¥è®©ibusä½¿ç”¨åŸæ¥çš„è¯åº“ã€‚\nè¦†ç›–ä»¥åï¼Œä½ æŠŠibusé‡å¯ä¸€ä¸‹ibus-daemon -d -x -rï¼Œå¦‚æœä½ èƒ½æ‰“å‡ºä¸‹é¢çš„è¿™ä¸ªè¯ç»„ï¼Œè¯´æ˜ç”Ÿæ•ˆäº†ï¼š\nå¼—é›·å¾·éœå§†è¡Œåˆ—å¼ è¿™ä¸ªè¯åº“ï¼ŒåŸºäºibusåŸæœ‰çš„androidè¯åº“æ–‡ä»¶ï¼Œå¦å¤–å¢åŠ äº†æœç‹—çš„ç»†èƒè¯åº“ã€‚\nFcitx 4 åœ¨Ubuntu Wayland æ¡Œé¢ä¸­ä½¿ç”¨fictxç®¡ç†ä¸­æ–‡è¾“å…¥æ³•\n$ sudo apt install fcitx -y è®¾ç½® fcitxï¼š\n  åœ¨ Language Support ä¸­é€‰æ‹© fcitxï¼Œå…¨å±€åº”ç”¨ï¼Œå¹¶æ¢å¤ ibus è‡ªå®šä¹‰åˆ‡æ¢è¯­è¨€å¿«æ·é”®è®¾ç½®ã€‚\n  (å¯é€‰ï¼‰waylandæ¡Œé¢é»˜è®¤ä¸è¯»å–/etc/profileä¸­çš„ç¯å¢ƒå˜é‡ï¼Œè€Œæ˜¯ä»/etc/environmentæ–‡ä»¶ä¸­è¯»å–ï¼Œè¿™æ˜¯å¯¼è‡´fcitxä¸èƒ½æ­£å¸¸å·¥ä½œçš„åŸå› ã€‚\n$ sudo vim /etc/environment INPUT_METHOD=fcitx GTK_IM_MODULE=fcitx QT_IM_MODULE=fcitx XMODIFIERS=@im=fcitx   è¾“å…¥æ³•æ¡†æ¶ï¼š\n æœç‹—è¾“å…¥æ³• for Linux ç™¾åº¦è¾“å…¥æ³•Linuxç‰ˆ Googleæ‹¼éŸ³  å…¶ä»–ï¼š\n ç™¾åº¦è¾“å…¥æ³•ä¸èƒ½å®‰è£…ç”¨äºæ›´æ¢çš®è‚¤çš„ fcitx-ui-qimpanelï¼Œå¦åˆ™ä¹±ç ã€‚éœ€è¦æ‰‹åŠ¨å®‰è£… fcitx-libsï¼Œå¦åˆ™å¼€æœºä¸è‡ªåŠ¨å¯åŠ¨ã€‚ åœ¨ fcitx ä¸ sogoupinyin å®‰è£…å®Œä¹‹åï¼Œéœ€è¦é‡å¯æ‰èƒ½ä½¿ç”¨ã€‚  çš®è‚¤ï¼š\n fcitx çš®è‚¤ï¼š/usr/share/fcitx/skin sogoupinyin çš®è‚¤ï¼š/usr/share/sogou-qimpanel/skinã€‚  æ—§ï¼šå¯ä»¥æ”¹åä¸º zip è§£å‹ æ–°ï¼šå—ç‰ˆæƒä¿æŠ¤    Fcitx 5 å®‰è£…\né…ç½®å·¥å…· KDE ä¸‹ä½¿ç”¨ kde-config-fcitx5ï¼Œ Gnome ä¸‹ä½¿ç”¨ fcitx5-config-qtã€‚\n20.04 (20220122) å®˜æ–¹ä»“åº“é‡Œæ²¡æœ‰ Gnome çš„é…ç½®å·¥å…· kcm-fcitx5ï¼ˆå†…å« fcitx5-config-qtï¼‰ï¼Œå› æ­¤é€šè¿‡ ppa:zhsj/fcitx5 æ¥å®‰è£…\n$ sudo add-apt-repository ppa:zhsj/fcitx5 $ sudo apt-get update $ sudo apt install fcitx5 fcitx5-chinese-addons æˆ–è€…ä¹Ÿå¯ä»¥é€šè¿‡**é€šè¿‡ flatpak å®‰è£…**ã€‚\nå®‰è£…ååœ¨ Ubuntu åœ¨ Language Support é‡Œä¿®æ”¹è¾“å…¥æ³•ç³»ç»Ÿä¸º fcitx5ï¼Œè®°å¾—ç‚¹å‡» Apply System-Wideã€‚\nå®‰è£…æŠ¥å¦‚ä¸‹é”™\nE: Failed to fetch http://103.95.217.6/ppa.launchpad.net/zhsj/fcitx5/ubuntu/pool/main/f/fcitx5-chinese-addons/fcitx5-module-cloudpinyin_5.0.4-1~ubuntu20.04.1~ppa1_amd64.deb 503 Service Unavailable [IP: 103.95.217.6 80] E: Aborting install. å¯ä»¥åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€é“¾æ¥ç›´æ¥ä¸‹è½½ã€‚\nè‚¥çŒ«ç™¾ä¸‡å¤§è¯åº“\nDownload latest version of \u0026ldquo;zhwiki.dict\u0026rdquo; from https://github.com/felixonmars/fcitx5-pinyin-zhwiki/releases\nCopy into ~/.local/share/fcitx5/pinyin/dictionaries/ (create the folder if it does not exist)\nå¯ä»¥åœ¨è®¾ç½®ä¸­çœ‹åˆ°æ˜¯å¦å¯ç”¨ï¼Œæˆ–è€…è¾“å…¥ â€œjinjinjinâ€ ä¼šå‡ºç° â€œé‘«â€ã€‚\nAutomatically switch wallpapers Apps  Shotwellï¼šåœ¨ä¾§è¾¹æ  Photos ä¸­ Ctrl + Aï¼Œåœ¨èœå•æ  File ä¸­é€‰æ‹© Set as Desktop SlideShow\u0026hellip;ï¼›è¿™ä¼šæŠŠå›¾ç‰‡å¤åˆ¶åˆ° .local/share/shotwell/wallpaperï¼Œå¹¶åœ¨è¯¥ç›®å½•ç”Ÿæˆ wallpaper.xmlï¼Œwallpaper.xml å®šä¹‰è‡ªåŠ¨åˆ‡æ¢å£çº¸åŠ¨ç”»ã€‚ æ›¿ä»£è½¯ä»¶ï¼š Varietyã€BingWall ç­‰ã€‚ è„šæœ¬åˆ†äº«ï¼šstyli.shã€lswc åŠ¨æ€å£çº¸ï¼škomorebiã€LiveWallpaper  unsplash   gsettings set org.gnome.desktop.background picture-uri file://$HOME/Wallpaper\n  æ·»åŠ è„šæœ¬\n$ vi $HOME/.unsplash.sh #!/bin/bash SAVE_DIR=$HOME/DataOne/Unsplash FILE_NAME=daily$(date \u0026#39;+%Y%m%d\u0026#39;).jpeg wget -O $SAVE_DIR/$FILE_NAME https://source.unsplash.com/1920x1080/daily cp $SAVE_DIR/$FILE_NAME $HOME/Wallpaper åœ¨ Unsplash Source æŸ¥çœ‹æ›´å¤š APIã€‚\n  crontab -e\n0 12 * * * /home/vane/.unsplash.sh   é™¤äº†ä½¿ç”¨ crontab å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ Startup Applications Preferences æ·»åŠ ä¸€ä¸ªå¯åŠ¨é¡¹ã€‚\n  wallhaven   gsettings set org.gnome.desktop.background picture-uri $HOME/Wallpaper\nä¸€èˆ¬æ–‡ä»¶å†…å®¹å¼€å¤´éƒ½ä¼šæœ‰ä¸€ä¸ªæ–‡ä»¶ç±»å‹çš„æ ‡è®°ï¼Œæ ¹æ®æ–‡ä»¶ååç¼€åªæ˜¯ä¸€ä¸ªå¿«æ·çš„æ–¹æ³•ï¼Œä¸ç”¨è¯»å–æ–‡ä»¶å†…å®¹å°±åˆ¤æ–­æ–‡ä»¶ç±»å‹ï¼Œä½†ä¸æ˜¯å”¯ä¸€çš„æ–¹æ³•ã€‚\n  vi $HOME/.wallhaven/wallhaven.sh\n#!/bin/bash  WORK_DIR=$HOME/.wallhaven SAVE_DIR=$HOME/Pictures/wallhaven IMG_URL=https://w.wallhaven.cc/full function GetListing() { echo \u0026#39;get listing\u0026#39; listing=$(curl https://wallhaven.cc/api/v1/search?apikey=\u0026lt;API KEY\u0026gt;\u0026amp;categories=010\u0026amp;purity=111\u0026amp;atleast=1920x1080\u0026amp;ratios=16x9\u0026amp;sorting=random\u0026amp;order=desc\u0026amp;page=1) echo \u0026#39;save listing\u0026#39; echo $listing | jq -r \u0026#39;.data[].path\u0026#39; | awk -F \u0026#39;/\u0026#39; \u0026#39;{print $NF}\u0026#39; \u0026gt; $WORK_DIR/listing echo \u0026#39;save res\u0026#39; cat $WORK_DIR/listing | wc -l \u0026gt; $WORK_DIR/res SetWallpaper } function SetWallpaper() { if [ -a $WORK_DIR/res ]; then echo \u0026#39;read res\u0026#39; read res \u0026lt; $WORK_DIR/res if [ $res -ne 0 ]; then echo \u0026#39;get img\u0026#39; img=$(cat $WORK_DIR/listing | tail -${res} | head -1) echo \u0026#34;down $imgfrom $IMG_URL/${img:10:2}/$img\u0026#34; curl -o $SAVE_DIR/$img $IMG_URL/${img:10:2}/$img if [ $? -eq 0 ]; then echo \u0026#39;set wallpaper\u0026#39; cp $SAVE_DIR/$img $HOME/Wallpaper echo \u0026#39;res-1\u0026#39; echo $(($res - 1)) \u0026gt; $WORK_DIR/res echo \u0026#39;exit\u0026#39; exit 0 else echo \u0026#39;download error\u0026#39; SetWallpaper fi else echo \u0026#39;res=0\u0026#39; GetListing fi else echo \u0026#39;no res\u0026#39; GetListing fi } SetWallpaper ä½¿ç”¨ Shell è„šæœ¬æ¥å¤„ç† JSONï¼Œjq Manualï¼Œwallhaven API v1 Documentation\n  crontab -e\n0 12 * * * /home/vane/.wallhaven/wallhaven.sh Gsettings æ— æ³•åœ¨ Cron ä¸­ä½¿ç”¨ï¼šå‡ºç°æ­¤é—®é¢˜æ˜¯å› ä¸º cron ä»…ä½¿ç”¨ä¸€ç»„éå¸¸æœ‰é™çš„ç¯å¢ƒå˜é‡ã€‚ å”¯ä¸€ä¸€ä¸ªè´Ÿè´£åœ¨å°†å…¶è®¾ç½®ä¸º cron ä½œä¸šæ—¶ä»¥æ­£ç¡®æ–¹å¼è¿è¡Œé—®é¢˜è„šæœ¬çš„ç¯å¢ƒå˜é‡æ˜¯ DBUS_SESSION_BUS_ADDRESSã€‚\n  Astronomy #!/bin/bash API_KEY=zTL5rJmctXwHcsjfCSalfDRNFTeaVYa9FxgINVVU HTTP_REQUEST=https://api.nasa.gov/planetary/apod?api_key=$API_KEY HTTP_RESPONSE=$(curl $HTTP_REQUEST) IMG_HDURL=$(echo $HTTP_RESPONSE | jq -r \u0026#39;.hdurl\u0026#39;) IMG_FILENAME=$(echo ${IMG_HDURL##*/}) curl -o $HOME/DataOne/Images/Astronomy/$IMG_FILENAME $IMG_HDURL cp -av $HOME/DataOne/Images/Astronomy/$IMG_FILENAME $HOME/Wallpaper Social Telegram å…ˆé€šè¿‡æ‰‹æœºç™»å½•ï¼Œå†åœ¨ç”µè„‘ç«¯ç™»å½•ã€‚ç”µè„‘å…ˆç™»å½•ï¼Œæ‰‹æœºè€æ˜¯æ”¶ä¸åˆ°éªŒè¯ç ã€‚\nç®€ä»‹   Telegram â€”â€” ä¸­æ–‡ååˆç§°\u0026quot;ç”µæŠ¥\u0026quot;ï¼Œæˆ–ç®€ç§°\u0026quot;TG\u0026quot;ã€‚\n  Telegram æ˜¯è·¨å¹³å°çš„å³æ—¶é€šä¿¡è½¯ä»¶ï¼Œå…¶å®¢æˆ·ç«¯æ˜¯è‡ªç”±åŠå¼€æ”¾æºä»£ç è½¯ä»¶ï¼Œä½†æœåŠ¡å™¨æ˜¯ä¸“æœ‰è½¯ä»¶ã€‚\n  Telegram åœ¨ä¸­å›½å¤§é™†å¢ƒå†…æ— æ³•ç›´æ¥è¿æ¥ï¼Œæ³¨å†Œå’Œä½¿ç”¨éƒ½éœ€è¦ç§‘å­¦ä¸Šç½‘ï¼Œè¯·è‡ªå¤‡èŠ‚ç‚¹å’Œå·¥å…·ã€‚\n  ä¸‹è½½ï¼šTelegram æœ‰å®˜æ–¹ç‰ˆå’Œç¬¬ä¸‰æ–¹ç‰ˆæœ¬ï¼Œä½†å‡ºäºå®‰å…¨å’Œéšç§çš„è€ƒè™‘ï¼Œæ¨èå¤§å®¶ä½¿ç”¨ Telegram å®˜æ–¹ç‰ˆå®¢æˆ·ç«¯\n  æ¨èè®¾ç½®  Privacy and Security  Phone Number  è°èƒ½çœ‹è§æˆ‘çš„æ‰‹æœºå·ç ï¼šNobody è°èƒ½é€šè¿‡æ‰‹æœºå·ç æ‰¾åˆ°æˆ‘ï¼šMy Contacts   Forwarded Messagesï¼šNobody Callsï¼šNobody Groupsï¼šMy Contacts   Local Passcodeï¼šæœ¬åœ°å¯†ç åªæ˜¯æœ¬è®¾å¤‡æ‰“å¼€ Telegram çš„åº”ç”¨å¯†ç  Two-Step Verificationï¼šä¸ºäº†è´¦å·å®‰å…¨ï¼Œå¼ºçƒˆæ¨èæ‚¨è®¾ç½®ä¸¤æ­¥éªŒè¯å¯†ç ã€‚ Delete my accountï¼šæ¨èæ‚¨è®¾ç½®ä¸ºä¸€å¹´  éšç§ä¿æŠ¤æ³¨æ„äº‹é¡¹  èµ„æ–™è®¾ç½®  æ˜µç§°åŠç”¨æˆ·åï¼šé¿å…ä½¿ç”¨ä¸å…¶ä»–ç¤¾äº¤å¹³å°ç›¸åŒæˆ–ç›¸ä¼¼çš„æ˜µç§°åŠç”¨æˆ·å æ‰‹æœºå·ç ï¼šåœ¨\u0026quot;è®¾ç½®â€”â€”éšç§â€”â€”ç”µè¯å·ç \u0026quot;ä¸­è®¾ç½®\u0026quot;ä¸å…è®¸ä»»ä½•äººæŸ¥çœ‹æˆ‘çš„æ‰‹æœºå·ç \u0026quot;å’Œ\u0026quot;ä»…å…è®¸è”ç³»äººé€šè¿‡æ‰‹æœºå·ç æ‰¾åˆ°æˆ‘\u0026quot;ã€‚   ç¾¤ç»„èŠå¤©ï¼šTelegram çš„ç¾¤èŠæ˜¯\u0026quot;ä¸å®‰å…¨\u0026quot;çš„ã€‚ å…¬å¼€ç¾¤ç»„çš„æ‰€æœ‰èŠå¤©å†…å®¹éƒ½å¯è¢«å…¶ä»–äººæŸ¥çœ‹ï¼Œå³ä½¿ä»–äººå¹¶æœªæ³¨å†Œ Telegramï¼› å¯¹äºç¾¤ç»„å†…çš„æœºå™¨äººï¼Œå®ƒä»¬å¯ä»¥æ”¶é›†ç¾¤ç»„å†…çš„ç»å¤§éƒ¨åˆ†æ¶ˆæ¯ã€‚ åª’ä½“æ–‡ä»¶ï¼šåœ¨åˆ†äº«ç…§ç‰‡æ—¶ï¼Œè¯·æ³¨æ„ä½¿ç”¨ä¸“ä¸šä¿®å›¾è½¯ä»¶æ‰“ç å¤„ç†å…³é”®ä¿¡æ¯ï¼Œå¹¶æ¸…é™¤ç…§ç‰‡åŒ…å«çš„åœ°ç†ä½ç½®ä¿¡æ¯ åˆ†äº«é“¾æ¥ï¼šä»å…¶ä»–å¹³å°åˆ†äº«å†…å®¹è‡³ Telegram æ—¶ï¼Œè¯·æ³¨æ„æ¸…é™¤åˆ†äº«é“¾æ¥ä¸­çš„ç”¨æˆ· UserID è¯†åˆ«ä¿¡æ¯ï¼Œä»–äººå®Œå…¨æœ‰å¯èƒ½ä»æ‚¨çš„åˆ†äº«é“¾æ¥ä¸­è·å–æ‚¨çš„ç”¨æˆ·ä¿¡æ¯ã€‚ ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯ï¼šå¦‚æ— ç‰¹æ®Šéœ€è¦ï¼Œè¯·ä½¿ç”¨å®˜æ–¹ Telegram å®¢æˆ·ç«¯ã€‚ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯æœ‰èƒ½åŠ›è·å–å’Œæ§åˆ¶æ‚¨çš„è´¦æˆ·ï¼Œè¯»å–æ‚¨å…¨éƒ¨çš„èŠå¤©è®°å½•ï¼Œæ”¶é›†æ‚¨è®¾å¤‡çš„å¯è¯†åˆ«ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä½†ä¸é™äºï¼šæ‰‹æœºå·ã€è®¾å¤‡å‹å·ã€IMEIç ã€MACç ç­‰ã€‚  å¸¸è§é—®é¢˜åŠè§£ç­”  æ— æ³•ç»™ä»–äººå‘é€ç§èŠï¼šâ€œSorry, you can only send messages to mutual contacts at the momet.â€  @SpamBot But I can\u0026rsquo;t message non-contactsï¼ Noï¼ŒI\u0026rsquo;ll never do any of this   ç¾¤ç»„å’Œé¢‘é“æœ‰ä»€ä¹ˆç±»å‹ï¼Ÿæœ‰ä»€ä¹ˆç‰¹ç‚¹ï¼Ÿ  ç¾¤ç»„(Group)æˆ–è€…é¢‘é“(Channel)æœ‰ä¸¤ç§ç±»å‹ã€‚  ä¸€ç§æ˜¯å…¬å¼€ç¾¤ç»„(Public Group/Channel) ä¸€ç§æ˜¯ç§æœ‰ç¾¤ç»„(Private Group/Channel)   å…¬å¼€ç¾¤ç»„(Public Group/Channel) æœ‰è‡ªå®šä¹‰è®¾ç½®çš„IDï¼Œæ‰€æœ‰äººå¯ä»¥é€šè¿‡æœç´¢åŠŸèƒ½ï¼Œè¾“å…¥idæŸ¥è¯¢åˆ°ç›¸åº”çš„ç¾¤ç»„ã€‚å…¬å¼€ç¾¤ç»„çš„å†å²æ¶ˆæ¯å¯¹æ‰€æœ‰äººå¯è§ï¼Œå³ä½¿æ²¡åŠ å…¥å…¬å¼€ç¾¤ç»„ï¼Œä¹Ÿå¯ä»¥æŸ¥çœ‹ç¾¤ç»„å†å²æ¶ˆæ¯ã€‚ ç§æœ‰ç¾¤ç»„(Private Group/Channel) æ²¡æœ‰è‡ªå®šä¹‰çš„IDï¼Œè¦åŠ å…¥åªèƒ½é€šè¿‡ç‚¹å‡»é‚€è¯·é“¾æ¥æˆ–è€…è¢«é‚€è¯·å…¥ç¾¤ï¼Œ åœ¨ç§æœ‰ç¾¤ç»„ï¼Œç¾¤ä¸»å¯ä»¥è®¾å®šå†å²æ¶ˆæ¯çš„å¯è§æ€§ã€‚è€Œå¯¹äºæ²¡æœ‰åŠ å…¥ç¾¤ç»„çš„äººï¼Œåˆ™ä¸å¯ä»¥æŸ¥çœ‹ç¾¤ç»„çš„æ¶ˆæ¯ã€‚   Telegram ç”¨æˆ·åæ˜¯ä»€ä¹ˆï¼Ÿ  å…¶ä»–ç”¨æˆ·å¯ä»¥é€šè¿‡ç”¨æˆ·åæ‰¾åˆ°æ‚¨ï¼Œæ‚¨å°†å‡ºç°åœ¨â€œå…¨å±€ç»“æœâ€ä¸‹çš„è”ç³»äººæœç´¢ä¸­ã€‚è¿™æ ·äººä»¬å°±å¯ä»¥åœ¨ä¸çŸ¥é“æ‚¨çš„ç”µè¯å·ç çš„æƒ…å†µä¸‹é€šè¿‡ Telegram ä¸æ‚¨è”ç³»ã€‚ ç”±äºç”¨æˆ·åçš„å”¯ä¸€æ€§ï¼Œå¯ä»¥é˜²æ­¢ä»–äººç›—ç”¨ä½ çš„å¤´åƒå’Œæ˜µç§°å†’å……ä½ ã€‚   å¦‚ä½•æ·»åŠ è”ç³»äººï¼Ÿï¼šæ·»åŠ å’Œåˆ é™¤è”ç³»äººéƒ½æ˜¯å•å‘æ“ä½œï¼Œå¯¹æ–¹è®¾å¤‡å¹¶ä¸ä¼šåŒæ­¥ã€‚ æ·»åŠ éæ‰‹æœºå·ç è”ç³»äººåï¼Œå¯¹æ–¹èƒ½çŸ¥é“è‡ªå·±çš„æ‰‹æœºå·ç å—ï¼Ÿï¼šå¦‚æœæƒ³å–æ¶ˆåˆ†äº«ä½ çš„æ‰‹æœºå·ï¼Œè¯·åˆ°éšç§è®¾ç½®(Privacy and Security)ä¸­æ‰¾åˆ°æ‰‹æœºå·ç (Phone Number)çš„è®¾ç½®ï¼Œåœ¨é‡Œé¢ç§»é™¤å¯¹æ–¹å³å¯ã€‚ ä¸ç™»é™† Telegram å¦‚ä½•æŸ¥çœ‹é¢‘é“æ¶ˆæ¯ï¼Ÿï¼šTelegram å…¬å¼€é¢‘é“å¯ä»¥ç›´æ¥é€šè¿‡æµè§ˆå™¨è¾“å…¥ https://t.me/s/é¢‘é“id è®¿é—®ï¼Œä¸éœ€è¦æ‹¥æœ‰TGè´¦å·ã€‚  è¿›é˜¶çŸ¥è¯† ä»€ä¹ˆæ˜¯ MTProxy ä»£ç†ï¼Ÿ\n MTProxy æ˜¯ Telegram çš„å®˜æ–¹é¡¹ç›®ï¼Œä»…èƒ½ç”¨äºä»£ç† Telegram è½¯ä»¶ MTP ä»£ç†æ˜¯åœ¨ Telegram ä¸­å†…ç½®çš„ä»£ç†ç¨‹åºï¼Œå¯ä»¥ç›´æ¥åœ¨è½¯ä»¶å†…é…ç½®ï¼Œè€Œä¸éœ€è¦ä¸‹è½½ä»»ä½•å…¶ä»– App æ¥é…ç½®ä»£ç†  ä¸»é¢˜ä¸ç¾åŒ– ç¾åŒ–ä¸»é¢˜é¢‘é“\n å®˜æ–¹ Desktop æ¡Œé¢ç‰ˆä¸»é¢˜é¢‘é“ @themes å®˜æ–¹ Android å®‰å“ä¸»é¢˜é¢‘é“ @Androidthemes  åœ¨Telegramä¸Šä½¿ç”¨EFBåŒæ—¶æ¨é€QQä¸å¾®ä¿¡æ¶ˆæ¯ ä¼—æ‰€å‘¨çŸ¥,å¾…æœºè€—ç”µä¸¤å·¨å¤´çš†å‡ºè‡ªTX,ä½†å…¶å¯¹äºå·¥ä½œäººç¾¤å’Œå¤§å­¦ç”Ÿè€Œè¨€åˆæ˜¯ä¸å¯æˆ–ç¼ºçš„é€šè®¯æ‰‹æ®µ.Telegramä½œä¸ºä¸€æ¬¾åˆæ ¼çš„IMæ”¯æŒAndroidä¼—å¤šç‰¹æ€§(TXå‡ºæ¥æŒ¨æ‰“),é€šçŸ¥æ å›å¤ã€æ¶ˆæ¯å†æé†’ã€è‡ªå®šä¹‰éœ‡åŠ¨ä»¥åŠæœ€å…³é”®çš„FCMæ¨é€(FCMçš„ç‰¹æ€§å’Œä¼˜åŠ¿å¯ä»¥åœ¨Googleä¸ŠæŸ¥è¯¢).ä½¿ç”¨æ’ä»¶åˆ©ç”¨Telegramæ¥å®ŒæˆQQå¾®ä¿¡çš„æ¶ˆæ¯ä»£æ”¶æ˜¯ç›®å‰Androidç³»ç»Ÿè¾ƒä¼˜ç§€çš„è§£å†³æ–¹æ¡ˆ\näº‹å‰å‡†å¤‡ ç‰©å“å‡†å¤‡\n å¢™å¤–VPSä¸€æš Telegramè´¦å·ä¸€æš ç¨³å®šçš„é£æœº Xshell(æ³¨æ„ä¸è¦ä¸‹è½½æˆè‹æ°é©¬å…‹ä¸ç‰ˆ)/PUTTY å¯è”ç½‘è®¾å¤‡ä¸€æš,æ¨èç”µè„‘ åŸºæœ¬çš„Linuxå’ŒvimçŸ¥è¯†  æœ¬æ•™ç¨‹åŸºäºEFB v2.0.0, efb-qq-slave v2.0.0b2, efb-wechat-slave v2.0.0åˆ¶ä½œ,æ–¹æ¡ˆä¸ºMASTER SLAVEå¤„äºåŒä¸€ç³»ç»Ÿä¸”QQå¾®ä¿¡å„ä½¿ç”¨ä¸€ä¸ª Bot ,ä½¿ç”¨ Debian 10\nè·å– Telegram ID\nå‘ @get_id_bot å‘èµ·ä¼šè¯,å‡» /start å³å¯è·å¾—ä½ çš„ Telegram ID\nä½¿ç”¨EFBè½¬å‘å¾®ä¿¡æ¶ˆæ¯ ç”³è¯· Telegram Bot\nå‘ @BotFather å‘èµ·ä¼šè¯ï¼Œå‘é€å‘½ä»¤ /newbot ä»¥åˆ›å»ºBotï¼ˆç”¨æˆ·åé¡»ä»¥Botä¸ºç»“å°¾ï¼‰\nè®¾ç½®å¥½åè¿˜é¡»å¯¹botè¿›è¡Œæƒé™è®¾ç½®\nå‘é€ /setprivacy åˆ° @BotFatherï¼Œé€‰æ‹©åˆšåˆšåˆ›å»ºå¥½çš„ Bot ç”¨æˆ·åï¼Œç„¶åé€‰æ‹© â€œDisableâ€.\nå‘é€ /setjoingroups åˆ° @BotFatherï¼Œé€‰æ‹©åˆšåˆšåˆ›å»ºå¥½çš„ Bot ç”¨æˆ·åï¼Œç„¶åé€‰æ‹© â€œEnableâ€.\nå‘é€ /setcommands åˆ° @BotFatherï¼Œé€‰æ‹©åˆšåˆšåˆ›å»ºå¥½çš„ Bot ç”¨æˆ·åï¼Œç„¶åå‘é€å¦‚ä¸‹å†…å®¹ï¼š\nhelp - æ˜¾ç¤ºå‘½ä»¤åˆ—è¡¨. link - å°†èŠå¤©é“¾æ¥åˆ°ç¾¤ç»„. unlink_all - å–æ¶ˆæ‰€æœ‰èŠå¤©ä¸ç¾¤ç»„çš„é“¾æ¥. info - æ˜¾ç¤ºå½“å‰TelegramèŠå¤©çš„ä¿¡æ¯. chat - ç”ŸæˆèŠå¤©å¯¹è¯æ¡†. update_info - æ›´æ–°ç»„åç§°å’Œèµ„æ–™å›¾ç‰‡. å®‰è£… EFB åŠå…¶ä»ç«¯\nå®‰è£…ç›¸å…³ä¾èµ–:\n$ apt install python3 python3-pip python3-pil python3-setuptools python3-numpy python3-yaml python3-requests ffmpeg libmagic-dev libwebp-dev vim -y å®‰è£… EFB :\n$ pip3 install ehforwarderbot efb-telegram-master efb-wechat-slave åˆ›å»ºé…ç½®æ–‡ä»¶\nåˆ›å»º EFB é…ç½®æ–‡ä»¶:\n$ mkdir -p ~/.ehforwarderbot/profiles/wx/ $ vim ~/.ehforwarderbot/profiles/wx/config.yaml master_channel: blueset.telegram slave_channels: - blueset.wechat åˆ›å»º ETM é…ç½®æ–‡ä»¶:\n$ mkdir -p ~/.ehforwarderbot/profiles/wx/blueset.telegram $ vim ~/.ehforwarderbot/profiles/wx/blueset.telegram/config.yaml token: \u0026#34;123456\u0026#34; #å€¼ä¸ºä½ åœ¨ @BotFather å¤„è·å¾—çš„ bot token admins: - 123456 #å€¼ä¸ºä½ åœ¨ @get_id_bot å¤„è·å¾—çš„ chat id åˆ›å»º EWS é…ç½®æ–‡ä»¶:\n$ mkdir -p ~/.ehforwarderbot/profiles/wx/blueset.wechat $ vim ~/.ehforwarderbot/profiles/wx/blueset.wechat/config.yaml å…¶å†…å®¹å‚è§å¯é€‰çš„é…ç½®æ–‡ä»¶ï¼Œæ ¹æ®æ–‡æ¡£é…ç½®å³å¯ã€‚\nè¾“å…¥ehforwarderbot --profile wx,æ‰«ç ç™»å½•å³å¯æ”¶å‘æ¶ˆæ¯,ä½¿ç”¨screenå‘½ä»¤ä¿å­˜åå°\nä½¿ç”¨EFBè½¬å‘QQæ¶ˆæ¯ ç”³è¯· Telegram Bot\nå‘ @BotFather å‘èµ·ä¼šè¯ï¼Œå‘é€å‘½ä»¤ /newbot ä»¥åˆ›å»ºBotï¼ˆç”¨æˆ·åé¡»ä»¥Botä¸ºç»“å°¾ï¼‰\nè®¾ç½®å¥½åè¿˜é¡»å¯¹botè¿›è¡Œæƒé™è®¾ç½®\nå‘é€ /setprivacy åˆ° @BotFatherï¼Œé€‰æ‹©åˆšåˆšåˆ›å»ºå¥½çš„ Bot ç”¨æˆ·åï¼Œç„¶åé€‰æ‹© â€œDisableâ€.\nå‘é€ /setjoingroups åˆ° @BotFatherï¼Œé€‰æ‹©åˆšåˆšåˆ›å»ºå¥½çš„ Bot ç”¨æˆ·åï¼Œç„¶åé€‰æ‹© â€œEnableâ€.\nå‘é€ /setcommands åˆ° @BotFatherï¼Œé€‰æ‹©åˆšåˆšåˆ›å»ºå¥½çš„ Bot ç”¨æˆ·åï¼Œç„¶åå‘é€å¦‚ä¸‹å†…å®¹ï¼š\nlink - å°†ä¼šè¯ç»‘å®šåˆ° Telegram ç¾¤ç»„. chat - ç”Ÿæˆä¼šè¯å¤´. recog - å›å¤è¯­éŸ³æ¶ˆæ¯ä»¥è¿›è¡Œè¯†åˆ«. extra - è·å–æ›´å¤šåŠŸèƒ½. å®‰è£… EFB åŠå…¶ä»ç«¯\n$ apt-get install libopus0 ffmpeg libmagic1 python3-pip git nano docker.io libssl-dev python3-dev build-essential #å®‰è£…ç›¸å…³ä¾èµ– $ pip3 install efb-telegram-master #å®‰è£… EFB $ pip3 install -U git+https://github.com/milkice233/efb-qq-slave $ pip3 install git+https://github.com/milkice233/efb-qq-plugin-iot åˆ›å»ºé…ç½®æ–‡ä»¶\nåˆ›å»º EFB é…ç½®æ–‡ä»¶:\n$ mkdir -p ~/.ehforwarderbot/profiles/qq/ $ vim ~/.ehforwarderbot/profiles/qq/config.yaml master_channel: blueset.telegram slave_channels: - milkice.qq åˆ›å»º ETM é…ç½®æ–‡ä»¶:\n$ mkdir -p ~/.ehforwarderbot/profiles/qq/blueset.telegram $ vim ~/.ehforwarderbot/profiles/qq/blueset.telegram/config.yaml token: \u0026#34;123456\u0026#34; #å€¼ä¸ºä½ åœ¨ @BotFather å¤„è·å¾—çš„ bot token admins: - 123456 #å€¼ä¸ºä½ åœ¨ @get_id_bot å¤„è·å¾—çš„ chat id IOT éƒ¨åˆ†:\n$ wget https://github.com/opq-osc/OPQ/releases/download/v6.0.20/OPQBot_6.0.20_darwin_amd64.tar.gz #æ ¹æ®éœ€è¦ç‰ˆæœ¬è‡ªè¡Œæ›´æ”¹é“¾ å¯åŠ¨éœ€è¦åˆ°Gitterè·å–tokenå¹¶å¡«å…¥CoreConf.confæ–‡ä»¶\nå¦‚æœéœ€è¦æ›´æ”¹APIçš„ç«¯å£è¯·æ›´æ”¹Port (ä¾‹å¦‚æ›´æ”¹æˆ2333ç«¯å£,å°±æ”¹æˆPort = â€œ0.0.0.0:2333â€)\nè¿›å…¥åˆ°æ–‡ä»¶ç›®å½• æ‰§è¡Œå‘½ä»¤\nscreen -S iot ./OPQBot #è¾“å…¥å®Œæ¯•å Ctrl+A+D  ç™»å½•è¯· ç­‰å¾…æ§åˆ¶å°è¾“å‡ºEverything is ok!å å†ç”¨æµè§ˆå™¨è®¿é—® http://IP:PORT/v1/Login/GetQRcode (IPä¸ºä½ æœºå­çš„å†…ç½‘ipæˆ–è€…å…¬ç½‘ip,PORTä¸ºä½ ä¸Šä¸€æ­¥æ›´æ”¹çš„ç«¯å£,é»˜è®¤8888\nç„¶åç”¨æ‰‹æœºæ‰«ç ç™»å½•,ä¸æ”¯æŒå¸å·å¯†ç ç™»é™†\nåˆ›å»º EQS é…ç½®æ–‡ä»¶\n$ mkdir -p ~/.ehforwarderbot/profiles/qq/milkice.qq $ vim ~/.ehforwarderbot/profiles/qq/milkice.qq/config.yaml Client: iot iot: qq: 1234567890 # æ­¤å¤„å¡«å†™ç™»å½•çš„QQå· host: \u0026#34;http://127.0.0.1\u0026#34; # é»˜è®¤IPä¸ºæœ¬åœ° port: 8888 # é»˜è®¤ç«¯å£ä¸º 8888 receive_self_msg: False # ä¸æ¥æ”¶è‡ªå·±å‘å‡ºçš„æ¶ˆæ¯ è¾“å…¥ehforwarderbot --profile qq å³å¯,åŒæ ·å¯ä»¥ä½¿ç”¨screenå‘½ä»¤ä¿å­˜åå°\né—®é¢˜å‘ç°åŠè§£å†³æ–¹æ¡ˆ   æç¤ºé”™è¯¯: efb-wechat-slave 2.0.0 has requirement requests\u0026gt;=2.22.0, but you'll have requests 2.21.0 which is incompatible.\nè¾“å…¥ pip3 install requests==2.22.0 è§£å†³\n  å‡çº§ç›¸å…³ç»„ä»¶è¾“å…¥ pip3 install --upgrade efb-qq-slave efb-wechat-slave efb-telegram-master\n  å‚è€ƒé“¾æ¥ å®‰è£…å¹¶ä½¿ç”¨ EFBï¼šåœ¨ Telegram æ”¶å‘ QQ æ¶ˆæ¯ - Milkiceâ€™s IceBox\nåœ¨ Telegram ä¸Šå®ç°å¾®ä¿¡æ”¶å‘ï¼ŒEHForwarderBot æ­å»ºè®°å½• - Eliotâ€™s Blog\nEFB WeChat Slave Channelï¼šEFB å¾®ä¿¡ä»ç«¯ (EWS) - bluesethttps://linux.cn/article-12826-1.html\nMutt Mutt æ˜¯ä¸€ä¸ªåŸºäºæ–‡æœ¬çš„é‚®ä»¶å®¢æˆ·ç«¯ï¼Œå› å…¶å¼ºå¤§çš„åŠŸèƒ½è€Œé—»åã€‚ Muttè™½ç„¶å·²è¯ç”ŸäºŒåå¤šå¹´äº†ï¼Œä½†ä»ç„¶æ˜¯å¤§é‡ç”¨æˆ·çš„é¦–é€‰é‚®ä»¶å®¢æˆ·ç«¯ã€‚\nMuttä¸»è¦ä¾§é‡äºä½œä¸ºé‚®ä»¶ç”¨æˆ·ä»£ç†ï¼ˆMUAï¼‰ï¼Œæœ€åˆæ˜¯ä¸ºäº†æŸ¥çœ‹é‚®ä»¶è€Œç¼–å†™çš„ã€‚ ä¸å…¶ä»–é‚®ä»¶åº”ç”¨ç¨‹åºç›¸æ¯”ï¼Œç¨åå®ç°çš„åŠŸèƒ½ï¼ˆæ£€ç´¢ï¼Œå‘é€å’Œè¿‡æ»¤é‚®ä»¶ï¼‰æ¯”è¾ƒç®€å•ï¼Œå› æ­¤ç”¨æˆ·å¯èƒ½å¸Œæœ›ä½¿ç”¨å¤–éƒ¨åº”ç”¨ç¨‹åºæ¥æ‰©å±•Muttçš„åŠŸèƒ½ã€‚\næ¨¡å—æ­é…æ–¹æ¡ˆ å°±åƒç©¿è¡£æ­é…ä¸€æ ·ï¼Œæ”¶ä»¶å‘ä»¶è¿‡æ»¤é‚®ä»¶è½¬å‘é‚®ä»¶å„ç§åŠŸèƒ½éƒ½æœ‰å¾ˆå¤šç§ç¨‹åºå¯ä»¥ç”¨ï¼Œmuttæ€ä¹ˆæ­é…å‘¢ï¼Ÿ\nå¸¸ç”¨é€‰é¡¹æœ‰è¿™äº›(User/Transport/Delivery)ï¼š\n MUA æ”¶ä»¶ï¼šfetchmailæˆ–getmailæˆ–OfflineIMAP MTA å‘ä»¶ï¼šsendmailæˆ–msmtpæˆ–postfixã€‚å…¶ä¸­msmtpå…¼å®¹å¼ºï¼Œpostfixå¯¹å›½å†…ä¸å‹å¥½ MDA åˆ†ç±»: procmailæˆ–maildrop é‚®ä»¶ç¼–è¾‘ï¼šVIMã€‚  ä¸€èˆ¬æ­é…æ˜¯ï¼š\n è€å¼æ­é…ï¼šmutt + getmail + sendmail + procmail æ–°å¼æ­é…ï¼šmutt + fetchmail + msmtp + maildrop  è¿™é‡Œæˆ‘ä»¬ç”¨ï¼šmutt + fetchmail + msmtp + procmail\nå®‰è£…ï¼š\n$ sudo apt install mutt fetchmail msmtp procmail -y Muttæˆ–å„ä¸ªå†™åä½œç¨‹åºåœ¨é…ç½®å‰éƒ½æ˜¯ä¸èƒ½ä½¿ç”¨çš„ï¼Œå­¦ä¹ æ›²çº¿è¿˜æ˜¯æ¯”è¾ƒé™¡å³­çš„ï¼Œæ‰€ä»¥è¦åšå¥½å‡†å¤‡å»èŠ±å¥½ä¸€æ®µå»äº†è§£å’Œå­¦ä¹ å„ä¸ªéƒ¨ä»¶ã€‚\nå¤§æ¦‚çš„é…ç½®æµç¨‹æ˜¯ï¼š\n é…ç½®æ”¶ä»¶ï¼š~/.fetchmailrc é…ç½®è¿‡æ»¤ï¼š~/.procmailrc é…ç½®å‘ä»¶ï¼š~/.msmtprc é…ç½®muttæ¡†æ¶æœ¬èº«ï¼š~/.muttrc  æ³¨æ„ï¼šåˆå­¦è¿‡ç¨‹ä¸­ï¼Œä¸è¦ä¸€ä¸Šæ¥å°±é…ç½®muttã€‚æœ€å¥½æ˜¯å…ˆä»å„ä¸ªéƒ¨ä»¶å¼€å§‹ï¼šæ”¶ä»¶-\u0026gt;è¿‡æ»¤é‚®ä»¶-\u0026gt;é˜…è¯»é‚®ä»¶-\u0026gt;å‘ä»¶-\u0026gt;muttç•Œé¢ï¼ŒæŒ‰ç…§è¿™ç§é¡ºåºã€‚\næ”¶ä»¶ï¼šé…ç½®Fetchmail  Fetchmailæ˜¯ç”±è‘—åçš„ã€Šå¤§æ•™å ‚ä¸é›†å¸‚ã€‹ä½œè€… Eric Steven Raymond ç¼–å†™çš„ã€‚\n Fetchmailæ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„æ”¶ä»¶ç¨‹åºï¼Œè€Œä¸”æ˜¯å‰å°è¿è¡Œã€ä¸€æ¬¡æ€§è¿è¡Œçš„ï¼Œæ„æ€æ˜¯ï¼šä½ æ¯æ¬¡æ‰‹åŠ¨æ‰§è¡Œfetchmailå‘½ä»¤ï¼Œéƒ½æ˜¯åœ¨å‰å°ä¸€æ¬¡æ”¶å–å®Œï¼Œç¨‹åºå°±è‡ªåŠ¨é€€å‡ºäº†ï¼Œä¸æ˜¯åƒä¸€èˆ¬é‚®ä»¶å®¢æˆ·ç«¯ä¸€ç›´åœ¨åå°è¿è¡Œã€‚\næ³¨æ„ï¼šfetchmailåªè´Ÿè´£æ”¶ä»¶ï¼Œè€Œä¸è´Ÿè´£å­˜å‚¨ï¼æ‰€ä»¥å®ƒæ˜¯è¦è°ƒç”¨å¦ä¸€ä¸ªç¨‹åºå¦‚procmailæ¥è¿›è¡Œå­˜å‚¨çš„ã€‚\nfetchmailçš„é…ç½®æ–‡ä»¶ä¸º~/.fetchmailrcã€‚ç„¶åæ–‡ä»¶æƒé™æœ€å°‘è¦è®¾ç½®chmod 600 ~/.fetchmailrc\næ¯”å¦‚æˆ‘ä»¬è¦è®¾ç½®å¤šä¸ªé‚®ç®±è´¦æˆ·åŒæ—¶æ”¶å–ï¼Œé‚£ä¹ˆé…ç½®å¦‚ä¸‹ï¼š\npoll pop.AAA.com protocol POP3 user \u0026#34;me@AAA.com\u0026#34; password \u0026#34;123\u0026#34; poll pop.BBB.com protocol POP3 user \u0026#34;me\u0026#34; there with password \u0026#34;123\u0026#34; is falko here fetchall poll pop.CCC.com protocol POP3 user \u0026#34;me\u0026#34; there with password \u0026#34;123\u0026#34; is till here keep poll pop.DDD.com protocol POP3 user \u0026#34;me\u0026#34; password \u0026#34;123\u0026#34; ## QQ é‚®ç®± poll pop.qq.com port 995 protocol POP3 user \u0026#34;1664548605@qq.com\u0026#34; password [æˆæƒç ] ssl keep # å…¨å±€é€‰é¡¹ mimedecode # ä¸åŠ  -d %T å°±ä¼šæŠ¥ ~/Mail/inbox is not a mailbox. é”™è¯¯ mda \u0026#34;/usr/bin/procmail -d %T\u0026#34; å…¶ä¸­ï¼š\n å„ç§å‚æ•°å¯ä»¥ä¸æŒ‰é¡ºåºï¼Œä¹Ÿå¯ä»¥ä¸åœ¨ä¸€è¡Œã€‚ ç©ºæ ¼éš”å¼€æ¯ä¸ªå‚æ•°ï¼Œpolléš”å¼€æ¯ä¸ªè´¦æˆ·ã€‚ here, there, with, isç­‰ç­‰ï¼Œéƒ½ä¸æ˜¯å…³é”®è¯ï¼Œéšä¾¿å†™ä¸å½±å“å‚æ•°ã€‚ ä»¥ä¸‹æ˜¯å¿…å¡«  pollåé¢æ˜¯é‚®ä»¶æœåŠ¡å™¨çš„åœ°å€ï¼Œä¸€èˆ¬æ˜¯pop.xxx.com protocolåé¢æ˜¯æ”¶ä»¶åè®®ï¼Œä¸€èˆ¬æ˜¯popæˆ–pop3 useråé¢æ˜¯ç”¨æˆ·åï¼Œå¯ä»¥æ˜¯usernameï¼Œä¹Ÿå¯ä»¥æ˜¯é‚®ç®±åœ°å€ passwordåé¢æ˜¯å¯†ç    sslprotoï¼šå¯èƒ½ä¼šæŠ¥é”™ fetchmail: pop.qq.com: upgrade to TLS failed.ï¼Œæ•…å¯ä»¥ç¦æ‰SSLï¼ŒåŒ man æ‰‹å†ŒæŸ¥åˆ°  åŠ ä¸Šoption --nosslcertckï¼Œè™½ç„¶æœ‰æŠ¥é”™ï¼Œä½†è‡³å°‘å¯ä»¥æ”¶é‚®ä»¶äº†ã€‚ åŠ --sslprotocl '', æ³¨æ„è¦ç”¨ç©ºå­—ç¬¦ä¸²   å››é€‰ä¸€ï¼š  nofetchall ï¼šä»…æ£€ç´¢æ–°æ¶ˆæ¯ï¼ˆé»˜è®¤ï¼‰ã€‚ fetchall ï¼šè·å–æ‰€æœ‰æ¶ˆæ¯ï¼Œæ— è®ºæ˜¯å¦çœ‹åˆ°ã€‚ keep ï¼šä¸è¦ä»æœåŠ¡å™¨ä¸Šåˆ é™¤çœ‹åˆ°çš„æ¶ˆæ¯ã€‚ nokeep ï¼šä»æœåŠ¡å™¨ä¸­åˆ é™¤çœ‹åˆ°çš„æ¶ˆæ¯ã€‚   mimedecodeç”¨æ¥è‡ªåŠ¨è§£ç MIME mdaåé¢æŒ‡å®šæœ¬æœºå®‰è£…çš„é‚®ä»¶è¿‡æ»¤åˆ†ç±»ç¨‹åºã€‚å¦‚æœä¸å¡«ï¼Œåˆ™æ”¶å–çš„é‚®ä»¶åœ¨æœ¬åœ°ä¸ä¼šä¿å­˜ã€‚æ³¨æ„ç”¨which procmailæŸ¥ä¸€ä¸‹è·¯å¾„ã€‚ QQ é‚®ç®±å®¢æˆ·ç«¯è®¾ç½® Outlook è®¾ç½®ï¼šå¤±è´¥äº†  é…ç½®å®Œæˆåï¼Œå¯ä»¥è¿è¡Œfetcmail -væ¥çœ‹çœ‹æ˜¯å¦æœ‰é”™è¯¯ä¿¡æ¯ï¼Œå¦‚æœèƒ½å¤Ÿæ­£å¸¸æ˜¾ç¤ºå¾ˆå¤šè¡Œçš„æ”¶å–ä¿¡æ¯ï¼Œé‚£ä¹ˆå°±èƒ½æ­£ç¡®ç™»å½•é‚®ç®±æ”¶å–äº†ã€‚\nä¸€èˆ¬æ”¶å–çš„å‘½ä»¤å¦‚ä¸‹ï¼š\n# åªæ”¶å–æœªè¯»é‚®ä»¶ $ fetchmai # æ”¶å–æ‰€æœ‰é‚®ä»¶ $ fetchmail -a # ï¼ˆé‡è¦ï¼‰æ”¶å–æ–°é‚®ä»¶ï¼Œä½†ä¸åœ¨æœåŠ¡å™¨ç«¯åˆ é™¤å·²ç»æ”¶å–çš„é‚®ä»¶ $ fetchmail -k ä½†æ˜¯fetchmailåªè´Ÿè´£æ”¶å–ï¼Œä¸è´Ÿè´£â€œä¸‹è½½â€éƒ¨åˆ†ï¼Œä½ æ‰¾ä¸åˆ°é‚®ä»¶å­˜åœ¨å“ªäº†ã€‚ æ‰€ä»¥è¿˜éœ€è¦é…ç½®MDAåˆ†ç±»å™¨ï¼Œå¦‚procmailï¼Œæ‰èƒ½çœ‹åˆ°ä¸‹è½½åçš„é‚®ä»¶ã€‚\næ³¨æ„ï¼šFetchå…¶å®ä¸æ˜¯åœ¨Muttâ€œé‡Œâ€ä½¿ç”¨çš„ï¼Œè€Œæ˜¯è„±ç¦»muttä¹‹å¤–çš„ï¼ä¹Ÿå°±æ˜¯è¯´ï¼ŒMuttåªè´Ÿè´£è¯»å–æœ¬åœ°å­˜å‚¨é‚®ä»¶çš„æ–‡ä»¶å¤¹æ›´æ–°ï¼Œè€Œä¸ä¼šè‡ªåŠ¨å¸®ä½ å»æ‰§è¡Œfetchmailå‘½ä»¤ã€‚\nä½ å¿…é¡»è‡ªå·±æ‰‹åŠ¨æ‰§è¡Œï¼Œæˆ–è€…ç”¨Crontabå®šæœŸæ”¶å–ï¼Œæˆ–è€…è®¾ä¸ºDaemonå®ˆæŠ¤è¿›ç¨‹ï¼Œè¿˜å¯ä»¥åœ¨Muttä¸­è®¾ç½®å¿«æ·é”®æ‰§è¡ŒShellå‘½ä»¤ï¼š\n  è¦ä½¿fetchmailä½œä¸ºå®ˆæŠ¤è¿›ç¨‹è¿è¡Œï¼Œæˆ‘ä»¬å¿…é¡»ç¼–è¾‘/etc/default/fetchmailå¹¶å°†START_DAEMONè®¾ç½®ä¸ºyes\n$ vi /etc/default/fetchmail START_DAEMON=yes æ¥ä¸‹æ¥ï¼Œå¿…é¡»åˆ›å»ºé…ç½®æ–‡ä»¶/etc/fetchmailrcå¹¶è®¾ç½® set daemon 300 ï¼ˆè¿™æ„å‘³ç€fetchmailåº”è¯¥æ¯300ç§’æ£€ç´¢ä¸€æ¬¡ç”µå­é‚®ä»¶ï¼‰ã€‚\n  è®¾ç½®Muttå¿«æ·é”®æ”¶å–é‚®ä»¶çš„æ–¹æ³•æ˜¯åœ¨~/.muttrcä¸­åŠ å…¥macroï¼š\nmacro index,pager I \u0026#39;\u0026lt;shell-escape\u0026gt; fetchmail -vk\u0026lt;enter\u0026gt;\u0026#39; è¿™æ ·çš„è¯ï¼Œä½ å°±å¯ä»¥åœ¨indexé‚®ä»¶åˆ—è¡¨ä¸­æŒ‰Iæ‰§è¡Œå¤–éƒ¨shellå‘½ä»¤æ”¶å–é‚®ä»¶äº†ã€‚\n  é‚®ä»¶è¿‡æ»¤ï¼šé…ç½®Procmail Procmailæ˜¯å•çº¯è´Ÿè´£é‚®ä»¶çš„å­˜å‚¨ã€è¿‡æ»¤å’Œåˆ†ç±»çš„ï¼Œä¸€èˆ¬é…åˆfetchmailæ”¶ä»¶ä½¿ç”¨ã€‚\nåœ¨Piplineä¸­ï¼ŒfetchmailæŠŠæ”¶åˆ°çš„é‚®ä»¶å…¨éƒ¨ä¼ é€åˆ°Procmailè¿›è¡Œè¿‡æ»¤ç­›é€‰å¤„ç†ï¼Œç„¶åProcmailå°±ä¼šæŠŠé‚®ä»¶å­˜åˆ°æœ¬åœ°å½¢æˆæ–‡ä»¶ï¼Œç„¶åç»™é‚®ä»¶åˆ†ç±»ä¸ºå·¥ä½œã€ç”Ÿæ´»ã€é‡è¦ã€åƒåœ¾ç­‰ã€‚\nå½“ç„¶ï¼Œåˆ†ç±»è§„åˆ™æ˜¯è‡ªå·±å¯ä»¥æŒ‡å®šçš„ã€‚å¯ä»¥æ ¹æ®å‘ä¿¡äººã€ä¸»é¢˜ã€é•¿åº¦ä»¥åŠå…³é”®å­— ç­‰å¯¹é‚®ä»¶è¿›è¡Œæ’åºã€åˆ†ç±»ã€æ•´ç†ã€‚\nProcmail çš„é…ç½®æ–‡ä»¶æ˜¯ ~/.procmailrc ï¼Œè®°å¾—æ”¹æƒé™ï¼šchmod 600 ~/.procmailrcã€‚\nå†…å®¹ä¹Ÿéå¸¸ç®€å•ï¼Œå‰é¢æ˜¯é‚®ä»¶ä½ç½®ã€æ—¥å¿—ç­‰é»˜è®¤é€‰é¡¹ï¼Œåé¢åˆ™æ˜¯ä¸€å—ä¸€å—çš„è¿‡æ»¤è§„åˆ™ã€‚\nåŸºæœ¬é…ç½®ï¼š\n# é‚®ä»¶å­˜å‚¨åœ°å€ MAILDIR=$HOME/Mail # é»˜è®¤ï¼šæ”¶ä»¶ç®± DEFAULT=$MAILDIR/inbox VERBOSE=off LOGFILE=/tmp/procmaillog # æŸä¸ªåƒåœ¾é‚®ä»¶è§„åˆ™ :0 * ^From: webmaster@st\\.zju\\.edu\\.cn # åƒåœ¾æ–‡ä»¶çš„å­˜å‚¨ä½ç½® /dev/null # å…¶å®ƒæ‰€æœ‰éƒ½å­˜åˆ°æ”¶ä»¶ç®±ä¸­ :0: inbox/ å…¶ä¸­ï¼Œ$HOME/Mailæ˜¯è®¾å®šçš„é‚®ä»¶å­˜å‚¨ä½ç½®ã€‚\næˆ‘ä»¬éœ€è¦æ‰‹åŠ¨åˆ›å»ºmkdir ~/Mailï¼Œå¦åˆ™ç¨‹åºä¼šæŠ¥é”™ã€‚\né…ç½®å¥½åï¼Œæˆ‘ä»¬å†æµ‹è¯•ä¸€ä¸‹å°±ä¼šçœ‹åˆ°ï¼š\n$ fetchmail -a 78 messages for 1664548605@qq.com at pop.qq.com (2843793 octets). reading message 1664548605@qq.com@pop.qq.com:1 of 78 (36692 octets) not flushed ... $ tree ~/Mail /home/vane/Mail â””â”€â”€ inbox 0 directories, 1 file $ du -h Mail/inbox 2.1M\tMail/inbox å¯ä»¥çœ‹åˆ°ï¼Œæ‰€æœ‰é‚®ä»¶éƒ½ä¿å­˜åœ¨äº†inboxè¿™ä¸ªå•ä¸€æ–‡ä»¶ä¸­ã€‚è¿™ä¸ªæ–‡ä»¶å¯ä»¥æ‰“å¼€çœ‹åˆ°MIMEæ ¼å¼(åè®®)çš„é‚®ä»¶æºç ã€‚å°±åƒHTMLä¸€æ ·ï¼Œå±•ç¤ºç»™æˆ‘ä»¬çš„å’ŒèƒŒåçš„æºç ä¸ä¸€æ ·ã€‚\né‚£ä¹ˆæ€ä¹ˆæŠŠè¿™ä¸ªç±»ä¼¼HTMLçš„MIMEæ ¼å¼é‚®ä»¶è§£æä¸ºæˆ‘ä»¬äººèƒ½è¯»æ‡‚çš„å†…å®¹å‘¢ï¼Ÿâ€”â€”è¿™ä¸ªæˆ‘ä»¬å°±è¦é muttè‡ªå·±äº†ï¼Œmuttè‡ªèº«å…·å¤‡åŸºæœ¬çš„MIMEé‚®ä»¶è§£æåŠŸèƒ½ï¼ˆä¸åŒ…æ‹¬HTMLæ ¼å¼é‚®ä»¶è¯»å–ï¼‰ã€‚\nå‘ä»¶ï¼šé…ç½®msmtp msmtpæ˜¯ä½œä¸ºsendmailå‘é‚®ä»¶ç¨‹åºæ›´å¥½çš„æ›¿ä»£å“ã€‚\nmsmtpçš„é…ç½®æ–‡ä»¶ä¸º~/.msmtprcï¼Œè®°å¾—æ”¹æƒé™ï¼šchmod 600 ~/.msmtprc\né…ç½®å†…å®¹æ¯”æ”¶ä»¶è¿˜ç®€å•ï¼Œå› ä¸ºå‘ä»¶æ°¸è¿œæ¯”æ”¶ä»¶ç®€å•ã€‚\nåŸºæœ¬é…ç½®ï¼š\naccount default auth login host smtp.XXX.com port 587 from ME@XXX.com user ME password passwd # å…³äºtlsï¼Œå¦‚æœæ˜¯é˜¿é‡Œäº‘åˆ™ä¸ç”¨å†™ï¼Œå¦‚æœæ˜¯Outlookçš„è¯ï¼Œå¿…é¡»å†™ tls on tls_starttls off tls_certcheck off # QQ é‚®ç®±ä¾‹å­ account default # QQé‚®ç®±è¿™é‡Œå¿…é¡»æ˜¯ onï¼Œå¦åˆ™ä¼š 535 Login Fail auth on host smtp.qq.com port 587 from 1664548605@qq.com # user å¿…é¡»æ˜¯ @ ä¹‹å‰çš„éƒ¨åˆ†ï¼Œä¸èƒ½è‡ªå®šä¹‰ï¼Œå¦åˆ™ä¼š 535 Login Fail user 1664548605 password [æˆæƒç ] tls on tls_starttls off tls_certcheck off logfile /tmp/msmtp.log QQ é‚®ç®±ä¾‹å­ï¼šä½¿ç”¨mutt+msmtpåœ¨Linuxå‘½ä»¤è¡Œç•Œé¢ä¸‹å‘é‚®ä»¶ã€‚\næ€»ä¹‹ï¼Œå“ªæ€•QQ é‚®ç®±è®¾ç½®å¯¹äº†ï¼Œä¹Ÿè¦å¤šè¯•å‡ æ¬¡æ‰èƒ½å‘é€æˆåŠŸã€‚\nä¸»ç•Œé¢ï¼šé…ç½®Mutt Muttçš„é…ç½®æ–‡ä»¶ä¸º~/.muttrcï¼Œè®°å¾—æ”¹æƒé™ï¼šchmod 600 ~/.muttrc\nå¦å¤–ï¼šmuttçš„é…ç½®æ–‡ä»¶è¿˜å¯ä»¥æ”¾åœ¨~/.mutt/muttrcã€‚è¿™ç§æ–¹æ³•æœ‰ä¸€ä¸ªå¥½å¤„ï¼Œå³~/.mutt/ç›®å½•ä¸‹å¯ä»¥æ”¾å¾ˆå¤šä¸»é¢˜ã€æ’ä»¶ç­‰æ–‡ä»¶ã€‚\nåŸºæœ¬é…ç½®ï¼š\n# é€šç”¨è®¾å®š set use_from=yes set envelope_from=yes #ç§»åŠ¨å·²è¯»é‚®ä»¶ set move=yes #å›å¤çš„æ—¶å€™è°ƒç”¨åŸæ–‡ set include set charset=\u0026#34;utf-8\u0026#34; #è‡ªåŠ¨æ˜¾ç¤ºHTML auto_view text/html # å‘é€è€…è´¦å· set realname=\u0026#34;Vane Hsiung\u0026#34; set from=\u0026#34;1664548605@qq.com\u0026#34; # åˆ†ç±»é‚®ç®± #Mail box type set mbox_type = Maildir set folder = \u0026#34;$HOME/Mail\u0026#34; #INBOX set spoolfile = \u0026#34;$HOME/Mail/inbox\u0026#34; #Seen box set mbox=\u0026#34;$HOME/Mail/seen\u0026#34; #Sent box set record=\u0026#34;$HOME/Mail/sent\u0026#34; #Draft box set postponed=\u0026#34;$HOME/Mail/draft\u0026#34; # å…³è”ç¨‹åºï¼ˆéœ€è¦è‡ªå·±ç”¨whichå‘½ä»¤ç¡®å®šä¸€ä¸‹ï¼‰ # é»˜è®¤ä½¿ç”¨ nano set editor=\u0026#34;vim\u0026#34; set sendmail=\u0026#34;/usr/bin/msmtp\u0026#34; ä»¥ä¸Šå¦‚æœæœ‰ä»€ä¹ˆé—®é¢˜ï¼Œå¯å‚è€ƒetchmail + proc + msmtp + mutt configuration samplesã€‚\nç¡®è®¤é‚®ç®±æœåŠ¡å™¨ å³ä½¿ä¸Šé¢é…ç½®ä¸€åˆ‡OKï¼Œä¹Ÿä¸ä¸€å®šèƒ½æ­£å¸¸æ”¶å‘é‚®ä»¶ã€‚å› ä¸ºä½ ç”¨çš„Gmailã€QQã€ç½‘æ˜“ã€é˜¿é‡Œäº‘ç­‰ç­‰ï¼Œåå°éƒ½æœ‰ä¸€ç³»åˆ—çš„ç¬¬ä¸‰æ–¹æ”¶å–è®¾ç½®ã€‚è¿™æ˜¯å„ä¸ç›¸åŒçš„ã€‚\né™¤äº†ç¬¬ä¸‰æ–¹å®¢æˆ·ç«¯çš„å…è®¸ï¼Œæˆ‘ä»¬è¿˜è¦è®¾ç½®POPã€‚æœ€å¥½æ”¾å¼€å…¨éƒ¨é‚®ä»¶æˆ–è€…æœ€è¿‘30å¤©ï¼Œç„¶åç¦æ­¢å®¢æˆ·ç«¯åˆ ä¿¡ã€‚è¿™æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼ŸPOPé»˜è®¤å®¢æˆ·ç«¯åœ¨æ”¶ä»¶åï¼ŒæœåŠ¡å™¨ä¸Šçš„é‚®ä»¶å°±è‡ªåŠ¨åˆ é™¤äº†ï¼è¿™ä¸ªä¸å¤ªåˆé€‚ï¼Œæ‰€ä»¥å¿…é¡»è¦ç¦æ­¢ã€‚\nåŸºæœ¬æ“ä½œ é‚®ä»¶åˆ—è¡¨æ“ä½œï¼š\n åŸºæœ¬ï¼šq:Quit, d:åˆ é™¤å½“å‰é‚®ä»¶, s:å°†é‚®ä»¶ç§»åŠ¨è‡³æŒ‡å®šæ–‡ä»¶å¤¹, m:åˆ›å»ºæ–°é‚®ä»¶, r:å›å¤å½“å‰é‚®ä»¶, ?:å¸®åŠ© ç§»åŠ¨ï¼šj/k ä¸Šä¸‹ç§»åŠ¨é‚®ä»¶, z/Zä¸Šä¸‹ç¿»é¡µ, \u0026lt;Number\u0026gt; è·³è‡³åºå·å¤„ï¼ˆä¸è¿›å…¥é‚®ä»¶ï¼‰ \u0026lt;Enter\u0026gt; æ‰“å¼€é€‰ä¸­çš„é‚®ä»¶ /åœ¨å½“å‰æ–‡ä»¶å¤¹æœç´¢ d å°†é€‰ä¸­é‚®ä»¶æ ‡è®°ä¸ºåˆ é™¤, N å°†é€‰ä¸­é‚®ä»¶æ ‡è®°ä¸ºæœªè¯», $ è®©æ ‡è®°çš„ä¸œè¥¿ç”Ÿæ•ˆï¼Œå¦‚åˆ é™¤ã€æœªè¯»ç­‰ã€‚ f è½¬å‘é€‰ä¸­é‚®ä»¶, e ç¼–è¾‘é€‰ä¸­é‚®ä»¶ cåˆ‡æ¢æ–‡ä»¶å¤¹(inbox/seen/draftç­‰), éœ€è¦è¾“å…¥æ–‡ä»¶å¤¹åç§°ï¼Œæˆ–æŒ‰?åœ¨åˆ—è¡¨é‡Œé€‰æ‹©ï¼Œj/kä¸Šä¸‹ç§»åŠ¨ã€‚  åœ¨é‚®ä»¶ä¸­çš„æ“ä½œï¼š\n j/k ä¸Šä¸€å°ï¼ä¸‹ä¸€å°é‚®ä»¶, \u0026lt;Space\u0026gt;: å‘ä¸‹ç¿»é¡µ, \u0026lt;Enter\u0026gt;: å‘ä¸‹æ»šåŠ¨ e ç¼–è¾‘å½“å‰é‚®ä»¶, tç¼–è¾‘TOï¼Œcç¼–è¾‘CCï¼Œbç¼–è¾‘BCCï¼Œyå‘é€é‚®ä»¶ï¼Œaæ·»åŠ é™„ä»¶ï¼ŒReturnæŸ¥çœ‹é™„ä»¶ï¼ŒEç¼–è¾‘é™„ä»¶ï¼ŒDåˆ é™¤é™„ä»¶  ä½¿ç”¨å‘½ä»¤æ“ä½œï¼š\nMuttå¦‚åŒVimä¸€æ ·ï¼Œä¸å…‰å¯ä»¥æŠŠå‘½ä»¤ç»‘å®šä¸ºå¿«æ·é”®ï¼Œè¿˜èƒ½ç›´æ¥è¾“å…¥:ç›´æ¥è¾“å…¥å‘½ä»¤ã€‚ ä½†æ˜¯ç¨æœ‰ä¸åŒçš„æ˜¯ï¼ŒMuttç§°ä¹‹ä¸ºActionï¼Œè€Œä¸”éœ€è¦ç”¨:exec \u0026lt;å‘½ä»¤\u0026gt;è¿™æ ·æ ¼å¼æ‰§è¡Œã€‚\næ¯”å¦‚sidebarä¾§è¾¹æ çš„ç§»åŠ¨ï¼Œå‘½ä»¤æ˜¯ï¼šsidebar-next, sidebar-prevã€‚ é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥ç›´æ¥è¾“å…¥:exec sidebar-nextï¼ŒæŒ‰ä¸‹å›è½¦æ‰§è¡Œã€‚\nIRC ç®€ä»‹ èŠ¬å…°äººé›…å°”å¯Â·æ¬§ä¼Šå¡åˆ©å®ï¼ˆJarkko Oikarinenï¼‰äº1988å¹´8æœˆåˆ›é€ äº†IRCæ¥å–ä»£ä¸€ä¸ªå«åšMUTçš„ç¨‹åºã€‚\n IRCï¼ˆInternet Relay Chatçš„ç¼©å†™ï¼Œâ€œå› ç‰¹ç½‘ä¸­ç»§èŠå¤©â€ï¼‰æ˜¯ä¸€ä¸ªä½äºåº”ç”¨å±‚çš„åè®®ã€‚ å…¶ä¸»è¦ç”¨äºç¾¤ä½“èŠå¤©ï¼Œä½†åŒæ ·ä¹Ÿå¯ä»¥ç”¨äºä¸ªäººå¯¹ä¸ªäººçš„èŠå¤©ã€‚ ä¸€ä¸ªIRCæœåŠ¡å™¨å¯ä»¥è¿æ¥å…¶ä»–çš„IRCæœåŠ¡å™¨ä»¥æ‰©å±•ä¸ºä¸€ä¸ªIRCç½‘ç»œã€‚ IRC ä¸å¼ºåˆ¶æ³¨å†Œï¼›ä½†å¦‚æœä½ æ³¨å†Œäº†ï¼Œå°±å¯ä»¥å¼ºåˆ¶æŠŠå ç”¨è‡ªå·±å”¯ä¸€ ID çš„äººè¸¢ä¸‹çº¿ã€‚ IRC åè®®ç®€å•ï¼Œå¼€æºå®ç°å¤šï¼Œå…¶ç¬¬ä¸‰æ–¹æœºå™¨äººç¨‹åºéå¸¸ä¼—å¤šï¼Œå‡ ä¹æ¯ç§è¯­è¨€éƒ½æœ‰ä¸€ä¸ªå®ç°ã€‚ IRC æ˜¯å¼€æºç¤¾åŒºä¼šè®®æ ‡å‡†ï¼›å› æ­¤ï¼Œè®¸å¤šå¼€æºä¸–ç•Œçš„æŠ€æœ¯å¤§ç‰›æ··åœ¨é‚£é‡Œã€‚  irchelpï¼šä¸€ä¸ªè‡´åŠ›äºå¸®åŠ©ç”¨æˆ·äº†è§£IRCçš„ç½‘ç«™ã€‚\nIRCï¼šLinuxæ–‡æ¡£é¡¹ç›®çš„IRC HOWTO\næœåŠ¡å™¨ é¦–å…ˆè¦åŒºåˆ†ä¸€äº›æ¦‚å¿µï¼š\n Networksï¼šæ˜¯æŒ‡çš„äº’ç›¸éš”ç¦»çš„ç½‘ç»œï¼Œå¦‚Freenodeå’ŒDALnetè¿™äº›æ˜¯ä¸–ç•ŒçŸ¥åçš„ç½‘ç»œï¼Œä½†äº’ç›¸éš”ç¦»ï¼Œé¢‘é“ä¸å…±äº«ã€‚ Serversï¼šNetworkç½‘ç»œä¸­çš„æŸä¸€å°ç”µè„‘æœåŠ¡å™¨ï¼Œä½ åŠ å…¥ä¸–ç•Œä¸Šä»»ä½•ä¸€ä¸ªserveréƒ½èƒ½åŠ å…¥è¿™ä¸ªNetworkã€‚IRCæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼çš„å®¢æˆ·ç«¯/æœåŠ¡å™¨ç»“æ„ã€‚é€šè¿‡è¿æ¥åˆ°ä¸€ä¸ªIRCæœåŠ¡å™¨ï¼Œæˆ‘ä»¬å¯ä»¥è®¿é—®è¿™ä¸ªæœåŠ¡å™¨ä»¥åŠå®ƒæ‰€è¿æ¥çš„å…¶ä»–æœåŠ¡å™¨ä¸Šçš„é¢‘é“ï¼ˆå³è¿™ä¸ª Network ä¸­æ‰€æœ‰é¢‘é“ï¼‰ã€‚  é¢‘é“å­˜åœ¨äºä¸€ä¸ªIRCæœåŠ¡å™¨ä¸Šã€‚ä¸€ä¸ªé¢‘é“ç±»ä¼¼äºä¸€ä¸ªèŠå¤©å®¤ï¼Œé¢‘é“åç§°å¿…é¡»ä»¥#ç¬¦å·å¼€å§‹ï¼Œä¾‹å¦‚#irchelpã€‚\nè¦ä½¿ç”¨IRCï¼Œå¿…é¡»å…ˆç™»å½•åˆ°ä¸€ä¸ªIRCæœåŠ¡å™¨ä¸Šï¼Œæœ€å¸¸è§çš„ä¸ºirc.freenode.netâ€”â€”æœ€å¤§çš„IRCç½‘ç»œï¼Œä¸ºå…è´¹å’Œå¼€æºè½¯ä»¶ç¤¾åŒºï¼Œéè¥åˆ©ç»„ç»‡å’Œç›¸å…³ç¤¾åŒºæä¾›è®¨è®ºè®¾æ–½ã€‚\nFreenode ç”¨æˆ·æ¨¡å¼ã€‚\nIRCä½¿ç”¨çš„æœåŠ¡å™¨ç«¯å£æœ‰:\n 6667ï¼ˆæ˜æ–‡ä¼ è¾“ï¼Œå¦‚irc://irc.freenode.netï¼‰ 6697ï¼ˆSSLåŠ å¯†ä¼ è¾“ï¼Œå¦‚ircs://irc.freenode.net:6697ï¼‰ã€‚  IRCD: ç®€ç§°äº’è”ç½‘ä¸­ç»§èŠå¤©å®ˆæŠ¤ï¼Œæ˜¯æœåŠ¡å™¨è½¯ä»¶å®ç°äº†IRC åè®®ï¼Œä½¿äººä»¬é€šè¿‡ä¸Šç½‘å½¼æ­¤äº¤è°ˆï¼ˆäº¤æ¢æ–‡æœ¬å³æ—¶æ¶ˆæ¯ï¼‰ã€‚\nå®¢æˆ·ç«¯ IRCç”¨æˆ·é€è¿‡å®¢æˆ·ç«¯è½¯ä»¶å’ŒæœåŠ¡å™¨ç›¸è¿ã€‚\nInternet Relay Chatå®¢æˆ·ç«¯çš„æ¯”è¾ƒï¼š\n   Client Homepage Description     Irssi https://irssi.org/ æ”¯æŒIPv6çš„æ¨¡å—åŒ–æ–‡æœ¬UI IRCå®¢æˆ·ç«¯ã€‚è½»é‡çº§æµè¡Œå®¢æˆ·ç«¯ã€‚   WeeChat https://weechat.org/ ä¾¿æºå¼å’Œå¤šæ¥å£ï¼ˆæ–‡æœ¬ï¼ŒWebå’ŒGUIï¼‰IRCå®¢æˆ·ç«¯ã€‚    Irssi å®‰è£…\n$ apt install irssi å‘½ä»¤è¡Œè¾“å…¥irssiå³è¿›å…¥äº†èŠå¤©å®¤ã€‚\nå’Œä¸€èˆ¬Linuxç¨‹åºçš„ä¸€èˆ¬å‘½ä»¤ã€æ ¼å¼éƒ½ä¸åŒï¼ŒIRCå®¢æˆ·ç«¯ä¸€èˆ¬æœ‰è‡ªå·±çš„å‘½ä»¤ã€‚çª—å£å³ä¸‹æ–¹[(status)]æ˜¯è¾“å…¥å‘½ä»¤çš„åœ°æ–¹ã€‚\nä¸€èˆ¬å‘½ä»¤(ä¸åŒºåˆ†å¤§å°å†™)ï¼š\n /quitï¼Œé€€å‡ºç¨‹åºã€‚ä¸€èˆ¬çš„ctrl-c, ctrl-d, esc, qä¹‹ç±»çš„éƒ½ä¸ç®¡ç”¨ /helpï¼Œå¸®åŠ© /network list æŸ¥çœ‹å·²ä¿å­˜çš„æœåŠ¡å™¨åˆ—è¡¨ /connect xxx.xxx.xxx è¿æ¥æŸæœåŠ¡å™¨ã€‚è¿æ¥ freenodeï¼Œéœ€è¦åˆ° https://irc.com/login/sso æ³¨å†Œï¼Œç„¶åæŒ‰ç…§ https://freenode.net/kb/answer/sasl è¿›è¡Œè®¾ç½®ã€‚ /join xxx åŠ å…¥æŸchannel /leaveæˆ–/part ç¦»å¼€å½“å‰channel /normalæˆ–/n æŸ¥çœ‹å½“å‰channelçš„äººæ•° /list -YES æŸ¥çœ‹å½“å‰æœåŠ¡å™¨çš„æ‰€æœ‰chennels (æ…ç”¨) /nick NewNickName æ›´æ”¹å½“å‰æ˜µç§° /msg NickName Content ç»™æŸäººå‘é€æ¶ˆæ¯ï¼Œä¸€èˆ¬éƒ½æ˜¯ç»™/msg nickservç®¡ç†äººNPCå‘é€æ¶ˆæ¯  å¸¸ç”¨å¿«æ·é”®ï¼š\n Alt + 1/2/3/4...ï¼Œåˆ‡æ¢windowçª—å£ï¼Œä¸€èˆ¬ä¸€ä¸ªchannelä¸€ä¸ªçª—å£ Alt + n/pï¼Œä¸Šä¸‹æ»šåŠ¨å±å¹•  IRC å¸¸ç”¨ç¼©å†™è¯\né…ç½®\nå¦‚æœæƒ³é•¿æœŸä¿å­˜ã€å¤‡ä»½ä¸€ä¸ªå›ºå®šçš„ç¨‹åºé…ç½®ï¼Œé‚£ä¹ˆå°±éœ€è¦ä¿®æ”¹é…ç½®æ–‡ä»¶ã€‚\nirssié»˜è®¤çš„é…ç½®æ–‡ä»¶ä¸º~/.irssi/configã€‚\né…ç½®ä¸­ï¼Œä¼šåœ¨ç¬¬ä¸€æ¬¡è¿è¡Œæ—¶å°±è‡ªåŠ¨è®¾ç½®äº†ä¸€äº›ï¼ŒåŒ…æ‹¬æ ¹æ®å½“å‰ç”µè„‘è´¦æˆ·çš„ç”¨æˆ·åè®¾ç½®nicknameç­‰ã€‚æ•´ä¸ªé…ç½®ï¼Œæ˜¯ä¸€ç›´â€œç±»ä¼¼â€JSONçš„æ ¼å¼ã€‚\nsettings ï¼šè®°å½•è‡ªå·±çš„åå­—ï¼šnick, real_name, user_name\nservers ï¼šè¿™æ˜¯æŒ‡çš„Networkè€Œä¸æ˜¯å…·ä½“æŸå°serverï¼Œå¦‚Freenodeã€Dalã€ESPerã€EFnetç­‰å¤§å‹ç½‘ç»œã€‚æœåŠ¡å™¨é…ç½®æ¡ˆä¾‹ï¼š\nservers = ( { address = \u0026#34;irc.dal.net\u0026#34;; chatnet = \u0026#34;DALnet\u0026#34;; port = \u0026#34;6667\u0026#34;; }, { address = \u0026#34;è·¯å¾„\u0026#34;; chatnet = \u0026#34;ä¸‹é¢chatnetå¯¹åº”çš„åç§°\u0026#34;; port = \u0026#34;ç«¯å£\u0026#34;; autoconnect = true; use_ssl = \u0026#34;yes\u0026#34;; password = \u0026#34;ç”¨æˆ·å:å¯†ç \u0026#34;; } ); chatnetsï¼šè®°å½•å„ä¸ªç½‘ç»œçš„ç™»å½•ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºâ€œåˆ«åâ€ï¼Œè¿™æ ·æ¯æ¬¡/connectä¸ç”¨è¾“å…¥å…¨è·¯å¾„äº†ã€‚é…ç½®å®Œæ¯ä¸ªæœåŠ¡å™¨åï¼Œè¿˜è¦é…ç½®ç›¸åº”çš„chatnetsï¼Œæ¯ä¸€æ¡çš„åç§°éƒ½è¦ä¸serversä¸­çš„å¯¹åº”ã€‚\nchatnets = { DALnet = { type = \u0026#34;IRC\u0026#34;; max_kicks = \u0026#34;4\u0026#34;; max_msgs = \u0026#34;20\u0026#34;;max_whois = \u0026#34;30\u0026#34;; }; Freenode = { type = \u0026#34;IRC\u0026#34;; max_kicks = \u0026#34;4\u0026#34;; max_msgs = \u0026#34;20\u0026#34;;max_whois = \u0026#34;30\u0026#34;; autosendcmd = \u0026#34;/msg nickserv identify MyName MyPassword\u0026#34;; }; }; channels ï¼šè®°å½•è‡ªå·±æ”¶è—çš„é¢‘é“åã€‚RCçš„é¢‘é“ä¸æ˜¯ç”¨URLä¹‹ç±»å¾ˆå¤æ‚çš„ä¸œè¥¿ï¼Œå…¨éƒ½æ˜¯ç”¨#tagè¿™ç§ç®€å•ä¸€ä¸ªæ ‡ç­¾æ¥åŒºåˆ†çš„ï¼Œéå¸¸å¥½è®°ã€‚\nchannels = ( { name = \u0026#34;#lobby\u0026#34;; chatnet = \u0026#34;EsperNet\u0026#34;; autojoin = \u0026#34;No\u0026#34;; }, { name = \u0026#34;#freenode\u0026#34;; chatnet = \u0026#34;Freenode\u0026#34;; autojoin = \u0026#34;No\u0026#34;; }, ); statusbarï¼šç•Œé¢ç¾åŒ–çš„è®¾ç½®ã€‚ç›®å‰IRSSIçš„ä¸–ç•Œé‡Œï¼Œå”¯ä¸€çŸ¥åçš„ä¸»é¢˜åªæœ‰weedã€‚\nMultimedia Pipewire ä» Pulseaudio åˆ‡æ¢åˆ° Pipewire çš„ç†ç”±æ˜¯å¯¹äºè“ç‰™çš„â€œLDACâ€â€œAPTXâ€ä¹‹ç±»ç¼–ç æ ¼å¼çš„æ”¯æŒ\nRhythmbox Music\næœ \u0026ldquo;æ— æŸéŸ³ä¹\u0026rdquo; \u0026ldquo;è½¦è½½éŸ³ä¹\u0026rdquo; æ‰“åŒ…ä¸‹è½½ã€‚\nç”µå°\nå¾ˆå¤šç”µå°æ˜¯åŸºäºmmsåè®®çš„ï¼Œå¦‚æœrhythmboxæ— æ³•æ’­æ”¾mmsåè®®çš„ç”µå°ï¼Œåˆ™éœ€è¦å®‰è£…æ”¯æŒmmsåè®®çš„gstreameræ’ä»¶â€”â€”å› ä¸ºrhymboxä½¿ç”¨gstreameråšåå°è§£ç ã€‚æ”¯æŒmmsåè®®çš„æ’ä»¶ä¸ºgstreamer badæ’ä»¶ï¼Œæ‰€ä»¥æ‰§è¡Œå‘½ä»¤ï¼š\n$ sudo apt-get install gstreamer0.10-plugins-bad åŒæ ·çš„ï¼Œå¦‚æœéœ€è¦æ’­æ”¾mp3æ–‡ä»¶åˆ™å®‰è£…uglyæ’ä»¶ï¼Œéœ€è¦æ’­æ”¾wmaæ–‡ä»¶åˆ™å®‰è£…ffmpegæ’ä»¶ã€‚\nç”µè§†å°å’Œç”µå°MMSåœ°å€\nåˆ†äº«Rhythmboxç”µå°åˆ—è¡¨\næœ€ç»ˆè¿˜æ˜¯æ²¡ä»€ä¹ˆæ— æ³•æ’­æ”¾mmsï¼Œå› ä¸º Rhythmbox æŠ¥é”™äº†ã€‚\nFeelUOwn FeelUOwn æ˜¯ä¸€ä¸ªç¨³å®šã€ç”¨æˆ·å‹å¥½ä»¥åŠé«˜åº¦å¯å®šåˆ¶çš„éŸ³ä¹æ’­æ”¾å™¨ã€‚\nSpotify ä½œä¸ºä¸–ç•Œä¸Šæœ€å¤§çš„éŸ³ä¹æµåª’ä½“æœåŠ¡å•†ï¼ŒSpotify å› ä¼˜ç§€çš„è®¾è®¡å’Œç²¾å‡†çš„éŸ³ä¹æ¨èç®—æ³•è®©ä¸å°‘äººä¸ºä¹‹å€¾å¿ƒã€‚\nåœ¨æ­£å¼æ³¨å†Œ Spotify ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€çœ‹æ›²åº“çš„é—®é¢˜ã€‚ç”±äºä¸åŒåœ°åŒºçš„æ­Œæ›²ç‰ˆæƒå·®å¼‚ï¼ŒSpotify åœ¨ä¸åŒåœ°åŒºæä¾›æœåŠ¡æ—¶ï¼Œå…¶ç›¸åº”çš„æ›²åº“ä¹Ÿæœ‰æ‰€ä¸åŒã€‚ä¾‹å¦‚æ¸¯åŒºçš„æ›²åº“ä¸­ï¼Œç²¤è¯­æ­Œå°±è¦æ¯”ç¾åŒºå¤šï¼Œç›¸åç¾åŒºçš„è‹±æ–‡æ­Œå°±è¦æ¯”æ¸¯åŒºå¤šã€‚åŒç†ï¼Œè‹¥ä½ å–œæ¬¢å¬å…¶ä»–è¯­ç§çš„æ­Œï¼Œæ³¨å†Œå½“åœ°çš„ Spotify åˆ™æ˜¯æœ€å¥½çš„é€‰æ‹©ã€‚\næ³¨å†Œåè¦æ˜¯å‘ç°å½“å‰çš„åœ°åŒºé€‰æ‹©å¹¶ä¸æ˜¯å¾ˆç†æƒ³ï¼Œæƒ³è¦æ¢åŒºä¹Ÿæ˜¯å¯è¡Œçš„ã€‚é¦–å…ˆè¦æŒ‚ä¸Šè‡ªå·±æƒ³è¦æ¢åˆ°åœ°åŒºçš„ä»£ç†ï¼Œç„¶åè¿›å…¥è‡ªå·±çš„ã€ŒProfile/èµ„æ–™ã€ç•Œé¢ï¼Œç‚¹å‡»ã€ŒEdit Profile/ä¿®æ”¹èµ„æ–™ã€ï¼Œã€ŒCountry/å›½å®¶ã€è¿™ä¸ªé€‰é¡¹å°±ä¼šå‡ºç°ä½ å½“å‰æ‰€æŒ‚ä»£ç†åœ°åŒºï¼Œä¿å­˜æ›´æ”¹å³å¯æ¢åŒºæˆåŠŸã€‚\nç™»å½•çš„è¯ï¼Œéœ€è¦å…ˆåœ¨ç™»å½•ç•Œé¢è®¾ç½®Proxyé‡å¯ã€‚ç™»å½•ååœ¨è®¾ç½®é‡Œæ”¹å›æ¥ï¼Œä¸å†éœ€è¦Proxyäº†ã€‚\nSpotifyd An open source Spotify client running as a UNIX daemon.\nNeteaseMusic Linux ä¸‹å®˜æ–¹åªå‘å¸ƒäº† deb åŒ…ï¼Œflatpak ç›´æ¥å®‰è£…\nYesPlayMusic é«˜é¢œå€¼çš„ç¬¬ä¸‰æ–¹ç½‘æ˜“äº‘æ’­æ”¾å™¨\nNetEase-MusicBox ç½‘æ˜“äº‘éŸ³ä¹å‘½ä»¤è¡Œç‰ˆ\nlx-music-desktop ä¸€ä¸ªåŸºäº electron çš„éŸ³ä¹è½¯ä»¶\nlisten1_desktop one for all free music in china\nQQMusic PulseAudio PulseAudio æ˜¯åœ¨GNOME æˆ– KDEç­‰æ¡Œé¢ç¯å¢ƒä¸­å¹¿æ³›ä½¿ç”¨çš„éŸ³é¢‘æœåŠ¡ã€‚å®ƒåœ¨å†…æ ¸éŸ³é¢‘ç»„ä»¶ï¼ˆæ¯”å¦‚ALSA å’Œ OSSï¼‰å’Œåº”ç”¨ç¨‹åºä¹‹é—´å……å½“ä»£ç†çš„è§’è‰²ã€‚\né…ç½® Pulseaudio æ”¯æŒé€šè¿‡å¤šç§æ¨¡å—æ‰©å±•å…¶åŠŸèƒ½ã€‚åœ¨è¿™é‡Œå¯ä»¥æ‰¾åˆ°PulseAudioå¯ç”¨çš„æ¨¡å—çš„è¯¦ç»†ä¿¡æ¯ï¼š Pulseaudio Loadable Modulesã€‚å¢åŠ  load-module \u0026lt;module-name-from-list\u0026gt; åˆ°æ–‡ä»¶ /etc/pulse/default.paå°±å¯ä»¥å¯ç”¨å¯¹åº”çš„æ¨¡å—ã€‚\nå¯åŠ¨ è­¦å‘Šï¼š å¦‚æœä½ ç»™æ¯ä¸ªç”¨æˆ·æ‹·è´äº†é…ç½®æ–‡ä»¶ï¼ˆä¾‹å¦‚client.conf, daemon.conf æˆ–è€… default.paï¼‰åˆ°~/.config/pulse/ æˆ–è€… ~/.pulse/ç›®å½•ä¸‹ï¼Œç¡®å®šè¿™äº›æ–‡ä»¶çš„ä¿®æ”¹ä¸/etc/pulse/ä¸‹çš„æ–‡ä»¶ä¿®æ”¹åŒæ­¥ï¼Œå¦åˆ™PulseAudioå¯èƒ½ç”±äºé…ç½®æ–‡ä»¶é”™è¯¯è€Œæ‹’ç»å¯åŠ¨ã€‚\næ³¨æ„ï¼š å¤§å¤šæ•°X11ç¯å¢ƒä¼šåœ¨å¯åŠ¨X11ä¼šè¯æ—¶è‡ªåŠ¨å¯åŠ¨PulseAudioã€‚\nå°‘æ•°æƒ…å†µä¸‹PulseAudioåœ¨å¯åŠ¨X11æ—¶æ²¡æœ‰è‡ªåŠ¨å¯åŠ¨ï¼Œå¯è¿è¡Œä¸‹é¢çš„å‘½ä»¤å¯åŠ¨ï¼š\n$ pulseaudio --start è¿è¡Œä¸‹é¢çš„å‘½ä»¤å¯ä»¥ç»ˆæ­¢PulseAudioï¼š\n$ pulseaudio --kill åœ¨ä¸æ”¯æŒçš„æ¡Œé¢ç¯å¢ƒä¸­è‡ªåŠ¨å¯åŠ¨ æ³¨æ„ï¼š æ­£å¦‚ä¹‹å‰æ‰€è¯´, å¦‚æœç”¨æˆ·å®‰è£…äº†æ¡Œé¢ç¯å¢ƒï¼ŒPulseAudioå¾ˆå¯èƒ½é€šè¿‡ /etc/X11/xinit/xinitrc.d/pulseaudioæ–‡ä»¶æˆ–è€… /etc/xdg/autostart/ç›®å½•ä¸‹çš„æ–‡ä»¶è‡ªåŠ¨å¯åŠ¨\næŸ¥çœ‹PulseAudioæ˜¯å¦æ­£åœ¨è¿è¡Œï¼š\n$ pgrep -af pulseaudio 369 /usr/bin/pulseaudio å¦‚æœPulseAudioæœªè¿è¡Œè€Œä¸”ç”¨æˆ·æ­£åœ¨ä½¿ç”¨X11ï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤å¯ä»¥åœ¨å¯åŠ¨PulseAudioçš„åŒæ—¶åŠ è½½éœ€è¦çš„X11æ’ä»¶ï¼š\n$ start-pulseaudio-x11 å¦‚æœä½ æ²¡æœ‰è¿è¡ŒGNOME, KDEæˆ–è€…Xfceï¼Œå¹¶ä¸”ä½ çš„~/.xinitrcæ–‡ä»¶å¹¶æœªå¼•ç”¨/etc/X11/xinit/xinitrc.dç›®å½•ä¸‹çš„æ–‡ä»¶å†…å®¹ï¼Œä¸ºäº†è®©PulseAudioè‡ªåŠ¨å¯åŠ¨ï¼Œä½ å¯ä»¥è¿™æ ·åšï¼š\n~/.xinitrc /usr/bin/start-pulseaudio-x11 åç«¯è®¾ç½® ALSA é…ç½®ALSAä¸PulseAudioå…±åŒå·¥ä½œå¿…é¡»çš„æ–‡ä»¶/etc/asound.confã€‚\nä¸ºäº†é˜²æ­¢åº”ç”¨ç¨‹åºä½¿ç”¨ALSAçš„OSSæ¨¡æ‹ŸåŠŸèƒ½è€Œå¿½ç•¥PulseAudioï¼ˆä»è€Œå¯¼è‡´å…¶ä»–åº”ç”¨ç¨‹åºæ— æ³•æ’­æ”¾å£°éŸ³ï¼‰ï¼Œç¡®å®šsnd_pcm_ossæ¨¡å—æ²¡æœ‰åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨åŠ è½½ã€‚å¦‚æœè¯¥æ¨¡å—å·²ç»è¢«åŠ è½½(lsmod | grep oss)ï¼Œè¿è¡Œä¸‹é¢å‘½ä»¤ä»¥å¸è½½è¯¥æ¨¡å—ï¼š\n# rmmod snd_pcm_oss å‡è¡¡å™¨ PulseAudioå†…ç½®äº†10æ®µå‡è¡¡å™¨ç³»ç»Ÿï¼ŒæŒ‰ä¸‹åˆ—æ­¥éª¤æ“ä½œä»¥å¯ç”¨å‡è¡¡å™¨ï¼š\nåŠ è½½å‡è¡¡å™¨é€šé“å’Œdbusåè®®æ¨¡å— $ pactl load-module module-equalizer-sink $ pactl load-module module-dbus-protocol å®‰è£…å¹¶è¿è¡Œå›¾å½¢å‰ç«¯ $ sudo apt install pulseaudio-equalizer $ qpaeq æ¯æ¬¡å¯åŠ¨æ—¶åŠ è½½å‡è¡¡å™¨å’Œdbusæ¨¡å— ç¼–è¾‘ /etc/pulse/default.pa å¹¶åŠ å…¥ä¸‹é¢å‡ è¡Œï¼š\n### Load the integrated PulseAudio equalizer and D-Bus module load-module module-equalizer-sink load-module module-dbus-protocol FFmpeg  powershell æ‰§è¡Œä¸åœ¨ cmd æ‰§è¡Œä¸ä¸€æ ·ï¼Œpoweshell æŸäº› -c:v ä¼šæŠ¥é”™ ffmpeg è¾“å‡ºå‚æ•°å«ä¹‰  frame: ç¼–ç çš„å¸§æ•°é‡ fpsï¼šæ¯ç§’ç¼–ç çš„å¸§æ•° qï¼šè´¨é‡å› å­ size/ Lsizeï¼šè§†é¢‘å’ŒéŸ³é¢‘ç¼–ç åçš„å¤§å°ï¼Œå³åŸºæœ¬ç­‰äºè§†é¢‘å’ŒéŸ³é¢‘ ä¹‹å’Œ timeï¼šè¾“å‡ºå¸§çš„æ˜¾ç¤ºæ—¶é—´ bitrateï¼šè¾“å‡ºè§†é¢‘çš„æ¯”ç‰¹ç‡ dupï¼šè¾“å…¥å¸§é‡å¤ï¼ˆduplicateï¼‰çš„æ•°é‡ dropï¼šè¾“å…¥å¸§ä¸¢å¼ƒï¼ˆdropï¼‰çš„ä¸ªæ•° speedï¼šç¼–ç é€Ÿåº¦    è§†é¢‘æ–‡ä»¶æœ¬èº«å…¶å®æ˜¯ä¸€ä¸ªå®¹å™¨ï¼ˆcontainerï¼‰ï¼Œé‡Œé¢åŒ…æ‹¬äº†è§†é¢‘å’ŒéŸ³é¢‘ï¼Œä¹Ÿå¯èƒ½æœ‰å­—å¹•ç­‰å…¶ä»–å†…å®¹ã€‚\nè§†é¢‘å’ŒéŸ³é¢‘éƒ½éœ€è¦ç»è¿‡ç¼–ç ï¼Œæ‰èƒ½ä¿å­˜æˆæ–‡ä»¶ã€‚ä¸åŒçš„ç¼–ç æ ¼å¼ï¼ˆCODECï¼‰ï¼Œæœ‰ä¸åŒçš„å‹ç¼©ç‡ï¼Œä¼šå¯¼è‡´æ–‡ä»¶å¤§å°å’Œæ¸…æ™°åº¦çš„å·®å¼‚ã€‚\nç¼–ç å™¨ï¼ˆencodersï¼‰æ˜¯å®ç°æŸç§ç¼–ç æ ¼å¼çš„åº“æ–‡ä»¶ã€‚åªæœ‰å®‰è£…äº†æŸç§æ ¼å¼çš„ç¼–ç å™¨ï¼Œæ‰èƒ½å®ç°è¯¥æ ¼å¼è§†é¢‘/éŸ³é¢‘çš„ç¼–ç å’Œè§£ç ã€‚\nFFmpeg çš„å‘½ä»¤è¡Œå‚æ•°éå¸¸å¤šï¼Œå¯ä»¥åˆ†æˆäº”ä¸ªéƒ¨åˆ†ï¼š\n$ ffmpeg [å…¨å±€å‚æ•°] [è¾“å…¥æ–‡ä»¶å‚æ•°] -i è¾“å…¥æ–‡ä»¶ [è¾“å‡ºæ–‡ä»¶å‚æ•°] [è¾“å‡ºæ–‡ä»¶] å¸¸ç”¨å‚æ•°  -cï¼šæŒ‡å®šç¼–ç å™¨ -c copyï¼šç›´æ¥å¤åˆ¶ï¼Œä¸ç»è¿‡é‡æ–°ç¼–ç ï¼ˆè¿™æ ·æ¯”è¾ƒå¿«ï¼‰ -c:vï¼šæŒ‡å®šè§†é¢‘ç¼–ç å™¨ -c:aï¼šæŒ‡å®šéŸ³é¢‘ç¼–ç å™¨ -iï¼šæŒ‡å®šè¾“å…¥æ–‡ä»¶ -anï¼šå»é™¤éŸ³é¢‘æµ -vnï¼š å»é™¤è§†é¢‘æµ -presetï¼šæŒ‡å®šè¾“å‡ºçš„è§†é¢‘è´¨é‡ï¼Œä¼šå½±å“æ–‡ä»¶çš„ç”Ÿæˆé€Ÿåº¦ï¼Œæœ‰ä»¥ä¸‹å‡ ä¸ªå¯ç”¨çš„å€¼ ultrafast, superfast, veryfast, faster, fast, medium, slow, slower, veryslowã€‚ -yï¼šä¸ç»è¿‡ç¡®è®¤ï¼Œè¾“å‡ºæ—¶ç›´æ¥è¦†ç›–åŒåæ–‡ä»¶ã€‚  æŸ¥çœ‹è§†é¢‘æ–‡ä»¶çš„å…ƒä¿¡æ¯ $ ffmpeg -i input.mp4 -hide_banner è½¬æ¢ç¼–ç æ ¼å¼ $ ffmpeg -i [input.file] -c:v libx264 output.mp4 è½¬æˆ H.264 ç¼–ç ï¼Œä¸€èˆ¬ä½¿ç”¨ç¼–ç å™¨ libx264\nè½¬æ¢å®¹å™¨æ ¼å¼ $ ffmpeg -i input.mp4 -c copy output.mkv æ”¹å˜åˆ†è¾¨ç‡ $ ffmpeg -i input.mp4 -vf scale=720:-1 output.mp4 æå–è§†é¢‘ $ ffmpeg -i input.mp4 -an -c:v copy ouput.mp4 -vcodec codec å¼ºåˆ¶ä½¿ç”¨codecç¼–è§£ç æ–¹å¼ã€‚å¦‚æœç”¨copyè¡¨ç¤ºåŸå§‹ç¼–è§£ç æ•°æ®å¿…é¡»è¢«æ‹·è´ã€‚\næå–éŸ³é¢‘ $ ffmpeg -i input.mp4 -vn -c:a copy output.aac -c:a copyè¡¨ç¤ºä¸æ”¹å˜éŸ³é¢‘ç¼–ç ï¼Œç›´æ¥æ‹·è´ã€‚\næ·»åŠ éŸ³è½¨ $ ffmpeg -i input.aac -i input.mp4 output.mp4 éŸ³è§†é¢‘åˆæˆ $ ffmpeg -i video.mp4 -i audio.aac -c:v copy -c:a copy output.mp4 æˆªå›¾ ä»æŒ‡å®šæ—¶é—´å¼€å§‹ï¼Œè¿ç»­å¯¹1ç§’é’Ÿçš„è§†é¢‘è¿›è¡Œæˆªå›¾\n$ ffmpeg -y -i input.mp4 -ss 00:01:24 -t 00:00:01 output_%3d.jpg æŒ‡å®šåªæˆªå–ä¸€å¸§\n$ ffmpeg -ss 01:23:45 -i input.mp4 -vframes 1 -q:v 2 output.jpg -vframes 1æŒ‡å®šåªæˆªå–ä¸€å¸§ï¼Œ-q:v 2è¡¨ç¤ºè¾“å‡ºçš„å›¾ç‰‡è´¨é‡ï¼Œä¸€èˆ¬æ˜¯1åˆ°5ä¹‹é—´ï¼ˆ1 ä¸ºè´¨é‡æœ€é«˜ï¼‰ã€‚\nè£å‰ª $ ffmpeg -ss [start] -i [input] -t [duration] -c copy [output] $ ffmpeg -ss [start] -i [input] -to [end] -c copy [output] è£å‰ªï¼ˆcuttingï¼‰æŒ‡çš„æ˜¯ï¼Œæˆªå–åŸå§‹è§†é¢‘é‡Œé¢çš„ä¸€ä¸ªç‰‡æ®µï¼Œè¾“å‡ºä¸ºä¸€ä¸ªæ–°è§†é¢‘ã€‚å¯ä»¥æŒ‡å®šå¼€å§‹æ—¶é—´ï¼ˆstartï¼‰å’ŒæŒç»­æ—¶é—´ï¼ˆdurationï¼‰ï¼Œä¹Ÿå¯ä»¥æŒ‡å®šç»“æŸæ—¶é—´ï¼ˆendï¼‰ã€‚\næ·»åŠ å­—å¹•  å¤–æŒ‚å­—å¹•ï¼šä¸€ä¸ªå•ç‹¬çš„å¤–éƒ¨å­—å¹•æ–‡ä»¶ï¼Œæ ¼å¼ç±»å‹ä¸€èˆ¬æœ‰srtã€vttã€assç­‰ç­‰ã€‚æ’­æ”¾è§†é¢‘æ—¶ï¼Œéœ€è¦æŠŠå¤–æŒ‚å­—å¹•å’Œè§†é¢‘æ”¾åœ¨åŒä¸€ç›®å½•ä¸‹ï¼Œå¹¶åœ¨æ’­æ”¾å™¨ä¸­é€‰æ‹©å­—å¹•æ–‡ä»¶æ‰å¯ä»¥åœ¨è§†é¢‘ä¸­çœ‹åˆ°å­—å¹•ã€‚ è½¯å­—å¹•ï¼šä¹Ÿå«å†…æŒ‚å­—å¹•ã€å°è£…å­—å¹•ã€å†…å°å­—å¹•ï¼Œå­—å¹•æµç­‰ï¼Œå°±æ˜¯æŠŠå‰é¢çš„å¤–æŒ‚å­—å¹•çš„å­—å¹•æ–‡ä»¶åµŒå…¥åˆ°è§†é¢‘ä¸­ä½œä¸ºæµçš„ä¸€éƒ¨åˆ†ï¼Œå¦‚æœä¸€ä¸ªè§†é¢‘æœ‰å¤šä¸ªå­—å¹•æµé‚£ä¹ˆæ’­æ”¾è§†é¢‘æ˜¯è¿˜å¾—é€‰æ‹©å¯¹åº”çš„å­—å¹•æµ ç¡¬å­—å¹•ï¼šæ˜¯åµŒå…¥åˆ°è§†é¢‘å¸§é‡Œé¢çš„å­—å¹•ï¼Œå®ƒå°±åƒè§†é¢‘æ°´å°ä¸€æ ·ä½œä¸ºè§†é¢‘å¸§çš„ä¸€åˆ†éƒ¨åˆ†äº†ï¼Œä¸ç®¡å†ä»»ä½•å¹³å°å­—å¹•çœ‹èµ·æ¥éƒ½æ˜¯ä¸€æ ·çš„ï¼Œè€Œä¸”ä¹Ÿä¸å†è¦æ±‚æ’­æ”¾å™¨å•ç‹¬å¯¹å­—æ¯è¿›è¡Œæ¸²æŸ“  å¸¸è§çš„å­—å¹•æ ¼å¼æœ‰ï¼š\n SRTï¼ˆæ ‡å‡†å¤–æŒ‚å­—å¹•æ ¼å¼ï¼‰ï¼šåªåŒ…å«æ–‡å­—å’Œæ—¶é—´ç ï¼Œæ²¡æœ‰æ ·å¼ï¼Œæ˜¾ç¤ºæ•ˆæœç”±æ’­æ”¾å™¨å†³å®šï¼Œä¸åŒçš„æ’­æ”¾å™¨æ˜¾ç¤ºå‡ºçš„æ•ˆæœå¯èƒ½å·®åˆ«å¾ˆå¤§ã€‚ ASSï¼ˆé«˜çº§å¤–æŒ‚å­—å¹•æ ¼å¼ï¼‰ï¼šæ”¯æŒæ ·å¼ã€å­—ä½“ã€å­—å¹•å®šä½ã€æ·¡å…¥æ·¡å‡ºã€ç®€å•çš„ç‰¹æ•ˆã€‚å¦‚æœä¸ç¼ºå­—ä½“ï¼Œä¸åŒçš„æ’­æ”¾å™¨æ˜¾ç¤ºæ•ˆæœåŸºæœ¬ä¸€è‡´ã€‚  ffmpegå­—å¹•å¤„ç†æµç¨‹(å®¹å™¨æ˜¯å¦æ”¯æŒå­—å¹•æµæŒ‡çš„æ˜¯è¾“å‡ºå®¹å™¨)\næ·»åŠ è½¯å­—å¹•ï¼š\n$ ffmpeg -i video.mp4 -i subtitle.srt -c copy output.mkv è½¯å­—å¹•åªæœ‰éƒ¨åˆ†å®¹å™¨æ ¼å¼æ¯”å¦‚(mkv)æ‰æ”¯æŒï¼ŒMP4/MOVç­‰ä¸æ”¯æŒï¼Œè€Œä¸”ä¹Ÿåªæœ‰éƒ¨åˆ†æ’­æ”¾å™¨æ”¯æŒè½¯å­—å¹•æˆ–è€…å¤–æŒ‚å­—å¹•(å¦‚VLCæ’­æ”¾å™¨)ã€‚\næ·»åŠ å¤šä¸ªå­—å¹•ï¼š\nffmpeg -i input.mp4 -i zh_CN.srt -i en_US.srt -map 0:v -map 0:a -map 1 -map 2 -c:v copy -c:a copy -metadata:s:s:0 language=chn -metadata:s:s:1 language=eng \u0026#34;output.mp4\u0026#34;  -map æ˜¯è½¨é“å‚æ•°ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªå­—å¹•ï¼Œå°±ä¸éœ€è¦è¿™ä¸ªå‚æ•°ã€‚-map 0:v è¡¨ç¤ºç¬¬ä¸€ä¸ªæ–‡ä»¶è¾“å…¥è§†é¢‘è½¨é“ï¼Œ-map 0:a è¡¨ç¤ºç¬¬äºŒä¸ªè½¨é“æ˜¯ç¬¬ä¸€ä¸ªæ–‡ä»¶è¾“å…¥çš„éŸ³é¢‘è½¨é“ï¼Œ-map 1 å»ºç«‹ç¬¬ä¸‰ä¸ªè½¨é“ï¼Œ-map 2 å»ºç«‹ç¬¬å››ä¸ªè½¨é“ã€‚å¦‚æœæ²¡æ·»åŠ  map å‚æ•°ï¼Œé»˜è®¤å°±åªæœ‰ä¸€ä¸ªå­—å¹•è½¨é“ï¼Œç¬¬äºŒä¸ªè‹±æ–‡å­—å¹•ä¼šè¦†ç›–ç¬¬ä¸€ä¸ªä¸­æ–‡å­—å¹•è½¨é“ã€‚ -metadata:s:s:0 language=chn ç¬¬ä¸€æ¡å­—å¹•çš„è¯­è¨€è®¾ç½®ä¸ºä¸­æ–‡ï¼Œ-metadata:s:s:1 language=eng ç¬¬äºŒæ¡å­—å¹•çš„è¯­è¨€è®¾ç½®ä¸ºè‹±æ–‡ã€‚ language ä¸èƒ½è‡ªå®šä¹‰ï¼Œåªèƒ½è®¾ç½®æˆå›ºå®šçš„ç¼©å†™ã€‚  æ·»åŠ ç¡¬å­—å¹•ï¼š\n$ ffmpeg -i video.mkv -vf subtitles=subtitle.srt out.mp4 ä¸‹è½½ m3u8 ç°åœ¨æ¯”è¾ƒå¸¸è§çš„è§†é¢‘æµåª’ä½“ï¼Œå¤§éƒ¨åˆ†éƒ½æ˜¯ m3u8 æ ¼å¼çš„ï¼Œè€Œå¯¹äº m3u8 æ ¼å¼çš„è§†é¢‘è€Œè¨€ï¼Œå¦‚æœä½ ä¸‹è½½è¿‡ï¼Œä½ ä¼šå‘ç°å®ƒå°±æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œå¤§æ¦‚ä¹Ÿå°±åªæœ‰å‡ å kbï¼Œä»ç£ç›˜å¤§å°æ¥çœ‹ï¼Œåº”è¯¥ä¹ŸçŸ¥é“å®ƒå¹¶ä¸æ˜¯ä¸€ä¸ªç›´æ¥çš„è§†é¢‘æ–‡ä»¶ã€‚\nä»€ä¹ˆæ˜¯ m3u8\nè¯´åˆ° m3u8 å°±è¦å…ˆè¯´è¯´ HLSï¼ˆHTTP Live Streamingï¼‰ã€‚HLS æ˜¯ Apple å…¬å¸é’ˆå¯¹ iPhoneã€iPodã€iTouch ç­‰ç§»åŠ¨è®¾å¤‡ï¼Œè€Œç ”å‘çš„åŸºäº HTTP åè®®çš„æµåª’ä½“è§£å†³æ–¹æ¡ˆã€‚åœ¨ HLS æŠ€æœ¯ä¸­ï¼ŒWeb æœåŠ¡å™¨å¯ä»¥å‘å®¢æˆ·ç«¯æä¾›æ¥è¿‘å®æ—¶çš„éŸ³è§†é¢‘æµï¼Œä½†æ˜¯å®ƒåˆæ˜¯ä½¿ç”¨çš„æ ‡å‡†çš„ HTTP åè®®ã€‚æ‰€ä»¥åŸºæœ¬ä¸Šï¼Œæ¯”è¾ƒå¤§å‹çš„ç‚¹æ’­ç›´æ’­ç±»æœåŠ¡ï¼Œéƒ½æ˜¯åŸºäº HLS çš„ã€‚\nè€Œè¯¥æŠ€æœ¯çš„åŸç†ï¼Œå°±æ˜¯å°†è§†é¢‘æ–‡ä»¶æˆ–è€…è§†é¢‘æµï¼Œè¿›è¡Œåˆ‡ç‰‡ï¼ˆtsæ–‡ä»¶ï¼‰ï¼Œå¹¶å»ºç«‹ç´¢å¼•æ–‡ä»¶ï¼ˆm3u8ï¼‰ï¼Œå®ƒæ”¯æŒçš„è§†é¢‘æµç¼–ç ä¸º H.264ï¼ŒéŸ³é¢‘æµç¼–ç ä¸º AACã€‚\nç®€å•æ¥è¯´ï¼ŒåŸºäº HLS çš„è§†é¢‘æµï¼Œä¼šå°†å®Œæ•´çš„è§†é¢‘ï¼Œåˆ‡å‰²æˆä¸€ä¸ªä¸ªæ¯”è¾ƒå°çš„è§†é¢‘ç‰‡æ®µï¼ˆts æ–‡ä»¶ï¼‰ï¼Œç„¶åæ ¹æ®åè®®ç»„åˆæˆä¸€ä¸ª m3u8 æ–‡ä»¶ã€‚è¿™äº›æ¯”è¾ƒå°çš„ ts æ–‡ä»¶ï¼Œæ˜¯å¯ä»¥å•ç‹¬æ’­æ”¾çš„ã€‚è€Œè§†é¢‘æ’­æ”¾å™¨ï¼Œæ‹¿åˆ° m3u8 æ–‡ä»¶ä¹‹åï¼Œæ ¹æ®å¯¹å…¶å†… ts ç‰‡æ®µçš„ç´¢å¼•ï¼Œè¿ç»­æ’­æ”¾ä¸åŒçš„è§†é¢‘ç‰‡æ®µï¼Œæ¥è¾¾åˆ°æµç•…çš„æ’­æ”¾æ•ˆæœã€‚\nä¸‹è½½çš„ m3u8 æ–‡ä»¶\nè¯´è¿™äº›æ¦‚å¿µéƒ½æ²¡ç”¨ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸¤ä¸ªçœŸå®çš„è¢«ä¸‹è½½çš„ m3u8 æ–‡ä»¶ã€‚\nè¿™ç§ m3u8 æ–‡ä»¶å°±è¿˜æ˜¯æ¯”è¾ƒæ¸…æ™°çš„ï¼Œèƒ½çœ‹åˆ°å®ƒä¸€ä¸ªä¸ªçš„ç‰‡æ®µã€‚ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™é‡Œçš„ç‰‡æ®µï¼Œå…¨éƒ¨æ˜¯åŸºäºåŸŸåçš„ç›¸å¯¹åœ°å€ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™æ ·ä¸€ä¸ª m3u8 æ–‡ä»¶ï¼Œä½ ä¸¢åˆ°æ’­æ”¾å™¨é‡Œï¼Œæ˜¯æ— æ³•æ’­æ”¾çš„ï¼Œä½†æ˜¯å¦‚æœä½ è®°å½•äº†åŸå§‹ä¸‹è½½è¿™ä¸ª m3u8 çš„é“¾æ¥ï¼Œå®ƒåœ¨æ’­æ”¾å™¨é‡Œæ˜¯å¯ä»¥æ­£å¸¸æ’­æ”¾çš„ã€‚\nå½“ç„¶ï¼Œå¦‚æœä½ ä¿®æ”¹è¿™ä¸ª m3u8 æ–‡ä»¶ï¼Œå°†å®ƒç›¸å¯¹è·¯å¾„æ‹¼æ¥ä¸ŠåŸŸååœ°å€ï¼Œä¹Ÿæ˜¯å¯ä»¥è¾¾åˆ°æ’­æ”¾çš„æ•ˆæœçš„ã€‚\nå†æ¥çœ‹çœ‹å¦å¤–ä¸€ç§ m3u8 æ–‡ä»¶ï¼Œå®ƒå…¶å†…çš„ ts ç‰‡æ®µï¼Œéƒ½æ˜¯å®Œæ•´åœ°å€ã€‚\nåƒè¿™ç§å…·æœ‰å®Œæ•´åœ°å€çš„ ts ç‰‡æ®µï¼Œå“ªæ€•ä½ å°†å®ƒä¿å­˜æˆä¸€ä¸ªæœ¬åœ°çš„æ–‡ä»¶ï¼Œæ’­æ”¾å™¨ä¾ç„¶æ˜¯å¯ä»¥ç›´æ¥æ’­æ”¾çš„ï¼Œä¸è¿‡è¿™é‡Œæœ¬è´¨ä¸Šä¾ç„¶æ˜¯åœ¨åœ¨çº¿æ’­æ”¾ã€‚\nè¿™ä¸¤ä¸­ m3u8 æ–‡ä»¶ï¼Œè™½ç„¶æœ‰ç»†å¾®çš„å·®åˆ«ï¼Œä½†æ˜¯å®ƒä»¬éƒ½æ˜¯åŸºäºæ ‡å‡†çš„åè®®ã€‚\nç®€å•æ€»ç»“ä¸€ä¸‹ï¼š\n m3u8 ä¸æ˜¯è§†é¢‘å†…å®¹çš„æ–‡ä»¶ï¼Œå®ƒå ç”¨çš„ç£ç›˜ç©ºé—´éå¸¸çš„å°ã€‚ m3u8 æ–‡ä»¶ï¼Œå¦‚æœå…¶å†…çš„ ts ç‰‡æ®µï¼Œæ˜¯å®Œæ•´åœ°å€ï¼Œåˆ™å¯ä»¥ä¿å­˜åæ’­æ”¾ï¼Œå¦è€…åªèƒ½åœ¨çº¿æ’­æ”¾ã€‚ æ’­æ”¾å™¨æ’­æ”¾ m3u8 æ–‡ä»¶çš„æ—¶å€™ï¼Œå®é™…ä¸Šï¼Œè¿˜æ˜¯åœ¨çº¿ä»çº¿ä¸Šè·å–çš„è§†é¢‘æµè¿›è¡Œæ’­æ”¾ï¼Œæ‰€ä»¥æ˜¯å­˜åœ¨å¤±æ•ˆçš„æƒ…å†µçš„ã€‚  æš‚æ—¶çŸ¥é“è¿™ä¸‰ç‚¹å°±å¯ä»¥äº†ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å†çœ‹å¦‚ä½•å°†ä¸€ä¸ª m3u8 æ–‡ä»¶ï¼Œä¸‹è½½æˆä¸€ä¸ª mp4 è§†é¢‘æ–‡ä»¶ã€‚\nä½¿ç”¨ fmpeg ä¸‹è½½ m3u8\nffmpeg æ˜¯ä¸€å¥—å¯ä»¥ç”¨æ¥è®°å½•ã€è½¬æ¢éŸ³è§†é¢‘ï¼Œå¹¶å°†å…¶è½¬åŒ–ä¸ºæµçš„å¼€æºç¨‹åºï¼Œé‡‡ç”¨ LGPL æˆ– GPL åè®®è®¸å¯è¯ä¹¦ï¼Œå¾ˆå¤šå¤§å‹çš„éŸ³è§†é¢‘è½¯ä»¶ï¼Œå†…éƒ¨éƒ½æ˜¯åŸºäº ffmpeg çš„ã€‚\n$ ffmpeg -i \u0026#34;m3u8_file_uri\u0026#34; \u0026#34;save_video.mp4\u0026#34; åˆ°æ­¤ï¼Œå¦‚æœ m3u8 çš„é“¾æ¥æ­£ç¡®å¯æ’­æ”¾ï¼Œå°±ä¼šå¼€å§‹ä¸‹è½½ï¼Œç­‰å¾…ä¸‹è½½å®Œæˆå°±å¯ä»¥äº†ï¼Œæœ€ç»ˆä¼šåœ¨æŒ‡å®šç›®å½•ä¸‹ï¼Œä¿å­˜ save_video.mp4 æ–‡ä»¶ï¼Œå®ƒå°±æ˜¯æœ€ç»ˆæˆ‘ä»¬ä¸‹è½½çš„ç¦»çº¿è§†é¢‘æ–‡ä»¶ã€‚\nMPV MPV æ˜¯ä¸€ä¸ªåŸºäº MPlayer å’Œ mplayer2 çš„å¼€æºæç®€å…¨èƒ½æ’­æ”¾å™¨ã€‚æ”¯æŒå„ç§è§†é¢‘æ ¼å¼ã€éŸ³é¢‘è§£ç ã€æ”¯æŒç‰¹æ•ˆå­—å¹•ï¼ˆç”µå½±åŠ¨æ¼«çš„assç‰¹æ•ˆå­—å¹•éƒ½æ²¡å•¥é—®é¢˜ï¼‰ï¼Œä¸ä»…æ”¯æŒæœ¬åœ°æ’­æ”¾ï¼ŒåŒæ ·æ”¯æŒç½‘ç»œæ’­æ”¾ï¼ˆmpv é›†æˆäº† youtube-dlï¼‰ã€‚é‡ç‚¹æ˜¯ MPV å…·æœ‰å¤šç³»ç»Ÿå¹³å°æ”¯æŒã€å‘½ä»¤è¡Œã€è‡ªå®šä¹‰ã€GPU è§£ç ã€è„šæœ¬æ”¯æŒç­‰ç‰¹ç‚¹â€¦â€¦\nOSC ç•Œé¢ ç”±äºé»˜è®¤æƒ…å†µä¸‹ï¼ŒMPV æ’­æ”¾å™¨ç®€çº¦åˆ°è¿ GUI ç•Œé¢éƒ½æ²¡æœ‰æä¾›ï¼Œå› æ­¤éœ€è¦é€šè¿‡å‘½ä»¤è¡Œæˆ–é…ç½®æ–‡ä»¶è®¾ç½®ã€‚\nè™½ç„¶ MPV å¹¶æ²¡æœ‰æä¾›å®˜æ–¹çš„ GUI ç•Œé¢ï¼Œæ²¡æœ‰èœå•ï¼Œä½†å®ƒæä¾› OSC æ“ä½œç•Œé¢å’Œå¿«æ·é”®ç”¨äºæ“ä½œï¼Œåªè¦å…³è”å¥½æ–‡ä»¶æ ¼å¼ï¼Œä½¿ç”¨ mpv æ‰“å¼€è§†é¢‘åï¼Œä½¿ç”¨ä¸Šå…¶å®ä¹Ÿéå¸¸çš„ç®€å•æ–¹ä¾¿ã€‚\nå¿«æ·é”® æ“ä½œä¸»è¦é€šè¿‡é”®ç›˜å¿«æ·é”®ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰è°ƒæ•´ã€‚ä¸‹é¢ä»‹ç»ä¸€äº›å¸¸ç”¨çš„ mpv å¿«æ·é”®ï¼ˆæ›´å¤šçš„å¿«æ·é”®è¯·é˜…è¯»å®˜æ–¹å‚è€ƒæ‰‹å†Œï¼‰ã€‚\né¼ æ ‡æ“ä½œ\n   å¿«æ·é”® ä½œç”¨è¯´æ˜     é¼ æ ‡å·¦é”®åŒå‡» è¿›å…¥/é€€å‡ºå…¨å±   é¼ æ ‡å³é”®å•å‡» æš‚åœ/ç»§ç»­æ’­æ”¾   é¼ æ ‡æ»šè½® å¿«è¿›/å¿«é€€    æ’­æ”¾æ§åˆ¶\n   å¿«æ·é”®  ä½œç”¨è¯´æ˜     p Space æš‚åœã€ç»§ç»­æ’­æ”¾   / * å‡å°‘/å¢åŠ éŸ³é‡   9 0 å‡å°‘/å¢åŠ éŸ³é‡ï¼ˆæ•°å­—é”®ç›˜åŒºçš„9ã€0ä¸å¯ç”¨ï¼‰   m  é™éŸ³   â† â†’ å¿«é€€/å¿«è¿›5ç§’   â†‘ â†“ å¿«è¿›/å¿«é€€1åˆ†é’Ÿ   \u0026lt; \u0026gt; ä¸Šä¸€ä¸ª/ä¸‹ä¸€ä¸ªï¼ˆæ’­æ”¾åˆ—è¡¨ä¸­ï¼‰   Enter  ä¸‹ä¸€ä¸ªï¼ˆæ’­æ”¾åˆ—è¡¨ä¸­ï¼‰   l  è®¾å®š/æ¸…é™¤ A-Bå¾ªç¯ç‚¹   L  å¾ªç¯æ’­æ”¾   s  æˆªå±   q  åœæ­¢æ’­æ”¾å¹¶é€€å‡º   Q  ä¿å­˜å½“å‰æ’­æ”¾è¿›åº¦å¹¶é€€å‡ºï¼Œæ’­æ”¾åŒæ ·æ–‡ä»¶ä»ä¸Šæ¬¡ä¿å­˜è¿›åº¦ç»§ç»­æ’­æ”¾ã€‚    è§†é¢‘æ§åˆ¶\n   å¿«æ·é”® ä½œç”¨è¯´æ˜     _(ä¸‹åˆ’çº¿) å¾ªç¯åˆ‡æ¢å¯ç”¨è§†é¢‘è½¨   A å¾ªç¯åˆ‡æ¢è§†é¢‘ç”»é¢æ¯”ä¾‹   Alt+0 0.5å€æºè§†é¢‘ç”»é¢å¤§å°   Alt+1 1å€æºè§†é¢‘ç”»é¢å¤§å°   Alt+2 2å€æºè§†é¢‘ç”»é¢å¤§å°    éŸ³é¢‘æ§åˆ¶\n   å¿«æ·é”®  ä½œç”¨è¯´æ˜     #  å¾ªç¯åˆ‡æ¢å¯ç”¨éŸ³é¢‘è½¨   Ctrl + Ctrl - éŸ³è½¨å»¶è¿Ÿ+/- 0.1ç§’    å­—å¹•æ§åˆ¶\n   å¿«æ·é”®  ä½œç”¨è¯´æ˜     V  å…³é—­/å¼€å¯å­—å¹•   j J å¾ªç¯åˆ‡æ¢å¯ç”¨å­—å¹•è½¨   x z å­—å¹•å»¶è¿Ÿ +/- 0.1ç§’   r t ä¸Šç§»/ä¸‹ç§»å­—å¹•ä½ç½®    çª—å£æ§åˆ¶\n   å¿«æ·é”® ä½œç”¨è¯´æ˜     T çª—å£å§‹ç»ˆç½®é¡¶   f è¿›å…¥/é€€å‡ºå…¨å±   ESC é€€å‡ºå…¨å±    é…ç½® å› ä¸ºmpvæœ¬èº«ä¸å…·æœ‰å›¾å½¢åŒ–å‰ç«¯ï¼Œç»å¤§å¤šæ•°çš„è®¾ç½®é€‰é¡¹éƒ½æ˜¯é åœ¨ä¸»è®¾ç½®æ–‡ä»¶ ~/.config/mpv/mpv.conf ä¸­è¾“å…¥å‚æ•°å®ç°çš„ã€‚\n## éƒ¨åˆ†é€‰é¡¹ä¹‹é—´æœ‰å…³è”ä½œç”¨ï¼ŒMPVè¯»å–å‚æ•°æ—¶ç”±ä¸Šå¾€ä¸‹è¯»ï¼Œæ‰€ä»¥æ³¨æ„ä¹¦å†™é€šç”¨å‚æ•°çš„é¡ºåºï¼Œå¯æŸ¥çœ‹æ‰‹å†Œ[02]çš„é¡ºåºé€»è¾‘éƒ¨åˆ†çš„é”™è¯¯ç¤ºèŒƒ ## åŸºç¡€ ## # è§†é¢‘ç¡¬ä»¶è§£ç APIé€‰æ‹© # å› ç³»ç»Ÿç¯å¢ƒã€æ˜¾å¡ã€é©±åŠ¨ç­‰å·®å¼‚ç¡¬ä»¶è§£ç APIæ–¹å¼ï¼ˆé˜…è¯»å®˜æ–¹å‚è€ƒæ‰‹å†ŒæŸ¥è¯¢ï¼‰å„æœ‰ä¸åŒï¼Œå»ºè®®å®é™…æµ‹è¯•éªŒè¯åå†å¡«å…¥å¯ç”¨APIã€‚ # é»˜è®¤å€¼ä¸º noï¼ˆä½¿ç”¨è½¯ä»¶è§£ç ï¼‰ï¼Œauto ä¸ºè‡ªåŠ¨ã€‚ hwdec=auto # å°½å¯èƒ½æ‰€æœ‰æ ¼å¼å…ˆå°è¯•ä¸Šé¢æŒ‡å®šè§†é¢‘ç¡¬ä»¶è§£ç API #hwdec-codecs=all  # è¾“å‡ºlogï¼Œ # ~~/ æ„æ€æ˜¯ mpv config dir(for example ~/.config/mpv/) log-file=\u0026#34;~~/mpv.log\u0026#34; ## åŠŸèƒ½ ## # --fs ç­‰æ•ˆ --fullscreenã€‚è¿è¡ŒMPVè‡ªåŠ¨è¿›å…¥å…¨å± #fs=yes  # é»˜è®¤ä¸ºç³»ç»ŸåŸç”Ÿçª—å£ç•Œé¢ï¼Œå¯ç”¨æ­¤é¡¹ä½¿ç”¨æ— è¾¹æ¡†ç•Œé¢ #border=no # çª—å£ç½®é¡¶ #ontop=yes  # çª—å£æ¨¡å¼ä¸‹æœ€å¤§å å±å¹•çš„ç™¾åˆ†æ¯” # ä¾‹å¦‚åœ¨FHDå±ä¸Šæ‰“å¼€4kè§†é¢‘åˆå§‹çª—å£è¿‡å¤§ #autofit-larger=80%x80%  # çª—å£æ¨¡å¼ä¸‹æœ€å°å å±å¹•çš„ç™¾åˆ†æ¯” # ä¾‹å¦‚åœ¨4kå±ä¸Šæ‰“å¼€720pè§†é¢‘åˆå§‹çª—å£è¿‡å° #autofit-smaller=50%x50%  # é»˜è®¤yesï¼Œé»˜è®¤æƒ…å†µä¸‹MPVçš„çª—å£æ¯”ä¾‹é”å®šä¸ºè§†é¢‘æ¯”ä¾‹ã€‚å¯ç”¨æ­¤é¡¹ä»¥å®ç°çª—å£è‡ªç”±æ‹‰ä¼¸è¡Œä¸º # å½“ keepaspect=yes æ—¶å››å‘¨å¡«å……é»‘è¾¹ # keepaspect-window=no  # ä»¥æš‚åœçŠ¶æ€å¯åŠ¨æ’­æ”¾å™¨ #pause=yes  # å§‹ç»ˆå¾ªç¯æ’­æ”¾å½“å‰æ–‡ä»¶\u0026lt;N|inf|no\u0026gt; #loop=inf  # æ’­æ”¾åˆ—è¡¨å¾ªç¯\u0026lt;N|inf|force|no\u0026gt; #loop-playlist=no  # é»˜è®¤æƒ…å†µä¸‹æ’­å®Œåˆ—è¡¨æ‰€æœ‰æ–‡ä»¶MPVè‡ªåŠ¨å…³é—­ï¼Œè®¾ç½®ä¸º yes æ‰€æœ‰æ’­æ”¾å®Œæ¯•ä¸é€€å‡ºï¼Œè®¾ç½®ä¸º always å¯ä»¥å®ç°ç±»ä¼¼â€œæ¯ä¸ªæ–‡ä»¶æ’­å®Œéƒ½æš‚åœâ€çš„æ•ˆæœ\u0026lt;yes|é»˜è®¤no|always\u0026gt;  keep-open=yes # é€€å‡ºæ—¶è®°ä½æ’­æ”¾çŠ¶æ€ã€‚ç¼“å­˜ç›®å½•é»˜è®¤åœ¨è®¾ç½®æ–‡ä»¶å¤¹ä¸­çš„ \u0026#34;watch_later\u0026#34; save-position-on-quit=yes # æ’­æ”¾ç½‘ç»œè§†é¢‘æ—¶çš„å‘åç¼“å­˜å¤§å°ï¼ˆKiBæˆ–MiBï¼‰ demuxer-max-bytes=20MiB ## OSD ## ## OSD å³ On-Screen-Display ï¼Œé€šå¸¸ä¸ºå±å¹•ä¸Šå¼¹å‡ºæ˜¾ç¤ºçš„ä¿¡æ¯ã€‚  ## OSC å³ on-screen-controller ï¼ŒMPVä¸­æŒ‡çš„æ˜¯ç®€æ˜“æ“æ§ç•Œé¢ # \u0026lt;no,bar,msg,msg-bar\u0026gt; åœ¨è·³è½¬æ—¶é—´è½´æ—¶æ˜¾ç¤ºçš„ä¿¡æ¯ç±»å‹ osd-on-seek=msg-bar # æ›´æ”¹OSDå­—ä½“å¤§å°ï¼ˆå…¨å±€ï¼Œå½±å“å¤šä¸ªåŠŸèƒ½æ˜¾ç¤ºçš„æ–‡æœ¬ï¼‰ï¼ˆé»˜è®¤å€¼ï¼š55ï¼‰ #osd-font-size=40  # ä»¥ç§’ä¸ºå•ä½æ˜¾ç¤ºOSDæ—¶é—´ï¼ˆæ¯«ç§’ç²¾åº¦ï¼‰ï¼Œæœ‰åŠ©äºæŸ¥çœ‹è§†é¢‘å¸§çš„ç¡®åˆ‡æ—¶é—´æˆ³ osd-fractions=yes # å¼€å§‹æ’­æ”¾æ—¶çŸ­æš‚æ˜¾ç¤ºçš„ä¿¡æ¯ï¼šæ–‡ä»¶å osd-playing-msg=\u0026#34;${filename}\u0026#34; # è®¾ç½®OSDæ–‡æœ¬ä¿¡æ¯çš„æŒç»­æ—¶é—´ï¼ˆæ¯«ç§’ï¼‰ï¼ˆé»˜è®¤å€¼ï¼š1000ï¼‰ osd-duration=2000 ## éŸ³é¢‘ ## # æœ€å¤§éŸ³é‡ã€‚é»˜è®¤å€¼130ï¼ˆ130çš„å“åº¦çº¦ä¸º100çš„ä¸¤å€ï¼‰\u0026lt;100.0-1000.0\u0026gt; volume-max=120 # æ’­æ”¾å™¨å¯åŠ¨éŸ³é‡ã€‚0ä¸ºé™éŸ³ï¼Œé»˜è®¤100 #volume=100  # è‡ªåŠ¨åŠ è½½åŒåå¤–æŒ‚éŸ³è½¨ï¼ˆfuzzyä¸ºæ¨¡ç³Šåï¼Œexactä¸ºç²¾ç¡®åï¼‰\u0026lt;é»˜è®¤no|exact|fuzzy|all\u0026gt;  audio-file-auto=fuzzy ## è§†é¢‘ ## # å¦‚æœåšè¿‡ä¸“ä¸šæ ¡è‰²åº”å¼€å¯ï¼ˆç³»ç»Ÿç›®å½•å­˜åœ¨å¯¹åº”çš„icmæ ¡è‰²æ–‡æ¡£ï¼‰ã€‚æœªåšæ ¡è‰²çš„å¹¿è‰²åŸŸå±åº”æ‰‹åŠ¨æŒ‡å®š --target-prim=\u0026lt;value\u0026gt; #icc-profile-auto=yes  ## è„šæœ¬ æ»¤é•œ ç€è‰²å™¨ ## ## å†…ç½®è„šæœ¬å¼€å…³ï¼ˆå¦‚æœæ²¡æœ‰å¿…è¦çš„ç›®çš„ï¼Œé‚£å°±ä¸è¦å±è”½mpvå†…å»ºçš„åŠŸèƒ½ # æ§åˆ¶å° #load-osd-console=no # ç»Ÿè®¡ä¿¡æ¯ #load-stats-overlay=no  ## å­—å¹• ## # è‡ªåŠ¨åŠ è½½å½“å‰æ’­æ”¾æ–‡ä»¶çš„åŒåå¤–æŒ‚å­—å¹• sub-auto=fuzzy # åœ¨æŒ‡å®šçš„é¢å¤–ç›®å½•ä¸­å¯»æ‰¾åŒ¹é…çš„å­—å¹•ï¼Œæ”¯æŒç›¸å¯¹å’Œç»å¯¹è·¯å¾„ã€‚ # ç¤ºä¾‹å³è‡ªåŠ¨æœç´¢å½“å‰æ–‡ä»¶è·¯å¾„ä¸‹åä¸º\u0026#34;sub\u0026#34;,\u0026#34;subtitles\u0026#34;,\u0026#34;å­—å¹•\u0026#34;å’ŒCç›˜çš„\u0026#34;å­—å¹•åº“\u0026#34;æ–‡ä»¶å¤¹å†… #sub-file-paths=sub;subtitles;å­—å¹•;C:/å­—å¹•åº“ # å­—å¹•é¦–é€‰è¯­è¨€ä¸ºä¸­æ–‡ï¼Œä½†MPVä¼˜å…ˆåŠ è½½å¤–æŒ‚è½¨é“ï¼Œæ­¤é¡¹å‚æ•°å¯èƒ½å®é™…ç”¨å¤„ä¸å¤§ slang=chs,sc,zh,chi,zho # åœ¨æ’å€¼å’Œé¢œè‰²ç®¡ç†ä¹‹å‰ï¼Œå°†å­—å¹•æ··åˆåˆ°è§†é¢‘å¸§ä¸Š\u0026lt;yes|video|é»˜è®¤no\u0026gt;ã€‚å€¼videoç±»ä¼¼äºyesï¼Œä½†æ˜¯ä»¥è§†é¢‘çš„åŸå§‹åˆ†è¾¨ç‡ç»˜åˆ¶å­—å¹•ï¼Œå¹¶ä¸è§†é¢‘ä¸€èµ·ç¼©æ”¾ # å¯ç”¨æ­¤åŠŸèƒ½ä¼šå°†å­—å¹•é™åˆ¶åœ¨è§†é¢‘çš„å¯è§éƒ¨åˆ†ï¼ˆä¸èƒ½å‡ºç°åœ¨è§†é¢‘ä¸‹æ–¹çš„é»‘è‰²ç©ºç™½å¤„ï¼‰ # è¿˜ä¼šè®©å­—å¹•å— --icc-profile --target-prim --target-trc --interpolation --gamma-factor --glsl-shaders çš„å½±å“ # ä¸ --interpolation ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œå¯æé«˜å­—å¹•æ¸²æŸ“æ€§èƒ½  #blend-subtitles=video  # [å½“ --blend-subtitles=yes/video æ—¶æ— æ•ˆ] ä½¿ASSå­—å¹•å°½å¯èƒ½è¾“å‡ºåœ¨é»‘è¾¹ä¸Š sub-ass-force-margins=yes ## æˆªå›¾ ## ## ä»¥ä¸‹é¢„è®¾å‚æ•°åªæ˜¯ä¸ºäº†æˆªå–æœ€é«˜è´¨é‡çš„å›¾ç‰‡ï¼ˆé«˜è´¨é‡æˆªå›¾å¤„ç†æ•ˆç‡è¾ƒä½ï¼‰ # \u0026lt;é»˜è®¤ jpg|png|webp\u0026gt; screenshot-format=png # JPEGçš„æœ€é«˜è´¨é‡ï¼Œé»˜è®¤ä¸º90\u0026lt;0-100\u0026gt;  #screenshot-jpeg-quality=100  # ç”¨ä¸æºè§†é¢‘ç›¸åŒçš„è‰²åº¦åŠé‡‡æ ·å†™å…¥JPEGï¼Œé»˜è®¤yes #screenshot-jpeg-source-chroma=yes  # PNGå‹ç¼©ç­‰çº§ï¼Œè¿‡é«˜çš„ç­‰çº§å½±å“æ€§èƒ½ï¼Œé»˜è®¤ä¸º7\u0026lt;0-9\u0026gt;  #screenshot-png-compression=5  # PNGçš„å‹ç¼©è¿‡æ»¤å™¨ã€‚é»˜è®¤5å³å¯å®ç°æœ€ä½³å‹ç¼©ç‡\u0026lt;0-5\u0026gt;  #screenshot-png-filter=5  # ä½¿ç”¨é€‚å½“çš„è‰²å½©ç©ºé—´æ ‡è®°å±å¹•æˆªå›¾ï¼ˆå¹¶éæ‰€æœ‰æ ¼å¼å—æ”¯æŒï¼‰é»˜è®¤no #screenshot-tag-colorspace=yes  # ä¸»è¦å½±å“PNGï¼Œå°½å¯èƒ½ä½¿ç”¨å’Œè§†é¢‘è¾“å‡ºæ—¶ç›¸åŒçš„ä½æ·±ï¼Œé»˜è®¤yes #screenshot-high-bit-depth=yes # è‹¥ç›´æ¥åœ¨æ¨¡æ¿ä¸­è®¾ç½®è·¯å¾„ï¼Œæ­¤æ—¶æ— éœ€ --screenshot-directory screenshot-template=\u0026#34;MPV-%P-N%n\u0026#34; # æˆªå±æ–‡ä»¶ä¿å­˜è·¯å¾„ # ~/ æ„æ€æ˜¯ user home directory root (similar to shell, $HOME) screenshot-directory=\u0026#34;~/Pictures\u0026#34; Shotcut Shotcut is a free, open source, cross-platform video editor.\nDaVinci Resolve ä¸“ä¸šçš„å‰ªè¾‘ã€è°ƒè‰²ã€ç‰¹æ•ˆå’ŒéŸ³é¢‘åæœŸåˆ¶ä½œï¼\nMKVToolNix MKVToolNix is a set of tools to create, alter and inspect Matroska(mkv) files under Linux, other Unices and Windows.\nè½¨é“æå–æ¨¡å¼ï¼š\nmkvextract è¾“å…¥æ–‡ä»¶å tracks [é€‰é¡¹] TID1:ç›®æ ‡æ–‡ä»¶å1 [TID2:ç›®æ ‡æ–‡ä»¶å2 ...] TID:è¾“å‡ºæ–‡ä»¶å\tå¦‚æœè¾“å…¥æ–‡ä»¶ä¸­å­˜åœ¨ ID ä¸º TID çš„è½¨é“ï¼Œåˆ™å°†å…¶æå–ä¸ºæ–‡ä»¶ è¾“å‡ºæ–‡ä»¶åã€‚è½¨é“ ID ä¸ mkvmerge --identify æ–‡ä»¶ é€‰é¡¹æ‰€è¾“å‡ºçš„ç›¸åŒã€‚\n$ mkvextract \u0026#34;Another Movie.mkv\u0026#34; tracks 0:video.h265 \u0026#34;1:main audio.aac\u0026#34; VLC VLC is a free and open source cross-platform multimedia player and framework that plays most multimedia files, and various streaming protocols.\nDownload Aria2 Aria2æ˜¯ä¸€æ¬¾å¼€æºä¸‹è½½å·¥å…·ï¼Œå¯å¸®åŠ©ç®€åŒ–ä¸åŒè®¾å¤‡å’ŒæœåŠ¡å™¨ä¹‹é—´çš„ä¸‹è½½è¿‡ç¨‹ã€‚å®ƒæ”¯æŒç£åŠ›é“¾æ¥ã€BTç§å­ã€httpç­‰ç±»å‹çš„æ–‡ä»¶ä¸‹è½½ï¼Œä¸è¿…é›·ç›¸æ¯”ï¼ŒAria2æœ‰ç€ä¼˜ç§€çš„æ€§èƒ½åŠè¾ƒä½çš„èµ„æºå ç”¨ï¼Œæ¶æ„æœ¬èº«éå¸¸è½»å·§ï¼Œé€šå¸¸åªéœ€è¦4å…†å­—èŠ‚ï¼ˆHTTPä¸‹è½½ï¼‰åˆ°9å…†å­—èŠ‚ï¼ˆç”¨äºBitTorrentäº¤äº’ï¼‰ä¹‹é—´ã€‚æœ€é‡è¦çš„ä¸€ç‚¹æ˜¯Aria2å®Œå…¨å…è´¹ï¼\n$ sudo apt-get install aria2 ä¸‹è½½å®‰è£…å®Œæˆä¹‹åï¼Œå¯ä»¥é€šè¿‡è¾“å…¥ aria2c -v æ¥éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸã€‚\nUsage å‘½ä»¤è¡Œä½¿ç”¨\nä½¿ç”¨Aria2ä¸‹è½½æ–‡ä»¶ï¼Œåªéœ€åœ¨å‘½ä»¤åé™„åŠ åœ°å€å³å¯ï¼š\n$ aria2c URL ä¸‹è½½åä»¥å…¶ä»–åç§°ä¿å­˜æ–‡ä»¶\n$ aria2c -o fileName URL ä¸‹è½½å¤šä¸ªæ–‡ä»¶\n$ aria2c -Z URL URL ä»åˆ—è¡¨ä¸‹è½½æ–‡ä»¶ï¼š\n$ aria2c -i URLs.txt é™åˆ¶ä¸‹è½½é€Ÿåº¦ï¼š\n# å•ä¸ªæ–‡ä»¶ aria2c â€“max-download-limit=500k URL # å…¨å±€ aria2c â€“max-overall-download-limit=500k URL æ–­ç‚¹ç»­ä¼ ï¼š\n$ aria2c -c URL ä¸‹è½½ç£åŠ›é“¾æ¥æ–‡ä»¶ï¼šè¦ä¸‹è½½ç£åŠ›é“¾æ¥æ–‡ä»¶ï¼Œå¦‚æœä¸‹è½½æ²¡æœ‰é€Ÿåº¦ï¼Œå¯ä»¥æ·»åŠ --bt-tracker=é€‰é¡¹ï¼Œtracker ä¸­ç”¨ , éš”å¼€ï¼š\n$ aria2c --bt-tracker=tracker,tracker torrent tracker æœåŠ¡å™¨ï¼š\n  trackerslistï¼štrackers_best (20 trackers) =\u0026gt; link / mirror / mirror 2\n  TrackersListCollectionï¼šBEST Tracker list (78 trackers)=\u0026gt; link / mirror\n  ä¸­å›½å¯ç”¨çš„ BT Tracker æœåŠ¡å™¨åˆ—è¡¨\n  å°†å¤šè¡Œæ–‡æœ¬è½¬æ¢æˆä¸€è¡Œå¹¶ç”¨é€—å·éš”å¼€\n$ cat tracker | xargs | tr \u0026#39; \u0026#39; \u0026#39;,\u0026#39;   åˆ†æ®µä¸‹è½½ï¼šå¯ä»¥åŠ å¿«æ–‡ä»¶çš„ä¸‹è½½é€Ÿåº¦ï¼Œå¯¹äºä¸‹è½½å¤§æ–‡ä»¶æ—¶ç‰¹åˆ«æœ‰ç”¨ï¼Œ-s åé¢çš„å‚æ•°å€¼ä»‹äº1~5ä¹‹é—´ï¼Œä½ å¯ä»¥æ ¹æ®å®é™…æƒ…å†µé€‰æ‹©ã€‚ä¸‹é¢å‘½ä»¤å°†ä½¿ç”¨2è¿æ¥æ¥ä¸‹è½½è¯¥æ–‡ä»¶ï¼š\n$ aria2c -s 2 URL åå°ä¸‹è½½ï¼š\n$ aria2c -D url $ aria2c â€“deamon=true url éªŒè¯æ–‡ä»¶ï¼š\n$ aria2c â€“checksum=md5=æä¾›çš„md5 è®¾ç½®dhtç«¯å£ï¼š\n$ aria2c â€“dht-listen-port=1234 torrent ä¸‹è½½éœ€è¦å¼•ç”¨é¡µçš„æ–‡ä»¶ï¼š\n$ aria2c â€“referer=referurl URL ä¸‹è½½éœ€è¦CookieéªŒè¯çš„æ–‡ä»¶ï¼š\n$ aria2c â€“essay-header=â€™Cookie:key=valueâ€™ URL $ aria2c â€“load-cookies=cookieæ–‡ä»¶ URL ä»å¯†ç ä¿æŠ¤çš„ç½‘ç«™ä¸‹è½½ä¸€ä¸ªæ–‡ä»¶ï¼š\n$ aria2c --http-user=xxx --http-password=xxx URL $ aria2c --ftp-user=xxx --ftp-password=xxx URL æ³¨æ„ï¼šå½“æºåœ°å€å­˜åœ¨è¯¸å¦‚\u0026amp;,*ç­‰shellçš„ç‰¹æ®Šå­—ç¬¦ï¼Œè¯·ä½¿ç”¨å•å¼•å·æˆ–åŒå¼•å·æŠŠURIåŒ…å«èµ·æ¥ã€‚\nRPC Server æ¨¡å¼\nè¯¥æ¨¡å¼å¯ä»¥é…åˆ Web UI è¿›è¡Œå›¾å½¢ç®¡ç†ã€‚é»˜è®¤å¯åŠ¨æ˜¯ 6800 ç«¯å£ï¼Œæ€•åˆ«äººç›—ç”¨ï¼Œå¯ä»¥è®¾ç½®ç”¨æˆ·åå’Œå¯†ç (1.18.4ä»¥ä¸Šç‰ˆæœ¬æ”¯æŒå¯†é’¥)ã€‚\n$ aria2c --enable-rpc --rpc-listen-all --rpc-allow-origin-all -c --dir ~/Download Configurat ion é»˜è®¤æƒ…å†µä¸‹ï¼Œaria2 æ£€æŸ¥æ—§è·¯å¾„ $HOME/.aria2/aria2.conf æ˜¯å¦å­˜åœ¨ï¼Œå¦åˆ™å®ƒä¼šå°† $XDG_CONFIG_HOME/aria2/aria2.conf è§£æä¸ºå®ƒçš„é…ç½®æ–‡ä»¶ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨ --conf-path é€‰é¡¹æŒ‡å®šé…ç½®æ–‡ä»¶çš„è·¯å¾„ã€‚ å¦‚æœæ‚¨ä¸æƒ³ä½¿ç”¨é…ç½®æ–‡ä»¶ï¼Œè¯·ä½¿ç”¨ --no-conf é€‰é¡¹ã€‚\né…ç½®è¯¦è§£ï¼š\n# Description: Awesome Aria2 configuration file # Version: 2021.09.15 ## \u0026#39;#\u0026#39;å¼€å¤´ä¸ºæ³¨é‡Šå†…å®¹, é€‰é¡¹éƒ½æœ‰ç›¸åº”çš„æ³¨é‡Šè¯´æ˜, æ ¹æ®éœ€è¦ä¿®æ”¹ ## ## è¢«æ³¨é‡Šçš„é€‰é¡¹å¡«å†™çš„æ˜¯é»˜è®¤å€¼, å¦‚ä¸ºç©ºåˆ™æ— é»˜è®¤è®¾ç½®ï¼Œè¯·è‡ªè¡Œé€‰å–éœ€è¦æ›´æ”¹çš„æ·»åŠ åˆ°ä½ çš„é…ç½®æ–‡ä»¶ä¸­ ## ## æ–‡ä»¶ä¿å­˜è®¾ç½® ## # ä¸‹è½½è·¯å¾„(å¯ä½¿ç”¨ç»å¯¹è·¯å¾„æˆ–ç›¸å¯¹è·¯å¾„), é»˜è®¤: å½“å‰å¯åŠ¨ä½ç½® #dir= dir=/home/kurome/Downloads # ç£ç›˜ç¼“å­˜ # å¯ç”¨ç£ç›˜ç¼“å­˜. å¦‚æœè®¾ç½®ä¸º 0, å°†ç¦ç”¨ç£ç›˜ç¼“å­˜. æ­¤åŠŸèƒ½å°†ä¸‹è½½çš„æ•°æ®ç¼“å­˜åœ¨å†…å­˜ä¸­, æœ€å¤šå ç”¨æ­¤é€‰é¡¹è®¾ç½®çš„å­—èŠ‚æ•°. ç¼“å­˜å­˜å‚¨ç”± aria2 å®ä¾‹åˆ›å»ºå¹¶å¯¹æ‰€æœ‰ä¸‹è½½å…±äº«. ç”±äºæ•°æ®ä»¥è¾ƒå¤§çš„å•ä½å†™å…¥å¹¶æŒ‰æ–‡ä»¶çš„åç§»é‡æ–°æ’åº, æ‰€ä»¥ç£ç›˜ç¼“å­˜çš„ä¸€ä¸ªä¼˜ç‚¹æ˜¯å‡å°‘ç£ç›˜çš„ I/O. å¦‚æœè°ƒç”¨å“ˆå¸Œæ£€æŸ¥æ—¶å¹¶ä¸”æ•°æ®ç¼“å­˜åœ¨å†…å­˜ä¸­æ—¶, å°†ä¸éœ€è¦ä»ç£ç›˜ä¸­è¯»å–. å¤§å°å¯ä»¥åŒ…å« K æˆ– M (1K = 1024, 1M = 1024K). disk-cache=64M # æ–‡ä»¶é¢„åˆ†é…æ–¹å¼, å¯é€‰ï¼šnone, prealloc, trunc, falloc, é»˜è®¤:prealloc # é¢„åˆ†é…å¯¹äºæœºæ¢°ç¡¬ç›˜å¯æœ‰æ•ˆé™ä½ç£ç›˜ç¢ç‰‡ã€æå‡ç£ç›˜è¯»å†™æ€§èƒ½ã€å»¶é•¿ç£ç›˜å¯¿å‘½ã€‚ # æœºæ¢°ç¡¬ç›˜ä½¿ç”¨ ext4ï¼ˆå…·æœ‰æ‰©å±•æ”¯æŒï¼‰ï¼Œbtrfsï¼Œxfs æˆ– NTFSï¼ˆä»… MinGW ç¼–è¯‘ç‰ˆæœ¬ï¼‰ç­‰æ–‡ä»¶ç³»ç»Ÿå»ºè®®è®¾ç½®ä¸º falloc # è‹¥æ— æ³•ä¸‹è½½ï¼Œæç¤º fallocate failed.causeï¼šOperation not supported åˆ™è¯´æ˜ä¸æ”¯æŒï¼Œè¯·è®¾ç½®ä¸º none # prealloc åˆ†é…é€Ÿåº¦æ…¢, trunc æ— å®é™…ä½œç”¨ï¼Œä¸æ¨èä½¿ç”¨ã€‚ # å›ºæ€ç¡¬ç›˜ä¸éœ€è¦é¢„åˆ†é…ï¼Œåªå»ºè®®è®¾ç½®ä¸º none ï¼Œå¦åˆ™å¯èƒ½ä¼šå¯¼è‡´åŒå€æ–‡ä»¶å¤§å°çš„æ•°æ®å†™å…¥ï¼Œä»è€Œå½±å“å¯¿å‘½ã€‚ file-allocation=none # æ–‡ä»¶åˆ†é…é™åˆ¶ # ä¸å¯¹æ¯”æ­¤å‚æ•°è®¾ç½®å¤§å°å°çš„åˆ†é…æ–‡ä»¶. æ‚¨å¯ä»¥å¢åŠ æ•°å€¼çš„å•ä½ K æˆ– M (1K = 1024, 1M = 1024K). no-file-allocation-limit=64M # æ–­ç‚¹ç»­ä¼  # ç»§ç»­ä¸‹è½½éƒ¨åˆ†å®Œæˆçš„æ–‡ä»¶. å¯ç”¨æ­¤é€‰é¡¹å¯ä»¥ç»§ç»­ä¸‹è½½ä»æµè§ˆå™¨æˆ–å…¶ä»–ç¨‹åºæŒ‰é¡ºåºä¸‹è½½çš„æ–‡ä»¶. æ­¤é€‰é¡¹ç›®å‰åªæ”¯æŒ HTTP(S)/FTP ä¸‹è½½çš„æ–‡ä»¶. continue=true # å§‹ç»ˆæ–­ç‚¹ç»­ä¼  # å§‹ç»ˆæ–­ç‚¹ç»­ä¼ . å¦‚æœè®¾ç½®ä¸º\u0026#34;æ˜¯\u0026#34;, aria2 å§‹ç»ˆå°è¯•æ–­ç‚¹ç»­ä¼ , å¦‚æœæ— æ³•æ¢å¤, åˆ™ä¸­æ­¢ä¸‹è½½. å¦‚æœè®¾ç½®ä¸º\u0026#34;å¦\u0026#34;, å¯¹äºä¸æ”¯æŒæ–­ç‚¹ç»­ä¼ çš„ URI æˆ– aria2 é‡åˆ° N ä¸ªä¸æ”¯æŒæ–­ç‚¹ç»­ä¼ çš„ URI (N ä¸º --max-resume-failure-tries é€‰é¡¹è®¾ç½®çš„å€¼), aria2 ä¼šä»å¤´ä¸‹è½½æ–‡ä»¶. å‚è§ --max-resume-failure-tries å‚æ•°. always-resume=false # æœ€å¤§æ–­ç‚¹ç»­ä¼ å°è¯•æ¬¡æ•° # å½“ --always-resume é€‰é¡¹è®¾ç½®ä¸º\u0026#34;å¦\u0026#34;æ—¶, å¦‚æœ aria2 æ£€æµ‹åˆ°æœ‰ N ä¸ª URI ä¸æ”¯æŒæ–­ç‚¹ç»­ä¼ æ—¶, å°†ä»å¤´å¼€å§‹ä¸‹è½½æ–‡ä»¶. å¦‚æœ N è®¾ç½®ä¸º 0, å½“æ‰€æœ‰ URI éƒ½ä¸æ”¯æŒæ–­ç‚¹ç»­ä¼ æ—¶æ‰ä¼šä»å¤´ä¸‹è½½æ–‡ä»¶. å‚è§ --always-resume é€‰é¡¹. max-resume-failure-tries=0 # è·å–æœåŠ¡å™¨æ–‡ä»¶æ—¶é—´ # ä» HTTP/FTP æœåŠ¡è·å–è¿œç¨‹æ–‡ä»¶çš„æ—¶é—´æˆ³, å¦‚æœå¯ç”¨å°†è®¾ç½®åˆ°æœ¬åœ°æ–‡ä»¶ remote-time=true ## è¿›åº¦ä¿å­˜è®¾ç½® ## # ä»ä¼šè¯æ–‡ä»¶ä¸­è¯»å–ä¸‹è½½ä»»åŠ¡ input-file=/home/kurome/.aria2/aria2.session # ä¼šè¯æ–‡ä»¶ä¿å­˜è·¯å¾„ # å½“é€€å‡ºæ—¶ä¿å­˜é”™è¯¯åŠæœªå®Œæˆçš„ä»»åŠ¡åˆ°æŒ‡å®šçš„æ–‡ä»¶ä¸­. å¿…é¡»ç”¨ç»å¯¹è·¯å¾„ # æ‚¨å¯ä»¥åœ¨é‡å¯ aria2 æ—¶ä½¿ç”¨ --input-file é€‰é¡¹é‡æ–°åŠ è½½. å¦‚æœæ‚¨å¸Œæœ›è¾“å‡ºçš„å†…å®¹ä½¿ç”¨ GZip å‹ç¼©, æ‚¨å¯ä»¥åœ¨æ–‡ä»¶ååå¢åŠ  .gz æ‰©å±•å. è¯·æ³¨æ„, é€šè¿‡ aria2.addTorrent() å’Œ aria2.addMetalink() RPC æ–¹æ³•æ·»åŠ çš„ä¸‹è½½, å…¶å…ƒæ•°æ®æ²¡æœ‰ä¿å­˜åˆ°æ–‡ä»¶çš„å°†ä¸ä¼šä¿å­˜. é€šè¿‡ aria2.remove() å’Œ aria2.forceRemove() åˆ é™¤çš„ä¸‹è½½å°†ä¸ä¼šä¿å­˜. #save-session= save-session=/home/kurome/.aria2/aria2.session # ä»»åŠ¡çŠ¶æ€æ”¹å˜åä¿å­˜ä¼šè¯çš„é—´éš”æ—¶é—´ï¼ˆç§’ï¼‰, 0 ä¸ºä»…åœ¨è¿›ç¨‹æ­£å¸¸é€€å‡ºæ—¶ä¿å­˜, é»˜è®¤:0 # ä¸ºäº†åŠæ—¶ä¿å­˜ä»»åŠ¡çŠ¶æ€ã€é˜²æ­¢ä»»åŠ¡ä¸¢å¤±ï¼Œæ­¤é¡¹å€¼åªå»ºè®®è®¾ç½®ä¸º 1 save-session-interval=1 # è‡ªåŠ¨ä¿å­˜ä»»åŠ¡è¿›åº¦åˆ°æ§åˆ¶æ–‡ä»¶(*.aria2)çš„é—´éš”æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œ0 ä¸ºä»…åœ¨è¿›ç¨‹æ­£å¸¸é€€å‡ºæ—¶ä¿å­˜ï¼Œé»˜è®¤ï¼š60 # ä¸è®ºè®¾ç½®çš„å€¼ä¸ºå¤šå°‘, aria2 ä¼šåœ¨ä»»åŠ¡ç»“æŸæ—¶ä¿å­˜æ§åˆ¶æ–‡ä»¶. å¯ä»¥è®¾ç½®çš„å€¼ä¸º 0 åˆ° 600. # æ­¤é¡¹å€¼ä¹Ÿä¼šé—´æ¥å½±å“ä»å†…å­˜ä¸­æŠŠç¼“å­˜çš„æ•°æ®å†™å…¥ç£ç›˜çš„é¢‘ç‡ # æƒ³é™ä½ç£ç›˜ IOPS (æ¯ç§’è¯»å†™æ¬¡æ•°)åˆ™æé«˜é—´éš”æ—¶é—´ # æƒ³åœ¨æ„å¤–éæ­£å¸¸é€€å‡ºæ—¶å°½é‡ä¿å­˜æ›´å¤šçš„ä¸‹è½½è¿›åº¦åˆ™é™ä½é—´éš”æ—¶é—´ # éæ­£å¸¸é€€å‡ºï¼šè¿›ç¨‹å´©æºƒã€ç³»ç»Ÿå´©æºƒã€SIGKILL ä¿¡å·ã€è®¾å¤‡æ–­ç”µç­‰ auto-save-interval=20 # å¼ºåˆ¶ä¿å­˜ï¼Œå³ä½¿ä»»åŠ¡å·²å®Œæˆä¹Ÿä¿å­˜ä¿¡æ¯åˆ°ä¼šè¯æ–‡ä»¶, é»˜è®¤:false # å³ä½¿ä»»åŠ¡å®Œæˆæˆ–åˆ é™¤æ—¶ä½¿ç”¨ --save-session é€‰é¡¹æ—¶ä¹Ÿä¿å­˜è¯¥ä»»åŠ¡. æ­¤é€‰é¡¹åœ¨è¿™ç§æƒ…å†µä¸‹è¿˜ä¼šä¿å­˜æ§åˆ¶æ–‡ä»¶. æ­¤é€‰é¡¹å¯ä»¥ä¿å­˜è¢«è®¤ä¸ºå·²ç»å®Œæˆä½†æ­£åœ¨åšç§çš„ BT ä»»åŠ¡. # å¼€å¯åä¼šåœ¨ä»»åŠ¡å®Œæˆåä¿ç•™ .aria2 æ–‡ä»¶ï¼Œæ–‡ä»¶è¢«ç§»é™¤ä¸”ä»»åŠ¡å­˜åœ¨çš„æƒ…å†µä¸‹é‡å¯åä¼šé‡æ–°ä¸‹è½½ã€‚ # å…³é—­åå·²å®Œæˆçš„ä»»åŠ¡åˆ—è¡¨ä¼šåœ¨é‡å¯åæ¸…ç©ºã€‚ force-save=false ## ä¸‹è½½è¿æ¥è®¾ç½® ## # æ–‡ä»¶æœªæ‰¾åˆ°é‡è¯•æ¬¡æ•° # å¦‚æœ aria2 ä»è¿œç¨‹ HTTP/FTP æœåŠ¡å™¨æ”¶åˆ° \u0026#34;æ–‡ä»¶æœªæ‰¾åˆ°\u0026#34; çš„çŠ¶æ€è¶…è¿‡æ­¤é€‰é¡¹è®¾ç½®çš„æ¬¡æ•°åä¸‹è½½å°†ä¼šå¤±è´¥. è®¾ç½®ä¸º 0 å°†ä¼šç¦ç”¨æ­¤é€‰é¡¹. æ­¤é€‰é¡¹ä»…å½±å“ HTTP/FTP æœåŠ¡å™¨. é‡è¯•æ—¶åŒæ—¶ä¼šè®°å½•é‡è¯•æ¬¡æ•°, æ‰€ä»¥ä¹Ÿéœ€è¦è®¾ç½® --max-tries è¿™ä¸ªé€‰é¡¹. max-file-not-found=10 # æœ€å¤§å°è¯•æ¬¡æ•° # è®¾ç½®æœ€å¤§å°è¯•æ¬¡æ•°. 0 è¡¨ç¤ºä¸é™åˆ¶ï¼Œé»˜è®¤:5 max-tries=0 # é‡è¯•ç­‰å¾…æ—¶é—´, é»˜è®¤:0 (ç¦ç”¨) # è®¾ç½®é‡è¯•é—´éš”æ—¶é—´(ç§’). å½“æ­¤é€‰é¡¹çš„å€¼å¤§äº 0 æ—¶, aria2 åœ¨ HTTP æœåŠ¡å™¨è¿”å› 503 å“åº”æ—¶å°†ä¼šé‡è¯•. retry-wait=10 # è¿æ¥è¶…æ—¶æ—¶é—´ # è®¾ç½®å»ºç«‹ HTTP/FTP/ä»£ç†æœåŠ¡å™¨ è¿æ¥çš„è¶…æ—¶æ—¶é—´(ç§’). å½“è¿æ¥å»ºç«‹å, æ­¤é€‰é¡¹ä¸å†ç”Ÿæ•ˆ, è¯·ä½¿ç”¨ --timeout é€‰é¡¹. connect-timeout=10 # è¶…æ—¶æ—¶é—´ã€‚é»˜è®¤ï¼š60 timeout=10 # æœ€å¤§åŒæ—¶ä¸‹è½½ä»»åŠ¡æ•°, è¿è¡Œæ—¶å¯ä¿®æ”¹, é»˜è®¤:5 max-concurrent-downloads=5 # å•æœåŠ¡å™¨æœ€å¤§è¿æ¥çº¿ç¨‹æ•°, ä»»åŠ¡æ·»åŠ æ—¶å¯æŒ‡å®š, é»˜è®¤:1 # æœ€å¤§å€¼ä¸º 16 (å¢å¼ºç‰ˆæ— é™åˆ¶), ä¸”å—é™äºå•ä»»åŠ¡æœ€å¤§è¿æ¥çº¿ç¨‹æ•°(split)æ‰€è®¾å®šçš„å€¼ã€‚ max-connection-per-server=16 # å•ä»»åŠ¡æœ€å¤§è¿æ¥çº¿ç¨‹æ•°, ä»»åŠ¡æ·»åŠ æ—¶å¯æŒ‡å®š, é»˜è®¤:5 # ä¸‹è½½æ—¶ä½¿ç”¨ N ä¸ªè¿æ¥. å¦‚æœæä¾›è¶…è¿‡ N ä¸ª URI åœ°å€, åˆ™ä½¿ç”¨å‰ N ä¸ªåœ°å€, å‰©ä½™çš„åœ°å€å°†ä½œä¸ºå¤‡ç”¨. å¦‚æœæä¾›çš„ URI åœ°å€ä¸è¶³ N ä¸ª, è¿™äº›åœ°å€å¤šæ¬¡ä½¿ç”¨ä»¥ä¿è¯åŒæ—¶å»ºç«‹ N ä¸ªè¿æ¥. åŒä¸€æœåŠ¡å™¨çš„è¿æ¥æ•°ä¼šè¢« --max-connection-per-server é€‰é¡¹é™åˆ¶. split=64 # æ–‡ä»¶æœ€å°åˆ†æ®µå¤§å°, æ·»åŠ æ—¶å¯æŒ‡å®š, é»˜è®¤:20M # aria2 ä¸ä¼šåˆ†å‰²å°äº 2*SIZE å­—èŠ‚çš„æ–‡ä»¶. ä¾‹å¦‚, æ–‡ä»¶å¤§å°ä¸º 20MB, å¦‚æœ SIZE ä¸º 10M, aria2 ä¼šæŠŠæ–‡ä»¶åˆ†æˆ 2 æ®µ [0-10MB) å’Œ [10MB-20MB), å¹¶ä¸”ä½¿ç”¨ 2 ä¸ªæºè¿›è¡Œä¸‹è½½ (å¦‚æœ --split \u0026gt;= 2). å¦‚æœ SIZE ä¸º 15M, ç”±äº 2*15M \u0026gt; 20MB, å› æ­¤ aria2 ä¸ä¼šåˆ†å‰²æ–‡ä»¶å¹¶ä½¿ç”¨ 1 ä¸ªæºè¿›è¡Œä¸‹è½½. æ‚¨å¯ä»¥å¢åŠ æ•°å€¼çš„å•ä½ K æˆ– M (1K = 1024, 1M = 1024K). å¯ä»¥è®¾ç½®çš„å€¼ä¸º: 1M-1024M. # ç†è®ºä¸Šå€¼è¶Šå°ä½¿ç”¨ä¸‹è½½åˆ†æ®µå°±è¶Šå¤šï¼Œæ‰€èƒ½è·å¾—çš„å®é™…çº¿ç¨‹æ•°å°±è¶Šå¤§ï¼Œä¸‹è½½é€Ÿåº¦å°±è¶Šå¿«ï¼Œä½†å—é™äºæ‰€ä¸‹è½½æ–‡ä»¶æœåŠ¡å™¨çš„ç­–ç•¥ã€‚ min-split-size=4M # æ–‡ä»¶åˆ†ç‰‡å¤§å°ï¼Œæœ€å°å€¼ä¸º 1Mï¼Œé»˜è®¤ï¼š1M # è®¾ç½® HTTP/FTP ä¸‹è½½çš„åˆ†é…å¤§å°. aria2 æ ¹æ®è¿™ä¸ªè¾¹ç•Œåˆ†å‰²æ–‡ä»¶. æ‰€æœ‰çš„åˆ†å‰²éƒ½æ˜¯è¿™ä¸ªé•¿åº¦çš„å€æ•°. æ­¤é€‰é¡¹ä¸é€‚ç”¨äº BitTorrent ä¸‹è½½. å¦‚æœ Metalink æ–‡ä»¶ä¸­åŒ…å«åˆ†ç‰‡å“ˆå¸Œçš„ç»“æœæ­¤é€‰é¡¹ä¹Ÿä¸é€‚ç”¨. piece-length=1M # å…è®¸åˆ†ç‰‡å¤§å°å˜åŒ–ã€‚é»˜è®¤ï¼šfalse # å¦‚æœè®¾ç½®ä¸º\u0026#34;å¦\u0026#34;, å½“åˆ†ç‰‡é•¿åº¦ä¸æ§åˆ¶æ–‡ä»¶ä¸­çš„ä¸åŒæ—¶, aria2 å°†ä¼šä¸­æ­¢ä¸‹è½½. å¦‚æœè®¾ç½®ä¸º\u0026#34;æ˜¯\u0026#34;, æ‚¨å¯ä»¥ç»§ç»­, ä½†éƒ¨åˆ†ä¸‹è½½è¿›åº¦å°†ä¼šä¸¢å¤±. allow-piece-length-change=true # åˆ†ç‰‡é€‰æ‹©ç®—æ³• # æŒ‡å®š HTTP/FTP ä¸‹è½½ä½¿ç”¨çš„åˆ†ç‰‡é€‰æ‹©ç®—æ³•. åˆ†ç‰‡è¡¨ç¤ºçš„æ˜¯å¹¶è¡Œä¸‹è½½æ—¶å›ºå®šé•¿åº¦çš„åˆ†éš”æ®µ. å¦‚æœè®¾ç½®ä¸º\u0026#34;é»˜è®¤\u0026#34;, aria2 å°†ä¼šæŒ‰å‡å°‘å»ºç«‹è¿æ¥æ•°é€‰æ‹©åˆ†ç‰‡. ç”±äºå»ºç«‹è¿æ¥æ“ä½œçš„æˆæœ¬è¾ƒé«˜, å› æ­¤è¿™æ˜¯åˆç†çš„é»˜è®¤è¡Œä¸º. å¦‚æœè®¾ç½®ä¸º\u0026#34;é¡ºåº\u0026#34;, aria2 å°†é€‰æ‹©ç´¢å¼•æœ€å°çš„åˆ†ç‰‡. ç´¢å¼•ä¸º 0 æ—¶è¡¨ç¤ºä¸ºæ–‡ä»¶çš„ç¬¬ä¸€ä¸ªåˆ†ç‰‡. è¿™å°†æœ‰åŠ©äºè§†é¢‘çš„è¾¹ä¸‹è¾¹æ’­. --enable-http-pipelining é€‰é¡¹æœ‰åŠ©äºå‡å°‘é‡è¿æ¥çš„å¼€é”€. è¯·æ³¨æ„, aria2 ä¾èµ–äº --min-split-size é€‰é¡¹, æ‰€ä»¥æœ‰å¿…è¦å¯¹ --min-split-size é€‰é¡¹è®¾ç½®ä¸€ä¸ªåˆç†çš„å€¼. å¦‚æœè®¾ç½®ä¸º\u0026#34;éšæœº\u0026#34;, aria2 å°†éšæœºé€‰æ‹©ä¸€ä¸ªåˆ†ç‰‡. å°±åƒ\u0026#34;é¡ºåº\u0026#34;ä¸€æ ·, ä¾èµ–äº --min-split-size é€‰é¡¹. å¦‚æœè®¾ç½®ä¸º\u0026#34;å‡ ä½•\u0026#34;, aria2 ä¼šå…ˆé€‰æ‹©ç´¢å¼•æœ€å°çš„åˆ†ç‰‡, ç„¶åä¼šä¸ºä¹‹å‰é€‰æ‹©çš„åˆ†ç‰‡ä¿ç•™æŒ‡æ•°å¢é•¿çš„ç©ºé—´. è¿™å°†å‡å°‘å»ºç«‹è¿æ¥çš„æ¬¡æ•°, åŒæ—¶æ–‡ä»¶å¼€å§‹éƒ¨åˆ†å°†ä¼šå…ˆè¡Œä¸‹è½½. è¿™ä¹Ÿæœ‰åŠ©äºè§†é¢‘çš„è¾¹ä¸‹è¾¹æ’­. #stream-piece-selector=default # æœ€å°é€Ÿåº¦é™åˆ¶ # å½“ä¸‹è½½é€Ÿåº¦ä½äºæ­¤é€‰é¡¹è®¾ç½®çš„å€¼(B/s) æ—¶å°†ä¼šå…³é—­è¿æ¥. 0 è¡¨ç¤ºä¸è®¾ç½®æœ€å°é€Ÿåº¦é™åˆ¶. æ‚¨å¯ä»¥å¢åŠ æ•°å€¼çš„å•ä½ K æˆ– M (1K = 1024, 1M = 1024K). æ­¤é€‰é¡¹ä¸ä¼šå½±å“ BT ä¸‹è½½. lowest-speed-limit=0 # å…¨å±€æœ€å¤§ä¸‹è½½é€Ÿåº¦ # è®¾ç½®å…¨å±€æœ€å¤§ä¸‹è½½é€Ÿåº¦ (å­—èŠ‚/ç§’). 0 è¡¨ç¤ºä¸é™åˆ¶. æ‚¨å¯ä»¥å¢åŠ æ•°å€¼çš„å•ä½ K æˆ– M (1K = 1024, 1M = 1024K). max-overall-download-limit=0 # æœ€å¤§ä¸‹è½½é€Ÿåº¦ # è®¾ç½®æ¯ä¸ªä»»åŠ¡çš„æœ€å¤§ä¸‹è½½é€Ÿåº¦ (å­—èŠ‚/ç§’). 0 è¡¨ç¤ºä¸é™åˆ¶. æ‚¨å¯ä»¥å¢åŠ æ•°å€¼çš„å•ä½ K æˆ– M (1K = 1024, 1M = 1024K). max-download-limit=0 # ç¦ç”¨ IPv6, é»˜è®¤:false disable-ipv6=true # æ”¯æŒ GZip # å¦‚æœè¿œç¨‹æœåŠ¡å™¨çš„å“åº”å¤´ä¸­åŒ…å« Content-Encoding: gzip æˆ– Content-Encoding: deflate , å°†å‘é€åŒ…å« Accept: deflate, gzip çš„è¯·æ±‚å¤´å¹¶è§£å‹ç¼©å“åº”. http-accept-gzip=true # URI å¤ç”¨ # å½“æ‰€æœ‰ç»™å®šçš„ URI åœ°å€éƒ½å·²ä½¿ç”¨, ç»§ç»­ä½¿ç”¨å·²ç»ä½¿ç”¨è¿‡çš„ URI åœ°å€. reuse-uri=false # URI é€‰æ‹©ç®—æ³• # æŒ‡å®š URI é€‰æ‹©çš„ç®—æ³•. å¯é€‰çš„å€¼åŒ…æ‹¬ \u0026#34;æŒ‰é¡ºåº\u0026#34;, \u0026#34;åé¦ˆ\u0026#34; å’Œ \u0026#34;è‡ªé€‚åº”\u0026#34;. å¦‚æœè®¾ç½®ä¸º\u0026#34;æŒ‰é¡ºåº\u0026#34;, URI å°†æŒ‰åˆ—è¡¨ä¸­å‡ºç°çš„é¡ºåºä½¿ç”¨. å¦‚æœè®¾ç½®ä¸º\u0026#34;åé¦ˆ\u0026#34;, aria2 å°†æ ¹æ®ä¹‹å‰çš„ä¸‹è½½é€Ÿåº¦é€‰æ‹© URI åˆ—è¡¨ä¸­ä¸‹è½½é€Ÿåº¦æœ€å¿«çš„æœåŠ¡å™¨. åŒæ—¶ä¹Ÿå°†æœ‰æ•ˆè·³è¿‡æ— æ•ˆé•œåƒ. ä¹‹å‰ç»Ÿè®¡çš„ä¸‹è½½é€Ÿåº¦å°†ä½œä¸ºæœåŠ¡å™¨çŠ¶æ€æ–‡ä»¶çš„ä¸€éƒ¨åˆ†, å‚è§ --server-stat-of å’Œ --server-stat-if é€‰é¡¹. å¦‚æœè®¾ç½®ä¸º\u0026#34;è‡ªé€‚åº”\u0026#34;, å°†ä»æœ€å¥½çš„é•œåƒå’Œä¿ç•™çš„è¿æ¥é‡Œé€‰æ‹©ä¸€é¡¹. è¡¥å……è¯´æ˜, å…¶è¿”å›çš„é•œåƒæ²¡æœ‰è¢«æµ‹è¯•è¿‡, åŒæ—¶å¦‚æœæ¯ä¸ªé•œåƒéƒ½å·²ç»è¢«æµ‹è¯•è¿‡æ—¶, è¿”å›çš„é•œåƒè¿˜ä¼šè¢«é‡æ–°æµ‹è¯•. å¦åˆ™, å…¶å°†ä¸ä¼šé€‰æ‹©å…¶ä»–é•œåƒ. ä¾‹å¦‚\u0026#34;åé¦ˆ\u0026#34;, å…¶ä½¿ç”¨æœåŠ¡å™¨çŠ¶æ€æ–‡ä»¶. #uri-selector=feedback # ç¦ç”¨ netrcï¼Œé»˜è®¤:false no-netrc=true # .netrc æ–‡ä»¶è·¯å¾„ #netrc-path=$(HOME)/.netrc # å…è®¸è¦†ç›– # å¦‚æœç›¸åº”çš„æ§åˆ¶æ–‡ä»¶ä¸å­˜åœ¨æ—¶ä»å¤´é‡æ–°ä¸‹è½½æ–‡ä»¶. å‚è§ --auto-file-renaming é€‰é¡¹. allow-overwrite=false # æ–‡ä»¶è‡ªåŠ¨é‡å‘½åã€‚é»˜è®¤:true # é‡æ–°å‘½åå·²ç»å­˜åœ¨çš„æ–‡ä»¶. æ­¤é€‰é¡¹ä»…å¯¹ HTTP(S)/FTP ä¸‹è½½æœ‰æ•ˆ. æ–°çš„æ–‡ä»¶ååä¼šåœ¨æ–‡ä»¶ååã€æ‰©å±•å (å¦‚æœæœ‰) å‰è¿½åŠ å¥ç‚¹å’Œæ•°å­—(1..9999). auto-file-renaming=true # ä½¿ç”¨ UTF-8 å¤„ç† Content-Dispositionï¼Œé»˜è®¤:false # å¤„ç† \u0026#34;Content-Disposition\u0026#34; å¤´ä¸­çš„å­—ç¬¦ä¸²æ—¶ä½¿ç”¨ UTF-8 å­—ç¬¦é›†æ¥ä»£æ›¿ ISO-8859-1, ä¾‹å¦‚, æ–‡ä»¶åå‚æ•°, ä½†ä¸æ˜¯æ‰©å±•ç‰ˆæœ¬çš„æ–‡ä»¶å. content-disposition-default-utf8=true # æœ€ä½ TLS ç‰ˆæœ¬ï¼Œå¯é€‰ï¼šTLSv1.1ã€TLSv1.2ã€TLSv1.3 é»˜è®¤:TLSv1.2 #min-tls-version=TLSv1.2 ## BT/PT ä¸‹è½½è®¾ç½® ## # BT ç›‘å¬ç«¯å£(TCP), é»˜è®¤:6881-6999 # è®¾ç½® BT ä¸‹è½½çš„ TCP ç«¯å£. å¤šä¸ªç«¯å£å¯ä»¥ä½¿ç”¨é€—å· \u0026#34;,\u0026#34; åˆ†éš”, ä¾‹å¦‚: 6881,6885. æ‚¨è¿˜å¯ä»¥ä½¿ç”¨çŸ­æ¨ªçº¿ \u0026#34;-\u0026#34; è¡¨ç¤ºèŒƒå›´: 6881-6999, æˆ–å¯ä»¥ä¸€èµ·ä½¿ç”¨: 6881-6889, 6999. # ç›´é€šå¤–ç½‘çš„è®¾å¤‡ï¼Œæ¯”å¦‚ VPS ï¼ŒåŠ¡å¿…é…ç½®é˜²ç«å¢™å’Œå®‰å…¨ç»„ç­–ç•¥å…è®¸æ­¤ç«¯å£å…¥ç«™ # å†…ç½‘ç¯å¢ƒçš„è®¾å¤‡ï¼Œæ¯”å¦‚ NAS ï¼Œé™¤äº†é˜²ç«å¢™è®¾ç½®ï¼Œè¿˜éœ€åœ¨è·¯ç”±å™¨è®¾ç½®å¤–ç½‘ç«¯å£è½¬å‘åˆ°æ­¤ç«¯å£ listen-port=51413 # DHT ç½‘ç»œä¸ UDP tracker ç›‘å¬ç«¯å£(UDP), é»˜è®¤:6881-6999 # è®¾ç½® DHT (IPv4, IPv6) å’Œ UDP æœåŠ¡å™¨ä½¿ç”¨çš„ UCP ç«¯å£. å¤šä¸ªç«¯å£å¯ä»¥ä½¿ç”¨é€—å· \u0026#34;,\u0026#34; åˆ†éš”, ä¾‹å¦‚: 6881,6885. æ‚¨è¿˜å¯ä»¥ä½¿ç”¨çŸ­æ¨ªçº¿ \u0026#34;-\u0026#34; è¡¨ç¤ºèŒƒå›´: 6881-6999, æˆ–å¯ä»¥ä¸€èµ·ä½¿ç”¨: 6881-6889, 6999. # å› åè®®ä¸åŒï¼Œå¯ä»¥ä¸ BT ç›‘å¬ç«¯å£ä½¿ç”¨ç›¸åŒçš„ç«¯å£ï¼Œæ–¹ä¾¿é…ç½®é˜²ç«å¢™å’Œç«¯å£è½¬å‘ç­–ç•¥ã€‚ dht-listen-port=51413 # å¯ç”¨ DHT (IPv4), é»˜è®¤:true # å¯ç”¨ IPv4 DHT åŠŸèƒ½. æ­¤é€‰é¡¹åŒæ—¶ä¼šå¯ç”¨ UDP æœåŠ¡å™¨æ”¯æŒ. PT ä¸‹è½½(ç§æœ‰ç§å­)ä¼šè‡ªåŠ¨ç¦ç”¨ enable-dht=true # å¯ç”¨ DHT (IPv6)ï¼Œé»˜è®¤:false # å¯ç”¨ IPv6 DHT åŠŸèƒ½. å¦‚æœç§å­è®¾ç½®ä¸ºç§æœ‰, å³ä½¿æ­¤é€‰é¡¹è®¾ç½®ä¸º\u0026#34;æ˜¯\u0026#34;, aria2 ä¹Ÿä¸ä¼šå¯ç”¨ DHT. ä½¿ç”¨ --dht-listen-port é€‰é¡¹è®¾ç½®ç›‘å¬çš„ç«¯å£. # åœ¨æ²¡æœ‰ IPv6 æ”¯æŒçš„ç¯å¢ƒå¼€å¯å¯èƒ½ä¼šå¯¼è‡´ DHT åŠŸèƒ½å¼‚å¸¸ enable-dht6=false # å¤–éƒ¨ IP åœ°å€ # æŒ‡å®šç”¨åœ¨ BitTorrent ä¸‹è½½å’Œ DHT ä¸­çš„å¤–éƒ¨ IP åœ°å€. å®ƒå¯èƒ½è¢«å‘é€åˆ° BitTorrent æœåŠ¡å™¨. å¯¹äº DHT, æ­¤é€‰é¡¹å°†ä¼šæŠ¥å‘Šæœ¬åœ°èŠ‚ç‚¹æ­£åœ¨ä¸‹è½½ç‰¹å®šçš„ç§å­. è¿™å¯¹äºåœ¨ç§æœ‰ç½‘ç»œä¸­ä½¿ç”¨ DHT éå¸¸å…³é”®. è™½ç„¶è¿™ä¸ªæ–¹æ³•å«å¤–éƒ¨, ä½†å…¶å¯ä»¥æ¥å—å„ç§ç±»å‹çš„ IP åœ°å€. # ä½¿ç”¨åœºæ™¯ï¼šåœ¨å®¶åº­å®½å¸¦æ²¡æœ‰å…¬ç½‘ IP çš„æƒ…å†µä¸‹å¯ä»¥æŠŠ BT å’Œ DHT ç›‘å¬ç«¯å£è½¬å‘è‡³å…·æœ‰å…¬ç½‘ IP çš„æœåŠ¡å™¨ï¼Œåœ¨æ­¤å¡«å†™æœåŠ¡å™¨çš„ IP ï¼Œå¯ä»¥æå‡ BT ä¸‹è½½é€Ÿç‡ã€‚ #bt-external-ip= # DHT (IPv4) æ–‡ä»¶ï¼Œé»˜è®¤ï¼š$HOME/.aria2/dht.dat # ä¿®æ”¹ IPv4 DHT è·¯ç”±è¡¨æ–‡ä»¶è·¯å¾„. dht-file-path=/home/kurome/.aria2/dht.dat # DHT (IPv6) æ–‡ä»¶ï¼Œé»˜è®¤ï¼š$HOME/.aria2/dht6.dat # ä¿®æ”¹ IPv6 DHT è·¯ç”±è¡¨æ–‡ä»¶è·¯å¾„. dht-file-path6=/home/kurome/.aria2/dht6.dat # IPv4 DHT ç½‘ç»œå¼•å¯¼èŠ‚ç‚¹ dht-entry-point=dht.transmissionbt.com:6881 # IPv6 DHT ç½‘ç»œå¼•å¯¼èŠ‚ç‚¹ dht-entry-point6=dht.transmissionbt.com:6881 # å¯ç”¨æœ¬åœ°èŠ‚ç‚¹å‘ç°(LPD),PT ä¸‹è½½(ç§æœ‰ç§å­)ä¼šè‡ªåŠ¨ç¦ç”¨,é»˜è®¤:false bt-enable-lpd=true # æŒ‡å®šç”¨äºæœ¬åœ°èŠ‚ç‚¹å‘ç°çš„æ¥å£ï¼Œå¯èƒ½çš„å€¼ï¼šæ¥å£ï¼ŒIPåœ°å€ # å¦‚æœæœªæŒ‡å®šæ­¤é€‰é¡¹ï¼Œåˆ™é€‰æ‹©é»˜è®¤æ¥å£ã€‚ #bt-lpd-interface= # å¯ç”¨èŠ‚ç‚¹äº¤æ¢, é»˜è®¤:true # å¯ç”¨èŠ‚ç‚¹äº¤æ¢æ‰©å±•. å¦‚æœç§å­è®¾ç½®ä¸ºç§æœ‰, å³ä½¿æ­¤é€‰é¡¹è®¾ç½®ä¸º\u0026#34;æ˜¯\u0026#34;, aria2 ä¹Ÿä¸ä¼šå¯ç”¨æ­¤åŠŸèƒ½. enable-peer-exchange=true # BT ä¸‹è½½æœ€å¤§è¿æ¥æ•°ï¼ˆå•ä»»åŠ¡ï¼‰ï¼Œè¿è¡Œæ—¶å¯ä¿®æ”¹ã€‚0 ä¸ºä¸é™åˆ¶ï¼Œé»˜è®¤:55 # ç†æƒ³æƒ…å†µä¸‹è¿æ¥æ•°è¶Šå¤šä¸‹è½½è¶Šå¿«ï¼Œä½†åœ¨å®é™…æƒ…å†µæ˜¯åªæœ‰å°‘éƒ¨åˆ†è¿æ¥åˆ°çš„åšç§è€…ä¸Šä¼ é€Ÿåº¦å¿«ï¼Œå…¶ä½™çš„ä¸Šä¼ æ…¢æˆ–è€…ä¸ä¸Šä¼ ã€‚ # å¦‚æœä¸é™åˆ¶ï¼Œå½“ä¸‹è½½éå¸¸çƒ­é—¨çš„ç§å­æˆ–ä»»åŠ¡æ•°éå¸¸å¤šæ—¶å¯èƒ½ä¼šå› è¿æ¥æ•°è¿‡å¤šå¯¼è‡´è¿›ç¨‹å´©æºƒæˆ–ç½‘ç»œé˜»å¡ã€‚ # è¿›ç¨‹å´©æºƒï¼šå¦‚æœè®¾å¤‡ CPU æ€§èƒ½ä¸€èˆ¬ï¼Œè¿æ¥æ•°è¿‡å¤šå¯¼è‡´ CPU å ç”¨è¿‡é«˜ï¼Œå› èµ„æºä¸è¶³ Aria2 è¿›ç¨‹ä¼šå¼ºåˆ¶è¢«ç»ˆç»“ã€‚ # ç½‘ç»œé˜»å¡ï¼šåœ¨å†…ç½‘ç¯å¢ƒä¸‹ï¼Œå³ä½¿ä¸‹è½½æ²¡æœ‰å æ»¡å¸¦å®½ä¹Ÿä¼šå¯¼è‡´å…¶å®ƒè®¾å¤‡æ— æ³•æ­£å¸¸ä¸Šç½‘ã€‚å› è¿œå¤ä½æ€§èƒ½è·¯ç”±å™¨çš„è½¬å‘æ€§èƒ½ç“¶é¢ˆå¯¼è‡´ã€‚ bt-max-peers=128 # BT ä¸‹è½½æœŸæœ›é€Ÿåº¦å€¼ï¼ˆå•ä»»åŠ¡ï¼‰ï¼Œè¿è¡Œæ—¶å¯ä¿®æ”¹ã€‚å•ä½ K æˆ– M ã€‚é»˜è®¤:50K # BT ä¸‹è½½é€Ÿåº¦ä½äºæ­¤é€‰é¡¹å€¼æ—¶ä¼šä¸´æ—¶æé«˜è¿æ¥æ•°æ¥è·å¾—æ›´å¿«çš„ä¸‹è½½é€Ÿåº¦ï¼Œä¸è¿‡å‰ææ˜¯æœ‰æ›´å¤šçš„åšç§è€…å¯ä¾›è¿æ¥ã€‚ # å®æµ‹ä¸´æ—¶æé«˜è¿æ¥æ•°æ²¡æœ‰ä¸Šé™ï¼Œä½†ä¸ä¼šåƒä¸åšé™åˆ¶ä¸€æ ·æ— é™å¢åŠ ï¼Œä¼šæ ¹æ®ç®—æ³•è¿›è¡Œåˆç†çš„åŠ¨æ€è°ƒèŠ‚ã€‚ bt-request-peer-speed-limit=10M # å…¨å±€æœ€å¤§ä¸Šä¼ é€Ÿåº¦, è¿è¡Œæ—¶å¯ä¿®æ”¹, é»˜è®¤:0 (æ— é™åˆ¶) # è®¾ç½®å…¨å±€æœ€å¤§ä¸Šä¼ é€Ÿåº¦ (å­—èŠ‚/ç§’). 0 è¡¨ç¤ºä¸é™åˆ¶. æ‚¨å¯ä»¥å¢åŠ æ•°å€¼çš„å•ä½ K æˆ– M (1K = 1024, 1M = 1024K). # è®¾ç½®è¿‡ä½å¯èƒ½å½±å“ BT ä¸‹è½½é€Ÿåº¦ max-overall-upload-limit=2M # å•ä»»åŠ¡ä¸Šä¼ é€Ÿåº¦é™åˆ¶, é»˜è®¤:0 (æ— é™åˆ¶) # è®¾ç½®æ¯ä¸ªä»»åŠ¡çš„æœ€å¤§ä¸Šä¼ é€Ÿåº¦ (å­—èŠ‚/ç§’). 0 è¡¨ç¤ºä¸é™åˆ¶. æ‚¨å¯ä»¥å¢åŠ æ•°å€¼çš„å•ä½ K æˆ– M (1K = 1024, 1M = 1024K). max-upload-limit=0 # æœ€å°åˆ†äº«ç‡, 0 ä¸ºä¸€ç›´åšç§, é»˜è®¤:1.0 # æŒ‡å®šåˆ†äº«ç‡. å½“åˆ†äº«ç‡è¾¾åˆ°æ­¤é€‰é¡¹è®¾ç½®çš„å€¼æ—¶ä¼šå®Œæˆåšç§. å¼ºçƒˆå»ºè®®æ‚¨å°†æ­¤é€‰é¡¹è®¾ç½®ä¸ºå¤§äºç­‰äº 1.0. å¦‚æœæ‚¨æƒ³ä¸é™åˆ¶åˆ†äº«æ¯”ç‡, å¯ä»¥è®¾ç½®ä¸º 0.0. å¦‚æœåŒæ—¶è®¾ç½®äº† --seed-time é€‰é¡¹, å½“ä»»æ„ä¸€ä¸ªæ¡ä»¶æ»¡è¶³æ—¶å°†åœæ­¢åšç§. seed-ratio=1.0 # æœ€å°åšç§æ—¶é—´ï¼ˆåˆ†é’Ÿï¼‰ # æ­¤é€‰é¡¹è®¾ç½®ä¸º 0 æ—¶, å°†åœ¨ BT ä»»åŠ¡ä¸‹è½½å®Œæˆåä¸è¿›è¡Œåšç§. seed-time=30 # åšç§å‰æ£€æŸ¥æ–‡ä»¶å“ˆå¸Œ, é»˜è®¤:true # å¦‚æœè®¾ç½®ä¸º\u0026#34;æ˜¯\u0026#34;, å½“ä½¿ç”¨ --check-integrity é€‰é¡¹å®Œæˆå“ˆå¸Œæ£€æŸ¥åŠæ–‡ä»¶å®Œæˆåæ‰ç»§ç»­åšç§. å¦‚æœæ‚¨å¸Œæœ›ä»…å½“æ–‡ä»¶æŸåæˆ–æœªå®Œæˆæ—¶æ£€æŸ¥æ–‡ä»¶, è¯·è®¾ç½®ä¸º\u0026#34;å¦\u0026#34;. æ­¤é€‰é¡¹ä»…å¯¹ BT ä¸‹è½½æœ‰æ•ˆ bt-hash-check-seed=true # ç»§ç»­ä¹‹å‰çš„BTä»»åŠ¡æ—¶, æ— éœ€å†æ¬¡æ ¡éªŒ, é»˜è®¤:false # ä¸æ£€æŸ¥ä¹‹å‰ä¸‹è½½æ–‡ä»¶ä¸­æ¯ä¸ªåˆ†ç‰‡çš„å“ˆå¸Œå€¼. bt-seed-unverified=false # BT tracker æœåŠ¡å™¨è¿æ¥è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ã€‚é»˜è®¤ï¼š60 # å»ºç«‹è¿æ¥åï¼Œæ­¤é€‰é¡¹æ— æ•ˆï¼Œå°†ä½¿ç”¨ bt-tracker-timeout é€‰é¡¹çš„å€¼ bt-tracker-connect-timeout=10 # BT tracker æœåŠ¡å™¨è¶…æ—¶æ—¶é—´ï¼ˆç§’ï¼‰ã€‚é»˜è®¤ï¼š60 bt-tracker-timeout=10 # BT æœåŠ¡å™¨è¿æ¥é—´éš”æ—¶é—´ã€‚é»˜è®¤ï¼š0 (è‡ªåŠ¨) # è®¾ç½®è¯·æ±‚ BT æœåŠ¡å™¨çš„é—´éš”æ—¶é—´ (ç§’). æ­¤é€‰é¡¹å°†å®Œå…¨è¦†ç›–æœåŠ¡å™¨è¿”å›çš„æœ€å°é—´éš”æ—¶é—´å’Œé—´éš”æ—¶é—´, aria2 ä»…ä½¿ç”¨æ­¤é€‰é¡¹çš„å€¼.å¦‚æœè®¾ç½®ä¸º 0, aria2 å°†æ ¹æ®æœåŠ¡å™¨çš„å“åº”æƒ…å†µå’Œä¸‹è½½è¿›ç¨‹å†³å®šæ—¶é—´é—´éš”. #bt-tracker-interval=0 # BT ä¸‹è½½ä¼˜å…ˆä¸‹è½½æ–‡ä»¶å¼€å¤´æˆ–ç»“å°¾ # å°è¯•å…ˆä¸‹è½½æ¯ä¸ªæ–‡ä»¶å¼€å¤´æˆ–ç»“å°¾çš„åˆ†ç‰‡. æ­¤é€‰é¡¹æœ‰åŠ©äºé¢„è§ˆæ–‡ä»¶. å‚æ•°å¯ä»¥åŒ…æ‹¬ä¸¤ä¸ªå…³é”®è¯: head å’Œ tail. å¦‚æœåŒ…å«ä¸¤ä¸ªå…³é”®è¯, éœ€è¦ä½¿ç”¨é€—å·åˆ†éš”. æ¯ä¸ªå…³é”®è¯å¯ä»¥åŒ…å«ä¸€ä¸ªå‚æ•°, SIZE. ä¾‹å¦‚, å¦‚æœæŒ‡å®š head=SIZE, æ¯ä¸ªæ–‡ä»¶çš„æœ€å‰ SIZE æ•°æ®å°†ä¼šè·å¾—æ›´é«˜çš„ä¼˜å…ˆçº§. tail=SIZE è¡¨ç¤ºæ¯ä¸ªæ–‡ä»¶çš„æœ€å SIZE æ•°æ®. SIZE å¯ä»¥åŒ…å« K æˆ– M (1K = 1024, 1M = 1024K). bt-prioritize-piece=head=32M,tail=32M # ä¿å­˜é€šè¿‡ WebUI(RPC) ä¸Šä¼ çš„ç§å­æ–‡ä»¶(.torrent)ï¼Œé»˜è®¤:true # åœ¨ dir é€‰é¡¹è®¾ç½®çš„ç›®å½•ä¸­ä¿å­˜ä¸Šä¼ çš„ç§å­æ–‡ä»¶æˆ– Metalink æ–‡ä»¶. æ–‡ä»¶ååŒ…æ‹¬ SHA-1 å“ˆå¸Œåçš„å…ƒæ•°æ®å’Œæ‰©å±•åä¸¤éƒ¨åˆ†. å¯¹äºç§å­æ–‡ä»¶, æ‰©å±•åä¸º \u0026#39;.torrent\u0026#39;. å¯¹äº Metalink ä¸º \u0026#39;.meta4\u0026#39;. å¦‚æœæ­¤é€‰é¡¹è®¾ç½®ä¸º\u0026#34;å¦\u0026#34;, é€šè¿‡ aria2.addTorrent() æˆ– aria2.addMetalink() æ–¹æ³•æ·»åŠ çš„ä¸‹è½½å°†æ— æ³•é€šè¿‡ --save-session é€‰é¡¹ä¿å­˜. # æ‰€æœ‰æ¶‰åŠç§å­æ–‡ä»¶ä¿å­˜çš„é€‰é¡¹éƒ½å»ºè®®å¼€å¯ï¼Œä¸ä¿å­˜ç§å­æ–‡ä»¶æœ‰ä»»åŠ¡ä¸¢å¤±çš„é£é™©ã€‚ # é€šè¿‡ RPC è‡ªå®šä¹‰ä¸´æ—¶ä¸‹è½½ç›®å½•å¯èƒ½ä¸ä¼šä¿å­˜ç§å­æ–‡ä»¶ã€‚ rpc-save-upload-metadata=true # ä¸‹è½½ç§å­æ–‡ä»¶(.torrent)è‡ªåŠ¨å¼€å§‹ä¸‹è½½, é»˜è®¤:trueï¼Œå¯é€‰ï¼šfalse|mem # trueï¼šä¿å­˜ç§å­æ–‡ä»¶ # falseï¼šä»…ä¸‹è½½ç§å­æ–‡ä»¶ # memï¼šå°†ç§å­ä¿å­˜åœ¨å†…å­˜ä¸­ # å¦‚æœè®¾ç½®ä¸º\u0026#34;æ˜¯\u0026#34;æˆ–\u0026#34;ä»…å†…å­˜\u0026#34;, å½“åç¼€ä¸º .torrent æˆ–å†…å®¹ç±»å‹ä¸º application/x-bittorrent çš„æ–‡ä»¶ä¸‹è½½å®Œæˆæ—¶, aria2 å°†æŒ‰ç§å­æ–‡ä»¶è¯»å–å¹¶ä¸‹è½½è¯¥æ–‡ä»¶ä¸­æåˆ°çš„æ–‡ä»¶. å¦‚æœè®¾ç½®ä¸º\u0026#34;ä»…å†…å­˜\u0026#34;, è¯¥ç§å­æ–‡ä»¶å°†ä¸ä¼šå†™å…¥åˆ°ç£ç›˜ä¸­, è€Œä»…ä¼šå­˜å‚¨åœ¨å†…å­˜ä¸­. å¦‚æœè®¾ç½®ä¸º\u0026#34;å¦\u0026#34;, åˆ™ .torrent æ–‡ä»¶ä¼šä¸‹è½½åˆ°ç£ç›˜ä¸­, ä½†ä¸ä¼šæŒ‰ç§å­æ–‡ä»¶è¯»å–å¹¶ä¸”å…¶ä¸­çš„æ–‡ä»¶ä¸ä¼šè¿›è¡Œä¸‹è½½. follow-torrent=true # ç§å­æ–‡ä»¶ä¸‹è½½å®Œåæš‚åœä»»åŠ¡ï¼Œé»˜è®¤ï¼šfalse # åœ¨å¼€å¯ follow-torrent é€‰é¡¹åä¸‹è½½ç§å­æ–‡ä»¶æˆ–ç£åŠ›ä¼šè‡ªåŠ¨å¼€å§‹ä¸‹è½½ä»»åŠ¡è¿›è¡Œä¸‹è½½ï¼Œè€ŒåŒæ—¶å¼€å¯å½“æ­¤é€‰é¡¹åä¼šå»ºç«‹ç›¸å…³ä»»åŠ¡å¹¶æš‚åœã€‚ pause-metadata=false # ä¿å­˜ç£åŠ›é“¾æ¥å…ƒæ•°æ®ä¸ºç§å­æ–‡ä»¶(.torrent), é»˜è®¤:false # ä¿å­˜ç§å­æ–‡ä»¶ä¸º \u0026#34;.torrent\u0026#34; æ–‡ä»¶. æ­¤é€‰é¡¹ä»…å¯¹ç£é“¾ç”Ÿæ•ˆ. æ–‡ä»¶åä¸ºåå…­è¿›åˆ¶ç¼–ç åçš„å“ˆå¸Œå€¼åŠ \u0026#34;.torrent\u0026#34;åç¼€. ä¿å­˜çš„ç›®å½•ä¸ä¸‹è½½æ–‡ä»¶çš„ç›®å½•ç›¸åŒ. å¦‚æœç›¸åŒçš„æ–‡ä»¶å·²å­˜åœ¨, ç§å­æ–‡ä»¶å°†ä¸ä¼šä¿å­˜. bt-save-metadata=true # åŠ è½½å·²ä¿å­˜çš„å…ƒæ•°æ®æ–‡ä»¶(.torrent)ï¼Œé»˜è®¤:false # å½“ä½¿ç”¨ç£é“¾ä¸‹è½½æ—¶, åœ¨ä» DHT è·å–ç§å­å…ƒæ•°æ®ä¹‹å‰, é¦–å…ˆå°è¯•åŠ è½½ä½¿ç”¨ --bt-save-metadata é€‰é¡¹ä¿å­˜çš„æ–‡ä»¶. å¦‚æœæ–‡ä»¶åŠ è½½æˆåŠŸ, åˆ™ä¸ä¼šä» DHT ä¸‹è½½å…ƒæ•°æ®. bt-load-saved-metadata=true # åˆ é™¤ BT ä¸‹è½½ä»»åŠ¡ä¸­æœªé€‰æ‹©æ–‡ä»¶ï¼Œé»˜è®¤:false # å½“ BT ä»»åŠ¡å®Œæˆååˆ é™¤æœªé€‰æ‹©çš„æ–‡ä»¶. è¦é€‰æ‹©éœ€è¦ä¸‹è½½çš„æ–‡ä»¶, è¯·ä½¿ç”¨ --select-file é€‰é¡¹. å¦‚æœæ²¡æœ‰é€‰æ‹©, åˆ™æ‰€æœ‰æ–‡ä»¶éƒ½é»˜è®¤ä¸ºéœ€è¦ä¸‹è½½. æ­¤é€‰é¡¹ä¼šä»ç£ç›˜ä¸Šç›´æ¥åˆ é™¤æ–‡ä»¶, è¯·è°¨æ…ä½¿ç”¨æ­¤é€‰é¡¹. bt-remove-unselected-file=true # BTå¼ºåˆ¶åŠ å¯†, é»˜è®¤: false # å¯ç”¨åå°†æ‹’ç»æ—§çš„ BT æ¡æ‰‹åè®®å¹¶ä»…ä½¿ç”¨æ··æ·†æ¡æ‰‹åŠåŠ å¯†ã€‚å¯ä»¥è§£å†³éƒ¨åˆ†è¿è¥å•†å¯¹ BT ä¸‹è½½çš„å°é”ï¼Œä¸”æœ‰ä¸€å®šçš„é˜²ç‰ˆæƒæŠ•è¯‰ä¸è¿…é›·å¸è¡€æ•ˆæœã€‚ # æ­¤é€‰é¡¹ç›¸å½“äºåé¢ä¸¤ä¸ªé€‰é¡¹(bt-require-crypto=true, bt-min-crypto-level=arc4)çš„å¿«æ·å¼€å¯æ–¹å¼ï¼Œä½†ä¸ä¼šä¿®æ”¹è¿™ä¸¤ä¸ªé€‰é¡¹çš„å€¼ã€‚ bt-force-encryption=true # BTåŠ å¯†éœ€æ±‚ï¼Œé»˜è®¤ï¼šfalse # å¯ç”¨åæ‹’ç»ä¸æ—§çš„ BitTorrent æ¡æ‰‹åè®®(\\19BitTorrent protocol)å»ºç«‹è¿æ¥ï¼Œå§‹ç»ˆä½¿ç”¨æ··æ·†å¤„ç†æ¡æ‰‹ã€‚ #bt-require-crypto=true # BTæœ€ä½åŠ å¯†ç­‰çº§ï¼Œå¯é€‰ï¼šplainï¼ˆæ˜æ–‡ï¼‰ï¼Œarc4ï¼ˆåŠ å¯†ï¼‰ï¼Œé»˜è®¤ï¼šplain # è®¾ç½®åŠ å¯†æ–¹æ³•çš„æœ€å°çº§åˆ«. å¦‚æœèŠ‚ç‚¹æä¾›å¤šç§åŠ å¯†æ–¹æ³•, aria2 å°†é€‰æ‹©æ»¡è¶³ç»™å®šçº§åˆ«çš„æœ€ä½çº§åˆ«. #bt-min-crypto-level=arc4 # åˆ†ç¦»ä»…åšç§ä»»åŠ¡ï¼Œé»˜è®¤ï¼šfalse # ä»æ­£åœ¨ä¸‹è½½çš„ä»»åŠ¡ä¸­æ’é™¤å·²ç»ä¸‹è½½å®Œæˆä¸”æ­£åœ¨åšç§çš„ä»»åŠ¡ï¼Œå¹¶å¼€å§‹ç­‰å¾…åˆ—è¡¨ä¸­çš„ä¸‹ä¸€ä¸ªä»»åŠ¡ã€‚ # ç»Ÿè®¡å½“å‰æ´»åŠ¨ä¸‹è½½ä»»åŠ¡(å‚è§ -j é€‰é¡¹) æ—¶æ’é™¤ä»…åšç§çš„ä»»åŠ¡. è¿™æ„å‘³ç€, å¦‚æœå‚æ•°è®¾ç½®ä¸º -j3, æ­¤é€‰é¡¹æ‰“å¼€å¹¶ä¸”å½“å‰æœ‰ 3 ä¸ªæ­£åœ¨æ´»åŠ¨çš„ä»»åŠ¡, å¹¶ä¸”å…¶ä¸­æœ‰ 1 ä¸ªè¿›å…¥åšç§æ¨¡å¼, é‚£ä¹ˆå…¶ä¼šä»æ­£åœ¨ä¸‹è½½çš„æ•°é‡ä¸­æ’é™¤(å³æ•°é‡ä¼šå˜ä¸º 2), åœ¨é˜Ÿåˆ—ä¸­ç­‰å¾…çš„ä¸‹ä¸€ä¸ªä»»åŠ¡å°†ä¼šå¼€å§‹æ‰§è¡Œ. ä½†è¦çŸ¥é“, åœ¨ RPC æ–¹æ³•ä¸­, åšç§çš„ä»»åŠ¡ä»ç„¶è¢«è®¤ä¸ºæ˜¯æ´»åŠ¨çš„ä¸‹è½½ä»»åŠ¡. bt-detach-seed-only=true ## å®¢æˆ·ç«¯ä¼ªè£… ## # è‡ªå®šä¹‰ User Agent user-agent=Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/93.0.4577.63 Safari/537.36 Edg/93.0.961.47 # BT å®¢æˆ·ç«¯ä¼ªè£… # PT ä¸‹è½½éœ€è¦ä¿æŒ user-agent å’Œ peer-agent ä¸¤ä¸ªå‚æ•°ä¸€è‡´ # éƒ¨åˆ† PT ç«™å¯¹ Aria2 æœ‰ç‰¹æ®Šå°ç¦æœºåˆ¶ï¼Œå®¢æˆ·ç«¯ä¼ªè£…ä¸ä¸€å®šæœ‰æ•ˆï¼Œä¸”æœ‰å°ç¦è´¦å·çš„é£é™©ã€‚ # è‡ªå®šä¹‰ User Agentï¼Œé»˜è®¤ï¼šaria2/$VERSION #user-agent=Deluge 1.3.15 # Peer Agent # æŒ‡å®š BT æ‰©å±•æ¡æ‰‹æœŸé—´ç”¨äºèŠ‚ç‚¹å®¢æˆ·ç«¯ç‰ˆæœ¬çš„å­—ç¬¦ä¸². peer-agent=Deluge 1.3.15 # èŠ‚ç‚¹ ID å‰ç¼€ # æŒ‡å®šèŠ‚ç‚¹ ID çš„å‰ç¼€. BT ä¸­èŠ‚ç‚¹ ID é•¿åº¦ä¸º 20 å­—èŠ‚. å¦‚æœè¶…è¿‡ 20 å­—èŠ‚, å°†ä»…ä½¿ç”¨å‰ 20 å­—èŠ‚. å¦‚æœå°‘äº 20 å­—èŠ‚, å°†åœ¨å…¶åä¸è¶³éšæœºçš„æ•°æ®ä¿è¯ä¸º 20 å­—èŠ‚. peer-id-prefix=-DE13F0- ## æ‰§è¡Œé¢å¤–å‘½ä»¤ ## # ä¸‹è½½åœæ­¢åæ‰§è¡Œçš„å‘½ä»¤ # ä» æ­£åœ¨ä¸‹è½½ åˆ° åˆ é™¤ã€é”™è¯¯ã€å®Œæˆ æ—¶è§¦å‘ã€‚æš‚åœè¢«æ ‡è®°ä¸ºæœªå¼€å§‹ä¸‹è½½ï¼Œæ•…ä¸æ­¤é¡¹æ— å…³ã€‚ #on-download-stop=/home/kurome/.aria2/delete.sh # ä¸‹è½½å®Œæˆåæ‰§è¡Œçš„å‘½ä»¤ # æ­¤é¡¹æœªå®šä¹‰åˆ™æ‰§è¡Œ ä¸‹è½½åœæ­¢åæ‰§è¡Œçš„å‘½ä»¤ (on-download-stop) #on-download-complete=/home/kurome/.aria2/clean.sh # ä¸‹è½½é”™è¯¯åæ‰§è¡Œçš„å‘½ä»¤ # æ­¤é¡¹æœªå®šä¹‰åˆ™æ‰§è¡Œ ä¸‹è½½åœæ­¢åæ‰§è¡Œçš„å‘½ä»¤ (on-download-stop) #on-download-error= # ä¸‹è½½æš‚åœåæ‰§è¡Œçš„å‘½ä»¤ #on-download-pause= # ä¸‹è½½å¼€å§‹åæ‰§è¡Œçš„å‘½ä»¤ #on-download-start= # BT ä¸‹è½½å®Œæˆåæ‰§è¡Œçš„å‘½ä»¤ #on-bt-download-complete= ## RPC è®¾ç½® ## # å¯ç”¨ JSON-RPC/XML-RPC æœåŠ¡å™¨, é»˜è®¤:false enable-rpc=true # æ¥å—æ‰€æœ‰è¿œç¨‹è¯·æ±‚, é»˜è®¤:false # åœ¨ RPC å“åº”å¤´å¢åŠ  Access-Control-Allow-Origin å­—æ®µ, å€¼ä¸º * .webç•Œé¢è·¨åŸŸæƒé™éœ€è¦ rpc-allow-origin-all=true # å…è®¸å¤–éƒ¨è®¿é—®, é»˜è®¤:false rpc-listen-all=true # RPC ç›‘å¬ç«¯å£, é»˜è®¤:6800 rpc-listen-port=6800 # RPC å¯†é’¥, v1.18.4æ–°å¢åŠŸèƒ½, å–ä»£ --rpc-user å’Œ --rpc-passwd é€‰é¡¹ rpc-secret=SetForYourself # RPC æœ€å¤§è¯·æ±‚å¤§å° # è®¾ç½® JSON-RPC/XML-RPC æœ€å¤§çš„è¯·æ±‚å¤§å°. å¦‚æœ aria2 æ£€æµ‹åˆ°è¯·æ±‚è¶…è¿‡è®¾å®šçš„å­—èŠ‚æ•°, ä¼šç›´æ¥å–æ¶ˆè¿æ¥. rpc-max-request-size=10M # RPC æœåŠ¡ SSL/TLS åŠ å¯†, é»˜è®¤ï¼šfalse # RPC å°†é€šè¿‡ SSL/TLS åŠ å¯†ä¼ è¾“. RPC å®¢æˆ·ç«¯éœ€è¦ä½¿ç”¨ https åè®®è¿æ¥æœåŠ¡å™¨. å¯¹äº WebSocket å®¢æˆ·ç«¯, ä½¿ç”¨ wss åè®®. ä½¿ç”¨ --rpc-certificate å’Œ --rpc-private-key é€‰é¡¹è®¾ç½®æœåŠ¡å™¨çš„è¯ä¹¦å’Œç§é’¥. # ä¸æ¨èå¼€å¯ï¼Œå»ºè®®ä½¿ç”¨ web server åå‘ä»£ç†ï¼Œæ¯”å¦‚ Nginxã€Caddy ï¼Œçµæ´»æ€§æ›´å¼ºã€‚ #rpc-secure= # åœ¨ RPC æœåŠ¡ä¸­å¯ç”¨ SSL/TLS åŠ å¯†æ—¶çš„è¯ä¹¦æ–‡ä»¶, # ä½¿ç”¨ PEM æ ¼å¼æ—¶ï¼Œæ‚¨å¿…é¡»é€šè¿‡ --rpc-private-key æŒ‡å®šç§é’¥ #rpc-certificate=/path/to/certificate.pem # åœ¨ RPC æœåŠ¡ä¸­å¯ç”¨ SSL/TLS åŠ å¯†æ—¶çš„ç§é’¥æ–‡ä»¶ #rpc-private-key=/path/to/certificate.key # äº‹ä»¶è½®è¯¢æ–¹å¼, å¯é€‰ï¼šepoll, kqueue, port, poll, select, ä¸åŒç³»ç»Ÿé»˜è®¤å€¼ä¸åŒ # è®¾ç½®äº‹ä»¶è½®è®­çš„æ–¹æ³•. å¯¹äº epoll, kqueue, port å’Œ poll, åªæœ‰ç³»ç»Ÿæ”¯æŒæ—¶æ‰å¯ç”¨. æœ€æ–°çš„ Linux æ”¯æŒ epoll. å„ç§ *BSD ç³»ç»ŸåŒ…æ‹¬ Mac OS X æ”¯æŒ kqueue. Open Solaris æ”¯æŒ port. é»˜è®¤å€¼æ ¹æ®æ‚¨ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿä¸åŒè€Œä¸åŒ. #event-poll=select ## é«˜çº§é€‰é¡¹ ## # å¯ç”¨å¼‚æ­¥ DNS åŠŸèƒ½ã€‚é»˜è®¤ï¼štrue #async-dns=true # æŒ‡å®šå¼‚æ­¥ DNS æœåŠ¡å™¨åˆ—è¡¨ï¼ŒæœªæŒ‡å®šåˆ™ä» /etc/resolv.conf ä¸­è¯»å–ã€‚ #async-dns-server=119.29.29.29,223.5.5.5,8.8.8.8,1.1.1.1 # æŒ‡å®šå•ä¸ªç½‘ç»œæ¥å£ï¼Œå¯èƒ½çš„å€¼ï¼šæ¥å£ï¼ŒIPåœ°å€ï¼Œä¸»æœºå # å¦‚æœæ¥å£å…·æœ‰å¤šä¸ª IP åœ°å€ï¼Œåˆ™å»ºè®®æŒ‡å®š IP åœ°å€ã€‚ # å·²çŸ¥æŒ‡å®šç½‘ç»œæ¥å£ä¼šå½±å“ä¾èµ–æœ¬åœ° RPC çš„è¿æ¥çš„åŠŸèƒ½åœºæ™¯ï¼Œå³é€šè¿‡ localhost å’Œ 127.0.0.1 æ— æ³•ä¸ Aria2 æœåŠ¡ç«¯è¿›è¡Œè®¯é€šã€‚ #interface= # æŒ‡å®šå¤šä¸ªç½‘ç»œæ¥å£ï¼Œå¤šä¸ªå€¼ä¹‹é—´ä½¿ç”¨é€—å·(,)åˆ†éš”ã€‚ # ä½¿ç”¨ interface é€‰é¡¹æ—¶ä¼šå¿½ç•¥æ­¤é¡¹ã€‚ #multiple-interface= ## æ—¥å¿—è®¾ç½® ## # æ—¥å¿—æ–‡ä»¶ä¿å­˜è·¯å¾„ï¼Œé»˜è®¤ï¼šä¸ä¿å­˜ # å¦‚æœè®¾ç½®ä¸º \u0026#34;-\u0026#34;, æ—¥å¿—åˆ™å†™å…¥åˆ° stdout. å¦‚æœå¿½ç•¥æˆ–è®¾ç½®ä¸ºç©ºå­—ç¬¦ä¸²(\u0026#34;\u0026#34;), æ—¥å¿—å°†ä¸ä¼šè®°å½•åˆ°ç£ç›˜ä¸Š. #log= # æ—¥å¿—çº§åˆ«ï¼Œå¯é€‰ debug, info, notice, warn, error ã€‚é»˜è®¤ï¼šdebug #log-level=warn # æ§åˆ¶å°æ—¥å¿—çº§åˆ«ï¼Œå¯é€‰ debug, info, notice, warn, error ï¼Œé»˜è®¤ï¼šnotice console-log-level=notice # å®‰é™æ¨¡å¼ï¼Œç¦æ­¢åœ¨æ§åˆ¶å°è¾“å‡ºæ—¥å¿—ï¼Œé»˜è®¤ï¼šfalse quiet=false # ä¸‹è½½è¿›åº¦æ‘˜è¦è¾“å‡ºé—´éš”æ—¶é—´ï¼ˆç§’ï¼‰ï¼Œ0 ä¸ºç¦æ­¢è¾“å‡ºã€‚é»˜è®¤ï¼š60 summary-interval=0 ## BitTorrent trackers ## # BT æœåŠ¡å™¨åœ°å€ 2022/02/26 # é€—å·åˆ†éš”çš„ BT æœåŠ¡å™¨åœ°å€. å¦‚æœæœåŠ¡å™¨åœ°å€åœ¨ --bt-exclude-tracker é€‰é¡¹ä¸­, å…¶å°†ä¸ä¼šç”Ÿæ•ˆ. bt-tracker=udp://open.tracker.cl:1337/announce,udp://tracker.opentrackr.org:1337/announce,udp://9.rarbg.com:2810/announce,udp://www.torrent.eu.org:451/announce,udp://tracker2.dler.org:80/announce,udp://tracker.torrent.eu.org:451/announce,udp://tracker.moeking.me:6969/announce,udp://tracker.bitsearch.to:1337/announce,udp://tracker.0x.tf:6969/announce,udp://tracker-udp.gbitt.info:80/announce,udp://tr.cili001.com:8070/announce,udp://retracker.lanta-net.ru:2710/announce,udp://open.stealth.si:80/announce,udp://ipv4.tracker.harry.lu:80/announce,udp://explodie.org:6969/announce,udp://exodus.desync.com:6969/announce,udp://bt2.archive.org:6969/announce,udp://bt1.archive.org:6969/announce,https://tracker.nanoha.org:443/announce,https://tracker.lilithraws.org:443/announce æ›´å¤šï¼šAria2 å®Œç¾é…ç½®\nAria2 Web æ§åˆ¶å°\nAira2 æ²¡æœ‰è½¯ä»¶ç•Œé¢ï¼Œç¨‹åºå‘˜å¯ä»¥ç”¨ä»£ç æ‰§è¡Œä»»åŠ¡ï¼Œä½†æ™®é€šç”¨æˆ·æ€æ ·æ·»åŠ ä¸‹è½½ä»»åŠ¡å‘¢ï¼Ÿâ€”â€”æ‰“å¼€æµè§ˆå™¨ï¼Œè¾“å…¥ç½‘å€aria2c.comï¼ˆYAAW çš„ä¸­æ–‡ç‰ˆï¼‰å°±å¯ä»¥æ‰“å¼€ Aria2 Web æ§åˆ¶å°ã€‚\nJSON-RPC Path é»˜è®¤ä¸º: http://localhost:6800/jsonrpcï¼Œå¦‚æœæç¤º â€œAria2 RPC æœåŠ¡å™¨é”™è¯¯â€ï¼ŒæŒ‰ç…§ä»¥ä¸‹æ–¹æ³•ä¿®æ”¹ï¼š\n æ™®é€šæƒ…å†µè®¾ç½®ä¸º: http://host:port/jsonrpc  host: æŒ‡è¿è¡Œ Aria2 æ‰€åœ¨æœºå™¨çš„ IP æˆ–è€…åå­— port: ä½¿ç”¨ --rpc-listen-port é€‰é¡¹è®¾ç½®çš„ç«¯å£, æœªè®¾ç½®åˆ™æ˜¯ 6800ï¼›å¯é€šè¿‡ lsof -i:6800 æŸ¥çœ‹ç«¯å£æ˜¯å¦è¢«å ç”¨   ä½¿ç”¨ --rpc-secret=xxxxxx é€‰é¡¹è®¾ç½®ä¸º: http://token:xxxxxx@host:port/jsonrpc ä½¿ç”¨ --rpc-user=user --rpc-passwd=pwd é€‰é¡¹è®¾ç½®ä¸º: http://user:pwd@host:port/jsonrpc ä»¥ä¸ŠJSON-RPC Path ä¸­çš„ http å¯ä»¥ç”¨ ws æ›¿ä»£, ä»£è¡¨ä½¿ç”¨ WebSocket åè®®ã€‚æ¢ç”¨ ws ä¹Ÿå¯èƒ½è§£å†³ â€œAria2 RPC æœåŠ¡å™¨é”™è¯¯â€ã€‚ å½“ä½¿ç”¨ https://aria2c.com è®¿é—®æ—¶, å¯èƒ½éœ€è¦ä½¿ç”¨ https æˆ– wss åè®®ã€‚  åœ¨ Web UI ä¸­å¯¹ Aria2 çš„è®¾ç½®ä¼šåœ¨ Aria2 é‡å¯åä¸¢å¤±,ï¼Œå¿…è¦çš„è®¾ç½®è¯·å†™å…¥é…ç½®æ–‡ä»¶ã€‚\nå·²ç»ä¸‹è½½å®Œæˆçš„ä»»åŠ¡ä¼šåœ¨ Aria2 é‡å¯åæ¶ˆå¤±, é™¤éå¯ç”¨äº† --force-save é€‰é¡¹ã€‚\nProtocol **HTTP / HTTPS / FTP / SFTP **\nè¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼ˆHTTP / HTTPSï¼‰å’Œ æ–‡ä»¶ä¼ è¾“åè®®ï¼ˆFTP / SFTPï¼‰å°†æ–‡ä»¶æ”¾åˆ°æœåŠ¡å™¨ä¸Šï¼Œç„¶åç”±æœåŠ¡å™¨ä¼ é€åˆ°ä¸åŒçš„ç”¨æˆ·æœºå™¨ä¸Šï¼Œç§°ä¸ºClient-Server Modelç®€ç§°C/Sæ¨¡å¼ï¼Œæˆ–è€…å«ä¸€å¯¹å¤šæ¨¡å¼ã€‚\nç¼ºç‚¹æ˜¯ï¼šå½“éå¸¸å¤šçš„ç”¨æˆ·åŒæ—¶è®¿é—®å’Œä¸‹è½½æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶æ—¶ï¼Œç”±äºæœåŠ¡å™¨å¤„ç†èƒ½åŠ›å’Œå¸¦å®½çš„é™åˆ¶ï¼Œä¸‹è½½é€Ÿåº¦ä¼šæ€¥å‰§ä¸‹é™ï¼Œæœ‰çš„ç”¨æˆ·å¯èƒ½è®¿é—®ä¸äº†æœåŠ¡å™¨ã€‚\nBitTorrent åè®®\nBitTorrent(ç®€ç§°BT)æ˜¯ä¸€ä¸ªæ–‡ä»¶åˆ†å‘åè®®ï¼Œæ¯ä¸ªä¸‹è½½è€…åœ¨ä¸‹è½½çš„åŒæ—¶ä¸æ–­å‘å…¶ä»–ä¸‹è½½è€…ä¸Šä¼ å·²ä¸‹è½½çš„æ•°æ®ã€‚BTåè®®ä¸FTPåè®®ä¸åŒï¼Œç‰¹ç‚¹æ˜¯ä¸‹è½½çš„äººè¶Šå¤šï¼Œä¸‹è½½é€Ÿåº¦è¶Šå¿«ï¼ŒåŸå› åœ¨äºæ¯ä¸ªä¸‹è½½è€…å°†å·²ä¸‹è½½çš„æ•°æ®æä¾›ç»™å…¶ä»–ä¸‹è½½è€…ä¸‹è½½ï¼Œå……åˆ†åˆ©ç”¨äº†ç”¨æˆ·çš„ä¸Šè½½å¸¦å®½ã€‚é€šè¿‡ä¸€å®šçš„ç­–ç•¥ä¿è¯ä¸Šä¼ é€Ÿåº¦è¶Šå¿«ï¼Œä¸‹è½½é€Ÿåº¦ä¹Ÿè¶Šå¿«ã€‚åœ¨å¾ˆçŸ­æ—¶é—´å†…ï¼ŒBitTorrentåè®®æˆä¸ºä¸€ç§æ–°çš„å˜é©æŠ€æœ¯ã€‚\nBitTorrent çš„å‘å±•ä¾èµ–äºå¯¹ç­‰ç½‘ç»œ (Peer - to - Peer ç®€ç§° P2P)ã€‚P2PæŠ€æœ¯ä½“ç°äº†äº’è”ç½‘æœ€æ ¹æœ¬çš„å†…æ¶µâ€”â€”è‡ªç”±å’Œå…è´¹ï¼Œå®ƒçš„ä¸»è¦ä¼˜ç‚¹å¦‚ä¸‹ï¼š\n å¯¹ç­‰æ€§é«˜ï¼šéä¸­å¿ƒåŒ–ï¼Œäº’è”ç½‘å›å½’æœ¬è‰²â€”â€”è”ç³»å’Œä¼ è¾“ï¼› æ‰©å±•æ€§å¼ºï¼šç”¨æˆ·æ‰©å±•ä¸èµ„æºã€æœåŠ¡ã€ç³»ç»ŸåŒæ­¥æ‰©å±•ï¼› å¥å£®æ€§é«˜ï¼šæœåŠ¡åˆ†æ•£å’Œè‡ªé€‚åº”ï¼Œè€æ”»å‡»ã€é«˜å®¹é”™æ€§ï¼› æ€§ä»·æ¯”é«˜ï¼šP2Pæˆæœ¬ä½ã€å­˜å‚¨å’ŒæŠ€æœ¯èƒ½åŠ›å¼ºï¼› è´Ÿè½½å‡è¡¡ï¼šåˆ†å¸ƒå­˜å‚¨å’ŒæŠ€æœ¯ï¼Œæ•´ä¸ªç½‘ç»œè´Ÿè½½å¾—ä»¥å‡è¡¡ã€‚  åœ¨P2Pç½‘ç»œä¸­ï¼Œæ¯ä¸ªå‚ä¸çš„èŠ‚ç‚¹æ—¢æ˜¯æœåŠ¡å™¨åˆæ˜¯å®¢æˆ·ç«¯ï¼Œæ—¢æ˜¯ä¿¡æ¯çš„æä¾›è€…åˆæ˜¯ä¿¡æ¯çš„æ¶ˆè´¹è€…ã€‚P2Pä¿¡æ¯æ£€ç´¢çš„ç›®çš„å°±æ˜¯ç½‘ç»œä¸­çš„ä»»æ„èŠ‚ç‚¹éƒ½å¯ä»¥æäº¤æ£€ç´¢çš„è¯·æ±‚ï¼Œç„¶åè¿™äº›æ£€ç´¢é€šè¿‡ç›¸å…³ä¿¡æ¯çš„èŠ‚ç‚¹å°†ä¼šå›åº”è¯·æ±‚ï¼ŒæŒ‰ç…§æŸç§è·¯ç”±æœºåˆ¶è·¯ç”±åˆ°æœ¬åœ°ç›¸å…³çš„å†…å®¹ï¼Œä»¥å¯¹ç­‰çš„å½¢å¼ç›´æ¥ä¼ é€åˆ°è¯·æ±‚èŠ‚ç‚¹ä¸Šã€‚\næ£€ç´¢è¿‡ç¨‹åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªé˜¶æ®µï¼šæ¯ä¸ªèŠ‚ç‚¹åœ¨åŠ å…¥ç½‘ç»œçš„æ—¶å€™ï¼Œä¼šå¯¹å­˜å‚¨åœ¨æœ¬èŠ‚ç‚¹ä¸Šçš„å†…å®¹è¿›è¡Œç´¢å¼•ï¼Œä»¥æ»¡è¶³æœ¬åœ°å†…å®¹æ£€ç´¢çš„ç›®çš„ã€‚ç„¶åæŒ‰æŸç§é¢„å®šçš„è§„åˆ™é€‰æ‹©ä¸€äº›èŠ‚ç‚¹ä½œä¸ºè‡ªå·±çš„é‚»å±…ï¼ŒåŠ å…¥åˆ°P2Pç½‘ç»œå½“ä¸­ã€‚å‘èµ·è€…Pæå‡ºæ£€ç´¢è¯·æ±‚qï¼Œå¹¶å°†qå‘é€ç»™è‡ªå·±çš„é‚»å±…ï¼ŒPçš„é‚»å±…æ”¶åˆ°qåï¼Œå†æŒ‰ç…§æŸç§ç­–ç•¥è½¬å‘ç»™å®ƒåœ¨ç½‘ç»œä¸­çš„å…¶å®ƒé‚»å±…èŠ‚ç‚¹ã€‚è¿™æ ·ï¼Œqå°±åœ¨æ•´ä¸ªç½‘ç»œä¸­ä¼ æ’­å¼€æ¥ã€‚æ”¶åˆ°è¯·æ±‚qçš„èŠ‚ç‚¹å¦‚æœå­˜å‚¨æœ‰ç›¸åº”å†…å®¹ä¿¡æ¯ , åˆ™å°†å¯¹åº”çš„å†…å®¹è¿”å›ã€‚\næ™®é€šçš„HTTP/FTPä¸‹è½½ä½¿ç”¨TCP/IPåè®®ï¼ŒBitTorrentåè®®æ˜¯æ¶æ„äºTCP/IPåè®®ä¹‹ä¸Šçš„ä¸€ä¸ªP2Pæ–‡ä»¶ä¼ è¾“åè®®ï¼Œå¤„äºTCP/IPç»“æ„çš„åº”ç”¨å±‚ã€‚ BitTorrentåè®®æœ¬èº«ä¹ŸåŒ…å«äº†å¾ˆå¤šå…·ä½“çš„å†…å®¹åè®®å’Œæ‰©å±•åè®®ï¼Œå¹¶åœ¨ä¸æ–­æ‰©å……ä¸­ã€‚\næ ¹æ®BitTorrentåè®®ï¼Œæ–‡ä»¶å‘å¸ƒè€…ä¼šæ ¹æ®è¦å‘å¸ƒçš„æ–‡ä»¶ç”Ÿæˆæä¾›ä¸€ä¸ª.torrentæ–‡ä»¶ï¼Œå³ç§å­æ–‡ä»¶ï¼Œä¹Ÿç®€ç§°ä¸ºâ€œç§å­â€ã€‚\nç§å­è¿˜æœ‰å¦‚ä¸‹ç›¸å…³æ¦‚å¿µï¼š\n å‘å¸ƒBTç§å­çš„äººï¼Œåšç§å¤šå°‘å¤©æŒ‡çš„å°±æ˜¯æŒç»­å¤šå°‘å¤©ä¸æ’¤ç§ã€‚è¿™æœŸé—´å¦‚æœæœ‰åˆ«äººä¸‹å®Œäº†ï¼Œå°±å«å‡ºç§ã€‚ä¸‹å®Œçš„äººå¯ä»¥ç»§ç»­åšç§ã€‚è¿™æ—¶å‘å¸ƒç§å­çš„äººå°±å¯ä»¥ä¸åšç§äº†ï¼Œå«æ’¤ç§ã€‚ ä¸€ä¸ªèµ„æºåªè¦æœ‰ä¸€ä¸ªäººåœ¨åšç§ï¼Œé‚£å°±å…¶ä»–äººå°±å¯ä»¥ç»§ç»­ä¸‹ã€‚å¦‚æœæ²¡äººåšç§äº†ï¼Œå«æ–­ç§ï¼Œè¿™æ˜¯èµ„æºå°±æ­»äº†ï¼Œä¸‹ä¸äº†äº†ã€‚æŸäººé•¿æ—¶é—´ä¸€ç›´åšç§ï¼Œå«ä¿ç§ã€‚  .torrentæ–‡ä»¶æœ¬è´¨ä¸Šæ˜¯æ–‡æœ¬æ–‡ä»¶ï¼ŒåŒ…å«Trackerä¿¡æ¯å’Œæ–‡ä»¶ä¿¡æ¯ä¸¤éƒ¨åˆ†ã€‚Trackerä¿¡æ¯ä¸»è¦æ˜¯BTä¸‹è½½ä¸­éœ€è¦ç”¨åˆ°çš„TrackeræœåŠ¡å™¨çš„åœ°å€å’Œé’ˆå¯¹TrackeræœåŠ¡å™¨çš„è®¾ç½®ï¼Œæ–‡ä»¶ä¿¡æ¯æ˜¯æ ¹æ®å¯¹ç›®æ ‡æ–‡ä»¶çš„è®¡ç®—ç”Ÿæˆçš„ï¼Œè®¡ç®—ç»“æœæ ¹æ®BitTorrentåè®®å†…çš„Bç¼–ç è§„åˆ™è¿›è¡Œç¼–ç ã€‚å®ƒçš„ä¸»è¦åŸç†æ˜¯éœ€è¦æŠŠæä¾›ä¸‹è½½çš„æ–‡ä»¶è™šæ‹Ÿåˆ†æˆå¤§å°ç›¸ç­‰çš„å—ï¼Œå—å¤§å°å¿…é¡»ä¸º2kçš„æ•´æ•°æ¬¡æ–¹ï¼ˆç”±äºæ˜¯è™šæ‹Ÿåˆ†å—ï¼Œç¡¬ç›˜ä¸Šå¹¶ä¸äº§ç”Ÿå„ä¸ªå—æ–‡ä»¶ï¼‰ï¼Œå¹¶æŠŠæ¯ä¸ªå—çš„ç´¢å¼•ä¿¡æ¯å’ŒHashéªŒè¯ç å†™å…¥ç§å­æ–‡ä»¶ï¼ˆ.torrentï¼‰ä¸­ã€‚æ‰€ä»¥ï¼Œç§å­æ–‡ä»¶ï¼ˆ.torrentï¼‰å°±æ˜¯è¢«ä¸‹è½½æ–‡ä»¶çš„â€œç´¢å¼•â€ã€‚\nä¸‹è½½è€…è¦ä¸‹è½½æ–‡ä»¶å†…å®¹ï¼Œéœ€è¦å…ˆå¾—åˆ°ç›¸åº”çš„.torrentæ–‡ä»¶ï¼Œç„¶åä½¿ç”¨BTå®¢æˆ·ç«¯è½¯ä»¶è¿›è¡Œä¸‹è½½ã€‚\nä¸‹è½½æ—¶ï¼ŒBTå®¢æˆ·ç«¯é¦–å…ˆè§£æ.torrentæ–‡ä»¶å¾—åˆ°Trackeråœ°å€ï¼Œç„¶åè¿æ¥TrackeræœåŠ¡å™¨ã€‚TrackeræœåŠ¡å™¨å›åº”ä¸‹è½½è€…çš„è¯·æ±‚ï¼Œæä¾›ä¸‹è½½è€…å…¶ä»–ä¸‹è½½è€…ï¼ˆåŒ…æ‹¬å‘å¸ƒè€…ï¼‰çš„IPã€‚ä¸‹è½½è€…å†è¿æ¥å…¶ä»–ä¸‹è½½è€…ï¼Œæ ¹æ®.torrentæ–‡ä»¶ï¼Œä¸¤è€…åˆ†åˆ«å¯¹æ–¹å‘ŠçŸ¥è‡ªå·±å·²ç»æœ‰çš„å—ï¼Œç„¶åäº¤æ¢å¯¹æ–¹æ²¡æœ‰çš„æ•°æ®ã€‚æ­¤æ—¶ä¸éœ€è¦å…¶ä»–æœåŠ¡å™¨å‚ä¸ï¼Œåˆ†æ•£äº†å•ä¸ªçº¿è·¯ä¸Šçš„æ•°æ®æµé‡ï¼Œå› æ­¤å‡è½»äº†æœåŠ¡å™¨è´Ÿæ‹…ã€‚\nä¸‹è½½è€…æ¯å¾—åˆ°ä¸€ä¸ªå—ï¼Œéœ€è¦ç®—å‡ºä¸‹è½½å—çš„HashéªŒè¯ç ä¸.torrentæ–‡ä»¶ä¸­çš„å¯¹æ¯”ï¼Œå¦‚æœä¸€æ ·åˆ™è¯´æ˜å—æ­£ç¡®ï¼Œä¸ä¸€æ ·åˆ™éœ€è¦é‡æ–°ä¸‹è½½è¿™ä¸ªå—ã€‚è¿™ç§è§„å®šæ˜¯ä¸ºäº†è§£å†³ä¸‹è½½å†…å®¹å‡†ç¡®æ€§çš„é—®é¢˜ã€‚\nä» BT å®¢æˆ·ç«¯è§’åº¦è€ƒè™‘ï¼Œä¸‹è½½åŸç†åˆ†ä¸ºä»¥ä¸‹å‡ æ­¥ï¼š\n æ ¹æ® BitTorrent åè®®ï¼Œæ–‡ä»¶å‘å¸ƒè€…ä¼šæ ¹æ®è¦å‘å¸ƒçš„æ–‡ä»¶ç”Ÿæˆæä¾›ä¸€ä¸ª .torrent æ–‡ä»¶ã€‚å®¢æˆ·ç«¯å¯ä» Web æœåŠ¡å™¨ä¸Šä¸‹è½½ç§å­æ–‡ä»¶ï¼Œå¹¶ä»ä¸­å¾—åˆ° Tracker æœåŠ¡å™¨ URLã€‚ æ ¹æ® Tracker URL ä¸ Tracker æœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼Œå¹¶ä»æœåŠ¡å™¨ä¸Šå¾—åˆ° Peers ä¿¡æ¯ã€‚ æ ¹æ® Peers ä¿¡æ¯ä¸ä¸€ä¸ª Peer å»ºç«‹è¿æ¥ï¼Œä¾æ® Peer wire åè®®å®Œæˆæ¡æ‰‹ï¼Œå¹¶ä» Peer ç«¯ä¸‹è½½æ•°æ®æ–‡ä»¶ã€‚åŒæ—¶ç›‘å¬ Peer çš„è¿æ¥ï¼Œå¹¶ç»™ Peer ä¸Šä¼ æ•°æ®æ–‡ä»¶ã€‚  è¿…é›·ï¼Œä¿—ç§°å¸è¡€é›·ï¼š\n å¸è¡€å°±æ˜¯æŒ‡ä¸€äº›å®¢æˆ·ç«¯åœ¨è¿›è¡ŒP2Pä¸‹è½½æ—¶ï¼Œä»å…¶å®ƒå®¢æˆ·ç«¯ä¸‹è½½çš„æ•°æ®é‡éå¸¸å¤šï¼Œä½†æ˜¯åˆ†äº«ç»™å…¶å®ƒå®¢æˆ·ç«¯çš„æ•°æ®éå¸¸å°‘ï¼Œä¸‹è½½å®Œæˆåç«‹å³å…³æœºèµ°äººçš„è¡Œä¸º è€Œè¿…é›·å°±æ˜¯è¿™æ ·çš„ä¸€ä¸ªä¸‹è½½å™¨ï¼Œè¿…é›·çš„æœåŠ¡å™¨ç–¯ç‹‚ç´¢å–èµ„æºï¼Œä½†è‡ªå·±åˆä¸ä¸Šä¼ èµ„æºç»™åˆ«äººï¼‰ï¼Œå½“æ”¶é›†äº†å¤§é‡èµ„æºåï¼Œè¿›è€Œä¸‹è½½é™é€Ÿï¼Œå¼€å¯ä»˜è´¹ä¼šå‘˜åˆ¶åº¦  BTä¸‹è½½è®²ç©¶å…±äº«ç²¾ç¥ï¼Œè¿™è·Ÿäº’è”ç½‘çš„å…±äº«ç²¾ç¥ä¸€è„‰ç›¸æ‰¿ï¼Œæ‰€ä»¥è¯·ä¸è¦åœ¨BTä¸‹è½½å™¨è®¾ç½®é‡Œé¢é™åˆ¶ä¸Šä¼ é€Ÿåº¦ã€‚\né‰´äºè¿™ç±»è‡ªç§è¡Œä¸ºå¯¹å…¶å®ƒåˆç†ä½¿ç”¨P2Pç½‘ç»œçš„ç”¨æˆ·çš„ä¼¤å®³ï¼Œç°åœ¨çš„å¾ˆå¤šP2Pè½¯ä»¶éƒ½åŠ å…¥åå¸è¡€åŠŸèƒ½ã€‚å°±æ˜¯è¯´æ£€æµ‹åˆ°ç‰¹å®šç”¨æˆ·çš„å¸è¡€è¡Œä¸ºæˆ–è€…å¸è¡€è½¯ä»¶æ—¶è‡ªåŠ¨å¯¹è¿™äº›ç”¨æˆ·é™æƒå¤„ç†ï¼Œç®€å•æ¥è¯´å°±æ˜¯ä½ çš„ä¸Šä¼ é€Ÿåº¦ä½çš„è¯ï¼Œä½ çš„ä¸‹è½½é€Ÿåº¦ä¹Ÿä¸ä¼šç‰¹åˆ«å¿«ã€‚\nè¿™é‡Œåˆè¦å¤šå˜´ä¸€å¥\n è¿…é›·é ç€è‡ªèº«åœ¨å›½å†…å¤šå¹´çš„å‘å±•ï¼ŒæœåŠ¡å™¨é‡Œå›¤ç§¯äº†å¤§é‡èµ„æºï¼Œæ‰€ä»¥å¾ˆå¤šå…¶ä»–BTä¸‹è½½å™¨ä¸‹è½½ä¸åŠ¨çš„èµ„æºï¼Œå¯èƒ½åªæœ‰è¿…é›·ä¸‹è½½çš„åŠ¨ï¼ˆå› ä¸ºå®ƒåŸæ¥ä»åˆ«äººé‚£é‡Œä¸‹è½½äº†åå­˜åœ¨äº†å®ƒçš„æœåŠ¡å™¨ä¸Šï¼‰ åŒç†ï¼Œå¾ˆå¤šæ–‡ä»¶å¯èƒ½åªæœ‰115æ‰èƒ½èƒ½ç¦»çº¿ä¸‹è½½ï¼Œä¹Ÿæ˜¯å› ä¸ºå½“å¹´çš„115å°±å­˜å‚¨äº†å¤§é‡çš„èµ„æºåœ¨å®ƒæœåŠ¡å™¨ä¸Š è¿™é‡Œé¡ºä¾¿å¯ä»¥è¯´ä¸€ä¸‹ï¼Œæ‰€è°“çš„ç™¾åº¦äº‘ç§’ç¦»çº¿åŠŸèƒ½ï¼Œä¸è¿‡æ˜¯åœ¨ä½ ç¦»çº¿ä¸‹è½½ä¹‹å‰ï¼Œå·²ç»æœ‰äººæŠŠè¿™ä¸ªæ–‡ä»¶ç¦»çº¿ä¸‹è½½åˆ°ç™¾åº¦äº‘æœåŠ¡å™¨ä¸­äº†  BTä¸‹è½½å¸¦æ¥çš„å¥½å¤„\n å¿«ã€‚å‡å°‘äº†ç½‘è·¯ä¼ è¾“èŠ‚ç‚¹ã€‚ å‡è½»æœåŠ¡å™¨å‹åŠ›ã€‚å¦‚æœæŸå…¬å¸æœ‰æ–°ç‰ˆæœ¬è½¯ä»¶æ¨å‡ºï¼ˆå¦‚LOLæ¸¸æˆæ›´æ–°æ—¶ï¼‰ï¼ŒæœåŠ¡å™¨å¿…å®šä¼šäººå±±äººæµ·ï¼Œè€Œä½¿ç”¨BTèƒ½å¤§å¤§å‡è½»æœåŠ¡å™¨çš„è´Ÿæ‹…ï¼ŒèŠ‚çº¦æœåŠ¡å™¨çš„è´­ç½®æˆæœ¬ã€‚ ä¿æŠ¤éšç§ã€‚ä¸æœ‰httpé‚£ç§ä¸­å¤®æœåŠ¡å™¨çš„ç½‘ç»œç³»ç»Ÿä¸åŒï¼ŒBTä¸‹è½½èŠ‚ç‚¹èƒ½éå¸ƒæ•´ä¸ªäº’è”ç½‘ï¼ˆæ¯ä¸ªäººéƒ½æ˜¯åˆ†äº«è€…ä¸ä¸‹è½½è€…ï¼‰ï¼Œç»™åŒ…æ‹¬å¼€å‘è€…åœ¨å†…çš„ä»»ä½•äººã€ç»„ç»‡ã€æˆ–æ”¿åºœå¸¦æ¥ç›‘æ§éš¾é¢˜ã€‚  åå¤„å½“ç„¶ä¹Ÿæœ‰ï¼Œä»ä¸Šé¢ç¬¬3ç‚¹ä¸éš¾å¾—å‡ºï¼ŒBTä¸‹è½½å¾ˆå®¹æ˜“å¯¼è‡´ä¸€ä¸ªé—®é¢˜ï¼šç›—ç‰ˆæ³›æ»¥â€”â€”æµ·ç›—æ¹¾ã€‚\nä¸Šé¢è¯´è¿‡äº†ï¼Œæƒ³åŠ å…¥BTä¸‹è½½çš„æ— ä¸­å¿ƒç½‘ç»œï¼Œé¦–å…ˆéœ€è¦æ‰¾TrackeræœåŠ¡å™¨é—®è·¯ï¼Œäºæ˜¯TrackeræœåŠ¡å™¨æˆä¸ºäº†ç‰ˆæƒç»„ç»‡æ‰“å‡»çš„é‡ç‚¹ï¼Œä»–ä»¬çš„æƒ³æ³•å¾ˆæ˜ç¡®ï¼Œåªè¦é™¤æ‰äº†Trackerï¼ŒBTä¸‹è½½å°±å®Œäº†ã€‚\nç„¶è€Œé­”é«˜ä¸€å°ºé“é«˜ä¸€ä¸ˆï¼Œéœ€æ±‚å¸¦åŠ¨å‘å±•ï¼Œè¿™åè€Œä¿ƒä½¿äº†BTæŠ€æœ¯çš„ä¸€æ¬¡å¤§å‡çº§ï¼Œè¿™å¸¦æ¥äº†ç£åŠ›é“¾æ¥ã€‚\nMagNet åè®®\nMagNetåè®®ï¼Œä¹Ÿå°±æ˜¯ç£åŠ›é“¾æ¥ï¼Œç®€ç§°ç£é“¾ã€‚ Magnetä¸éœ€è¦TrackeræœåŠ¡å™¨ï¼Œä¹Ÿä¸éœ€è¦.torrentæ–‡ä»¶ï¼Œä»…éœ€è¦ä¸€ä¸²å­—ç¬¦å°±å¯ä»¥è¿›è¡Œæ–‡ä»¶ä¸‹è½½ã€‚\nç£åŠ›é“¾æ¥åŸºäºçš„æ˜¯DHTç½‘ç»œæŠ€æœ¯ï¼Œå› æ­¤å¯ä»¥åœ¨æ— å›ºå®šTrackeræœåŠ¡å™¨çš„æƒ…å†µä¸‹ä¸‹è½½ï¼Œå®é™…è¿‡ç¨‹æ˜¯æŠŠæ‰€æœ‰ä¸‹è½½è€…éƒ½å˜æˆä¸€ä¸ªå°å‹TrackeræœåŠ¡ã€‚\nDHTæŠ€æœ¯ï¼š2002å¹´ï¼Œçº½çº¦å¤§å­¦çš„ä¸¤ä¸ªæ•™æˆPetar Maymounkovå’ŒDavid MaziÃ¨reså‘è¡¨äº†ä¸€ç¯‡è®ºæ–‡ï¼Œæå‡ºäº†ä¸€ç§çœŸæ­£å»ä¸­å¿ƒåŒ–çš„â€œç‚¹å¯¹ç‚¹â€ä¸‹è½½æ¨¡å‹ï¼Œä»–ä»¬å°†å…¶ç§°ä¸ºKademliaæ–¹æ³•ã€‚2005å¹´ï¼ŒBTè½¯ä»¶å¼€å§‹å¼•å…¥è¿™ç§æŠ€æœ¯ï¼Œåœ¨BTä¸­è¢«ç§°ä¸ºDHTåè®®ï¼ˆDistributed Hash Tableï¼Œåˆ†å¸ƒå¼å“ˆå¸Œè¡¨ï¼‰ã€‚\nDHTæ˜¯ä¸€ç§åˆ†å¸ƒå¼å­˜å‚¨æ–¹æ³•ã€‚DHTçš„ä½œç”¨æ˜¯æ‰¾åˆ°é‚£äº›ä¸æœ¬æœºæ­£åœ¨ä¸‹è½½ï¼ˆä¸Šä¼ ï¼‰ç›¸åŒæ–‡ä»¶çš„å¯¹ç«¯ä¸»æœºï¼ˆPeerï¼‰ï¼Œå½“ç„¶ï¼Œå®ç°è¿™ä¸€è¿‡ç¨‹å¹¶ä¸ä¾èµ–TrackeræœåŠ¡å™¨ã€‚åœ¨DHTç½‘ç»œä¸­çš„æ¯ä¸ªå®¢æˆ·ç«¯è´Ÿè´£ä¸€ä¸ªå°èŒƒå›´çš„è·¯ç”±ï¼Œå¹¶è´Ÿè´£å­˜å‚¨ä¸€å°éƒ¨åˆ†æ•°æ®ï¼Œä»è€Œå®ç°æ•´ä¸ªDHTç½‘ç»œçš„å¯»å€å’Œå­˜å‚¨ã€‚è¿™ç§ä¿¡æ¯è·å–æ–¹å¼ä¿è¯äº†æ•´ä¸ªç½‘ç»œæ²¡æœ‰å•ä¸ªçš„ä¸­å¿ƒï¼Œå³ä½¿ä¸€ä¸ªèŠ‚ç‚¹ä¸‹çº¿ï¼Œä¾ç„¶å¯ä»¥é€šè¿‡å…¶ä»–èŠ‚ç‚¹æ¥è·å–æ–‡ä»¶ï¼Œå› æ­¤ä¹Ÿå°±ä¸éœ€è¦TrackeræœåŠ¡å™¨æ¥å‘Šè¯‰ä½ ï¼Œå…¶ä»–èŠ‚ç‚¹åœ¨ä»€ä¹ˆåœ°æ–¹ã€‚\nPEXï¼šæ˜¯Peer Exchangeçš„ç®€å†™ï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶ç†è§£ä¸ºâ€œèŠ‚ç‚¹ä¿¡æ¯äº¤æ¢â€ã€‚è™½ç„¶DHTè§£å†³äº†å»ä¸­å¿ƒåŒ–çš„é—®é¢˜ï¼Œä½†è¦åœ¨æ²¡æœ‰â€œä¸­å¿ƒåè°ƒå‘˜â€ï¼ˆTrackerï¼‰çš„æƒ…å†µä¸‹å®ç°é«˜æ•ˆå¯»å€ï¼Œå°±è¦å€ŸåŠ©PEXã€‚PEXæ‰€æä¾›çš„åŠŸèƒ½æœ‰ç‚¹ç±»ä¼¼äºä»¥å‰çš„TrackeræœåŠ¡å™¨ï¼Œä½†å·¥ä½œæ–¹å¼å´éå¸¸ä¸åŒï¼Œæˆ‘ä»¬å¯ä»¥æ‰“ä¸ªæ¯”æ–¹æ¥è¯´æ˜ï¼š\n å½“ä½ å¾—åˆ°ä¸€ä¸ªç£åŠ›é“¾æ¥å¹¶è¿›è¡Œä¸‹è½½æ—¶ï¼Œä½¿ç”¨æ¯”å¦‚è¿…é›·ï¼Œè¿…é›·å°±ä¼šå®ä¾‹åŒ–å‡ºä¸€ä¸ªDHTèŠ‚ç‚¹ï¼ŒåŠ å…¥DHTç½‘ç»œ æŠŠDHTç½‘ç»œæ¯”ä½œä¸€ä¸ªæœ‹å‹åœˆå­ï¼Œå½“ä½ è¢«Aå¸¦è¿›è¿™ä¸ªæœ‹å‹åœˆï¼Œæ­¤åˆ»ä½ å°±åªè®¤è¯†Aè€Œå·² ä½†æ˜¯ä½ çš„ç›®çš„æ˜¯æƒ³æ‰¾å”çº³å¾·Â·ç‰¹æœ—æ™®ï¼ˆå·æ™®ï¼‰æ€»ç»Ÿï¼Œæ‰€ä»¥ä½ å°±é—®Aè¦å·æ™®çš„è”ç³»æ–¹å¼ï¼Œä½†æ˜¯Aä¹Ÿæ²¡æœ‰å·æ™®çš„è”ç³»æ–¹å¼ï¼Œ ä»–ä»‹ç»äº†ä¸€ä¸ªç¾å›½æœ‹å‹Bç»™ä½ è®¤è¯† äºæ˜¯ä½ å»é—®Bè¦å·æ™®çš„è”ç³»æ–¹å¼ï¼ŒBå…¶å®ä¹Ÿæ²¡æœ‰å·æ™®çš„è”ç³»æ–¹å¼ï¼Œä½†æ˜¯Bè®¤è¯†ä¸€ä¸ªç¾å›½å·é•¿C äºæ˜¯ä½ åˆå¾—åˆ°äº†Cçš„è”ç³»æ–¹å¼ï¼ŒCæŠŠå·æ™®çš„è”ç³»æ–¹å¼å‘Šè¯‰ä½ ä¹‹åï¼Œä½ å°±å¯ä»¥å†™ä¿¡æˆ–è€…è‡´ç”µç»™å·æ™®äº†  è¿™é‡Œç›¸å…³çš„æœ‰ä¸ªæœ‰è¶£çš„ç†è®ºã€Œå…­åº¦åˆ†éš”ç†è®ºã€ï¼ˆä¹Ÿå«å…­åº¦ç©ºé—´ç†è®ºï¼‰ï¼šç®€å•æ¥è¯´ï¼Œå°±æ˜¯æœ€å¤šé€šè¿‡6ä¸ªä¸­é—´äººä½ å°±èƒ½å¤Ÿè®¤è¯†ä¸–ç•Œä¸Šä»»ä½•ä¸€ä¸ªé™Œç”Ÿäººã€‚\nMagnet linksï¼ˆç£åŠ›é“¾æ¥ï¼‰ç¤ºä¾‹ï¼š\nmagnet:?xt=urn:btih:36684b463ca2aa2f9347b18e9f6b1a9090bdb073\u0026amp;dn=Microsoft+iSCSI+Initiator  magnetï¼šåè®®åã€‚ xtï¼šexact topicçš„ç¼©å†™ï¼Œè¡¨ç¤ºèµ„æºå®šä½ç‚¹ã€‚BTIHï¼ˆBitTorrent Info Hashï¼‰è¡¨ç¤ºå“ˆå¸Œæ–¹æ³•åï¼Œè¿™é‡Œè¿˜å¯ä»¥ä½¿ç”¨SHA1å’ŒMD5ã€‚è¿™ä¸ªå€¼æ˜¯æ–‡ä»¶çš„æ ‡è¯†ç¬¦ï¼Œæ˜¯ä¸å¯ç¼ºå°‘çš„ã€‚ dnï¼šdisplay nameçš„ç¼©å†™ï¼Œè¡¨ç¤ºå‘ç”¨æˆ·æ˜¾ç¤ºçš„æ–‡ä»¶åã€‚è¿™æ˜¯ä¸€ä¸ªå¯é€‰é¡¹ã€‚ trï¼štrackerçš„ç¼©å†™ï¼Œè¡¨ç¤ºtrackeræœåŠ¡å™¨çš„åœ°å€ã€‚è¿™æ˜¯ä¸€ä¸ªå¯é€‰é¡¹ï¼Œæœ¬ä¾‹ä¸­å¹¶æœªå‡ºç°ã€‚  å¯èƒ½çœ‹å‡ºäº†DHT+PEX+Magnet Linkæ¨¡å¼ä¸­çš„ä¸€ä¸ªé—®é¢˜â€”â€”BTå®¢æˆ·ç«¯çš„â€œç¬¬ä¸€æ­¥æ˜¯å¦‚ä½•è¿ˆå‡ºçš„â€ï¼Œå¥—ç”¨åœ¨ä»‹ç»PEXæ—¶ä½¿ç”¨çš„ä¾‹å­ï¼Œé‚£å°±æ˜¯ä½ æ€æ€ä¹ˆè¿›å…¥Açš„è¿™ä¸ªæœ‹å‹åœˆçš„ï¼ˆå³DHTèŠ‚ç‚¹å¦‚ä½•è¿›å…¥DHTç½‘ç»œï¼‰ï¼Ÿè¿™ç¡®å®æ˜¯ä¸ªé—®é¢˜ã€‚è§£å†³è¿™ä¸ªé—®é¢˜ä¾ç„¶éœ€è¦ä¸€å°æœåŠ¡å™¨ï¼ˆbootstrap nodeï¼‰ï¼Œä¸è¿‡è¿™å°æœåŠ¡å™¨æ‰€èµ·çš„ä½œç”¨ä¸Trackerä¸åŒï¼Œå®ƒä»…è´Ÿè´£æ¥çº³DHTèŠ‚ç‚¹å¦‚ä½•è¿›å…¥DHTç½‘ç»œï¼Œå½“DHTèŠ‚ç‚¹ä¸å…¶å®ƒDHTèŠ‚ç‚¹â€œæ­ä¸Šäº†è¯â€ï¼Œä¹‹åè¿™å°æœåŠ¡å™¨å°±æ²¡æœ‰ä»€ä¹ˆç”¨å¤„äº†ã€‚bootstrap nodeå¯ä»¥æ˜¯ä¸åŒBTå®¢æˆ·ç«¯å‚å•†ç‹¬ç«‹è¿è¥çš„ï¼Œä¹Ÿå¯ä»¥æ˜¯å‡ å®¶è”åˆå…±ç”¨ï¼Œæ€»ä¹‹ï¼Œå®ƒæ˜¯åˆ†æ•£çš„ï¼Œåªè¦åœ¨å®¢æˆ·ç«¯è½¯ä»¶ä¸­å†…ç½®ä¸€å¼ è¡¨å•ï¼Œé‚£å®¢æˆ·ç«¯å°±å°†æœ‰éå¸¸å¤šçš„å…¥å£å¯ä¾›é€‰æ‹©ã€‚\neD2k åè®®\nBT / ç£åŠ› / eD2kéƒ½æ˜¯P2PæŠ€æœ¯ ã€‚eD2ké“¾æ¥å¯¹åº”çš„å®¢æˆ·ç«¯ï¼Œå¦‚eMuleç”µéª¡æ˜¯å…±äº«è½¯ä»¶ï¼Œè€ŒMagnetç£é“¾å¯¹åº”çš„BTè½¯ä»¶åˆ™æ˜¯ä¸‹è½½è½¯ä»¶ã€‚è¿™è®©å®ƒä»¬åœ¨ä½¿ç”¨ä¸Šï¼Œæœ‰ç€å¾ˆå¤šæ ¹æœ¬æ€§çš„åŒºåˆ«ï¼š\n BTä½¿ç”¨çš„æ—¶å€™ï¼Œåªè¦ä½ ä¸ä¸‹è½½ä¸œè¥¿ä½ å°±ä¸ä¼šä¸Šä¼  eMuleç”µéª¡ä¸åŒï¼Œæ¯”å¦‚ï¼Œå¼€å¯eMuleç”µéª¡åï¼Œç¬¬ä¸€ä»¶äº‹åšçš„å¹¶ä¸æ˜¯ä»€ä¹ˆä¸‹è½½ï¼Œè€Œæ˜¯è®¾ç½®å…±äº«ç›®å½•ï¼Œè¯¥ç›®å½•ä¸­çš„æ‰€æœ‰æ–‡ä»¶ï¼Œéƒ½ä¼šå®æ—¶å…±äº«åˆ°eD2kç½‘ç»œå’ŒKADç½‘ç»œä¸­ã€‚ ç›®å½•ä¸­å…±äº«äº†çš„æ–‡ä»¶éƒ½ä¼šç”ŸæˆeD2ké“¾æ¥ï¼Œæ‰€æœ‰äººé€šè¿‡ç›¸åº”çš„eD2ké“¾æ¥ï¼Œéƒ½èƒ½å¤Ÿæ‹¿åˆ°ä½ å…±äº«çš„æ–‡ä»¶ï¼Œä¸€æ—¦æœ‰äººä¸‹è½½ç›¸åº”æ–‡ä»¶ï¼Œé‚£ä¹ˆä½ çš„eMuleå®¢æˆ·ç«¯å°±ä¼šä¸Šä¼ æ•°æ®ï¼Œæ¢è¨€ä¹‹ï¼Œä½ æƒ³ä¸‹è½½åˆ«äººçš„æ–‡ä»¶ï¼Œéœ€è¦åˆ«äººå¼€ç€eMuleå®¢æˆ·ç«¯ æˆ‘ä»¬å¹³æ—¶ä½¿ç”¨eD2ké“¾æ¥ä¸‹è½½ï¼Œèµ„æºä¹Ÿæ˜¯æ¥è‡ªä»–äººeMuleæ‰€å…±äº«çš„æ–‡ä»¶çš„ã€‚å½“ç„¶ï¼Œå…±äº«ç›®å½•ä¸­ä¹Ÿå¯ä»¥å•¥éƒ½ä¸æ”¾ï¼Œä½†å¾ˆå¤šeMuleå®¢æˆ·ç«¯éƒ½æ‹¥æœ‰é˜Ÿåˆ—ä¼˜å…ˆçº§æœºåˆ¶ï¼Œä¸Šä¼ å¾—å°‘ï¼Œä¸‹è½½é€Ÿåº¦ä¹Ÿä¼šè¢«é™åˆ¶ã€‚  ç”µé©´å¯ä»¥è¯´æ˜¯è¿›åŒ–ç‰ˆçš„BTï¼Œç”¨æˆ·ä¸éœ€è¦ä¸‹è½½ä»€ä¹ˆç§å­æ–‡ä»¶äº†ï¼Œç›´æ¥åœ¨â€œç”µé©´â€è½¯ä»¶ä¸Šè¾“å…¥eD2kå¼€å¤´çš„ä¸€é•¿ä¸²ä»£ç ä¸€æ ·çš„é“¾æ¥ï¼Œå°±èƒ½ä¸‹è½½ã€‚\nç”µé©´ä»¥åŠåæ¥çš„ç”µéª¡ã€VERYCDç”µé©´è¿˜æœ‰å„ç§ç±»ä¼¼çš„è½¯ä»¶ï¼Œé‡‡ç”¨çš„eD2kç½‘ç»œä»æ˜¯åŸºäºæœåŠ¡å™¨çš„ï¼Œä½ éœ€è¦è¿æ¥åˆ°æœåŠ¡å™¨å¹¶ä»æœåŠ¡å™¨ç´¢å¼• / æŸ¥æ‰¾ç”¨æˆ·æˆ–è€…æ–‡ä»¶\né‡è¦çš„æ˜¯ç”µé©´æä¾›çš„å…¶ä¸­ä¸€ç§æ¨¡å¼â€”â€”KADç½‘ç»œï¼ˆç±»ä¼¼ç£åŠ›ä¸‹è½½ä¸­çš„DHTç½‘ç»œï¼‰ï¼Œèƒ½å¤Ÿè„±ç¦»ä¸­å¤®æœåŠ¡å™¨ï¼Œç›´æ¥å®ç°ç½‘ç»œæ¥ç”¨æˆ·ä¹‹é—´çš„ç‚¹å¯¹ç‚¹ä¼ è¾“\nå†å²è¯æ˜ï¼Œè¿™ä¸ªè„±ç¦»ä¸­å¤®æœåŠ¡å™¨çš„é©æ–°ï¼ŒçœŸçš„ååˆ†ååˆ†çš„é‡è¦â€”â€”è¿™æ˜¯ç”µé©´è½¯ä»¶åœ¨é¢å¯¹ç›—ç‰ˆé—®é¢˜æ—¶ï¼Œèƒ½å¤Ÿç”Ÿå­˜ä¸‹æ¥çš„ä¸»è¦åŸå› ï¼Œå› ä¸ºä»–ä»¬å¯ä»¥è¯´ï¼Œé‚£æ˜¯ç”¨æˆ·ä¹‹é—´çš„è‡ªå‘ä¼ è¾“è¡Œä¸ºï¼Œæ²¡æœ‰ç»è¿‡æœåŠ¡å™¨\nä½†æ˜¯ï¼Œå°½ç®¡ç”µé©´åšäº†å¦‚æ­¤å¤šçš„é©æ–°ï¼Œä½†è¿˜æ˜¯é€ƒä¸è¿‡è¢«æ—¶ä»£æ·˜æ±°çš„å‘½è¿ï¼Œå®¢æˆ·ç«¯å¯¹äºå¤§éƒ¨åˆ†äººæ¥è¯´é…ç½®èµ·æ¥ååˆ†å¤æ‚ï¼Œæ„¿æ„ä¸€ç›´å¼€ç€æœåŠ¡å™¨ä¸Šä¼ èµ„æºçš„äººè¶Šæ¥è¶Šå°‘ï¼Œæ›´å¤šäººåªæƒ³å•çº¯çš„ç´¢å–ï¼ˆç±»ä¼¼ä¸Šæ–‡æåˆ°çš„è¿…é›·å¸è¡€è¡Œä¸ºï¼‰ï¼Œå¦‚ä»Šä½¿ç”¨eD2kåˆ†äº«èµ„æºçš„äººå®åœ¨ç®—å°‘æ•°ï¼Œè¿œä¸å¦‚ç£åŠ›ä¸‹è½½ã€‚\nOthers AriaNg\nAriaNg æ˜¯ä¸€ä¸ªè®© aria2 æ›´å®¹æ˜“ä½¿ç”¨çš„ç°ä»£ Web å‰ç«¯\n ä½¿ç”¨å¾ˆç®€å•ï¼Œå°†æ–‡ä»¶ä¸‹è½½è§£å‹å³å¯ï¼Œå¯ä»¥æœ¬åœ°æ‰“å¼€ index.html æ–‡ä»¶ï¼Œä¹Ÿå¯ä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚ å¦‚æœæ‚¨æ‡’å¾—éƒ¨ç½² AriaNg ï¼Œå¯ä»¥ç›´æ¥è®¿é—®ç°æˆçš„ http://a2.ssss.fun ã€‚ æ‰“å¼€åéœ€è¦é…ç½® AriaNgï¼Œæ‰“å¼€ AriaNg è®¾ç½® - RPCï¼Œä¿®æ”¹ Aria2 RPC åœ°å€ å’Œ Aria2 RPC å¯†é’¥ ï¼Œç‚¹å‡» é‡æ–°åŠ è½½ AriaNg å³å¯ã€‚  WebUI-Aria2\nè¿™ä¸ªé¡¹ç›®çš„ç›®æ ‡æ˜¯åˆ›å»ºä¸–ç•Œä¸Šæœ€å¥½å’Œæœ€çƒ­é—¨çš„ç•Œé¢æ¥ä¸ aria2 äº¤äº’ã€‚\nä½¿ç”¨éå¸¸ç®€å•ï¼Œåªéœ€åœ¨ä»»ä½•ç½‘ç»œæµè§ˆå™¨ä¸­ä¸‹è½½å¹¶æ‰“å¼€ index.htmlã€‚\nAria2 for \u0026hellip;.\næ¯”å¦‚ YAAW for Chromeã€Aria2 for Chrome ã€Aria2 for Edge ä¹‹ç±»çš„ã€‚\nåœ¨æµè§ˆå™¨ä¸­ç›´æ¥å†…ç½®ä¸€ä¸ª AriaNgï¼Œç”¨äºç›´æ¥ç®¡ç† Aria2ã€‚\nUsing Aria2 as a Daemon\nè¿è¡Œ gnome-session-propertiesæ‰“å¼€åº”ç”¨ç¨‹åºé¦–é€‰é¡¹ç®¡ç†ï¼Œæ·»åŠ ï¼š\n Name: Aria2 Daemon Command: /usr/bin/aria2c --conf-path=/home/kurome/.aria2/aria2.conf -D  ä¼šå»ºç«‹ .config/autostart/aria2c.desktop\n[Desktop Entry] Type=Application Exec=/usr/bin/aria2c --conf-path=/home/vane/.aria2/aria2.conf -D Hidden=false NoDisplay=false X-GNOME-Autostart-enabled=true Name[en_US]=Aria2 Daemon Name=Aria2 Daemon Comment[en_US]= Comment= BT ä¸‹è½½é¢„çƒ­\næ˜¯è¿™æ ·æ»´ï¼Œå’Œå¾ˆå¤šBTå®¢æˆ·ç«¯ä¸€æ ·ï¼ŒAria2æœ‰ä¸ªdht.datæ–‡ä»¶(å¼€å¯ipv6è¿˜æœ‰ä¸ªdht6.dat)ï¼Œè¿™ç©æ„ç”¨äºå­˜å‚¨ä¸€ç§å«åšDHT Routing Tableçš„ä¸œè¥¿ï¼ŒDHTç½‘ç»œç”±æ— æ•°èŠ‚ç‚¹ç»„æˆï¼Œä½ æ¥è§¦åˆ°ä¸€ä¸ªåèƒ½é€šè¿‡å®ƒæ¥è§¦åˆ°æ›´å¤šçš„èŠ‚ç‚¹ï¼ŒAria2æˆ‘è®°å¾—æ˜¯æœ‰å†…ç½®çš„èŠ‚ç‚¹ï¼Œä½†æ˜¯ï¼å¦‚æœä½ åœ¨Aria2ç¬¬ä¸€æ¬¡è¿è¡Œçš„æ—¶å€™ç›´æ¥ä¸‹è½½ç£åŠ›é“¾æ¥æˆ–è€…å†·é—¨ç§å­ï¼Œä½ å¾ˆå¯èƒ½é‡åˆ°è¿MetaDataéƒ½æ— æ³•è·å–çš„æƒ…å†µï¼Œè¿™å°±æ˜¯å› ä¸ºç¬¬ä¸€æ¬¡åªæ˜¯åˆå§‹åŒ–dht.datæ–‡ä»¶ï¼Œä½ æœ¬åœ°ä¸å­˜åœ¨DHT Routing Tableçš„ç¼“å­˜ï¼Œæ‰€ä»¥ä½ æ— æ³•ä»DHTç½‘ç»œä¸­è·å–è¶³å¤Ÿçš„æ•°æ®ã€‚\né‚£ä¹ˆæ€ä¹ˆåŠï¼Ÿæˆ‘çš„å»ºè®®æ˜¯ï¼Œæ‰¾ä¸ªçƒ­é—¨ç§å­(åƒä¸‡å»ºè®®æ˜¯ç§å­ï¼Œè€Œä¸æ˜¯ç£åŠ›é“¾æ¥)ï¼Œç„¶åä¸‹ä¸€æ³¢ï¼ŒæŒ‚ç€åšç§ï¼Œè¿‡å‡ ä¸ªå°æ—¶åé€€å‡ºAria2ï¼Œæˆ–è€…ç­‰Aria2ä¼šè¯è‡ªåŠ¨ä¿å­˜ï¼Œä½ ä¼šå‘ç°dht.datä»ç©ºæ–‡ä»¶å˜æˆæœ‰æ•°æ®äº†ï¼Œè¿™æ—¶å€™ä½ ä¸‹è½½å°±ä¼šæ­£å¸¸å¾ˆå¤šã€‚\nä»€ä¹ˆæ˜¯PTï¼ŒPTå’ŒBTæœ‰ä»€ä¹ˆä¸åŒï¼Ÿ\nç­”ï¼šPTï¼ˆPrivate Trackerï¼‰ä¸‹è½½å…¶å®ä¹Ÿæ˜¯Btä¸‹è½½çš„ä¸€ç§ï¼Œä½†æœ‰ä¸¤ä¸ªæ˜æ˜¾çš„æ”¹è¿›ï¼šä¸€æ˜¯ç§å¯†çš„å°èŒƒå›´ä¸‹è½½ï¼ŒäºŒæ˜¯è¿›è¡Œæµé‡ç»Ÿè®¡ï¼Œæ ¹æ®ä¸Šè½½é‡å†³å®šä½ çš„æƒé™ã€‚\nBTä¸‹è½½æ—¶ï¼Œè½¯ä»¶ä¼šåˆ†æ.torrentç§å­æ–‡ä»¶å¾—åˆ°Trackeråœ°å€ï¼Œç„¶åè¿æ¥TrackeræœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨è¿”å›å…¶ä»–ä¸‹è½½è€…çš„IPï¼Œä¸‹è½½è€…å†ä¸è¿™äº›IPè”ç³»è¿›è¡Œä¸‹è½½ï¼Œä»è€Œå‡è½»äº†æœåŠ¡å™¨çš„è´Ÿæ‹…ï¼ŒBTä¸‹è½½çš„Trackeræ˜¯å…¬å¼€çš„ï¼Œè€ŒPrivate Tracker ä¸‹è½½(PTä¸‹è½½)çš„Trackeråˆ™æ˜¯ç§æœ‰çš„ï¼Œæ¯ä¸ªäººçš„Trackeræ˜¯ä¸åŒçš„ï¼Œå³passkeyä¸åŒï¼Œpasskeyå¯¹PTä¸‹è½½è€…å¾ˆé‡è¦ï¼Œæ‰€ä»¥ä¸è¦è½»æ˜“æ³„éœ²å‡ºå»ã€‚\nå…¶å®å’Œé€šå¸¸BTç›¸æ¯”ï¼ŒPTå°±æ˜¯å¤šäº†ä¸€ä¸ªpasskeyéªŒè¯ï¼Œè¿™æ ·å°±èƒ½ä¿è¯æœªæ³¨å†Œçš„ç”¨æˆ·ä¸èƒ½ä¸‹è½½ã€‚æ‰€ä»¥passkeyå¾ˆé‡è¦ï¼Œä¸€æ—¦å‘ç°æœ‰é—®é¢˜ï¼Œå°±è¦åˆ°ç«™ç‚¹ä¸Šå»é‡ç½®passkeyã€‚Tracker Serveræ ¹æ®passkeyæŠŠBTå®¢æˆ·ç«¯ä¸Šä¼ é‡å’Œä¸‹è½½é‡è¿›è¡Œè®¡ç®—ï¼Œä»è€Œç®—å‡ºåˆ†äº«ç‡(ä¸Šä¼ é‡/ä¸‹è½½é‡)ã€‚å¦‚æœåˆ†äº«ç‡å¤ªå°ï¼Œå°†ä¼šè¢«åˆ é™¤å¸å·ï¼Œä»è€Œä¸èƒ½ä¸‹è½½ã€‚\nè¿™æ ·Private Tracker ä¸‹è½½(PTä¸‹è½½)æ˜¯ä¸€ç§å°èŒƒå›´çš„BTä¸‹è½½ï¼Œé€šè¿‡ç¦ç”¨DHTæœ‰è¦æ±‚åœ°é€‰æ‹©å¹¶æ§åˆ¶ç”¨æˆ·æ•°é‡ï¼Œè¿™æ ·ï¼Œåœ¨æœ‰é™çš„èŒƒå›´å†…ï¼Œä¸‹è½½çš„ç”¨æˆ·åŸºæœ¬ä¸Šéƒ½å¯ä»¥è¾¾åˆ°è‡ªå·±çš„å®½å¸¦ä¸Šé™ï¼ŒPrivate Tracker ä¸‹è½½(PTä¸‹è½½)ä¸‹è½½è¿˜é€šè¿‡è®ºå›ç­‰æ–¹å¼çš„çº¦æŸæœºåˆ¶å°†BTä¸‹è½½çš„ç†å¿µç°å®åŒ–ï¼ŒçœŸæ­£è®©ç”¨æˆ·åšåˆ°ä¸‹è½½çš„è¿‡ç¨‹ä¸­åŠªåŠ›ä¸Šä¼ ã€‚å› æ­¤ï¼ŒPrivate Tracker ä¸‹è½½(PTä¸‹è½½)çš„é€Ÿåº¦å¾ˆå¿«ï¼Œèƒ½å¤Ÿè®©ç”¨æˆ·æ¬¾å¾…å¾—åˆ°æœ€å¤§ç¨‹åº¦çš„ä½¿ç”¨ã€‚\nPTé€šè¿‡å¯¹åšç§æ—¶é—´å’Œæµé‡çš„è¦æ±‚åœ¨ä¸€å®šç¨‹åº¦ä¸Šé¿å…äº†BTä¸­å­˜åœ¨çš„ä¸‹å®Œä¸åšç§çš„ç°è±¡ï¼Œå› æ­¤åœ¨ç½‘ç»œä¸Šï¼Œå°¤å…¶æ˜¯éœ€è¦å¤§æ–‡ä»¶ï¼ˆå¦‚é«˜æ¸…ï¼‰èµ„æºäº¤æ¢çš„æ—¶å€™å¹¿å—æ¬¢è¿ï¼Œåœ¨PTç«™é‡Œï¼Œâ€œæ°´ç®¡â€ä»£è¡¨ä¸Šä¼ å¸¦å®½çš„å¤§å°ï¼Œå¤§æ°´ç®¡å¯ä»¥é€šè¿‡å¿«é€Ÿçš„ä¸Šä¼ è·å¾—ç§¯åˆ†ï¼ŒPTç«™ç‚¹ä¹Ÿä¼šé‡‡å–æªæ–½ï¼ˆæ¯”å¦‚åšç§æ—¶é—´ï¼Œä¼˜æƒ ç­‰ï¼‰ä½¿ä¸Šä¼ è¾ƒæ…¢çš„å°æ°´ç®¡èƒ½å¤Ÿå‚ä¸è´¡çŒ®å’Œå…±äº«èµ„æºã€‚\nRPC\né¦–å…ˆäº†è§£ä»€ä¹ˆå«RPCï¼Œä¸ºä»€ä¹ˆè¦RPCï¼ŒRPCæ˜¯æŒ‡è¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸¤å°æœåŠ¡å™¨Aï¼ŒBï¼Œä¸€ä¸ªåº”ç”¨éƒ¨ç½²åœ¨AæœåŠ¡å™¨ä¸Šï¼Œæƒ³è¦è°ƒç”¨BæœåŠ¡å™¨ä¸Šåº”ç”¨æä¾›çš„å‡½æ•°/æ–¹æ³•ï¼Œç”±äºä¸åœ¨ä¸€ä¸ªå†…å­˜ç©ºé—´ï¼Œä¸èƒ½ç›´æ¥è°ƒç”¨ï¼Œéœ€è¦é€šè¿‡ç½‘ç»œæ¥è¡¨è¾¾è°ƒç”¨çš„è¯­ä¹‰å’Œä¼ è¾¾è°ƒç”¨çš„æ•°æ®ã€‚\næ¯”å¦‚è¯´ï¼Œä¸€ä¸ªæ–¹æ³•å¯èƒ½æ˜¯è¿™æ ·å®šä¹‰çš„ï¼š\nEmployee getEmployeeByName(String fullName) é‚£ä¹ˆï¼š\n é¦–å…ˆï¼Œè¦è§£å†³é€šè®¯çš„é—®é¢˜ï¼Œä¸»è¦æ˜¯é€šè¿‡åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´å»ºç«‹TCPè¿æ¥ï¼Œè¿œç¨‹è¿‡ç¨‹è°ƒç”¨çš„æ‰€æœ‰äº¤æ¢çš„æ•°æ®éƒ½åœ¨è¿™ä¸ªè¿æ¥é‡Œä¼ è¾“ã€‚è¿æ¥å¯ä»¥æ˜¯æŒ‰éœ€è¿æ¥ï¼Œè°ƒç”¨ç»“æŸåå°±æ–­æ‰ï¼Œä¹Ÿå¯ä»¥æ˜¯é•¿è¿æ¥ï¼Œå¤šä¸ªè¿œç¨‹è¿‡ç¨‹è°ƒç”¨å…±äº«åŒä¸€ä¸ªè¿æ¥ã€‚ ç¬¬äºŒï¼Œè¦è§£å†³å¯»å€çš„é—®é¢˜ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒAæœåŠ¡å™¨ä¸Šçš„åº”ç”¨æ€ä¹ˆå‘Šè¯‰åº•å±‚çš„RPCæ¡†æ¶ï¼Œå¦‚ä½•è¿æ¥åˆ°BæœåŠ¡å™¨ï¼ˆå¦‚ä¸»æœºæˆ–IPåœ°å€ï¼‰ä»¥åŠç‰¹å®šçš„ç«¯å£ï¼Œæ–¹æ³•çš„åç§°åç§°æ˜¯ä»€ä¹ˆï¼Œè¿™æ ·æ‰èƒ½å®Œæˆè°ƒç”¨ã€‚æ¯”å¦‚åŸºäºWebæœåŠ¡åè®®æ ˆçš„RPCï¼Œå°±è¦æä¾›ä¸€ä¸ªendpoint URIï¼Œæˆ–è€…æ˜¯ä»UDDIæœåŠ¡ä¸ŠæŸ¥æ‰¾ã€‚å¦‚æœæ˜¯RMIè°ƒç”¨çš„è¯ï¼Œè¿˜éœ€è¦ä¸€ä¸ªRMI Registryæ¥æ³¨å†ŒæœåŠ¡çš„åœ°å€ã€‚ ç¬¬ä¸‰ï¼Œå½“AæœåŠ¡å™¨ä¸Šçš„åº”ç”¨å‘èµ·è¿œç¨‹è¿‡ç¨‹è°ƒç”¨æ—¶ï¼Œæ–¹æ³•çš„å‚æ•°éœ€è¦é€šè¿‡åº•å±‚çš„ç½‘ç»œåè®®å¦‚TCPä¼ é€’åˆ°BæœåŠ¡å™¨ï¼Œç”±äºç½‘ç»œåè®®æ˜¯åŸºäºäºŒè¿›åˆ¶çš„ï¼Œå†…å­˜ä¸­çš„å‚æ•°çš„å€¼è¦åºåˆ—åŒ–æˆäºŒè¿›åˆ¶çš„å½¢å¼ï¼Œä¹Ÿå°±æ˜¯åºåˆ—åŒ–ï¼ˆSerializeï¼‰æˆ–ç¼–ç»„ï¼ˆmarshalï¼‰ï¼Œé€šè¿‡å¯»å€å’Œä¼ è¾“å°†åºåˆ—åŒ–çš„äºŒè¿›åˆ¶å‘é€ç»™BæœåŠ¡å™¨ã€‚ ç¬¬å››ï¼ŒBæœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚åï¼Œéœ€è¦å¯¹å‚æ•°è¿›è¡Œååºåˆ—åŒ–ï¼ˆåºåˆ—åŒ–çš„é€†æ“ä½œï¼‰ï¼Œæ¢å¤ä¸ºå†…å­˜ä¸­çš„è¡¨è¾¾æ–¹å¼ï¼Œç„¶åæ‰¾åˆ°å¯¹åº”çš„æ–¹æ³•ï¼ˆå¯»å€çš„ä¸€éƒ¨åˆ†ï¼‰è¿›è¡Œæœ¬åœ°è°ƒç”¨ï¼Œç„¶åå¾—åˆ°è¿”å›å€¼ã€‚ ç¬¬äº”ï¼Œè¿”å›å€¼è¿˜è¦å‘é€å›æœåŠ¡å™¨Aä¸Šçš„åº”ç”¨ï¼Œä¹Ÿè¦ç»è¿‡åºåˆ—åŒ–çš„æ–¹å¼å‘é€ï¼ŒæœåŠ¡å™¨Aæ¥åˆ°åï¼Œå†ååºåˆ—åŒ–ï¼Œæ¢å¤ä¸ºå†…å­˜ä¸­çš„è¡¨è¾¾æ–¹å¼ï¼Œäº¤ç»™AæœåŠ¡å™¨ä¸Šçš„åº”ç”¨  ä¸ºä»€ä¹ˆRPCå‘¢ï¼Ÿå°±æ˜¯æ— æ³•åœ¨ä¸€ä¸ªè¿›ç¨‹å†…ï¼Œç”šè‡³ä¸€ä¸ªè®¡ç®—æœºå†…é€šè¿‡æœ¬åœ°è°ƒç”¨çš„æ–¹å¼å®Œæˆçš„éœ€æ±‚ï¼Œæ¯”å¦‚æ¯”å¦‚ä¸åŒçš„ç³»ç»Ÿé—´çš„é€šè®¯ï¼Œç”šè‡³ä¸åŒçš„ç»„ç»‡é—´çš„é€šè®¯ã€‚ç”±äºè®¡ç®—èƒ½åŠ›éœ€è¦æ¨ªå‘æ‰©å±•ï¼Œéœ€è¦åœ¨å¤šå°æœºå™¨ç»„æˆçš„é›†ç¾¤ä¸Šéƒ¨ç½²åº”ç”¨ï¼Œ\nRPCçš„åè®®æœ‰å¾ˆå¤šï¼Œæ¯”å¦‚æœ€æ—©çš„CORBAï¼ŒJava RMIï¼ŒWeb Serviceçš„RPCé£æ ¼ï¼ŒHessianï¼ŒThriftï¼Œç”šè‡³Rest APIã€‚\nå…¶ä»–ä¸‹è½½å·¥å…·\n qBittorrent Transmission rTorrent Deluge  æœ‰æ”¯æŒed2kçš„è®¡åˆ’å—ï¼Ÿ\nçœŸæ˜¯ç¬‘æ­»æˆ‘äº†ï¼Œä½ ä»¬éš¾é“çœŸçš„è®¤ä¸ºé‚£æ‰€è°“è¿…é›·ç­‰å›½äº§BTä¸‹è½½è½¯ä»¶ä¼šä½¿ç”¨çœŸæ­£çš„eDonkeyç½‘ç»œï¼Ÿ\néä¹Ÿï¼å®ƒä»¬åªä¸è¿‡é€šè¿‡ed2ké“¾æ¥æ‰€åˆ—å‡ºçš„å“ˆå¸Œå€¼ ç›´æ¥é“¾æ¥åˆ°å®ƒä»¬æœåŠ¡å™¨è‡ªèº«ï¼ˆå¦‚è¿…é›·ã€ç™¾åº¦ï¼‰æ‰€å­˜å‚¨çš„æ–‡ä»¶ æˆ–é“¾æ¥åˆ°BitTorrentåè®®çš„ç§å­å’Œç£åŠ›é“¾æ¥ä¸Šã€‚ä½ ä»¬ç”¨çš„è½¯ä»¶ä¸æ˜¯P2Pï¼ˆPeer to Peerï¼‰ï¼Œè€Œæ˜¯P2SPï¼ˆPeer to Server and to Peerï¼‰ï¼\nå¦‚æœä½ ä»¬ç”¨è¿‡çœŸæ­£çš„ed2kä¸‹è½½å™¨ï¼ˆå¦‚eMuleã€aMuleï¼‰çš„è¯ï¼Œä½ ä»¬ä¼šå‘ç°ï¼ŒçœŸæ­£çš„eDonkeyç½‘ç»œæ—©å·²æ¶ˆäº¡ï¼Œæˆªè‡³ç›®å‰å…¨çƒç”¨æˆ·ä¹Ÿå°±50-60ä¸‡çš„æ ·å­ã€‚\næœ€åï¼Œä½œä¸ºæ›¾ç»çš„eMuleè€ç”¨æˆ·ï¼Œæˆ‘å¯ä»¥è¯´æ˜çœŸæ­£çš„eDonkeyç½‘ç»œä¸ä»…æœ‰ç¹ççš„æ’é˜Ÿæœºåˆ¶ï¼Œè¿˜æœ‰æ–‡ä»¶ä¼˜å…ˆçº§ç½‘ç»œä¼˜å…ˆçº§ç­‰å¤æ‚çš„è®¾å®šï¼Œè¿œæ¯”ä½ ä»¬æƒ³åƒä¸­éš¾ç”¨çš„å¤šã€‚\nwarez groups\n  RELOADED\nRELOADEDæˆç«‹äº2004å¹´ï¼Œå‰èº«æ˜¯ä¼ å¥‡ç ´è§£ç»„DEVIANCEï¼Œæ›¾ç»åœ¨2æ¬¡é‡å¤§çš„æ”¿åºœæ‰«è¡ä¸­ç”Ÿå­˜ä¸‹æ¥ï¼Œç”±äºç«äº‰å¯¹æ‰‹HOODLUMå’ŒVENGEANCEè¢«ç«¯æ‰ï¼ŒRELOADEDä»æ­¤ç§°éœ¸PCæ¸¸æˆç ´è§£åœˆï¼Œåœ¨æ–°æ¸¸çš„é¦–å‘ç ´è§£ä¸Šï¼ŒRELOADEDèƒ½å æ®80%ã€‚\nRELOADEDä¹Ÿæ˜¯å›½å†…æœ€å¸¸è§çš„PCæ¸¸æˆç ´è§£ç»„ï¼Œä½ åœ¨å„ä¸ªèµ„æºç«™çœ‹åˆ°æ ‡é¢˜å†™ç€æŸæŸæ¸¸æˆâ€œRç»„â€ç ´è§£ï¼Œå°±æ˜¯ä»–ä»¬çš„â€œæ°ä½œâ€ã€‚\né«˜å…‰æ—¶åˆ»ï¼š\n1ã€å„å¤§ç ´è§£ç»„éƒ½åœ¨è¿½æ±‚æ¸¸æˆå‘å”®å‰ç ´è§£æ¸¸æˆï¼Œè€ŒRELOADEDæœ€è‘—åçš„åº”è¯¥å°±æ˜¯2008å¹´å¯¹ã€Šåˆºå®¢ä¿¡æ¡ã€‹çš„ç ´è§£äº†ï¼ŒRç»„åœ¨æ¸¸æˆå‘å”®1ä¸ªæœˆä¹‹å‰å°±æ”¾å‡ºç ´è§£ç‰ˆã€‚\n2ã€ä¿®å¤äº†ã€Šå½©è™¹å…­å·ï¼šç»´åŠ æ–¯2ã€‹æ•°å­—ç‰ˆçš„BUGï¼Œè‚²ç¢§å½“å¹´å¯¹ã€Šå½©è™¹å…­å·ï¼šç»´åŠ æ–¯2ã€‹æ•°å­—ç‰ˆæ— æ³•è¿è¡Œçš„BUGæ¯«æ— åŠæ³•ï¼Œæœ€ç»ˆåªèƒ½ç»™ç©å®¶å‘æ”¾RELOADEDçš„æ¸¸æˆç ´è§£è¡¥ä¸\u0026hellip;è¿™æ¬¡äº‹ä»¶è®©è‚²ç¢§é¢œé¢æ‰«åœ°ï¼Œå´æˆå°±äº†RELOADEDã€‚\n3ã€æ‰“ç ´ã€Šåˆ†è£‚ç»†èƒï¼šæ··æ²Œç†è®ºã€‹424å¤©ä¸è¢«ç ´è§£çš„è®°å½•ã€‚\n  SKIDROW\nSKIDROW æ˜¯æ¥è‡ªç¾å›½çš„æ¸¸æˆç ´è§£ç»„ï¼Œæˆç«‹æ—¶é—´å¤§æ¦‚æ˜¯ä¸Šä¸ªä¸–çºª90å¹´ä»£ï¼Œä¸»è¦ä½œå“æœ‰ã€ŠçŒæ€æ½œè‰‡5ã€‹ã€ã€Šåˆºå®¢ä¿¡æ¡2ã€‹ç­‰ï¼Œä¹‹åç”±äºäººå‘˜è§£æ•£ï¼Œç›´åˆ°2007å¹´ SKIDROW æ‰é‡æ–°å¼€å§‹æ´»è·ƒã€‚\nSKIDROW åœ¨åŒè¡Œä¸­çš„å£ç¢‘ä¸€èˆ¬ï¼Œè¢«RELOADEDç­‰ç ´è§£ç»„çˆ†å‡ºè¿‡ç›—ç”¨å…¶ä»–ç ´è§£ç»„ä»£ç çš„æ–™ã€‚\n1ã€ SkidrowæˆåäºDRMäº‹ä»¶ï¼ŒDRMæ˜¯è‚²ç¢§çš„åç ´è§£ç³»ç»Ÿï¼ŒSkidrowç ´è§£ç»„æˆåŠŸç ´è§£äº†è‚²ç¢§ä¸¤è¢‹DRMç³»ç»Ÿï¼Œæœ€è‘—åçš„ä½œå“æ˜¯å¯¹ã€Šåˆºå®¢ä¿¡æ¡2ã€‹çš„ç ´è§£ã€‚\n2ã€2017å¹´ï¼Œç»§CPYä¹‹åï¼ŒæˆåŠŸç ´è§£äº†æœ€æ–°çš„Denuvo64åŠ å¯†æŠ€æœ¯ã€‚å¹¶æ‰¹è¯„CPYåªä¼šç”¨Emulation(ä»¿çœŸå™¨)è€Œä¸æ˜¯çœŸæ­£çš„ç ´è§£ã€‚\n  Razor1911\nRazor1911 æ˜¯æ¥è‡ªæŒªå¨çš„ç ´è§£ç»„ï¼Œæˆç«‹äº1985å¹´ï¼Œæœ€åˆç”±3ä¸ªå¹´è½»çš„è®¡ç®—æœºçˆ±å¥½è€…ç»„æˆï¼Œä¸»è¦æ˜¯ç ´è§£Commodore64å’Œamigaæœºç§çš„æ¸¸æˆè½¯ä»¶ï¼Œåç§°ä¸­çš„1911æ˜¯å› ä¸º1991åœ¨16è¿›åˆ¶é‡Œå†™ä½œ777ï¼Œä»£è¡¨ä¸æœ½ã€‚\nä½œä¸ºè€ç‰Œç ´è§£ç»„ä¹‹ä¸€ï¼Œ Razor1911åœ¨2001å¹´å’Œ2004å¹´çš„FBIä¸¤æ¬¡åç›—ç‰ˆè¡ŒåŠ¨ä¸­å¹¸å­˜ä¸‹æ¥ï¼Œä¸çŸ¥é“æ˜¯ä¸æ˜¯å› ä¸ºåå­—å¸¦æ¥çš„å¥½è¿ã€‚åœ¨ä¸šå†…ï¼Œå¦‚æœè¯´RELOADEDæ˜¯ä»¥é«˜äº§è‘—ç§°ï¼Œé‚£ä¹ˆRazor1911å°±æ˜¯ä»¥æŠ€æœ¯è§é•¿ã€‚\nRazor1911ç ´è§£ç»„æœ€è‘—åçš„ä½œå“åº”è¯¥æ˜¯ã€Šæ˜Ÿé™…äº‰éœ¸ï¼šæ¯å·¢ä¹‹æˆ˜ã€‹çš„ç¡¬ç›˜ç‰ˆï¼Œé—´æ¥å¯¼è‡´äº†æ˜Ÿé™…äº‰éœ¸åœ¨å…¨ä¸–ç•Œçš„æµè¡Œã€‚\n1ã€åˆ¶ä½œã€Šæ˜Ÿé™…äº‰éœ¸ï¼šæ¯å·¢ä¹‹æˆ˜ã€‹ç¡¬ç›˜ç‰ˆï¼Œåœ¨è¿™ä¸€ç‰ˆçš„æ˜Ÿé™…äº‰éœ¸ä¸­ï¼Œæ‰€æœ‰æ–‡ä»¶çš„ä½“ç§¯åŠ èµ·æ¥åªæœ‰100må¤šä¸€ç‚¹ï¼Œè€Œæœ€ä¸ºç»å…¸çš„åœ°æ–¹å°±åœ¨äºä»–ä»¬æŠŠå…‰ç›˜ç‰ˆä¸­ä¸¤ä¸ª600må·¦å³çš„install.exeæ–‡ä»¶å‹ç¼©åˆ°äº†åªæœ‰22mçš„å¤§å°ã€‚\n2ã€ç ´è§£ã€ŠGTA4ã€‹å’Œè¯¥æ¸¸æˆä»·å€¼20ä¸‡ç¾å…ƒçš„SecuRomåç ´è§£ç³»ç»Ÿã€‚\n3ã€ç ´è§£EA originå¹³å°çš„åŠ å¯†æŠ€æœ¯ã€‚\n4ã€ç ´è§£ã€Šå­¤å²›å±æœºã€‹å’Œã€Šä¸Šå¤å·è½´5ï¼šå¤©é™…ã€‹ã€‚\n  CPY\nCPYå…¨å CONSPiR4CYï¼Œæ˜¯æ¥è‡ªäºæ„å¤§åˆ©çš„ç ´è§£ç»„ï¼Œæˆç«‹äº1999å¹´ï¼Œç›¸æ¯”ä¸Šé¢çš„ä¸‰å¤§ç ´è§£ç»„æˆç«‹è¾ƒæ™šã€‚ä½†æ˜¯æœ€è¿‘å‡ å¹´ï¼ŒCPYåœ¨ç ´è§£äº†DenuvoåŠ å¯†æŠ€æœ¯ï¼ˆDåŠ å¯†ï¼‰ååå£°å¤§å™ªï¼Œä¿¨ç„¶å·²è¶…è¶Šäº†ä¸Šé¢ä¸‰å¤§ç ´è§£ç»„ã€‚\nåœ¨å›½å†…æœ‰CPYæŒæ¡æ ¸å¿ƒæŠ€æœ¯çš„è¯´æ³•ï¼ŒSteamã€EA originã€Denuvoç­‰åŠ å¯†æŠ€æœ¯å…ˆåè¢«CPYç ´è§£ã€‚\né«˜å…‰æ—¶åˆ»ï¼š\n1ã€2015å¹´ï¼Œç»§Steamå¹³å°åï¼ŒEA originå¹³å°åŠ å¯†æŠ€æœ¯è¢«ç ´è§£ï¼Œå®£å¸ƒäº†è¿™å¥—åŠ å¯†ç³»ç»Ÿå½»åº•å®Œè›‹ã€‚\n2ã€ç ´è§£DåŠ å¯†æŠ€æœ¯ï¼Œéšåä¸€ç³»åˆ—çƒ­é—¨æ¸¸æˆé­åˆ°ç ´è§£ï¼ŒåŒ…æ‹¬ï¼šã€Šåˆé‡‘è£…å¤‡5 å¹»ç—›ã€‹ã€Šå¤å¢“ä¸½å½± å´›èµ·ã€‹ã€Šæ¯ç­æˆ˜å£«4ã€‹ã€Šçœ‹é—¨ç‹—2ã€‹ç­‰ç­‰ã€‚\n  CODEX\nä¼šç ´è§£DåŠ å¯†ï¼Œå¦‚ä»Šå‡ ä¹å·²ç»å„æ–­ç ´è§£ä¸šã€‚å¹¶åœ¨.nfoæ–‡ä»¶æ‹›è˜æ ä¸­æåˆ°CODEXä»€ä¹ˆéƒ½ä¸è¦ï¼Œåªè¦ç«äº‰!\n2022å¹´2æœˆï¼ŒCODEXå®£å‘Šé€€ä¼‘ã€‚\n PLAZA EMPRESS    STEAMPUNKS\n  youtube-dl youtube-dl æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œç¨‹åºï¼Œç”¨äºä» YouTube.com å’Œæ›´å¤šå…¶ä»–ç½‘ç«™ä¸‹è½½è§†é¢‘ã€‚ åŸºäº Python å®ç°ï¼Œä¸é™äºç‰¹å®šå¹³å°ã€‚\n# å®‰è£… $ pip install -i https://pypi.tuna.tsinghua.edu.cn/simple youtube-dl # ä½¿ç”¨ $ youtube-dl [OPTIONS] URL [URL...] å½“å‰ç‰ˆæœ¬ï¼ˆ2021.06.06ï¼‰ä¸èƒ½ä¸‹è½½å“”å“©å“”å“©æ’­æ”¾åˆ—è¡¨ï¼Œå¯ä»¥ç”¨ç±»ä¼¼è½¯ä»¶å¦‚ you-getï¼Œ annie ä»£æ›¿ã€‚\nUsage ä¸‹è½½è§†é¢‘æˆ–æ•´ä¸ªè§†é¢‘æ’­æ”¾åˆ—è¡¨\n è¦ä» Youtube ä¸‹è½½è§†é¢‘æˆ–æ•´ä¸ªè§†é¢‘æ’­æ”¾åˆ—è¡¨ï¼Œåªéœ€ç›´æ¥ä½¿ç”¨ URL å³å¯ï¼šyoutube-dl [url]ã€‚ç¨‹åºè‡ªåŠ¨é€‰æ‹©ä¸€ä¸ªæœ€æ¸…æ™°çš„æ ¼å¼ä¸‹è½½ã€‚ å¦‚æœè¦æŒ‡å®šè§†é¢‘ä¸‹è½½ä¹‹åçš„åç§°ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼ï¼šyoutube-dl -o 'åç§°' [url]ã€‚ è¿˜å¯ä»¥åœ¨ä¸‹è½½è§†é¢‘æ—¶é™„åŠ æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œå¯ç”¨çš„å‚æ•°æœ‰æ ‡é¢˜ã€ä¸Šä¼ è€…åç§°ï¼ˆé¢‘é“åç§°ï¼‰å’Œè§†é¢‘ä¸Šä¼ æ—¥æœŸç­‰ï¼šyoutube-dl -o '%(title)s by %(uploader)s on %(upload_date)s in %(playlist)s.%(ext)s' [ul]ã€‚  æŸ¥çœ‹è§†é¢‘çš„æ‰€æœ‰ç±»å‹ï¼Œåªçœ‹ä¸ä¸‹è½½\nå‘½ä»¤ï¼šyoutube-dl -F [url]æˆ–è€…youtube-dl --list-formats [url]ã€‚ è¿™æ˜¯ä¸€ä¸ªåˆ—æ¸…å•å‚æ•°ï¼Œæ‰§è¡Œåå¹¶ä¸ä¼šä¸‹è½½è§†é¢‘ï¼Œä½†èƒ½çŸ¥é“è¿™ä¸ªç›®æ ‡è§†é¢‘éƒ½æœ‰å“ªäº›æ ¼å¼å­˜åœ¨ï¼Œä»¥ä¾¿æœ‰é€‰æ‹©çš„ä¸‹è½½ã€‚\nä¸‹è½½æŒ‡å®šè´¨é‡çš„è§†é¢‘å’ŒéŸ³é¢‘å¹¶è‡ªåŠ¨åˆå¹¶\nä¸‹è½½æœ€ä½³/æœ€å·®è´¨é‡çš„éŸ³/è§†é¢‘æ–‡ä»¶ï¼š\né»˜è®¤æƒ…å†µä¸‹ï¼Œyoutube-dlå°†è‡ªä¸»é€‰æ‹©æœ€ä½³è´¨é‡çš„è§†é¢‘ä¸‹è½½ã€‚ ä½†æ˜¯ï¼Œä¹Ÿå¯ä»¥ä»¥ç‰¹å®šçš„è´¨é‡æˆ–æ ¼å¼æ¥ä¸‹è½½è§†é¢‘æˆ–æ’­æ”¾åˆ—è¡¨\nYoutube-dl æ”¯æŒä»¥ä¸‹å“è´¨ï¼š\n besté€‰æ‹©æœ€ä½³è´¨é‡çš„éŸ³/è§†é¢‘æ–‡ä»¶ worsté€‰æ‹©è´¨é‡æœ€å·®çš„æ ¼å¼ï¼ˆè§†é¢‘å’ŒéŸ³é¢‘ï¼‰ bestvideoé€‰æ‹©æœ€ä½³è´¨é‡çš„ä»…è§†é¢‘æ ¼å¼ï¼ˆä¾‹å¦‚DASHè§†é¢‘ï¼‰ï¼Œå¯èƒ½æ— æ³•ä½¿ç”¨ã€‚ worstvideoé€‰æ‹©è´¨é‡æœ€å·®çš„çº¯è§†é¢‘æ ¼å¼ï¼Œå¯èƒ½æ— æ³•ä½¿ç”¨ã€‚ bestaudioé€‰æ‹©æœ€ä¼˜è´¨çš„éŸ³é¢‘æ ¼å¼ï¼Œå¯èƒ½æ— æ³•ä½¿ç”¨ã€‚ worstaudioé€‰æ‹©è´¨é‡æœ€å·®çš„éŸ³é¢‘æ ¼å¼ï¼Œå¯èƒ½æ— æ³•ä½¿ç”¨ã€‚  ä¾‹å¦‚ï¼Œå¦‚æœè¦è‡ªåŠ¨é€‰æ‹©å¹¶ä¸‹è½½æœ€ä½³è´¨é‡æ ¼å¼ï¼ˆéŸ³é¢‘å’Œè§†é¢‘ï¼‰ï¼Œåªéœ€ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼šyoutube-dl -f best [url]ã€‚\næ‚¨è¿˜å¯ä»¥ç»„åˆä½¿ç”¨ä»¥ä¸‹ä¸åŒçš„æ ¼å¼é€‰é¡¹ï¼šyoutube-dl -f bestvideo+bestaudio [ul]ã€‚è¯¥å‘½ä»¤å°†åˆ†åˆ«ä¸‹è½½æœ€é«˜è´¨é‡çš„ä»…è§†é¢‘å’Œæœ€é«˜è´¨é‡çš„çº¯éŸ³é¢‘æ ¼å¼ï¼Œå†ç”¨ffmpegæˆ–avconvåˆå¹¶æˆä¸€ä¸ªæœ€ä½³è´¨é‡çš„mkvæ–‡ä»¶ï¼›å¦‚æœæ‚¨ä¸æƒ³åˆå¹¶ï¼Œè¯·å°†+ï¼ˆåŠ å·ï¼‰æ›¿æ¢ä¸º,ï¼ˆé€—å·ï¼‰å³å¯åˆ†åˆ«å¾—åˆ°æœ€é«˜è´¨é‡çš„éŸ³é¢‘å’Œè§†é¢‘ï¼ˆä¸¤ä¸ªæ–‡ä»¶ï¼‰ï¼šyoutube-dl -f 'bestvideo,bestaudio' [url]ã€‚\n ä¸‹è½½æŒ‡å®šè´¨é‡çš„éŸ³/è§†é¢‘æ–‡ä»¶ï¼š\n-F è·å–çš„æ‰€æœ‰è§†é¢‘æ ¼å¼çš„æ¸…å•ï¼Œæœ€å·¦è¾¹ä¸€åˆ—å°±æ˜¯ç¼–å·å¯¹åº”ç€ä¸åŒçš„æ ¼å¼ã€‚ç”±äºYouTubeçš„1080påŠä»¥ä¸Šçš„åˆ†è¾¨ç‡éƒ½æ˜¯éŸ³è§†é¢‘åˆ†ç¦»çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦åˆ†åˆ«ä¸‹è½½è§†é¢‘å’ŒéŸ³é¢‘ï¼Œå¯ä»¥ä½¿ç”¨137+140è¿™æ ·çš„ç»„åˆã€‚å¦‚æœç³»ç»Ÿä¸­å®‰è£…äº†ffmpegçš„è¯ï¼Œyoutube-dl ä¼šè‡ªåŠ¨åˆå¹¶ä¸‹å¥½çš„è§†é¢‘å’ŒéŸ³é¢‘ï¼Œç„¶åè‡ªåŠ¨åˆ é™¤å•ç‹¬çš„éŸ³è§†é¢‘æ–‡ä»¶ï¼šyoutube-dl -f [format code] [url]ã€‚\nä»æ’­æ”¾åˆ—è¡¨ä¸‹è½½è§†é¢‘æ—¶ï¼ŒæŸäº›è§†é¢‘å¯èƒ½æ²¡æœ‰ç›¸åŒçš„æ ¼å¼ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå¯ä»¥æŒ‰é¦–é€‰é¡ºåºæŒ‡å®šå¤šä¸ªæ ¼å¼ä»£ç ï¼Œä¾‹å¦‚ï¼šå‘½ä»¤youtube-dl -f 22/17/18 \u0026lt;playlist_url\u0026gt;å°†ä»¥æ ¼å¼ 22 ä¸‹è½½è§†é¢‘ï¼ˆå¦‚æœå¯ç”¨ï¼‰ï¼›å¦‚æœæ ¼å¼ 22ä¸å¯ç”¨ï¼Œåˆ™å®ƒå°†ä¸‹è½½æ ¼å¼ 17ï¼ˆå¦‚æœå¯ç”¨ï¼‰ï¼›å¦‚æœæ ¼å¼ 22 å’Œ 17 éƒ½ä¸å¯ç”¨ï¼Œæœ€åå°è¯•ä¸‹è½½æ ¼å¼ 18ã€‚å¦‚æœæ‰€æœ‰æ ¼å¼ä»£ç éƒ½ä¸åŒ¹é…ï¼ŒYoutube-dl ä¼šæŠ¥å‡ºæç¤ºã€‚è¿˜éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæ–œæ æ˜¯å·¦å…³è”çš„ï¼Œå³æœ€å·¦ä¾§çš„æ ¼å¼ä»£ç æ˜¯é¦–é€‰ã€‚\nä¸‹è½½å­—å¹•\n youtube-dl --write-sub [url]è¿™æ ·ä¼šä¸‹è½½ä¸€ä¸ªvttæ ¼å¼çš„è‹±æ–‡å­—å¹•å’Œmkvæ ¼å¼çš„1080pè§†é¢‘ä¸‹æ¥ youtube-dl --write-sub --skip-download [url]ä¸‹è½½å•ç‹¬çš„vttå­—å¹•æ–‡ä»¶,è€Œä¸ä¼šä¸‹è½½è§†é¢‘ youtube-dl --write-sub --all-subs [url]ä¸‹è½½æ‰€æœ‰è¯­è¨€çš„å­—å¹•(å¦‚æœæœ‰çš„è¯) youtube-dl --write-auto-sub [url]ä¸‹è½½è‡ªåŠ¨ç”Ÿæˆçš„å­—å¹•(YouTube only)  ä¸‹è½½å¤šä¸ªè§†é¢‘\n youtube-dl \u0026lt;url1\u0026gt; \u0026lt;url2\u0026gt;æœ‰æ—¶æˆ‘ä»¬éœ€è¦ä¸€æ¬¡ä¸‹è½½å¤šä¸ªä¸åŒçš„è§†é¢‘ï¼Œæ­¤æ—¶æˆ‘ä»¬åªéœ€ç”¨ç©ºæ ¼å°†å¤šä¸ªURLåˆ†éš”å¼€å³å¯ã€‚ youtube-dl -a url.txtä¹Ÿå¯ä»¥å°†è¦ä¸‹è½½è§†é¢‘çš„URLå…¨éƒ¨æ”¾åœ¨æ–‡æœ¬æ–‡ä»¶ä¸­ï¼Œå¹¶å°†å…¶ä½œä¸ºå‚æ•°ä¼ é€’ç»™youtube-dlã€‚æ­¤å‘½ä»¤å°†ä¸‹è½½url.txtæ–‡ä»¶ä¸­æ‰€æœ‰URLæŒ‡å‘çš„è§†é¢‘ã€‚  åªä¸‹è½½ï¼ˆè§†é¢‘ä¸­çš„ï¼‰éŸ³é¢‘\n youtube-dl -x [url]ä»…ä»è§†é¢‘ç½‘ç«™ä¸‹è½½å…¶éŸ³é¢‘ã€‚ youtube-dl -x --audio-format mp3 [ul]é»˜è®¤æƒ…å†µä¸‹ï¼Œyoutube-dl å°†ä»¥Ogg ï¼ˆopusï¼‰æ ¼å¼ä¿å­˜éŸ³é¢‘ã€‚æ­¤å‘½ä»¤å°†ä»ç»™å®šçš„è§†é¢‘/æ’­æ”¾åˆ—è¡¨ä¸‹è½½éŸ³é¢‘ï¼Œå°†å…¶è½¬æ¢ä¸º MP3 å¹¶å°†å…¶ä¿å­˜åœ¨å½“å‰ç›®å½•ä¸­ã€‚åº”æ³¨æ„ï¼šæ‚¨åº”è¯¥å®‰è£… ffmpeg æˆ– avconv å°†æ–‡ä»¶è½¬æ¢ä¸º mp3 æ ¼å¼ã€‚  ä¸‹è½½å¸¦æœ‰æè¿°ã€å…ƒæ•°æ®ã€æ³¨é‡Šã€å­—å¹•å’Œç¼©ç•¥å›¾çš„è§†é¢‘\nè¦ä¸‹è½½è§†é¢‘åŠå…¶ä»–è¯¦ç»†ä¿¡æ¯ï¼Œå¦‚ï¼šè¯´æ˜ã€å…ƒæ•°æ®ã€æ³¨é‡Šã€å­—å¹•å’Œç¼©ç•¥å›¾ç­‰ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š youtube-dl --write-description --write-info-json --write-annotations --write-sub --write-thumbnail [url]\né€šè¿‡æ–‡ä»¶æ‰©å±•åä¸‹è½½éŸ³/è§†é¢‘\n ä»¥æ‚¨çš„é¦–é€‰æ ¼å¼ä¸‹è½½è§†é¢‘ï¼Œä¾‹å¦‚ MP4ï¼Œåªéœ€æ‰§è¡Œï¼šyoutube-dl --format mp4 [url]æˆ–è€…youtube-dl -f mp4 [url]ã€‚ æŸäº›è§†é¢‘å¯èƒ½æ— æ³•ä»¥æ‚¨çš„é¦–é€‰æ ¼å¼æä¾›ã€‚ åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œyoutube-dl å°†ä¸‹è½½å…¶ä»–æœ€ä½³å¯ç”¨æ ¼å¼ã€‚ä¾‹å¦‚ï¼š youtube-dl -f 'bestvideo[ext=mp4]+bestaudio[ext=m4a]/best[ext=mp4]/best' [ul] æ­¤å‘½ä»¤å°†ä¸‹è½½æœ€ä½³è´¨é‡çš„MP4æ ¼å¼æ–‡ä»¶ã€‚å¦‚æœ MP4 æ ¼å¼ä¸å¯ç”¨ï¼Œåˆ™å®ƒå°†ä¸‹è½½å…¶ä»–æœ€ä½³å¯ç”¨æ ¼å¼ã€‚  é™åˆ¶ä¸‹è½½è§†é¢‘çš„å¤§å°\nä»YouTubeæ’­æ”¾åˆ—è¡¨ä¸‹è½½å¤šä¸ªè§†é¢‘æ—¶ï¼Œæ‚¨å¯èƒ½åªæƒ³ä¸‹è½½ç‰¹å®šå¤§å°çš„è§†é¢‘ã€‚ä¾‹å¦‚ï¼š\n æ­¤å‘½ä»¤ä¸ä¼šä¸‹è½½ä»»ä½•å°äºæŒ‡å®šå¤§å°ï¼ˆä¾‹å¦‚100MBï¼‰çš„è§†é¢‘ï¼šyoutube-dl --min-filesize 100M \u0026lt;playlist_url\u0026gt;ã€‚ å¦‚æœæ‚¨ä¸æƒ³ä¸‹è½½å¤§äºç»™å®šå¤§å°çš„è§†é¢‘ï¼Œå¯ä»¥è¿™æ ·ï¼šyoutube-dl --max-filesize 100M \u0026lt;playlist_url\u0026gt;ã€‚  æˆ‘ä»¬è¿˜å¯ä»¥ç”¨ç»„åˆæ ¼å¼ï¼Œé€‰æ‹©è¿ç®—ç¬¦æ¥ä¸‹è½½ç‰¹å®šå¤§å°çš„è§†é¢‘ã€‚ä¾‹å¦‚ï¼š\n ä»¥ä¸‹å‘½ä»¤å°†ä¸‹è½½æœ€ä½³è§†é¢‘æ ¼å¼ä½†ä¸å¤§äº 100MB çš„è§†é¢‘ï¼šyoutube-dl -f 'best[filesize\u0026lt;100M]' [url]ã€‚  æŒ‰æ—¥æœŸä¸‹è½½è§†é¢‘\nYoutube-dl å…è®¸æˆ‘ä»¬æŒ‰ç…§ä¸Šä¼ æ—¥æœŸæ¥ç­›é€‰å’Œä¸‹è½½è§†é¢‘æˆ–æ’­æ”¾åˆ—è¡¨ï¼Œä¾‹å¦‚ï¼š\n è¦ä¸‹è½½ 2019 å¹´ 8 æœˆ 1 æ—¥ä¸Šä¼ çš„è§†é¢‘ï¼Œå¯ä»¥ä½¿ç”¨ï¼šyoutube-dl --date 20190801 [URL]ï¼› ä¸‹è½½åœ¨ç‰¹å®šæ—¥æœŸæˆ–ä¹‹å‰ä¸Šä¼ çš„è§†é¢‘ï¼šyoutube-dl --datebefore 20190801 [URL]ï¼› ä¸‹è½½åœ¨ç‰¹å®šæ—¥æœŸæˆ–ä¹‹åä¸Šä¼ çš„è§†é¢‘ï¼šyoutube-dl --dateafter 20190101 [URL]ï¼› ä»…ä¸‹è½½è¿‡å» 6 ä¸ªæœˆå†…ä¸Šä¼ çš„è§†é¢‘ï¼šyoutube-dl --dateafter now-6months [URL]ï¼› ä¸‹è½½ç‰¹å®šæ—¶é—´æ®µå†…ï¼ˆä¾‹å¦‚ 2018 å¹´ 1 æœˆ 1 æ—¥è‡³ 2019 å¹´ 1 æœˆ 1 æ—¥ï¼‰ä¸Šä¼ çš„è§†é¢‘ï¼šyoutube-dl --dateafter 20180101 --datebefore 20190101 [URL]ã€‚  ä»æ’­æ”¾åˆ—è¡¨ä¸‹è½½ç‰¹å®šçš„è§†é¢‘\nä»æ’­æ”¾åˆ—è¡¨ä¸‹è½½ç‰¹å®šçš„è§†é¢‘ï¼Œæ˜¯youtube-dl çš„å¦ä¸€ä¸ªéå¸¸æœ‰ç”¨çš„åŠŸèƒ½ã€‚ä¾‹å¦‚ï¼š\n è¦ä»æ’­æ”¾åˆ—è¡¨ä¸‹è½½ç¬¬ 10 ä¸ªæ–‡ä»¶ï¼Œå¯ä½¿ç”¨ï¼šyoutube-dl --playlist-items 10 [playlist_url]ï¼› è¦ä¸‹è½½å¤šä¸ªæŒ‡å®šçš„æ–‡ä»¶ï¼Œåªéœ€ç”¨é€—å·åˆ†éš”ï¼šyoutube-dl --playlist-items 2,3,7,10 [playlist_url]ï¼›  ä¹Ÿå¯ä»¥æŒ‰åºå·æ¥æŒ‡å®šè¦ä¸‹è½½èŒƒå›´ï¼Œä¾‹å¦‚ï¼š\n ä»ç¬¬ 10 ä¸ªå¼€å§‹ï¼Œç›´æ¥ä¸‹è½½å®Œæ•´ä¸ªåˆ—è¡¨ï¼šyoutube-dl --playlist-start 10 [playlist_url]ï¼› åœ¨æ’­æ”¾åˆ—è¡¨ä¸­ä»…ä¸‹è½½ä»ç¬¬ 2 åˆ°ç¬¬ 5 çš„æ–‡ä»¶ï¼šyoutube-dl --playlist-start 2 --playlist-end 5 [playlist_url]ã€‚  Configuration åœ¨ Linux å’Œ macOS ä¸Šï¼Œç³»ç»Ÿé…ç½®æ–‡ä»¶ä½äº /etc/youtube-dl.confï¼Œç”¨æˆ·é…ç½®æ–‡ä»¶ä½äº ~/.config/youtube-dl/configã€‚\n# Continue on download errors, for example to skip unavailable videos in a playlist --ignore-errors # Time to wait before giving up, in seconds --socket-timeout 10 # Download only videos not listed in the archive file. Record the IDs of all downloaded videos in it. #--download-archive /path/archive.txt # Number of retries (default is 10), or \u0026#34;infinite\u0026#34;. --retries infinite # Give these arguments to the external downloader --external-downloader aria2c --external-downloader-args \u0026#34;--no-conf -c\u0026#34; # Output filename template, see the \u0026#34;OUTPUT TEMPLATE\u0026#34; for all the info -o \u0026#39;~/Videos/%(id)s.%(ext)s\u0026#39; # Write thumbnail image to disk #--write-thumbnail # download best 30hz mp4 file , h264+aac ,use http or https protocol,because we can use aria2c downloader to have a faster speed --format \u0026#39;(bestvideo[ext=mp4][fps\u0026lt;31]+bestaudio[ext=m4a]/best[ext=mp4]/bestvideo+bestaudio/best)[protocol^=http]\u0026#39; # Embed thumbnail in the audio as cover art #--embed-thumbnail # Write metadata to the video file --add-metadata curl ç®€ä»‹ curl æ˜¯å¸¸ç”¨çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œç”¨æ¥è¯·æ±‚ Web æœåŠ¡å™¨ã€‚å®ƒçš„åå­—å°±æ˜¯å®¢æˆ·ç«¯ï¼ˆclientï¼‰çš„ URL å·¥å…·çš„æ„æ€ã€‚\nå®ƒçš„åŠŸèƒ½éå¸¸å¼ºå¤§ï¼Œå‘½ä»¤è¡Œå‚æ•°å¤šè¾¾å‡ åç§ã€‚å¦‚æœç†Ÿç»ƒçš„è¯ï¼Œå®Œå…¨å¯ä»¥å–ä»£ Postman è¿™ä¸€ç±»çš„å›¾å½¢ç•Œé¢å·¥å…·ã€‚\næœ¬æ–‡ä»‹ç»å®ƒçš„ä¸»è¦å‘½ä»¤è¡Œå‚æ•°ï¼Œä½œä¸ºæ—¥å¸¸çš„å‚è€ƒï¼Œæ–¹ä¾¿æŸ¥é˜…ã€‚\nä¸å¸¦æœ‰ä»»ä½•å‚æ•°æ—¶ï¼Œcurl å°±æ˜¯å‘å‡º GET è¯·æ±‚ã€‚\n$ curl https://www.example.com ä¸Šé¢å‘½ä»¤å‘www.example.comå‘å‡º GET è¯·æ±‚ï¼ŒæœåŠ¡å™¨è¿”å›çš„å†…å®¹ä¼šåœ¨å‘½ä»¤è¡Œè¾“å‡ºã€‚\nä¸»è¦å‘½ä»¤è¡Œå‚æ•° -A\n-Aå‚æ•°æŒ‡å®šå®¢æˆ·ç«¯çš„ç”¨æˆ·ä»£ç†æ ‡å¤´ï¼Œå³User-Agentã€‚curl çš„é»˜è®¤ç”¨æˆ·ä»£ç†å­—ç¬¦ä¸²æ˜¯curl/[version]ã€‚\n$ curl -A \u0026#39;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/76.0.3809.100 Safari/537.36\u0026#39; https://google.com ä¸Šé¢å‘½ä»¤å°†User-Agentæ”¹æˆ Chrome æµè§ˆå™¨ã€‚\n$ curl -A \u0026#39;\u0026#39; https://google.com ä¸Šé¢å‘½ä»¤ä¼šç§»é™¤User-Agentæ ‡å¤´ã€‚\nä¹Ÿå¯ä»¥é€šè¿‡-Hå‚æ•°ç›´æ¥æŒ‡å®šæ ‡å¤´ï¼Œæ›´æ”¹User-Agentã€‚\n$ curl -H \u0026#39;User-Agent: php/1.0\u0026#39; https://google.com -b\n-bå‚æ•°ç”¨æ¥å‘æœåŠ¡å™¨å‘é€ Cookieã€‚\n$ curl -b \u0026#39;foo=bar\u0026#39; https://google.com ä¸Šé¢å‘½ä»¤ä¼šç”Ÿæˆä¸€ä¸ªæ ‡å¤´Cookie: foo=barï¼Œå‘æœåŠ¡å™¨å‘é€ä¸€ä¸ªåä¸ºfooã€å€¼ä¸ºbarçš„ Cookieã€‚\n$ curl -b \u0026#39;foo1=bar;foo2=bar2\u0026#39; https://google.com ä¸Šé¢å‘½ä»¤å‘é€ä¸¤ä¸ª Cookieã€‚\n$ curl -b cookies.txt https://www.google.com ä¸Šé¢å‘½ä»¤è¯»å–æœ¬åœ°æ–‡ä»¶cookies.txtï¼Œé‡Œé¢æ˜¯æœåŠ¡å™¨è®¾ç½®çš„ Cookieï¼ˆå‚è§-cå‚æ•°ï¼‰ï¼Œå°†å…¶å‘é€åˆ°æœåŠ¡å™¨ã€‚\n-c\n-cå‚æ•°å°†æœåŠ¡å™¨è®¾ç½®çš„ Cookie å†™å…¥ä¸€ä¸ªæ–‡ä»¶ã€‚\n$ curl -c cookies.txt https://www.google.com ä¸Šé¢å‘½ä»¤å°†æœåŠ¡å™¨çš„ HTTP å›åº”æ‰€è®¾ç½® Cookie å†™å…¥æ–‡æœ¬æ–‡ä»¶cookies.txtã€‚\n-d\n-då‚æ•°ç”¨äºå‘é€ POST è¯·æ±‚çš„æ•°æ®ä½“ã€‚\n$ curl -d \u0026#39;login=emmaï¼†password=123\u0026#39;-X POST https://google.com/login # æˆ–è€… $ curl -d \u0026#39;login=emma\u0026#39; -d \u0026#39;password=123\u0026#39; -X POST https://google.com/login ä½¿ç”¨-då‚æ•°ä»¥åï¼ŒHTTP è¯·æ±‚ä¼šè‡ªåŠ¨åŠ ä¸Šæ ‡å¤´Content-Type : application/x-www-form-urlencodedã€‚å¹¶ä¸”ä¼šè‡ªåŠ¨å°†è¯·æ±‚è½¬ä¸º POST æ–¹æ³•ï¼Œå› æ­¤å¯ä»¥çœç•¥-X POSTã€‚\n-då‚æ•°å¯ä»¥è¯»å–æœ¬åœ°æ–‡æœ¬æ–‡ä»¶çš„æ•°æ®ï¼Œå‘æœåŠ¡å™¨å‘é€ã€‚\n$ curl -d \u0026#39;@data.txt\u0026#39; https://google.com/login ä¸Šé¢å‘½ä»¤è¯»å–data.txtæ–‡ä»¶çš„å†…å®¹ï¼Œä½œä¸ºæ•°æ®ä½“å‘æœåŠ¡å™¨å‘é€ã€‚\n\u0026ndash;data-urlencode\n--data-urlencodeå‚æ•°ç­‰åŒäº-dï¼Œå‘é€ POST è¯·æ±‚çš„æ•°æ®ä½“ï¼ŒåŒºåˆ«åœ¨äºä¼šè‡ªåŠ¨å°†å‘é€çš„æ•°æ®è¿›è¡Œ URL ç¼–ç ã€‚\n$ curl --data-urlencode \u0026#39;comment=hello world\u0026#39; https://google.com/login ä¸Šé¢ä»£ç ä¸­ï¼Œå‘é€çš„æ•°æ®hello worldä¹‹é—´æœ‰ä¸€ä¸ªç©ºæ ¼ï¼Œéœ€è¦è¿›è¡Œ URL ç¼–ç ã€‚\n-e\n-eå‚æ•°ç”¨æ¥è®¾ç½® HTTP çš„æ ‡å¤´Refererï¼Œè¡¨ç¤ºè¯·æ±‚çš„æ¥æºã€‚\ncurl -e \u0026#39;https://google.com?q=example\u0026#39; https://www.example.com ä¸Šé¢å‘½ä»¤å°†Refereræ ‡å¤´è®¾ä¸ºhttps://google.com?q=exampleã€‚\n-Hå‚æ•°å¯ä»¥é€šè¿‡ç›´æ¥æ·»åŠ æ ‡å¤´Refererï¼Œè¾¾åˆ°åŒæ ·æ•ˆæœã€‚\ncurl -H \u0026#39;Referer: https://google.com?q=example\u0026#39; https://www.example.com -F\n-Få‚æ•°ç”¨æ¥å‘æœåŠ¡å™¨ä¸Šä¼ äºŒè¿›åˆ¶æ–‡ä»¶ã€‚\n$ curl -F \u0026#39;file=@photo.png\u0026#39; https://google.com/profile ä¸Šé¢å‘½ä»¤ä¼šç»™ HTTP è¯·æ±‚åŠ ä¸Šæ ‡å¤´Content-Type: multipart/form-dataï¼Œç„¶åå°†æ–‡ä»¶photo.pngä½œä¸ºfileå­—æ®µä¸Šä¼ ã€‚\n-Få‚æ•°å¯ä»¥æŒ‡å®š MIME ç±»å‹ã€‚\n$ curl -F \u0026#39;file=@photo.png;type=image/png\u0026#39; https://google.com/profile ä¸Šé¢å‘½ä»¤æŒ‡å®š MIME ç±»å‹ä¸ºimage/pngï¼Œå¦åˆ™ curl ä¼šæŠŠ MIME ç±»å‹è®¾ä¸ºapplication/octet-streamã€‚\n-Få‚æ•°ä¹Ÿå¯ä»¥æŒ‡å®šæ–‡ä»¶åã€‚\n$ curl -F \u0026#39;file=@photo.png;filename=me.png\u0026#39; https://google.com/profile ä¸Šé¢å‘½ä»¤ä¸­ï¼ŒåŸå§‹æ–‡ä»¶åä¸ºphoto.pngï¼Œä½†æ˜¯æœåŠ¡å™¨æ¥æ”¶åˆ°çš„æ–‡ä»¶åä¸ºme.pngã€‚\n-G\n-Gå‚æ•°ç”¨æ¥æ„é€  URL çš„æŸ¥è¯¢å­—ç¬¦ä¸²ã€‚\n$ curl -G -d \u0026#39;q=kitties\u0026#39; -d \u0026#39;count=20\u0026#39; https://google.com/search ä¸Šé¢å‘½ä»¤ä¼šå‘å‡ºä¸€ä¸ª GET è¯·æ±‚ï¼Œå®é™…è¯·æ±‚çš„ URL ä¸ºhttps://google.com/search?q=kitties\u0026amp;count=20ã€‚å¦‚æœçœç•¥--Gï¼Œä¼šå‘å‡ºä¸€ä¸ª POST è¯·æ±‚ã€‚\nå¦‚æœæ•°æ®éœ€è¦ URL ç¼–ç ï¼Œå¯ä»¥ç»“åˆ--data--urlencodeå‚æ•°ã€‚\n$ curl -G --data-urlencode \u0026#39;comment=hello world\u0026#39; https://www.example.com -H\n-Hå‚æ•°æ·»åŠ  HTTP è¯·æ±‚çš„æ ‡å¤´ã€‚\n$ curl -H \u0026#39;Accept-Language: en-US\u0026#39; https://google.com ä¸Šé¢å‘½ä»¤æ·»åŠ  HTTP æ ‡å¤´Accept-Language: en-USã€‚\n$ curl -H \u0026#39;Accept-Language: en-US\u0026#39; -H \u0026#39;Secret-Message: xyzzy\u0026#39; https://google.com ä¸Šé¢å‘½ä»¤æ·»åŠ ä¸¤ä¸ª HTTP æ ‡å¤´ã€‚\n$ curl -d \u0026#39;{\u0026#34;login\u0026#34;: \u0026#34;emma\u0026#34;, \u0026#34;pass\u0026#34;: \u0026#34;123\u0026#34;}\u0026#39; -H \u0026#39;Content-Type: application/json\u0026#39; https://google.com/login ä¸Šé¢å‘½ä»¤æ·»åŠ  HTTP è¯·æ±‚çš„æ ‡å¤´æ˜¯Content-Type: application/jsonï¼Œç„¶åç”¨-då‚æ•°å‘é€ JSON æ•°æ®ã€‚\n-i\n-iå‚æ•°æ‰“å°å‡ºæœåŠ¡å™¨å›åº”çš„ HTTP æ ‡å¤´ã€‚\n$ curl -i https://www.example.com ä¸Šé¢å‘½ä»¤æ”¶åˆ°æœåŠ¡å™¨å›åº”åï¼Œå…ˆè¾“å‡ºæœåŠ¡å™¨å›åº”çš„æ ‡å¤´ï¼Œç„¶åç©ºä¸€è¡Œï¼Œå†è¾“å‡ºç½‘é¡µçš„æºç ã€‚\n-I\n-Iå‚æ•°å‘æœåŠ¡å™¨å‘å‡º HEAD è¯·æ±‚ï¼Œç„¶ä¼šå°†æœåŠ¡å™¨è¿”å›çš„ HTTP æ ‡å¤´æ‰“å°å‡ºæ¥ã€‚\n$ curl -I https://www.example.com ä¸Šé¢å‘½ä»¤è¾“å‡ºæœåŠ¡å™¨å¯¹ HEAD è¯·æ±‚çš„å›åº”ã€‚\n--headå‚æ•°ç­‰åŒäº-Iã€‚\n$ curl --head https://www.example.com -k\n-kå‚æ•°æŒ‡å®šè·³è¿‡ SSL æ£€æµ‹ã€‚\n$ curl -k https://www.example.com ä¸Šé¢å‘½ä»¤ä¸ä¼šæ£€æŸ¥æœåŠ¡å™¨çš„ SSL è¯ä¹¦æ˜¯å¦æ­£ç¡®ã€‚\n-L\n-Lå‚æ•°ä¼šè®© HTTP è¯·æ±‚è·ŸéšæœåŠ¡å™¨çš„é‡å®šå‘ã€‚curl é»˜è®¤ä¸è·Ÿéšé‡å®šå‘ã€‚\n$ curl -L -d \u0026#39;tweet=hi\u0026#39; https://api.twitter.com/tweet \u0026ndash;limit-rate4\n--limit-rateç”¨æ¥é™åˆ¶ HTTP è¯·æ±‚å’Œå›åº”çš„å¸¦å®½ï¼Œæ¨¡æ‹Ÿæ…¢ç½‘é€Ÿçš„ç¯å¢ƒã€‚\n$ curl --limit-rate 200k https://google.com ä¸Šé¢å‘½ä»¤å°†å¸¦å®½é™åˆ¶åœ¨æ¯ç§’ 200K å­—èŠ‚ã€‚\n-o\n-oå‚æ•°å°†æœåŠ¡å™¨çš„å›åº”ä¿å­˜æˆæ–‡ä»¶ï¼Œç­‰åŒäºwgetå‘½ä»¤ã€‚\n$ curl -o example.html https://www.example.com ä¸Šé¢å‘½ä»¤å°†www.example.comä¿å­˜æˆexample.htmlã€‚\n-O\n-Oå‚æ•°å°†æœåŠ¡å™¨å›åº”ä¿å­˜æˆæ–‡ä»¶ï¼Œå¹¶å°† URL çš„æœ€åéƒ¨åˆ†å½“ä½œæ–‡ä»¶åã€‚\n$ curl -O https://www.example.com/foo/bar.html ä¸Šé¢å‘½ä»¤å°†æœåŠ¡å™¨å›åº”ä¿å­˜æˆæ–‡ä»¶ï¼Œæ–‡ä»¶åä¸ºbar.htmlã€‚\n-s\n-så‚æ•°å°†ä¸è¾“å‡ºé”™è¯¯å’Œè¿›åº¦ä¿¡æ¯ã€‚\n$ curl -s https://www.example.com ä¸Šé¢å‘½ä»¤ä¸€æ—¦å‘ç”Ÿé”™è¯¯ï¼Œä¸ä¼šæ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ã€‚ä¸å‘ç”Ÿé”™è¯¯çš„è¯ï¼Œä¼šæ­£å¸¸æ˜¾ç¤ºè¿è¡Œç»“æœã€‚\nå¦‚æœæƒ³è®© curl ä¸äº§ç”Ÿä»»ä½•è¾“å‡ºï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ã€‚\n$ curl -s -o /dev/null https://google.com -S\n-Så‚æ•°æŒ‡å®šåªè¾“å‡ºé”™è¯¯ä¿¡æ¯ï¼Œé€šå¸¸ä¸-sä¸€èµ·ä½¿ç”¨ã€‚\n$ curl -s -o /dev/null https://google.com ä¸Šé¢å‘½ä»¤æ²¡æœ‰ä»»ä½•è¾“å‡ºï¼Œé™¤éå‘ç”Ÿé”™è¯¯ã€‚\n-u\n-uå‚æ•°ç”¨æ¥è®¾ç½®æœåŠ¡å™¨è®¤è¯çš„ç”¨æˆ·åå’Œå¯†ç ã€‚\n$ curl -u \u0026#39;bob:12345\u0026#39; https://google.com/login ä¸Šé¢å‘½ä»¤è®¾ç½®ç”¨æˆ·åä¸ºbobï¼Œå¯†ç ä¸º12345ï¼Œç„¶åå°†å…¶è½¬ä¸º HTTP æ ‡å¤´Authorization: Basic Ym9iOjEyMzQ1ã€‚\ncurl èƒ½å¤Ÿè¯†åˆ« URL é‡Œé¢çš„ç”¨æˆ·åå’Œå¯†ç ã€‚\n$ curl https://bob:12345@google.com/login ä¸Šé¢å‘½ä»¤èƒ½å¤Ÿè¯†åˆ« URL é‡Œé¢çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œå°†å…¶è½¬ä¸ºä¸Šä¸ªä¾‹å­é‡Œé¢çš„ HTTP æ ‡å¤´ã€‚\n$ curl -u \u0026#39;bob\u0026#39; https://google.com/login ä¸Šé¢å‘½ä»¤åªè®¾ç½®äº†ç”¨æˆ·åï¼Œæ‰§è¡Œåï¼Œcurl ä¼šæç¤ºç”¨æˆ·è¾“å…¥å¯†ç ã€‚\n-v\n-vå‚æ•°è¾“å‡ºé€šä¿¡çš„æ•´ä¸ªè¿‡ç¨‹ï¼Œç”¨äºè°ƒè¯•ã€‚\n$ curl -v https://www.example.com --traceå‚æ•°ä¹Ÿå¯ä»¥ç”¨äºè°ƒè¯•ï¼Œè¿˜ä¼šè¾“å‡ºåŸå§‹çš„äºŒè¿›åˆ¶æ•°æ®ã€‚\n$ curl --trace - https://www.example.com -x\n-xå‚æ•°æŒ‡å®š HTTP è¯·æ±‚çš„ä»£ç†ã€‚\n$ curl -x socks5://james:cats@myproxy.com:8080 https://www.example.com ä¸Šé¢å‘½ä»¤æŒ‡å®š HTTP è¯·æ±‚é€šè¿‡myproxy.com:8080çš„ socks5 ä»£ç†å‘å‡ºã€‚\nå¦‚æœæ²¡æœ‰æŒ‡å®šä»£ç†åè®®ï¼Œé»˜è®¤ä¸º HTTPã€‚\n$ curl -x james:cats@myproxy.com:8080 https://www.example.com ä¸Šé¢å‘½ä»¤ä¸­ï¼Œè¯·æ±‚çš„ä»£ç†ä½¿ç”¨ HTTP åè®®ã€‚\n-X\n-Xå‚æ•°æŒ‡å®š HTTP è¯·æ±‚çš„æ–¹æ³•ã€‚\n$ curl -X POST https://www.example.com ä¸Šé¢å‘½ä»¤å¯¹https://www.example.comå‘å‡º POST è¯·æ±‚ã€‚\nHTTPie HTTPieï¼ˆhttpï¼‰ä»¥ä¸€ç§æ›´äººæ€§åŒ–çš„æ–¹å¼åšåŒæ ·çš„å·¥ä½œã€‚ä½ ä¼šçœ‹åˆ°å½©è‰²çš„ã€æ ¼å¼åŒ–çš„è¾“å‡ºï¼Œè¿™ä½¿å¾—å®ƒæ›´å®¹æ˜“ç†è§£å’Œè°ƒè¯•ã€‚\naxel Lightweight CLI download accelerator\nUSENET èµ·æº ç®€å•åœ°è¯´ï¼ŒUSENETæ˜¯ä¸€ä¸ªå·¨å¤§æ— æ¯”çš„ç½‘ä¸Šè®¨è®ºç»„ï¼Œä¸€èˆ¬ä¹Ÿç§°ä¸º\u0026quot;æ–°é—»ç»„\u0026quot;ï¼ˆnewsgroupsï¼‰ã€‚ä½ å¯ä»¥å°†å®ƒæƒ³è±¡æˆä¸€ä¸ªåŒ…ç½—ä¸‡è±¡ã€æ— æ‰€ä¸æœ‰çš„ç½‘ä¸Šè®ºå›ï¼Œä½†æ˜¯å®ƒåˆä¸åŒäºæˆ‘ä»¬é€šå¸¸çœ‹åˆ°çš„æ™®é€šè®ºå›ã€‚è¿™è¦ä»å®ƒçš„èµ·æºè¯´èµ·ã€‚\nä¸Šä¸ªä¸–çºª70å¹´ä»£æœ«ï¼Œå½“æ—¶è¿˜æ²¡æœ‰äº’è”ç½‘å’Œæµè§ˆå™¨ï¼Œå®ƒä»¬éƒ½è¦åœ¨åå¤šå¹´åæ‰ä¼šå‡ºç°ã€‚é‚£æ—¶æ‰€è°“\u0026quot;ä¸Šç½‘\u0026quot;ï¼Œå°±æ˜¯ç”¨modemï¼ˆè°ƒåˆ¶è§£è°ƒå™¨ï¼‰ï¼Œæ‹¨ä¸€ä¸ªç”µè¯å·ç ï¼Œå°†è‡ªå·±çš„ç”µè„‘è¿åˆ°å¦ä¸€å°ç”µè„‘ï¼ˆä¹Ÿç§°\u0026quot;ä¸»æœº\u0026quot;ï¼‰ï¼Œæ”¶æ”¶é‚®ä»¶ï¼Œçœ‹çœ‹ä¸Šé¢ç³»ç»Ÿç®¡ç†å‘˜å‘çš„é€šå‘Šã€‚å¦‚æœæƒ³æ¢ä¸€å°ä¸»æœºçœ‹çœ‹ï¼Œé‚£å°±å¿…é¡»å…ˆæŒ‚æ–­ï¼Œå†æ‹¨å¦å¤–ä¸€ä¸ªç”µè¯å·ç ã€‚\nè¿™æ ·çš„ä¸Šç½‘æ–¹å¼ï¼Œå¾ˆä¸åˆ©äºå¼€å±•å¤šäººçš„è®¨è®ºã€‚ç”±äºæ˜¯æ‹¨å·ä¸Šç½‘ï¼Œåªæœ‰åœ°ç†ä½ç½®ç›¸è¿‘çš„ç”¨æˆ·ï¼Œæ‰ä¼šç™»å½•åŒä¸€å°ä¸»æœºã€‚å¾ˆéš¾æƒ³è±¡ï¼ŒåŒä¸€å°æœºå™¨çš„ç™»å½•ç”¨æˆ·ï¼Œæ—¢æœ‰ä¸œå²¸çš„çº½çº¦äººï¼Œä¹Ÿæœ‰è¥¿å²¸çš„æ´›æ‰çŸ¶äººã€‚å³ä½¿é•¿é€”ç”µè¯è´¹ä¸æ˜¯é—®é¢˜ï¼Œå½“æ—¶çš„ä¸»æœºä¹Ÿæ²¡æœ‰èƒ½åŠ›åŒæ—¶è´Ÿæ‹…å¤ªå¤šçš„è¿œç¨‹ç»ˆç«¯ã€‚å› æ­¤ï¼Œè¿«åˆ‡éœ€è¦ä¸€ç§å¤§è§„æ¨¡çš„ã€åˆ†å¸ƒå¼çš„ã€å¤šä¸­å¿ƒçš„è¿œç¨‹ä¿¡æ¯äº¤æ¢æ‰‹æ®µã€‚\n1979å¹´ï¼ŒDukeå¤§å­¦çš„ä¸¤ä¸ªç ”ç©¶ç”ŸTom Truscottå’ŒJim Ellisï¼Œæå‡ºä¸€ç§åˆ†å¸ƒå¼çš„ç½‘ä¸Šè®¨è®ºç»„çš„æ„æƒ³ã€‚è¿™ç§è®¨è®ºç»„åˆ›å»ºä¹‹åˆï¼Œä¸»è¦æ˜¯ä¾›UNIXçˆ±å¥½è€…åä¼šï¼ˆUSENIXï¼‰çš„æˆå‘˜ä½¿ç”¨ï¼Œå› æ­¤å°±è¢«å®šåä¸ºUSENETã€‚å½“ç„¶ï¼Œåæ¥å…¨ä¸–ç•Œçš„ç”¨æˆ·éƒ½åœ¨ä½¿ç”¨å®ƒã€‚\nè¿è¡Œæœºåˆ¶ USENETçš„è¿è¡Œæœºåˆ¶å…¶å®éå¸¸ç®€å•ã€‚å¯¹äºç”¨æˆ·æ¥è¯´ï¼Œåªæœ‰ä¸‰æ­¥ã€‚\n1ï¼‰ç½‘ç»œæœåŠ¡æä¾›å•†ï¼ˆISPï¼‰åœ¨ä¸€ä¸ªç½‘ç»œä¸­ï¼Œè®¾å®šä¸€å°æœåŠ¡å™¨ä½œä¸ºUSENETä¸“ç”¨æœåŠ¡å™¨ï¼Œå†å°†å®ƒçš„ç½‘å€å‘Šè¯‰ç”¨æˆ·ã€‚\n2ï¼‰ç”¨æˆ·æƒ³è¦å‘è¨€çš„æ—¶å€™ï¼Œå°±å‘è¿™ä¸ªç½‘å€å‘é€å¸–å­ï¼ˆpostï¼‰ï¼Œè¿™ä¸å‘é€Emailå¾ˆç›¸ä¼¼ï¼Œä½†æ˜¯ä¸¤è€…æ ¼å¼ä¸ä¸€æ ·ï¼Œåœ¨USENETä¸Šå‘è¨€å¿…é¡»ä½¿ç”¨ä¸“ç”¨çš„å®¢æˆ·ç«¯ã€‚ä¸è¿‡ï¼Œç°åœ¨å¤§å¤šæ•°çš„Emailå®¢æˆ·ç«¯éƒ½å¸¦æœ‰æ–°é—»ç»„åŠŸèƒ½ï¼Œæœ€å¸¸è§çš„Outlook Expressçš„è®¾ç½®å¯ä»¥å‚è€ƒç½‘ä¸Šçš„è¯´æ˜ã€‚\n3ï¼‰æŸ¥çœ‹å…¶ä»–äººçš„å‘è¨€æ—¶ï¼Œå°±å¿…é¡»ä»æœåŠ¡å™¨ä¸Šä¸‹è½½å…¶ä»–äººçš„å¸–å­ã€‚ä¸‹è½½å®Œæˆåï¼Œå¦‚æœæƒ³å›å¤æŸäººçš„å¸–å­ï¼Œå°±å†é‡å¤ç¬¬äºŒæ­¥ã€‚\nå¯ä»¥çœ‹åˆ°ï¼Œè¿™ä¸ªè¿‡ç¨‹åŒé‚®ä»¶åˆ—è¡¨çš„è¿è¡Œå‡ ä¹ä¸€æ¨¡ä¸€æ ·ï¼Œä¸åŒä¹‹å¤„åœ¨äºï¼ŒUSENETæœåŠ¡å™¨æ¯å¤©ä¼šåŒå…¶ä»–USENETæœåŠ¡å™¨äº¤æ¢å¸–å­ã€‚è¿™å°±æ˜¯è¯´ï¼Œå…¨ä¸–ç•Œæ‰€æœ‰çš„USENETæœåŠ¡å™¨æœ€ç»ˆéƒ½å¯ä»¥äº’ç›¸äº¤æ¢å¸–å­ï¼Œä¿æŒå†…å®¹çš„åŒæ­¥ã€‚æ‰€ä»¥ç†è®ºä¸Šï¼Œä¸ç®¡ä½ çš„å¸–å­æ˜¯å‘åˆ°å“ªä¸€å°æœåŠ¡å™¨ä¸Šï¼Œæœ€ç»ˆå…¨ä¸–ç•Œçš„äººä»¬éƒ½ä¼šçœ‹åˆ°ï¼Œå¹¶ä¸”ä¼šä»ä¸–ç•Œå„åœ°ç»™ä½ å›å¤ã€‚\nå› æ­¤ï¼ŒUSENETå°±æœ‰ä¸€ä¸ªå…¶ä»–äº¤æµæœºåˆ¶æ‰€æ²¡æœ‰çš„ä¼˜ç‚¹ï¼Œå³è¿™æ˜¯ä¸€ä¸ªçœŸæ­£çš„å…¨ä¸–ç•Œå‚ä¸çš„è®¨è®ºç»„ã€‚\nå†…å®¹ç»“æ„ ç”±äºUSENETä¸­çš„è®¨è®ºå†…å®¹æ— æ‰€ä¸åŒ…ï¼Œæ‰€ä»¥å¿…é¡»æ ¹æ®ä¸»é¢˜åˆ†ç±»ã€‚æ¯ä¸€ä¸ªä¸»é¢˜å°±æ˜¯ä¸€ä¸ª\u0026quot;é¢‘é“\u0026quot;ï¼Œå¯¹è¿™ä¸ªä¸»é¢˜æ„Ÿå…´è¶£çš„ç”¨æˆ·å°±è®¢é˜…è¿™ä¸ªé¢‘é“ã€‚\nUSENETä¸­çš„ä¸»é¢˜åˆ†ç±»é‡‡ç”¨ç­‰çº§åˆ¶ï¼ˆhierarchiesï¼‰ï¼Œåœ¨å½¢å¼ä¸ŠåŒåŸŸåå¾ˆç›¸ä¼¼ï¼Œå³\u0026quot;ä¸€çº§ä¸»é¢˜.äºŒçº§ä¸»é¢˜.ä¸‰çº§ä¸»é¢˜\u0026hellip;.\u0026quot;ï¼Œä¸­é—´ä»¥å°æ•°ç‚¹åˆ†éš”ã€‚\nä¸€çº§ä¸»é¢˜æœ‰9ä¸ªã€‚\n * comp.*: ä¸è®¡ç®—æœºç›¸å…³çš„è®¨è®ºã€‚ï¼ˆcomputer-related discussionsï¼Œæ¯”å¦‚comp.software, comp.sys.amigaï¼‰\n* misc.*: å„ç§ä¸å±äºå…¶ä»–åˆ†ç±»çš„ä¸»é¢˜ã€‚ï¼ˆMiscellaneous topicsï¼Œæ¯”å¦‚misc.education, misc.forsale, misc.kidsï¼‰\n* news.*: å¯¹USENETæœ¬èº«çš„è®¨è®ºï¼ˆæ¯”å¦‚news.groups, news.adminï¼‰\n* rec.*: ä¼‘é—²å’Œå¨±ä¹ï¼ˆRecreation and entertainmentï¼Œæ¯”å¦‚rec.music, rec.arts.moviesï¼‰\n* sci.*: ä¸ç§‘å­¦ç›¸å…³çš„è®¨è®ºã€‚ï¼ˆScience related discussionsï¼Œæ¯”å¦‚sci.psychology, sci.researchï¼‰\n* soc.*: ä¸ç¤¾ä¼šç›¸å…³çš„è®¨è®ºã€‚ï¼ˆSocial discussionsï¼Œæ¯”å¦‚soc.college.org, soc.culture.africanï¼‰\n* talk.*: å„ç§äº‰è®®æ€§è¯é¢˜çš„è®¨è®ºã€‚ï¼ˆTalk about various controversial topicsï¼Œæ¯”å¦‚talk.religion, talk.politics, talk.originsï¼‰\n* humanities.*: è‰ºæœ¯ã€æ–‡å­¦ã€å“²å­¦æ–¹é¢çš„è®¨è®ºã€‚ï¼ˆFine arts, literature, and philosophyï¼Œæ¯”å¦‚humanities.classics, humanities.design.miscï¼‰\n* alt.*: è‡ªç”±è®¨è®ºåŒºã€‚ï¼ˆalternativeï¼‰\n è¿™9ä¸ªä¸€çº§ä¸»é¢˜ä¸­ï¼Œé™¤äº†alt.*ä»¥å¤–ï¼Œéƒ½ä¸èƒ½è‡ªè¡Œè®¾ç«‹è®¨è®ºåŒºã€‚åªæœ‰åœ¨altä¸»é¢˜åŒºä¸­ï¼Œå¯ä»¥è‡ªå·±å‘èµ·ä¸»é¢˜\u0026quot;é¢‘é“\u0026quot;ã€‚\näºŒè¿›åˆ¶å†…å®¹ USENETæœ€åˆè®¾è®¡çš„æ—¶å€™ï¼Œåªæ‰“ç®—ç”¨æ¥ä¼ é€’æ–‡æœ¬ä¿¡æ¯ï¼Œæ²¡æœ‰è€ƒè™‘ä¼ é€’äºŒè¿›åˆ¶æ•°æ®ï¼ˆä¹Ÿå°±æ˜¯\u0026quot;æ–‡ä»¶\u0026quot;ï¼‰ã€‚ä½†æ˜¯ï¼Œéšç€äº’è”ç½‘çš„å‘å±•ï¼Œä¸ä¼ é€’äºŒè¿›åˆ¶æ•°æ®çœ‹ä¸Šå»æ˜¯ä¸å¯èƒ½çš„ã€‚\näºæ˜¯ï¼Œä¸“é—¨çš„ç¼–ç æ–¹å¼è¢«è®¾è®¡äº†å‡ºæ¥ï¼Œä½¿å¾—äºŒè¿›åˆ¶æ–‡ä»¶å¯ä»¥è½¬æ¢æˆæ–‡æœ¬æ–‡ä»¶ï¼Œåœ¨USENETä¸Šä¼ é€’ï¼Œç”¨æˆ·ä¸‹è½½ä»¥åå†ä¼ æ¢æˆåŸæ¥çš„æ ¼å¼ã€‚è¿™æ—¶ï¼ŒUSENETå°±ä¸ä»…æ˜¯ä¸€ä¸ªè®¨è®ºç»„äº†ï¼Œè€Œæˆäº†ä¼ é€’æ–‡ä»¶çš„ä¸€ç§æ‰‹æ®µï¼Œå›¾ç‰‡ã€éŸ³é¢‘å’Œè§†é¢‘éƒ½å¯ä»¥é€šè¿‡USENETä¼ æ’­ã€‚\näº‹å®ä¸Šï¼Œå¦‚ä»ŠUSENETä¸Šçš„æµé‡ï¼Œ99%éƒ½å·²ç»æ˜¯äºŒè¿›åˆ¶æ–‡ä»¶äº†ã€‚å®ƒä»¬å¤§éƒ¨åˆ†éƒ½åœ¨alt.binariesè¿™ä¸ªä¸»é¢˜ä¸­ä¼ æ’­ã€‚ç”±äºä¸å—ç›‘ç®¡ï¼Œæ‰€ä»¥å„ç§å„æ ·çš„æ–‡ä»¶éƒ½æœ‰ã€‚\næ”¶è´¹æœåŠ¡ æ ¹æ®ä¸€é¡¹ç»Ÿè®¡ï¼Œ2007å¹´4æœˆUSENETä¸Šä¸€å¤©çš„æµé‡ä¸º3.12TBï¼Œä¸”è¿˜åœ¨å¿«é€Ÿå¢åŠ ä¸­ã€‚è¿™ä¹ˆå¤§çš„æµé‡ï¼Œä½¿å¾—ä¸–ç•Œä¸Šæä¾›USENETçš„æœåŠ¡å•†è‚¯å®šä¸ä¼šå¾ˆå¤šã€‚å¤§å®¶å¯ä»¥æŸ¥çœ‹è¿™ä¸ªç½‘é¡µï¼Œä¸Šé¢æœ‰USENETæä¾›å•†çš„ä¸å®Œå…¨åˆ—è¡¨ã€‚\nè¿™äº›æœåŠ¡å•†ï¼Œåˆåˆ†ä¸ºå…è´¹å’Œæ”¶è´¹ä¸¤ç§ã€‚å…è´¹çš„USENETç»å¤§å¤šæ•°éƒ½ä¸æä¾›äºŒè¿›åˆ¶æ–‡ä»¶ä¸‹è½½ï¼ŒæŸ¥çœ‹alt.free.newsserversä¸»é¢˜å¯ä»¥è·å¾—æœ€æ–°çš„å…è´¹USENETæœåŠ¡å™¨çš„ä¿¡æ¯ã€‚\nåœ¨æ”¶è´¹æœåŠ¡å•†ä¸­ï¼Œåæ°”æ¯”è¾ƒå¤§çš„æ˜¯GIGANEWSï¼Œå®ƒæä¾›å¤šç§æ”¶è´¹è´¦æˆ·ä¾›ç”¨æˆ·é€‰æ‹©ã€‚å…¶ä¸­ç™½é‡‘ç”¨æˆ·æ¯æœˆè´¹ç”¨ä¸º19.99ç¾å…ƒï¼Œå¯ä»¥æ— é™é‡ä¸‹è½½ï¼Œ14å¤©å†…ä¸æ»¡æ„å¯ä»¥é€€æ¬¾ã€‚å¦‚æœä½ æ˜¯ä¸€ä¸ªç‹‚çƒ­çš„ä¸‹è½½çˆ±å¥½è€…ï¼Œæˆ‘å¼ºçƒˆæ¨èå»è´­ä¹°ä¸€ä¸ªè´¦æˆ·ã€‚\nGoogle Groups Google Groupsä¹Ÿæä¾›å…è´¹USENETæœåŠ¡ã€‚ï¼ˆå½“ç„¶ï¼Œæ²¡æœ‰äºŒè¿›åˆ¶æ–‡ä»¶ä¸‹è½½ã€‚ï¼‰æˆ‘ä¼šå¦å†™æ–‡ç« ä¸“é—¨ä»‹ç»ï¼Œè¿™é‡Œå°±çœç•¥äº†ã€‚\nEditor VSCode ä¸­å›½å›½å†…ä¸‹è½½ VSCode é€Ÿåº¦æ…¢é—®é¢˜è§£å†³ï¼šä½¿ç”¨ azure ä¸­å›½ cdn é•œåƒåœ°å€åŠ é€Ÿä¸‹è½½ VSCode\nå°†é»˜è®¤ä¸‹è½½åœ°å€\nhttps://az764295.vo.msecnd.net/stable/ æ›¿æ¢ä¸º vscode.cdn.azure.cn\nhttps://vscode.cdn.azure.cn/stable/ è‡ªåŠ¨æ¢è¡Œ\nå°†word wrapçš„offæ”¹æˆon\næœ€é€‚åˆç¨‹åºå‘˜çš„ç¬”è®°è½¯ä»¶\nhttps://github.dev/[ç”¨æˆ·å]/[ä»“åº“å] å¤§å°å†™è½¬æ¢å¿«æ·é”®\n File-\u0026gt;Preference-\u0026gt;Keybord Shortcuts æˆ–ç›´æ¥æŒ‰ctrl+k+ctrl+s åœ¨ä¸Šé¢çš„æœç´¢æ ä¸­ï¼Œè¾“å…¥ Transform å°±å¯ä»¥çœ‹åˆ°æœ‰Transform to Uppercaseå’ŒTrasnfrom to Lowercaseçš„å‘½ä»¤ è®¾ç½®å¿«æ·é”®  Google Keep Now I am using Google Keep.\nGoogle Keepé”®ç›˜å¿«æ·é”®\n   hortcut Action     J/K Next/previous note   Shift + J/K Move note to next/previous position   N/P Next/previous list item   Shift + N/P Move list item to next/previous position   C New note   L New list   / Search   Ctrl + A Select all   E Archive   # Delete   F Pin/unpin   X Select   Ctrl + G Toggle list and grid view   Esc Close editor   Ctrl + Shift + 8 Toggle checkboxes   Ctrl + ] / [ Indent/dedent list item   ? Open shortcut list   @ Send feedback    Joplin+Typora+OneDrive Joplin $ wget -O - https://raw.githubusercontent.com/laurent22/joplin/dev/Joplin_install_and_update.sh | bash Typora å®‰è£…ï¼š\n# sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys BA300B7755AFCFAE $ wget -qO - https://typora.io/linux/public-key.asc | $ sudo apt-key add - # add Typora\u0026#39;s repository $ sudo add-apt-repository \u0026#39;deb https://typora.io/linux ./\u0026#39; $ sudo apt-get update # install typora $ sudo apt-get install typora å¦‚æœå®‰è£…çš„æ—¶äºŒè¿›åˆ¶åŒ…ï¼Œåˆ™å»ºç«‹ typora.desktop\n$ gedit ~/.local/share/applications/typora.desktop [Desktop Entry] Name=Typora Comment=a minimal Markdown reading \u0026amp; writing app. Change Log: (https://typora.io/windows/dev_release.html) GenericName=Markdown Editor Exec=/home/kurome/.typora/Typora %U Icon=/home/kurome/.typora/resources/assets/icon/icon_256x256.png Type=Application StartupNotify=true Categories=Office;WordProcessor; MimeType=text/markdown;text/x-markdown; typora æœ‰æ—¶ä¼šå‡ºç°ä¸¢æ•°æ®çš„ç°è±¡ï¼Œå¾ˆå›°æ‰°ï¼›ç‰¹åˆ«æ˜¯å›´æ ä»£ç å—ï¼Œå¤±å»äº†ç¼©è¿›ï¼Œæˆäº†ä¸€è¡Œï¼Œå®Œå…¨ä¸å¯é˜…è¯»äº†ã€‚ä½†æ˜¯å…¶ä»–çš„ Markdown Editor ç”¨çš„ä¸ä¹ æƒ¯ï¼Œä¾‹å¦‚ VSCodeã€Sublimeã€ghostwriterã€marktextã€‚å› æ­¤æœ€å¥½é€šè¿‡ ppa å®‰è£…ï¼Œè·å– Typora æœ€æ–°çš„ç‰ˆæœ¬ã€‚\nåœ¨Joplinä¸‹ï¼Œèœå•Tools-\u0026gt;Options-\u0026gt;General\u0026gt;Text editor commandå¯ä»¥è®¾ç½®ç¬¬ä¸‰æ–¹ç¼–è¾‘è½¯ä»¶ã€‚\né…ç½® File \u0026gt; Preferencesï¼š\n General \u0026gt; Auto Save: on Editor \u0026gt; Spell Check: Disable Image \u0026gt; Use relative path if possible: on Markdown \u0026gt; Syntax Support \u0026gt; Inline Math: on  æœ‰æ—¶å€™æ ‡ç‚¹ç¬¦å·æ²¡æœ‰ä¸æ–‡å­—å¯¹é½ï¼Œæ¯”å¦‚å¥å·åœ¨å³ä¸­ï¼Œè€Œä¸æ˜¯å³ä¸‹ï¼Œå¯ä»¥å°†è¯­è¨€è®¾ç½®ä¸ºä¸­æ–‡ï¼ˆit works for meï¼‰ã€‚\nCrack Typora 1.0.4\n  éœ€è¦pythonã€nodejs ç¯å¢ƒï¼Œæ²¡æœ‰çš„è¯è‡ªè¡Œå®‰è£…ä¸€ä¸‹\n$ sudo apt install pip nodejs   å…‹éš†è„šæœ¬æ–‡ä»¶ https://github.com/Mas0nShi/typoraCracker.git\n  å®‰è£…ä¾èµ–:\n$ pip install -i https://pypi.tuna.tsinghua.edu.cn/simple -r ~/Downloads/typoraCracker-master/requirements.tx Missing dependencies for SOCKS supportï¼š\nå…³é—­ä»£ç†ï¼Œå®‰è£… pysocks\n# Unset socks proxy $ unset all_proxy $ unset ALL_PROXY # Install missing dependencies: $ pip install pysocks # Reset proxy $ source ~/.bashrc   æ‰§è¡Œè§£åŒ…å‘½åï¼š\n$ cd ~/Downloads/Typora-linux-x64/bin/Typora-linux-x64/resources/ $ python3 ~/Downloads/typoraCracker-master/typora.py app.asar workstation/outfile   æ›¿æ¢æ‰License.jsæ–‡ä»¶\n$ cp ~/Downloads/typoraCracker-master/example/patch/License.js workstation/outfile/dec_app/   æ‰“åŒ…app.asaræ–‡ä»¶\n$ python3 ~/Downloads/typoraCracker-master/typora.py -u workstation/outfile/dec_app workstation/outappasar   å°†æ‰“åŒ…å›æ¥çš„app.asaræ–‡ä»¶é‡æ–°ä¸¢åˆ°Typoraçš„resourcesç›®å½•ä¸‹\n$ cp workstation/outappasar/app.asar .   æˆæƒç ç”Ÿæˆ\n$ node ~/Downloads/typoraCracker-master/example/keygen.js CAJ8Q4-ETFCZ4-RH3X85-GMKD68   æ¿€æ´»ï¼šæˆæƒç è¾“å…¥ç”Ÿæˆçš„ç ï¼Œé‚®ç®±è¾“å…¥crack@example.comï¼Œå®Œäº‹ã€‚\n  ç»¼ä¸Šï¼Œç ´è§£ Typora å…¶å®å°±æ˜¯ç ´è§£ app.asar æ–‡ä»¶ï¼Œç ´è§£ä¸€æ¬¡ Typora åï¼Œä¿ç•™ app.asarï¼Œä¸è®ºåœ¨å“ªä¸ªå¹³å°ï¼Œç”¨ç ´è§£åçš„ app.asar è¦†ç›–åŸæœ¬çš„ app.asarï¼Œå°±èƒ½å®ç°ç ´è§£ Typoraã€‚\nRecover Unsaved Drafts Preferences =\u0026gt; General =\u0026gt; Save \u0026amp; Recover =\u0026gt; Recover Unsaved Drafts =\u0026gt; é€‰æ‹©è¦æ¢å¤çš„æ–‡æ¡£ï¼Œæ‰“å¼€åå¦å­˜ä¸ºåˆ°ä¹‹å‰ä¿å­˜çš„åœ°å€è¦†ç›–å®ƒå³å¯\nCtrl 5 of typora does not work ä¸çŸ¥é“å“ªé‡Œè¦†ç›–äº†ã€‚é‡æ–°å®šä¹‰ä¸€ä¸ªå¿«æ·é”®ã€‚\nOpen Menu â†’ Preference in Typora, then click â€œOpen Advanced Settingsâ€.\n\u0026#34;keyBinding\u0026#34;: { \u0026#34;Heading 5\u0026#34;: \u0026#34;Alt+5\u0026#34;, }, MarkText Foxit PDF Reader Industryâ€™s most powerful PDF reader.\nPortable PDF Unlocker PDFCrack pdftk OCRmyPDF OCRmyPDF adds an OCR text layer to scanned PDF files, allowing them to be searched\nWPS WPS Office is a lightweight, feature-rich comprehensive office suite with high compatibility.\næœ€å¥½ç”¨ snap æˆ–è€… flatpak ç‰ˆæœ¬ï¼Œå› ä¸ºå¾ˆä¹…æ²¡æ›´æ–°äº†ï¼Œåªæœ‰ WPS 2019ï¼Œæ²¡æœ‰é€‚é…æ–°çš„ KDE 5 å’Œ Gnome 40ã€‚\nSublime Text Atom Vim vi ä¸ vim.tiny $ whereis vi vi: /usr/bin/vi /usr/share/man/man1/vi.1.gz $ ls -al /usr/bin/vi lrwxrwxrwx 1 root root 20 Oct 26 20:31 /usr/bin/vi -\u0026gt; /etc/alternatives/vi $ ls -al /etc/alternatives/vi lrwxrwxrwx 1 root root 17 Oct 26 20:31 /etc/alternatives/vi -\u0026gt; /usr/bin/vim.tiny å¯è§ï¼Œåœ¨Ubuntuä¸Šï¼Œviæ˜¯vim.tinyçš„è½¯è¿æ¥ï¼Œä½†æ˜¯æ‰§è¡Œå‘½ä»¤viä¸vim.tinyåæ˜¯ä¸ä¸€æ ·ï¼Œæ¯”å¦‚viæ˜¯ï¼šåœ¨ç¼–è¾‘æ¨¡å¼ä¸‹ä½¿ç”¨æ–¹å‘é”®çš„æ—¶å€™ï¼Œå¹¶ä¸ä¼šä½¿å…‰æ ‡ç§»åŠ¨ï¼Œè€Œæ˜¯åœ¨å‘½ä»¤è¡Œä¸­å‡ºç°[A [B [C [Dä¹‹ç±»çš„å­—æ¯ï¼›å¹¶ä¸”ç¼–è¾‘é”™è¯¯çš„è¯ï¼Œé€€æ ¼é”®(Backspaceé”®)æ˜¯ä½¿ç”¨ä¸äº†çš„ã€‚\nMethods to find out which (configuration) files are read by executable when started-\u0026gt;\u0026lsquo;strace vim/nano\u0026rsquo; (Ubuntu)ï¼š\n$ strace -o $HOME/tracefile vi $ cat tracefile | grep vimrc stat(\u0026#34;/usr/share/vim/vimrc.tiny\u0026#34;, {st_mode=S_IFREG|0644, st_size=662, ...}) = 0 openat(AT_FDCWD, \u0026#34;/usr/share/vim/vimrc.tiny\u0026#34;, O_RDONLY) = 3 stat(\u0026#34;/home/vane/.vimrc\u0026#34;, 0x7fff3e755550) = -1 ENOENT (No such file or directory) openat(AT_FDCWD, \u0026#34;/home/vane/.vimrc\u0026#34;, O_RDONLY) = -1 ENOENT (No such file or directory) openat(AT_FDCWD, \u0026#34;/home/vane/_vimrc\u0026#34;, O_RDONLY) = -1 ENOENT (No such file or directory) stat(\u0026#34;/home/vane/.vim/vimrc\u0026#34;, 0x7fff3e755550) = -1 ENOENT (No such file or directory) openat(AT_FDCWD, \u0026#34;/home/vane/.vim/vimrc\u0026#34;, O_RDONLY) = -1 ENOENT (No such file or directory) å¯ä»¥çœ‹åˆ° viï¼ŒåŠ è½½çš„æ˜¯ /usr/share/vim/vimrc.tiny\n$ strace -o $HOME/tracefile vim.tiny $ cat tracefile | grep vimrc stat(\u0026#34;/usr/share/vim/vimrc\u0026#34;, {st_mode=S_IFREG|0644, st_size=2266, ...}) = 0 openat(AT_FDCWD, \u0026#34;/usr/share/vim/vimrc\u0026#34;, O_RDONLY) = 3 stat(\u0026#34;/home/vane/.vimrc\u0026#34;, 0x7fff7c99cc30) = -1 ENOENT (No such file or directory) openat(AT_FDCWD, \u0026#34;/home/vane/.vimrc\u0026#34;, O_RDONLY) = -1 ENOENT (No such file or directory) openat(AT_FDCWD, \u0026#34;/home/vane/_vimrc\u0026#34;, O_RDONLY) = -1 ENOENT (No such file or directory) stat(\u0026#34;/home/vane/.vim/vimrc\u0026#34;, 0x7fff7c99cc30) = -1 ENOENT (No such file or directory) openat(AT_FDCWD, \u0026#34;/home/vane/.vim/vimrc\u0026#34;, O_RDONLY) = -1 ENOENT (No such file or directory) å¯ä»¥çœ‹åˆ° vim.tinyï¼ŒåŠ è½½çš„æ˜¯ /usr/share/vim/vimrc\n$ diff -u /etc/vim/vimrc /etc/vim/vimrc.tiny --- /etc/vim/vimrc\t2020-01-30 19:11:47.000000000 +0800 +++ /etc/vim/vimrc.tiny\t2020-04-15 14:40:31.000000000 +0800 @@ -1,55 +1,13 @@ ... +\u0026#34; Vim configuration file, in effect when invoked as \u0026#34;vi\u0026#34;. The aim of this +\u0026#34; configuration file is to provide a Vim environment as compatible with the +\u0026#34; original vi as possible. Note that ~/.vimrc configuration files as other +\u0026#34; configuration files in the runtimepath are still sourced. +\u0026#34; When Vim is invoked differently (\u0026#34;vim\u0026#34;, \u0026#34;view\u0026#34;, \u0026#34;evim\u0026#34;, ...) this file is +\u0026#34; _not_ sourced; /etc/vim/vimrc and/or /etc/vim/gvimrc are. ... å¯ä»¥çœ‹åˆ°ï¼Œä¸Šé¢ä»€ä¹ˆè¯´æ˜ç™½äº†ã€‚\nVim clear last search highlighting :noh VIMRC The ultimate Vim configuration (vimrc)\ncopilot.vim Neovim plugin for GitHub Copilot\nNeovim Neovim æå‡ºäº†å°† Vim æ‰©å±•ä¸ºä¸€ä¸ª IDE çš„æƒ³æ³•ã€‚\nå®ƒå¢åŠ äº†ç°ä»£ç»ˆç«¯çš„åŠŸèƒ½ï¼Œå¦‚å…‰æ ‡æ ·å¼ã€ç„¦ç‚¹äº‹ä»¶ã€æ‹¬å·å†…ç²˜è´´ç­‰ï¼Œå¹¶å†…ç½®äº†ä¸€ä¸ªç»ˆç«¯æ¨¡æ‹Ÿå™¨ã€‚æœ€é‡è¦çš„æ˜¯ï¼Œä½ ä¸éœ€è¦å¿˜å´ Vim çš„ä¹ æƒ¯å°±å¯ä»¥å¼€å§‹ä½¿ç”¨ Neovimã€‚\næœ€é€‚åˆç¨‹åºå‘˜çš„ç¬”è®°è½¯ä»¶ ç¨‹åºå‘˜çš„ç¬”è®°è½¯ä»¶ï¼Œåº”è¯¥æ»¡è¶³ä¸‹é¢å‡ ä¸ªæ¡ä»¶ã€‚\n è·¨å¹³å°ï¼ŒåŒæ—¶æ”¯æŒæ¡Œé¢ç”µè„‘ï¼ˆWindowsï¼ŒMacï¼ŒLinuxï¼‰å’Œæ‰‹æœºï¼ˆAndroidï¼ŒiOSï¼‰ã€‚ éšæ—¶åŒæ­¥ï¼Œæ‰“å¼€ä»»ä½•ä¸€å°æœºå™¨ï¼Œéƒ½èƒ½æ¥ç€ä¸Šä¸€æ¬¡çš„å·¥ä½œç»§ç»­å†™ã€‚ å®æ—¶å­˜å‚¨ï¼Œå¦‚æœè½¯ä»¶çªç„¶å…³é—­ï¼Œä¹Ÿä¸ä¼šä¸¢å¤±å†…å®¹ã€‚ æ”¯æŒ Markdown æ ¼å¼ï¼Œä¾¿äºåæœŸç›´æ¥å‘å¸ƒã€‚ æ”¯æŒæ¨é€åˆ°è¿œç¨‹ Git ä»“åº“ï¼Œäº§ç”Ÿå†å²ç‰ˆæœ¬ï¼ŒåŒæ—¶ä½œä¸ºè¿œç¨‹å¤‡ä»½ã€‚  Stackedit.io å’Œ HackMD.ioï¼Œéƒ½ä¸æ˜¯å¾ˆç†æƒ³ã€‚\nGitHub å®˜æ–¹æ¨å‡ºçš„ github.devã€‚åªè¦è®¿é—® https://github.dev/[ç”¨æˆ·å]/[ä»“åº“å]ï¼Œä½ å°±èƒ½åœ¨æµè§ˆå™¨é‡Œé¢ï¼Œä½¿ç”¨ VS Code ç¼–è¾‘æŒ‡å®šä»“åº“ã€‚å®ƒå®é™…ä¸Šå°±æ˜¯ VS Code ç¼–è¾‘å™¨çš„ Web ç‰ˆï¼Œå¹¶ä¸”ä¸ Git é«˜åº¦é›†æˆã€‚GitHub æä¾›äº†ä¸€ä¸ªå¿«æ·å…¥å£ã€‚ æ‰“å¼€ GitHub ä»“åº“ä¸»é¡µï¼ŒæŒ‰ä¸€ä¸‹å°æ•°ç‚¹ï¼ˆ.ï¼‰è¿™ä¸ªé”®ï¼Œ é¡µé¢å°±ä¼šè‡ªåŠ¨è·³è½¬åˆ° VS Code ç¼–è¾‘ç¯å¢ƒã€‚\nå¦‚æœä½ æ›´å¸Œæœ›ä½¿ç”¨æ‰‹æœºåŸç”Ÿ Appï¼Œæˆ‘æ¨è Obsidianã€‚å®ƒæœ‰å…¨å¹³å°çš„å®¢æˆ·ç«¯ï¼Œå¹¶ä¸”å¯ä»¥å‚è€ƒè¿™ç¯‡æ–‡ç« è®¾ç½® Git é›†æˆã€‚\nè¯„è®ºé‡Œè¿˜æœ‰å¾ˆå¤šæ¨èï¼Œé€‰æ‹©ä¸€ä¸ªåˆé€‚çš„å°±è¡Œã€‚\nShell Tmux Tmux æ˜¯ä¸€ä¸ªç»ˆç«¯å¤ç”¨å™¨ï¼ˆterminal multiplexerï¼‰ï¼Œéå¸¸æœ‰ç”¨ï¼Œå±äºå¸¸ç”¨çš„å¼€å‘å·¥å…·ã€‚\nç®€ä»‹ ä¼šè¯ä¸è¿›ç¨‹\nå‘½ä»¤è¡Œçš„å…¸å‹ä½¿ç”¨æ–¹å¼æ˜¯ï¼Œæ‰“å¼€ä¸€ä¸ªç»ˆç«¯çª—å£ï¼ˆterminal windowï¼Œä»¥ä¸‹ç®€ç§°\u0026quot;çª—å£\u0026quot;ï¼‰ï¼Œåœ¨é‡Œé¢è¾“å…¥å‘½ä»¤ã€‚ç”¨æˆ·ä¸è®¡ç®—æœºçš„è¿™ç§ä¸´æ—¶çš„äº¤äº’ï¼Œç§°ä¸ºä¸€æ¬¡\u0026quot;ä¼šè¯\u0026quot;ï¼ˆsessionï¼‰ ã€‚\nä¼šè¯çš„ä¸€ä¸ªé‡è¦ç‰¹ç‚¹æ˜¯ï¼Œçª—å£ä¸å…¶ä¸­å¯åŠ¨çš„è¿›ç¨‹æ˜¯è¿åœ¨ä¸€èµ·çš„ã€‚æ‰“å¼€çª—å£ï¼Œä¼šè¯å¼€å§‹ï¼›å…³é—­çª—å£ï¼Œä¼šè¯ç»“æŸï¼Œä¼šè¯å†…éƒ¨çš„è¿›ç¨‹ä¹Ÿä¼šéšä¹‹ç»ˆæ­¢ï¼Œä¸ç®¡æœ‰æ²¡æœ‰è¿è¡Œå®Œã€‚\nä¸€ä¸ªå…¸å‹çš„ä¾‹å­å°±æ˜¯ï¼ŒSSH ç™»å½•è¿œç¨‹è®¡ç®—æœºï¼Œæ‰“å¼€ä¸€ä¸ªè¿œç¨‹çª—å£æ‰§è¡Œå‘½ä»¤ã€‚è¿™æ—¶ï¼Œç½‘ç»œçªç„¶æ–­çº¿ï¼Œå†æ¬¡ç™»å½•çš„æ—¶å€™ï¼Œæ˜¯æ‰¾ä¸å›ä¸Šä¸€æ¬¡æ‰§è¡Œçš„å‘½ä»¤çš„ã€‚å› ä¸ºä¸Šä¸€æ¬¡ SSH ä¼šè¯å·²ç»ç»ˆæ­¢äº†ï¼Œé‡Œé¢çš„è¿›ç¨‹ä¹Ÿéšä¹‹æ¶ˆå¤±äº†ã€‚\nä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¼šè¯ä¸çª—å£å¯ä»¥\u0026quot;è§£ç»‘\u0026quot;ï¼šçª—å£å…³é—­æ—¶ï¼Œä¼šè¯å¹¶ä¸ç»ˆæ­¢ï¼Œè€Œæ˜¯ç»§ç»­è¿è¡Œï¼Œç­‰åˆ°ä»¥åéœ€è¦çš„æ—¶å€™ï¼Œå†è®©ä¼šè¯\u0026quot;ç»‘å®š\u0026quot;å…¶ä»–çª—å£ã€‚\nTmux çš„ä½œç”¨\nTmux å°±æ˜¯ä¼šè¯ä¸çª—å£çš„\u0026quot;è§£ç»‘\u0026quot;å·¥å…·ï¼Œå°†å®ƒä»¬å½»åº•åˆ†ç¦»ã€‚\n å®ƒå…è®¸åœ¨å•ä¸ªçª—å£ä¸­ï¼ŒåŒæ—¶è®¿é—®å¤šä¸ªä¼šè¯ã€‚è¿™å¯¹äºåŒæ—¶è¿è¡Œå¤šä¸ªå‘½ä»¤è¡Œç¨‹åºå¾ˆæœ‰ç”¨ã€‚ å®ƒå¯ä»¥è®©æ–°çª—å£\u0026quot;æ¥å…¥\u0026quot;å·²ç»å­˜åœ¨çš„ä¼šè¯ã€‚ å®ƒå…è®¸æ¯ä¸ªä¼šè¯æœ‰å¤šä¸ªè¿æ¥çª—å£ï¼Œå› æ­¤å¯ä»¥å¤šäººå®æ—¶å…±äº«ä¼šè¯ã€‚ å®ƒè¿˜æ”¯æŒçª—å£ä»»æ„çš„å‚ç›´å’Œæ°´å¹³æ‹†åˆ†ã€‚  ç±»ä¼¼çš„ç»ˆç«¯å¤ç”¨å™¨è¿˜æœ‰ GNU Screenã€‚Tmux ä¸å®ƒåŠŸèƒ½ç›¸ä¼¼ï¼Œä½†æ˜¯æ›´æ˜“ç”¨ï¼Œä¹Ÿæ›´å¼ºå¤§ã€‚\nåŸºæœ¬ç”¨æ³• å®‰è£…\nTmux ä¸€èˆ¬éœ€è¦è‡ªå·±å®‰è£…ã€‚\n$ sudo apt-get install tmux å¯åŠ¨ä¸é€€å‡º\nå®‰è£…å®Œæˆåï¼Œé”®å…¥tmuxå‘½ä»¤ï¼Œå°±è¿›å…¥äº† Tmux çª—å£ã€‚\n$ tmux Tmux çª—å£ï¼Œåº•éƒ¨æœ‰ä¸€ä¸ªçŠ¶æ€æ ã€‚çŠ¶æ€æ çš„å·¦ä¾§æ˜¯çª—å£ä¿¡æ¯ï¼ˆç¼–å·å’Œåç§°ï¼‰ï¼Œå³ä¾§æ˜¯ç³»ç»Ÿä¿¡æ¯ã€‚\næŒ‰ä¸‹Ctrl+dæˆ–è€…æ˜¾å¼è¾“å…¥exitå‘½ä»¤ï¼Œå°±å¯ä»¥é€€å‡º Tmux çª—å£ã€‚\n$ exit å‰ç¼€é”®\nTmux çª—å£æœ‰å¤§é‡çš„å¿«æ·é”®ã€‚æ‰€æœ‰å¿«æ·é”®éƒ½è¦é€šè¿‡å‰ç¼€é”®å”¤èµ·ã€‚é»˜è®¤çš„å‰ç¼€é”®æ˜¯Ctrl+bï¼Œå³å…ˆæŒ‰ä¸‹Ctrl+bï¼Œå¿«æ·é”®æ‰ä¼šç”Ÿæ•ˆã€‚\nä¸¾ä¾‹æ¥è¯´ï¼Œå¸®åŠ©å‘½ä»¤çš„å¿«æ·é”®æ˜¯Ctrl+b ?ã€‚å®ƒçš„ç”¨æ³•æ˜¯ï¼Œåœ¨ Tmux çª—å£ä¸­ï¼Œå…ˆæŒ‰ä¸‹Ctrl+bï¼Œå†æŒ‰ä¸‹?ï¼Œå°±ä¼šæ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯ã€‚\nç„¶åï¼ŒæŒ‰ä¸‹ ESC é”®æˆ–qé”®ï¼Œå°±å¯ä»¥é€€å‡ºå¸®åŠ©ã€‚\nä¼šè¯ç®¡ç† æ–°å»ºä¼šè¯\nç¬¬ä¸€ä¸ªå¯åŠ¨çš„ Tmux çª—å£ï¼Œç¼–å·æ˜¯0ï¼Œç¬¬äºŒä¸ªçª—å£çš„ç¼–å·æ˜¯1ï¼Œä»¥æ­¤ç±»æ¨ã€‚è¿™äº›çª—å£å¯¹åº”çš„ä¼šè¯ï¼Œå°±æ˜¯ 0 å·ä¼šè¯ã€1 å·ä¼šè¯ã€‚\nä½¿ç”¨ç¼–å·åŒºåˆ†ä¼šè¯ï¼Œä¸å¤ªç›´è§‚ï¼Œæ›´å¥½çš„æ–¹æ³•æ˜¯ä¸ºä¼šè¯èµ·åã€‚\n$ tmux new -s \u0026lt;session-name\u0026gt; ä¸Šé¢å‘½ä»¤æ–°å»ºä¸€ä¸ªæŒ‡å®šåç§°çš„ä¼šè¯ã€‚\nåˆ†ç¦»ä¼šè¯\nåœ¨ Tmux çª—å£ä¸­ï¼ŒæŒ‰ä¸‹Ctrl+b dæˆ–è€…è¾“å…¥tmux detachå‘½ä»¤ï¼Œå°±ä¼šå°†å½“å‰ä¼šè¯ä¸çª—å£åˆ†ç¦»ã€‚\n$ tmux detach ä¸Šé¢å‘½ä»¤æ‰§è¡Œåï¼Œå°±ä¼šé€€å‡ºå½“å‰ Tmux çª—å£ï¼Œä½†æ˜¯ä¼šè¯å’Œé‡Œé¢çš„è¿›ç¨‹ä»ç„¶åœ¨åå°è¿è¡Œã€‚\ntmux lså‘½ä»¤æˆ–Ctrl+b så¯ä»¥æŸ¥çœ‹å½“å‰æ‰€æœ‰çš„ Tmux ä¼šè¯ã€‚\n$ tmux ls # or $ tmux list-session æ¥å…¥ä¼šè¯\ntmux attachå‘½ä»¤ç”¨äºé‡æ–°æ¥å…¥æŸä¸ªå·²å­˜åœ¨çš„ä¼šè¯ã€‚\n# ä½¿ç”¨ä¼šè¯ç¼–å· $ tmux attach -t 0 # ä½¿ç”¨ä¼šè¯åç§° $ tmux attach -t \u0026lt;session-name\u0026gt; æ€æ­»ä¼šè¯\ntmux kill-sessionå‘½ä»¤ç”¨äºæ€æ­»æŸä¸ªä¼šè¯ã€‚\n# ä½¿ç”¨ä¼šè¯ç¼–å· $ tmux kill-session -t 0 # ä½¿ç”¨ä¼šè¯åç§° $ tmux kill-session -t \u0026lt;session-name\u0026gt; åˆ‡æ¢ä¼šè¯\ntmux switchå‘½ä»¤ç”¨äºåˆ‡æ¢ä¼šè¯ã€‚\n# ä½¿ç”¨ä¼šè¯ç¼–å· $ tmux switch -t 0 # ä½¿ç”¨ä¼šè¯åç§° $ tmux switch -t \u0026lt;session-name\u0026gt; é‡å‘½åä¼šè¯\ntmux rename-sessionå‘½ä»¤æˆ–Ctrl+b $ç”¨äºé‡å‘½åä¼šè¯ã€‚\n$ tmux rename-session -t 0 \u0026lt;new-name\u0026gt; ä¸Šé¢å‘½ä»¤å°†0å·ä¼šè¯é‡å‘½åã€‚\næœ€ç®€æ“ä½œæµç¨‹ ç»¼ä¸Šæ‰€è¿°ï¼Œä»¥ä¸‹æ˜¯ Tmux çš„æœ€ç®€æ“ä½œæµç¨‹ã€‚\n åœ¨æœåŠ¡å™¨ç«¯æ–°å»ºä¼šè¯tmux new -s my_sessionã€‚ åœ¨ Tmux çª—å£è¿è¡Œæ‰€éœ€çš„ç¨‹åºã€‚ æŒ‰ä¸‹å¿«æ·é”®Ctrl+b då°†ä¼šè¯åˆ†ç¦»ã€‚ ä¸‹æ¬¡ä½¿ç”¨æ—¶ï¼Œé‡æ–°è¿æ¥åˆ°ä¼šè¯tmux attach-session -t my_sessionã€‚  çª—æ ¼æ“ä½œ Tmux å¯ä»¥å°†çª—å£åˆ†æˆå¤šä¸ªçª—æ ¼ï¼ˆpaneï¼‰ï¼Œæ¯ä¸ªçª—æ ¼è¿è¡Œä¸åŒçš„å‘½ä»¤ã€‚ä»¥ä¸‹å‘½ä»¤éƒ½æ˜¯åœ¨ Tmux çª—å£ä¸­æ‰§è¡Œã€‚\nåˆ’åˆ†çª—æ ¼\ntmux split-windowå‘½ä»¤ç”¨æ¥åˆ’åˆ†çª—æ ¼ã€‚\n# åˆ’åˆ†ä¸Šä¸‹ä¸¤ä¸ªçª—æ ¼ï¼Œæˆ– Ctrl+b \u0026#34; $ tmux split-window # åˆ’åˆ†å·¦å³ä¸¤ä¸ªçª—æ ¼ï¼Œæˆ– Ctrl+b % $ tmux split-window -h ç§»åŠ¨å…‰æ ‡\ntmux select-paneå‘½ä»¤æˆ–Ctrl+b \u0026lt;arrow key\u0026gt;ç”¨æ¥ç§»åŠ¨å…‰æ ‡ä½ç½®ã€‚\n# å…‰æ ‡åˆ‡æ¢åˆ°ä¸Šæ–¹çª—æ ¼ï¼Œæˆ– Ctrl+b ; $ tmux select-pane -U # å…‰æ ‡åˆ‡æ¢åˆ°ä¸‹æ–¹çª—æ ¼ï¼Œæˆ– Ctrl+b o $ tmux select-pane -D # å…‰æ ‡åˆ‡æ¢åˆ°å·¦è¾¹çª—æ ¼ $ tmux select-pane -L # å…‰æ ‡åˆ‡æ¢åˆ°å³è¾¹çª—æ ¼ $ tmux select-pane -R  Ctrl+b xï¼šå…³é—­å½“å‰çª—æ ¼ã€‚ Ctrl+b !ï¼šå°†å½“å‰çª—æ ¼æ‹†åˆ†ä¸ºä¸€ä¸ªç‹¬ç«‹çª—å£ã€‚ Ctrl+b zï¼šå½“å‰çª—æ ¼å…¨å±æ˜¾ç¤ºï¼Œå†ä½¿ç”¨ä¸€æ¬¡ä¼šå˜å›åŸæ¥å¤§å°ã€‚ Ctrl+b Ctrl+\u0026lt;arrow key\u0026gt;ï¼šæŒ‰ç®­å¤´æ–¹å‘è°ƒæ•´çª—æ ¼å¤§å°ã€‚ Ctrl+b qï¼šæ˜¾ç¤ºçª—æ ¼ç¼–å·ã€‚  äº¤æ¢çª—æ ¼ä½ç½®\ntmux swap-paneå‘½ä»¤ç”¨æ¥äº¤æ¢çª—æ ¼ä½ç½®ã€‚\n# å½“å‰çª—æ ¼ä¸Šç§»ï¼Œæˆ– Ctrl+b { $ tmux swap-pane -U # å½“å‰çª—æ ¼ä¸‹ç§»ï¼Œæˆ– Ctrl+b } $ tmux swap-pane -D  Ctrl+b Ctrl+oï¼šæ‰€æœ‰çª—æ ¼å‘å‰ç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼Œç¬¬ä¸€ä¸ªçª—æ ¼å˜æˆæœ€åä¸€ä¸ªçª—æ ¼ã€‚ Ctrl+b Alt+oï¼šæ‰€æœ‰çª—æ ¼å‘åç§»åŠ¨ä¸€ä¸ªä½ç½®ï¼Œæœ€åä¸€ä¸ªçª—æ ¼å˜æˆç¬¬ä¸€ä¸ªçª—æ ¼ã€‚  çª—å£ç®¡ç† é™¤äº†å°†ä¸€ä¸ªçª—å£åˆ’åˆ†æˆå¤šä¸ªçª—æ ¼ï¼ŒTmux ä¹Ÿå…è®¸æ–°å»ºå¤šä¸ªçª—å£ã€‚\næ–°å»ºçª—å£\ntmux new-windowå‘½ä»¤ç”¨æ¥åˆ›å»ºæ–°çª—å£ã€‚\n$ tmux new-window # æ–°å»ºä¸€ä¸ªæŒ‡å®šåç§°çš„çª—å£ $ tmux new-window -n \u0026lt;window-name\u0026gt; Ctrl+b cï¼šåˆ›å»ºä¸€ä¸ªæ–°çª—å£ï¼ŒçŠ¶æ€æ ä¼šæ˜¾ç¤ºå¤šä¸ªçª—å£çš„ä¿¡æ¯ã€‚\nåˆ‡æ¢çª—å£\ntmux select-windowå‘½ä»¤ç”¨æ¥åˆ‡æ¢çª—å£ã€‚\n# åˆ‡æ¢åˆ°æŒ‡å®šç¼–å·çš„çª—å£ $ tmux select-window -t \u0026lt;window-number\u0026gt; # åˆ‡æ¢åˆ°æŒ‡å®šåç§°çš„çª—å£ $ tmux select-window -t \u0026lt;window-name\u0026gt;  Ctrl+b pï¼šåˆ‡æ¢åˆ°ä¸Šä¸€ä¸ªçª—å£ï¼ˆæŒ‰ç…§çŠ¶æ€æ ä¸Šçš„é¡ºåºï¼‰ã€‚ Ctrl+b nï¼šåˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªçª—å£ã€‚ Ctrl+b \u0026lt;number\u0026gt;ï¼šåˆ‡æ¢åˆ°æŒ‡å®šç¼–å·çš„çª—å£ï¼Œå…¶ä¸­çš„\u0026lt;number\u0026gt;æ˜¯çŠ¶æ€æ ä¸Šçš„çª—å£ç¼–å·ã€‚ Ctrl+b wï¼šä»åˆ—è¡¨ä¸­é€‰æ‹©çª—å£ã€‚  é‡å‘½åçª—å£\ntmux rename-windowå‘½ä»¤æˆ–Ctrl+b ,ç”¨äºä¸ºå½“å‰çª—å£èµ·åï¼ˆæˆ–é‡å‘½åï¼‰ã€‚\n$ tmux rename-window \u0026lt;new-name\u0026gt; å…¶ä»–å‘½ä»¤ ä¸‹é¢æ˜¯ä¸€äº›å…¶ä»–å‘½ä»¤ã€‚\n# åˆ—å‡ºæ‰€æœ‰å¿«æ·é”®ï¼ŒåŠå…¶å¯¹åº”çš„ Tmux å‘½ä»¤ $ tmux list-keys # åˆ—å‡ºæ‰€æœ‰ Tmux å‘½ä»¤åŠå…¶å‚æ•° $ tmux list-commands # åˆ—å‡ºå½“å‰æ‰€æœ‰ Tmux ä¼šè¯çš„ä¿¡æ¯ $ tmux info # é‡æ–°åŠ è½½å½“å‰çš„ Tmux é…ç½® $ tmux source-file ~/.tmux.conf Fish å‘½ä»¤è¡Œæ˜¯ç¨‹åºå‘˜çš„å¿…å¤‡æŠ€èƒ½ã€‚å›¾å½¢ç•Œé¢è™½ç„¶å¥½çœ‹ï¼Œè§£å†³é—®é¢˜è¿˜æ˜¯è¦é å‘½ä»¤è¡Œã€‚\nå‘½ä»¤è¡Œç”± Shell æä¾›ã€‚å„ç§å‘½ä»¤é€šè¿‡ Shellï¼Œä¼ é€’ç»™æ“ä½œç³»ç»Ÿçš„å†…æ ¸ã€‚å­¦ä¹ å‘½ä»¤è¡Œå°±æ˜¯åœ¨å­¦ä¹  Shellã€‚\nShell æœ‰å¥½å‡ ç§ï¼Œç›®å‰æœ€å¸¸ç”¨æ˜¯ Bash å’Œ zshã€‚ä½†æ˜¯ï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œå®ƒä»¬éƒ½ä¸å¦‚ Fish Shell å¥½ç”¨ã€‚\näº”å¹´å‰ï¼Œæˆ‘ç¬¬ä¸€æ¬¡å°è¯• Fishï¼Œæ„Ÿåˆ°å¾ˆæƒŠè‰³ï¼Œä¸€ç›´ç”¨åˆ°ç°åœ¨ã€‚æœ¬æ–‡ä»‹ç» Fish çš„ä¸»è¦ç‰¹ç‚¹ï¼Œå¸Œæœ›ä½ ä¹Ÿæ¥å°è¯•å®ƒã€‚\nç®€ä»‹ Fish æ˜¯\u0026quot;the friendly interactive shell\u0026quot;çš„ç®€ç§°ï¼Œæœ€å¤§ç‰¹ç‚¹å°±æ˜¯æ–¹ä¾¿æ˜“ç”¨ã€‚å¾ˆå¤šå…¶ä»– Shell éœ€è¦é…ç½®æ‰æœ‰çš„åŠŸèƒ½ï¼ŒFish é»˜è®¤æä¾›ï¼Œä¸éœ€è¦ä»»ä½•é…ç½®ã€‚\nå¦‚æœä½ æƒ³æ‹¥æœ‰ä¸€ä¸ªæ–¹ä¾¿å¥½ç”¨çš„ Shellï¼Œåˆä¸æƒ³å­¦ä¹ ä¸€å¤§å †è¯­æ³•ï¼Œæˆ–è€…èŠ±è´¹å¾ˆå¤šæ—¶é—´é…ç½®ï¼Œé‚£ä¹ˆä½ ä¸€å®šè¦å°è¯•ä¸€ä¸‹ Fishã€‚\nå®‰è£… Ubuntu çš„å®‰è£…æ–¹æ³•ã€‚\n$ sudo apt install fish å…¶ä»–ç³»ç»Ÿçš„å®‰è£…è¯·å‚è€ƒå®˜æ–¹ç½‘ç«™ã€‚\nå¯åŠ¨ä¸å¸®åŠ© å®‰è£…å®Œæˆåï¼Œå°±å¯ä»¥å¯åŠ¨ Fishã€‚\n$ fish ç”±äº Fish çš„è¯­æ³•ä¸ Bash æœ‰å¾ˆå¤§å·®å¼‚ï¼ŒBash è„šæœ¬ä¸€èˆ¬ä¸å…¼å®¹ã€‚å› æ­¤ï¼Œæˆ‘å»ºè®®ä¸è¦å°† Fish è®¾ä¸ºé»˜è®¤ Shellï¼Œè€Œæ˜¯æ¯æ¬¡æ‰‹åŠ¨å¯åŠ¨å®ƒã€‚\nä½¿ç”¨è¿‡ç¨‹ä¸­ï¼Œå¦‚æœéœ€è¦å¸®åŠ©ï¼Œå¯ä»¥è¾“å…¥helpå‘½ä»¤ã€‚æµè§ˆå™¨å°±ä¼šè‡ªåŠ¨æ‰“å¼€ï¼Œæ˜¾ç¤ºåœ¨çº¿æ–‡æ¡£ã€‚\n$ help å½©è‰²æ˜¾ç¤º è¿›å…¥ Fish ä»¥åï¼Œä½ æ³¨æ„åˆ°çš„ç¬¬ä¸€ä»¶äº‹ï¼Œå¯èƒ½å°±æ˜¯å®ƒé»˜è®¤å½©è‰²æ˜¾ç¤ºã€‚\n# æ— æ•ˆå‘½ä»¤ä¸ºçº¢è‰² $ mkd # æœ‰æ•ˆå‘½ä»¤ä¸ºè“è‰² $ mkdir æœ‰æ•ˆè·¯å¾„ä¼šæœ‰ä¸‹åˆ’çº¿ã€‚\n$ cat ~/somefi ä¸Šé¢ä»£ç è¡¨ç¤ºï¼Œå­˜åœ¨ä»¥~/somefiå¼€å¤´çš„è·¯å¾„ã€‚å¦‚æœæ²¡æœ‰ä¸‹åˆ’çº¿ï¼Œä½ å°±çŸ¥é“è¿™ä¸ªè·¯å¾„ä¸å­˜åœ¨ã€‚\nè‡ªåŠ¨å»ºè®® Fish ä¼šè‡ªåŠ¨åœ¨å…‰æ ‡åé¢ç»™å‡ºå»ºè®®ï¼Œè¡¨ç¤ºå¯èƒ½çš„é€‰é¡¹ï¼Œé¢œè‰²ä¸ºç°è‰²ã€‚\n# å‘½ä»¤å»ºè®® $ /bin/hostname # å‚æ•°å»ºè®® $ grep --ignore-case # è·¯å¾„å»ºè®® $ ls node_modules å¦‚æœé‡‡çº³å»ºè®®ï¼Œå¯ä»¥æŒ‰ä¸‹â†’æˆ–Control + Fã€‚å¦‚æœåªé‡‡çº³ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥æŒ‰ä¸‹Alt + â†’ã€‚\nè‡ªåŠ¨è¡¥å…¨ è¾“å…¥å‘½ä»¤æ—¶ï¼ŒFish ä¼šè‡ªåŠ¨æ˜¾ç¤ºåŒ¹é…çš„ä¸Šä¸€æ¡å†å²è®°å½•ã€‚\n$ git commit -m \u0026#34;feat: first commit\u0026#34; å¦‚æœæ²¡æœ‰åŒ¹é…çš„å†å²è®°å½•ï¼ŒFish ä¼šçŒœæµ‹å¯èƒ½çš„ç»“æœï¼Œè‡ªåŠ¨è¡¥å…¨å„ç§è¾“å…¥ã€‚æ¯”å¦‚ï¼Œè¾“å…¥pytå†æŒ‰ä¸‹Tabï¼Œå°±ä¼šè‡ªåŠ¨è¡¥å…¨ä¸ºpythonå‘½ä»¤ã€‚\nå¦‚æœæœ‰å¤šä¸ªå¯èƒ½çš„ç»“æœï¼ŒFish ä¼šæŠŠå®ƒä»¬éƒ½åˆ—å‡ºï¼Œè¿˜å¸¦æœ‰ç®€è¦ä»‹ç»ã€‚\n$ vi[æŒ‰ä¸‹ Tab é”®] vi (Executable link, 2.7MB) view (Vi IMproved, ä¸€ä¸ªç¨‹åºå‘˜çš„æ–‡æœ¬ç¼–è¾‘å™¨) viewer.py (Executable, 967B) viewres (Graphical class browser for Xt) ...and 12 more rows è¿™æ—¶ï¼Œå†æŒ‰ä¸€æ¬¡tabï¼Œå°±å¯ä»¥åœ¨è¿™äº›å‘½ä»¤ä¹‹ä¸­é€‰æ‹©ã€‚\né™¤äº†è¡¥å…¨å‘½ä»¤ï¼ŒFish è¿˜å¯ä»¥è¡¥å…¨å‚æ•°ã€‚æ¯”å¦‚ï¼Œlså‘½ä»¤çš„-lå‚æ•°åé¢æŒ‰ä¸‹Tabé”®ï¼Œå°±ä¼šæ˜¾ç¤ºå¯ä»¥è¿ç”¨çš„å…¶ä»–å‚æ•°ã€‚\n$ ls -l[æŒ‰ä¸‹ Tab é”®] -l1 (List one file per line) -lA (Show hidden except . and ..) -la (Show hidden) -lB (Ignore files ending with ~) ...and 16 more rows``` Fish è¿˜å¯ä»¥è‡ªåŠ¨è¡¥å…¨ Git åˆ†æ”¯ã€‚\n$ git checkout master æ˜“æ‡‚çš„è¯­æ³• Fish çš„è¯­æ³•éå¸¸è‡ªç„¶ï¼Œä¸€çœ¼å°±èƒ½çœ‹æ‡‚ã€‚\nifè¯­å¥ï¼š\nif grep fish /etc/shells echo Found fish else if grep bash /etc/shells echo Found bash else echo Got nothing end switchè¯­å¥ï¼š\nswitch (uname) case Linux echo Hi Tux! case Darwin echo Hi Hexley! case FreeBSD NetBSD DragonFly echo Hi Beastie! case \u0026#39;*\u0026#39; echo Hi, stranger! end whileå¾ªç¯ï¼š\nwhile true echo \u0026#34;Loop forever\u0026#34; end forå¾ªç¯ï¼š\nfor file in *.txt cp $file $file.bak end å‡½æ•° Fish çš„å‡½æ•°ç”¨æ¥å°è£…å‘½ä»¤ï¼Œæˆ–è€…ä¸ºç°æœ‰çš„å‘½ä»¤èµ·åˆ«åã€‚\nfunction ll ls -lhG $argv end ä¸Šé¢ä»£ç å®šä¹‰äº†ä¸€ä¸ªllå‡½æ•°ã€‚å‘½ä»¤è¡Œæ‰§è¡Œè¿™ä¸ªå‡½æ•°ä»¥åï¼Œå°±å¯ä»¥ç”¨llå‘½ä»¤æ›¿ä»£ls -lhGã€‚å…¶ä¸­ï¼Œå˜é‡$argvè¡¨ç¤ºå‡½æ•°çš„å‚æ•°ã€‚\nä¸‹é¢æ˜¯å¦ä¸€ä¸ªä¾‹å­ã€‚\nfunction ls command ls -hG $argv end ä¸Šé¢çš„ä»£ç é‡æ–°å®šä¹‰lså‘½ä»¤ã€‚æ³¨æ„ï¼Œå‡½æ•°ä½“å†…çš„lsä¹‹å‰ï¼Œè¦åŠ ä¸Šcommandï¼Œå¦åˆ™ä¼šå› ä¸ºæ— é™å¾ªç¯è€ŒæŠ¥é”™ã€‚\næç¤ºç¬¦ fish_promptå‡½æ•°ç”¨äºå®šä¹‰å‘½ä»¤è¡Œæç¤ºç¬¦ï¼ˆpromptï¼‰ã€‚\nfunction fish_prompt set_color purple date \u0026#34;+%m/%d/%y\u0026#34; set_color FF0 echo (pwd) \u0026#39;\u0026gt;\u0026#39; set_color normal end æ‰§è¡Œä¸Šé¢çš„å‡½æ•°ä»¥åï¼Œä½ çš„å‘½ä»¤è¡Œæç¤ºç¬¦å°±ä¼šå˜æˆä¸‹é¢è¿™æ ·ã€‚\n02/06/13 /home/tutorial \u0026gt; é…ç½® Fish çš„é…ç½®æ–‡ä»¶æ˜¯~/.config/fish/config.fishï¼Œæ¯æ¬¡ Fish å¯åŠ¨ï¼Œå°±ä¼šè‡ªåŠ¨åŠ è½½è¿™ä¸ªæ–‡ä»¶ã€‚\næˆ‘ä»¬å¯ä»¥åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œé¢å†™å…¥å„ç§è‡ªå®šä¹‰å‡½æ•°ï¼Œå®ƒä»¬ä¼šè¢«è‡ªåŠ¨åŠ è½½ã€‚æ¯”å¦‚ï¼Œä¸Šé¢çš„fish_promptå‡½æ•°å°±å¯ä»¥å†™åœ¨è¿™ä¸ªæ–‡ä»¶é‡Œé¢ï¼Œè¿™æ ·æ¯æ¬¡å¯åŠ¨ Fishï¼Œå°±ä¼šå‡ºç°è‡ªå®šä¹‰çš„æç¤ºç¬¦ã€‚\nFish è¿˜æä¾› Web ç•Œé¢é…ç½®è¯¥æ–‡ä»¶ã€‚\n$ fish_config è¾“å…¥ä¸Šé¢çš„å‘½ä»¤ä»¥åï¼Œæµè§ˆå™¨å°±ä¼šè‡ªåŠ¨æ‰“å¼€æœ¬æœºçš„ 8000 ç«¯å£ï¼Œç”¨æˆ·å¯ä»¥åœ¨ç½‘é¡µä¸Šå¯¹ Fish è¿›è¡Œé…ç½®ï¼Œæ¯”å¦‚é€‰æ‹©æç¤ºç¬¦å’Œé…è‰²ä¸»é¢˜ã€‚\nZsh Oh My Zsh $ sh -c \u0026#34;$(wget https://raw.github.com/ohmyzsh/ohmyzsh/master/tools/install.sh -O -)\u0026#34; oh-my-zshåº”è¯¥å¯¹é€šé…ç¬¦ä½œäº†é™åˆ¶ï¼Œéœ€è¦ç”¨è·³è„±å­—ç¬¦\nsudo apt remove fcitx\\* Zsh themeï¼šWhat\u0026rsquo;s the best theme for Oh My Zsh?\nProxy v2ray èŠ‚ç‚¹å‡†å¤‡ ç®€å•æ¥è®²èŠ‚ç‚¹æ˜¯å½¢å¦‚å¦‚ä¸‹çš„ç¥ç§˜é“¾æ¥ï¼š\nss://xxxxxxxxxxxxxxxxxxxxxxxxxxxx vmess://xxxxxxxxxxxxxxxxxxxxxxxxxxxx å¦‚æœä½ æ²¡æœ‰è¿™äº›è¿æ¥ï¼š\n è‡ªè¡Œéƒ¨ç½²ï¼Œä½ åˆ™éœ€è¦è‡ªè¡Œè´­ä¹°å¤„äºè‡ªç”±äº’è”ç½‘çš„æœåŠ¡å™¨å¹¶è¿›è¡ŒèŠ‚ç‚¹æ­å»ºï¼Œè¿™ä¸åœ¨æœ¬æ–‡è®¨è®ºèŒƒå›´å†…ã€‚å¦‚æœä½ éœ€è¦è´­ä¹°æœåŠ¡å™¨ï¼Œæ¨èä¸€ä¸ª VPS æä¾›å•†ï¼šjusthost.ruã€‚ è´­ä¹°æœºåœºçš„è®¢é˜…æœåŠ¡ï¼Œå¯ä»¥å‚è€ƒå®ƒä»¬çš„è®¢é˜…æµç¨‹ä»¥è·å–èŠ‚ç‚¹ã€‚éœ€è¦æé†’çš„æ˜¯ï¼ŒæœºåœºæœåŠ¡å±äºç°è‰²äº§ä¸šï¼Œéšæ—¶æœ‰åœæ­¢æœåŠ¡çš„å¯èƒ½ï¼Œè´­ä¹°å»ºè®®ä»¥æœˆä»˜è¿›è¡Œè´­ä¹°ä»¥é¿å…è¿‡å¤§æŸå¤±ã€‚å…³äºæœºåœºå®¡è®¡è§„åˆ™ï¼Œæˆ‘ä»¬çš„è§‚ç‚¹æ˜¯\u0026quot;æˆ‘å¯ä»¥ä¸çœ‹ï¼Œä½†æ˜¯ä½ ä¸å¯ä»¥å°ç¦\u0026quot;ã€‚å¯¹äºæœºåœºå®¡è®¡ç¨‹åº¦ï¼Œè¯»è€…å¯æ ¹æ®è‡ªèº«å®é™…æƒ…å†µè‡ªè¡Œè¯„ä¼°ã€‚ å¦‚æœä½ ä¸æƒ³èŠ±ä»»ä½•è´¹ç”¨ï¼Œå¯å®‰è£…èµ›é£è¿™ç±»è½¯ä»¶ã€‚å®ƒæ˜¯è‡ªç”±è½¯ä»¶ã€‚å¦‚æœä½ ä½¿ç”¨èµ›é£ï¼Œå¯ä»¥éå¸¸æ–¹ä¾¿çš„å‘é€ç©ºé‚®ä»¶åˆ°get@psiphon3.comä»¥è·å–èµ›é£ä¸‹è½½é“¾æ¥ã€‚èµ›é£åº”ç”¨ç›®å‰åªæ”¯æŒ Windows\\Android\\IOS\\MacOS å¹³å°ã€‚å½“ä½ åœ¨è¿™äº›å¹³å°ä¸Šèƒ½å¤Ÿè®¿é—®è‡ªç”±äº’è”ç½‘æ—¶ï¼Œå¯ä»¥å»å„ä¸ªæ¸ é“æœç´¢å¯ç”¨çš„èŠ‚ç‚¹å’Œä»£ç†èµ„æºã€‚æ³¨æ„ï¼Œä½¿ç”¨å…¬å…±èŠ‚ç‚¹éœ€è¦è‡ªè¡Œæ‰¿æ‹…å¯èƒ½çš„é£é™©ã€‚  å®‰è£… v2ray/Xray-core æ˜¯ä½¿ç”¨ Qv2rayï¼ˆåŸé¡¹ç›®å·²åœæ­¢å¼€å‘ï¼‰ ä»¥åŠ V2rayA çš„å‰æï¼Œéœ€è¦å…ˆè¿›è¡Œå®‰è£…ã€‚\nQv2ray å’Œ V2rayA æ˜¯ä¸¤æ¬¾éå¸¸ä¼˜ç§€çš„åœ¨ Linux ä¸Šå¯ç”¨çš„ç§‘å­¦ä¸Šç½‘é€šç”¨å®¢æˆ·ç«¯ï¼š\n Qv2rayï¼šå®‰è£…ååœ¨ Plugins ä¸­ï¼Œé€‰æ‹© V2ray Core Pluginï¼Œå¹¶è¿›è¡Œ V2ray çš„è®¾ç½®ã€‚ç°åœ¨ä½ å·²ç»å¯ä»¥ä½¿ç”¨ï¼Œä½ éœ€è¦æŒ‰ç…§å®˜æ–¹æ–‡æ¡£å¯¼å…¥å·²æœ‰çš„é“¾æ¥æˆ–è®¢é˜…ã€‚ V2rayAï¼š2rayA æ˜¯ä¸€ä¸ªæµè§ˆå™¨å®¢æˆ·ç«¯ï¼Œä½¿ç”¨éå¸¸æ–¹ä¾¿ã€‚æ›´å¤šä½¿ç”¨æ–¹æ³•è¯·çœ‹å®˜æ–¹æ–‡æ¡£  ä»£ç†é…ç½® åœ¨ç»è¿‡ä¸Šè¿°æ­¥éª¤åï¼Œä½ åº”è¯¥å·²ç»æœ‰äº† SOCKS5 ä»£ç†ä»¥åŠ HTTP ä»£ç†çš„åœ°å€å’Œç«¯å£ã€‚æ¥ä¸‹æ¥è¿›è¡Œè®¾ç½®ï¼š\n  ç³»ç»Ÿä»£ç†ï¼šåœ¨èŠ‚ç‚¹é“¾æ¥åï¼Œä½ å¯åœ¨ç³»ç»Ÿè®¾ç½® -\u0026gt; ç½‘ç»œè®¾ç½® -\u0026gt; ä»£ç†ä¸­è®¾ç½®ä»£ç†ã€‚æ³¨æ„ï¼Œç³»ç»Ÿè®¾ç½®ä¸­çš„ä»£ç†é…ç½®åœ¨ KDE æ¡Œé¢ç¯å¢ƒä¸­å¹¶ä¸æ˜¯æ‰€æœ‰åº”ç”¨éƒ½ä¼šéµå®ˆã€‚æ²¡æœ‰éµå¾ªç³»ç»Ÿè®¾ç½®ä»£ç†çš„åº”ç”¨è¿˜éœ€è¦å•ç‹¬è¿›è¡Œä»£ç†é…ç½®ã€‚\n  ç»ˆç«¯\nå¯ä»¥é€šè¿‡ export å‘½ä»¤è®¾ç½®å½“å‰ç»ˆç«¯çš„ä»£ç†æ–¹å¼ã€‚æ¯”å¦‚ä½¿ç”¨ tldr æˆ– github raw ç­‰èµ„æºéœ€è¦è®¾ç½® https ä»£ç†ã€‚\nexport https_proxy=http://127.0.0.1:8889 export http_proxy=http://127.0.0.1:8889 export all_proxy=http://127.0.0.1:8889 ä¸åŒç»ˆç«¯å‘½ä»¤æ‰€è¯†åˆ«çš„ç¯å¢ƒå˜é‡åä¸åŒï¼Œå¦‚ all_proxy å¯¹ curl ç”Ÿæ•ˆï¼Œè€Œå¯¹ wget åˆ™ä¸ç”Ÿæ•ˆï¼Œå…·ä½“å¯æŸ¥çœ‹å„ä¸ªå‘½ä»¤çš„ man pageã€‚\n  proxychains/proxychains-ng\nå¦‚æœå¯¹äºä¸€ä¸ªåº”ç”¨ï¼ŒKDE çš„ç³»ç»Ÿä»£ç†ä¸ç”Ÿæ•ˆï¼Œåœ¨ç»ˆç«¯ export äº† ALL_PROXY å˜é‡å†ç”¨ç»ˆç«¯å¯åŠ¨æ­¤åº”ç”¨ä»£ç†ä¹Ÿä¸ç”Ÿæ•ˆï¼Œå¹¶ä¸”è¿™ä¸ªåº”ç”¨è‡ªèº«ä¹Ÿæ²¡æœ‰é…ç½®ä»£ç†çš„é€‰é¡¹ï¼ˆå³åº”ç”¨ä¸æ”¯æŒä»£ç†ï¼‰ã€‚æ­¤æ—¶å¯ä»¥ä½¿ç”¨ proxychainsï¼Œå®ƒå¯ä»¥ä¸ºå•è¡Œå‘½ä»¤é…ç½®ä»£ç†ï¼Œå®ƒæ˜¯ä¸€ä¸ªé¢„åŠ è½½çš„ hookï¼Œå…è®¸é€šè¿‡ä¸€ä¸ªæˆ–å¤šä¸ª SOCKS æˆ– HTTP ä»£ç†é‡å®šå‘ç°æœ‰åŠ¨æ€é“¾æ¥ç¨‹åºçš„ TCP æµé‡ï¼ˆå³å¼ºåˆ¶åº”ç”¨èµ°ä»£ç†ï¼‰ã€‚\n$ sudo apt install proxychains $ sudo vim /etc/proxychains.conf socks5 127.0.0.1 1089   é€æ˜ä»£ç† å…¨å±€ä»£ç†ï¼Œä¹Ÿå³é€æ˜ä»£ç†ã€‚ä¹‹æ‰€ä»¥å«åšé€æ˜ä»£ç†ï¼Œæ˜¯å› ä¸ºè¿™ä»£ç†å¯¹äºæ“ä½œç³»ç»Ÿä¸­çš„å„ä¸ªåº”ç”¨ç›¸å½“äºæ˜¯é€æ˜çš„ï¼Œåº”ç”¨ä»¬æ„ŸçŸ¥ä¸åˆ°ä»£ç†çš„å­˜åœ¨ã€‚ä¹‹æ‰€ä»¥å«åšå…¨å±€ä»£ç†ï¼Œå¾ˆæ˜æ˜¾æ„ä¸ºå…¨å±€æ‰€æœ‰æµé‡éƒ½èµ°ä»£ç†ã€‚\n  åœ¨ Qv2ray çš„â€œé¦–é€‰é¡¹-å…¥ç«™è®¾ç½®â€çš„ä¸‹æ–¹å¯ç”¨ä»»æ„é—¨è®¾ç½®é€‰é¡¹ã€‚\n ç›‘å¬ ipv4 åœ°å€å¯å¡«127.0.0.1 æˆ– 0.0.0.0ï¼Œå»ºè®®å‰è€…ã€‚è‹¥éœ€åŒæ ˆä»£ç†ï¼Œåˆ™åœ¨ç›‘å¬ ipv6 åœ°å€å¡«ä¸Š::1ï¼ˆå¦‚æœç›‘å¬ ipv4 å¡«äº† 0.0.0.0 åˆ™å¯ä¸å¡«ï¼‰ã€‚ å—…æ¢é€‰æ‹© Fullï¼ŒDestination Override çš„ä¸‰é¡¹å‡å‹¾é€‰ã€‚ æ¨¡å¼é€‰æ‹©â€œtproxyâ€ã€‚    å®‰è£…cgproxyè½¯ä»¶ï¼Œç¼–è¾‘/etc/cgproxy/config.jsonï¼š\n åœ¨cgroup_proxyä¸­æ‹¬å·é‡ŒåŠ ä¸Š\u0026quot;/\u0026quot;ï¼Œportæ”¹ä¸º Qv2ray é¦–é€‰é¡¹é‡Œçš„é€æ˜ä»£ç†çš„ç«¯å£ã€‚ cgproxyé»˜è®¤é…ç½®æ˜¯ä»£ç†æ‰€æœ‰ tcp å’Œ udpï¼Œipv4 å’Œ ipv6 çš„æµé‡ï¼Œå¦‚æœä¸å¸Œæœ›ä»£ç†å…¶ä¸­çš„æŸç§ï¼ˆäº›ï¼‰æµé‡ï¼Œåˆ™å°†å¯¹åº”çš„enable_xxxæ”¹ä¸º falseã€‚æ³¨æ„è¿™é‡Œçš„é…ç½®è¦å’Œ Qv2ray é€‰é¡¹é‡Œçš„é…ç½®ä¸€è‡´ï¼Œå¦‚ Qv2ray é€‰é¡¹é‡Œæ²¡æœ‰å‹¾é€‰ udpï¼Œåˆ™è¿™é‡ŒåŠ¡å¿…æŠŠenable_udpæ”¹ä¸º falseã€‚ å¦‚æœå¸Œæœ›å½“æœ¬æœºä½œä¸ºç½‘å…³è®¾å¤‡æ—¶ä¸ºè¿æ¥åˆ°æœ¬æœºçš„å…¶ä»–è®¾å¤‡ï¼ˆå¦‚è¿æ¥åˆ°æœ¬æœºå¼€è®¾çš„ wifi çƒ­ç‚¹çš„è®¾å¤‡ï¼‰ä¹Ÿæä¾›é€æ˜ä»£ç†ï¼Œåˆ™æŠŠenable_gatewayæ”¹ä¸º true    é€æ˜ä»£ç†çš„åŸºæœ¬åŸç†æ˜¯æ‹¦æˆªç³»ç»Ÿå‘å‡ºçš„æ‰€æœ‰æµé‡ï¼Œå¹¶å°†è¿™äº›æµé‡è½¬åˆ°ä»£ç†å·¥å…·é‡Œï¼Œä»è€Œå®ç°è®©ç³»ç»Ÿæ‰€æœ‰æµé‡éƒ½èµ°ä»£ç†çš„ç›®çš„ã€‚æ­¤æ—¶ï¼Œä¸ºäº†é¿å…æµé‡å‡ºç°æ­»å¾ªç¯ï¼ˆå³ä»£ç†å·¥å…·å‘å‡ºçš„æµé‡åˆè½¬å›åˆ°ä»£ç†å·¥å…·é‡Œï¼‰ï¼Œéœ€è¦å°†ä»£ç†å·¥å…·æ’é™¤åœ¨é€æ˜ä»£ç†ç¯å¢ƒå¤–é¢ã€‚æœ‰ä¸¤ç§æ–¹å¼å¯ä»¥å®ç°è¿™ä¸€ç‚¹ï¼š\n  é€šè¿‡execsnoopç›‘æ§ä»£ç†å·¥å…·çš„å¯åŠ¨ï¼Œå¹¶è‡ªåŠ¨å°†å…¶ç§»è‡³é€æ˜ä»£ç†ç¯å¢ƒå¤–é¢ï¼š\n cgproxyè½¯ä»¶è‡ªå¸¦execsnoopæ”¯æŒï¼Œä»¥ä¸Šcgproxyæµ‹è¯•è¿‡çš„å‘è¡Œç‰ˆå‡å¯æ”¯æŒã€‚ ç¼–è¾‘/etc/cgproxy/config.jsonï¼Œåœ¨program_noproxyä¸­æ‹¬å·é‡ŒåŠ ä¸Š\u0026quot;v2ray\u0026quot;ã€\u0026quot;qv2ray\u0026quot;ï¼Œä»¥ä½¿qv2rayå’Œv2rayå‘å‡ºçš„æµé‡ä¸ç»è¿‡é€æ˜ä»£ç†ã€‚å¦‚æœä½ çš„v2rayæˆ–qv2rayä¸åœ¨PATHé‡Œï¼Œåˆ™éœ€è¦å¡«å†™å®ƒä»¬çš„ç»å¯¹è·¯å¾„ã€‚    åœ¨æ¯æ¬¡è¿æ¥ä»£ç†èŠ‚ç‚¹æ—¶ï¼Œè®©qv2rayè‡ªå·±æŠŠè‡ªå·±ç§»åˆ°é€æ˜ä»£ç†ç¯å¢ƒå¤–é¢ï¼š\nå®‰è£… Qvplugin-Command æ’ä»¶ï¼Œåœ¨æ’ä»¶è®¾ç½®é‡Œçš„â€œpre-connectionâ€æ é‡ŒåŠ ä¸Šä¸€å¥\nsh -c \u0026#34;cgnoproxy --pid $(pgrep -x qv2ray)\u0026#34;     å¦‚æœå¯ç”¨äº† udp çš„é€æ˜ä»£ç†ï¼ˆdns ä¹Ÿæ˜¯ udpï¼‰ï¼Œåˆ™ç»™ v2ray äºŒè¿›åˆ¶æ–‡ä»¶åŠ ä¸Šç›¸åº”çš„ç‰¹æƒï¼š\nsudo setcap \u0026#34;cap_net_admin,cap_net_bind_service=ep\u0026#34; /usr/bin/v2ray å¦åˆ™ udp çš„é€æ˜ä»£ç†å¯èƒ½ä¼šå‡ºé—®é¢˜ã€‚å¦‚æœæ¯æ¬¡æ›´æ–°äº† v2ray äºŒè¿›åˆ¶æ–‡ä»¶ï¼Œéƒ½éœ€è¦é‡æ–°æ‰§è¡Œæ­¤å‘½ä»¤ã€‚\n  å¯åŠ¨é€æ˜ä»£ç†æœåŠ¡ï¼šsystemctl start cgproxy.serviceæˆ–systemctl enable --now cgproxy.serviceã€‚\n  ä»¥ä¸Šæ­¥éª¤å®Œæˆåï¼Œé€æ˜ä»£ç†åº”è¯¥èƒ½æ­£å¸¸ä½¿ç”¨äº†ã€‚\ndns å¦‚æœå‹¾é€‰äº†â€œdns æ‹¦æˆªâ€ï¼Œä¸”å¯ç”¨äº† dns å’Œ udp çš„é€æ˜ä»£ç†ï¼Œåˆ™ v2ray ä¼šæ‹¦æˆªå¯¹ç³»ç»Ÿ dns çš„è¯·æ±‚ï¼Œå¹¶å°†å…¶è½¬å‘åˆ° v2ray çš„å†…ç½® dns é‡Œï¼Œå³è®© v2ray å†…ç½® dns æ¥ç®¡ç³»ç»Ÿ dnsã€‚ä½† v2ray å†…ç½® dns æ˜¯ä¼šéµå¾ªè·¯ç”±è§„åˆ™çš„ã€‚\nå¦‚æœæ²¡å‹¾é€‰â€œdns æ‹¦æˆªâ€ï¼Œåˆ™ v2ray è™½ç„¶ä¸ä¼šè®©å†…ç½® dns æ¥ç®¡ç³»ç»Ÿ dnsï¼Œä½†å¦‚æœå¯ç”¨äº† dns å’Œ udp çš„é€æ˜ä»£ç†ï¼Œåˆ™ç³»ç»Ÿ dns ä¹Ÿä¼šèµ°é€æ˜ä»£ç†è¿› v2rayï¼Œå¹¶éµå¾ª v2ray çš„è·¯ç”±è§„åˆ™ã€‚\nå› æ­¤ï¼Œåœ¨å¯ç”¨äº† dns å’Œ udp çš„é€æ˜ä»£ç†æ—¶ï¼Œè‹¥ç³»ç»Ÿ dns æˆ– v2ray çš„å†…ç½® dns é…ç½®ä¸å½“ï¼Œå¯èƒ½å¯¼è‡´ dns è¯·æ±‚å‘ä¸å‡ºå»ï¼Œä»è€Œå½±å“æ­£å¸¸ä¸Šç½‘ã€‚\nç”±äº qv2ray å¸¸è§çš„è·¯ç”±è§„åˆ™æ˜¯ç»•è¿‡å›½å†… ipï¼Œå›½å¤– ip å‡èµ°ä»£ç†ã€‚åœ¨è¿™ä¸ªæƒ…å½¢ä¸­ï¼Œä»¥ä¸‹ä¸¤ä¸ªé…ç½®æ˜¯å…¸å‹çš„æœ‰é—®é¢˜çš„ dns é…ç½®æ–¹å¼ï¼š\n é…ç½®äº†å›½å¤–æ™®é€š dns ä½œä¸ºé¦–é€‰ï¼Œä½†ä»£ç†æœ¬èº«ä¸æ”¯æŒ udpï¼ˆæ­¤æ—¶ dns æŸ¥è¯¢çš„ udp æµé‡å‡ºä¸å»ï¼Œdns æ— æ³•æŸ¥è¯¢ï¼‰ é…ç½®äº†ä½¿ç”¨åŸŸåçš„ doh ä½œä¸ºé¦–é€‰ã€‚æ­¤æ—¶ doh çš„åŸŸåæ— æ³•è¢«è§£æï¼Œä»è€Œ doh ä¹Ÿæ— æ³•ä½¿ç”¨ã€‚  ä¸€èˆ¬è€Œè¨€ï¼Œå¦‚æœå¹¶ä¸åœ¨æ„å°† dns æŸ¥è¯¢å‘ç»™è°ï¼Œé‚£ä¹ˆï¼Œåœ¨ç»•è¿‡å›½å†… ip çš„æƒ…å†µä¸‹ï¼Œåªéœ€è¦é…ç½®ä¸€ä¸ªå›½å†…æ™®é€š dns ä½œä¸ºé¦–é€‰å³å¯ä¿è¯ä¸ä¼šå‡ºé—®é¢˜ã€‚è‹¥ä»£ç†æœ¬èº«ä¸æ”¯æŒ udpï¼Œåˆå¸Œæœ›ä½¿ç”¨å›½å¤– dnsï¼Œåˆ™å¯ä»¥è€ƒè™‘ä½¿ç”¨ä½¿ç”¨ ip çš„ dohï¼ˆå¦‚https://1.1.1.1/dns-queryç­‰ï¼‰ã€‚\nå¦‚æœéœ€è¦æ›´å¤æ‚çš„ dns é…ç½®ï¼Œå»ºè®®å‚è€ƒä¸Šæ¸¸æ–‡æ¡£ï¼Œå¹¶é€‰æ‹©åˆé€‚çš„ä¸ä¼šå½±å“æ­£å¸¸ä¸Šç½‘çš„ dns é…ç½®ã€‚\nClash ä¸‹è½½ clash\n$ gzip -d clash-v1.6.5.gz $ mkdir ~/.clash \u0026amp;\u0026amp; mv clash-v1.6.5 ~/.clash/clash ä¸‹è½½é…ç½®\n$ wget -O config.yaml [è®¢é˜…é“¾æ¥] è¿è¡Œ clash\n$ chmod 770 clash./clash -d . ä½¿ç”¨ clash dashboard é€‰æ‹©èŠ‚ç‚¹\nè®¾ç½®ç³»ç»Ÿä»£ç†ï¼š\n  GUIï¼šæ‰“å¼€ç³»ç»Ÿè®¾ç½®ï¼Œç‚¹å‡»ç½‘ç»œä»£ç†å³è¾¹çš„ âš™ æŒ‰é’®ï¼Œé€‰æ‹©æ‰‹åŠ¨\n HTTP å’Œ HTTPS ä»£ç†ä¸º 127.0.0.1:7890 Socks ä¸»æœºä¸º 127.0.0.1:7891    CLIï¼šchange system proxy settings from the command line\n# To modify a DConf setting: $ gsettings set \u0026lt;schema\u0026gt; \u0026lt;key\u0026gt; \u0026lt;value\u0026gt; # To read a DConf setting: $ gsettings get \u0026lt;schema\u0026gt; \u0026lt;key\u0026gt;   ç›¸å…³è½¯ä»¶ï¼š\n glider Lantern Privoxy openvpn Shadowsocks Tor trojanï¼štrojanæ•™ç¨‹  è„šæœ¬ä¸€ $ vi ~/.clash/run-clash.sh #!/bin/bash CLASH_HOME=/home/vane/.clash subscription=\u0026#34;è®¢é˜…è¿æ¥\u0026#34; # è®¾ç½®ç³»ç»Ÿä»£ç† function setting { gsettings set org.gnome.system.proxy.http host \u0026#39;127.0.0.1\u0026#39; gsettings set org.gnome.system.proxy.http port \u0026#39;7890\u0026#39; gsettings set org.gnome.system.proxy.https host \u0026#39;127.0.0.1\u0026#39; gsettings set org.gnome.system.proxy.https port \u0026#39;7890\u0026#39; gsettings set org.gnome.system.proxy.socks host \u0026#39;127.0.0.1\u0026#39; gsettings set org.gnome.system.proxy.socks port \u0026#39;7891\u0026#39; } # æ›´æ–°è®¢é˜… function update { wget -O $CLASH_HOME/config.yaml $subscription } # è¿è¡Œ clash function run { # æ‰“å¼€ç³»ç»Ÿä»£ç†ï¼ˆä¹‹å‰å·²ç»è®¾ç½®äº†ï¼‰ gsettings set org.gnome.system.proxy mode \u0026#39;manual\u0026#39; $CLASH_HOME/clash -d $CLASH_HOME/ } # åœæ­¢è¿è¡Œ clash function stop { # å…³é—­ç³»ç»Ÿä»£ç†  gsettings set org.gnome.system.proxy mode \u0026#39;none\u0026#39; } if [ \u0026#34;$1\u0026#34; = \u0026#34;-u\u0026#34; ]; then update elif [ \u0026#34;$1\u0026#34; = \u0026#34;-r\u0026#34; ]; then run elif [ \u0026#34;$1\u0026#34; = \u0026#34;-s\u0026#34; ]; then setting else if [ \u0026#34;$1\u0026#34; ]; then $CLASH_HOME/clash $1 else echo Plese run clash -r fi fi trap stop EXIT How to change system proxy settings from the command line on Ubuntu desktop\n$ chmod 700 run-clash.sh è„šæœ¬äºŒ $ vi ~/.clash/rc.sh #!/bin/bash /usr/bin/wget -O home/kurome/.clash/config.yaml \u0026#34;è®¢é˜…è¿æ¥\u0026#34; /home/kurome/.clash/clash -d /home/kurome/.clash/ clash as a daemonï¼š\n$ sudo vi /usr/lib/systemd/system/clash.service [Unit] Description=Clash daemon, A rule-based proxy in Go. After=network.target [Service] Type=simple Restart=always RestartSec=10 ExecStart=/bin/bash /home/kurome/.clash/rc.sh [Install] WantedBy=multi-user.target è¿è¡Œ\n$ systemctl enable clash.service $ systemctl start clash.service $ systemctl status clash.service å¦‚æœä¸æƒ³ä»£ç†äº†ï¼Œå¯ä»¥ç›´æ¥åœ¨ clash dashboard çš„ Proxy ï¼ˆå¦‚æœæœ‰çš„è¯ï¼‰æˆ–è€… Settting é‡Œé€‰æ‹© DIRECTï¼Œè€Œä¸æ˜¯å…³é—­ clash.serviceã€‚æ ¹æ®è®¾ç½®çš„è§„åˆ™ï¼Œæœ‰çš„æµé‡ä¼šèµ°ä»£ç†ï¼Œæœ‰çš„æµé‡ç›´æ¥èµ°ã€‚\nTUN æ¨¡å¼ â€œç³»ç»Ÿä»£ç†â€ä¸€èˆ¬åªæ˜¯æ¡Œé¢ç¯å¢ƒä¸‹çš„çº¦å®šï¼Œéœ€è¦ app éµå¾ªçº¦å®šæ‰è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´ HTTP_PROXY è¿™ç§ç¯å¢ƒå˜é‡åªæ˜¯çº¦å®šä¿—æˆçš„ï¼Œå¤§å®¶éƒ½ä»è¿™é‡Œé¢è¯»å–ä»£ç†åœ°å€ï¼Œä½†æ˜¯ç¨‹åºé‡Œå¿…é¡»è¦æœ‰è¯»å–è¿™ä¸ªå˜é‡çš„ç›¸å…³ä»£ç æ‰è¡Œã€‚\nå› æ­¤æŸäº›è½¯ä»¶\u0026amp;å‘½ä»¤è¡Œè½¯ä»¶ä¸æ”¯æŒç³»ç»Ÿä»£ç†ã€‚\nClash for Windows tun æ¨¡å¼å¯¹å…¨éƒ¨ app ç”Ÿæ•ˆâ€”â€”å¯¹äºä¸éµå¾ªç³»ç»Ÿä»£ç†çš„è½¯ä»¶ï¼ŒTUN æ¨¡å¼å¯ä»¥æ¥ç®¡å…¶æµé‡å¹¶äº¤ç”± CFW å¤„ç†ã€‚å¯åŠ¨ TUN æ¨¡å¼éœ€è¦è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š\n  å®‰è£… nftables å’Œ iproute2 å¹¶é‡å¯\n$ sudo apt install nftables iproute2 $ sudo reboot   ç‚¹å‡»Generalä¸­Service Modeå³è¾¹Manageï¼Œåœ¨æ‰“å¼€çª—å£ä¸­å®‰è£…æœåŠ¡æ¨¡å¼ï¼Œå®‰è£…å®Œæˆåº”ç”¨ä¼šè‡ªåŠ¨é‡å¯ï¼ˆæŸäº›ç³»ç»Ÿéœ€è¦æ‰‹åŠ¨é‡å¯ APPï¼‰ï¼ŒService Mode å³è¾¹åœ°çƒå›¾æ ‡å˜ä¸ºç»¿è‰²å³å®‰è£…æˆåŠŸ\n  ç‚¹å‡»Generalä¸­TUN Modeå³è¾¹å¼€å…³å¯åŠ¨ TUN æ¨¡å¼\n  æ— æ³•å®‰è£…å‚è€ƒï¼š\n$ curl https://gist.githubusercontent.com/Fndroid/2119fcb5ccb5a543a8f6a609418ae43f/raw/592eba4f480c7ccb4f29c9b8e80d24bfd5dda8cf/linux.sh \u0026gt; cfw-tun.sh \u0026amp;\u0026amp; chmod +x cfw-tun.sh \u0026amp;\u0026amp; sudo ./cfw-tun.sh install \u0026lt;cfwå®‰è£…ç›®å½•\u0026gt; å¦‚è¦å¸è½½åˆ™å°† install æ”¹ä¸º uninstallï¼Œæœ€åä¸€éƒ¨åˆ†ä½ CFW å®‰è£…ç›®å½•\n  Setup System stack in Fake-IP mode Edit config\ndns: enable: true listen: 0.0.0.0:1053 fake-ip-range: 198.18.0.1/16 enhanced-mode: fake-ip nameserver: - 114.114.114.114 tun: enable: true stack: system dns-hijack: - tcp://8.8.8.8:53 interface-name: en0 Run Clash\nsudo ./clash Set Route\n# Based on https://github.com/Kr328/kr328-clash-setup-scripts/blob/master/setup-clash-tun.sh ipset create localnetwork hash:net ipset add localnetwork 127.0.0.0/8 ipset add localnetwork 10.0.0.0/8 ipset add localnetwork 169.254.0.0/16 ipset add localnetwork 192.168.0.0/16 ipset add localnetwork 224.0.0.0/4 ipset add localnetwork 240.0.0.0/4 ipset add localnetwork 172.16.0.0/12 ip tuntap add user root mode tun utun0 ip link set utun0 up ip route replace default dev utun0 table 0x162 ip rule add fwmark 0x162 lookup 0x162 iptables -t mangle -N CLASH iptables -t mangle -F CLASH iptables -t mangle -A CLASH -p tcp --dport 53 -j MARK --set-mark 0x162 iptables -t mangle -A CLASH -p udp --dport 53 -j MARK --set-mark 0x162 iptables -t mangle -A CLASH -m addrtype --dst-type BROADCAST -j RETURN iptables -t mangle -A CLASH -m set --match-set localnetwork dst -j RETURN iptables -t mangle -A CLASH -d 198.18.0.0/16 -j MARK --set-mark 0x162 iptables -t mangle -A CLASH -j MARK --set-mark 0x162 iptables -t mangle -I OUTPUT -j CLASH iptables -t mangle -I PREROUTING -m set ! --match-set localnetwork dst -j MARK --set-mark 0x162 sysctl -w net/ipv4/ip_forward=1 sysctl -w net.ipv4.conf.utun0.rp_filter=0 Set Gateway and DNS server in other devices\nSet the gateway and DNS server, then enjoy the clash\nTProxy Mode Transparent proxies act as intermediaries between a user and a web service. When a user connects to a service, the transparent proxy intercepts the request before passing it on to the provider. Transparent proxies are considered transparent because the user isnâ€™t aware of them. On the other hand, the servers hosting the service recognize that the proxied traffic is coming from a proxy and not directly from the user.\nAnd Tproxy is first choice of realize transparent proxy with NAT on Linux. In the past, Clash TProxy mode only support TCP traffic. After version 0.19, Clash TProxy mode also support UDP traffic, it will solve a NAT problem.\nWhat\u0026rsquo;s different between TProxy mode and TUN mode?\nThere\u0026rsquo;s no big difference in user-side.\nIn developer side, Tproxy is a proxy, although it is not perceived by the application. And TUN is a gatway, application knows there is a gateway, and traffic must pass through it.\nCheck your config\nMake sure you config have no tun field.\ndns: enable: true listen: 0.0.0.0:1053 enhanced-mode: redir-host # or fake-ip nameserver: - 114.114.114.114 Add Rules in iptable\niptables -t nat -N clash iptables -t nat -A clash -d 0.0.0.0/8 -j RETURN iptables -t nat -A clash -d 10.0.0.0/8 -j RETURN iptables -t nat -A clash -d 127.0.0.0/8 -j RETURN iptables -t nat -A clash -d 169.254.0.0/16 -j RETURN iptables -t nat -A clash -d 172.16.0.0/12 -j RETURN iptables -t nat -A clash -d 192.168.0.0/16 -j RETURN iptables -t nat -A clash -d 224.0.0.0/4 -j RETURN iptables -t nat -A clash -d 240.0.0.0/4 -j RETURN iptables -t nat -A clash -d \u0026#34;$local_ipv4\u0026#34; -j RETURN iptables -t nat -A clash -p tcp -j REDIRECT --to-port \u0026#34;$proxy_port\u0026#34; iptables -t nat -I PREROUTING -p tcp -d 8.8.8.8 -j REDIRECT --to-port \u0026#34;$proxy_port\u0026#34; iptables -t nat -I PREROUTING -p tcp -d 8.8.4.4 -j REDIRECT --to-port \u0026#34;$proxy_port\u0026#34; iptables -t nat -A PREROUTING -p tcp -j clash iptables -t nat -A OUTPUT -p tcp -d 198.18.0.0/16 -j REDIRECT --to-port \u0026#34;$proxy_port\u0026#34; # use it just for fake-ip iptables -t nat -N CLASH_DNS iptables -t nat -F CLASH_DNS iptables -t nat -A CLASH_DNS -p udp -j REDIRECT --to-port 1053 iptables -t nat -I OUTPUT -p udp --dport 53 -j CLASH_DNS iptables -t nat -I PREROUTING -p udp --dport 53 -j REDIRECT --to 1053 é…ç½®æ–‡ä»¶ Clash æ˜¯åŸºäº Go è¯­è¨€å†™çš„ç§‘å­¦ä¸Šç½‘å·¥å…·ï¼Œç›®å‰æ”¯æŒ windows, mac, android, openwrt, linux å¹³å°ï¼Œæ”¯æŒ ss, trojan, vmess, snell åè®®ï¼Œæ”¯æŒåˆ†æµè§„åˆ™ã€‚\nclash é…ç½®æ–‡ä»¶æ ¼å¼ä¸º yaml æ ¼å¼ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š\nport: 7890 socks-port: 7891 allow-lan: true mode: Rule log-level: info external-controller: :9090 proxies: - {name: cfmem.com - ğŸ‡­ğŸ‡° gq - é¦™æ¸¯Amazonæ•°æ®ä¸­å¿ƒ 20-1} proxy-groups: - name: ğŸ”° èŠ‚ç‚¹é€‰æ‹© type: select proxies: - â™»ï¸ è‡ªåŠ¨é€‰æ‹© - ğŸ¯ å…¨çƒç›´è¿ - cfmem.com - ğŸ‡­ğŸ‡° gq - é¦™æ¸¯Amazonæ•°æ®ä¸­å¿ƒ 20-1 rules: - DOMAIN-SUFFIX,local,ğŸ¯ å…¨çƒç›´è¿ proxies proxies ä»£è¡¨èŠ‚ç‚¹æ•°æ®ï¼Œæ‰€æœ‰çš„åˆ†æµè§„åˆ™éƒ½æ˜¯æŒ‰ç…§è¿™äº›èŠ‚ç‚¹æ•°æ®æ¥çš„ï¼Œè¿™é‡Œå¯ä»¥æœ‰å¾ˆå¤šä¸ªèŠ‚ç‚¹æ•°æ®ï¼Œå¯ä»¥æ˜¯ trojan, ss, vmess ç±»å‹éƒ½å¯ä»¥ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸ªä¾‹å­ï¼š\n{name: cfmem.com - ğŸ‡­ğŸ‡° gq - é¦™æ¸¯Amazonæ•°æ®ä¸­å¿ƒ 20-1, server: xxxx, port: 59113, type: vmess, uuid: 1111111, alterId: 0, cipher: auto, tls: false} clash ç”¨ç»Ÿä¸€çš„æ ¼å¼æ¥å®šä¹‰ä¸åŒçš„èŠ‚ç‚¹ç±»å‹ï¼Œç”¨ type æ¥è¿›è¡ŒåŒºåˆ†ï¼Œç‰¹æœ‰çš„å±æ€§åªéœ€è¦åœ¨è¿™ä¸ªç»“æ„ä½“åŠ ä¸Šè‡ªå·±å±æ€§å°±å¯ä»¥ï¼Œ clash å®¢æˆ·ç«¯ä¼šæ ¹æ® type ä¸åŒè€Œæ¥è¯»æ•°æ®\nproxy-groups å¯ä»¥æŠŠ proxy-groups ç†è§£ä¸ºä¸€é“åˆé“çš„è¿‡æ»¤ç½‘ï¼Œå½“ä½ å‘å‡ºä¸€ä¸ªè¯·æ±‚æ—¶ï¼Œè¿™ä¸ªè¯·æ±‚å°†ä¼šè¢«åœ¨å“ªä¸€å±‚çš„è¿‡æ»¤ç½‘ç»™æ‹¦æˆªä¸‹æ¥ï¼Œå–å†³äºä½ çš„ rules ä¸ è¯·æ±‚åŒ¹é…ã€‚æˆ‘ä»¬æ¥è§£æä¸€ä¸‹ proxy-groups é‡Œé¢çš„å‚æ•°ã€‚\nname\nä»£è¡¨ç»„çš„åç§°ï¼Œç»„çš„åç§°å¯ä»¥éšæ„å‘½åï¼Œä½†å»ºè®®å–æœ‰æ„ä¹‰çš„åç§°ï¼Œç»„çš„åç§°å¯ä»¥è¢«å…¶å®ƒçš„ç»„å¼•ç”¨ï¼Œä¹Ÿå¯ä»¥æ”¾åœ¨è§„åˆ™é‡Œé¢\ntype\ntype ä»£è¡¨è¿™ä¸ªç»„çš„ç±»å‹ï¼Œæœ‰ä¸‹é¢å››ç§æƒ…å†µ\n  select æ‰‹åŠ¨é€‰æ‹©ï¼Œè¯¥ç»„åœ¨èŠ‚ç‚¹åˆ—è¡¨ä¸Šï¼Œæ‰‹åŠ¨é€‰æ‹©åˆ—è¡¨æˆ–è€… proxy-group\n  url-test å»¶è¿Ÿæœ€ä½èŠ‚ç‚¹ï¼Œæµ‹è¯•è¯¥ç»„æ‰€æœ‰èŠ‚ç‚¹çš„å»¶è¿Ÿ\n  fallback å›è½ï¼Œè¿æ¥è¯¥ç»„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸å¯ç”¨æ—¶åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªèŠ‚ç‚¹\n  load-balance è´Ÿè½½å‡è¡¡ï¼Œç”±è¯¥ç»„2ä¸ªä»¥ä¸Šçš„èŠ‚ç‚¹æä¾›é“¾æ¥\n  proxies\nè¿™é‡Œå¯ä»¥æ˜¯ç»„åç§°æˆ–è€…èŠ‚ç‚¹åç§°ï¼Œä¾æ¬¡ä»ä¸Šåˆ°ä¸‹è¿›è¡Œé€‰æ‹©ï¼Œæ¯”å¦‚çœ‹ä¸‹é¢è¿™ä¸ª\n- name: ğŸ”° èŠ‚ç‚¹é€‰æ‹© type: select proxies: - â™»ï¸ è‡ªåŠ¨é€‰æ‹© - ğŸ¯ å…¨çƒç›´è¿ - cfmem.com - ğŸ‡­ğŸ‡° gq - é¦™æ¸¯Amazonæ•°æ®ä¸­å¿ƒ 20-1 - cfmem.com - ğŸ‡­ğŸ‡° gq - é¦™æ¸¯Amazonæ•°æ®ä¸­å¿ƒ 26-2 - cfmem.com - ğŸ‡­ğŸ‡° gq - é¦™æ¸¯Amazonæ•°æ®ä¸­å¿ƒ 28-3 - cfmem.com - ğŸ‡­ğŸ‡° é¦™æ¸¯-4 - cfmem.com - ğŸ‡­ğŸ‡° é¦™æ¸¯ 2-5 - cfmem.com - ğŸ‡­ğŸ‡° é¦™æ¸¯ 3-6 - cfmem.com - ğŸ‡­ğŸ‡° é¦™æ¸¯ 4-7 - cfmem.com - ğŸ‡­ğŸ‡° é¦™æ¸¯ 10-8 - cfmem.com - ğŸ‡­ğŸ‡° é¦™æ¸¯ 11-9 - name: â™»ï¸ è‡ªåŠ¨é€‰æ‹© type: url-test url: http://www.gstatic.com/generate_204 interval: 300 proxies: - cfmem.com - ğŸ‡­ğŸ‡° gq - é¦™æ¸¯Amazonæ•°æ®ä¸­å¿ƒ 20-1 - cfmem.com - ğŸ‡­ğŸ‡° gq - é¦™æ¸¯Amazonæ•°æ®ä¸­å¿ƒ 26-2 - cfmem.com - ğŸ‡­ğŸ‡° gq - é¦™æ¸¯Amazonæ•°æ®ä¸­å¿ƒ 28-3 - cfmem.com - ğŸ‡­ğŸ‡° é¦™æ¸¯-4 - cfmem.com - ğŸ‡­ğŸ‡° é¦™æ¸¯ 2-5 - cfmem.com - ğŸ‡­ğŸ‡° é¦™æ¸¯ 3-6 - cfmem.com - ğŸ‡­ğŸ‡° é¦™æ¸¯ 4-7 - cfmem.com - ğŸ‡­ğŸ‡° é¦™æ¸¯ 10-8 - cfmem.com - ğŸ‡­ğŸ‡° é¦™æ¸¯ 11-9 - cfmem.com - ğŸ‡­ğŸ‡° é¦™æ¸¯ 12-10 - name: ğŸŒ å›½å¤–åª’ä½“ type: select proxies: - ğŸ”° èŠ‚ç‚¹é€‰æ‹© - â™»ï¸ è‡ªåŠ¨é€‰æ‹© - ğŸ¯ å…¨çƒç›´è¿ - cfmem.com - ğŸ‡­ğŸ‡° gq - é¦™æ¸¯Amazonæ•°æ®ä¸­å¿ƒ 20-1 åç§°ä¸ºè‡ªåŠ¨é€‰æ‹©çš„ç»„ä¼šæ¯é—´éš” 300 æ¯«ç§’å» ping èŠ‚ç‚¹æ•°æ®ï¼Œæµ‹è¯•çš„åœ°å€æ˜¯ï¼šhttp://www.gstatic.com/generate_204\nè€Œ å›½å¤–åª’ä½“è¿™ä¸€é¡¹æ˜¯æ‰‹åŠ¨é€‰æ‹©é»˜è®¤é€‰æ‹©ç¬¬ä¸€ä¸ª èŠ‚ç‚¹é€‰æ‹©ï¼ŒèŠ‚ç‚¹é€‰æ‹©çš„ç¬¬ä¸€ä¸ªæ˜¯è‡ªåŠ¨é€‰æ‹©ï¼Œæ‰€ä»¥é»˜è®¤æ˜¯æ ¹æ® ping å€¼æ¥é€‰æ‹©èŠ‚ç‚¹çš„\nrules rules ä¹Ÿå°±æ˜¯å…·ä½“çš„åˆ†å‘è§„åˆ™äº†ï¼Œè§„åˆ™ä¸€èˆ¬ç”± [è§„åˆ™å‰ç¼€],[åŸŸåæˆ–åœ°å€],[ç»„å] ç»„æˆã€‚æˆ‘ä»¬æ¥çœ‹ä¸‹ï¼Œå…¶ä¸­ no-resolve è¡¨ç¤ºä¸è¦è§£æè¿™æ¡è§„åˆ™ï¼Œåªå¤„ç†ç›´æ¥ ip è®¿é—®è¯·æ±‚\nrules: - DOMAIN-SUFFIX,local,ğŸ¯ å…¨çƒç›´è¿ - IP-CIDR,192.168.0.0/16,ğŸ¯ å…¨çƒç›´è¿,no-resolve - IP-CIDR,10.0.0.0/8,ğŸ¯ å…¨çƒç›´è¿,no-resolve - IP-CIDR,172.16.0.0/12,ğŸ¯ å…¨çƒç›´è¿,no-resolve - IP-CIDR,127.0.0.0/8,ğŸ¯ å…¨çƒç›´è¿,no-resolve - IP-CIDR,100.64.0.0/10,ğŸ¯ å…¨çƒç›´è¿,no-resolve - IP-CIDR6,::1/128,ğŸ¯ å…¨çƒç›´è¿,no-resolve - IP-CIDR6,fc00::/7,ğŸ¯ å…¨çƒç›´è¿,no-resolve - IP-CIDR6,fe80::/10,ğŸ¯ å…¨çƒç›´è¿,no-resolve - IP-CIDR6,fd00::/8,ğŸ¯ å…¨çƒç›´è¿,no-resolve - DOMAIN-KEYWORD,1drv,â“‚ï¸ å¾®è½¯æœåŠ¡ è§„åˆ™å‰ç¼€æœ‰è¿™äº›å†…å®¹\n  DOMAIN-SUFFIX è¡¨ç¤ºåŒ…å«ä»€ä¹ˆåç¼€çš„åŸŸå\n  IP-CIDR IPV4åŒ¹é…\n  IP-CIDR6 IPV6åŒ¹é…\n  DOMAIN-KEYWORD,xxx è¡¨ç¤ºåŒ…å« xxxåŸŸåå…³é”®å­—çš„é“¾æ¥\n  DOMAIN abc.hello.com è¡¨ç¤ºåŒ…å«å®Œæ•´çš„åŸŸå\n  PROCESS-NAME è¡¨ç¤ºè¿›ç¨‹åç§°\n  GEOIP æ•°æ®åº“ï¼ˆå›½å®¶ä»£ç ï¼‰åŒ¹é…\n  MATCH å…¨åŒ¹é…ï¼ˆä¸€èˆ¬æ”¾åœ¨æœ€åï¼‰\n  DNSæ±¡æŸ“ DNSæœåŠ¡å™¨å³æ˜¯å°†ç”¨æˆ·è¯·æ±‚çš„åŸŸå(ç½‘ç«™URL)è½¬æ¢ä¸ºIPåœ°å€çš„æœåŠ¡å™¨ã€‚å½“å¹´ä¸­å›½é•¿åŸé˜²ç«å¢™å¼€å§‹éƒ¨ç½²æ—¶å°±æ˜¯é€šè¿‡DNSæ±¡æŸ“æ¥å±è”½ç½‘ç«™çš„ã€‚è¿™é¡¹åä¸ºDNSæ±¡æŸ“çš„æŠ€æœ¯ï¼Œå°±æ˜¯å¯¹ç”¨æˆ·è¯·æ±‚çš„åŸŸåå›åº”ä¸€ä¸ªé”™è¯¯çš„IPåœ°å€ï¼Œä½¿ç”¨æˆ·æ— æ³•è®¿é—®æŸä¸ªç½‘ç«™ã€‚è‡³æ­¤ï¼Œå›½å†…å‡ ä¹æ‰€æœ‰çš„å…¬å…±DNSæœåŠ¡å™¨éƒ½è¢«æ±¡æŸ“ï¼Œç”¨æˆ·æ— æ³•è¯·æ±‚åˆ°è¢«å±è”½ç½‘ç«™çš„æ­£ç¡®IPåœ°å€ã€‚ä½†æ˜¯ç›®å‰ï¼Œé˜²ç«å¢™çš„å±è”½åŠŸèƒ½æ—©å·²ä¸æ­¢DNSæ±¡æŸ“é‚£ä¹ˆç®€å•äº†ï¼Œå¯ä»¥é’ˆå¯¹IP/åŸŸåç›´æ¥é˜»æ–­è¿æ¥ï¼Œç”šè‡³å±è”½äº†å›½å¤–æœªå—æ±¡æŸ“çš„DNSæœåŠ¡å™¨ï¼Œå› æ­¤ä»…é å›½å†…çš„DNSæ˜¯ä¸å¤Ÿç¿»å¢™çš„ã€‚\nå¯¹æŠ—DNSåŠ«æŒ æ—©æœŸçš„DNSæœåŠ¡å™¨ï¼ˆæˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨çš„åŸºæœ¬ä¹Ÿæ˜¯ï¼‰éƒ½æ˜¯æ˜æ–‡ä¼ è¾“æ•°æ®çš„ï¼Œè¿™å°±æ„å‘³ç€é˜²ç«å¢™å¯ä»¥æ¢æµ‹å‡ºä½ è®¿é—®çš„ç½‘ç«™ï¼Œå¹¶ä¸”ç›´æ¥ç¯¡æ”¹DNSæœåŠ¡å™¨å›åº”çš„IPåœ°å€ã€‚è¿™ä¸ä»…ä»…å­˜åœ¨äºé•¿åŸé˜²ç«å¢™ï¼Œè¿˜å­˜åœ¨äºæŸäº›æ— è‰¯ç½‘ç»œè¿è¥å•†ï¼ŒæŠŠç”¨æˆ·çš„è¯·æ±‚çš„ç½‘ç«™åŠ«æŒåˆ°æŸä¸ªå‡çš„ç½‘ç«™ä¸Šã€‚\näºæ˜¯ç›®å‰å‡ºç°äº†DoHä¸DoTï¼Œå¯ä½¿ç”¨https/tls åŠ å¯†ä¼ è¾“DNSè¯·æ±‚ï¼Œè¿™ä½¿å¾—DNSä¸å†å®¹æ˜“è¢«åŠ«æŒäº†ã€‚å›½å†…çš„è®¸å¤šå…¬å…±DNSä¹Ÿéƒ½æä¾›äº†è¿™é¡¹æœåŠ¡ã€‚ä»¥ä¸‹æ˜¯æˆ‘æ‰€æ¨èçš„å›½å†…DNSã€‚\n https://223.5.5.5/dns-query https://223.6.6.6/dns-query https://doh.pub/dns-query  æˆ–è®¸å¯ä»¥å‚è€ƒ å¦‚ä½•é€‰æ‹©é€‚åˆçš„å…¬å…± DNSï¼Ÿ\nä½•æ—¶ä½¿ç”¨ Clashåªä¼šåœ¨åŸŸååŒ¹é…ä¸ºç›´è¿æ—¶ä½¿ç”¨é…ç½®æ–‡ä»¶çš„DNSï¼Œå…¶ä½™æ—¶åˆ»å‡äº¤ç»™èŠ‚ç‚¹è¿›è¡Œè¿œç¨‹è§£æã€‚å½“ç„¶ï¼ŒèŠ‚ç‚¹åŸŸåä¹Ÿä¼šä½¿ç”¨é…ç½®æ–‡ä»¶çš„DNSã€‚\nä¸¾ä¸ªä¾‹å­ï¼Œè®¿é—® google.com æ—¶ï¼ŒåŒ¹é…åˆ°ä»£ç†è§„åˆ™ï¼Œé‚£ä¹ˆè¿™ä¸ªæµé‡å°†ç›´æ¥è¢«å‘é€è‡³èŠ‚ç‚¹æœåŠ¡å™¨ï¼Œäº¤ç»™èŠ‚ç‚¹å¤„ç†ï¼ˆé€šå¸¸æ˜¯èŠ‚ç‚¹æœåŠ¡å™¨çš„DNSè§£æï¼Œè¿™ä¸ªä¸ç”¨ç®¡äº†ï¼‰ã€‚è®¿é—® microsoft.com æ—¶ï¼ŒåŒ¹é…åˆ°ç›´è¿è§„åˆ™ï¼ŒClashå°†ä½¿ç”¨é…ç½®æ–‡ä»¶çš„DNSè®¾å®šè¿›è¡Œè§£æã€‚\nDNSé…ç½® é¦–å…ˆï¼Œæ‰“å¼€ä½ çš„ Clash é…ç½®æ–‡ä»¶ï¼ˆå¦‚æœä½ ä½¿ç”¨ Clash for Windows æˆ– Clash for Android, å¯ä»¥ä½¿ç”¨è½¯ä»¶è‡ªå¸¦çš„â€œè¦†å†™/Mixinâ€åŠŸèƒ½ï¼‰ï¼Œæ·»åŠ ä»¥ä¸‹æ®µè½ï¼š\ndns: enable: true listen: 0.0.0.0:53Copy è¿™ä¸€æ®µçš„æ„æ€æ˜¯å¯ç”¨ Clash çš„ DNS æœåŠ¡å¹¶è®©å…¶åœ¨ 53 ç«¯å£ï¼ˆè¿™æ˜¯ç»å¤§å¤šæ•°æ“ä½œç³»ç»Ÿå°† DNS è§£ææŠ¥æ–‡å‘é€åˆ°çš„ç«¯å£ï¼‰ç›‘å¬æ¥è‡ªä»»æ„ç½‘ç»œç•Œé¢çš„ DNS è¯·æ±‚ã€‚å¦‚æœä½ çš„è®¾å¤‡å¹¶ä¸éœ€è¦å‘å…¶ä»–è®¾å¤‡æä¾›è§£ææœåŠ¡ï¼Œæˆ–ä½ çš„è®¾å¤‡å¸¸å¸¸éœ€è¦æ¥å…¥ä¸å®‰å…¨çš„ç½‘ç»œï¼ˆå¦‚æ‰‹æœºï¼Œç¬”è®°æœ¬ç”µè„‘ï¼‰ï¼Œåº”å½“å°†ç¬¬ä¸‰è¡Œçš„ 0.0.0.0:53 æ”¹ä¸º 127.0.0.1:53 è®© Clash ä»…ç›‘å¬æœ¬æœºçš„ DNS è§£ææŠ¥æ–‡ã€‚\nï¼ˆClash é»˜è®¤ä¼šåŒæ—¶ç›‘å¬ IPv4 å’Œ IPv6 ç•Œé¢ï¼Œå¦‚æœä½ ä¸éœ€è¦åè€…ï¼Œå¯ä»¥æ·»åŠ ä¸€è¡Œ ipv6: falseï¼‰\nç”±äºè¿æ¥åˆ°åŠ å¯† DNS æœåŠ¡æ—¶ï¼Œéœ€è¦è§£ææœåŠ¡å™¨æœ¬èº«çš„åŸŸåï¼Œå› æ­¤éœ€è¦æŒ‡å®šä¸€äº›ç›¸å¯¹å¹²å‡€çš„å›½å†… æ˜æ–‡ DNS æœåŠ¡å™¨åœ°å€ã€‚ç»§ç»­æ·»åŠ ä»¥ä¸‹éƒ¨åˆ†ï¼ˆæ³¨æ„ç¼©è¿›ï¼‰ï¼š\n#--omitted-- default-nameserver: - 119.29.29.29 - 223.5.5.5Copy å½“æ”¶åˆ° DNS è§£æè¯·æ±‚æ—¶ï¼ŒClash ä¼šä½¿ç”¨ä»¥ä¸Š DNS æœåŠ¡å™¨è§£æåŠ å¯† DNS æœåŠ¡å™¨åœ°å€å¹¶å»ºç«‹è¿æ¥ã€‚\næ¥ä¸‹æ¥ï¼ŒæŒ‡å®šè§£æå›½å†…åŸŸåæ—¶ä½¿ç”¨çš„åŠ å¯† DNS æœåŠ¡å™¨åœ°å€ï¼š\n#--omitted-- nameserver: - https://doh.pub/dns-query - https://dns.alidns.com/dns-queryCopy Clash æ”¯æŒ DoHï¼ˆhttps://domain.tld/dns-query å½¢å¼ï¼‰ å’Œ DoTï¼ˆtls://domain.tld å½¢å¼ï¼‰ä¸¤ç§åŠ å¯† DNS åè®®ï¼Œä¸æ”¯æŒ DoQ.ï¼ˆå½“ç„¶ä¹Ÿæ”¯æŒåœ¨æ­¤æŒ‡å®šå¤‡ç”¨çš„æ˜æ–‡ DNSï¼‰\nç„¶åï¼ŒæŒ‡å®šè§£æå›½å¤–åŸŸåæ—¶ä½¿ç”¨çš„åŠ å¯† DNS æœåŠ¡å™¨åœ°å€ï¼Œå¹¶è®¾ç½®åˆ†æµè§„åˆ™ï¼š\n#--omitted-- fallback: - https://1.1.1.1/dns-query - https://dns.google/dns-query fallback-filter: geoip: true geoip-code: CN ipcidr: - 240.0.0.0/4Copy â€œfallbackâ€ å­—æ®µæŒ‡å®šçš„ DNS æœåŠ¡å™¨å°†è¢«ç”¨äºè§£æéå›½å¤–åŸŸåï¼Œè€Œ â€œfallback-filterâ€ å­—æ®µåˆ™å®ç°æˆ‘ä»¬æƒ³è¦çš„åˆ†æµè§„åˆ™â€”â€”å½“è¯·æ±‚è§£æçš„åŸŸååœ¨ GeoIP æ•°æ®åº“å†…çš„å›½å®¶ä»£ç ä¸æ˜¯ CN æ—¶ï¼Œæˆ–æ˜¯åŸŸååœ¨å‰æ–‡è®¾ç½®çš„ DNS æœåŠ¡å™¨å†…çš„è§£æç»“æœä½äº 240.0.0.0/4 è¿™ä¸€ IP æ®µå†…æ—¶ï¼ˆè¢«å±è”½çš„åŸŸåè§£æå¸¸å¸¸ä¼šè¢«æ±¡æŸ“åˆ°è¿™ä¸€æ®µï¼‰ï¼Œä½¿ç”¨ â€œfallbackâ€ å­—æ®µæŒ‡å®šçš„ DNS æœåŠ¡å™¨è§£æåŸŸåã€‚\næœ€åï¼Œä¿®æ”¹ç³»ç»Ÿ DNS æœåŠ¡å™¨ä¸º 127.0.0.1 å³å¯ã€‚\nä»£ç†ç¯å¢ƒä¸­çš„ DNS è§£æè¡Œä¸º è™½ç„¶ Fake IP è¿™ä¸ªæ¦‚å¿µæ—©åœ¨ 2001 å¹´å°±è¢«æå‡ºæ¥äº†ï¼Œä½†æ˜¯åˆ° Clash æä¾› fake-ip å¢å¼ºæ¨¡å¼ä»¥åï¼Œä¾ç„¶æœ‰å¾ˆå¤šäººå¯¹ Fake IP è¿™ä¸ªæ¦‚å¿µä»¥åŠå…¶ä½œç”¨çŸ¥ä¹‹ç”šå°‘ã€‚æœ¬æ–‡å°±ç®€å•è°ˆè°ˆåœ¨ä»£ç†ç¯å¢ƒä¸­ï¼ŒTCP è¿æ¥å»ºç«‹ä¹‹å‰å‘ç”Ÿçš„äº‹ã€‚ç”±äºç§»åŠ¨è®¾å¤‡æ“ä½œç³»ç»Ÿä¸­ç½‘ç»œæ ˆç›¸å¯¹å¤æ‚ï¼Œæœ¬æ–‡çš„ä¾‹å­ä¹Ÿå¹¶ä¸ä¸€å®šé€‚ç”¨äºç§»åŠ¨ç«¯ç¯å¢ƒã€‚æ–‡ç« ä¸­ä¹Ÿè®¸ä¼šå­˜åœ¨å¾ˆå¤šé”™è¯¯ï¼Œä¹Ÿå¸Œæœ›å„è·¯å¤§ä½¬çš„å‹˜è¯¯å’Œæ–§æ­£ã€‚\nä¸ä½¿ç”¨ä»£ç† å¦‚æœåœ¨ä¸ä½¿ç”¨ä»»ä½•ä»£ç†çš„æƒ…å†µä¸‹ï¼Œæ‰“å¼€ä¸€ä¸ªæ²¡æœ‰å‘½ä¸­ DNS ç¼“å­˜çš„ç½‘ç«™ï¼ˆæ¯”å¦‚ blog.skk.moeï¼‰çš„æ—¶å€™ï¼Œæµè§ˆå™¨å’Œæ“ä½œç³»ç»Ÿå¤§æ¦‚ä¼šæ‰§è¡Œè¿™ä¹ˆä¸€äº›æ“ä½œï¼š\n æµè§ˆå™¨è‡ªå·±éƒ½æœ‰ DNS ç¼“å­˜æœºåˆ¶ï¼Œå› æ­¤æµè§ˆå™¨ä¼šå…ˆå¼€å§‹å¯»æ‰¾è‡ªå·±çš„ç¼“å­˜ï¼Œä¸è¿‡æ²¡æœ‰æ‰¾åˆ° blog.skk.moe çš„è§£æç»“æœ æµè§ˆå™¨é€šè¿‡è°ƒç”¨æ“ä½œç³»ç»Ÿçš„ getaddrinfo æ–¹æ³•ï¼Œå‘æ“ä½œç³»ç»Ÿå¯»æ±‚è§£æç»“æœ æ“ä½œç³»ç»Ÿè‡ªå·±ä¹Ÿæœ‰ä¸€å±‚ DNS ç¼“å­˜ï¼Œä½†æ˜¯ç°åœ¨æ“ä½œç³»ç»Ÿä»è‡ªå·±çš„ç¼“å­˜ä¸­ä¾ç„¶æ‰¾ä¸åˆ°è¿™ä¸€ç»“æœ åœ¨ç³»ç»Ÿçš„ç½‘ç»œè®¾ç½®ä¹‹ä¸­æœ‰è®¾ç½®ä¸Šæ¸¸ DNS åœ°å€ï¼Œå‡è®¾æ“ä½œç³»ç»Ÿä¸­è®¾ç½®çš„æ˜¯ 119.29.29.29ï¼Œé‚£ä¹ˆæ“ä½œç³»ç»Ÿä¼šå‘ 119.29.29.29 å‘èµ·è§£æè¯·æ±‚ï¼ˆUDP æµé‡ï¼‰æ‹¿åˆ° blog.skk.moe çš„ IP å½“ç„¶å¦‚æœ 119.29.29.29 è‡ªå·±æ²¡æœ‰ blog.skk.moe çš„è§£æç»“æœä¼šæ‰¾å®ƒçš„ä¸Šæ¸¸å»è¦ã€‚ä¸è¿‡æˆ‘ä»¬ä¸å…³å¿ƒè¿™ä¸€ç‚¹ï¼Œåæ­£æœ€å 119.29.29.29 ä¼šæŠŠ blog.skk.moe çš„è§£æç»“æœè¿”å›ç»™è®¾å¤‡çš„æ“ä½œç³»ç»Ÿ ç°åœ¨ï¼Œæµè§ˆå™¨å·²ç»å¯ä»¥å¼€å§‹å‘ blog.skk.moe çš„ IP å‘èµ· HTTPS è¿æ¥äº†  ä»¥ä¸Šæ˜¯æ‰“å¼€ä¸€ä¸ªç½‘é¡µå¸¸è§çš„ DNS è§£ææµç¨‹ï¼Œå¯¹äºå…¶å®ƒé HTTP çš„ TCP è¿æ¥ï¼ˆæ¯”å¦‚ SMTPï¼‰ä¹Ÿéƒ½å·®ä¸å¤šæ˜¯è¿™ä¸ªæµç¨‹â€”â€”ç”±äº TCP/IP çš„åè®®ç‰¹æ€§ï¼Œåœ¨åº”ç”¨å‘èµ· TCP è¿æ¥æ—¶ï¼Œä¼šå…ˆå‘å‡ºä¸€ä¸ª DNS questionï¼ˆå‘ä¸€ä¸ª IP Packetï¼‰ï¼Œè·å–è¦è¿æ¥çš„æœåŠ¡å™¨çš„ IP åœ°å€ï¼Œç„¶åç›´æ¥å‘è¿™ä¸ª IP åœ°å€å‘èµ·è¿æ¥ã€‚\nè®¾ç½®ä»£ç†å¹¶ä½¿ç”¨ç›´è¿ ç°åœ¨ï¼Œæˆ‘ä»¬åœ¨åº”ç”¨ç¨‹åºï¼ˆæ¯”å¦‚æˆ‘ä»¬çš„æµè§ˆå™¨ã€æˆ–è€…å…¶å®ƒåº”ç”¨ï¼‰ä¸­è®¾ç½®äº†ä»£ç†ï¼Œä½†æ˜¯è¿™ä¸ªä»£ç†ä¸æ¶‰åŠåˆ°ä»»ä½•è¿œç«¯æœåŠ¡å™¨ï¼ˆç›´è¿æ¨¡å¼ï¼‰ã€‚æ¥ä¸‹æ¥ä»¥è®¾ç½®äº† SOCKS5 ä»£ç†çš„æµè§ˆå™¨ä¸ºä¾‹ã€‚\n æµè§ˆå™¨ä¸å†éœ€è¦ä»è‡ªå·±çš„ DNS ç¼“å­˜ä¸­å¯»æ‰¾ blog.skk.moeï¼Œå› ä¸ºå·²ç»æœ‰äº† SOCKS5 ä»£ç†ï¼Œæµè§ˆå™¨å¯ä»¥ç›´æ¥å°†åŸŸåå°è£…åœ¨ SOCKS5 æµé‡ä¹‹ä¸­å‘å¾€ä»£ç†å®¢æˆ·ç«¯ ä»£ç†å®¢æˆ·ç«¯ä» SOCKS5 æµé‡ä¸­æŠ½å‡º blog.skk.moe è¿™ä¸ªåŸŸåå¹¶è®¾æ³•è·å¾—è§£æç»“æœ ä»£ç†å®¢æˆ·ç«¯å°†ä½ çš„ SOCKS5 æµé‡è¿˜åŸæˆæ ‡å‡†çš„ TCP è¯·æ±‚ ä»£ç†å®¢æˆ·ç«¯å°†è¿™ä¸ª TCP è¿æ¥å»ºç«‹èµ·æ¥ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¹‹ä¸­ TCP è¿æ¥æ‰¿è½½çš„æ˜¯ HTTPS  ä¹‹å‰ç”±äºè·å–è§£æç»“æœæ˜¯æµè§ˆå™¨åœ¨æ“ä½œï¼Œè€Œå¤§éƒ¨åˆ†æµè§ˆå™¨éƒ½ä¼šé€‰æ‹©è°ƒç”¨ç³»ç»Ÿçš„ getaddrinfo æ–¹æ³•ï¼Œå› æ­¤å¦‚æœä½ æƒ³è¦åœ¨ DNS ä¸Šåšä¸€äº›é»‘é­”æ³•å°±åªèƒ½åœ¨æ“ä½œç³»ç»Ÿå±‚é¢å®ç°ï¼Œæ¯”å¦‚åœ¨æœ¬æœºæˆ–è€…åˆ«å¤„æ¶è®¾ä¸€ä¸ªå¸¦é»‘é­”æ³•çš„ DNS æœåŠ¡å™¨ï¼Œç„¶åä½ ç³»ç»Ÿä¸­è®¾ç½®ä½¿ç”¨è¿™ä¸ª DNS æœåŠ¡å™¨ã€‚ç°åœ¨ DNS è§£ææ˜¯ç”±ä»£ç†å®¢æˆ·ç«¯æ‰§è¡Œï¼Œå› æ­¤åœ¨ä»£ç†å®¢æˆ·ç«¯ä¸Šå°±å¯ä»¥å®ç°ä¸€äº›é»‘é­”æ³•ã€‚æ¯”å¦‚ Surge è‡ªå·±å®ç°äº†ä¸€ä¸ª DNS Server å¯ä»¥å¹¶å‘å‘å¤šä¸ªä¸Šæ¸¸åŒæ—¶å‘èµ·æŸ¥è¯¢ã€æ¯”å¦‚ V2Ray å¯ä»¥å®ç°ä¸åŒåŸŸåçš„æŸ¥è¯¢åˆ†æµï¼Œç­‰ç­‰ã€‚å½“ç„¶ä»£ç†å®¢æˆ·ç«¯ä¹Ÿå¯ä»¥ä½¿ç”¨æ“ä½œç³»ç»Ÿçš„ getaddrinfo æ–¹æ³•ã€‚\nè®¾ç½®ä»£ç†å¹¶å°†æµé‡è½¬å‘åˆ°è¿œç«¯æœåŠ¡å™¨ ç°åœ¨åœ¨ä¸Šä¸€æ­¥çš„åŸºç¡€ä¹‹ä¸Šï¼Œæˆ‘ä»¬ä¸ºä»£ç†æœåŠ¡å™¨è®¾ç½®äº†ä¸€ä¸ªè¿œç«¯æœåŠ¡å™¨ï¼Œè¿™ä¸ªä»£ç†ä¼šä½¿ç”¨ æŸç§åè®® å’Œè¿œç«¯æœåŠ¡å™¨é€šä¿¡ï¼Œå¹¶ä¸”è¿™ç§åè®®å’Œ SOCKS5 ä¸€æ ·æ”¯æŒå°†åŸŸåå°è£…åœ¨ä¼ è¾“ä¸­ã€‚æµè§ˆå™¨å’Œä»£ç†å®¢æˆ·ç«¯ä¹‹é—´ä¾ç„¶ä½¿ç”¨ SOCKS5 é€šä¿¡ã€‚\n å› ä¸ºå·²ç»æœ‰äº† SOCKS5 ä»£ç†ï¼Œæµè§ˆå™¨å¯ä»¥ç›´æ¥å°†åŸŸå blog.skk.moe å’Œæ•´ä¸ªè¯·æ±‚å°è£…åœ¨ SOCKS5 æµé‡ä¹‹ä¸­å‘å¾€ä»£ç†å®¢æˆ·ç«¯ ä»£ç†å®¢æˆ·ç«¯ä» SOCKS5 æµé‡ä¸­æŠ½å‡º blog.skk.moe è¿™ä¸ªåŸŸåä»¥åŠå…¶å®ƒæ•°æ® ä»£ç†å®¢æˆ·ç«¯ä½¿ç”¨ æŸç§åè®® å°†æµè§ˆå™¨å‘å‡ºçš„ SOCKS5 çš„æµé‡é‡ç»„å¹¶å‘ç»™è¿œç«¯æœåŠ¡å™¨ è¿œç«¯æœåŠ¡å™¨ä½¿ç”¨ç›¸åŒçš„ æŸç§åè®® ä»æµé‡ä¸­è·å¾—å…¶ä¸­çš„åŸŸå blog.skk.moe è¿œç«¯æœåŠ¡å™¨çš„ä»£ç†æœåŠ¡ç«¯å‘èµ·äº†ä¸€æ¬¡ DNS è§£æè¯·æ±‚è¯•å›¾è§£æ blog.skk.moeã€‚ç»å¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œä»£ç†çš„æœåŠ¡ç«¯éƒ½ä¼šç›´æ¥ä½¿ç”¨æ“ä½œç³»ç»Ÿçš„ getaddrinfo æ–¹æ³•ã€ä¹Ÿå°±æ˜¯ç”±è¿œç«¯æœåŠ¡å™¨çš„æ“ä½œç³»ç»Ÿè´Ÿè´£ DNS  è¿™ä¸€æ¬¡ï¼Œä¸è®ºæ˜¯ä»£ç†å®¢æˆ·ç«¯è¿˜æ˜¯ä½ çš„æµè§ˆå™¨éƒ½æ²¡æœ‰è¿›è¡Œ DNS è§£æï¼ŒDNS è§£ææ˜¯åœ¨è¿œç«¯æœåŠ¡å™¨ä¸Šè¿›è¡Œçš„ã€‚å› ä¸º æŸç§åè®® æ”¯æŒå°è£…åŸŸåï¼Œç„¶åè¿™ä¸€æ¬¡å’Œ blog.skk.moe è¿æ¥çš„æ˜¯è¿œç«¯æœåŠ¡å™¨ï¼Œè€ƒè™‘åˆ°é’ˆå¯¹ CDN ä¼˜åŒ–ï¼ŒDNS è§£æè‡ªç„¶éœ€è¦åœ¨è¿œç«¯æœåŠ¡å™¨ä¸Šæ‰§è¡Œã€‚\nç°åœ¨æˆ‘å·²ç»ä»‹ç»äº†é€šè¿‡ä»£ç†ç›´è¿å’Œé€šè¿‡ä»£ç†å‘é€ç»™è¿œç«¯æœåŠ¡å™¨äº†ã€‚ä½†æ˜¯æ¯«æ— ç–‘é—®ï¼Œæˆ‘ç›¸ä¿¡æœ¬æ–‡æ‰€æœ‰çš„è¯»è€…è‡ªå·±ä½¿ç”¨çš„ä¸Šç½‘æ–¹å¼éƒ½ä¸ä¼šæ˜¯å…¨é¢ç›´è¿æˆ–è€…å…¨é¢ä»£ç†ã€‚è¿™å°±æ˜¯æ¥ä¸‹æ¥è¦è®²çš„ï¼š\nè®¾ç½®ä»£ç†å¹¶ä½¿ç”¨ IP è§„åˆ™å’ŒåŸŸåè§„åˆ™è¿›è¡Œåˆ†æµ åˆ†æµæ˜¯ä¸€ä¸ªéº»çƒ¦äº‹ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œä½ å¯èƒ½ä¼šéœ€è¦ä½¿ç”¨åŸŸåè¿›è¡Œåˆ†æµï¼ˆä¸è®ºæ˜¯ç™½åå•è¿˜æ˜¯é»‘åå•ï¼‰ã€‚ä¸è¿‡æ›´å¤šæƒ…å†µä¸‹ä½ ä¼šä½¿ç”¨åˆ°åŸºäº IP çš„è§„åˆ™æ¥è¿›è¡Œåˆ†æµã€‚\nå…ˆæ¥çœ‹ç¬¬ä¸€ä¸ªä¾‹å­ï¼šä½¿ç”¨åŸŸåè§„åˆ™è¿›è¡Œåˆ†æµã€‚\n æµè§ˆå™¨å°†å¸¦æœ‰åŸŸå blog.skk.moe çš„ HTTPS è¯·æ±‚å°è£…åœ¨ SOCKS5 æµé‡ä¹‹ä¸­å‘å¾€ä»£ç†å®¢æˆ·ç«¯ ä»£ç†å®¢æˆ·ç«¯ä» SOCKS5 æµé‡ä¸­æŠ½å–å‡ºåŸŸå blog.skk.moe ä»£ç†å®¢æˆ·ç«¯å¼€å§‹å°†blog.skk.moe å’ŒåŸŸåè§„åˆ™åˆ—è¡¨å¼€å§‹æ¯”è¾ƒã€‚è¿™ä¸ªåˆ—è¡¨å¯ä»¥æ˜¯ç™½åå•æˆ–é»‘åå•ï¼ŒåŸŸåå¯èƒ½ä¹Ÿæ²¡æœ‰åŒ¹é…ä¸Šã€‚åæ­£æœ€ç»ˆæ¯”è¾ƒå¾—å‡ºçš„ç»“æœå°±æ˜¯ blog.skk.moe æ˜¯å¦éœ€è¦èµ°ä»£ç†ã€‚ å¦‚æœä¸éœ€è¦èµ°ä»£ç†ï¼Œä»£ç†å®¢æˆ·ç«¯å‰©ä¸‹ä¼šåšçš„äº‹æƒ…å’Œæœ¬æ–‡ç¬¬äºŒéƒ¨åˆ†ã€Œè®¾ç½®ä»£ç†å¹¶ä½¿ç”¨ç›´è¿ã€å°±å®Œå…¨ä¸€æ ·äº†ï¼›åŒç†ï¼Œéœ€è¦èµ°ä»£ç†çš„è¯å°±éœ€è¦è¿›è¡Œæœ¬æ–‡ç¬¬ä¸‰éƒ¨åˆ†çš„é‚£ä¸ªæµç¨‹  ä½¿ç”¨åŸŸåè§„åˆ™åˆ†æµå¾ˆç®€å•ï¼Œé™¤é blog.skk.moe æœ€ç»ˆæ˜¯ç›´è¿ï¼Œå¦åˆ™ä»£ç†å®¢æˆ·ç«¯ä¸éœ€è¦è¿›è¡Œ DNS è§£æã€‚\nç°åœ¨æ¥çœ‹ç¬¬äºŒä¸ªä¾‹å­ï¼šä½¿ç”¨ IP è§„åˆ™åˆ†æµã€‚\n æµè§ˆå™¨å°†å¸¦æœ‰åŸŸå blog.skk.moe çš„ HTTPS è¯·æ±‚å°è£…åœ¨ SOCKS5 æµé‡ä¹‹ä¸­å‘å¾€ä»£ç†å®¢æˆ·ç«¯ ä»£ç†å®¢æˆ·ç«¯ä» SOCKS5 æµé‡ä¸­æŠ½å–å‡ºåŸŸå blog.skk.moe ä»£ç†å®¢æˆ·ç«¯å¾—åˆ° blog.skk.moe çš„è§£æç»“æœ ä»£ç†å®¢æˆ·ç«¯å¼€å§‹å°†blog.skk.moe çš„è§£æç»“æœå’Œ IP è§„åˆ™åˆ—è¡¨å¼€å§‹æ¯”è¾ƒã€‚è¿™ä¸ªåˆ—è¡¨å¯ä»¥æ˜¯ cnlist æˆ–è€… MaxMind IP æ•°æ®åº“ã€‚åæ­£æœ€ç»ˆå¾—å‡ºçš„ç»“æœå°±æ˜¯ blog.skk.moe è§£æç»“æœçš„ IP æ˜¯å¦éœ€è¦èµ°ä»£ç†ã€‚ å¦‚æœä¸éœ€è¦èµ°ä»£ç†ï¼Œä»£ç†å®¢æˆ·ç«¯å‰©ä¸‹ä¼šåšçš„äº‹æƒ…å’Œæœ¬æ–‡ç¬¬äºŒéƒ¨åˆ†ã€Œè®¾ç½®ä»£ç†å¹¶ä½¿ç”¨ç›´è¿ã€å°±å®Œå…¨ä¸€æ ·äº†ï¼›åŒç†ï¼Œéœ€è¦èµ°ä»£ç†çš„è¯å°±éœ€è¦è¿›è¡Œæœ¬æ–‡ç¬¬ä¸‰éƒ¨åˆ†çš„é‚£ä¸ªæµç¨‹ã€‚  ä½¿ç”¨ IP è§„åˆ™åˆ†æµï¼Œå‰æé¦–å…ˆä½ å¾—æœ‰ä¸€ä¸ª IP æ‹¿æ¥æ¯”è¾ƒã€‚æ‰€ä»¥ä»£ç†å®¢æˆ·ç«¯å¿…é¡»å…ˆè¿›è¡Œä¸€æ¬¡ DNS è§£æã€‚ä½¿ç”¨ä»€ä¹ˆæ–¹æ³•è¿›è¡Œ DNS è§£æå¹¶ä¸é‡è¦ï¼Œä¹‹å‰å·²ç»è¯´è¿‡ä»£ç†å®¢æˆ·ç«¯ç”šè‡³å¯ä»¥ä½¿ç”¨è‡ªå·±çš„é»‘é­”æ³•ï¼Œè€Œæˆ‘ä»¬åªéœ€è¦å…³å¿ƒæœ€ç»ˆä»£ç†å®¢æˆ·ç«¯æ‹¿åˆ°äº†ä¸€ä¸ª IP å¹¶ä¸”å¯ä»¥ç”¨äºè§„åˆ™åˆ¤å®šã€‚\næ­¤æ—¶éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè™½ç„¶ä»£ç†å®¢æˆ·ç«¯è·å¾—äº†ä¸€ä¸ª IPï¼Œä½†æ˜¯ä½ åªæœ‰åœ¨ç›´è¿çš„æ—¶å€™ï¼Œä»£ç†å®¢æˆ·ç«¯å¯èƒ½ï¼ˆå¹¶ä¸”åŸºæœ¬ä¸Šéƒ½ä¼šï¼‰å¤ç”¨è¿™ä¸ª IPï¼›å¦‚æœæ˜¯å°†æµé‡äº¤ç»™è¿œç¨‹æœåŠ¡å™¨ï¼Œç”±äº æŸç§åè®® æ”¯æŒå°è£…åŸŸåï¼Œå› æ­¤è¿œç¨‹æœåŠ¡å™¨æ‹¿åˆ°çš„è¿˜æ˜¯åŸŸåä¸æ˜¯ IPã€è¿˜éœ€è¦è¿›è¡Œä¸€æ¬¡è§£æã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿œç«¯æœåŠ¡å™¨è¿æ¥çš„ IP ä¸ ä»£ç†å®¢æˆ·ç«¯è§£æå¾—åˆ°çš„ IP æ¯«æ— å…³ç³»ã€‚\nä½¿ç”¨ redir / tun2socks å®ç°å…¨å±€æµé‡ç»è¿‡ä»£ç† åœ¨å¼€å§‹ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå¤ä¹ ä¸€ä¸‹ TCP/IP åè®®æ€ä¹ˆè¯´çš„â€”â€”ã€Œåœ¨åº”ç”¨å‘èµ· TCP è¿æ¥æ—¶ï¼Œä¼šå…ˆå‘å‡ºä¸€ä¸ª DNS questionï¼ˆå‘ä¸€ä¸ª IP Packetï¼‰ï¼Œè·å–è¦è¿æ¥çš„æœåŠ¡å™¨çš„ IP åœ°å€ï¼Œç„¶åç›´æ¥å‘è¿™ä¸ª IP åœ°å€å‘èµ·è¿æ¥ã€\nå…¨å±€æµé‡ä»£ç†å¯èƒ½ä¼šå‡ºç°åœ¨è·¯ç”±å™¨ä¸Šæˆ–è€… TUN/TAP å‹çš„æ”¯æŒå…¨å±€ä»£ç†å®¢æˆ·ç«¯ä¸Šã€‚ç”¨æˆ·ä¸å†ä¸»åŠ¨ä¸ºæ¯ä¸ªåº”ç”¨ç¨‹åºè®¾ç½®ä»£ç†ã€‚æ­¤æ—¶åº”ç”¨ç¨‹åºæ˜¯ä¸ä¼šæ„ŸçŸ¥åˆ°ä»£ç†å®¢æˆ·ç«¯çš„å­˜åœ¨ï¼Œå®ƒä»¬ä¼šæ­£å¸¸çš„å‘èµ· TCP è¿æ¥ï¼Œå¹¶ä¸”ç”±äº TCP/IP åè®®ï¼Œåœ¨æ‹¿åˆ° DNS è§£æç»“æœä¹‹å‰ï¼Œè¿æ¥æ˜¯ä¸èƒ½å»ºç«‹çš„ã€‚\n æµè§ˆå™¨è‡ªå·±éƒ½æœ‰ DNS ç¼“å­˜æœºåˆ¶ï¼Œå› æ­¤æµè§ˆå™¨ä¼šå…ˆå¼€å§‹å¯»æ‰¾è‡ªå·±çš„ç¼“å­˜ï¼Œä¸è¿‡æ²¡æœ‰æ‰¾åˆ° blog.skk.moe çš„è§£æç»“æœ æµè§ˆå™¨é€šè¿‡è°ƒç”¨æ“ä½œç³»ç»Ÿçš„ getaddrinfo æ–¹æ³•ï¼Œå‘æ“ä½œç³»ç»Ÿå¯»æ±‚è§£æç»“æœ æ“ä½œç³»ç»Ÿè‡ªå·±ä¹Ÿæœ‰ä¸€å±‚ DNS ç¼“å­˜ï¼Œä½†æ˜¯ç°åœ¨æ“ä½œç³»ç»Ÿä»è‡ªå·±çš„ç¼“å­˜ä¸­ä¾ç„¶æ‰¾ä¸åˆ°è¿™ä¸€ç»“æœ åœ¨ç³»ç»Ÿçš„ç½‘ç»œè®¾ç½®ä¹‹ä¸­æœ‰è®¾ç½®ä¸Šæ¸¸ DNS åœ°å€ã€‚ä»£ç†å®¢æˆ·ç«¯å¯èƒ½ä¼šä¿®æ”¹ç³»ç»Ÿè®¾ç½®ä¸­çš„ DNS åˆ° 127.0.0.1 æˆ–è€…åˆ«çš„ IPã€ä¹Ÿå¯èƒ½ä¿ç•™ç”¨æˆ·ä¹‹å‰çš„è®¾ç½®ï¼Œè¿™æ— æ‰€è°“ï¼Œå› ä¸º\u0026hellip; æ“ä½œç³»ç»Ÿå‘å‡ºçš„ DNS è§£æè¯·æ±‚ä¼šç»è¿‡ä»£ç†å®¢æˆ·ç«¯å¹¶æœ€ç»ˆè¢«æˆªè· ä»£ç†å®¢æˆ·ç«¯å¯ä»¥å°†è¿™ä¸ªè§£æè¯·æ±‚åŸæ ·å‘å‡ºå»ã€æˆ–è€…ç”¨è‡ªå·±çš„é»‘é­”æ³•ï¼Œæ€»ä¹‹ä»£ç†å®¢æˆ·ç«¯éƒ½ä¼šæ‹¿åˆ°ä¸€ä¸ªè§£æç»“æœ ä»£ç†å®¢æˆ·ç«¯å°†è¿™ä¸ªè§£æç»“æœè¿”å›å›å»ï¼Œæ“ä½œç³»ç»Ÿæ‹¿åˆ°äº†è¿™ä¸ªè§£æç»“æœå¹¶è¿”å›ç»™æµè§ˆå™¨ æµè§ˆå™¨å¯¹è¿™ä¸ªè§£æç»“æœçš„ IP å»ºç«‹ä¸€ä¸ª TCP è¿æ¥å¹¶å‘é€å‡ºå» è¿™ä¸ª TCP è¿æ¥è¢«ä»£ç†å®¢æˆ·ç«¯æˆªè·ã€‚ç”±äºä¹‹å‰ä»£ç†å®¢æˆ·ç«¯è¿›è¡Œçš„ DNS è§£æè¯·æ±‚è¿™ä¸€åŠ¨ä½œï¼Œä»£ç†å®¢æˆ·ç«¯å¯ä»¥æ‰¾åˆ°è¿™ä¸ªåªåŒ…å«ç›®æ ‡ IP çš„ TCP è¿æ¥åŸæ¥çš„ç›®æ ‡åŸŸå å¦‚æœæ˜¯æ”¯æŒ redir çš„ä»£ç†å®¢æˆ·ç«¯ï¼Œé‚£ä¹ˆä»£ç†å®¢æˆ·ç«¯å°±ä¼šç›´æ¥å°†åŸŸåå’Œ TCP è¿æ¥ä¸­çš„å…¶å®ƒæ•°æ®å°è£…æˆ æŸç§åè®® å‘ç»™è¿œç«¯æœåŠ¡å™¨ï¼›æˆ–è€…å°è£…æˆ SOCKS5 åäº¤ç»™æ”¯æŒ SOCKS5 çš„ä»£ç†å®¢æˆ·ç«¯  å¦‚æœä»£ç†å®¢æˆ·ç«¯éœ€è¦æŒ‰ç…§åŸŸåè¿›è¡Œåˆ†æµï¼Œä¸€èˆ¬ä¼šåœ¨ç¬¬ 6 æ­¥ä»£ç†å®¢æˆ·ç«¯è§£æå‡ºä¸€ä¸ª IP æˆ–è€…ç¬¬ 9 æ­¥ä»£ç†å®¢æˆ·ç«¯æ‹¿åˆ°åŸŸåä»¥åã€‚FancySSã€KoolSSã€SSTap çš„æµç¨‹å¤§æŠµéƒ½æ˜¯å¦‚æ­¤ã€‚\nå’Œåº”ç”¨ç¨‹åºç›´æ¥å°†æµé‡å°è£…æˆ SOCKS5 å¤§æœ‰ä¸åŒï¼Œåœ¨ç±»ä¼¼äºé€æ˜ä»£ç†çš„ç¯å¢ƒä¸‹æµè§ˆå™¨å’Œå…¶å®ƒåº”ç”¨ç¨‹åºæ˜¯æ­£å¸¸åœ°å‘èµ· TCP è¿æ¥ã€‚å› æ­¤é™¤éå¾—åˆ°ä¸€ä¸ª DNS è§£æç»“æœï¼Œå¦åˆ™ TCP è¿æ¥ä¸ä¼šå»ºç«‹ï¼›ä»£ç†å®¢æˆ·ç«¯ä¹Ÿä¼šéœ€è¦é€šè¿‡è¿™ä¸ª DNS æŸ¥è¯¢åŠ¨ä½œï¼Œæ‰èƒ½æ‰¾åˆ°ä¹‹åçš„ TCP è¿æ¥çš„åŸŸåã€‚ ä½ å¤§æ¦‚èƒ½å¤Ÿå‘ç°ï¼Œæµè§ˆå™¨ã€åº”ç”¨ç¨‹åºç›´æ¥è®¾ç½® SOCKS5 ä»£ç†çš„è¯ï¼Œå¯ä»¥ä¸åœ¨ä»£ç†å®¢æˆ·ç«¯å‘èµ· DNS è§£æè¯·æ±‚å°±èƒ½å°†æµé‡å‘é€ç»™è¿œç«¯æœåŠ¡å™¨ï¼›è€Œåœ¨é€æ˜ä»£ç†æ¨¡å¼ä¸‹ï¼Œä¸è®ºæ˜¯å¦éœ€è¦ IP è§„åˆ™åˆ†æµéƒ½éœ€è¦å…ˆè¿›è¡Œä¸€æ¬¡ DNS è§£ææ‰èƒ½å»ºç«‹è¿æ¥ã€‚\næœ‰æ²¡æœ‰åŠæ³•èƒ½åƒç›´æ¥è®¾ç½® SOCKS5 ä»£ç†ä¸€æ ·çœæ‰ä¸€æ¬¡ DNS è§£æå‘¢ï¼Ÿæœ‰ï¼Œå°±æ˜¯ä»£ç†å®¢æˆ·ç«¯è‡ªå·±ä¸å…ˆæ‰§è¡ŒæŸ¥è¯¢åŠ¨ä½œï¼Œä¸¢ä¸€ä¸ª Fake IP å›å»è®©æµè§ˆå™¨ã€åº”ç”¨ç¨‹åºç«‹åˆ»å»ºç«‹ TCP è¿æ¥ï¼š\nåœ¨ redir / tun2socks ä¸­ä½¿ç”¨ Fake IP Fake IP çš„å®šä¹‰å‡ºè‡ª RFC3089ã€‚è¿™ä¸ª RFC å®šä¹‰äº†ä¸€ç§æ–°çš„å°† TCP è¿æ¥å°è£…æˆ SOCKS åè®®çš„æ–¹æ³•ã€‚\n æµè§ˆå™¨è‡ªå·±éƒ½æœ‰ DNS ç¼“å­˜æœºåˆ¶ï¼Œå› æ­¤æµè§ˆå™¨ä¼šå…ˆå¼€å§‹å¯»æ‰¾è‡ªå·±çš„ç¼“å­˜ï¼Œä¸è¿‡å¹¶æ²¡æœ‰æ‰¾åˆ° blog.skk.moe çš„è§£æç»“æœ æµè§ˆå™¨é€šè¿‡è°ƒç”¨æ“ä½œç³»ç»Ÿçš„ getaddrinfo æ–¹æ³•ï¼Œå‘æ“ä½œç³»ç»Ÿå¯»æ±‚è§£æç»“æœ æ“ä½œç³»ç»Ÿè‡ªå·±ä¹Ÿæœ‰ä¸€å±‚ DNS ç¼“å­˜ï¼Œä½†æ˜¯ç°åœ¨æ“ä½œç³»ç»Ÿä»è‡ªå·±çš„ç¼“å­˜ä¸­ä¾ç„¶æ‰¾ä¸åˆ°è¿™ä¸€ç»“æœ åœ¨ç³»ç»Ÿçš„ç½‘ç»œè®¾ç½®ä¹‹ä¸­è®¾ç½®äº†ä¸€ä¸ªä¸“é—¨çš„ä¸Šæ¸¸ DNS åœ°å€ï¼Œå¯èƒ½æ˜¯ç”¨æˆ·æ‰‹åŠ¨è®¾ç½®çš„ä¹Ÿå¯èƒ½æ˜¯ä»£ç†å®¢æˆ·ç«¯è®¾ç½®çš„ã€‚ä¸è®ºå¦‚ä½•ï¼Œè¿™ä¸ªè®¾ç½®æœ€ç»ˆä¼šä½¿æ“ä½œç³»ç»Ÿå‘ä»£ç†å®¢æˆ·ç«¯å‘èµ· DNS è¯·æ±‚ æ“ä½œç³»ç»Ÿå‘å‡ºçš„ DNS è§£æè¯·æ±‚ä¼šç»è¿‡ä»£ç†å®¢æˆ·ç«¯å¹¶æœ€ç»ˆè¢«æˆªè· ä»£ç†å®¢æˆ·ç«¯ä»è§£æè¯·æ±‚ä¸­è·å¾—åŸŸåï¼Œä» Fake IP æ± ä¸­é€‰å–ä¸€ä¸ª IP å»ºç«‹æ˜ å°„ ä»£ç†å®¢æˆ·ç«¯å°†è¿™ä¸ª Fake IP è¿”å›å›å»ï¼Œæ“ä½œç³»ç»Ÿæ‹¿åˆ°äº†è¿™ä¸ª Fake IP å¹¶è¿”å›ç»™æµè§ˆå™¨ æµè§ˆå™¨å¯¹ Fake IP å»ºç«‹ä¸€ä¸ª TCP è¿æ¥å¹¶å‘é€å‡ºå» è¿™ä¸ª TCP è¿æ¥è¢«ä»£ç†å®¢æˆ·ç«¯æˆªè·ã€‚ä»£ç†å®¢æˆ·ç«¯æŠ½å–å‡º Fake IP å¹¶åæŸ¥å‡ºè¿™ä¸ª TCP è¿æ¥ä¸­å¯¹åº”çš„åŸŸå æœ‰äº† TCP è¿æ¥å’ŒåŸŸåï¼Œä»£ç†å®¢æˆ·ç«¯å¯ä»¥è½»æ˜“åœ°å°†å…¶ä½¿ç”¨ SOSCKS5 æˆ–è€… æŸç§åè®® è¿›è¡Œå°è£…  æœ‰äº† Fake IPï¼Œä»£ç†å®¢æˆ·ç«¯æ— éœ€è¿›è¡Œ DNS è§£æã€‚æœ€åä¸è®ºæ˜¯æµè§ˆå™¨ã€ä»£ç†å®¢æˆ·ç«¯è¿˜æ˜¯è¿œç«¯æœåŠ¡å™¨éƒ½ä¸ä¼šå»å’Œ Fake IP è¿›è¡Œè¿æ¥ï¼Œå› ä¸ºåœ¨ä»£ç†å®¢æˆ·ç«¯è¿™é‡Œå°±å·²ç»å®Œæˆäº†æˆªè·ã€é‡æ–°å°è£…ã€‚\nå³ä½¿æŒ‰ç…§åŸŸåè§„åˆ™åˆ†æµï¼Œä»£ç†å®¢æˆ·ç«¯éƒ½æ²¡æœ‰è¿›è¡Œ DNS è§£æçš„éœ€è¦ã€‚åªæœ‰åœ¨é‡åˆ°äº†æŒ‰ç…§ IP è¿›è¡Œåˆ†æµçš„è§„åˆ™æ—¶ï¼Œä»£ç†å®¢æˆ·ç«¯æ‰éœ€è¦è¿›è¡Œä¸€æ¬¡è§£ææ‹¿åˆ°ä¸€ä¸ª IP ç”¨äºåˆ¤æ–­ã€‚å³ä¾¿å¦‚æ­¤ï¼Œè¿™ä¸ª IP åªç”¨äºåˆ†æµè§„åˆ™çš„åŒ¹é…ï¼Œä¸ä¼šè¢«ç”¨äºå®é™…çš„è¿æ¥ã€‚\nFancySS å’Œ Surge / Clash çš„åŒºåˆ« FancySS æ˜¯ä½¿ç”¨çš„ redirï¼ŒSurge çš„å¢å¼ºæ¨¡å¼ä½¿ç”¨çš„æ˜¯ Fake IPï¼ŒClash çš„å¢å¼ºæ¨¡å¼æ—¢æœ‰ redir-host ä¹Ÿæœ‰ Fake IPã€‚é¦–å…ˆæŠŠ FancySS ç­‰è·¯ç”±å™¨ä¸Šå¸¸è§çš„ä»£ç†å®¢æˆ·ç«¯å’Œ Clash çš„ redir-host åˆ†ä¸ºä¸€ç±»ï¼ŒSurge çš„å¢å¼ºæ¨¡å¼å’Œ Clash çš„ fake-ip æ¨¡å¼åˆ†ä¸ºå¦ä¸€ç±»ã€‚\nè·¯ç”±å™¨ä¸Šå¸¸è§çš„ä»£ç†å®¢æˆ·ç«¯ä¸€èˆ¬å†…ç½®äº† dns2socksã€dnscryp-proxyã€PCap_DNSProxy ç­‰ç­‰ DNS æ–¹æ¡ˆã€ä¹Ÿæ”¯æŒæŒ‰ç…§ä¸€å®šçš„è§„åˆ™è¿›è¡Œåˆ†æµï¼Œä½†æ˜¯éƒ½æ˜¯ç”¨äºç­”å¤åº”ç”¨ç¨‹åºçš„ DNS question ä½¿å…¶å»ºç«‹ TCP è¿æ¥çš„ï¼Œé™¤éç›´è¿ï¼Œå¦åˆ™é€šè¿‡è¿™äº› DNS æ–¹æ¡ˆæ‹¿åˆ°çš„è§£æç»“æœçš„ IP å¹¶ä¸ä¼šè¢«ç”¨ä¸Šã€‚ å¤§éƒ¨åˆ†è·¯ç”±å™¨ä¸Šçš„ä»£ç†å®¢æˆ·ç«¯ï¼ŒDNS è§£æè¯·æ±‚éƒ½æ˜¯é€šè¿‡è·¯ç”±å™¨æœ¬æœºå‘å‡ºï¼ˆæˆ–è½¬å‘åˆ°å•ä¸€è¿œç«¯æœåŠ¡å™¨è¿›è¡Œè§£æï¼‰ï¼Œå› æ­¤è§£æç»“æœåªèƒ½è¯´ã€Œè‡³å°‘èƒ½ç”¨ã€ï¼ˆä¸ä¸€å®šæ˜¯æœ‰ CDN ä¼˜åŒ–çš„ï¼Œç”šè‡³æœ‰å¯èƒ½ä¼šæœ‰ DNS æ±¡æŸ“ï¼‰ï¼Œå¦‚æœæµé‡ä¸ç»è¿‡ä»£ç†å®¢æˆ·ç«¯ç›´æ¥å‘å¾€è¿™äº› IP åœ°å€ï¼Œä¸€èˆ¬ä¹Ÿä¸ä¼šå½±å“æµè§ˆå™¨ã€åº”ç”¨ç¨‹åºçš„æ­£å¸¸ä½¿ç”¨ã€‚å› æ­¤è·¯ç”±å™¨ä¸Šçš„ä»£ç†å®¢æˆ·ç«¯å¯ä»¥å®ç°é€šè¿‡ iptables æ§åˆ¶è®©æŸäº›ç«¯å£ã€æŸäº›è®¾å¤‡çš„æµé‡ä¸ç»è¿‡ä»£ç†å®¢æˆ·ç«¯ã€‚ è€Œåœ¨ Fake IP æ¨¡å¼ä¸‹ï¼Œæµè§ˆå™¨ã€åº”ç”¨ç¨‹åºéƒ½æ˜¯å¯¹ Fake IP å‘èµ·è¿æ¥ï¼Œå¦‚æœæ²¡æœ‰ä»£ç†å®¢æˆ·ç«¯å¯¹è¿æ¥è¿›è¡Œé‡æ–°å°è½¬ï¼Œé‚£ä¹ˆè¿™éƒ¨åˆ†æµé‡å°±ä¸èƒ½è¢«å‘å¾€çœŸå®çš„ç›®çš„ IPï¼Œå› æ­¤æ‰€æœ‰æµé‡éƒ½å¿…é¡»ç»è¿‡ä»£ç†å®¢æˆ·ç«¯ï¼Œè€Œæ ¹æ®ç«¯å£ã€è®¾å¤‡çš„åˆ†æµå°±éœ€è¦ç”±ä»£ç†å®¢æˆ·ç«¯è‡ªå·±å®ç°ã€‚\nå¦‚æœæ“ä½œç³»ç»Ÿæˆ–è€…æµè§ˆå™¨ç¼“å­˜äº† DNS è§£æç»“æœ ä¹‹å‰çš„é€æ˜ä»£ç†çš„ä¸¤ä¸ªä¾‹å­ä¸­ï¼Œæˆ‘ä»¬éƒ½å‡å®šæµè§ˆå™¨å’Œæ“ä½œç³»ç»Ÿéƒ½æ²¡æœ‰ç¼“å­˜ DNS è§£æç»“æœã€‚ä½†æ˜¯ï¼Œå¦‚æœæ“ä½œç³»ç»Ÿæˆ–è€…åº”ç”¨ç¨‹åºç¼“å­˜äº† DNS è§£æç»“æœä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ\nå¦‚æœæ˜¯ä¸ä½¿ç”¨ Fake IP çš„ redir / tun2socks æƒ…å†µä¸‹ï¼Œç”±äºæ“ä½œç³»ç»Ÿã€æµè§ˆå™¨æˆ–è€…åº”ç”¨ç¨‹åºä¸­çš„ä»»ä½•ä¸€ä¸ªç¼“å­˜äº† DNS è§£æç»“æœï¼Œå› æ­¤ TCP è¿æ¥å¯ä»¥ç›´æ¥æ ¹æ®ç¼“å­˜çš„è§£æç»“æœçš„ IP å»ºç«‹ï¼Œä»£ç†å®¢æˆ·ç«¯å¹¶æ²¡æœ‰é¢„å…ˆæ”¶åˆ°å¯¹åº”çš„ DNS questionã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä»£ç†å®¢æˆ·ç«¯æœ‰å¯èƒ½ç›´æ¥å°†è¿™ä¸ªè¿æ¥è§†ä¸ºå’Œ IP è¿æ¥è€Œä¸æ˜¯å’ŒåŸŸåè¿æ¥ï¼Œæ ¹æ®åŸŸåè§„åˆ™çš„åˆ†æµå¯èƒ½å°±ä¼šå› æ­¤å¤±æ•ˆï¼Œä¸è¿‡æ ¹æ® IP åˆ†æµçš„è§„åˆ™æ²¡æœ‰å¤±æ•ˆã€‚ å¦‚æœä¸ºäº†é¿å…åŸŸååˆ†æµè§„åˆ™å¤±æ•ˆï¼Œä½ å¯ä»¥è®¾æ³•é˜»æ­¢æ“ä½œç³»ç»Ÿæˆ–è€…æµè§ˆå™¨ç¼“å­˜ DNS è§£æç»“æœï¼Œè¿™æ ·æ¯æ¬¡å»ºç«‹ TCP è¿æ¥ä¹‹å‰éƒ½ä¼šå‘é€ DNS question ä½¿ä»£ç†å®¢æˆ·ç«¯æ¢æµ‹åˆ°åŸŸåã€‚ä½†æ˜¯è¿™æ„å‘³ç€æ¯æ¬¡ TCP è¿æ¥å»ºç«‹éƒ½éœ€è¦ä»£ç†å®¢æˆ·ç«¯è¿›è¡Œä¸€æ¬¡ DNS è§£æè¯·æ±‚ï¼ˆå½“ç„¶ä»£ç†å®¢æˆ·ç«¯å¯ä»¥å¯¹ DNS è§£æè¿›è¡Œç¼“å­˜é¿å…å‡ºç°å»¶æ—¶æ¿€å¢ï¼‰ã€‚\nè€Œå¯¹äº Fake IP æ¨¡å¼æ¥è¯´ï¼Œç”±äºä»£ç†å®¢æˆ·ç«¯å†…å­˜å‚¨æœ‰ Fake IP å’ŒçœŸå®åŸŸåä¹‹é—´çš„æ˜ å°„è¡¨ï¼Œå› æ­¤å³ä½¿æ“ä½œç³»ç»Ÿæˆ–åº”ç”¨ç¨‹åºç¼“å­˜äº† Fake IPï¼Œåœ¨ä¹‹åçš„ TCP è¿æ¥ä¸­ï¼Œä»£ç†å®¢æˆ·ç«¯æ”¶åˆ°æµé‡åä¾ç„¶å¯ä»¥æŠ½å–å‡º Fake IP åæŸ¥å‡ºåŸŸåï¼Œå› æ­¤ä¸å— DNS ç¼“å­˜çš„å½±å“ã€‚\næˆ‘åœ¨è¿™é‡Œç•™å‡ ä¸ªé—®é¢˜ç»™å¤§å®¶æ€è€ƒä¸€ä¸‹ï¼š\n å¦‚æœä½¿ç”¨äº† Fake IPï¼Œä»£ç†å®¢æˆ·ç«¯ä¸è®ºåŸŸåæ˜¯å¦çœŸå®å­˜åœ¨éƒ½ä¼šè¿”å›ä¸€ä¸ª Fake IP ç»™æµè§ˆå™¨ï¼Œé‚£ä¹ˆæµè§ˆå™¨åœ¨è¯•å›¾è®¿é—®ä¸€ä¸ªä¸å­˜åœ¨çš„åŸŸåæ—¶ï¼Œé”™è¯¯ä¿¡æ¯åº”è¯¥æ˜¯ä»€ä¹ˆæ ·çš„ï¼Ÿä¼šä¸ä¼šå‡ºç° DNS è§£æå¤±è´¥çš„é”™è¯¯ä¿¡æ¯ï¼Ÿ å¦‚æœæ“ä½œç³»ç»Ÿæˆ–è€…æµè§ˆå™¨ç¼“å­˜äº† Fake IPï¼Œä½†æ˜¯ä»£ç†å®¢æˆ·ç«¯ä¸­ Fake IP å’ŒåŸŸåçš„æ˜ å°„è¡¨ä¸¢å¤±ä»¥åï¼Œä¼šå‡ºç°ä»€ä¹ˆçŠ¶å†µï¼Ÿå¯èƒ½ä¼šå‡ºç°ä»€ä¹ˆé”™è¯¯ä¿¡æ¯ï¼Ÿ  ç¬¬äºŒä¸ªé—®é¢˜å¾ˆæœ‰è¶£ã€‚å› ä¸ºå¦‚æœä½ æ‰¾åˆ°äº†ç¬¬äºŒä¸ªé—®é¢˜çš„ç­”æ¡ˆï¼Œä½ å°±ä¼šæ„è¯†åˆ° Clash åœ¨ Fake IP æ¨¡å¼ä¸‹å¶å‘çš„æ— æ³•ä¸Šç½‘çš„åŸå› äº†ã€‚\nå‚è€ƒèµ„æ–™  HTTP ä»£ç†åŸç†åŠå®ç°ï¼ˆä¸€ï¼‰ - æˆ‘çš„æ–‡ç« ä¸­ä¸¾å¾—éƒ½æ˜¯ SOCKS5 çš„ä¾‹å­ï¼Œå¦‚æœæƒ³äº†è§£ä¸€ä¸‹åœ¨ HTTP ä»£ç†ä¸­æµé‡æ˜¯å¦‚ä½•è¢«å°è£…çš„ï¼Œå¯ä»¥çœ‹çœ‹å±ˆå±ˆçš„è¿™ç¯‡åšå®¢ Surge åŸç†ä¸å®ç° - Surge å¼€å‘è€…å†™çš„ Surge æ—©æœŸç‰ˆæœ¬çš„å·¥ä½œåŸç†ï¼Œå¯ä»¥äº†è§£ä¸€ä¸‹ Surge æ˜¯æ€ä¹ˆå¤„ç†å„ç§åè®®çš„æµé‡çš„ æ¼«è°ˆå„ç§é»‘ç§‘æŠ€å¼ DNS æŠ€æœ¯åœ¨ä»£ç†ç¯å¢ƒä¸­çš„åº”ç”¨ - Kitsunebi å¼€å‘è€…å†™çš„æ–‡ç« ï¼Œè¯¦ç»†åœ°ä»‹ç»äº†åœ¨ä¸åŒçš„ V2Ray é…ç½®ä¸‹çš„ DNS è¡Œä¸ºï¼ŒåŒæ—¶è¿˜æœ‰å¯¹ç§»åŠ¨ç«¯ç½‘ç»œæ ˆçš„ä¸€äº›ä»‹ç»  WireGuard å®˜æ–¹æ–‡æ¡£ï¼šhttps://github.com/pirate/wireguard-docs\nWireGuard æ˜¯ç”± Jason Donenfeld ç­‰äººç”¨ C è¯­è¨€ç¼–å†™çš„ä¸€ä¸ªå¼€æº VPN åè®®ï¼Œè¢«è§†ä¸ºä¸‹ä¸€ä»£ VPN åè®®ï¼Œæ—¨åœ¨è§£å†³è®¸å¤šå›°æ‰° IPSec/IKEv2ã€OpenVPN æˆ– L2TP ç­‰å…¶ä»– VPN åè®®çš„é—®é¢˜ã€‚å®ƒä¸ Tinc å’Œ MeshBird ç­‰ç°ä»£ VPN äº§å“æœ‰ä¸€äº›ç›¸ä¼¼ä¹‹å¤„ï¼Œå³åŠ å¯†æŠ€æœ¯å…ˆè¿›ã€é…ç½®ç®€å•ã€‚ä» 2020 å¹´ 1 æœˆå¼€å§‹ï¼Œå®ƒå·²ç»å¹¶å…¥äº† Linux å†…æ ¸çš„ 5.6 ç‰ˆæœ¬ï¼Œè¿™æ„å‘³ç€å¤§å¤šæ•° Linux å‘è¡Œç‰ˆçš„ç”¨æˆ·å°†æ‹¥æœ‰ä¸€ä¸ªå¼€ç®±å³ç”¨çš„ WireGuardã€‚\næœ¯è¯­ Peer/Node/Device\nè¿æ¥åˆ° VPN å¹¶ä¸ºè‡ªå·±æ³¨å†Œä¸€ä¸ª VPN å­ç½‘åœ°å€ï¼ˆå¦‚ 192.0.2.3ï¼‰çš„ä¸»æœºã€‚è¿˜å¯ä»¥é€šè¿‡ä½¿ç”¨é€—å·åˆ†éš”çš„ CIDR æŒ‡å®šå­ç½‘èŒƒå›´ï¼Œä¸ºå…¶è‡ªèº«åœ°å€ä»¥å¤–çš„ IP åœ°å€é€‰æ‹©è·¯ç”±ã€‚\nä¸­ç»§æœåŠ¡å™¨ï¼ˆBounce Serverï¼‰\nä¸€ä¸ªå…¬ç½‘å¯è¾¾çš„å¯¹ç­‰èŠ‚ç‚¹ï¼Œå¯ä»¥å°†æµé‡ä¸­ç»§åˆ° NAT åé¢çš„å…¶ä»–å¯¹ç­‰èŠ‚ç‚¹ã€‚Bounce Server å¹¶ä¸æ˜¯ç‰¹æ®Šçš„èŠ‚ç‚¹ï¼Œå®ƒå’Œå…¶ä»–å¯¹ç­‰èŠ‚ç‚¹ä¸€æ ·ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯å®ƒæœ‰å…¬ç½‘ IPï¼Œå¹¶ä¸”å¼€å¯äº†å†…æ ¸çº§åˆ«çš„ IP è½¬å‘ï¼Œå¯ä»¥å°† VPN çš„æµé‡è½¬å‘åˆ°å…¶ä»–å®¢æˆ·ç«¯ã€‚\nå­ç½‘ï¼ˆSubnetï¼‰\nä¸€ç»„ç§æœ‰ IPï¼Œä¾‹å¦‚ 192.0.2.1-255 æˆ– 192.168.1.1/24ï¼Œä¸€èˆ¬åœ¨ NAT åé¢ï¼Œä¾‹å¦‚åŠå…¬å®¤å±€åŸŸç½‘æˆ–å®¶åº­ç½‘ç»œã€‚\nCIDR è¡¨ç¤ºæ³•\nCIDRä¸­æ–‡å…¨ç§°æ˜¯æ— åˆ†ç±»åŸŸé—´è·¯ç”±é€‰æ‹©ï¼Œè‹±æ–‡å…¨ç§°æ˜¯Classless Inter-Domain Routingï¼Œåœ¨å¹³å¸¸ï¼Œå¤§å®¶å¤šç§°ä¹‹ä¸ºæ— åˆ†ç±»ç¼–å€ï¼Œå®ƒä¹Ÿæ˜¯æ„æˆè¶…ç½‘çš„ä¸€ç§æŠ€æœ¯å®ç°ã€‚CIDRåœ¨ä¸€å®šç¨‹åº¦ä¸Šè§£å†³äº†è·¯ç”±è¡¨é¡¹ç›®è¿‡å¤šè¿‡å¤§çš„é—®é¢˜ã€‚CIDRä¹‹æ‰€ä»¥ç§°ä¸ºæ— åˆ†ç±»ç¼–å€ï¼Œå°±æ˜¯å› ä¸ºCIDRå®Œå…¨æ”¾å¼ƒäº†ä¹‹å‰çš„åˆ†ç±»IPåœ°å€è¡¨ç¤ºæ³•ï¼Œå®ƒçœŸæ­£æ¶ˆé™¤äº†ä¼ ç»Ÿçš„Aç±»ã€Bç±»ã€Cç±»åœ°å€ä»¥åŠåˆ’åˆ†å­ç½‘çš„æ¦‚å¿µï¼Œå®ƒä½¿ç”¨å¦‚ä¸‹çš„IPåœ°å€è¡¨ç¤ºæ³•ï¼š\nIPåœ°å€ ::= {\u0026lt;ç½‘ç»œå‰ç¼€\u0026gt;ï¼Œ \u0026lt;ä¸»æœºå·\u0026gt;} / ç½‘ç»œå‰ç¼€æ‰€å ä½æ•° CIDRä»…å°†IPåœ°å€åˆ’åˆ†ä¸ºç½‘ç»œå‰ç¼€å’Œä¸»æœºå·ä¸¤ä¸ªéƒ¨åˆ†ï¼Œå¯ä»¥è¯´åˆå›åˆ°äº†äºŒçº§IPåœ°å€çš„è¡¨ç¤ºï¼Œä¸è¿‡å¤§å®¶è¦æ³¨æ„ï¼Œæœ€åé¢ç”¨â€œ/â€æ–œçº¿åˆ†éš”ï¼Œåœ¨å…¶åå†™ä¸Šäº†ç½‘ç»œå‰ç¼€æ‰€å çš„ä½æ•°ï¼Œè¿™æ ·å°±ä¸éœ€è¦å‘ŠçŸ¥è·¯ç”±å™¨åœ°å€æ©ç ï¼Œä»…éœ€è¦é€šè¿‡ç½‘ç»œå‰ç¼€æ‰€å çš„ä½æ•°å°±å¯ä»¥å¾—åˆ°åœ°å€æ©ç ï¼Œä¸ºäº†ç»Ÿä¸€ï¼ŒCIDRä¸­çš„åœ°å€æ©ç ä¾ç„¶ç§°ä¸ºå­ç½‘æ©ç ã€‚\nNAT\nå­ç½‘çš„ç§æœ‰ IP åœ°å€ç”±è·¯ç”±å™¨æä¾›ï¼Œé€šè¿‡å…¬ç½‘æ— æ³•ç›´æ¥è®¿é—®ç§æœ‰å­ç½‘è®¾å¤‡ï¼Œéœ€è¦é€šè¿‡ NAT åšç½‘ç»œåœ°å€è½¬æ¢ã€‚è·¯ç”±å™¨ä¼šè·Ÿè¸ªå‘å‡ºçš„è¿æ¥ï¼Œå¹¶å°†å“åº”è½¬å‘åˆ°æ­£ç¡®çš„å†…éƒ¨ IPã€‚\nå…¬å¼€ç«¯ç‚¹ï¼ˆPublic Endpointï¼‰\nèŠ‚ç‚¹çš„å…¬ç½‘ IP åœ°å€:ç«¯å£ï¼Œä¾‹å¦‚ 123.124.125.126:1234ï¼Œæˆ–è€…ç›´æ¥ä½¿ç”¨åŸŸå some.domain.tld:1234ã€‚å¦‚æœå¯¹ç­‰èŠ‚ç‚¹ä¸åœ¨åŒä¸€å­ç½‘ä¸­ï¼Œé‚£ä¹ˆèŠ‚ç‚¹çš„å…¬å¼€ç«¯ç‚¹å¿…é¡»ä½¿ç”¨å…¬ç½‘ IP åœ°å€ã€‚\nç§é’¥ï¼ˆPrivate keyï¼‰\nå•ä¸ªèŠ‚ç‚¹çš„ WireGuard ç§é’¥ï¼Œç”Ÿæˆæ–¹æ³•æ˜¯ï¼šwg genkey \u0026gt; example.keyã€‚\nå…¬é’¥ï¼ˆPublic keyï¼‰\nå•ä¸ªèŠ‚ç‚¹çš„ WireGuard å…¬é’¥ï¼Œç”Ÿæˆæ–¹å¼ä¸ºï¼šwg pubkey \u0026lt; example.key \u0026gt; example.key.pubã€‚\nDNS\nåŸŸåæœåŠ¡å™¨ï¼Œç”¨äºå°†åŸŸåè§£æä¸º VPN å®¢æˆ·ç«¯çš„ IPï¼Œä¸è®© DNSè¯·æ±‚æ³„æ¼åˆ° VPN ä¹‹å¤–ã€‚\nå·¥ä½œåŸç† ä¸­ç»§æœåŠ¡å™¨å·¥ä½œåŸç†\nä¸­ç»§æœåŠ¡å™¨ï¼ˆBounce Serverï¼‰å’Œæ™®é€šçš„å¯¹ç­‰èŠ‚ç‚¹ä¸€æ ·ï¼Œå®ƒèƒ½å¤Ÿåœ¨ NAT åé¢çš„ VPN å®¢æˆ·ç«¯ä¹‹é—´å……å½“ä¸­ç»§æœåŠ¡å™¨ï¼Œå¯ä»¥å°†æ”¶åˆ°çš„ä»»ä½• VPN å­ç½‘æµé‡è½¬å‘åˆ°æ­£ç¡®çš„å¯¹ç­‰èŠ‚ç‚¹ã€‚äº‹å®ä¸Š WireGuard å¹¶ä¸å…³å¿ƒæµé‡æ˜¯å¦‚ä½•è½¬å‘çš„ï¼Œè¿™ä¸ªç”±ç³»ç»Ÿå†…æ ¸å’Œ iptables è§„åˆ™å¤„ç†ã€‚\nå¦‚æœæ‰€æœ‰çš„å¯¹ç­‰èŠ‚ç‚¹éƒ½æ˜¯å…¬ç½‘å¯è¾¾çš„ï¼Œåˆ™ä¸éœ€è¦è€ƒè™‘ä¸­ç»§æœåŠ¡å™¨ï¼Œåªæœ‰å½“æœ‰å¯¹ç­‰èŠ‚ç‚¹ä½äº NAT åé¢æ—¶æ‰éœ€è¦è€ƒè™‘ã€‚\n*åœ¨ WireGuard é‡Œï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯åŸºæœ¬æ˜¯å¹³ç­‰çš„ï¼Œå·®åˆ«åªæ˜¯è°ä¸»åŠ¨è¿æ¥è°è€Œå·²ã€‚*åŒæ–¹éƒ½ä¼šç›‘å¬ä¸€ä¸ª UDP ç«¯å£ï¼Œè°ä¸»åŠ¨è¿æ¥ï¼Œè°å°±æ˜¯å®¢æˆ·ç«¯ã€‚ä¸»åŠ¨è¿æ¥çš„å®¢æˆ·ç«¯éœ€è¦æŒ‡å®šå¯¹ç«¯çš„å…¬ç½‘åœ°å€å’Œç«¯å£ï¼Œè¢«åŠ¨è¿æ¥çš„æœåŠ¡ç«¯ä¸éœ€è¦æŒ‡å®šå…¶ä»–å¯¹ç­‰èŠ‚ç‚¹çš„åœ°å€å’Œç«¯å£ã€‚å¦‚æœå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½ä½äº NAT åé¢ï¼Œéœ€è¦åŠ ä¸€ä¸ªä¸­ç»§æœåŠ¡å™¨ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éƒ½æŒ‡å®šä¸­ç»§æœåŠ¡å™¨ä½œä¸ºå¯¹ç­‰èŠ‚ç‚¹ï¼Œå®ƒä»¬çš„é€šä¿¡æµé‡ä¼šå…ˆè¿›å…¥ä¸­ç»§æœåŠ¡å™¨ï¼Œç„¶åå†è½¬å‘åˆ°å¯¹ç«¯ã€‚\nWireGuard æ˜¯æ”¯æŒæ¼«æ¸¸çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼ŒåŒæ–¹ä¸ç®¡è°çš„åœ°å€å˜åŠ¨äº†ï¼ŒWireGuard åœ¨çœ‹åˆ°å¯¹æ–¹ä»æ–°åœ°å€è¯´è¯çš„æ—¶å€™ï¼Œå°±ä¼šè®°ä½å®ƒçš„æ–°åœ°å€ï¼ˆè·Ÿ mosh ä¸€æ ·ï¼Œä¸è¿‡æ˜¯åŒå‘çš„ï¼‰ã€‚æ‰€ä»¥åŒæ–¹è¦æ˜¯ä¸€ç›´ä¿æŒåœ¨çº¿ï¼Œå¹¶ä¸”é€šä¿¡è¶³å¤Ÿé¢‘ç¹çš„è¯ï¼ˆæ¯”å¦‚é…ç½® persistent-keepaliveï¼‰ï¼Œä¸¤è¾¹çš„ IP éƒ½ä¸å›ºå®šä¹Ÿä¸å½±å“çš„ã€‚\næµé‡è·¯ç”±\nåˆ©ç”¨ WireGuard å¯ä»¥ç»„å»ºéå¸¸å¤æ‚çš„ç½‘ç»œæ‹“æ‰‘ï¼Œè¿™é‡Œä¸»è¦ä»‹ç»å‡ ä¸ªå…¸å‹çš„æ‹“æ‰‘ï¼š\n ç«¯åˆ°ç«¯ç›´æ¥è¿æ¥  è¿™æ˜¯æœ€ç®€å•çš„æ‹“æ‰‘ï¼Œæ‰€æœ‰çš„èŠ‚ç‚¹è¦ä¹ˆåœ¨åŒä¸€ä¸ªå±€åŸŸç½‘ï¼Œè¦ä¹ˆç›´æ¥é€šè¿‡å…¬ç½‘è®¿é—®ï¼Œè¿™æ · WireGuard å¯ä»¥ç›´æ¥è¿æ¥åˆ°å¯¹ç«¯ï¼Œä¸éœ€è¦ä¸­ç»§è·³è½¬ã€‚\nä¸€ç«¯ä½äº NAT åé¢ï¼Œå¦ä¸€ç«¯ç›´æ¥é€šè¿‡å…¬ç½‘æš´éœ²  è¿™ç§æƒ…å†µä¸‹ï¼Œæœ€ç®€å•çš„æ–¹æ¡ˆæ˜¯ï¼šé€šè¿‡å…¬ç½‘æš´éœ²çš„ä¸€ç«¯ä½œä¸ºæœåŠ¡ç«¯ï¼Œå¦ä¸€ç«¯æŒ‡å®šæœåŠ¡ç«¯çš„å…¬ç½‘åœ°å€å’Œç«¯å£ï¼Œç„¶åé€šè¿‡ persistent-keepalive é€‰é¡¹ç»´æŒé•¿è¿æ¥ï¼Œè®© NAT è®°å¾—å¯¹åº”çš„æ˜ å°„å…³ç³»ã€‚\nä¸¤ç«¯éƒ½ä½äº NAT åé¢ï¼Œé€šè¿‡ä¸­ç»§æœåŠ¡å™¨è¿æ¥  å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå½“é€šä¿¡åŒæ–¹éƒ½åœ¨ NAT åé¢çš„æ—¶å€™ï¼ŒNAT ä¼šåšæºç«¯å£éšæœºåŒ–å¤„ç†ï¼Œç›´æ¥è¿æ¥å¯èƒ½æ¯”è¾ƒå›°éš¾ã€‚å¯ä»¥åŠ ä¸€ä¸ªä¸­ç»§æœåŠ¡å™¨ï¼Œé€šä¿¡åŒæ–¹éƒ½å°†ä¸­ç»§æœåŠ¡å™¨ä½œä¸ºå¯¹ç«¯ï¼Œç„¶åç»´æŒé•¿è¿æ¥ï¼Œæµé‡å°±ä¼šé€šè¿‡ä¸­ç»§æœåŠ¡å™¨è¿›è¡Œè½¬å‘ã€‚\nä¸¤ç«¯éƒ½ä½äº NAT åé¢ï¼Œé€šè¿‡ UDP NAT æ‰“æ´  ä¸Šé¢ä¹Ÿæåˆ°äº†ï¼Œå½“é€šä¿¡åŒæ–¹éƒ½åœ¨ NAT åé¢çš„æ—¶å€™ï¼Œç›´æ¥è¿æ¥ä¸å¤ªç°å®ï¼Œå› ä¸ºå¤§å¤šæ•° NAT è·¯ç”±å™¨å¯¹æºç«¯å£çš„éšæœºåŒ–ç›¸å½“ä¸¥æ ¼ï¼Œä¸å¯èƒ½æå‰ä¸ºåŒæ–¹åè°ƒä¸€ä¸ªå›ºå®šå¼€æ”¾çš„ç«¯å£ã€‚å¿…é¡»ä½¿ç”¨ä¸€ä¸ªä¿¡ä»¤æœåŠ¡å™¨ï¼ˆSTUNï¼‰ï¼Œå®ƒä¼šåœ¨ä¸­é—´æ²Ÿé€šåˆ†é…ç»™å¯¹æ–¹å“ªäº›éšæœºæºç«¯å£ã€‚é€šä¿¡åŒæ–¹éƒ½ä¼šå’Œå…¬å…±ä¿¡ä»¤æœåŠ¡å™¨è¿›è¡Œåˆå§‹è¿æ¥ï¼Œç„¶åå®ƒè®°å½•ä¸‹éšæœºçš„æºç«¯å£ï¼Œå¹¶å°†å…¶è¿”å›ç»™å®¢æˆ·ç«¯ã€‚è¿™å…¶å®å°±æ˜¯ç°ä»£ P2P ç½‘ç»œä¸­ WebRTC çš„å·¥ä½œåŸç†ã€‚æœ‰æ—¶å€™ï¼Œå³ä½¿æœ‰äº†ä¿¡ä»¤æœåŠ¡å™¨å’Œä¸¤ç«¯å·²çŸ¥çš„æºç«¯å£ï¼Œä¹Ÿæ— æ³•ç›´æ¥è¿æ¥ï¼Œå› ä¸º NAT è·¯ç”±å™¨ä¸¥æ ¼è§„å®šåªæ¥å—æ¥è‡ªåŸå§‹ç›®çš„åœ°å€ï¼ˆä¿¡ä»¤æœåŠ¡å™¨ï¼‰çš„æµé‡ï¼Œä¼šè¦æ±‚æ–°å¼€ä¸€ä¸ªéšæœºæºç«¯å£æ¥æ¥å—æ¥è‡ªå…¶ä»– IP çš„æµé‡ï¼ˆæ¯”å¦‚å…¶ä»–å®¢æˆ·ç«¯è¯•å›¾ä½¿ç”¨åŸæ¥çš„é€šä¿¡æºç«¯å£ï¼‰ã€‚è¿è¥å•†çº§åˆ«çš„ NAT å°±æ˜¯è¿™ä¹ˆå¹²çš„ï¼Œæ¯”å¦‚èœ‚çªç½‘ç»œå’Œä¸€äº›ä¼ä¸šç½‘ç»œï¼Œå®ƒä»¬ä¸“é—¨ç”¨è¿™ç§æ–¹æ³•æ¥é˜²æ­¢æ‰“æ´è¿æ¥ã€‚æ›´å¤šç»†èŠ‚è¯·å‚è€ƒä¸‹ä¸€éƒ¨åˆ†çš„ NAT åˆ° NAT è¿æ¥å®è·µçš„ç« èŠ‚ã€‚\nå¦‚æœæŸä¸€ç«¯åŒæ—¶è¿æ¥äº†å¤šä¸ªå¯¹ç«¯ï¼Œå½“å®ƒæƒ³è®¿é—®æŸä¸ª IP æ—¶ï¼Œå¦‚æœæœ‰å…·ä½“çš„è·¯ç”±å¯ç”¨ï¼Œåˆ™ä¼˜å…ˆä½¿ç”¨å…·ä½“çš„è·¯ç”±ï¼Œå¦åˆ™å°±ä¼šå°†æµé‡è½¬å‘åˆ°ä¸­ç»§æœåŠ¡å™¨ï¼Œç„¶åä¸­ç»§æœåŠ¡å™¨å†æ ¹æ®ç³»ç»Ÿè·¯ç”±è¡¨è¿›è¡Œè½¬å‘ã€‚ä½ å¯ä»¥é€šè¿‡æµ‹é‡ ping çš„æ—¶é—´æ¥è®¡ç®—æ¯ä¸€è·³çš„é•¿åº¦ï¼Œå¹¶é€šè¿‡æ£€æŸ¥å¯¹ç«¯çš„è¾“å‡ºï¼ˆwg show wg0ï¼‰æ¥æ‰¾åˆ° WireGuard å¯¹ä¸€ä¸ªç»™å®šåœ°å€çš„è·¯ç”±æ–¹å¼ã€‚\næŠ¥æ–‡æ ¼å¼\nWireGuard ä½¿ç”¨åŠ å¯†çš„ UDP æŠ¥æ–‡æ¥å°è£…æ‰€æœ‰çš„æ•°æ®ï¼ŒUDP ä¸ä¿è¯æ•°æ®åŒ…ä¸€å®šèƒ½é€è¾¾ï¼Œä¹Ÿä¸ä¿è¯æŒ‰é¡ºåºåˆ°è¾¾ï¼Œä½†éš§é“å†…çš„ TCP è¿æ¥å¯ä»¥ä¿è¯æ•°æ®æœ‰æ•ˆäº¤ä»˜ã€‚WireGuard çš„æŠ¥æ–‡æ ¼å¼å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\næ€§èƒ½\nWireGuard å£°ç§°å…¶æ€§èƒ½æ¯”å¤§å¤šæ•° VPN åè®®æ›´å¥½ï¼Œä½†è¿™ä¸ªäº‹æƒ…æœ‰å¾ˆå¤šäº‰è®®ï¼Œæ¯”å¦‚æŸäº›åŠ å¯†æ–¹å¼æ”¯æŒç¡¬ä»¶å±‚é¢çš„åŠ é€Ÿã€‚\nWireGuard ç›´æ¥åœ¨å†…æ ¸å±‚é¢å¤„ç†è·¯ç”±ï¼Œç›´æ¥ä½¿ç”¨ç³»ç»Ÿå†…æ ¸çš„åŠ å¯†æ¨¡å—æ¥åŠ å¯†æ•°æ®ï¼Œå’Œ Linux åŸæœ¬å†…ç½®çš„å¯†ç å­ç³»ç»Ÿå…±å­˜ï¼ŒåŸæœ‰çš„å­ç³»ç»Ÿèƒ½é€šè¿‡ API ä½¿ç”¨ WireGuard çš„ Zinc å¯†ç åº“ã€‚WireGuard ä½¿ç”¨ UDP åè®®ä¼ è¾“æ•°æ®ï¼Œåœ¨ä¸ä½¿ç”¨çš„æƒ…å†µä¸‹é»˜è®¤ä¸ä¼šä¼ è¾“ä»»ä½• UDP æ•°æ®åŒ…ï¼Œæ‰€ä»¥æ¯”å¸¸è§„ VPN çœç”µå¾ˆå¤šï¼Œå¯ä»¥åƒ 55 ä¸€æ ·ä¸€ç›´æŒ‚ç€ä½¿ç”¨ï¼Œé€Ÿåº¦ç›¸æ¯”å…¶ä»– VPN ä¹Ÿæ˜¯å‹å€’æ€§ä¼˜åŠ¿ã€‚\nå®‰å…¨æ¨¡å‹\nWireGuard ä½¿ç”¨ä»¥ä¸‹åŠ å¯†æŠ€æœ¯æ¥ä¿éšœæ•°æ®çš„å®‰å…¨ï¼š\n ä½¿ç”¨ ChaCha20 è¿›è¡Œå¯¹ç§°åŠ å¯†ï¼Œä½¿ç”¨ Poly1305 è¿›è¡Œæ•°æ®éªŒè¯ã€‚ åˆ©ç”¨ Curve25519 è¿›è¡Œå¯†é’¥äº¤æ¢ã€‚ ä½¿ç”¨ BLAKE2 ä½œä¸ºå“ˆå¸Œå‡½æ•°ã€‚ ä½¿ç”¨ HKDF è¿›è¡Œè§£å¯†ã€‚  WireGuard çš„åŠ å¯†æŠ€æœ¯æœ¬è´¨ä¸Šæ˜¯ Trevor Perrin çš„ Noise æ¡†æ¶çš„å®ä¾‹åŒ–ï¼Œå®ƒç®€å•é«˜æ•ˆï¼Œå…¶ä»–çš„ VPN éƒ½æ˜¯é€šè¿‡ä¸€ç³»åˆ—åå•†ã€æ¡æ‰‹å’Œå¤æ‚çš„çŠ¶æ€æœºæ¥ä¿éšœå®‰å…¨æ€§ã€‚WireGuard å°±ç›¸å½“äº VPN åè®®ä¸­çš„ qmailï¼Œä»£ç é‡æ¯”å…¶ä»– VPN åè®®å°‘äº†å¥½å‡ ä¸ªæ•°é‡çº§ã€‚\nå¯†é’¥ç®¡ç†\nWireGuard é€šè¿‡ä¸ºæ¯ä¸ªå¯¹ç­‰èŠ‚ç‚¹æä¾›ç®€å•çš„å…¬é’¥å’Œç§é’¥æ¥å®ç°åŒå‘è®¤è¯ï¼Œæ¯ä¸ªå¯¹ç­‰èŠ‚ç‚¹åœ¨è®¾ç½®é˜¶æ®µç”Ÿæˆå¯†é’¥ï¼Œä¸”åªåœ¨å¯¹ç­‰èŠ‚ç‚¹ä¹‹é—´å…±äº«å¯†é’¥ã€‚æ¯ä¸ªèŠ‚ç‚¹é™¤äº†å…¬é’¥å’Œç§é’¥ï¼Œä¸å†éœ€è¦å…¶ä»–è¯ä¹¦æˆ–é¢„å…±äº«å¯†é’¥ã€‚\nåœ¨æ›´å¤§è§„æ¨¡çš„éƒ¨ç½²ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ Ansible æˆ– Kubernetes Secrets ç­‰å•ç‹¬çš„æœåŠ¡æ¥å¤„ç†å¯†é’¥çš„ç”Ÿæˆã€åˆ†å‘å’Œé”€æ¯ã€‚\nå¦‚æœä½ ä¸æƒ³åœ¨ wg0.conf é…ç½®æ–‡ä»¶ä¸­ç›´æ¥ç¡¬ç¼–ç ï¼Œå¯ä»¥ä»æ–‡ä»¶æˆ–å‘½ä»¤ä¸­è¯»å–å¯†é’¥ï¼Œè¿™ä½¿å¾—é€šè¿‡ç¬¬ä¸‰æ–¹æœåŠ¡ç®¡ç†å¯†é’¥å˜å¾—æ›´åŠ å®¹æ˜“ï¼š\n[Interface] ... PostUp = wg set %i private-key /etc/wireguard/wg0.key \u0026lt;(cat /some/path/%i/privkey) ä»æŠ€æœ¯ä¸Šè®²ï¼Œå¤šä¸ªæœåŠ¡ç«¯ä¹‹é—´å¯ä»¥å…±äº«ç›¸åŒçš„ç§é’¥ï¼Œåªè¦å®¢æˆ·ç«¯ä¸ä½¿ç”¨ç›¸åŒçš„å¯†é’¥åŒæ—¶è¿æ¥åˆ°ä¸¤ä¸ªæœåŠ¡å™¨ã€‚ä½†æœ‰æ—¶å®¢æˆ·ç«¯ä¼šéœ€è¦åŒæ—¶è¿æ¥å¤šå°æœåŠ¡å™¨ï¼Œä¾‹å¦‚ï¼Œä½ å¯ä»¥ä½¿ç”¨ DNS è½®è¯¢æ¥å‡è¡¡ä¸¤å°æœåŠ¡å™¨ä¹‹é—´çš„è¿æ¥ï¼Œè¿™ä¸¤å°æœåŠ¡å™¨é…ç½®ç›¸åŒã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œæ¯ä¸ªå¯¹ç­‰èŠ‚ç‚¹éƒ½åº”è¯¥ä½¿ç”¨ç‹¬ç«‹çš„çš„å…¬é’¥å’Œç§é’¥ï¼Œè¿™æ ·æ¯ä¸ªå¯¹ç­‰èŠ‚ç‚¹éƒ½ä¸èƒ½è¯»å–åˆ°å¯¹æ–¹çš„æµé‡ï¼Œä¿éšœäº†å®‰å…¨æ€§ã€‚\næ­å»ºä½¿ç”¨ä¸é…ç½®è¯¦è§£ å¿«é€Ÿå¼€å§‹ å®‰è£…\n# Ubuntu â‰¥ 18.04 $ apt install wireguard åœ¨ä¸­ç»§æœåŠ¡å™¨ä¸Šå¼€å¯ IP åœ°å€è½¬å‘ï¼š\n$ echo \u0026#34;net.ipv4.ip_forward = 1\u0026#34; \u0026gt;\u0026gt; /etc/sysctl.conf $ echo \u0026#34;net.ipv4.conf.all.proxy_arp = 1\u0026#34; \u0026gt;\u0026gt; /etc/sysctl.conf $ sysctl -p /etc/sysctl.conf æ·»åŠ  iptables è§„åˆ™ï¼Œå…è®¸æœ¬æœºçš„ NAT è½¬æ¢ï¼š\n$ iptables -A INPUT -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT $ iptables -A FORWARD -m conntrack --ctstate RELATED,ESTABLISHED -j ACCEPT $ iptables -A FORWARD -i wg0 -o wg0 -m conntrack --ctstate NEW -j ACCEPT $ iptables -t nat -A POSTROUTING -s 192.0.2.0/24 -o eth0 -j MASQUERADE éœ€è¦æŠŠ eth0 æ”¹æˆä½ å®é™…ä½¿ç”¨çš„ç½‘å¡æ¥å£åç§°ã€‚\né…ç½®æ–‡ä»¶\né…ç½®æ–‡ä»¶å¯ä»¥æ”¾åœ¨ä»»ä½•è·¯å¾„ä¸‹ï¼Œä½†å¿…é¡»é€šè¿‡ç»å¯¹è·¯å¾„å¼•ç”¨ã€‚é»˜è®¤è·¯å¾„æ˜¯ /etc/wireguard/wg0.confã€‚\nç”Ÿæˆå¯†é’¥\n#ç”Ÿæˆç§é’¥ $ wg genkey \u0026gt; example.key # ç”Ÿæˆå…¬é’¥ $ wg pubkey \u0026lt; example.key \u0026gt; example.key.pub å¯åŠ¨ä¸åœæ­¢\n$ wg-quick up /full/path/to/wg0.conf $ wg-quick down /full/path/to/wg0.conf # å¯åŠ¨/åœæ­¢ VPN ç½‘ç»œæ¥å£ $ ip link set wg0 up $ ip link set wg0 down # æ³¨å†Œ/æ³¨é”€ VPN ç½‘ç»œæ¥å£ $ ip link add dev wg0 type wireguard $ ip link delete dev wg0 # æ³¨å†Œ/æ³¨é”€ æœ¬åœ° VPN åœ°å€ $ ip address add dev wg0 192.0.2.3/32 $ ip address delete dev wg0 192.0.2.3/32 # æ·»åŠ /åˆ é™¤ VPN è·¯ç”± $ ip route add 192.0.2.3/32 dev wg0 $ ip route delete 192.0.2.3/32 dev wg0 æŸ¥çœ‹ä¿¡æ¯\n# æŸ¥çœ‹ç³»ç»Ÿ VPN æ¥å£ä¿¡æ¯ $ ip link show wg0 # æŸ¥çœ‹ VPN æ¥å£è¯¦ç»†ä¿¡æ¯ $ wg show all $ wg show wg0 # æŸ¥çœ‹ VPN æ¥å£åœ°å€ $ ip address show wg0 è·¯ç”±\n# æŸ¥çœ‹ç³»ç»Ÿè·¯ç”±è¡¨ $ ip route show table main $ ip route show table local # è·å–åˆ°ç‰¹å®š IP çš„è·¯ç”± $ ip route get 192.0.2.3 ä¸€é”®å®‰è£…\nä¸€é”®å®‰è£…è¯·å‚è€ƒè¿™ä¸ªé¡¹ç›®ï¼šWireGuard installer\né…ç½®è¯¦è§£ WireGuard ä½¿ç”¨ INI è¯­æ³•ä½œä¸ºå…¶é…ç½®æ–‡ä»¶æ ¼å¼ã€‚é…ç½®æ–‡ä»¶å¯ä»¥æ”¾åœ¨ä»»ä½•è·¯å¾„ä¸‹ï¼Œä½†å¿…é¡»é€šè¿‡ç»å¯¹è·¯å¾„å¼•ç”¨ã€‚é»˜è®¤è·¯å¾„æ˜¯ /etc/wireguard/wg0.confã€‚\né…ç½®æ–‡ä»¶çš„å‘½åå½¢å¼å¿…é¡»ä¸º ${WireGuard æ¥å£çš„åç§°}.confã€‚é€šå¸¸æƒ…å†µä¸‹ WireGuard æ¥å£åç§°ä»¥ wg ä¸ºå‰ç¼€ï¼Œå¹¶ä» 0 å¼€å§‹ç¼–å·ï¼Œä½†ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–åç§°ï¼Œåªè¦ç¬¦åˆæ­£åˆ™è¡¨è¾¾å¼ ^[a-zA-Z0-9_=+.-]{1,15}$ å°±è¡Œã€‚\nä½ å¯ä»¥é€‰æ‹©ä½¿ç”¨ wg å‘½ä»¤æ¥æ‰‹åŠ¨é…ç½® VPNï¼Œä½†ä¸€èˆ¬å»ºè®®ä½¿ç”¨ wg-quickï¼Œå®ƒæä¾›äº†æ›´å¼ºå¤§å’Œç”¨æˆ·å‹å¥½çš„é…ç½®ä½“éªŒï¼Œå¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶æ¥ç®¡ç†é…ç½®ã€‚\nä¸‹é¢æ˜¯ä¸€ä¸ªé…ç½®æ–‡ä»¶ç¤ºä¾‹ï¼š\n[Interface] # Name = node1.example.tld Address = 192.0.2.3/32 ListenPort = 51820 PrivateKey = localPrivateKeyAbcAbcAbc= DNS = 1.1.1.1,8.8.8.8 Table = 12345 MTU = 1500 PreUp = /bin/example arg1 arg2 %i PostUp = /bin/example arg1 arg2 %i PreDown = /bin/example arg1 arg2 %i PostDown = /bin/example arg1 arg2 %i [Peer] # Name = node2-node.example.tld AllowedIPs = 192.0.2.1/24 Endpoint = node1.example.tld:51820 PublicKey = remotePublicKeyAbcAbcAbc= PersistentKeepalive = 25 [Interface]\nè¿™ä¸€èŠ‚å®šä¹‰æœ¬åœ° VPN é…ç½®ã€‚ä¾‹å¦‚ï¼š\næœ¬åœ°èŠ‚ç‚¹æ˜¯å®¢æˆ·ç«¯ï¼Œåªè·¯ç”±è‡ªèº«çš„æµé‡ï¼Œåªæš´éœ²ä¸€ä¸ª IPã€‚\n[Interface] # Name = phone.example-vpn.dev Address = 192.0.2.5/32 PrivateKey = \u0026lt;private key for phone.example-vpn.dev\u0026gt; æœ¬åœ°èŠ‚ç‚¹æ˜¯ä¸­ç»§æœåŠ¡å™¨ï¼Œå®ƒå¯ä»¥å°†æµé‡è½¬å‘åˆ°å…¶ä»–å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰ï¼Œå¹¶å…¬å¼€æ•´ä¸ª VPN å­ç½‘çš„è·¯ç”±ã€‚\n[Interface] # Name = public-server1.example-vpn.tld Address = 192.0.2.1/24 ListenPort = 51820 PrivateKey = \u0026lt;private key for public-server1.example-vpn.tld\u0026gt; DNS = 1.1.1.1  Name  è¿™æ˜¯ INI è¯­æ³•ä¸­çš„æ ‡å‡†æ³¨é‡Šï¼Œç”¨äºå±•ç¤ºè¯¥é…ç½®éƒ¨åˆ†å±äºå“ªä¸ªèŠ‚ç‚¹ã€‚è¿™éƒ¨åˆ†é…ç½®ä¼šè¢« WireGuard å®Œå…¨å¿½ç•¥ï¼Œå¯¹ VPN çš„è¡Œä¸ºæ²¡æœ‰ä»»ä½•å½±å“ã€‚\nAddress  å®šä¹‰æœ¬åœ°èŠ‚ç‚¹åº”è¯¥å¯¹å“ªä¸ªåœ°å€èŒƒå›´è¿›è¡Œè·¯ç”±ã€‚å¦‚æœæ˜¯å¸¸è§„çš„å®¢æˆ·ç«¯ï¼Œåˆ™å°†å…¶è®¾ç½®ä¸ºèŠ‚ç‚¹æœ¬èº«çš„å•ä¸ª IPï¼ˆä½¿ç”¨ CIDR æŒ‡å®šï¼Œä¾‹å¦‚ 192.0.2.3/32ï¼‰ï¼›å¦‚æœæ˜¯ä¸­ç»§æœåŠ¡å™¨ï¼Œåˆ™å°†å…¶è®¾ç½®ä¸ºå¯è·¯ç”±çš„å­ç½‘èŒƒå›´ã€‚\nä¾‹å¦‚ï¼š\n å¸¸è§„å®¢æˆ·ç«¯ï¼Œåªè·¯ç”±è‡ªèº«çš„æµé‡ï¼šAddress = 192.0.2.3/32 ä¸­ç»§æœåŠ¡å™¨ï¼Œå¯ä»¥å°†æµé‡è½¬å‘åˆ°å…¶ä»–å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰ï¼šAddress = 192.0.2.1/24 ä¹Ÿå¯ä»¥æŒ‡å®šå¤šä¸ªå­ç½‘æˆ– IPv6 å­ç½‘ï¼šAddress = 192.0.2.1/24,2001:DB8::/64  ListenPort  å½“æœ¬åœ°èŠ‚ç‚¹æ˜¯ä¸­ç»§æœåŠ¡å™¨æ—¶ï¼Œéœ€è¦é€šè¿‡è¯¥å‚æ•°æŒ‡å®šç«¯å£æ¥ç›‘å¬ä¼ å…¥ VPN è¿æ¥ï¼Œé»˜è®¤ç«¯å£å·æ˜¯ 51820ã€‚å¸¸è§„å®¢æˆ·ç«¯ä¸éœ€è¦æ­¤é€‰é¡¹ã€‚\nPrivateKey  æœ¬åœ°èŠ‚ç‚¹çš„ç§é’¥ï¼Œæ‰€æœ‰èŠ‚ç‚¹ï¼ˆåŒ…æ‹¬ä¸­ç»§æœåŠ¡å™¨ï¼‰éƒ½å¿…é¡»è®¾ç½®ã€‚ä¸å¯ä¸å…¶ä»–æœåŠ¡å™¨å…±ç”¨ã€‚\nç§é’¥å¯é€šè¿‡å‘½ä»¤ wg genkey \u0026gt; example.key æ¥ç”Ÿæˆã€‚\nDNS  é€šè¿‡ DHCP å‘å®¢æˆ·ç«¯å®£å‘Š DNS æœåŠ¡å™¨ã€‚å®¢æˆ·ç«¯å°†ä¼šä½¿ç”¨è¿™é‡ŒæŒ‡å®šçš„ DNS æœåŠ¡å™¨æ¥å¤„ç† VPN å­ç½‘ä¸­çš„ DNS è¯·æ±‚ï¼Œä½†ä¹Ÿå¯ä»¥åœ¨ç³»ç»Ÿä¸­è¦†ç›–æ­¤é€‰é¡¹ã€‚ä¾‹å¦‚ï¼š\n å¦‚æœä¸é…ç½®åˆ™ä½¿ç”¨ç³»ç»Ÿé»˜è®¤ DNS å¯ä»¥æŒ‡å®šå•ä¸ª DNSï¼šDNS = 1.1.1.1 ä¹Ÿå¯ä»¥æŒ‡å®šå¤šä¸ª DNSï¼šDNS = 1.1.1.1,8.8.8.8  Table  å®šä¹‰ VPN å­ç½‘ä½¿ç”¨çš„è·¯ç”±è¡¨ï¼Œé»˜è®¤ä¸éœ€è¦è®¾ç½®ã€‚è¯¥å‚æ•°æœ‰ä¸¤ä¸ªç‰¹æ®Šçš„å€¼éœ€è¦æ³¨æ„ï¼š\n Table = off : ç¦æ­¢åˆ›å»ºè·¯ç”± Table = autoï¼ˆé»˜è®¤å€¼ï¼‰ : å°†è·¯ç”±æ·»åŠ åˆ°ç³»ç»Ÿé»˜è®¤çš„ table ä¸­ï¼Œå¹¶å¯ç”¨å¯¹é»˜è®¤è·¯ç”±çš„ç‰¹æ®Šå¤„ç†ã€‚  ä¾‹å¦‚ï¼šTable = 1234\nMTU  å®šä¹‰è¿æ¥åˆ°å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰çš„ MTUï¼ˆMaximum Transmission Unitï¼Œæœ€å¤§ä¼ è¾“å•å…ƒï¼‰ï¼Œé»˜è®¤ä¸éœ€è¦è®¾ç½®ï¼Œä¸€èˆ¬ç”±ç³»ç»Ÿè‡ªåŠ¨ç¡®å®šã€‚\nPreUp  å¯åŠ¨ VPN æ¥å£ä¹‹å‰è¿è¡Œçš„å‘½ä»¤ã€‚è¿™ä¸ªé€‰é¡¹å¯ä»¥æŒ‡å®šå¤šæ¬¡ï¼ŒæŒ‰é¡ºåºæ‰§è¡Œã€‚\nä¾‹å¦‚æ·»åŠ è·¯ç”±ï¼šPreUp = ip rule add ipproto tcp dport 22 table 1234\nPostUp  å¯åŠ¨ VPN æ¥å£ä¹‹åè¿è¡Œçš„å‘½ä»¤ã€‚è¿™ä¸ªé€‰é¡¹å¯ä»¥æŒ‡å®šå¤šæ¬¡ï¼ŒæŒ‰é¡ºåºæ‰§è¡Œã€‚\nä¾‹å¦‚ï¼š\n  ä»æ–‡ä»¶æˆ–æŸä¸ªå‘½ä»¤çš„è¾“å‡ºä¸­è¯»å–é…ç½®å€¼ï¼š\nPostUp = wg set %i private-key /etc/wireguard/wg0.key \u0026lt;(some command here)   æ·»åŠ ä¸€è¡Œæ—¥å¿—åˆ°æ–‡ä»¶ä¸­ï¼š\nPostUp = echo \u0026#34;$(date +%s) WireGuard Started\u0026#34; \u0026gt;\u0026gt; /var/log/wireguard.log   è°ƒç”¨ WebHookï¼š\nPostUp = curl https://events.example.dev/wireguard/started/?key=abcdefg   æ·»åŠ è·¯ç”±ï¼š\nPostUp = ip rule add ipproto tcp dport 22 table 1234   æ·»åŠ  iptables è§„åˆ™ï¼Œå¯ç”¨æ•°æ®åŒ…è½¬å‘ï¼š\nPostUp = iptables -A FORWARD -i %i -j ACCEPT; iptables -A FORWARD -o %i -j ACCEPT; iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE   å¼ºåˆ¶ WireGuard é‡æ–°è§£æå¯¹ç«¯åŸŸåçš„ IP åœ°å€ï¼š\nPostUp = resolvectl domain %i \u0026#34;~.\u0026#34;; resolvectl dns %i 192.0.2.1; resolvectl dnssec %i yes   PreDown  åœæ­¢ VPN æ¥å£ä¹‹å‰è¿è¡Œçš„å‘½ä»¤ã€‚è¿™ä¸ªé€‰é¡¹å¯ä»¥æŒ‡å®šå¤šæ¬¡ï¼ŒæŒ‰é¡ºåºæ‰§è¡Œã€‚\nä¾‹å¦‚ï¼š\n  æ·»åŠ ä¸€è¡Œæ—¥å¿—åˆ°æ–‡ä»¶ä¸­ï¼š\nPreDown = echo \u0026#34;$(date +%s) WireGuard Going Down\u0026#34; \u0026gt;\u0026gt; /var/log/wireguard.log   è°ƒç”¨ WebHookï¼š\nPreDown = curl https://events.example.dev/wireguard/stopping/?key=abcdefg   PostDown  åœæ­¢ VPN æ¥å£ä¹‹åè¿è¡Œçš„å‘½ä»¤ã€‚è¿™ä¸ªé€‰é¡¹å¯ä»¥æŒ‡å®šå¤šæ¬¡ï¼ŒæŒ‰é¡ºåºæ‰§è¡Œã€‚\nä¾‹å¦‚ï¼š\n  æ·»åŠ ä¸€è¡Œæ—¥å¿—åˆ°æ–‡ä»¶ä¸­ï¼š\nPostDown = echo \u0026#34;$(date +%s) WireGuard Going Down\u0026#34; \u0026gt;\u0026gt; /var/log/wireguard.log   è°ƒç”¨ WebHookï¼š\nPostDown = curl https://events.example.dev/wireguard/stopping/?key=abcdefg   åˆ é™¤ iptables è§„åˆ™ï¼Œå…³é—­æ•°æ®åŒ…è½¬å‘ï¼š\nPostDown = iptables -D FORWARD -i %i -j ACCEPT; iptables -D FORWARD -o %i -j ACCEPT; iptables -t nat -D POSTROUTING -o eth0 -j MASQUERADE   [Peer]\nå®šä¹‰èƒ½å¤Ÿä¸ºä¸€ä¸ªæˆ–å¤šä¸ªåœ°å€è·¯ç”±æµé‡çš„å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰çš„ VPN è®¾ç½®ã€‚å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰å¯ä»¥æ˜¯å°†æµé‡è½¬å‘åˆ°å…¶ä»–å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰çš„ä¸­ç»§æœåŠ¡å™¨ï¼Œä¹Ÿå¯ä»¥æ˜¯é€šè¿‡å…¬ç½‘æˆ–å†…ç½‘ç›´è¿çš„å®¢æˆ·ç«¯ã€‚\nä¸­ç»§æœåŠ¡å™¨å¿…é¡»å°†æ‰€æœ‰çš„å®¢æˆ·ç«¯å®šä¹‰ä¸ºå¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰ï¼Œé™¤äº†ä¸­ç»§æœåŠ¡å™¨ä¹‹å¤–ï¼Œå…¶ä»–å®¢æˆ·ç«¯éƒ½ä¸èƒ½å°†ä½äº NAT åé¢çš„èŠ‚ç‚¹å®šä¹‰ä¸ºå¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰ï¼Œå› ä¸ºè·¯ç”±ä¸å¯è¾¾ã€‚å¯¹äºé‚£äº›åªä¸ºè‡ªå·±è·¯ç”±æµé‡çš„å®¢æˆ·ç«¯ï¼Œåªéœ€å°†ä¸­ç»§æœåŠ¡å™¨ä½œä¸ºå¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰ï¼Œä»¥åŠå…¶ä»–éœ€è¦ç›´æ¥è®¿é—®çš„èŠ‚ç‚¹ã€‚\nä¸¾ä¸ªä¾‹å­ï¼Œåœ¨ä¸‹é¢çš„é…ç½®ä¸­ï¼Œpublic-server1 ä½œä¸ºä¸­ç»§æœåŠ¡å™¨ï¼Œå…¶ä»–çš„å®¢æˆ·ç«¯æœ‰çš„æ˜¯ç›´è¿ï¼Œæœ‰çš„ä½äº NAT åé¢ï¼š\n  public-server1ï¼ˆä¸­ç»§æœåŠ¡å™¨ï¼‰\n[peer] : public-server2, home-server, laptop, phone\n  public-server2ï¼ˆç›´è¿å®¢æˆ·ç«¯ï¼‰\n[peer] : public-server1\n  home-serverï¼ˆå®¢æˆ·ç«¯ä½äº NAT åé¢ï¼‰\n[peer] : public-server1, public-server2\n  laptopï¼ˆå®¢æˆ·ç«¯ä½äº NAT åé¢ï¼‰\n[peer] : public-server1, public-server2\n  phoneï¼ˆå®¢æˆ·ç«¯ä½äº NAT åé¢ï¼‰\n[peer] : public-server1, public-server2\n  é…ç½®ç¤ºä¾‹ï¼š\n  å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰æ˜¯è·¯ç”±å¯è¾¾çš„å®¢æˆ·ç«¯ï¼Œåªä¸ºè‡ªå·±è·¯ç”±æµé‡\n[Peer] # Name = public-server2.example-vpn.dev Endpoint = public-server2.example-vpn.dev:51820 PublicKey = \u0026lt;public key for public-server2.example-vpn.dev\u0026gt; AllowedIPs = 192.0.2.2/32   å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰æ˜¯ä½äº NAT åé¢çš„å®¢æˆ·ç«¯ï¼Œåªä¸ºè‡ªå·±è·¯ç”±æµé‡\n[Peer] # Name = home-server.example-vpn.dev Endpoint = home-server.example-vpn.dev:51820 PublicKey = \u0026lt;public key for home-server.example-vpn.dev\u0026gt; AllowedIPs = 192.0.2.3/32   å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰æ˜¯ä¸­ç»§æœåŠ¡å™¨ï¼Œç”¨æ¥å°†æµé‡è½¬å‘åˆ°å…¶ä»–å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰\n[Peer] # Name = public-server1.example-vpn.tld Endpoint = public-server1.example-vpn.tld:51820 PublicKey = \u0026lt;public key for public-server1.example-vpn.tld\u0026gt; # è·¯ç”±æ•´ä¸ª VPN å­ç½‘çš„æµé‡ AllowedIPs = 192.0.2.1/24 PersistentKeepalive = 25    Endpoint  æŒ‡å®šè¿œç«¯å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰çš„å…¬ç½‘åœ°å€ã€‚å¦‚æœå¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰ä½äº NAT åé¢æˆ–è€…æ²¡æœ‰ç¨³å®šçš„å…¬ç½‘è®¿é—®åœ°å€ï¼Œå°±å¿½ç•¥è¿™ä¸ªå­—æ®µã€‚é€šå¸¸åªéœ€è¦æŒ‡å®šä¸­ç»§æœåŠ¡å™¨çš„ Endpointï¼Œå½“ç„¶æœ‰ç¨³å®šå…¬ç½‘ IP çš„èŠ‚ç‚¹ä¹Ÿå¯ä»¥æŒ‡å®šã€‚ä¾‹å¦‚ï¼š\n  é€šè¿‡ IP æŒ‡å®šï¼š\nEndpoint = 123.124.125.126:51820   é€šè¿‡åŸŸåæŒ‡å®šï¼š\nEndpoint = public-server1.example-vpn.tld:51820   AllowedIPs  å…è®¸è¯¥å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰å‘é€è¿‡æ¥çš„ VPN æµé‡ä¸­çš„æºåœ°å€èŒƒå›´ã€‚åŒæ—¶è¿™ä¸ªå­—æ®µä¹Ÿä¼šä½œä¸ºæœ¬æœºè·¯ç”±è¡¨ä¸­ wg0 ç»‘å®šçš„ IP åœ°å€èŒƒå›´ã€‚å¦‚æœå¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰æ˜¯å¸¸è§„çš„å®¢æˆ·ç«¯ï¼Œåˆ™å°†å…¶è®¾ç½®ä¸ºèŠ‚ç‚¹æœ¬èº«çš„å•ä¸ª IPï¼›å¦‚æœå¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰æ˜¯ä¸­ç»§æœåŠ¡å™¨ï¼Œåˆ™å°†å…¶è®¾ç½®ä¸ºå¯è·¯ç”±çš„å­ç½‘èŒƒå›´ã€‚å¯ä»¥ä½¿ç”¨ , æ¥æŒ‡å®šå¤šä¸ª IP æˆ–å­ç½‘èŒƒå›´ã€‚è¯¥å­—æ®µä¹Ÿå¯ä»¥æŒ‡å®šå¤šæ¬¡ã€‚\nå½“å†³å®šå¦‚ä½•å¯¹ä¸€ä¸ªæ•°æ®åŒ…è¿›è¡Œè·¯ç”±æ—¶ï¼Œç³»ç»Ÿé¦–å…ˆä¼šé€‰æ‹©æœ€å…·ä½“çš„è·¯ç”±ï¼Œå¦‚æœä¸åŒ¹é…å†é€‰æ‹©æ›´å®½æ³›çš„è·¯ç”±ã€‚ä¾‹å¦‚ï¼Œå¯¹äºä¸€ä¸ªå‘å¾€ 192.0.2.3 çš„æ•°æ®åŒ…ï¼Œç³»ç»Ÿé¦–å…ˆä¼šå¯»æ‰¾åœ°å€ä¸º 192.0.2.3/32 çš„å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰ï¼Œå¦‚æœæ²¡æœ‰å†å¯»æ‰¾åœ°å€ä¸º 192.0.2.1/24 çš„å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰ï¼Œä»¥æ­¤ç±»æ¨ã€‚\nä¾‹å¦‚ï¼š\n  å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰æ˜¯å¸¸è§„å®¢æˆ·ç«¯ï¼Œåªè·¯ç”±è‡ªèº«çš„æµé‡ï¼š\nAllowedIPs = 192.0.2.3/32   å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰æ˜¯ä¸­ç»§æœåŠ¡å™¨ï¼Œå¯ä»¥å°†æµé‡è½¬å‘åˆ°å…¶ä»–å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰ï¼š\nAllowedIPs = 192.0.2.1/24   å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰æ˜¯ä¸­ç»§æœåŠ¡å™¨ï¼Œå¯ä»¥è½¬å‘æ‰€æœ‰çš„æµé‡ï¼ŒåŒ…æ‹¬å¤–ç½‘æµé‡å’Œ VPN æµé‡ï¼Œå¯ä»¥ç”¨æ¥å¹²å˜›ä½ æ‡‚å¾—ï¼š\nAllowedIPs = 0.0.0.0/0,::/0   å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰æ˜¯ä¸­ç»§æœåŠ¡å™¨ï¼Œå¯ä»¥è·¯ç”±å…¶è‡ªèº«å’Œå…¶ä»–å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰çš„æµé‡ï¼š\nAllowedIPs = 192.0.2.3/32,192.0.2.4/32   å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰æ˜¯ä¸­ç»§æœåŠ¡å™¨ï¼Œå¯ä»¥è·¯ç”±å…¶è‡ªèº«çš„æµé‡å’Œå®ƒæ‰€åœ¨çš„å†…ç½‘çš„æµé‡ï¼š\nAllowedIPs = 192.0.2.3/32,192.168.1.1/24   PublicKey  å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰çš„å…¬é’¥ï¼Œæ‰€æœ‰èŠ‚ç‚¹ï¼ˆåŒ…æ‹¬ä¸­ç»§æœåŠ¡å™¨ï¼‰éƒ½å¿…é¡»è®¾ç½®ã€‚å¯ä¸å…¶ä»–å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰å…±ç”¨åŒä¸€ä¸ªå…¬é’¥ã€‚\nå…¬é’¥å¯é€šè¿‡å‘½ä»¤ wg pubkey \u0026lt; example.key \u0026gt; example.key.pub æ¥ç”Ÿæˆï¼Œå…¶ä¸­ example.key æ˜¯ä¸Šé¢ç”Ÿæˆçš„ç§é’¥ã€‚\nä¾‹å¦‚ï¼šPublicKey = somePublicKeyAbcdAbcdAbcdAbcd=\nPersistentKeepalive  å¦‚æœè¿æ¥æ˜¯ä»ä¸€ä¸ªä½äº NAT åé¢çš„å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰åˆ°ä¸€ä¸ªå…¬ç½‘å¯è¾¾çš„å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰ï¼Œé‚£ä¹ˆ NAT åé¢çš„å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰å¿…é¡»å®šæœŸå‘é€ä¸€ä¸ªå‡ºç«™ ping åŒ…æ¥æ£€æŸ¥è¿é€šæ€§ï¼Œå¦‚æœ IP æœ‰å˜åŒ–ï¼Œå°±ä¼šè‡ªåŠ¨æ›´æ–°Endpointã€‚\nä¾‹å¦‚ï¼š\n æœ¬åœ°èŠ‚ç‚¹ä¸å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰å¯ç›´è¿ï¼šè¯¥å­—æ®µä¸éœ€è¦æŒ‡å®šï¼Œå› ä¸ºä¸éœ€è¦è¿æ¥æ£€æŸ¥ã€‚ å¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰ä½äº NAT åé¢ï¼šè¯¥å­—æ®µä¸éœ€è¦æŒ‡å®šï¼Œå› ä¸ºç»´æŒè¿æ¥æ˜¯å®¢æˆ·ç«¯ï¼ˆè¿æ¥çš„å‘èµ·æ–¹ï¼‰çš„è´£ä»»ã€‚ æœ¬åœ°èŠ‚ç‚¹ä½äº NAT åé¢ï¼Œå¯¹ç­‰èŠ‚ç‚¹ï¼ˆpeerï¼‰å…¬ç½‘å¯è¾¾ï¼šéœ€è¦æŒ‡å®šè¯¥å­—æ®µ PersistentKeepalive = 25ï¼Œè¡¨ç¤ºæ¯éš” 25 ç§’å‘é€ä¸€æ¬¡ ping æ¥æ£€æŸ¥è¿æ¥ã€‚  GUI Utilities Gnome GNOME ç³»ç»Ÿè®¾ç½®é¢æ¿ï¼ˆgnome-control-centerï¼‰å’Œ GNOME åº”ç”¨ä½¿ç”¨ dconf é…ç½®ç³»ç»Ÿå­˜å‚¨è®¾ç½®ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ gsettings æˆ– dconf å‘½ä»¤è¡Œå·¥å…·ç›´æ¥è®¿é—® dconf æ•°æ®åº“ã€‚è¿™ä¹Ÿå¯ä»¥è®©ä½ ä¿®æ”¹ç”¨æˆ·ç•Œé¢ä¸å…¬å¼€çš„è®¾ç½®ã€‚\nGNOME æ¡Œé¢æ‹¥æœ‰å¼ºå¤§çš„æœç´¢åŠŸèƒ½ï¼ŒæŒ‰ Super é”®å¹¶æœç´¢ä¸€äº›ä¸œè¥¿ï¼Œå¯ä»¥è¿›å…¥â€œSettings-Searchâ€ä¸­æ¥è®¾ç½®å¯ä»¥æœç´¢çš„å†…å®¹å’Œé¡ºåºã€‚\nDo Not Disturb ä½¿é€šçŸ¥åªåœ¨æ¶ˆæ¯æ ä¸­ï¼Œä¸ä¼šåœ¨æ¡Œé¢ä¸Šå¼¹å‡ºã€‚\nGnome 3 è‡ªåŠ¨åˆ‡æ¢çš„å£çº¸ä¼šæœ‰ä¸€ä¸ªæœ‰æ—¶é’Ÿå°å›¾æ ‡ã€‚\næµè§ˆ GNOME Shell cheat sheet ä¸­è§£é‡Šäº†å¦‚ä½•é«˜æ•ˆåœ°ä½¿ç”¨ GNOME shellï¼Œå®ƒå±•ç¤ºäº† GNOME shell çš„ç‰¹è‰²å’Œå¿«æ·é”®ï¼ŒåŒ…æ‹¬åˆ‡æ¢ä»»åŠ¡ï¼Œä½¿ç”¨é”®ç›˜ï¼Œçª—å£æ§åˆ¶ï¼Œé¢æ¿ï¼Œæ¦‚è§ˆæ¨¡å¼ç­‰ç­‰ã€‚ä»¥ä¸‹æ˜¯éƒ¨åˆ†å¸¸ç”¨çš„å¿«æ·é”®ï¼š\n Super + mï¼šæ˜¾ç¤ºæ¶ˆæ¯æ‰˜ç›˜ Super + aï¼šæ˜¾ç¤ºåº”ç”¨ç¨‹åºèœå• Alt- + Tabï¼šåˆ‡æ¢å½“å‰ä½¿ç”¨çš„åº”ç”¨ Alt- + ` (ç¾å¼é”®ç›˜ Tab ä¸Šé¢çš„æŒ‰é”®)ï¼šåˆ‡æ¢å‰å°åº”ç”¨ç¨‹åºçš„çª—å£ Alt + F2ï¼Œç„¶åè¾“å…¥ r æˆ– restartï¼šåœ¨å›¾å½¢ç•Œé¢å‡ºé—®é¢˜æ—¶é‡å¯ç•Œé¢ï¼ˆä»…ç”¨äº X/ä¼ ç»Ÿ æ¨¡å¼ï¼Œä¸é€‚ç”¨äº Wayland æ¨¡å¼ï¼‰ã€‚ä¹Ÿå¯é€šè¿‡æ­¤è¿è¡Œåå°åº”ç”¨ï¼Œå¦‚ cfwã€‚  é—ç•™åç§° æ³¨æ„ï¼š ä¸€äº› GNOME ç¨‹åºåœ¨æ–‡æ¡£å’Œå¯¹è¯æ¡†ä¸­çš„åç§°å·²ç»æ›´æ”¹ï¼Œä½†æ‰§è¡Œæ–‡ä»¶åç§°å´æ²¡æœ‰ã€‚ä¸‹é¢è¡¨æ ¼åˆ—å‡ºäº†ä¸€äº›è¿™æ ·çš„åº”ç”¨ç¨‹åºã€‚\næç¤ºï¼š åœ¨æœç´¢æ ä¸­æœç´¢åº”ç”¨çš„é—ç•™åç§°å°†æˆåŠŸæ‰¾åˆ°å¯¹åº”çš„åº”ç”¨ï¼Œä¾‹å¦‚æœç´¢ nautilus å°†è¿”è¿˜ æ–‡ä»¶ã€‚\n   å½“å‰ é—ç•™     æ–‡ä»¶ Nautilus   Web Epiphany   è§†é¢‘ Totem   ä¸»èœå• Alacarte   æ–‡æ¡£æŸ¥çœ‹å™¨ Evince   ç£ç›˜ä½¿ç”¨æƒ…å†µåˆ†æå™¨ Baobab   å›¾åƒæŸ¥çœ‹å™¨ EoG (Eye of GNOME)   å¯†ç å’Œå¯†é’¥ Seahorse    ä¿®æ”¹æ–‡ä»¶é»˜è®¤å…³è”çš„åº”ç”¨ç¨‹åº  mimeç±»å‹æ–‡ä»¶å­˜åœ¨äºä»¥ä¸‹çš„ä¸¤ä¸ªè·¯å¾„ï¼š  /usr/share/mime ~/.local/share/mime    /usr/share/mime/text/makrdown.xml  åº”ç”¨ç¨‹åºçš„desktopæ–‡ä»¶ï¼Œå­˜åœ¨äºä»¥ä¸‹çš„ä¸¤ä¸ªè·¯å¾„ï¼š  /usr/share/applications ~/.local/share/applications    [Desktop Entry] # åº”ç”¨åç§°ï¼Œå³å¼€å§‹èœå•ä¸­çš„åç§° Type=ApplicationName=name # åº”ç”¨æ‰§è¡Œæ–‡ä»¶ä½ç½® Exec=appPath # åº”ç”¨å›¾æ ‡ä½ç½® Icon=default48.png # æ˜¯å¦æ˜¾ç¤ºç»ˆç«¯ Terminal=false # æ‰€å±åˆ†ç±» StartupNotify=trueCategories=Office # MIME ç±»å‹ MimeType=text/x-markdown  åº”ç”¨ç¨‹åºé»˜è®¤å…³è”æ–‡ä»¶ï¼Œå­˜åœ¨äºä»¥ä¸‹çš„ä¸¤ä¸ªè·¯å¾„ï¼š  /usr/share/applications/mimeapps.list ~/.local/share/applications/mimeapps.list    Gedit ç¼–ç  ç›´æ¥æ‰“å¼€geditï¼ˆéé€šè¿‡æ–‡ä»¶æ‰“å¼€ï¼‰ï¼Œç‚¹å‡»å·¦ä¸Šè§’ Openï¼Œç‚¹å‡»å·¦ä¸‹è§’ Automatically Detectedï¼Œä¸‹æ‹‰é€‰æ‹© Add or Remove\u0026hellip;ï¼Œå°†ç®€ä½“ä¸­æ–‡ç¼–ç éƒ½é€‰ä¸Šã€‚\næˆ–è€…ï¼š\n$ gsettings list-keys org.gnome.gedit.preferences.encodings candidate-encodings $ gsettings set org.gnome.gedit.preferences.encodings candidate-encodings \u0026#34;[\u0026#39;UTF-8\u0026#39;, \u0026#39;ISO-8859-15\u0026#39;, \u0026#39;UTF-16\u0026#39;, \u0026#39;GBK\u0026#39;, \u0026#39;GB18030\u0026#39;, \u0026#39;GB2312\u0026#39;]\u0026#34; NVIDIA Optimus NVIDIA Optimus æ˜¯ä¸€é¡¹å…è®¸è‹±ç‰¹å°”ï¼ˆIntelï¼‰é›†æˆå›¾å½¢å¤„ç†å™¨ï¼ˆGPUï¼‰å’Œè‹±ä¼Ÿè¾¾ï¼ˆNVIDIAï¼‰ç‹¬ç«‹å›¾å½¢å¤„ç†å™¨ç½®å…¥å¹¶é€šè¿‡ä¸€å°ç¬”è®°æœ¬ç”µè„‘è®¿é—®çš„æŠ€æœ¯ã€‚\næ¡Œé¢å¡æ­» æ€»çš„æ¥è¯´ï¼Œå°±æ˜¯æ€æ­»ç›¸å…³è¿›ç¨‹ï¼Œæˆ–è€…é¿å…ä½¿ç”¨é€ æˆå¡æ­»ç›¸å…³è½¯ä»¶ã€‚\n  é€‰æ‹©å…¶ä»– ttyï¼š\n$ pkill Xorg pkill ç”¨äºæ€æ­»ä¸€ä¸ªè¿›ç¨‹ï¼Œä¸ kill ä¸åŒçš„æ˜¯å®ƒä¼šæ€æ­»æŒ‡å®šåå­—çš„æ‰€æœ‰è¿›ç¨‹ã€‚kill å‘½ä»¤æ€æ­»æŒ‡å®šè¿›ç¨‹ PIDï¼Œéœ€è¦é…åˆ ps ä½¿ç”¨ã€‚\n  å®‰å…¨é‡å¯ï¼šåŒæ—¶æŒ‰ä½ Ctrl å’Œ Alt é”®ï¼ŒæŒ‰ä½ä¸è¦æ”¾ï¼ŒæŒ‰ä¸€ä¸‹ SysRq é”®ï¼ˆæœ‰çš„é”®ç›˜æ˜¯PrtScï¼‰ï¼ŒæŒ‰ä¸€ä¸‹ R é”®ï¼ŒæŒ‰ä¸€ä¸‹ E é”®ï¼Œä¾æ¬¡æŒ‰ä¸‹ I , S , U , B é”®ã€‚\n  è§£å†³ Ubuntu ç»å¸¸å¡æ­»ï¼šubuntu çš„å¡æ­»å¯èƒ½ä¸æ˜¾å¡é©±åŠ¨ä¸å…¼å®¹æœ‰å…³ã€‚ç”¨ nvidia ä»£æ›¿ nouveauæ˜¾å¡é©±åŠ¨ã€‚å…¶ä¸­ nvidia-driver-470-server æ˜¯ server ç‰ˆï¼Œæœ€å¥½ç”¨ nvidia-driver-470\n  PRIME synchronization You can enable PRIME synchronization to prevent screen tearing. It requires:\n Linux kernel 4.5 or higher; X server 1.19 or higher; NVIDIA driver 370.23 or higher.  PRIME synchronization will be enabled automatically after you enable KMS for nvidia-drm module.\n  Add this line to the end of /etc/modprobe.d/nvidia.conf:\noptions nvidia-drm modeset=1   Regenerate your initramfs image by running:\n# update-initramfs -u   Reboot.\n  è¦æ£€æŸ¥é‡æ–°å¯åŠ¨åä»¥å‰çš„æ›´æ”¹æ˜¯å¦æœ‰æ•ˆï¼Œè¯·è¿è¡Œå‘½ä»¤ï¼š\n$ sudo cat /sys/module/nvidia_drm/parameters/modeset Y see more about nvidia on uat BinaryDriverHowto/Nvidia\nPermanently Set NVIDIA PowerMizer Settings $ nvidia-settings -q GpuPowerMizerMode Attribute \u0026#39;GPUPowerMizerMode\u0026#39; (rastating-PC:1[gpu:0]): 0. Valid values for \u0026#39;GPUPowerMizerMode\u0026#39; are: 0, 1 and 2. \u0026#39;GPUPowerMizerMode\u0026#39; can use the following target types: GPU. $ nvidia-settings -a \u0026#34;[gpu:0]/GpuPowerMizerMode=1\u0026#34; Attribute \u0026#39;GPUPowerMizerMode\u0026#39; (rastating-PC:1[gpu:0]) assigned value 1. $ nvidia-settings -q GpuPowerMizerMode Attribute \u0026#39;GPUPowerMizerMode\u0026#39; (rastating-PC:1[gpu:0]): 1. Valid values for \u0026#39;GPUPowerMizerMode\u0026#39; are: 0, 1 and 2. \u0026#39;GPUPowerMizerMode\u0026#39; can use the following target types: GPU. æ·»åŠ åˆ°å¼€æœºå¯åŠ¨\n Nameï¼šNVIDIA X Server Performance Settings Commandï¼š/usr/bin/nvidia-settings -a \u0026quot;[gpu:0]/GpuPowerMizerMode=1\u0026quot;  å¯†é’¥ç¯ å¦‚æœä½ ç”¨è¿‡ Ubuntu æˆ–è€…å…¶ä»–çš„ Linux å‘è¡Œç‰ˆé‡Œçš„è‡ªåŠ¨ç™»å½•åŠŸèƒ½, ä½ å¯èƒ½é‡åˆ°è¿‡è¿™ç§å¼¹å‡ºæ¶ˆæ¯ï¼š\n è¯·è¾“å…¥å¯†ç ä»¥è§£é”ä½ çš„ç™»å½•å¯†é’¥ç¯\nç™»å½•å¯†é’¥ç¯åœ¨ä½ ç™»å½•ç³»ç»Ÿæ—¶æœªè§£é”ã€‚\n å¦‚æœä½ ä¸€ç›´ç‚¹å‡»å–æ¶ˆï¼Œå®ƒä¼šä¸æ–­å¼¹å‡ºå‡ æ¬¡æ‰ä¼šæ¶ˆå¤±ã€‚ä½ å¯èƒ½æƒ³çŸ¥é“ï¼Œä¸ºä»€ä¹ˆä½ ä¼šä¸€ç›´çœ‹åˆ°è¿™ä¸ªå¯†é’¥ç¯ä¿¡æ¯å‘¢ï¼Ÿ\nè®©æˆ‘æ¥å‘Šè¯‰ä½ å§ã€‚å®ƒå…¶å®ä¸æ˜¯é”™è¯¯ï¼Œè€Œæ˜¯ä¸€ä¸ªå®‰å…¨ç‰¹æ€§ã€‚\nå¥‡æ€ªå—ï¼Ÿä¸‹é¢å°±è®©æˆ‘æ¥è§£é‡Šä¸‹ Linux é‡Œçš„å¯†é’¥ç¯æ¦‚å¿µã€‚\nå¯†é’¥ç¯æ˜¯ä»€ä¹ˆï¼Œä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ åœ¨ç°å®ç”Ÿæ´»ä¸­ä½ ä¸ºä»€ä¹ˆè¦ç”¨é’¥åŒ™ç¯ï¼ˆä¹Ÿå«é’¥åŒ™é“¾ï¼‰ï¼Ÿä½ ç”¨å®ƒæŠŠä¸€æŠŠæˆ–å¤šæŠŠé’¥åŒ™ä¸²åˆ°ä¸€èµ·, ä»¥ä¾¿äºæºå¸¦å’ŒæŸ¥æ‰¾ã€‚\nLinux é‡Œä¹Ÿæ˜¯ç±»ä¼¼çš„ã€‚å¯†é’¥ç¯ç‰¹æ€§ä½¿ä½ çš„ç³»ç»Ÿå¯ä»¥å°†å„ç§å¯†ç æ”¾åœ¨ä¸€èµ·ï¼Œå¹¶å°†å…¶ä¿å­˜åœ¨ä¸€ä¸ªåœ°æ–¹ã€‚\nå¤§å¤šæ•° Linux æ¡Œé¢ç¯å¢ƒï¼Œå¦‚ GNOMEã€KDEã€Xfce ç­‰é‡‡ç”¨ GNOME å¯†é’¥ç¯æ¥æä¾›è¿™ä¸ªåŠŸèƒ½ã€‚\nè¯¥å¯†é’¥ç¯ä¿å­˜äº† ssh å¯†é’¥ã€GPG å¯†é’¥ä»¥åŠä½¿ç”¨æ­¤åŠŸèƒ½çš„åº”ç”¨ç¨‹åºï¼ˆä¾‹å¦‚ Chromium æµè§ˆå™¨ï¼‰çš„å¯†é’¥ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œâ€œå¯†é’¥ç¯â€é€šè¿‡ä¸»å¯†ç æ¥ä¿æŠ¤ï¼Œè¯¥å¯†ç é€šå¸¸æ˜¯å¸æˆ·çš„ç™»å½•å¯†ç ã€‚\nç³»ç»Ÿä¸Šçš„æ¯ä¸ªç”¨æˆ·éƒ½æœ‰è‡ªå·±çš„å¯†é’¥ç¯ï¼Œï¼ˆé€šå¸¸ï¼‰å¯†ç ä¸ç”¨æˆ·å¸æˆ·æœ¬èº«çš„å¯†ç ç›¸åŒã€‚å½“ä½ ä½¿ç”¨å¯†ç ç™»å½•ç³»ç»Ÿæ—¶ï¼Œä½ çš„å¯†åŒ™ç¯å°†ä½¿ç”¨ä½ å¸æˆ·çš„å¯†ç è‡ªåŠ¨è§£é”ã€‚\nå½“ä½ å¯ç”¨ Ubuntu ä¸­çš„è‡ªåŠ¨ç™»å½•åŠŸèƒ½æ—¶æ—¶ï¼Œå°±æœ‰é—®é¢˜äº†ã€‚è¿™æ„å‘³ç€ä½ æ— éœ€è¾“å…¥å¯†ç å³å¯ç™»å½•ç³»ç»Ÿã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ çš„å¯†é’¥ç¯ä¸ä¼šè‡ªåŠ¨è§£é”ã€‚\nå¯†é’¥ç¯æ˜¯ä¸€ä¸ªå®‰å…¨ç‰¹æ€§\nè®°å¾—æˆ‘è¯´è¿‡å¯†é’¥ç¯æ˜¯ä¸€ä¸ªå®‰å…¨ç‰¹æ€§å—ï¼Ÿç°åœ¨æƒ³è±¡ä¸€ä¸‹ä½ åœ¨ Linux ç”µè„‘ä¸Šå¼€å¯äº†è‡ªåŠ¨ç™»å½•åŠŸèƒ½ã€‚æœ‰æƒè®¿é—®ä½ ç”µè„‘çš„ä»»ä½•äººæ— éœ€å¯†ç å°±èƒ½è¿›å…¥ä½ çš„ç³»ç»Ÿã€‚ä½†æ˜¯ä½ å¯èƒ½ä¸ä¼šåœ¨æ„ï¼Œå› ä¸ºä½ åªæ˜¯ç”¨å®ƒæ¥è®¿é—®äº’è”ç½‘ã€‚\nä½†æ˜¯ï¼Œå¦‚æœä½ åœ¨ Ubuntu ä¸­ä½¿ç”¨ Chromium æˆ– Google Chrome ä¹‹ç±»çš„æµè§ˆå™¨ï¼Œå¹¶ä½¿ç”¨å®ƒæ¥ä¿å­˜å„ç§ç½‘ç«™çš„ç™»å½•å¯†ç ï¼Œé‚£ä¹ˆä½ å°†é‡åˆ°éº»çƒ¦ã€‚ä»»ä½•äººéƒ½å¯ä»¥ä½¿ç”¨æµè§ˆå™¨å¹¶åˆ©ç”¨ä½ åœ¨æµè§ˆå™¨ä¸­ä¿å­˜çš„å¯†ç ç™»å½•ç½‘ç«™ã€‚è¿™ä¸å¾ˆå±é™©å—ï¼Ÿ\nè¿™å°±æ˜¯ä¸ºä»€ä¹ˆå½“ä½ ä½¿ç”¨ Chrome æ—¶ï¼Œå®ƒå°†åå¤åœ°æç¤ºä½ å…ˆè§£é”å¯†é’¥ç¯ã€‚è¿™ç¡®ä¿äº†åªæœ‰çŸ¥é“å¯†é’¥ç¯å¯†ç ï¼ˆå³è´¦æˆ·å¯†ç ï¼‰çš„äººæ‰èƒ½ä½¿ç”¨åœ¨æµè§ˆå™¨ä¸­ä¿å­˜çš„å¯†ç æ¥ç™»å½•å®ƒä»¬ç›¸å…³çš„ç½‘ç«™ã€‚\nå¦‚æœä½ åå¤å–æ¶ˆè§£é”å¯†é’¥ç¯çš„æç¤ºï¼Œå®ƒæœ€ç»ˆå°†æ¶ˆå¤±ï¼Œå¹¶å…è®¸ä½ ä½¿ç”¨æµè§ˆå™¨ã€‚ä½†æ˜¯ï¼Œä¿å­˜çš„å¯†ç å°†ä¸ä¼šè¢«è§£é”ï¼Œä½ åœ¨ Chromium/Chome æµè§ˆå™¨ä¸Šå°†ä¼šçœ‹åˆ°â€œåŒæ­¥æš‚åœâ€çš„æç¤ºã€‚\nå¦‚æœå¯†é’¥ç¯ä¸€ç›´å­˜åœ¨ï¼Œä¸ºä»€ä¹ˆä½ ä»æ¥æ²¡æœ‰è§è¿‡å®ƒå‘¢?\nå¦‚æœä½ åœ¨ä½ çš„ Linux ç³»ç»Ÿä¸Šä»æ²¡è§è¿‡å®ƒçš„è¯ï¼Œè¿™ä¸ªé—®é¢˜å°±å¾ˆæœ‰é“ç†ã€‚\nå¦‚æœä½ ä»æ²¡æœ‰ç”¨è¿‡è‡ªåŠ¨ç™»å½•åŠŸèƒ½ï¼ˆæˆ–è€…ä¿®æ”¹ä½ çš„è´¦æˆ·å¯†ç ï¼‰ï¼Œä½ å¯èƒ½éƒ½æ²¡æœ‰æ„è¯†åˆ°è¿™ä¸ªç‰¹æ€§çš„å­˜åœ¨ã€‚\nè¿™æ˜¯å› ä¸ºå½“ä½ é€šè¿‡ä½ çš„å¯†ç ç™»å½•ç³»ç»Ÿæ—¶ï¼Œä½ çš„å¯†é’¥ç¯è¢«ä½ çš„è´¦æˆ·å¯†ç è‡ªåŠ¨è§£é”äº†ã€‚\nUbuntuï¼ˆå’Œå…¶ä»–å‘è¡Œç‰ˆï¼‰åœ¨æ‰§è¡Œæ™®é€šçš„ç®¡ç†ä»»åŠ¡å¦‚ä¿®æ”¹ç”¨æˆ·ã€å®‰è£…æ–°è½¯ä»¶ç­‰éœ€è¦è¾“å…¥å¯†ç ï¼Œæ— è®ºä½ æ˜¯å¦æ˜¯è‡ªåŠ¨ç™»å½•çš„ã€‚ä½†æ˜¯å¯¹äºæ—¥å¸¸ä»»åŠ¡åƒä½¿ç”¨æµè§ˆå™¨ï¼Œå®ƒä¸éœ€è¦è¾“å…¥å¯†ç å› ä¸ºå¯†é’¥ç¯å·²ç»è¢«è§£é”äº†ã€‚\nå½“ä½ åˆ‡æ¢åˆ°è‡ªåŠ¨ç™»å½•æ—¶ï¼Œä½ ä¸å†éœ€è¦è¾“å…¥ç™»å½•å¯†ç ã€‚è¿™æ„å‘³ç€å¯†é’¥ç¯æ²¡æœ‰è¢«è‡ªåŠ¨è§£é”ï¼Œå› æ­¤å½“ä½ ä½¿ç”¨åˆ©ç”¨äº†å¯†é’¥ç¯ç‰¹æ€§çš„æµè§ˆå™¨æ—¶ï¼Œå®ƒå°†æç¤ºä½ æ¥è§£é”å¯†é’¥ç¯ã€‚\nä½ å¯ä»¥è½»æ¾åœ°ç®¡ç†å¯†é’¥ç¯å’Œå¯†ç \nè¿™ä¸ªå¯†é’¥ç¯æ”¾åœ¨å“ªé‡Œï¼Ÿå®ƒçš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªå®ˆæŠ¤ä»»åŠ¡ï¼ˆä¸€ä¸ªåå°è‡ªåŠ¨è¿è¡Œçš„ç¨‹åºï¼‰ã€‚\nåˆ«æ‹…å¿ƒã€‚ä½ ä¸å¿…é€šè¿‡ç»ˆç«¯æ¥æ“ä½œå®ˆæŠ¤ä»»åŠ¡ã€‚å¤§å¤šæ•°æ¡Œé¢ç¯å¢ƒéƒ½è‡ªå¸¦ä¸€ä¸ªå¯ä»¥å’Œè¿™ä¸ªå®ˆæŠ¤è¿›ç¨‹è¿›è¡Œäº¤äº’çš„å›¾å½¢åŒ–åº”ç”¨ç¨‹åºã€‚KDE ä¸Šæœ‰ KDE é’±åŒ…ï¼ŒGNOME å’Œå…¶ä»–æ¡Œé¢ä¸Šå«åšâ€œå¯†ç å’Œå¯†é’¥â€ï¼ˆPassword And Keysï¼‰ã€‚\nä½ å¯ä»¥ç”¨è¿™ä¸ª GUI ç¨‹åºæ¥æŸ¥çœ‹å“ªäº›åº”ç”¨ç¨‹åºåœ¨ç”¨å¯†é’¥ç¯æ¥ç®¡ç†/ä¿æŠ¤å¯†ç ã€‚\nä½ å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘çš„ç³»ç»Ÿæœ‰è‡ªåŠ¨åˆ›å»ºçš„ç™»å½•å¯†é’¥ç¯ã€‚ä¹Ÿæœ‰ä¸€ä¸ªå­˜å‚¨ GPG å’Œ SSH å¯†é’¥çš„å¯†é’¥ç¯ã€‚é‚£ä¸ªè¯ä¹¦ç”¨æ¥ä¿å­˜è¯ä¹¦æœºæ„é¢å‘çš„è¯ä¹¦ï¼ˆå¦‚ HTTPS è¯ä¹¦ï¼‰ã€‚\nä½ ä¹Ÿå¯ä»¥ä½¿ç”¨è¿™ä¸ªåº”ç”¨ç¨‹åºæ¥æ‰‹åŠ¨ä¿å­˜ç½‘ç«™çš„å¯†ç ã€‚\nè¿™é‡Œæœ‰ä¸€ä¸ªæ½œåœ¨çš„é—®é¢˜ï¼Œå¦‚æœä½ æ ¼å¼åŒ–ä½ çš„ç³»ç»Ÿï¼Œæ‰‹åŠ¨ä¿å­˜çš„å¯†ç å¿…ç„¶ä¼šä¸¢å¤±ã€‚é€šå¸¸ï¼Œä½ ä¼šå¤‡ä»½ä½ çš„ä¸ªäººæ–‡ä»¶ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„ç”¨æˆ·ç‰¹å®šæ•°æ®ï¼Œå¦‚å¯†é’¥ç¯æ–‡ä»¶ã€‚\næœ‰ä¸€ç§åŠæ³•èƒ½è§£å†³å®ƒã€‚å¯†é’¥ç¯æ•°æ®é€šå¸¸ä¿å­˜åœ¨ ~/.local/share/keyrings ç›®å½•ã€‚åœ¨è¿™é‡Œä½ å¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„å¯†é’¥ç¯ï¼Œä½†æ˜¯ä½ ä¸èƒ½ç›´æ¥çœ‹åˆ°å®ƒä»¬çš„å†…å®¹ã€‚å¦‚æœä½ ç§»é™¤å¯†é’¥ç¯çš„å¯†ç ï¼ˆæˆ‘ä¼šåœ¨è¿™ç¯‡æ–‡ç« çš„åé¢æè¿°æ“ä½œæ­¥éª¤ï¼‰ï¼Œä½ å¯ä»¥åƒä¸€ä¸ªæ™®é€šçš„æ–‡æœ¬æ–‡ä»¶ä¸€æ ·è¯»å–å¯†é’¥ç¯çš„å†…å®¹ã€‚ä½ å¯ä»¥å°†è¿™ä¸ªè§£é”åçš„å¯†é’¥ç¯æ–‡ä»¶å®Œæ•´åœ°å¤åˆ¶ä¸‹æ¥ï¼Œå¹¶åœ¨å…¶ä»–çš„ Linux æœºå™¨ä¸Šè¿è¡Œâ€œå¯†ç å’Œå¯†é’¥â€åº”ç”¨ç¨‹åºå¯¼å…¥åˆ°å…¶ä¸­ã€‚\næ€»ç»“ä¸€ä¸‹ç›®å‰ä¸ºæ­¢æ‰€å­¦çš„å†…å®¹ï¼š\n å¤§å¤šæ•° Linux ç³»ç»Ÿç¼ºçœå·²ç»å®‰è£…å¹¶æ¿€æ´»äº†å¯†é’¥ç¯ç‰¹æ€§ ç³»ç»Ÿä¸Šçš„æ¯ä¸ªç”¨æˆ·éƒ½æ‹¥æœ‰ä»–è‡ªå·±çš„å¯†é’¥ç¯ å¯†é’¥ç¯é€šå¸¸æ˜¯ç”¨è´¦æˆ·å¯†ç é”å®šçš„ï¼ˆä¿æŠ¤ï¼‰ å½“ä½ é€šè¿‡å¯†ç ç™»å½•æ—¶å¯†é’¥ç¯ä¼šè¢«è‡ªåŠ¨è§£é” å¯¹äºè‡ªåŠ¨ç™»å½•ï¼Œå¯†é’¥ç¯ä¸ä¼šè‡ªåŠ¨è§£é”ï¼Œå› æ­¤å½“ä½ è¯•å›¾ä½¿ç”¨ä¾èµ–å¯†é’¥ç¯çš„åº”ç”¨ç¨‹åºæ—¶ä¼šè¢«æç¤ºå…ˆè§£é”å®ƒ å¹¶ä¸æ˜¯æ‰€æœ‰çš„æµè§ˆå™¨æˆ–åº”ç”¨ç¨‹åºåˆ©ç”¨äº†å¯†é’¥ç¯ç‰¹æ€§ ï¼ˆLinux ä¸Šï¼‰å®‰è£…ä¸€ä¸ª GUI ç¨‹åºå¯ä»¥å’Œå¯†é’¥ç¯äº¤äº’ ä½ å¯ä»¥ç”¨å¯†é’¥ç¯æ¥æ‰‹åŠ¨å­˜å‚¨åŠ å¯†æ ¼å¼çš„å¯†ç  ä½ å¯ä»¥è‡ªå·±ä¿®æ”¹å¯†é’¥ç¯å¯†ç  ä½ å¯ä»¥é€šè¿‡å¯¼å‡ºï¼ˆéœ€è¦å…ˆè§£é”å¯†é’¥ç¯ï¼‰å¹¶å¯¼å…¥åˆ°å…¶ä»–è®¡ç®—æœºä¸Šçš„æ–¹å¼æ¥è·å–æ‰‹å·¥ä¿å­˜çš„å¯†ç ã€‚  ä¿®æ”¹å¯†é’¥ç¯å¯†ç  å‡è®¾ä½ ä¿®æ”¹äº†ä½ çš„è´¦æˆ·å¯†ç ã€‚å½“ä½ ç™»å½•æ—¶ï¼Œä½ çš„ç³»ç»Ÿè¯•å›¾é€šè¿‡æ–°çš„ç™»å½•å¯†ç æ¥è‡ªåŠ¨è§£é”å¯†é’¥ç¯ã€‚ä½†æ˜¯å¯†é’¥ç¯è¿˜åœ¨ä½¿ç”¨è€çš„ç™»å½•å¯†ç ã€‚\nè¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥ä¿®æ”¹å¯†é’¥ç¯å¯†ç ä¸ºæ–°çš„ç™»å½•å¯†ç ï¼Œè¿™æ ·å¯†ç ç¯æ‰èƒ½åœ¨ä½ ç™»å½•ç³»ç»Ÿæ—¶è‡ªåŠ¨è§£é”ã€‚\n ä»èœå•ä¸­æ‰“å¼€â€œå¯†ç å’Œå¯†é’¥â€åº”ç”¨ç¨‹åº åœ¨â€œLoginâ€å¯†é’¥ç¯ä¸Šå³å‡»å¹¶ç‚¹å‡»â€œä¿®æ”¹å¯†ç â€ï¼š  å¦‚æœä½ ä¸è®°å¾—è€çš„ç™»å½•å¯†ç æ€ä¹ˆåŠï¼Ÿ\nä½ å¯èƒ½çŸ¥é“åœ¨ Ubuntu ä¸Šé‡ç½®å¿˜è®°çš„å¯†ç å¾ˆå®¹æ˜“ã€‚ä½†æ˜¯å¯†é’¥ç¯åœ¨è¿™ç§åœºæ™¯ä¸‹è¿˜æ˜¯æœ‰é—®é¢˜ã€‚ä½ ä¿®æ”¹äº†è´¦æˆ·å¯†ç ï¼Œä½†æ˜¯ä½ ä¸è®°å¾—ä»ç„¶è¢«å¯†é’¥ç¯ä½¿ç”¨çš„è€çš„è´¦æˆ·å¯†ç ã€‚\nä½ ä¸èƒ½ä¿®æ”¹å®ƒå› ä¸ºä½ ä¸çŸ¥é“è€çš„å¯†ç ã€‚æ€ä¹ˆåŠï¼Ÿ\nè¿™ç§æƒ…å†µä¸‹ï¼Œä½ å°†ä¸å¾—ä¸ç§»é™¤æ•´ä¸ªå¯†é’¥ç¯ã€‚ä½ å¯ä»¥é€šè¿‡â€œå¯†ç å’Œå¯†é’¥â€åº”ç”¨ç¨‹åºæ¥æ“ä½œã€‚\nå¦å¤–ï¼Œä½ ä¹Ÿå¯ä»¥æ‰‹åŠ¨åˆ é™¤ ~/.local/share/keyrings ç›®å½•ä¸‹çš„å¯†é’¥ç¯æ–‡ä»¶ã€‚\nè€çš„å¯†é’¥ç¯æ–‡ä»¶è¢«ç§»é™¤åï¼Œä½ å†æ‰“å¼€ Chrome/Chromium æ—¶ï¼Œå®ƒä¼šæç¤ºä½ åˆ›å»ºä¸€ä¸ªæ–°çš„å¯†é’¥ç¯ã€‚\nä½ å¯ä»¥ç”¨æ–°çš„ç™»å½•å¯†ç ï¼Œå¯†é’¥ç¯å°±ä¼šè¢«è‡ªåŠ¨è§£é”äº†ã€‚\nç¦ç”¨å¯†é’¥ç¯å¯†ç  åœ¨ä½ æƒ³ç”¨è‡ªåŠ¨ç™»å½•ä½†åˆä¸æƒ³æ‰‹åŠ¨è§£é”å¯†é’¥ç¯æ—¶ï¼Œä½ å¯ä»¥æŠŠç¦ç”¨å¯†é’¥ç¯å¯†ç ä½œä¸ºä¸€ä¸ªè§„é¿æ–¹æ³•ã€‚è®°ä½ä½ æ­£åœ¨ç¦ç”¨ä¸€ä¸ªå®‰å…¨ç‰¹æ€§ï¼Œå› æ­¤è¯·ä¸‰æ€ã€‚\næ“ä½œæ­¥éª¤å’Œä¿®æ”¹å¯†é’¥ç¯ç›¸ä¼¼ã€‚æ‰“å¼€â€œå¯†ç å’Œå¯†é’¥â€åº”ç”¨ç¨‹åºï¼Œç„¶åä¿®æ”¹å¯†é’¥ç¯å¯†ç ã€‚\næŠ€å·§åœ¨äºå½“å®ƒæç¤ºä¿®æ”¹å¯†ç æ—¶ï¼Œä¸è¦è¾“å…¥æ–°å¯†ç ï¼Œè€Œæ˜¯ç‚¹å‡»â€œç»§ç»­â€æŒ‰é’®ã€‚è¿™å°†ç§»é™¤å¯†é’¥ç¯çš„å¯†ç ã€‚\nè¿™ç§æ–¹æ³•ï¼Œå¯†é’¥ç¯æ²¡æœ‰å¯†ç ä¿æŠ¤ï¼Œå¹¶å°†ä¸€ç›´å¤„äºè§£é”çŠ¶æ€ã€‚\nGnome Tweaks GNOME æ¡Œé¢æœ‰ç§°ä¸ºâ€œæ‰©å±•â€çš„å°æ’ä»¶æˆ–é™„åŠ ç»„ä»¶ï¼Œå­¦ä¼šä½¿ç”¨ GNOME æ‰©å±•æ¥æ‰©å±•ç³»ç»Ÿçš„å¯ç”¨æ€§ã€‚\n$ sudo apt install gnome-tweaks åŒæ—¶ä¼šå®‰è£…æ–°çš„ GNOME Shell extensionsï¼Œå¯ä»¥ç¦ç”¨æ¡Œé¢å›¾æ ‡ã€Ubuntu Dockã€‚å¯ä»æµè§ˆå™¨å®‰è£… GNOME Shell extensionsã€‚\nå¦‚ OpenWeatherï¼Œéœ€è®¾ç½® Locationï¼ŒUnits ä¸ºå…¬åˆ¶å•ä½ï¼ŒLayoutä¸ºRight\ntheme design: Skeuomorphism vs Flat Design vs Material Design\n ä¸»é¢˜ç›®å½•ï¼š /usr/share/themes æˆ– ~/.themes å›¾æ ‡é¼ æ ‡ç›®å½•ï¼š /usr/share/icons æˆ– ~/.icons å£çº¸ï¼š /usr/share/background , /usr/share/wallpapers  Ubuntu Dock Ubuntu Dock å°±æ˜¯ Dash to Dockã€‚å®‰è£…ï¼š\n$ sudo apt-get install gnome-shell-extension-dashtodock é‡å¯ï¼Œåœ¨ Extension ä¸­è®¾ç½® Dash to Dockï¼ŒDash to Dock ä¸ Ubuntu Dock åªèƒ½å¼€å¯ä¸€ä¸ªï¼Œå¦åˆ™æœ‰ä¸¤ä¸ª Dockï¼Œä½†æ˜¯å°±ç®—å…³é—­ Dash to Dockï¼ŒDash to Dock è®¾ç½®ä¾æ—§èµ·ä½œç”¨åˆ° Ubuntu Dockã€‚\né‡æ–°ç™»å½•ã€‚\nKDE Connect/GSConnect Files and links. Shared between devices.\nNetSpeed Displays Internet Speed\nClipboard Indicator Clipboard Manager extension for Gnome-Shell - Adds a clipboard indicator to the top panel, and caches clipboard history.\nCoverflow Alt-Tab Replacement of Alt-Tab, iterates through windows in a cover-flow manner.\nBluetooth Quick Connect Allow to connect to paired devices from gnome control panel.\nDesktop Icons NG (DING) with these advantages:\n Drag\u0026rsquo;n\u0026rsquo;Drop, both inside the desktop, between desktop and applications, and nautilus windows Allows to use \u0026ldquo;Open with\u0026hellip;\u0026rdquo; option with several files When hovering or clicking on an icon with a name too large to fit, it shows the full name Doesn\u0026rsquo;t hang the compositor when there is too much activity in the desktop folder  Frippery Move Clock Move clock to left of status menu button\nInput Method Panel Input Method Panel using KDE\u0026rsquo;s kimpanel protocol for Gnome-Shell\nLock Keys Numlock \u0026amp; Capslock status on the panel\nOpenWeather Weather extension to display weather information from https://openweathermap.org/ or https://darksky.net for almost all locations in the world.\nPanel Date Format Allows to customize the date format on the panel.\nRefresh Wifi Connections This extension adds a refresh button to the Wi-Fi connection selection dialog to manually request for a network scan.\nScreenshot Tool Conveniently create, copy, store and upload screenshots. Please log out and log in again after updating.\nSound Input \u0026amp; Output Device ChooserLivepatch Shows a list of sound output and input devices (similar to gnome sound settings) in the status menu below the volume slider.\nStatus Area Horizontal Spacing Reduce the horizontal spacing between icons in the top-right status area\nUnite Unite is a GNOME Shell extension which makes a few layout tweaks to the top panel and removes window decorations to make it look like Ubuntu Unity Shell.\nUser Themes Load shell themes from user directory.\nVitals A glimpse into your computer\u0026rsquo;s temperature, voltage, fan speed, memory usage, processor load, system resources, network speed and storage stats. This is a one stop shop to monitor all of your vital sensors. Uses asynchronous polling to provide a smooth user experience.\nPapirus Icon Theme $ sudo add-apt-repository ppa:papirus/papirus $ sudo apt-get update $ sudo apt-get install papirus-icon-theme Materia Theme $ sudo apt install materia-gtk-theme Chrome Import Passwords\n Launch Chrome on your computer. Type the following in the address bar and pressEnter: chrome://flags On the flags screen, put your cursor in the search box and type Password import. You should see the Password import flag in the search results. To enable this flag, click the dropdown menu next to the flag and select Enabled. Click Relaunch at the bottom to relaunch Chrome. This will restore all of your open tabs. When Chrome opens, click the three dots in the top-right corner, and select Settings \u0026gt; Passwords on the following screen. Click the three dots next to Saved Passwords and select Import. Navigate to your CSV passwords file and select it to import it into Chrome.  Tampermonkey æä¾›ç”¨æˆ·è„šæœ¬\n FastGithub é•œåƒåŠ é€Ÿè®¿é—®ã€å…‹éš†å’Œä¸‹è½½ æ–‡æœ¬é€‰ä¸­å¤åˆ¶ï¼šè§£é™¤ç½‘ç«™ä¸å…è®¸å¤åˆ¶çš„é™åˆ¶ï¼Œæ–‡æœ¬é€‰ä¸­åç‚¹å‡»å¤åˆ¶æŒ‰é’®å³å¯å¤åˆ¶ï¼Œä¸»è¦ç”¨äº ç™¾åº¦æ–‡åº“ é“å®¢å·´å·´ æ— å¿§è€ƒç½‘ å­¦ä¹ å•¦ è“¬å‹ƒèŒƒæ–‡ æ€å¦ç¤¾åŒº åŠ›æ‰£ çŸ¥ä¹ è¯­é›€ ç­‰ ç§’ä¼ é“¾æ¥æå–ï¼šç”¨äºæå–å’Œç”Ÿæˆç™¾åº¦ç½‘ç›˜ç§’ä¼ é“¾æ¥ çŸ¥ä¹å¢å¼ºï¼šç§»é™¤ç™»å½•å¼¹çª— ç½‘é¡µå¤åˆ¶é™åˆ¶è§£é™¤  Download All Images ä¸‹è½½ç½‘é¡µæ‰€æœ‰å›¾ç‰‡\nuBlock Origin ç¦å¹¿å‘Š\næ²™æ‹‰æŸ¥è¯ èšåˆè¯å…¸ä¸“ä¸šåˆ’è¯ç¿»è¯‘\nInfinity New Tab Chrome Extensionï¼Œè§£å†³ Chrome new tab åŠ è½½åä¼šæ¸…ç©ºæœç´¢æ é—®é¢˜\nQuestions The repository \u0026lsquo;http://dl.google.com/linux/chrome/deb stable Release\u0026rsquo; does not have a Release file\nThe \u0026ldquo;key\u0026rdquo; is \u0026ldquo;repository can\u0026rsquo;t be authenticated\u0026rdquo;\nIMHO\u0026hellip; you don\u0026rsquo;t have the key of the repo\nTo solve that just use this command:\n$ wget -q -O - https://dl.google.com/linux/linux_signing_key.pub | sudo apt-key add - Chromium Chromium æ˜¯ä¸€æ¬¾æ¥è‡ª \u0026ldquo;The Chromium Project\u0026rdquo; çš„å¼€æºå›¾å½¢ç½‘ç»œæµè§ˆå™¨ï¼ŒåŸºäº Blink æ¸²æŸ“å¼•æ“ã€‚å®ƒä¹Ÿæ˜¯å•†ä¸šè½¯ä»¶ Google Chrome æµè§ˆå™¨å¾—ä»¥ç»„æˆçš„åŸºç¡€ã€‚\nåœ¨è¿™é‡Œä½ å¯ä»¥çœ‹åˆ° Google Chrome ä¸ Chromium æµè§ˆå™¨çš„åŒºåˆ«ã€‚æ­¤å¤–ï¼Œè¿˜æœ‰ä¸€ç‚¹é‡è¦çš„ä¸åŒï¼š2021å¹´3æœˆ2æ—¥å‘å¸ƒçš„ Chromium 89 åŠå…¶ä»¥åç‰ˆæœ¬ä¸å†æ”¯æŒ Google è´¦æˆ·åŒæ­¥åŠŸèƒ½ã€‚\næ³¨æ„ï¼š ç›®å‰ï¼Œå¯ä»¥é€šè¿‡ ä½¿ç”¨ Chrome çš„OAuth2 å‡­è¯æˆ–è€… ç”³è¯·ä¸€ä¸ªå±äºè‡ªå·±çš„å‡­è¯æ¥æ¢å¤åŒæ­¥åŠŸèƒ½, ä½†æ˜¯è¯·æ³¨æ„ï¼Œè¿™ä¸ä¸€å®šæ˜¯ä¸€ä¸ªé•¿æœŸçš„è§£å†³æ–¹æ¡ˆã€‚é•¿æœŸæ¥è®²ï¼Œæœ€å¥½è€ƒè™‘ä½¿ç”¨ xbrowsersync æ¥åŒæ­¥ä¹¦ç­¾æ•°æ®ã€‚\nFirefox ä¸»è¦ç”¨äº Firefoxï¼Œå®‰è£…åª’ä½“è§£ç å™¨æ¥æ’­æ”¾ MP3ã€MPEG4 å’Œå…¶ä»–æ ¼å¼åª’ä½“æ–‡ä»¶ã€‚ç”±äºå„ä¸ªå›½å®¶çš„ç‰ˆæƒé—®é¢˜ï¼Œ Ubuntu åœ¨é»˜è®¤æƒ…å†µä¸‹ä¸ä¼šå®‰è£…å®ƒã€‚\n$ sudo apt-get install ubuntu-restricted-extras è¿™ç§æ–¹å¼ä¼šå®‰è£… .exe ç¨‹åºï¼Œä¸å¦‚ç›´æ¥å®‰è£…\n$ sudo apt-get install h264enc Flameshot Powerful, yet simple to use open-source screenshot software.\n   Keys Description     â†, â†“, â†‘, â†’ Move selection 1px   Shift + â†, â†“, â†‘, â†’ Resize selection 1px   Esc Quit capture   Ctrl + C Copy to clipboard   Ctrl + S Save selection as a file   Ctrl + Z Undo the last modification   Right Click Show color picker   Mouse Wheel Change the tool\u0026rsquo;s thickness    Add a new Shortcuts\n On \u0026lsquo;Name\u0026rsquo;, name it \u0026lsquo;Flameshot\u0026rsquo; Define the command as \u0026lsquo;flameshot gui\u0026rsquo;. Select \u0026lsquo;Define shortcut\u0026hellip;\u0026lsquo;and click your keyboard win + shift + Prt Sc key.  PPSSPP A PSP emulator.\n$ sudo add-apt-repository ppa:ppsspp/stable $ sudo apt-get update $ sudo apt install ppsspp Graphics:\n Rendering Mode  set the Backend from OpenGL to Vulkan.   Framework Control  Frameskipping is Off Auto-Frameskip is Off set the Alternative Speed to Unlimited   Postprocessing effects  Postprocessing shader should be off.   Performance  If your Device is Powerful, high rendering resolution will work. Its recommended to first try with 2x Rendering resolution as It brings impressive graphics and supports stable gameplay too Hardware transform, Software skinning, Vertex cache and Lazy texture caching should be checked. Retain changed textures should be unchecked while keeping Disable slower effects and Hardware Installation checked.   Overlay Information  Select FPS in Show FPS counter.    System:\n Make sure Fast memory is checked Set I/O timing method, to Simulate UMD delays or Fast  yuzu yuzu æ˜¯ Citraçš„åˆ¶ä½œè€…å†™çš„ä¸€ä¸ªå¼€æºNSæ¨¡æ‹Ÿå™¨ï¼Œç”¨C++ç¼–å†™ï¼Œç‰¹ç‚¹åŒ…æ‹¬Vulkan APIçš„æ”¯æŒã€çµæ´»çš„æ¨¡æ‹Ÿå™¨é…ç½®ä»¥åŠæ¸¸æˆé…ç½®ç­‰ç­‰ã€‚\nç©äº† super mario odysseyï¼Œè¿‡åœºåŠ¨ç”»å¾ˆå¡é¡¿ï¼Œå¯ä»¥è½¯é…ç½®çš„å¾ˆå°‘ï¼Œä¸»è¦çœ‹ç¡¬ä»¶é…ç½®ï¼Œæˆ‘çš„é…ç½®ç© BOTW æ˜¯ä¸å¯èƒ½äº†ã€‚\nå®‰è£…   é€‰æ‹© File -\u0026gt; Open yuzu Folder\n  åœ¨æ‰“å¼€çš„ç›®å½•ä¸‹ï¼Œæ–°å»ºkeysæ–‡ä»¶å¤¹ï¼ˆå¦‚æœæ²¡æœ‰ï¼‰ï¼Œç„¶åè¿›å…¥keysæ–‡ä»¶å¤¹ï¼Œæ”¾å…¥keyæ–‡ä»¶prod.keysï¼Œå†…å®¹å¦‚ä¸‹\naes_kek_generation_source = 4d870986c45d20722fba1053da92e8a9 aes_key_generation_source = 89615ee05c31b6805fe58f3da24f7aa8 bis_kek_source = 34c1a0c48258f8b4fa9e5e6adafc7e4f bis_key_00 = 374e0e2ab275141f811badcb0fefd881b71d6af540de58895901aa0c01663bc8 bis_key_01 = 0b08f19a42ac5ae590b3373ad9698344a571f35165663536dae0842b5221b31c bis_key_02 = 38f0936f33bacedc0c0a159ffbbeee0f40bb08386915bdd0c6730349b99081ec bis_key_03 = 38f0936f33bacedc0c0a159ffbbeee0f40bb08386915bdd0c6730349b99081ec bis_key_source_00 = f83f386e2cd2ca32a89ab9aa29bfc7487d92b03aa8bfdee1a74c3b6e35cb7106 bis_key_source_01 = 41003049ddccc065647a7eb41eed9c5f44424edab49dfcd98777249adc9f7ca4 bis_key_source_02 = 52c2e9eb09e3ee2932a10c1fb6a0926c4d12e14b2a474c1c09cb0359f015f4e4 device_key = bd16c45b2647d842c5ee3c869e3a9607 device_key_4x = 2078900c6bb36fff1fdad57a7dd1b66e eticket_rsa_kek = 19c8b441d318802bad63a5beda283a84 eticket_rsa_kek_source = dba451124ca0a9836814f5ed95e3125b eticket_rsa_kekek_source = 466e57b74a447f02f321cde58f2f5535 header_kek_source = 1f12913a4acbf00d4cde3af6d523882a header_key = aeaab1ca08adf9bef12991f369e3c567d6881e4e4a6a47a51f6e4877062d542d header_key_source = 5a3ed84fdec0d82631f7e25d197bf5d01c9b7bfaf628183d71f64d73f150b9d2 key_area_key_application_00 = ef979e289a132c23d39c4ec5a0bba969 key_area_key_application_01 = cdedbab97b69729073dfb2440bff2c13 key_area_key_application_02 = 75716ed3b524a01dfe21456ce26c7270 key_area_key_application_03 = f428306544cf5707c25eaa8bc0583fd1 key_area_key_application_04 = 798844ec099eb6a04b26c7c728a35a4d key_area_key_application_05 = a57c6eecc5410ada22712eb3ccbf45f1 key_area_key_application_06 = 2a60f6c4275df1770651d5891b8e73ec key_area_key_application_07 = 32221bd6ed19b938bec06b9d36ed9e51 key_area_key_application_08 = fb20aa9e3dbf67350e86479eb431a0b3 key_area_key_application_09 = ce8d5fa79e220d5f48470e9f21be018b key_area_key_application_0a = 38b865725adcf568a81d2db3ceaa5bcc key_area_key_application_0b = bbddfd40a59d0ff555c0954239972213 key_area_key_application_0c = 3fee7204e21c6b0ff1373226c0c3e055 key_area_key_application_source = 7f59971e629f36a13098066f2144c30d key_area_key_ocean_00 = b33813e4c9c4399c75fabc673ab4947b key_area_key_ocean_01 = c54166efa8c9c0f6511fa8b580191677 key_area_key_ocean_02 = 3061ce73461e0b0409d6a33da85843c8 key_area_key_ocean_03 = 06f170025a64921c849df168e74d37f2 key_area_key_ocean_04 = dc857fd6dc1c6213076ec7b902ec5bb6 key_area_key_ocean_05 = 131d76b70bd8a60036d8218c15cb610f key_area_key_ocean_06 = 17d565492ba819b0c19bed1b4297b659 key_area_key_ocean_07 = 37255186f7678324bf2b2d773ea2c412 key_area_key_ocean_08 = 4115c119b7bd8522ad63c831b6c816a6 key_area_key_ocean_09 = 792bfc652870cca7491d1685384be147 key_area_key_ocean_0a = dfcc9e87e61c9fba54a9b1c262d41e4d key_area_key_ocean_0b = 66fe3107f5a6a8d8eda2459d920b07a1 key_area_key_ocean_0c = b79b6bf3d6cdc5ec10277fc07a4fec93 key_area_key_ocean_source = 327d36085ad1758dab4e6fbaa555d882 key_area_key_system_00 = 6dd02aa15b440d6231236b6677de86bc key_area_key_system_01 = 4ab155e7f29a292037fd147592770b12 key_area_key_system_02 = b7a74adeaf89c2a198c327bdff322d7d key_area_key_system_03 = d5aab1acd23a8aec284a316df859d377 key_area_key_system_04 = 9b44b45b37de9d14754b1d22c2ca742c key_area_key_system_05 = 0012e957530d3dc7af34fbbe6fd44559 key_area_key_system_06 = 01744e3b0818445cd54ee9f89da43192 key_area_key_system_07 = d0d30e46f5695b875f11522c375c5a80 key_area_key_system_08 = bd06cb1b86bd5c433667470a09eb63de key_area_key_system_09 = e19f788f658eda8bbf34a1dd2a9503a9 key_area_key_system_0a = 7070e7ff5cfe448630143a9874903c38 key_area_key_system_0b = 3fa471d4483e58b8f7756fcb64f63890 key_area_key_system_0c = 7bfd381df3369407ab1c6bdd9fabf522 key_area_key_system_source = 8745f1bba6be79647d048ba67b5fda4a keyblob_00 = f759024f8199101dddc1ef91e6eecf37e24b95ac9272f7ae441d5d8060c843a48322d21cdd06d4fc958c68d3800eb4db939ffbec930177f77d136144ff615aa8835e811bb958deda218f8486b5a10f531b30cb9d269645ac9fc25c53fc80525e56bd3602988a9fcf06bbf99ca910ad6530791d512c9d57e17abf49220de6419bf4eca1685c1e4df77f19db7b44a985ca keyblob_01 = bd27264ae07e979756411d0c66e679e3c50851f3e902d9c2cd1a438b948159a517ec1566c10570326ea2697ee62da46f14bb5d581bfc06fd0c9387ea33d2d4dc63e7809ba90f03dd2c7112ffbfa548951b9b8c688b5e4f2951d24a73da29c668154a5d4838dba71ee068ace83fe720e8c2a495c596f73525dc3c05994b40ad27f8c60322f75cd548b821af9162e16f76 keyblob_02 = a3d4a8e153b8e6ae6e6aef3e8f219cb4b7790f47856accc76268f9afa99a1ff8b1a72f63d1f99f480a3c1532078bb59abdd25203cfb12a38b33e9ba6a09afb6f24283b3ba76a0161230a73669ddf5493c2b7919d094fd795b484794854f71e4f4c672245d7770e29397722444d111b4229cdbf35707b70634ea8f140766e884cc580cb1e2d9aa9866ffef920010fc409 keyblob_03 = 1558f525ae8c5be9243fb6d8a8b0a8ee0e886a59035668740a936619b7a5c83e821198b171d18e51445054df68688e45703b936818a827d8e540dd6bef2e11ec9ddc6cfe5fc736dd769b9f6e0a23a62e2e5f49e86143646a04ec3a23f828373a336a5c224a91f8a0c6c6a7b5844dd6415804209f83c943aeca9cfd856db6bd4ec32009c8cb268ed053052c9237dfd8bc keyblob_04 = 9fbeb1957fc1629e08b753a9086d6e01ffb4f11466b7417e3fa7f5f1efb754406704fd75afaf91a408a0b524c1fc80d36c2046fa4757412efe4c11e382f72e8a10d90ed580017d9deb87af2549b6b02661af48ff94f6072c0fef7fc2833b8bdae503898e2e927ac0663e8b6391dd4f1d685313935e2c48ece7d177c88bc9c883ede36c3677495784b838d7265c6ba7a1 keyblob_05 = 94a92da1d73c2b3e165c891ced5607fc6628ca2a0654f3fbc05711c063377c6e9c96a9d0192e530dd510e4fd41aa62ef4213c5f6e059e7e21db098a9b22d1e6c29bee148aaef15c52549d9165de96e85b0d029ecdc5843e2f32cb18be707eec61909cf3385d45bc2a4c8d76e9bfad5a40c4b92dcb982aa50d474897ac9ebb5351a7015dcc277a08f1214ad41384d7941 keyblob_key_00 = 839944c8a38df6791020b38147e906b0 keyblob_key_01 = b9e6fbde828b5f42c897ade8fd14c625 keyblob_key_02 = b6988a0795d294ef522908692d5db7ca keyblob_key_03 = 0e57d7777171d125d3fe3af5b397d009 keyblob_key_04 = b55a282d698fabeb4e03c67ff2026bc5 keyblob_key_05 = fdb542c1f1bdf134ec20b1fda02bc9e1 keyblob_key_source_00 = df206f594454efdc7074483b0ded9fd3 keyblob_key_source_01 = 0c25615d684ceb421c2379ea822512ac keyblob_key_source_02 = 337685ee884aae0ac28afd7d63c0433b keyblob_key_source_03 = 2d1f4880edeced3e3cf248b5657df7be keyblob_key_source_04 = bb5a01f988aff5fc6cff079e133c3980 keyblob_key_source_05 = d8cce1266a353fcc20f32d3b517de9c0 keyblob_mac_key_00 = 604422526723e541a849fa4c18660e0b keyblob_mac_key_01 = 279481456b1dc259d35599e6392e01e5 keyblob_mac_key_02 = dbbfb8096b676c2a54b5d9c61b423a94 keyblob_mac_key_03 = 48b7aef6d9b1edb132b8901a245a7750 keyblob_mac_key_04 = 544c082e9f8602c736dc0732d4319f88 keyblob_mac_key_05 = a540ec8ba84bd31eaaa9ce9f95226875 keyblob_mac_key_source = 59c7fb6fbe9bbe87656b15c0537336a5 mariko_master_kek_source_05 = 77605ad2ee6ef83c3f72e2599dac5e56 mariko_master_kek_source_06 = 1e80b8173ec060aa11be1a4aa66fe4ae mariko_master_kek_source_07 = 940867bd0a00388411d31adbdd8df18a mariko_master_kek_source_08 = 5c24e3b8b4f700c23cfd0ace13c3dc23 mariko_master_kek_source_09 = 8669f00987c805aeb57b4874de62a613 mariko_master_kek_source_0a = 0e440cedb436c03faa1daebf62b10982 mariko_master_kek_source_0b = e541acecd1a7d1abed0377f127caf8f1 mariko_master_kek_source_0c = 52719bdfa78b61d8d58511e48e4f74c6 master_kek_00 = f759024f8199101dddc1ef91e6eecf37 master_kek_01 = bd27264ae07e979756411d0c66e679e3 master_kek_02 = a3d4a8e153b8e6ae6e6aef3e8f219cb4 master_kek_03 = 1558f525ae8c5be9243fb6d8a8b0a8ee master_kek_04 = 9fbeb1957fc1629e08b753a9086d6e01 master_kek_05 = 94a92da1d73c2b3e165c891ced5607fc master_kek_08 = e42f1ec8002043d746575ae6dd9f283f master_kek_09 = cec2885fbeef5f6a989db84a4cc4b393 master_kek_0a = dd1a730232522b5cb4590cd43869ab6a master_kek_0b = fc6f0c891d42710180724ed9e112e72a master_kek_0c = 43f7fc20fcec22a5b2a744790371b094 master_kek_source_06 = 374b772959b4043081f6e58c6d36179a master_kek_source_07 = 9a3ea9abfd56461c9bf6487f5cfa095c master_kek_source_08 = dedce339308816f8ae97adec642d4141 master_kek_source_09 = 1aec11822b32387a2bedba01477e3b67 master_kek_source_0a = 303f027ed838ecd7932534b530ebca7a master_kek_source_0b = 8467b67f1311aee6589b19af136c807a master_kek_source_0c = 683bca54b86f9248c305768788707923 master_key_00 = c2caaff089b9aed55694876055271c7d master_key_01 = 54e1b8e999c2fd16cd07b66109acaaa6 master_key_02 = 4f6b10d33072af2f250562bff06b6da3 master_key_03 = 84e04ec20b9373818c540829cf147f3d master_key_04 = cfa2176790a53ff74974bff2af180921 master_key_05 = c1dbedcebf0dd6956079e506cfa1af6e master_key_06 = 0aa90e6330cdc12d819b3254d11a4e1e master_key_07 = 929f86fbfe4ef7732892bf3462511b0e master_key_08 = 23cfb792c3cb50cd715da0f84880c877 master_key_09 = 75c93b716255319b8e03e14c19dea64e master_key_0a = 73767484c73088f629b0eeb605f64aa6 master_key_0b = 8500b14bf4766b855a26ffc614097a8f master_key_0c = b3c503709135d4b35de31be4b0b9c0f7 master_key_source = d8a2410ac6c59001c61d6a267c513f3c package1_key_00 = f4eca1685c1e4df77f19db7b44a985ca package1_key_01 = f8c60322f75cd548b821af9162e16f76 package1_key_02 = c580cb1e2d9aa9866ffef920010fc409 package1_key_03 = c32009c8cb268ed053052c9237dfd8bc package1_key_04 = ede36c3677495784b838d7265c6ba7a1 package1_key_05 = 1a7015dcc277a08f1214ad41384d7941 package2_key_00 = a35a19cb14404b2f4460d343d178638d package2_key_01 = a0dd1eacd438610c85a191f02c1db8a8 package2_key_02 = 7e5ba2aafd57d47a85fd4a57f2076679 package2_key_03 = bf03e9889fa18f0d7a55e8e9f684323d package2_key_04 = 09df6e361e28eb9c96c9fa0bfc897179 package2_key_05 = 444b1a4f9035178b9b1fe262462acb8e package2_key_06 = 442cd9c21cfb8914587dc12e8e7ed608 package2_key_07 = 70c821e7d6716feb124acbac09f7b863 package2_key_08 = 8accebcc3d15a328a48365503f8369b6 package2_key_09 = f562a7c6c42e3d4d3d13ffd504d77346 package2_key_0a = 0803167ec7fc0bc753d8330e5592a289 package2_key_0b = 341db6796aa7bdb8092f7aae6554900a package2_key_0c = 4e97dc4225d00c6ae33d49bddd17637d package2_key_source = fb8b6a9c7900c849efd24d854d30a0c7 per_console_key_source = 4f025f0eb66d110edc327d4186c2f478 retail_specific_aes_key_source = e2d6b87a119cb880e822888a46fba195 rsa_oaep_kek_generation_source = a8ca938434127fda82cc1aa5e807b112 rsa_private_kek_generation_source = ef2cb61a56729b9157c38b9316784ddd save_mac_kek_source = d89c236ec9124e43c82b038743f9cf1b save_mac_key = 71a917f1bac8f4f04d732e734c90e2ec save_mac_key_source = e4cd3d4ad50f742845a487e5a063ea1f save_mac_sd_card_kek_source = 0489ef5d326e1a59c4b7ab8c367aab17 save_mac_sd_card_key_source = 6f645947c56146f9ffa045d595332918 sd_card_custom_storage_key_source = 370c345e12e4cefe21b58e64db52af354f2ca5a3fc999a47c03ee004485b2fd0 sd_card_kek_source = 88358d9c629ba1a00147dbe0621b5432 sd_card_nca_key_source = 5841a284935b56278b8e1fc518e99f2b67c793f0f24fded075495dca006d99c2 sd_card_save_key_source = 2449b722726703a81965e6e3ea582fdd9a951517b16e8f7f1f68263152ea296a sd_seed = fdb479221c43741a118fb5475374d2f7 secure_boot_key = 208de9b9de94ff698d00657a6a82a973 ssl_rsa_kek = b011100660d1dccbad1b1b733afa9f95 ssl_rsa_kek_source_x = 7f5bb0847b25aa67fac84be23d7b6903 ssl_rsa_kek_source_y = 9a383bf431d0bd8132534ba964397de3 titlekek_00 = 62a24d6e6d0d0e0abf3554d259be3dc9 titlekek_01 = 8821f642176969b1a18021d2665c0111 titlekek_02 = 5d15b9b95a5739a0ac9b20f600283962 titlekek_03 = 1b3f63bcb67d4b06da5badc7d89acce1 titlekek_04 = e45c1789a69c7afbbf1a1e61f2499459 titlekek_05 = ddc67f7189f4527a37b519cb051eee21 titlekek_06 = b1532b9d38ab036068f074c0d78706ac titlekek_07 = 81dc1b1783df268789a6a0edbf058343 titlekek_08 = 47dfe4bf0eeda88b17136b8005ab08ea titlekek_09 = adaa785d90e1a9c182ac07bc276bf600 titlekek_0a = 42daa957c128f75bb1fda56a8387e17b titlekek_0b = d08903363f2c8655d3de3ccf85d79406 titlekek_0c = be2682599db34caa9bc7ebb2cc7c654c titlekek_source = 1edc7b3b60e6b4d878b81715985e629b tsec_key = 53ec4ac7c6c32ff2abff3eeff4f84f36 tsec_root_key_02 = 4b4fbcf58e23cf4902d478b76c8048ec yuzuä»¥åŠRyujinxéƒ½éœ€è¦prod.keysï¼Œé‡Œé¢åŒ…å«äº†NSè®¾å¤‡éœ€è¦çš„keyï¼Œéœ€è¦é€šè¿‡ Hekateç­‰ä¸€äº›åˆ—å·¥å…·ç”Ÿæˆã€‚yuzuä¸éœ€è¦å•ç‹¬å®‰è£…å›ºä»¶ï¼Œåªè¦æŠŠkeyæ–‡ä»¶æ”¾å¥½å°±å¯ä»¥å¯åŠ¨æ¸¸æˆäº†ã€‚\n  å…³é—­æ¨¡æ‹Ÿå™¨ï¼Œé‡æ–°æ‰“å¼€ yuzu ï¼Œè‹¥æ²¡æœ‰å¼¹çª—ï¼Œåˆ™é…ç½®æˆåŠŸ\n  è®¾ç½® General\nç¡®ä¿å‹¾é€‰ Multicore CPU Emulation å’Œ Confirm exit while emulation is runingã€‚\nLimit Speed percentï¼šæ¸¸æˆè¿è¡Œé€Ÿåº¦ï¼Œé»˜è®¤å³å¯ï¼Œå¯åŠ å¿«æˆ–é™é€Ÿ\nPause emulation when inbackgroundï¼šé€€åˆ°åå°æ¨¡æ‹Ÿå™¨æš‚åœè¿è¡Œ\nHide mouse inactivityï¼šè¿è¡Œæ—¶é¼ æ ‡éšè—\nPrompt for user for game bootï¼šæ¸¸æˆå¯åŠ¨æ—¶é€‰æ‹©å“ªä¸ªè´¦æˆ·æ¸¸ç©\nWeb\nyuzu web serviceï¼šå¡«äº†ç”¨æˆ·åå’Œä»¤ç‰Œä»¥åå¯ä»¥å‘å®˜ç½‘æŠ¥å‘Šæ¸¸æˆå…¼å®¹æ€§\nTelemetryï¼šå¼€äº†ä»¥åèƒ½è®©yuzuå¼€å‘è€…æŸ¥çœ‹ä½ çš„ä½¿ç”¨æƒ…å†µï¼Œä»¥ä¾¿æ”¹å–„æ¨¡æ‹Ÿå™¨\nDiscord Presenceï¼šåœ¨discordä¸­æ˜¾ç¤ºä½ çš„æ¸¸æˆçŠ¶æ€\nç³»ç»Ÿ\nSystem é¡µé¢ï¼ŒLanguage é€‰æ‹© Simplified Chineseï¼ŒRegion é€‰æ‹© Chinaã€‚è¿™ä¸ªè®¾ç½®çš„æ˜¯ç³»ç»Ÿè¯­è¨€ï¼Œå¾ˆå¤šæ¸¸æˆä¼šæ ¹æ®ç³»ç»Ÿè¯­è¨€è‡ªåŠ¨åˆ‡æ¢æ¸¸æˆå†…æ˜¾ç¤ºçš„è¯­è¨€ã€‚å½“ç„¶å‰ææ˜¯æ¸¸æˆæœ¬èº«åŒ…å«ä¸­æ–‡ï¼Œå¦‚æœæ¸¸æˆæœ¬èº«æ— ä¸­æ–‡åªèƒ½é€šè¿‡æ‰“è¡¥ä¸çš„æ–¹å¼æ˜¾ç¤ºä¸­æ–‡ã€‚\nCustom RTCï¼šä¿®æ”¹ç³»ç»Ÿæ—¶é—´ï¼Œå¯ä»¥è§¦å‘æŸäº›æ¸¸æˆçš„ç‰¹å®šå½©è›‹ä¹‹ç±»çš„åŠŸèƒ½ã€‚\nRNG seedï¼šéšæœºæ•°ç§å­ï¼Œä¸€èˆ¬æƒ…å†µåˆ«æ”¹æ”¹ã€‚\nProfile Managerï¼šè¿™é‡Œå¯ä»¥æ”¹switchç”¨æˆ·åç§°ã€å¤´åƒã€‚å¯ä»¥è®¾ç½®å¤šä¸ªç”¨æˆ·\nCPU\nå›¾å½¢\n APIè®¾ç½®ï¼šæ”¯æŒOpenGLå’ŒVulkanã€‚ Use disk shader cacheï¼šç£ç›˜ç€è‰²å™¨ç¼“å­˜ï¼Œå»ºè®®å¼€å¯ï¼Œè¿™æ ·å°±ä¸ç”¨æ¯æ¬¡éƒ½é‡æ–°ç¼–è¯‘ï¼Œè€Œæ˜¯ç›´æ¥ä»ç£ç›˜åŠ è½½åˆ°å†…å­˜ Use asynchronous GPU emulationï¼šGPUå¼‚æ­¥æ¨¡æ‹Ÿï¼Œyuzué‡å†™äº†GPUæ˜¾å­˜ç®¡ç†å™¨ï¼ŒåŠ é€Ÿäº†ç¼“å­˜æœºåˆ¶ï¼Œä½¿å¾—å¸§æ•°å¾—åˆ°æ˜æ˜¾æç¤ºï¼ŒåŒæ—¶æ€§èƒ½æå‡40%-400%ï¼ˆæ¥è‡ªBSoD Gamingçš„æµ‹è¯•æ•°æ®ï¼‰ Use NVDEC emulationï¼šNVDECæ˜¯ä¸€é¡¹ç¡¬ä»¶è½¬ç æŠ€æœ¯ï¼Œèƒ½å‡å°‘è½¬ç æœŸé—´è®¡ç®—å¯†é›†å‹ä»»åŠ¡ä¸­CPUçš„è´Ÿæ‹…ï¼Œè¿™æ˜¯Nvidiaçš„ä¸€ä¸ªæŠ€æœ¯ï¼Œæœ‰äº†å®ƒï¼Œè¿‡åœºåŠ¨ç”»çš„æ’­æ”¾ä¼šç•…é¡ºå¾ˆå¤š  Advanced\n Accuracy Levelï¼šå³æ¨¡æ‹Ÿå™¨å·¦ä¸‹è§’çŠ¶æ€æ çš„ GPU NORMALã€‚æ˜¯å¤„ç†å›¾å½¢ç»˜åˆ¶ç²¾ç¡®åº¦ï¼Œå¼€å¯Highå¯èƒ½ä¼šä¿®å¤ä¸€äº›å›¾å½¢é”™è¯¯ï¼Œä½†æ˜¯é€Ÿåº¦å¯èƒ½ä¼šå˜æ…¢ï¼Œä¸€èˆ¬é€‰é»˜è®¤Normalå³å¯ Use Vysnc (OpenGL Only)ï¼šå¼€å¯å‚ç›´åŒæ­¥ Use Fast GPU timeï¼š ä½¿ç”¨GPUåŠ é€Ÿæ¸²æŸ“ Anisotropic Filteringï¼šæ˜¯å„é¡¹å¼‚æ€§è¿‡æ»¤ï¼Œæ˜¯ç”¨æ¥å¤„ç†å›¾å½¢çº¹ç†é”™è¯¯çš„ï¼Œå¯ä»¥é€‰2x-16x  å£°éŸ³\né»˜è®¤ã€‚\næ§åˆ¶\nè¿æ¥æ‰‹æŸ„ï¼Œé€‰æ‹©è¯¥è®¾å¤‡ã€‚\nç®¡ç† æ¸¸æˆæ ¼å¼åˆ†ä¸ºä¸¤ç§ï¼Œ.xci æ ¼å¼å’Œ .nsp æ ¼å¼ã€‚ç®€å•ä¸€ç‚¹è¯´ï¼Œ.xci æ ¼å¼æ˜¯å¡å¸¦ç‰ˆï¼Œ.nsp æ ¼å¼æ˜¯æ•°å­—ç‰ˆã€‚å› æ­¤åŸºæœ¬ä¸Šæ‰€æœ‰çš„ DLC åŸºæœ¬éƒ½æ˜¯ .nsp æ ¼å¼ï¼Œä½†ä¹Ÿæœ‰ .xci é‡Œé›†æˆäº† DLC çš„æƒ…å†µã€‚\næ·»åŠ æ¸¸æˆ\nåŒå‡»æ¨¡æ‹Ÿå™¨ä¸­é—´ï¼Œæ·»åŠ æ¸¸æˆç›®å½•ï¼Œæ¸¸æˆç›®å½•ä¹Ÿä¸è¦æœ‰ä¸­æ–‡ã€‚æ·»åŠ å®Œå°±å¯ä»¥çœ‹åˆ°æ¸¸æˆäº†ã€‚\nå®‰è£…Updateå’ŒDLC\né€‰æ‹©File -\u0026gt;Install Files to NAND\u0026hellip;ï¼Œé€‰ä¸­ Updateå’ŒDLCæ–‡ä»¶ï¼ŒUpdate å®‰è£…æœ€æ–°å°±è¡Œï¼ŒDLC éœ€è¦å…¨éƒ¨å®‰è£…ï¼ˆå¯ä»¥ä¸æŒ‰é¡ºåºï¼‰ã€‚\nå®‰è£… Mod\nMod ç”¨äºä¿®æ”¹æ¸¸æˆï¼Œå¦‚è§£å†³ä¸€äº›bugä»¥åŠä¼˜åŒ–æ€§èƒ½ç­‰ã€‚å³é”®å•å‡»è¦ä¸ºå…¶æ·»åŠ æ¨¡ç»„çš„æ¸¸æˆã€‚ç„¶åå°†æ•´ä¸ªmodæ–‡ä»¶å¤¹ç²˜è´´åˆ°é‚£é‡Œã€‚ä½ å¯ä»¥ä» Switch Mods è·å¾—ä¸€äº›åŸºæœ¬çš„ yuzu æ¨¡ç»„ã€‚\næ³¨æ„ï¼šæ‚¨å¯ä»¥é€šè¿‡å³é”®å•å‡»æ¸¸æˆå¹¶å•å‡»å±æ€§æ¥æ£€æŸ¥æ‚¨æ‹¥æœ‰çš„æ¸¸æˆæ¨¡ç»„ã€‚\næ”¾å…¥ç€è‰²å™¨ç¼“å­˜\næ”¾å…¥ç€è‰²å™¨ç¼“å­˜ï¼ˆshader cacheï¼‰å¯ä»¥æ˜æ˜¾æå‡æ¸¸æˆçš„æµç•…æ€§ï¼Œå»ºè®®æ‰¾æ‰¾åˆ«äººçš„ç€è‰²å™¨ç¼“å­˜ã€‚\nå…·ä½“æ”¾å…¥æ­¥éª¤ï¼šå³é”®æŸä¸ªæ¸¸æˆï¼Œé€‰æ‹©æ‰“å¼€å¯è½¬ç§»ç€è‰²å™¨ç¼“å­˜ï¼Œå³å¯å¼¹å‡ºç¼“å­˜æ‰€åœ¨æ–‡ä»¶å¤¹ï¼Œç„¶åæ”¾å…¥ä½ ä¸‹è½½çš„åˆ«äººçš„ç¼“å­˜å°±è¡Œäº†ï¼Œæ¯”å¦‚ vulkan.bin å’Œ opengl.bin\nuTools uTools æ˜¯ä¸€ä¸ªæç®€ã€æ’ä»¶åŒ–çš„ç°ä»£æ¡Œé¢è½¯ä»¶ï¼Œé€šè¿‡è‡ªç”±é€‰é…ä¸°å¯Œçš„æ’ä»¶ï¼Œæ‰“é€ å¾—å¿ƒåº”æ‰‹çš„å·¥å…·é›†åˆã€‚\nGoldendicté€šè¿‡å¿«æ·é”®ï¼ˆé»˜è®¤ alt + space ï¼‰å°±å¯ä»¥å¿«é€Ÿå‘¼å‡ºè¿™ä¸ªæœç´¢æ¡†ã€‚ä½ å¯ä»¥å¾€è¾“å…¥æ¡†å†…ç²˜è´´æ–‡æœ¬ã€å›¾ç‰‡ã€æˆªå›¾ã€æ–‡ä»¶ã€æ–‡ä»¶å¤¹ç­‰ç­‰ï¼Œèƒ½å¤Ÿå¤„ç†æ­¤å†…å®¹çš„æ’ä»¶ä¹Ÿæ—©å·²å‡†å¤‡å°±ç»ªï¼Œç»Ÿä¸€çš„è®¾è®¡é£æ ¼å’Œæ“ä½œæ–¹å¼ï¼ŒåŠ©ä½ é«˜æ•ˆçš„å¾—åˆ°ç»“æœã€‚\nä¸€æ—¦ä½ ç†Ÿæ‚‰å®ƒåï¼Œèƒ½å¤Ÿä¸ºä½ èŠ‚çº¦å¤§é‡æ—¶é—´ï¼Œå³ç”¨å³èµ°ã€ä¸ä¸­æ–­ã€æ— å¹²æ‰°ï¼Œè®©ä½ å¯ä»¥æ›´åŠ ä¸“æ³¨åœ°æ”¹å˜ä¸–ç•Œã€‚\nLiferea Liferea is a web feed reader/news aggregator that brings together all of the content from your favorite subscriptions into a simple interface that makes it easy to organize and browse feeds. Its GUI is similar to a desktop mail/news client, with an embedded web browser.\nCalibre calibre is a powerful and easy to use e-book manager. Users say itâ€™s outstanding and a must-have. Itâ€™ll allow you to do nearly everything and it takes things a step beyond normal e-book software. Itâ€™s also completely free and open source and great for both casual users and computer experts.\nVentoy ç®€å•æ¥è¯´ï¼ŒVentoyæ˜¯ä¸€ä¸ªåˆ¶ä½œå¯å¯åŠ¨Uç›˜çš„å¼€æºå·¥å…·ã€‚\næœ‰äº†Ventoyä½ å°±æ— éœ€åå¤åœ°æ ¼å¼åŒ–Uç›˜ï¼Œä½ åªéœ€è¦æŠŠ ISO/WIM/IMG/VHD(x)/EFI ç­‰ç±»å‹çš„æ–‡ä»¶ç›´æ¥æ‹·è´åˆ°Uç›˜é‡Œé¢å°±å¯ä»¥å¯åŠ¨äº†ï¼Œæ— éœ€å…¶ä»–æ“ä½œã€‚\nbalenaEtcher Supported Operating Systems\n Linux (most distros) macOS 10.10 (Yosemite) and later Microsoft Windows 7 and later  UNetbootin UNetbootin installs Linux/BSD distributions to a partition or USB drive\nWoeUSB-ng WoeUSB-ng is a simple tool that enable you to create your own usb stick windows installer from an iso image or a real DVD. This is a rewrite of original WoeUSB.\nGoldenDict Timeshift System restore tool for Linux.\nTodoist Plank Plank is meant to be the simplest dock on the planet.\nMotrix A full-featured download manager.\nSteam YACReader work_crawler Download comics novels\ndingtalk é’‰é’‰æ¡Œé¢ç‰ˆï¼ŒåŸºäºelectronå’Œé’‰é’‰ç½‘é¡µç‰ˆå¼€å‘\nhowdy Windows Helloâ„¢ style facial authentication for Linux\nå‘æ—¥è‘µ å‘æ—¥è‘µè¿œç¨‹æ§åˆ¶è½¯ä»¶æ˜¯ä¸€æ¬¾å…è´¹çš„é›†è¿œç¨‹æ§åˆ¶ç”µè„‘æ‰‹æœºã€è¿œç¨‹æ¡Œé¢è¿æ¥ã€è¿œç¨‹å¼€æœºã€è¿œç¨‹ç®¡ç†ã€æ”¯æŒå†…ç½‘ç©¿é€çš„ä¸€ä½“åŒ–è¿œç¨‹æ§åˆ¶ç®¡ç†å·¥å…·è½¯ä»¶ã€‚\nKeePassXC CLI Utilities Ansible å®‰è£…Ansibleä¹‹å,ä¸éœ€è¦å¯åŠ¨æˆ–è¿è¡Œä¸€ä¸ªåå°è¿›ç¨‹,æˆ–æ˜¯æ·»åŠ ä¸€ä¸ªæ•°æ®åº“.åªè¦åœ¨ä¸€å°ç”µè„‘(å¯ä»¥æ˜¯ä¸€å°ç¬”è®°æœ¬)ä¸Šå®‰è£…å¥½,å°±å¯ä»¥é€šè¿‡è¿™å°ç”µè„‘ç®¡ç†ä¸€ç»„è¿œç¨‹çš„æœºå™¨.åœ¨è¿œç¨‹è¢«ç®¡ç†çš„æœºå™¨ä¸Š,ä¸éœ€è¦å®‰è£…è¿è¡Œä»»ä½•è½¯ä»¶,å› æ­¤å‡çº§Ansibleç‰ˆæœ¬ä¸ä¼šæœ‰å¤ªå¤šé—®é¢˜.\nfdupes You can call it like fdupes -r /dir/ect/ory and it will print out a list of dupes. fdupes has also a simple Homepage and a Wikipedia article, which lists some more programs.\ndigiKam å¯ç”¨äºæŸ¥æ‰¾é‡å¤ç›¸ç‰‡ï¼Œç„¶åæ ¹æ®éœ€è¦åˆ é™¤é‡å¤å†…å®¹ã€‚\nbypy bypy info è®¤è¯ç‰¹åˆ«æ…¢ï¼Œè€Œæˆæƒç åˆåªæœ‰10åˆ†é’Ÿï¼Œå¯¼è‡´åé¢æˆæƒç è¿‡æœŸ Heroku server è®¤è¯å¤±è´¥å¤±è´¥ã€‚\nå¦‚æ­¤ï¼Œå¯ä»¥é€šè¿‡æ‰‹åŠ¨è®¤è¯ã€‚\n  é€šè¿‡ bypy -dv æŸ¥çœ‹è¯¦ç»†è¾“å‡ºï¼Œå¾—åˆ° Full URLï¼Œå¦‚ https://bypyoauth.herokuapp.com/auth?code=...\u0026amp;bypy_version=1.7.2\u0026amp;redirect_uri=oobï¼Œåœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ï¼Œè·å¾—tokenã€‚\n  å°†å…¶æ”¾åœ¨ ~/.bypy/bypy.json ä¸­ã€‚\n  æºç ä»“åº“ä¹Ÿæœ‰ç¤ºä¾‹ã€‚\næˆ‘ä¸‹è½½ä¸€ä¸ªå¤§æ–‡ä»¶ï¼Œæ€»å…±12Gå·¦å³ï¼Œå·²ç”¨äº†ä¸¤ä¸ªæ™šä¸Šï¼Œä¸­é€”æ²¡å…³ï¼ˆç”±äºä¸æ˜¯ç«‹é©¬å°±è¦çš„ä¸œè¥¿ï¼Œå°±ç”¨æ—¶é—´æ¢é‡‘é’±äº†ï¼‰ï¼Œä¸€æ¬¡çœ‹è¿›åº¦æ—¶ï¼ŒTerminal å°±å¡é€€äº†ï¼Œé‡æ–°è¿è¡Œåï¼Œbypyä¼šç»§ç»­ä¸Šæ¬¡ä¸‹è½½ï¼Œè€Œä¸æ˜¯é‡æ–°å¼€å§‹ï¼ˆè¿™æ ·è¯å¤ªå¯æ€•äº†ï¼‰ã€‚\nFRP frp æ˜¯ä¸€ä¸ªä¸“æ³¨äºå†…ç½‘ç©¿é€çš„é«˜æ€§èƒ½çš„åå‘ä»£ç†åº”ç”¨ï¼Œæ”¯æŒ TCPã€UDPã€HTTPã€HTTPS ç­‰å¤šç§åè®®ã€‚å¯ä»¥å°†å†…ç½‘æœåŠ¡ä»¥å®‰å…¨ã€ä¾¿æ·çš„æ–¹å¼é€šè¿‡å…·æœ‰å…¬ç½‘ IP èŠ‚ç‚¹çš„ä¸­è½¬æš´éœ²åˆ°å…¬ç½‘ã€‚\nå…¶ä»–å†…ç½‘ç©¿é€å·¥å…·\n ngrok ZeroTier N2N Dog Tunnel Tinc  Git $ vi .gitignore_default $ vi .auto-git.sh #!/bin/bash TIME=\u0026#34;$(date \u0026#39;+%Y%m%d%H%M%S\u0026#39;)\u0026#34; echo \u0026#39;###SakamotoKuromeSource###\u0026#39; /bin/bash $HOME/Documents/SakamotoKuromeSource/deploy.sh echo \u0026#39;###vNotebook###\u0026#39; cd $HOME/Documents/vNotebook git pull echo \u0026#39;#Tree DataOne\u0026#39; echo \u0026#39;#Ignore files larger than 100MB\u0026#39; cat .gitignore_default \u0026gt; .gitignore find . -size +100M | sed \u0026#39;s|^./||g\u0026#39; | cat \u0026gt;\u0026gt; .gitignore git add . git commit -m \u0026#34;Update-${TIME}\u0026#34; git push -v $ crontab -e 0 12 * * * /home/vane/.auto-git.sh  A collection of useful .gitignore templates Ignore files \u0026gt;100MB in your Git repos About large files on GitHub  GitHub Desktop Focus on what matters instead of fighting with Git. Whether you\u0026rsquo;re new to Git or a seasoned user, GitHub Desktop simplifies your development workflow.\nlibguestfs libguestfs æ”¯æŒå‡ ä¹æ‰€æœ‰ç±»å‹çš„ç£ç›˜é•œåƒã€‚\nåœ¨åŸºäº Debian çš„ç³»ç»Ÿä¸Šï¼š\n$ apt-get install libguestfs-tools æˆ‘ä»¬å¯ä»¥åƒä¸‹é¢è¿™æ ·æŒ‚è½½ä¸€ä¸ª qcow2 æ ¼å¼çš„ç£ç›˜é•œåƒï¼š\n$ guestmount -a /path/to/qcow2/image -m \u0026lt;device\u0026gt; /path/to/mount/point è¦å¸è½½å®ƒï¼Œåˆ™æ‰§è¡Œï¼š\n$ guestunmount qcow2_mount_poin Oracle JDK   è§£å‹ç¼©åˆ°ç›®å½•\n$ tar -zxv -f jdk-7u60-linux-x64.gz -C dir   ä¿®æ”¹ç¯å¢ƒå˜é‡\n$ vi ~/.bashrc export JAVA_HOME=/usr/lib/jvm/jdk1.7.0_60 # è¿™é‡Œæ¢æˆè‡ªå·±è§£å‹çš„jdk ç›®å½• export JRE_HOME=${JAVA_HOME}/jre export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib export PATH=${JAVA_HOME}/bin:$PATH   ä½¿ç¯å¢ƒå˜é‡ç”Ÿæ•ˆ\n$ source ~/.bashrc   Snapper Snapper æ˜¯ä¸€ä¸ªç”± openSUSE çš„ Arvin Schnell å¼€å‘çš„å·¥å…·ï¼Œç”¨äºç®¡ç† Btrfs å­å·å’Œ LVM ç²¾ç®€é…ç½®(thin-provisioned)å·ã€‚å®ƒå¯ä»¥åˆ›å»ºå’Œæ¯”è¾ƒå¿«ç…§ï¼Œåœ¨å¿«ç…§é—´å›æ»šï¼Œå¹¶æ”¯æŒè‡ªåŠ¨æŒ‰æ—¶é—´åºåˆ—åˆ›å»ºå¿«ç…§ã€‚\nåˆ—å‡ºå­å·åˆ—è¡¨\n$ sudo btrfs subvolume list -p / ID 256 gen 7746 parent 5 top level 5 path @ ID 258 gen 7746 parmount -n -o remount,rw /ent 5 top level 5 path @home å®‰è£… snapper\n$ sudo apt install snapper snapper-gui åˆ›å»ºé…ç½®æ–‡ä»¶ï¼Œå¯ç”¨è‡ªåŠ¨å¿«ç…§\n$ sudo snapper -c root create-config / $ sudo snapper -c home create-config /home Snapshots on boot\n$ sudo systemctl status snapper-boot.timer ç®¡ç† snapshot\n$ sudo snapper-gui Fail2Ban Fail2Ban æ˜¯ä¸€æ¬¾å…¥ä¾µé˜²å¾¡è½¯ä»¶ï¼Œå¯ä»¥ä¿æŠ¤æœåŠ¡å™¨å…å—æš´åŠ›æ”»å‡»ã€‚ å®ƒæ˜¯ç”¨ Python ç¼–ç¨‹è¯­è¨€ç¼–å†™çš„ã€‚ Fail2Ban åŸºäºauth æ—¥å¿—æ–‡ä»¶å·¥ä½œï¼Œé»˜è®¤æƒ…å†µä¸‹å®ƒä¼šæ‰«ææ‰€æœ‰ auth æ—¥å¿—æ–‡ä»¶ï¼Œå¦‚ /var/log/auth.logã€/var/log/apache/access.log ç­‰ï¼Œå¹¶ç¦æ­¢å¸¦æœ‰æ¶æ„æ ‡å¿—çš„IPï¼Œæ¯”å¦‚å¯†ç å¤±è´¥å¤ªå¤šï¼Œå¯»æ‰¾æ¼æ´ç­‰ç­‰æ ‡å¿—ã€‚\né€šå¸¸ï¼ŒFail2Ban ç”¨äºæ›´æ–°é˜²ç«å¢™è§„åˆ™ï¼Œç”¨äºåœ¨æŒ‡å®šçš„æ—¶é—´å†…æ‹’ç» IP åœ°å€ã€‚ å®ƒä¹Ÿä¼šå‘é€é‚®ä»¶é€šçŸ¥ã€‚ Fail2Ban ä¸ºå„ç§æœåŠ¡æä¾›äº†è®¸å¤šè¿‡æ»¤å™¨ï¼Œå¦‚ sshã€apacheã€nginxã€squidã€namedã€mysqlã€nagios ç­‰ã€‚\nFail2Ban èƒ½å¤Ÿé™ä½é”™è¯¯è®¤è¯å°è¯•çš„é€Ÿåº¦ï¼Œä½†æ˜¯å®ƒä¸èƒ½æ¶ˆé™¤å¼±è®¤è¯å¸¦æ¥çš„é£é™©ã€‚ è¿™åªæ˜¯æœåŠ¡å™¨é˜²æ­¢æš´åŠ›æ”»å‡»çš„å®‰å…¨æ‰‹æ®µä¹‹ä¸€ã€‚\nSyncthing Syncthingæ˜¯ä¸€æ¬¾å¼€æºå…è´¹è·¨å¹³å°çš„æ–‡ä»¶åŒæ­¥å·¥å…·ï¼Œæ˜¯åŸºäºP2PæŠ€æœ¯å®ç°è®¾å¤‡é—´çš„æ–‡ä»¶åŒæ­¥ï¼Œæ‰€ä»¥å®ƒçš„åŒæ­¥æ˜¯å»ä¸­å¿ƒåŒ–çš„ï¼Œå³ä½ å¹¶ä¸éœ€è¦ä¸€ä¸ªæœåŠ¡å™¨ï¼Œæ•…ä¸éœ€è¦æ‹…å¿ƒè¿™ä¸ªä¸­å¿ƒçš„æœåŠ¡å™¨ç»™ä½ å¸¦æ¥çš„ç§ç§é™åˆ¶ï¼Œè€Œä¸”ç±»ä¼¼äºtorrentåè®®ï¼Œå‚ä¸åŒæ­¥çš„è®¾å¤‡è¶Šå¤šï¼ŒåŒæ­¥çš„é€Ÿåº¦è¶Šå¿«ã€‚é’ˆå¯¹éšç§é—®é¢˜ï¼ŒSyncthingè½¯ä»¶åªä¼šå°†æ•°æ®å­˜å‚¨äºä¸ªäººä¿¡ä»»çš„è®¾å¤‡ä¸Šï¼Œä¸ä¼šå­˜å‚¨åˆ°æœåŠ¡å™¨ä¸Šã€‚è®¾å¤‡ä¹‹é—´çš„é€šä¿¡å‡é€šè¿‡TLSè¿›è¡Œï¼ŒSyncthingè¿˜ä½¿ç”¨äº†å®Œå…¨æ­£å‘ä¿å¯†æŠ€æœ¯æ¥è¿›ä¸€æ­¥ä¿éšœä½ çš„æ•°æ®å®‰å…¨ã€‚å¯¹äºå¤„äºä¸åŒå±€åŸŸç½‘ä¹‹ä¸­çš„è®¾å¤‡ä¹‹é—´çš„æ–‡ä»¶åŒæ­¥ï¼ŒSyncthingä¹Ÿæä¾›äº†æ”¯æŒã€‚\nmasscan Masscanå·ç§°æ˜¯æœ€å¿«çš„äº’è”ç½‘ç«¯å£æ‰«æå™¨ï¼Œæœ€å¿«å¯ä»¥åœ¨å…­åˆ†é’Ÿå†…æ‰«éäº’è”ç½‘ã€‚\nImageMagick Use ImageMagick to create, edit, compose, or convert digital images. It can read and write images in a variety of formats (over 200) including PNG, JPEG, GIF, WebP, HEIC, SVG, PDF, DPX, EXR and TIFF. ImageMagick can resize, flip, mirror, rotate, distort, shear and transform images, adjust image colors, apply various special effects, or draw text, lines, polygons, ellipses and BÃ©zier curves.\np7zip 7-Zip is a file archiver with a high compression ratio.\np7zip æ˜¯ 7-Zip çš„ POSIX ç³»ç»Ÿç§»æ¤ï¼Œæ”¯æŒ Linuxã€‚\nè­¦å‘Šï¼š ä¸è¦å°†7zæ ¼å¼ç”¨äºå¤‡ä»½ç›®çš„ï¼Œå› ä¸ºå®ƒä¸ä¼šä¿å­˜æ–‡ä»¶çš„æ‰€æœ‰è€…/ç»„ã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§7z(1)ã€‚\næ·»åŠ æ–‡ä»¶æˆ–ç›®å½•è‡³å·²æœ‰çš„å­˜æ¡£ï¼ˆæˆ–åˆ›å»ºä¸€ä¸ªæ–°çš„å­˜æ¡£ï¼‰ï¼š\n$ 7z a \u0026lt;archive name\u0026gt; \u0026lt;file name\u0026gt; ä¹Ÿå¯ä»¥é€šè¿‡å‚æ•°-pè®¾ç½®å¯†ç ï¼Œå¹¶é€šè¿‡æ ‡å¿—-mhe = onéšè—å­˜æ¡£çš„ç»“æ„ï¼š\n$ 7z a \u0026lt;archive name\u0026gt; \u0026lt;file name\u0026gt; -p -mhe=on æ›´æ–°å­˜æ¡£å†…å·²æœ‰çš„æ–‡ä»¶æˆ–æ·»åŠ æ–°æ–‡ä»¶ï¼š\n$ 7z u \u0026lt;archive name\u0026gt; \u0026lt;file name\u0026gt; åˆ—å‡ºå­˜æ¡£å†…å®¹ï¼š\n$ 7z l \u0026lt;archive name\u0026gt; ä»å­˜æ¡£ä¸­è§£å‹æ–‡ä»¶è‡³å½“å‰æ–‡ä»¶å¤¹ï¼Œä¸ä½¿ç”¨å­˜æ¡£å†…çš„ç›®å½•ç»“æ„ï¼š\n$ 7z e \u0026lt;archive name\u0026gt; å¦‚æœéœ€è¦æ¢å¤å­˜æ¡£å†…çš„ç›®å½•ç»“æ„ï¼Œä½¿ç”¨ï¼š\n$ 7z x \u0026lt;archive name\u0026gt; è§£å‹è‡³æ–°çš„ç›®å½•ï¼š\n$ 7z x -o\u0026lt;folder name\u0026gt; \u0026lt;archive name\u0026gt; æ ¡éªŒå­˜æ¡£å®Œæ•´æ€§ï¼š\n$ 7z t \u0026lt;archive name\u0026gt; Differences between 7z, 7za and 7zr binaries The package includes three binaries, /usr/bin/7z, /usr/bin/7za, and /usr/bin/7zr. Their manual pages explain the differences:\n 7z(1) uses plugins to handle archives. 7za(1) is a stand-alone executable that handles fewer archive formats than 7z. 7zr(1) is a stand-alone executable. It is a \u0026ldquo;light-version\u0026rdquo; of 7za that only handles 7z archives. In contrast to 7za, it cannot handle encrypted archives.  åˆ†å·å‹ç¼©ä¸è§£å‹ç¼© rar\n# rar a -vSIZE å‹ç¼©åçš„æ–‡ä»¶å è¢«å‹ç¼©çš„æ–‡ä»¶æˆ–è€…æ–‡ä»¶å¤¹ # æœ€å¤§é™åˆ¶ä¸º 12M $ rar a -m5 -v12m myarchive myfiles #è§£å‹ $ rar e myarchive.part1.rar tar\nè¦å°†ç›®å½•logsæ‰“åŒ…å‹ç¼©å¹¶åˆ†å‰²æˆå¤šä¸ª1Mçš„æ–‡ä»¶ï¼Œå¯ä»¥ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š\n$ tar cjf - logs/ | split -b 1m - logs.tar.bz2. å®Œæˆåä¼šäº§ç”Ÿä¸‹åˆ—æ–‡ä»¶ï¼š\nlogs.tar.bz2.aa, logs.tar.bz2.ab, logs.tar.bz2.ac è¦è§£å‹çš„æ—¶å€™åªè¦æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤å°±å¯ä»¥äº†ï¼š\n$ cat logs.tar.bz2.a* | tar xj 7z\nå‹ç¼©ï¼š\n$ 7z a name.7z filename -v10m è¿™é‡Œaæ˜¯æ·»åŠ æ–‡ä»¶åˆ°å‹ç¼©å·ï¼Œname.7zæ˜¯å‹ç¼©åæ–‡ä»¶,ç„¶åfilenameå¯ä»¥æ˜¯æ–‡ä»¶å¤¹æˆ–æ–‡ä»¶ï¼Œ-v10mæ˜¯é™åˆ¶æ¯ä¸ªåŒ…å¤§å°ä¸è¶…è¿‡10m.\nè§£å‹åˆ°å½“å‰ç›®å½•ï¼š\n$ 7z x film.7z.001 Wudao-dict æœ‰é“è¯å…¸çš„å‘½ä»¤è¡Œç‰ˆæœ¬ï¼Œæ”¯æŒè‹±æ±‰äº’æŸ¥å’Œåœ¨çº¿æŸ¥è¯¢ã€‚\nascii-image-converter ttyd Share your terminal over the web\nprogress Linux tool to show progress for cp, mv, dd, \u0026hellip; (formerly known as cv)\nvosk-api Offline speech recognition API for Android, iOS, Raspberry Pi and servers with Python, Java, C# and Node\nconvert MP3 to text The software you can use is Vosk-api, a modern speech recognition toolkit based on neural networks. It supports 7+ languages and works on variety of platforms including RPi and mobile.\nFirst you convert the file to the required format and then you recognize it:\n$ ffmpeg -i file.mp3 -ar 16000 -ac 1 file.wav Then install vosk-api with pip:\n$ pip3 install -i https://pypi.tuna.tsinghua.edu.cn/simple vosk Then use these steps:\n$ git clone https://github.com/alphacep/vosk-api $ cd vosk-api/python/example $ curl -O http://alphacephei.com/vosk/models/vosk-model-small-en-us-0.15.zip $ unzip vosk-model-small-en-us-0.15.zip $ mv vosk-model-small-en-us-0.15 model $ python3 ./test_simple.py test.wav \u0026gt; result.json The result will be stored in json format.\nThe same directory also contains an srt subtitle output example, which is easier to evaluate and can be directly useful to some users:\n$ python3 -m pip install srt $ python3 ./test_srt.py test.wav The example given in the repository says in perfect American English accent and perfect sound quality three sentences which I transcribe as:\none zero zero zero one nine oh two one oh zero one eight zero three The \u0026ldquo;nine oh two one oh\u0026rdquo; is said very fast, but still clear. The \u0026ldquo;z\u0026rdquo; of the before last \u0026ldquo;zero\u0026rdquo; sounds a bit like an \u0026ldquo;s\u0026rdquo;.\nThe SRT generated above reads:\n1 00:00:00,870 --\u0026gt; 00:00:02,610 what zero zero zero one 2 00:00:03,930 --\u0026gt; 00:00:04,950 no no to uno 3 00:00:06,240 --\u0026gt; 00:00:08,010 cyril one eight zero three so we can see that several mistakes were made, presumably in part because we have the understanding that all words are numbers to help us.\nNext I also tried with the vosk-model-en-us-0.22.zip which was a 1.8G download compared to 40M of vosk-model-small-en-us-0.15 and is listed at https://alphacephei.com/vosk/models:\n$ mv model vosk-model-small-en-us-0.15 $ curl -O http://alphacephei.com/vosk/models/vosk-model-en-us-0.22.zip $ unzip vosk-model-en-us-0.22.zip $ mv vosk-model-en-us-0.22 model and the result was:\n1 00:00:00,840 --\u0026gt; 00:00:02,610 one zero zero zero one 2 00:00:04,026 --\u0026gt; 00:00:04,980 i know what you window 3 00:00:06,270 --\u0026gt; 00:00:07,980 serial one eight zero three which got one more word correct.\ninxi inix æ˜¯ä¸€ä¸ªç”¨äºè·å– Linux ç³»ç»Ÿä¿¡æ¯çš„ç»ˆç«¯å‘½ä»¤ã€‚èƒ½å¤Ÿè·å–è½¯ä»¶å’Œç¡¬ä»¶çš„è¯¦ç»†ä¿¡æ¯ï¼Œæ¯”å¦‚è®¡ç®—æœºå‹å·ã€å†…æ ¸ç‰ˆæœ¬ã€å‘è¡Œç‰ˆå·ä»¥åŠæ¡Œé¢ç¯å¢ƒç­‰ä¿¡æ¯ï¼Œç”šè‡³å¯ä»¥è¯»å–ä¸»å­˜æ¨¡å—å ç”¨ä¸»æ¿çš„å“ªå— RAM å¡æ§½ç­‰è¯¦ç»†ä¿¡æ¯ã€‚\ninxi è¿˜å¯ä»¥ç”¨äºç›‘æ§ç³»ç»Ÿä¸­æ­£åœ¨æ¶ˆè€— CPU æˆ–è€…å†…å­˜èµ„æºçš„è¿›ç¨‹ã€‚\nåœ¨ Ubuntu/Debian å‘è¡Œç‰ˆç³»ç»Ÿä¸­ï¼Œå®‰è£…å‘½ä»¤ï¼š\nsudo apt install inxi ç”¨ -F å‚æ•°å¯ä»¥è·å–è¯¦ç»†çš„ç³»ç»Ÿä¿¡æ¯ã€‚å‡ ä¹å›Šæ‹¬äº†æ‰€æœ‰å±‚æ¬¡çš„ç³»ç»Ÿä¿¡æ¯ã€‚\ninxi -F BusyBox BusyBox æ˜¯ä¸€ä¸ªå¼€æºï¼ˆGPLï¼‰é¡¹ç›®ï¼Œæä¾›äº†è¿‘ 400 ä¸ªå¸¸ç”¨å‘½ä»¤çš„ç®€å•å®ç°ï¼ŒåŒ…æ‹¬ lsã€mvã€lnã€mkdirã€moreã€psã€gzipã€bzip2ã€tar å’Œ grepã€‚å®ƒè¿˜åŒ…å«äº†ç¼–ç¨‹è¯­è¨€ awkã€æµç¼–è¾‘å™¨ sedã€æ–‡ä»¶ç³»ç»Ÿæ£€æŸ¥å·¥å…· fsckã€è½¯ä»¶åŒ…ç®¡ç†å™¨rpm å’Œ dpkg ï¼Œå½“ç„¶è¿˜æœ‰ä¸€ä¸ªå¯ä»¥æ–¹ä¾¿çš„è®¿é—®æ‰€æœ‰è¿™äº›å‘½ä»¤çš„ shellï¼ˆshï¼‰ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå®ƒåŒ…å«äº†æ‰€æœ‰ POSIX ç³»ç»Ÿéœ€è¦çš„åŸºæœ¬å‘½ä»¤ï¼Œä»¥æ‰§è¡Œå¸¸è§çš„ç³»ç»Ÿç»´æŠ¤ä»»åŠ¡ä»¥åŠè®¸å¤šç”¨æˆ·å’Œç®¡ç†ä»»åŠ¡ã€‚\näº‹å®ä¸Šï¼Œå®ƒç”šè‡³åŒ…å«ä¸€ä¸ª init å‘½ä»¤ï¼Œå¯ä»¥ä½œä¸º PID 1 å¯åŠ¨ï¼Œä»¥ä½œä¸ºæ‰€æœ‰å…¶å®ƒç³»ç»ŸæœåŠ¡çš„çˆ¶è¿›ç¨‹ã€‚æ¢å¥è¯è¯´ï¼ŒBusyBox å¯ä»¥ä½œä¸º systemdã€OpenRCã€sinitã€init å’Œå…¶ä»–åˆå§‹åŒ–ç³»ç»Ÿçš„æ›¿ä»£å“ã€‚\nBusyBox éå¸¸å°ã€‚ä½œä¸ºä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶ï¼Œå®ƒä¸åˆ° 1MBï¼Œæ‰€ä»¥å®ƒåœ¨åµŒå…¥å¼ã€è¾¹ç¼˜è®¡ç®— å’Œç‰©è”ç½‘é¢†åŸŸå¾ˆå—æ¬¢è¿ï¼Œå› ä¸ºè¿™äº›åœºæ™¯çš„å­˜å‚¨ç©ºé—´æ˜¯å¾ˆå®è´µçš„ã€‚åœ¨å®¹å™¨å’Œäº‘è®¡ç®—çš„ä¸–ç•Œé‡Œï¼Œå®ƒä½œä¸ºç²¾ç®€çš„ Linux å®¹å™¨é•œåƒçš„åŸºç¡€é•œåƒä¹Ÿå¾ˆå—æ¬¢è¿ã€‚\næç®€ä¸»ä¹‰ BusyBox çš„éƒ¨åˆ†é­…åŠ›åœ¨äºå®ƒçš„æç®€ä¸»ä¹‰ã€‚å®ƒçš„æ‰€æœ‰å‘½ä»¤éƒ½è¢«ç¼–è¯‘åˆ°ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶é‡Œï¼ˆbusyboxï¼‰ï¼Œå®ƒçš„æ‰‹å†Œåªæœ‰ 81 é¡µï¼ˆæ ¹æ®æˆ‘å¯¹ man é€åˆ° pr ç®¡é“çš„è®¡ç®—ï¼‰ï¼Œä½†å®ƒæ¶µç›–äº†è¿‘ 400 æ¡å‘½ä»¤ã€‚\nä½œä¸ºä¸€ä¸ªä¾‹å­çš„æ¯”è¾ƒï¼Œè¿™æ˜¯ â€œåŸç‰ˆâ€ çš„ useradd â€”help çš„è¾“å‡ºï¼š\n-b, --base-dir BASE_DIR base directory for home -c, --comment COMMENT GECOS field of the new account -d, --home-dir HOME_DIR home directory of the new account -D, --defaults print or change the default config -e, --expiredate EXPIRE_DATE expiration date of the new account -f, --inactive INACTIVE password inactivity -g, --gid GROUP name or ID of the primary group -G, --groups GROUPS list of supplementary groups -h, --help display this help message and exit -k, --skel SKEL_DIR alternative skeleton dir -K, --key KEY=VALUE override /etc/login.defs -l, --no-log-init do not add the user to the lastlog -m, --create-home create the user's home directory -M, --no-create-home do not create the user's home directory -N, --no-user-group do not create a group with the user's name -o, --non-unique allow users with non-unique UIDs -p, --password PASSWORD encrypted password of the new account -r, --system create a system account -R, --root CHROOT_DIR directory to chroot into -s, --shell SHELL login shell of the new account -u, --uid UID user ID of the new account -U, --user-group create a group with the same name as a user è€Œè¿™æ˜¯æ˜¯åŒä¸€å‘½ä»¤çš„ BusyBox ç‰ˆæœ¬ï¼š\n-h DIR Home directory -g GECOS GECOS field -s SHELL Login shell -G GRP Group -S Create a system user -D Don't assign a password -H Don't create home directory -u UID User id -k SKEL Skeleton directory (/etc/skel) è¿™ç§å·®å¼‚æ˜¯ä¸€ç§ç‰¹æ€§è¿˜æ˜¯ä¸€ç§é™åˆ¶ï¼Œå–å†³äºä½ æ˜¯å–œæ¬¢ä½ çš„å‘½ä»¤æ‹¥æœ‰ 20 ä¸ªé€‰é¡¹è¿˜æ˜¯ 10 ä¸ªé€‰é¡¹ã€‚å¯¹äºä¸€äº›ç”¨æˆ·å’ŒæŸäº›ç”¨ä¾‹æ¥è¯´ï¼ŒBusyBox çš„æç®€ä¸»ä¹‰åˆšåˆšæ»¡è¶³æ‰€éœ€ã€‚å¯¹äºå…¶ä»–äººæ¥è¯´ï¼Œå®ƒæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æœ€å°åŒ–ç¯å¢ƒï¼Œå¯ä»¥ä½œä¸ºä¸€ä¸ªåå¤‡å·¥å…·ï¼Œæˆ–è€…ä½œä¸ºå®‰è£…æ›´å¼ºå¤§çš„å·¥å…·çš„åŸºç¡€ï¼Œæ¯”å¦‚ Bashã€Zshã€GNU Awk ç­‰ç­‰ã€‚\nLynis  ä½¿ç”¨è¿™ä¸ªå…¨é¢çš„å¼€æºå®‰å…¨å®¡è®¡å·¥å…·æ£€æŸ¥ä½ çš„ Linux æœºå™¨çš„å®‰å…¨æ€§ã€‚\n ä½ æœ‰æ²¡æœ‰æƒ³è¿‡ä½ çš„ Linux æœºå™¨åˆ°åº•å®‰å…¨ä¸å®‰å…¨ï¼ŸLinux å‘è¡Œç‰ˆä¼—å¤šï¼Œæ¯ä¸ªå‘è¡Œç‰ˆéƒ½æœ‰è‡ªå·±çš„é»˜è®¤è®¾ç½®ï¼Œä½ åœ¨ä¸Šé¢è¿è¡Œç€å‡ åä¸ªç‰ˆæœ¬å„å¼‚çš„è½¯ä»¶åŒ…ï¼Œè¿˜æœ‰ä¼—å¤šçš„æœåŠ¡åœ¨åå°è¿è¡Œï¼Œè€Œæˆ‘ä»¬å‡ ä¹ä¸çŸ¥é“æˆ–ä¸å…³å¿ƒè¿™äº›ã€‚\nè¦æƒ³ç¡®å®šå®‰å…¨æ€åŠ¿ï¼ˆæŒ‡ä½ çš„ Linux æœºå™¨ä¸Šè¿è¡Œçš„è½¯ä»¶ã€ç½‘ç»œå’ŒæœåŠ¡çš„æ•´ä½“å®‰å…¨çŠ¶æ€ï¼‰ï¼Œä½ å¯ä»¥è¿è¡Œå‡ ä¸ªå‘½ä»¤ï¼Œå¾—åˆ°ä¸€äº›é›¶ç¢çš„ç›¸å…³ä¿¡æ¯ï¼Œä½†ä½ éœ€è¦è§£æçš„æ•°æ®é‡æ˜¯å·¨å¤§çš„ã€‚\nå¦‚æœèƒ½è¿è¡Œä¸€ä¸ªå·¥å…·ï¼Œç”Ÿæˆä¸€ä»½å…³äºæœºå™¨å®‰å…¨çŠ¶å†µçš„æŠ¥å‘Šï¼Œé‚£å°±å¥½å¾—å¤šäº†ã€‚è€Œå¹¸è¿çš„æ˜¯ï¼Œæœ‰ä¸€ä¸ªè¿™æ ·çš„è½¯ä»¶ï¼šLynisã€‚å®ƒæ˜¯ä¸€ä¸ªéå¸¸æµè¡Œçš„å¼€æºå®‰å…¨å®¡è®¡å·¥å…·ï¼Œå¯ä»¥å¸®åŠ©å¼ºåŒ–åŸºäº Linux å’Œ Unix çš„ç³»ç»Ÿã€‚æ ¹æ®è¯¥é¡¹ç›®çš„ä»‹ç»ï¼š\n â€œå®ƒè¿è¡Œåœ¨ç³»ç»Ÿæœ¬èº«ï¼Œå¯ä»¥è¿›è¡Œæ·±å…¥çš„å®‰å…¨æ‰«æã€‚ä¸»è¦ç›®æ ‡æ˜¯æµ‹è¯•å®‰å…¨é˜²å¾¡æªæ–½ï¼Œå¹¶æä¾›è¿›ä¸€æ­¥å¼ºåŒ–ç³»ç»Ÿçš„æç¤ºã€‚å®ƒè¿˜å°†æ‰«æä¸€èˆ¬ç³»ç»Ÿä¿¡æ¯ã€æ˜“å—æ”»å‡»çš„è½¯ä»¶åŒ…å’Œå¯èƒ½çš„é…ç½®é—®é¢˜ã€‚Lynis å¸¸è¢«ç³»ç»Ÿç®¡ç†å‘˜å’Œå®¡è®¡äººå‘˜ç”¨æ¥è¯„ä¼°å…¶ç³»ç»Ÿçš„å®‰å…¨é˜²å¾¡ã€‚â€\n å®‰è£… Lynis ä½ çš„ Linux è½¯ä»¶ä»“åº“ä¸­å¯èƒ½æœ‰ Lynisã€‚å¦‚æœæœ‰çš„è¯ï¼Œä½ å¯ä»¥ç”¨ä»¥ä¸‹æ–¹æ³•å®‰è£…å®ƒï¼š\n$ sudo apt install lynis ç„¶è€Œï¼Œå¦‚æœä½ çš„ä»“åº“ä¸­çš„ç‰ˆæœ¬ä¸æ˜¯æœ€æ–°çš„ï¼Œä½ æœ€å¥½ä» GitHub ä¸Šå®‰è£…å®ƒã€‚äº‹å®ä¸Šï¼ŒLynis ä¸»è¦æ˜¯ç”¨ shell è„šæœ¬æ¥å®ç°çš„ã€‚\nè¿è¡Œ Lynis é€šè¿‡ç»™ Lynis ä¸€ä¸ª -h é€‰é¡¹æ¥æŸ¥çœ‹å¸®åŠ©éƒ¨åˆ†ï¼Œä»¥ä¾¿æœ‰ä¸ªå¤§æ¦‚äº†è§£ï¼š\n$ sudo lynis -h ä½ ä¼šçœ‹åˆ°ä¸€ä¸ªç®€çŸ­çš„ä¿¡æ¯å±å¹•ï¼Œç„¶åæ˜¯ Lynis æ”¯æŒçš„æ‰€æœ‰å­å‘½ä»¤ã€‚\næ¥ä¸‹æ¥ï¼Œå°è¯•ä¸€äº›æµ‹è¯•å‘½ä»¤ä»¥å¤§è‡´ç†Ÿæ‚‰ä¸€ä¸‹ã€‚è¦æŸ¥çœ‹ä½ æ­£åœ¨ä½¿ç”¨çš„ Lynis ç‰ˆæœ¬ï¼Œè¯·è¿è¡Œï¼š\n$ sudo lynis show version 3.0.0 è¦æŸ¥çœ‹ Lynis ä¸­æ‰€æœ‰å¯ç”¨çš„å‘½ä»¤ï¼š\n$ sudo lynis show commands Commands: lynis audit lynis configure lynis generate lynis show lynis update lynis upload-only å®¡è®¡ Linux ç³»ç»Ÿ è¦å®¡è®¡ä½ çš„ç³»ç»Ÿçš„å®‰å…¨æ€åŠ¿ï¼Œè¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š\n$ sudo lynis audit system è¿™ä¸ªå‘½ä»¤è¿è¡Œå¾—å¾ˆå¿«ï¼Œå¹¶ä¼šè¿”å›ä¸€ä»½è¯¦ç»†çš„æŠ¥å‘Šï¼Œè¾“å‡ºç»“æœå¯èƒ½ä¸€å¼€å§‹çœ‹èµ·æ¥å¾ˆå“äººï¼Œä½†æˆ‘å°†åœ¨ä¸‹é¢å¼•å¯¼ä½ æ¥é˜…è¯»å®ƒã€‚è¿™ä¸ªå‘½ä»¤çš„è¾“å‡ºä¹Ÿä¼šè¢«ä¿å­˜åˆ°ä¸€ä¸ªæ—¥å¿—æ–‡ä»¶ä¸­ï¼Œæ‰€ä»¥ä½ å¯ä»¥éšæ—¶å›è¿‡å¤´æ¥æ£€æŸ¥ä»»ä½•å¯èƒ½æ„Ÿå…´è¶£çš„ä¸œè¥¿ã€‚\nLynis å°†æ—¥å¿—ä¿å­˜åœ¨è¿™é‡Œï¼š\nFiles: - Test and debug information : /var/log/lynis.log - Report data : /var/log/lynis-report.dat ä½ å¯ä»¥éªŒè¯æ˜¯å¦åˆ›å»ºäº†æ—¥å¿—æ–‡ä»¶ã€‚å®ƒç¡®å®åˆ›å»ºäº†ï¼š\n$ ls -l /var/log/lynis.log -rw-r-----. 1 root root 341489 Apr 30 05:52 /var/log/lynis.log $ ls -l /var/log/lynis-report.dat -rw-r-----. 1 root root 638 Apr 30 05:55 /var/log/lynis-report.dat æ¢ç´¢æŠ¥å‘Š Lynis æä¾›äº†ç›¸å½“å…¨é¢çš„æŠ¥å‘Šï¼Œæ‰€ä»¥æˆ‘å°†ä»‹ç»ä¸€äº›é‡è¦çš„éƒ¨åˆ†ã€‚ä½œä¸ºåˆå§‹åŒ–çš„ä¸€éƒ¨åˆ†ï¼ŒLynis åšçš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯æ‰¾å‡ºæœºå™¨ä¸Šè¿è¡Œçš„æ“ä½œç³»ç»Ÿçš„å®Œæ•´ä¿¡æ¯ã€‚ä¹‹åæ˜¯æ£€æŸ¥æ˜¯å¦å®‰è£…äº†ä»€ä¹ˆç³»ç»Ÿå·¥å…·å’Œæ’ä»¶ï¼š\n[+] Initializing program ------------------------------------ - Detecting OS... [ DONE ] - Checking profiles... [ DONE ] --------------------------------------------------- Program version: 3.0.0 Operating system: Linux Operating system name: Red Hat Enterprise Linux Server 7.8 (Maipo) Operating system version: 7.8 Kernel version: 3.10.0 Hardware platform: x86_64 Hostname: example --------------------------------------------------- \u0026lt;\u0026lt;æˆªæ–­\u0026gt;\u0026gt; [+] System Tools ------------------------------------ - Scanning available tools... - Checking system binaries... [+] Plugins (phase 1) ------------------------------------ Note: plugins have more extensive tests and may take several minutes to complete - Plugin: pam [..] - Plugin: systemd [................] æ¥ä¸‹æ¥ï¼Œè¯¥æŠ¥å‘Šè¢«åˆ†ä¸ºä¸åŒçš„éƒ¨åˆ†ï¼Œæ¯ä¸ªéƒ¨åˆ†éƒ½ä»¥ [+] ç¬¦å·å¼€å¤´ã€‚ä¸‹é¢å¯ä»¥çœ‹åˆ°éƒ¨åˆ†ç« èŠ‚ã€‚ï¼ˆå“‡ï¼Œè¦å®¡æ ¸çš„åœ°æ–¹æœ‰è¿™ä¹ˆå¤šï¼ŒLynis æ˜¯æœ€åˆé€‚çš„å·¥å…·ï¼ï¼‰\n[+] Boot and services [+] Kernel [+] Memory and Processes [+] Users, Groups and Authentication [+] Shells [+] File systems [+] USB Devices [+] Storage [+] NFS [+] Name services [+] Ports and packages [+] Networking [+] Printers and Spools [+] Software: e-mail and messaging [+] Software: firewalls [+] Software: webserver [+] SSH Support [+] SNMP Support [+] Databases [+] LDAP Services [+] PHP [+] Squid Support [+] Logging and files [+] Insecure services [+] Banners and identification [+] Scheduled tasks [+] Accounting [+] Time and Synchronization [+] Cryptography [+] Virtualization [+] Containers [+] Security frameworks [+] Software: file integrity [+] Software: System tooling [+] Software: Malware [+] File Permissions [+] Home directories [+] Kernel Hardening [+] Hardening [+] Custom tests Lynis ä½¿ç”¨é¢œè‰²ç¼–ç ä½¿æŠ¥å‘Šæ›´å®¹æ˜“è§£è¯»ã€‚\n ç»¿è‰²ã€‚ä¸€åˆ‡æ­£å¸¸ é»„è‰²ã€‚è·³è¿‡ã€æœªæ‰¾åˆ°ï¼Œå¯èƒ½æœ‰ä¸ªå»ºè®® çº¢è‰²ã€‚ä½ å¯èƒ½éœ€è¦ä»”ç»†çœ‹çœ‹è¿™ä¸ª  åœ¨æˆ‘çš„æ¡ˆä¾‹ä¸­ï¼Œå¤§éƒ¨åˆ†çš„çº¢è‰²æ ‡è®°éƒ½æ˜¯åœ¨ â€œKernel Hardeningâ€ éƒ¨åˆ†æ‰¾åˆ°çš„ã€‚å†…æ ¸æœ‰å„ç§å¯è°ƒæ•´çš„è®¾ç½®ï¼Œå®ƒä»¬å®šä¹‰äº†å†…æ ¸çš„åŠŸèƒ½ï¼Œå…¶ä¸­ä¸€äº›å¯è°ƒæ•´çš„è®¾ç½®å¯èƒ½æœ‰å…¶å®‰å…¨åœºæ™¯ã€‚å‘è¡Œç‰ˆå¯èƒ½å› ä¸ºå„ç§åŸå› æ²¡æœ‰é»˜è®¤è®¾ç½®è¿™äº›ï¼Œä½†æ˜¯ä½ åº”è¯¥æ£€æŸ¥æ¯ä¸€é¡¹ï¼Œçœ‹çœ‹ä½ æ˜¯å¦éœ€è¦æ ¹æ®ä½ çš„å®‰å…¨æ€åŠ¿æ¥æ”¹å˜å®ƒçš„å€¼ï¼š\n[+] Kernel Hardening ------------------------------------ - Comparing sysctl key pairs with scan profile - fs.protected_hardlinks (exp: 1) [ OK ] - fs.protected_symlinks (exp: 1) [ OK ] - fs.suid_dumpable (exp: 0) [ OK ] - kernel.core_uses_pid (exp: 1) [ OK ] - kernel.ctrl-alt-del (exp: 0) [ OK ] - kernel.dmesg_restrict (exp: 1) [ DIFFERENT ] - kernel.kptr_restrict (exp: 2) [ DIFFERENT ] - kernel.randomize_va_space (exp: 2) [ OK ] - kernel.sysrq (exp: 0) [ DIFFERENT ] - kernel.yama.ptrace_scope (exp: 1 2 3) [ DIFFERENT ] - net.ipv4.conf.all.accept_redirects (exp: 0) [ DIFFERENT ] - net.ipv4.conf.all.accept_source_route (exp: 0) [ OK ] - net.ipv4.conf.all.bootp_relay (exp: 0) [ OK ] - net.ipv4.conf.all.forwarding (exp: 0) [ OK ] - net.ipv4.conf.all.log_martians (exp: 1) [ DIFFERENT ] - net.ipv4.conf.all.mc_forwarding (exp: 0) [ OK ] - net.ipv4.conf.all.proxy_arp (exp: 0) [ OK ] - net.ipv4.conf.all.rp_filter (exp: 1) [ OK ] - net.ipv4.conf.all.send_redirects (exp: 0) [ DIFFERENT ] - net.ipv4.conf.default.accept_redirects (exp: 0) [ DIFFERENT ] - net.ipv4.conf.default.accept_source_route (exp: 0) [ OK ] - net.ipv4.conf.default.log_martians (exp: 1) [ DIFFERENT ] - net.ipv4.icmp_echo_ignore_broadcasts (exp: 1) [ OK ] - net.ipv4.icmp_ignore_bogus_error_responses (exp: 1) [ OK ] - net.ipv4.tcp_syncookies (exp: 1) [ OK ] - net.ipv4.tcp_timestamps (exp: 0 1) [ OK ] - net.ipv6.conf.all.accept_redirects (exp: 0) [ DIFFERENT ] - net.ipv6.conf.all.accept_source_route (exp: 0) [ OK ] - net.ipv6.conf.default.accept_redirects (exp: 0) [ DIFFERENT ] - net.ipv6.conf.default.accept_source_route (exp: 0) [ OK ] çœ‹çœ‹ SSH è¿™ä¸ªä¾‹å­ï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ä¸ªéœ€è¦ä¿è¯å®‰å…¨çš„å…³é”®é¢†åŸŸã€‚è¿™é‡Œæ²¡æœ‰ä»€ä¹ˆçº¢è‰²çš„ä¸œè¥¿ï¼Œä½†æ˜¯ Lynis å¯¹æˆ‘çš„ç¯å¢ƒç»™å‡ºäº†å¾ˆå¤šå¼ºåŒ– SSH æœåŠ¡çš„å»ºè®®ï¼š\n[+] SSH Support ------------------------------------ - Checking running SSH daemon [ FOUND ] - Searching SSH configuration [ FOUND ] - OpenSSH option: AllowTcpForwarding [ SUGGESTION ] - OpenSSH option: ClientAliveCountMax [ SUGGESTION ] - OpenSSH option: ClientAliveInterval [ OK ] - OpenSSH option: Compression [ SUGGESTION ] - OpenSSH option: FingerprintHash [ OK ] - OpenSSH option: GatewayPorts [ OK ] - OpenSSH option: IgnoreRhosts [ OK ] - OpenSSH option: LoginGraceTime [ OK ] - OpenSSH option: LogLevel [ SUGGESTION ] - OpenSSH option: MaxAuthTries [ SUGGESTION ] - OpenSSH option: MaxSessions [ SUGGESTION ] - OpenSSH option: PermitRootLogin [ SUGGESTION ] - OpenSSH option: PermitUserEnvironment [ OK ] - OpenSSH option: PermitTunnel [ OK ] - OpenSSH option: Port [ SUGGESTION ] - OpenSSH option: PrintLastLog [ OK ] - OpenSSH option: StrictModes [ OK ] - OpenSSH option: TCPKeepAlive [ SUGGESTION ] - OpenSSH option: UseDNS [ SUGGESTION ] - OpenSSH option: X11Forwarding [ SUGGESTION ] - OpenSSH option: AllowAgentForwarding [ SUGGESTION ] - OpenSSH option: UsePrivilegeSeparation [ OK ] - OpenSSH option: AllowUsers [ NOT FOUND ] - OpenSSH option: AllowGroups [ NOT FOUND ] æˆ‘çš„ç³»ç»Ÿä¸Šæ²¡æœ‰è¿è¡Œè™šæ‹Ÿæœºæˆ–å®¹å™¨ï¼Œæ‰€ä»¥è¿™äº›æ˜¾ç¤ºçš„ç»“æœæ˜¯ç©ºçš„ï¼š\n[+] Virtualization ------------------------------------ [+] Containers ------------------------------------ Lynis ä¼šæ£€æŸ¥ä¸€äº›ä»å®‰å…¨è§’åº¦çœ‹å¾ˆé‡è¦çš„æ–‡ä»¶çš„æ–‡ä»¶æƒé™ï¼š\n[+] File Permissions ------------------------------------ - Starting file permissions check File: /boot/grub2/grub.cfg [ SUGGESTION ] File: /etc/cron.deny [ OK ] File: /etc/crontab [ SUGGESTION ] File: /etc/group [ OK ] File: /etc/group- [ OK ] File: /etc/hosts.allow [ OK ] File: /etc/hosts.deny [ OK ] File: /etc/issue [ OK ] File: /etc/issue.net [ OK ] File: /etc/motd [ OK ] File: /etc/passwd [ OK ] File: /etc/passwd- [ OK ] File: /etc/ssh/sshd_config [ OK ] Directory: /root/.ssh [ SUGGESTION ] Directory: /etc/cron.d [ SUGGESTION ] Directory: /etc/cron.daily [ SUGGESTION ] Directory: /etc/cron.hourly [ SUGGESTION ] Directory: /etc/cron.weekly [ SUGGESTION ] Directory: /etc/cron.monthly [ SUGGESTION ] åœ¨æŠ¥å‘Šçš„åº•éƒ¨ï¼ŒLynis æ ¹æ®æŠ¥å‘Šçš„å‘ç°æå‡ºäº†å»ºè®®ã€‚æ¯é¡¹å»ºè®®åé¢éƒ½æœ‰ä¸€ä¸ª â€œTEST-IDâ€ï¼ˆä¸ºäº†ä¸‹ä¸€éƒ¨åˆ†æ–¹ä¾¿ï¼Œè¯·å°†å…¶ä¿å­˜èµ·æ¥ï¼‰ã€‚\nSuggestions (47): ---------------------------- * If not required, consider explicit disabling of core dump in /etc/security/limits.conf file [KRNL-5820] https://cisofy.com/lynis/controls/KRNL-5820/ * Check PAM configuration, add rounds if applicable and expire passwords to encrypt with new values [AUTH-9229] https://cisofy.com/lynis/controls/AUTH-9229/ Lynis æä¾›äº†ä¸€ä¸ªé€‰é¡¹æ¥æŸ¥æ‰¾å…³äºæ¯ä¸ªå»ºè®®çš„æ›´å¤šä¿¡æ¯ï¼Œä½ å¯ä»¥ä½¿ç”¨ show details å‘½ä»¤å’Œ TEST-ID å·æ¥è®¿é—®ï¼š\n$ sudo lynis show details TEST-ID è¿™å°†æ˜¾ç¤ºè¯¥æµ‹è¯•çš„å…¶ä»–ä¿¡æ¯ã€‚ä¾‹å¦‚ï¼Œæˆ‘æ£€æŸ¥äº† SSH-7408 çš„è¯¦ç»†ä¿¡æ¯ï¼š\n$ sudo lynis show details SSH-7408 2020-04-30 05:52:23 Performing test ID SSH-7408 (Check SSH specific defined options) 2020-04-30 05:52:23 Test: Checking specific defined options in /tmp/lynis.k8JwazmKc6 2020-04-30 05:52:23 Result: added additional options for OpenSSH \u0026amp;lt; 7.5 2020-04-30 05:52:23 Test: Checking AllowTcpForwarding in /tmp/lynis.k8JwazmKc6 2020-04-30 05:52:23 Result: Option AllowTcpForwarding found 2020-04-30 05:52:23 Result: Option AllowTcpForwarding value is YES 2020-04-30 05:52:23 Result: OpenSSH option AllowTcpForwarding is in a weak configuration state and should be fixed 2020-04-30 05:52:23 Suggestion: Consider hardening SSH configuration [test:SSH-7408] [details:AllowTcpForwarding (set YES to NO)] [solution:-] è¯•è¯•å§ å¦‚æœä½ æƒ³æ›´å¤šåœ°äº†è§£ä½ çš„ Linux æœºå™¨çš„å®‰å…¨æ€§ï¼Œè¯·è¯•è¯• Lynisã€‚å¦‚æœä½ æƒ³äº†è§£ Lynis æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œå¯ä»¥ç ”ç©¶ä¸€ä¸‹å®ƒçš„ shell è„šæœ¬ï¼Œçœ‹çœ‹å®ƒæ˜¯å¦‚ä½•æ”¶é›†è¿™äº›ä¿¡æ¯çš„ã€‚\nHow can I protect against single user mode Potential Attacks\nSingle User Mode\nThis is the easiest way to gain unauthorised access to a Linux system is to boot the server into Single User Mode because it does not, by default, require a root password to gain root level access. Single User Mood can be accessed by power cycling the machine and interrupting the boot process. To boot into single user mode where the GRUB bootloader is used perform the following; interrupt the boot process, press e to edit the boot configuration file, append to the line starting Linux one of either s, S, 1 or systemd. unit=[rescue.target, emergency.target, rescue] to change the argument being passed to the kernel during boot to boot into Single User Mode, then press ctrl+x.\nProtecting Against Single User Mode\nFor a traditional init based system\nAs root edit the file /etc/sysconfig/init then on the line SINGLE=/sbin/sushell change sushell TO sulogin.\nFor a systemd based system\nThe target configuration need to be altered for the root password to be prompted for. The targets are located in /lib/systemd/system the files which need alteration are emergency.service and rescue.service. Alter the line starting ExecStart=-/bin/sh â€“c â€œ/usr/sbin/sushell; â€¦â€¦â€ and change the /usr/sbin/sushell to/usr/sbin/sulogin in both emergency.service and rescue.service.\nTo check this has taken affect\nThen save changes and reboot to confirm the alteration has taken affect, if the alteration was success when booting into single user mode it shall ask for the root password.\nRoot Password\nBy default, some Linux distributions do not have root password sets, this can be checked by running the command head -1 /etc/shadow and if the second column, using a colon as a delimiter, is an exclamation mark then no password has been set. If no root password is set, then regardless of if the system is set to prompt for a password for Single User Mode or not it will just load root access.\nSecuring Bootloader\nInsecure bootloaders can result in the bootloader being bypassed completely and a shell being used to gain direct root level access to the system. This is done by interrupting the GRUB boot process and appending init=/bin/bas to the line beginning linux16. This will tell the kernel to use bash instead of init.\nProtecting against bootloader side loading\nThe GRUB bootloader can be password protected by placing the configuration in /etc/grub.d/40_custom file because this file will remain un touched by updates and upgrades to the boot loader. In /etc/grub.d/40_custom add set superusers=â€adminâ€ then password admin after that save and exit the file and run the following command grub2-mkpasswd-â€¦ (allow tab completion to finish this command so that the system compatible script is run) the output of this command from grub2. Onwards need to be added to the end of the line password admin in /etc/grub.d/40_custom. After that the grub file need to be recompiled by running the command grub2-mkconfig â€“o /boot/grub2/grub.cfg for centos or update-grubÂ¬ on debian.\nTo check this has taken affect\nThen save changes and reboot to confirm the alteration has taken affect, if the alteration was success when booting and wanting to change the grub setting you will need to supply the username admin and the encrypted password.\nProtecting Against Recovery Attack\nThese measures can aid in protection however, if a disk is used the recover Linux feature on the disk can be used to mount the file system and alter the GRUB setting from the disk. To protect against make any removable media have a lower boot priority than the boot drive and password protect the BIOS and boot option menu to stop someone who hasnâ€™t got access altering the boot order and booting into a disk to make changes to the system.\nCheckInstall å¦‚æœä½ å·²ç»ä»å®ƒçš„æºç è¿è¡Œâ€œmake installâ€å®‰è£…äº†linuxç¨‹åºã€‚æƒ³å®Œæ•´ç§»é™¤å®ƒå°†å˜å¾—çœŸçš„å¾ˆéº»çƒ¦ï¼Œé™¤éç¨‹åºçš„å¼€å‘è€…åœ¨Makefileé‡Œæä¾›äº†uninstallçš„ç›®æ ‡è®¾ç½®ã€‚å¦åˆ™ä½ å¿…é¡»åœ¨å®‰è£…å‰åæ¯”è¾ƒä½ ç³»ç»Ÿé‡Œæ–‡ä»¶çš„å®Œæ•´åˆ—è¡¨ï¼Œç„¶åæ‰‹å·¥ç§»é™¤æ‰€æœ‰åœ¨å®‰è£…è¿‡ç¨‹ä¸­åŠ å…¥çš„æ–‡ä»¶ã€‚\nè¿™æ—¶å€™Checkinstallå°±å¯ä»¥æ´¾ä¸Šä½¿ç”¨ã€‚Checkinstallä¼šè·Ÿè¸ªinstallå‘½ä»¤è¡Œæ‰€åˆ›å»ºæˆ–ä¿®æ”¹çš„æ‰€æœ‰æ–‡ä»¶çš„è·¯å¾„(ä¾‹å¦‚ï¼šâ€œmake installâ€ã€â€œmake install_modulesâ€ç­‰)å¹¶å»ºç«‹ä¸€ä¸ªæ ‡å‡†çš„äºŒè¿›åˆ¶åŒ…ï¼Œè®©ä½ èƒ½ç”¨ä½ å‘è¡Œç‰ˆçš„æ ‡å‡†åŒ…ç®¡ç†ç³»ç»Ÿå®‰è£…æˆ–å¸è½½å®ƒï¼Œè¯·å‚è€ƒå…¶å®˜æ–¹æ–‡æ¡£ã€‚\nå®‰è£…Checkinstallï¼š\n# apt install checkinstall  ä¸€æ—¦checkinstallå®‰è£…å¥½ï¼Œä½ å°±å¯ä»¥ç”¨ä¸‹åˆ—æ ¼å¼åˆ›å»ºä¸€ä¸ªç‰¹å®šçš„è½¯ä»¶åŒ…\n# checkinstall \u0026lt;install-command\u0026gt;  å¦‚æœæ²¡æœ‰å‚æ•°ï¼Œé»˜è®¤å®‰è£…å‘½ä»¤â€œmake installâ€å°†è¢«ä½¿ç”¨ã€‚\nåœ¨è¿™ä¸ªä¾‹å­é‡Œï¼Œæˆ‘ä»¬å°†åˆ›å»ºä¸€ä¸ªhtopåŒ…ï¼Œè¿™æ˜¯ä¸€ä¸ªlinuxäº¤äº’å¼æ–‡æœ¬æ¨¡å¼è¿›ç¨‹æŸ¥çœ‹å™¨ï¼ˆç±»ä¼¼ topï¼‰ã€‚\né¦–å…ˆï¼Œè®©æˆ‘ä»¬ä»é¡¹ç›®çš„å®˜æ–¹ç½‘ç«™ä¸‹è½½æºä»£ç ï¼Œä½œä¸ºä¸€ä¸ªå¥½çš„ä¹ æƒ¯ï¼Œæˆ‘ä»¬å­˜å‚¨æºç åŒ…åˆ°/usr/local/srcä¸‹ï¼Œå¹¶è§£å‹å®ƒã€‚\n# cd /usr/local/src # wget http://hisham.hm/htop/releases/1.0.3/htop-1.0.3.tar.gz # tar xzf htop-1.0.3.tar.gz # cd htop-1.0.3  è®©æˆ‘ä»¬çœ‹çœ‹htopçš„å®‰è£…å‘½ä»¤æ˜¯ä»€ä¹ˆï¼Œä»¥ä¾¿æˆ‘ä»¬èƒ½ç”¨Checkinstallå‘½ä»¤è°ƒç”¨å®ƒï¼Œå¦‚ä¸‹é¢æ‰€ç¤ºï¼Œhtopç”¨â€œmake installâ€å‘½ä»¤å®‰è£…ã€‚\n# ./configure # make install  å› æ­¤ï¼Œè¦åˆ›å»ºä¸€ä¸ªhtopå®‰è£…åŒ…ï¼Œæˆ‘ä»¬å¯ä»¥ä¸å¸¦ä»»ä½•å‚æ•°çš„è°ƒç”¨checkinstallï¼Œè¿™å°†ä½¿ç”¨â€œmake installâ€å‘½ä»¤åˆ›å»ºä¸€ä¸ªåŒ…ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œ checkinstallå‘½ä»¤ä¼šé—®ä½ å‡ ä¸ªé—®é¢˜ã€‚\nç®€è€Œè¨€ä¹‹ï¼Œå¦‚ä¸‹å‘½ä»¤ä¼šåˆ›å»ºä¸€ä¸ªhtopåŒ…ï¼š\n# ./configure # checkinstall  ç„¶åcheckinstallå°†æ ¹æ®ä½ çš„linuxç³»ç»Ÿæ˜¯ä»€ä¹ˆï¼Œè‡ªåŠ¨åœ°åˆ›å»ºä¸€ä¸ª.rpmæˆ–è€….debåŒ…ã€‚\ngksudo/kdesudo Taken from here:\n You should never use normal sudo to start graphical applications as root. You should use gksudo (kdesudo on Kubuntu) to run such programs. gksudo sets HOME=/root, and copies .Xauthority to a tmp directory. This prevents files in your home directory becoming owned by root.\n Please note that this is primarily about configuration files. If you run Nautilus as root, even with gksu/gksudo, and you create a file or folder anywhere with it (including in your home directory), that file or folder will be owned by root. But if you run Nautilus (or most other graphical applications) as root with sudo, they may save their configuration files in your home directory (rather than root\u0026rsquo;s home directory). Those configuration files may be owned by root and inaccessible when you\u0026rsquo;re not running as root, which can severely mess up your settings, and may even keep some applications from working altogether.\nThe solution, once you have made this mistake, is to find the configuration files and delete them or chown them back to belonging your non-root user. Many such files start with a . or are contained in a directory that starts with a .. Some are located inside the .config folder in your home directory. To see files and folders that start with a . in Nautilus, press Ctrl+H (this shows hidden files.) To see them with ls, use the -a (or -A) flag.\nTo find if there are files not owned by you in your home directory, you can use the following command in a terminal:\nfind $HOME -not -user $USER -exec ls -lad {} \\; which will list all files under the home directory not owned by the user.\nman æ‰‹å†Œé¡µï¼ˆman pagesï¼‰ï¼Œå³å‚è€ƒæ‰‹å†Œé¡µï¼ˆreference manual pagesï¼‰çš„ç®€ç§°ï¼Œæ˜¯ä½ è¿›å…¥ Linux çš„é’¥åŒ™ã€‚ä½ æƒ³çŸ¥é“çš„ä¸€åˆ‡éƒ½åœ¨é‚£é‡Œï¼ŒåŒ…ç½—ä¸‡è±¡ã€‚è¿™å¥—æ–‡æ¡£æ°¸è¿œä¸ä¼šèµ¢å¾—æ™®åˆ©ç­–å¥–ï¼Œä½†è¿™å¥—æ–‡æ¡£æ˜¯ç›¸å½“å‡†ç¡®å’Œå®Œæ•´çš„ã€‚æ‰‹å†Œé¡µæ˜¯ä¸»è¦ä¿¡æºï¼Œå…¶æƒå¨æ€§æ˜¯ä¼—æ‰€å‘¨çŸ¥çš„ã€‚\nè™½ç„¶å®ƒä»¬æ˜¯æºå¤´ï¼Œä½†é˜…è¯»èµ·æ¥å¹¶ä¸æ˜¯æœ€ä»¤äººæ„‰å¿«çš„ã€‚æœ‰ä¸€æ¬¡ï¼Œåœ¨å¾ˆä¹…ä»¥å‰çš„å“²å­¦è¯¾ä¸Šï¼Œæœ‰äººå‘Šè¯‰æˆ‘ï¼Œé˜…è¯» äºšé‡Œå£«å¤šå¾· æ˜¯æœ€æ— èŠçš„é˜…è¯»ã€‚æˆ‘ä¸åŒæ„ï¼šè¯´åˆ°æ¯ç‡¥çš„é˜…è¯»ï¼Œäºšé‡Œå£«å¤šå¾·è¿œè¿œåœ°æ’åœ¨ç¬¬äºŒä½ï¼Œä»…æ¬¡äºæ‰‹å†Œé¡µã€‚\nä¹ä¸€çœ‹ï¼Œè¿™äº›é¡µé¢å¯èƒ½çœ‹èµ·æ¥å¹¶ä¸å®Œæ•´ï¼Œä½†æ˜¯ï¼Œä¸ç®¡ä½ ä¿¡ä¸ä¿¡ï¼Œæ‰‹å†Œé¡µå¹¶ä¸æ˜¯ä¸ºäº†éšè—ä¿¡æ¯ â€”â€” åªæ˜¯å› ä¸ºä¿¡æ¯é‡å¤ªå¤§ï¼Œè¿™äº›é¡µé¢å¿…é¡»è¦æœ‰ç»“æ„ï¼Œè€Œä¸”ä¿¡æ¯æ˜¯ä»¥å°½å¯èƒ½ç®€çŸ­çš„å½¢å¼ç»™å‡ºçš„ã€‚è¿™äº›è§£é‡Šç›¸å½“ç®€ç•¥ï¼Œéœ€è¦ä¸€äº›æ—¶é—´æ¥é€‚åº”ï¼Œä½†ä¸€æ—¦ä½ æŒæ¡äº†ä½¿ç”¨å®ƒä»¬çš„æŠ€å·§ï¼Œä½ å°±ä¼šå‘ç°å®ƒä»¬å®é™…ä¸Šæ˜¯å¤šä¹ˆæœ‰ç”¨ã€‚\nå…¥é—¨ è¿™äº›é¡µé¢æ˜¯é€šè¿‡ä¸€ä¸ªå«åš man çš„å·¥å…·æŸ¥çœ‹çš„ï¼Œä½¿ç”¨å®ƒçš„å‘½ä»¤ç›¸å½“ç®€å•ã€‚åœ¨æœ€ç®€å•çš„æƒ…å†µä¸‹ï¼Œè¦ä½¿ç”¨ manï¼Œä½ è¦åœ¨å‘½ä»¤è¡Œä¸Šè¾“å…¥ manï¼Œåé¢åŠ ä¸€ä¸ªç©ºæ ¼å’Œä½ æƒ³æŸ¥è¯¢çš„å‘½ä»¤ï¼Œæ¯”å¦‚ ls æˆ– cpï¼Œåƒè¿™æ ·ï¼š\nman ls man ä¼šæ‰“å¼€ ls å‘½ä»¤çš„æ‰‹å†Œé¡µã€‚\nä½ å¯ä»¥ç”¨æ–¹å‘é”®ä¸Šä¸‹ç§»åŠ¨ï¼ŒæŒ‰ q é€€å‡ºæŸ¥çœ‹æ‰‹å†Œé¡µã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œæ‰‹å†Œé¡µæ˜¯ç”¨ less æ‰“å¼€çš„ï¼Œæ‰€ä»¥ less å‘½ä»¤çš„é”®ç›˜å¿«æ·é”®åœ¨ man ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨ã€‚\nä¾‹å¦‚ï¼Œä½ å¯ä»¥ç”¨ /search_term æ¥æœç´¢ä¸€ä¸ªç‰¹å®šçš„æ–‡æœ¬ï¼Œç­‰ç­‰ã€‚\næœ‰ä¸€ä¸ªå…³äºæ‰‹å†Œé¡µçš„ä»‹ç»ï¼Œè¿™æ˜¯ä¸€ç¯‡å€¼å¾—é˜…è¯»ä»‹ç»ã€‚å®ƒéå¸¸è¯¦ç»†åœ°è¯´æ˜äº†æ‰‹å†Œé¡µæ˜¯å¦‚ä½•å¸ƒå±€å’Œç»„ç»‡çš„ã€‚\nè¦çœ‹è¿™ä¸ªé¡µé¢ï¼Œè¯·æ‰“å¼€ä¸€ä¸ªç»ˆç«¯ï¼Œç„¶åè¾“å…¥ï¼š\nman man èŠ‚ åœ¨ä½ å¼€å§‹æ›´æ·±å…¥åœ°ç ”ç©¶æ‰‹å†Œé¡µä¹‹å‰ï¼ŒçŸ¥é“æ‰‹å†Œé¡µæœ‰ä¸€ä¸ªå›ºå®šçš„é¡µé¢å¸ƒå±€å’Œä¸€ä¸ªå½’æ¡£æ–¹æ¡ˆä¼šæœ‰å¸®åŠ©ã€‚è¿™å¯èƒ½ä¼šè®©æ–°æ‰‹æ„Ÿåˆ°å›°æƒ‘ï¼Œå› ä¸ºæˆ‘å¯ä»¥è¯´ï¼šâ€œçœ‹æ‰‹å†Œé¡µä¸­å…³äº ls çš„ NAME èŠ‚ï¼ˆsectionï¼‰â€ï¼Œæˆ‘ä¹Ÿå¯ä»¥è¯´ï¼šâ€œçœ‹ç¬¬ 5 èŠ‚ï¼ˆsectionï¼‰ä¸­çš„ passwd çš„æ‰‹å†Œé¡µã€‚â€\nè¿™ä¸ªè¯ï¼Œâ€œèŠ‚ï¼ˆsectionï¼‰â€ è¢«ç”¨äºä¸¤ç§ä¸åŒçš„æ–¹å¼ï¼Œä½†å¹¶ä¸æ€»æ˜¯å‘æ–°äººè§£é‡Šå…¶ä¸­çš„åŒºåˆ«ã€‚\næˆ‘ä¸ç¡®å®šä¸ºä»€ä¹ˆä¼šå‡ºç°è¿™ç§æ··æ·†ï¼Œä½†æˆ‘åœ¨åŸ¹è®­æ–°ç”¨æˆ·å’Œåˆçº§ç³»ç»Ÿç®¡ç†å‘˜æ—¶çœ‹åˆ°è¿‡å‡ æ¬¡è¿™ç§æ··æ·†ã€‚æˆ‘è®¤ä¸ºè¿™å¯èƒ½æ˜¯éš§é“è§†é‡ï¼Œä¸“æ³¨äºä¸€ä»¶äº‹ä¼šä½¿ä¸€ä¸ªäººå¿˜è®°å¦ä¸€ä»¶äº‹ã€‚ä¸€å¶éšœç›®ï¼Œä¸è§æ³°å±±ã€‚\nå¯¹äºé‚£äº›å·²ç»çŸ¥é“å…¶ä¸­çš„åŒºåˆ«çš„äººï¼Œä½ å¯ä»¥è·³è¿‡è¿™ä¸€å°èŠ‚ã€‚è¿™ä¸€éƒ¨åˆ†æ˜¯é’ˆå¯¹é‚£äº›åˆšæ¥è§¦åˆ°æ‰‹å†Œé¡µçš„äººã€‚\nè¿™å°±æ˜¯åŒºåˆ«ï¼š\nå¯¹äºæ‰‹å†Œé¡µ\nå•ç‹¬çš„æ‰‹å†Œé¡µæ˜¯ç”¨æ¥æ˜¾ç¤ºä¿¡æ¯å—çš„ã€‚ä¾‹å¦‚ï¼Œæ¯ä¸ªæ‰‹å†Œé¡µéƒ½æœ‰ä¸€ä¸ªâ€œNAMEâ€èŠ‚ï¼Œæ˜¾ç¤ºå‘½ä»¤çš„åç§°å’Œç®€çŸ­çš„æè¿°ã€‚è¿˜ä¼šæœ‰å¦ä¸€ä¸ªä¿¡æ¯å—ï¼Œç§°ä¸ºâ€œSYNOPSISâ€ï¼Œæ˜¾ç¤ºè¯¥å‘½ä»¤æ˜¯å¦‚ä½•ä½¿ç”¨çš„ï¼Œä»¥æ­¤ç±»æ¨ã€‚\næ¯ä¸ªæ‰‹å†Œé¡µéƒ½ä¼šæœ‰è¿™äº›ï¼Œä»¥åŠå…¶ä»–çš„æ ‡é¢˜ã€‚è¿™äº›åœ¨å„ä¸ªæ‰‹å†Œé¡µä¸Šçš„èŠ‚ï¼Œæˆ–è€…è¯´æ ‡é¢˜ï¼Œæœ‰åŠ©äºä¿æŒäº‹æƒ…çš„ä¸€è‡´æ€§å’Œä¿¡æ¯çš„åˆ†å·¥ã€‚\nå¯¹äºæ‰‹å†Œ\nä½¿ç”¨â€œèŠ‚â€ï¼Œå¦‚ â€œæŸ¥çœ‹ç¬¬ 5 èŠ‚ä¸­çš„ passwd çš„æ‰‹å†Œé¡µâ€ï¼Œæ˜¯æŒ‡æ•´ä¸ªæ‰‹å†Œçš„å†…å®¹ã€‚å½“æˆ‘ä»¬åªçœ‹ä¸€é¡µæ—¶ï¼Œå¾ˆå®¹æ˜“å¿½ç•¥è¿™ä¸€ç‚¹ï¼Œä½†æ˜¯ passwd æ‰‹å†Œé¡µæ˜¯åŒä¸€æœ¬æ‰‹å†Œçš„ä¸€éƒ¨åˆ†ï¼Œè¯¥æ‰‹å†Œè¿˜æœ‰ lsã€rmã€dateã€cal ç­‰çš„æ‰‹å†Œé¡µã€‚\næ•´ä¸ª Linux æ‰‹å†Œæ˜¯å·¨å¤§çš„ï¼›å®ƒæœ‰æˆåƒä¸Šä¸‡çš„æ‰‹å†Œé¡µã€‚å…¶ä¸­ä¸€äº›æ‰‹å†Œé¡µæœ‰ä¸“é—¨çš„ä¿¡æ¯ã€‚æœ‰äº›æ‰‹å†Œé¡µæœ‰ç¨‹åºå‘˜éœ€è¦çš„ä¿¡æ¯ï¼Œæœ‰äº›æ‰‹å†Œé¡µæœ‰ç½‘ç»œæ–¹é¢çš„ç‹¬ç‰¹ä¿¡æ¯ï¼Œè¿˜æœ‰ä¸€äº›æ˜¯ç³»ç»Ÿç®¡ç†å‘˜ä¼šæ„Ÿå…´è¶£çš„ã€‚\nè¿™äº›æ‰‹å†Œé¡µæ ¹æ®å…¶ç‹¬ç‰¹çš„ç›®çš„è¢«åˆ†ç»„ã€‚æƒ³æƒ³çœ‹ï¼ŒæŠŠæ•´ä¸ªæ‰‹å†Œåˆ†æˆå‡ ä¸ªç« èŠ‚ â€”â€” æ¯ç« æœ‰ä¸€ä¸ªç‰¹å®šçš„ä¸»é¢˜ã€‚æœ‰ 9 ä¸ªå·¦å³çš„ç« èŠ‚ï¼ˆéå¸¸å¤§çš„ç« èŠ‚ï¼‰ã€‚ç¢°å·§çš„æ˜¯ï¼Œè¿™äº›ç« èŠ‚è¢«ç§°ä¸ºâ€œèŠ‚â€ã€‚\næ€»ç»“ä¸€ä¸‹ï¼š\n æ‰‹å†Œä¸­å•é¡µï¼ˆæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œæ‰‹å†Œé¡µâ€ï¼‰çš„èŠ‚æ˜¯ç”±æ ‡é¢˜å®šä¹‰çš„ä¿¡æ¯å—ã€‚ è¿™ä¸ªå¤§çš„æ‰‹å†Œï¼ˆæ‰€æœ‰é¡µé¢çš„é›†åˆï¼‰ä¸­çš„ç« èŠ‚ï¼Œåˆšå¥½è¢«ç§°ä¸ºâ€œèŠ‚â€ã€‚  ç°åœ¨ä½ çŸ¥é“åŒºåˆ«äº†ï¼Œå¸Œæœ›æœ¬æ–‡çš„å…¶ä½™éƒ¨åˆ†ä¼šæ›´å®¹æ˜“ç†è§£ã€‚\næ‰‹å†Œé¡µçš„èŠ‚ ä½ å°†ä¼šçœ‹åˆ°ä¸åŒçš„æ‰‹å†Œé¡µï¼Œæ‰€ä»¥è®©æˆ‘ä»¬å…ˆç ”ç©¶ä¸€ä¸‹å„ä¸ªé¡µé¢çš„å¸ƒå±€ã€‚\næ‰‹å†Œé¡µè¢«åˆ†æˆå‡ ä¸ªæ ‡é¢˜ï¼Œå®ƒä»¬å¯èƒ½å› æä¾›è€…ä¸åŒè€Œä¸åŒï¼Œä½†ä¼šæœ‰ç›¸ä¼¼ä¹‹å¤„ã€‚ä¸€èˆ¬çš„åˆ†ç±»å¦‚ä¸‹ï¼š\n NAMEï¼ˆåç§°ï¼‰ SYNOPSISï¼ˆæ¦‚è¦ï¼‰ DESCRIPTIONï¼ˆæè¿°ï¼‰ EXAMPLESï¼ˆä¾‹å­ï¼‰ DIAGNOSTICSï¼ˆè¯Šæ–­ï¼‰ FILESï¼ˆæ–‡ä»¶ï¼‰ LIMITSï¼ˆé™åˆ¶ï¼‰ PORTABILITYï¼ˆå¯ç§»æ¤æ€§ï¼‰ SEE ALSOï¼ˆå¦è§ï¼‰ HISTORYï¼ˆå†å²ï¼‰ WARNINGï¼ˆè­¦å‘Šï¼‰æˆ–BUGSï¼ˆé”™è¯¯ï¼‰ NOTESï¼ˆæ³¨æ„äº‹é¡¹ï¼‰  NAME - åœ¨è¿™ä¸ªæ ‡é¢˜ä¸‹æ˜¯å‘½ä»¤çš„åç§°å’Œå‘½ä»¤çš„ç®€è¦æè¿°ã€‚\nSYNOPSIS - æ˜¾ç¤ºè¯¥å‘½ä»¤çš„ä½¿ç”¨æ–¹æ³•ã€‚ä¾‹å¦‚ï¼Œè¿™é‡Œæ˜¯ cal å‘½ä»¤çš„æ¦‚è¦ï¼š\ncal [Month] [Year] æ¦‚è¦ä»¥å‘½ä»¤çš„åç§°å¼€å§‹ï¼Œåé¢æ˜¯é€‰é¡¹åˆ—è¡¨ã€‚æ¦‚è¦é‡‡ç”¨å‘½ä»¤è¡Œçš„ä¸€èˆ¬å½¢å¼ï¼›å®ƒæ˜¾ç¤ºäº†ä½ å¯ä»¥è¾“å…¥çš„å†…å®¹å’Œå‚æ•°çš„é¡ºåºã€‚æ–¹æ‹¬å·ä¸­çš„å‚æ•°ï¼ˆ[]ï¼‰æ˜¯å¯é€‰çš„ï¼›ä½ å¯ä»¥ä¸è¾“å…¥è¿™äº›å‚æ•°ï¼Œå‘½ä»¤ä»ç„¶å¯ä»¥æ­£å¸¸å·¥ä½œã€‚ä¸åœ¨æ‹¬å·å†…çš„é¡¹ç›®å¿…é¡»ä½¿ç”¨ã€‚\nè¯·æ³¨æ„ï¼Œæ–¹æ‹¬å·åªæ˜¯ä¸ºäº†ä¾¿äºé˜…è¯»ã€‚å½“ä½ è¾“å…¥å‘½ä»¤æ—¶ï¼Œä¸åº”è¯¥è¾“å…¥å®ƒä»¬ã€‚\nDESCRIPTION - æè¿°è¯¥å‘½ä»¤æˆ–å·¥å…·çš„ä½œç”¨ä»¥åŠå¦‚ä½•ä½¿ç”¨å®ƒã€‚è¿™ä¸€èŠ‚é€šå¸¸ä»¥å¯¹æ¦‚è¦çš„è§£é‡Šå¼€å§‹ï¼Œå¹¶è¯´æ˜å¦‚æœä½ çœç•¥ä»»ä½•ä¸€ä¸ªå¯é€‰å‚æ•°ä¼šå‘ç”Ÿä»€ä¹ˆã€‚å¯¹äºé•¿çš„æˆ–å¤æ‚çš„å‘½ä»¤ï¼Œè¿™ä¸€èŠ‚å¯èƒ½ä¼šè¢«ç»†åˆ†ã€‚\nEXAMPLES - ä¸€äº›æ‰‹å†Œé¡µæä¾›äº†å¦‚ä½•ä½¿ç”¨å‘½ä»¤æˆ–å·¥å…·çš„ä¾‹å­ã€‚å¦‚æœæœ‰è¿™ä¸€èŠ‚ï¼Œæ‰‹å†Œé¡µä¼šå°è¯•ç»™å‡ºä¸€äº›ç®€å•çš„ä½¿ç”¨ä¾‹å­ï¼Œä»¥åŠæ›´å¤æ‚çš„ä¾‹å­æ¥è¯´æ˜å¦‚ä½•å®Œæˆå¤æ‚çš„ä»»åŠ¡ã€‚\nDIAGNOSTICS - æœ¬èŠ‚åˆ—å‡ºäº†ç”±å‘½ä»¤æˆ–å·¥å…·è¿”å›çš„çŠ¶æ€æˆ–é”™è¯¯ä¿¡æ¯ã€‚é€šå¸¸ä¸æ˜¾ç¤ºä¸è¨€è‡ªæ˜çš„é”™è¯¯å’ŒçŠ¶æ€ä¿¡æ¯ã€‚é€šå¸¸ä¼šåˆ—å‡ºå¯èƒ½éš¾ä»¥ç†è§£çš„ä¿¡æ¯ã€‚\nFILES - æœ¬èŠ‚åŒ…å«äº† UNIX ç”¨æ¥è¿è¡Œè¿™ä¸ªç‰¹å®šå‘½ä»¤çš„è¡¥å……æ–‡ä»¶çš„åˆ—è¡¨ã€‚è¿™é‡Œï¼Œâ€œè¡¥å……æ–‡ä»¶â€æ˜¯æŒ‡æ²¡æœ‰åœ¨å‘½ä»¤è¡Œä¸­æŒ‡å®šçš„æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ åœ¨çœ‹ passwd å‘½ä»¤çš„æ‰‹å†Œï¼Œä½ å¯èƒ½ä¼šå‘ç° /etc/passwd åˆ—åœ¨è¿™ä¸€èŠ‚ä¸­ï¼Œå› ä¸º UNIX æ˜¯åœ¨è¿™é‡Œå­˜å‚¨å¯†ç ä¿¡æ¯ã€‚\nLIMITS - æœ¬èŠ‚æè¿°äº†ä¸€ä¸ªå·¥å…·çš„é™åˆ¶ã€‚æ“ä½œç³»ç»Ÿå’Œç¡¬ä»¶çš„é™åˆ¶é€šå¸¸ä¸ä¼šè¢«åˆ—å‡ºï¼Œå› ä¸ºå®ƒä»¬ä¸åœ¨å·¥å…·çš„æ§åˆ¶èŒƒå›´å†…ã€‚\nPORTABILITY - åˆ—å‡ºå…¶ä»–å¯ä»¥ä½¿ç”¨è¯¥å·¥å…·çš„ç³»ç»Ÿï¼Œä»¥åŠè¯¥å·¥å…·çš„å…¶ä»–ç‰ˆæœ¬å¯èƒ½æœ‰ä»€ä¹ˆä¸åŒã€‚\nSEE ALSO - åˆ—å‡ºåŒ…å«ç›¸å…³ä¿¡æ¯çš„ç›¸å…³æ‰‹å†Œé¡µã€‚\nHISTORY - æä¾›å‘½ä»¤çš„ç®€è¦å†å²ï¼Œå¦‚å®ƒç¬¬ä¸€æ¬¡å‡ºç°çš„æ—¶é—´ã€‚\nWARNING - å¦‚æœæœ‰è¿™ä¸ªéƒ¨åˆ†ï¼Œå®ƒåŒ…å«äº†å¯¹ç”¨æˆ·çš„é‡è¦å»ºè®®ã€‚\nNOTES - ä¸åƒè­¦å‘Šé‚£æ ·ä¸¥é‡ï¼Œä½†ä¹Ÿæ˜¯é‡è¦çš„ä¿¡æ¯ã€‚\nåŒæ ·ï¼Œå¹¶ä¸æ˜¯æ‰€æœ‰çš„æ‰‹å†Œéƒ½ä½¿ç”¨ä¸Šé¢åˆ—å‡ºçš„ç¡®åˆ‡æ ‡é¢˜ï¼Œä½†å®ƒä»¬è¶³å¤Ÿæ¥è¿‘ï¼Œå¯ä»¥éµå¾ªã€‚\næ‰‹å†Œçš„èŠ‚ æ•´ä¸ª Linux æ‰‹å†Œé›†åˆçš„æ‰‹å†Œé¡µä¼ ç»Ÿä¸Šè¢«åˆ’åˆ†ä¸ºæœ‰ç¼–å·çš„èŠ‚ï¼š\nç¬¬ 1 èŠ‚ï¼šShell å‘½ä»¤å’Œåº”ç”¨ç¨‹åº\nç¬¬ 2 èŠ‚ï¼šåŸºæœ¬å†…æ ¸æœåŠ¡ - ç³»ç»Ÿè°ƒç”¨å’Œé”™è¯¯ä»£ç \nç¬¬ 3 èŠ‚ï¼šä¸ºç¨‹åºå‘˜æä¾›çš„åº“ä¿¡æ¯\nç¬¬ 4 èŠ‚ï¼šç½‘ç»œæœåŠ¡ - å¦‚æœå®‰è£…äº† TCP/IP æˆ– NFS è®¾å¤‡é©±åŠ¨å’Œç½‘ç»œåè®®\nç¬¬ 5 èŠ‚ï¼šæ–‡ä»¶æ ¼å¼ - ä¾‹å¦‚ï¼šæ˜¾ç¤º tar å­˜æ¡£çš„æ ·å­\nç¬¬ 6 èŠ‚ï¼šæ¸¸æˆ\nç¬¬ 7 èŠ‚ï¼šæ‚é¡¹æ–‡ä»¶å’Œæ–‡æ¡£\nç¬¬ 8 èŠ‚ï¼šç³»ç»Ÿç®¡ç†å’Œç»´æŠ¤å‘½ä»¤\nç¬¬ 9 èŠ‚ï¼šä¸çŸ¥åçš„å†…æ ¸è§„æ ¼å’Œæ¥å£\nå°†æ‰‹å†Œé¡µåˆ†æˆè¿™äº›ç»„ï¼Œå¯ä»¥ä½¿æœç´¢æ›´æœ‰æ•ˆç‡ã€‚åœ¨æˆ‘å·¥ä½œçš„åœ°æ–¹ï¼Œæˆ‘æœ‰æ—¶ä¼šåšä¸€äº›ç¼–ç¨‹å·¥ä½œï¼Œæ‰€ä»¥æˆ‘èŠ±äº†ä¸€ç‚¹æ—¶é—´çœ‹ç¬¬ 3 èŠ‚çš„æ‰‹å†Œé¡µã€‚æˆ‘ä¹Ÿåšä¸€äº›ç½‘ç»œæ–¹é¢çš„å·¥ä½œï¼Œæ‰€ä»¥æˆ‘ä¹ŸçŸ¥é“è¦æ¶‰è¶³ç½‘ç»œéƒ¨åˆ†ã€‚ä½œä¸ºå‡ ä¸ªå®éªŒæ€§æœºå™¨çš„ç³»ç»Ÿç®¡ç†å‘˜ï¼Œæˆ‘åœ¨ç¬¬ 8 èŠ‚èŠ±äº†å¾ˆå¤šæ—¶é—´ã€‚\nå°†æ‰‹å†Œç½‘å½’å…¥ç‰¹å®šçš„èŠ‚ï¼ˆç« èŠ‚ï¼‰ï¼Œä½¿æœç´¢ä¿¡æ¯æ›´åŠ å®¹æ˜“ â€”â€” æ— è®ºæ˜¯å¯¹éœ€è¦æœç´¢çš„äººï¼Œè¿˜æ˜¯å¯¹è¿›è¡Œæœç´¢çš„æœºå™¨ã€‚\nä½ å¯ä»¥é€šè¿‡åç§°æ—è¾¹çš„æ•°å­—æ¥åˆ¤æ–­å“ªä¸ªæ‰‹å†Œé¡µå±äºå“ªä¸ªéƒ¨åˆ†ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æ­£åœ¨çœ‹ ls çš„æ‰‹å†Œé¡µï¼Œè€Œé¡µé¢çš„æœ€ä¸Šé¢å†™ç€ã€‚ LS(1)ï¼Œé‚£ä¹ˆä½ æ­£åœ¨æµè§ˆç¬¬ 1 èŠ‚ä¸­çš„ ls é¡µé¢ï¼Œè¯¥èŠ‚åŒ…å«å…³äº shell å‘½ä»¤å’Œåº”ç”¨ç¨‹åºçš„é¡µé¢ã€‚\nä¸‹é¢æ˜¯å¦ä¸€ä¸ªä¾‹å­ã€‚å¦‚æœä½ åœ¨çœ‹ passwd çš„æ‰‹å†Œé¡µï¼Œé¡µé¢çš„é¡¶éƒ¨æ˜¾ç¤º: PASSWD(1)ï¼Œè¯´æ˜ä½ æ­£åœ¨é˜…è¯»ç¬¬ 1 èŠ‚ä¸­æè¿° passwd å‘½ä»¤å¦‚ä½•æ›´æ”¹ç”¨æˆ·è´¦æˆ·å¯†ç çš„æ‰‹å†Œé¡µã€‚å¦‚æœä½ çœ‹åˆ° PASSWD(5)ï¼Œé‚£ä¹ˆä½ æ­£åœ¨é˜…è¯»å…³äºå¯†ç æ–‡ä»¶å’Œå®ƒæ˜¯å¦‚ä½•ç»„æˆçš„çš„æ‰‹å†Œé¡µã€‚\npasswd æ°å¥½æ˜¯ä¸¤ä¸ªä¸åŒçš„ä¸œè¥¿ï¼šä¸€ä¸ªæ˜¯å‘½ä»¤çš„åç§°ï¼Œä¸€ä¸ªæ˜¯æ–‡ä»¶çš„åç§°ã€‚åŒæ ·ï¼Œç¬¬ 1 èŠ‚æè¿°äº†å‘½ä»¤ï¼Œè€Œç¬¬ 5 èŠ‚æ¶‰åŠæ–‡ä»¶æ ¼å¼ã€‚\næ‹¬å·ä¸­çš„æ•°å­—æ˜¯é‡è¦çš„çº¿ç´¢ â€”â€” è¿™ä¸ªæ•°å­—å‘Šè¯‰ä½ æ­£åœ¨é˜…è¯»çš„é¡µé¢æ¥è‡ªå“ªä¸€èŠ‚ã€‚\næœç´¢ä¸€ä¸ªç‰¹å®šçš„èŠ‚ åŸºæœ¬å‘½ä»¤ï¼š\nman -a name å°†åœ¨æ¯ä¸€èŠ‚ä¸­æœç´¢ç”± name æ ‡è¯†çš„æ‰‹å†Œé¡µï¼ŒæŒ‰æ•°å­—é¡ºåºé€ä¸€æ˜¾ç¤ºã€‚è¦æŠŠæœç´¢é™åˆ¶åœ¨ä¸€ä¸ªç‰¹å®šçš„éƒ¨åˆ†ï¼Œè¯·åœ¨ man å‘½ä»¤ä¸­ä½¿ç”¨ä¸€ä¸ªå‚æ•°ï¼Œåƒè¿™æ ·ï¼š\nman 1 name è¿™ä¸ªå‘½ä»¤å°†åªåœ¨æ‰‹å†Œé¡µçš„ç¬¬ 1 èŠ‚ä¸­æœç´¢ nameã€‚ä½¿ç”¨æˆ‘ä»¬å‰é¢çš„ passwd ä¾‹å­ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬å¯ä»¥ä¿æŒæœç´¢çš„é’ˆå¯¹æ€§ã€‚å¦‚æœæˆ‘æƒ³é˜…è¯» passwd å‘½ä»¤çš„æ‰‹å†Œé¡µï¼Œæˆ‘å¯ä»¥åœ¨ç»ˆç«¯è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š\nman 1 passwd man å·¥å…·å°†åªåœ¨ç¬¬ 1 èŠ‚ä¸­æœç´¢ passwd å¹¶æ˜¾ç¤ºå®ƒã€‚å®ƒä¸ä¼šåœ¨ä»»ä½•å…¶ä»–èŠ‚ä¸­å¯»æ‰¾ passwdã€‚\nè¿™ä¸ªå‘½ä»¤çš„å¦ä¸€ç§æ–¹æ³•æ˜¯è¾“å…¥: man passwd.1ã€‚\næœç´¢åŒ…å«æŸä¸ªå…³é”®è¯çš„æ‰€æœ‰æ‰‹å†Œé¡µ å¦‚æœä½ æƒ³è·å¾—åŒ…å«æŸä¸ªå…³é”®è¯çš„æ‰‹å†Œé¡µçš„åˆ—è¡¨ï¼Œman å‘½ä»¤ä¸­çš„ -k é€‰é¡¹ï¼ˆé€šå¸¸ç§°ä¸ºæ ‡å¿—æˆ–å¼€å…³ï¼‰å¯ä»¥æ´¾ä¸Šç”¨åœºã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³çœ‹ä¸€ä¸ªå…³äº ftp çš„æ‰‹å†Œåˆ—è¡¨ï¼Œä½ å¯ä»¥é€šè¿‡è¾“å…¥ä»¥ä¸‹å†…å®¹å¾—åˆ°è¿™ä¸ªåˆ—è¡¨ï¼š\nman -k ftp åœ¨æ¥ä¸‹æ¥çš„åˆ—è¡¨ä¸­ï¼Œä½ å¯ä»¥é€‰æ‹©ä¸€ä¸ªç‰¹å®šçš„æ‰‹å†Œé¡µæ¥é˜…è¯»ã€‚\nåœ¨æŸäº›ç³»ç»Ÿä¸Šï¼Œåœ¨ man -k å·¥ä½œä¹‹å‰ï¼Œç³»ç»Ÿç®¡ç†å‘˜éœ€è¦è¿è¡Œä¸€ä¸ªå«åš catman çš„å·¥å…·ã€‚\näº†è§£æ‰‹å†Œçš„å„ä¸ªèŠ‚ æœ‰ä¸¤ä¸ªæœ‰è¶£çš„å·¥å…·å¯ä»¥å¸®åŠ©ä½ æœç´¢ä¿¡æ¯ï¼šwhatiså’Œ whereisã€‚\nwhatis\næœ‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬å®Œå…¨å¯ä»¥å¾—åˆ°æˆ‘ä»¬éœ€è¦çš„ä¿¡æ¯ã€‚æˆ‘ä»¬éœ€è¦çš„ä¿¡æ¯æœ‰å¾ˆå¤§çš„æœºä¼šæ˜¯å¯ä»¥æ‰¾åˆ°çš„ â€”â€” æ‰¾åˆ°å®ƒå¯èƒ½æ˜¯ä¸€ä¸ªå°é—®é¢˜ã€‚\nä¾‹å¦‚ï¼Œå¦‚æœæˆ‘æƒ³çœ‹å…³äº passwd æ–‡ä»¶çš„æ‰‹å†Œé¡µï¼Œæˆ‘åœ¨ç»ˆç«¯ä¸Šè¾“å…¥ï¼š\nman passwd æˆ‘å°±ä¼šçœ‹åˆ°å…³äº passwd å‘½ä»¤æ‰€æœ‰ä¿¡æ¯çš„æ‰‹å†Œé¡µï¼Œä½†æ²¡æœ‰å…³äº passwd æ–‡ä»¶çš„å†…å®¹ã€‚æˆ‘çŸ¥é“ passwd æ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œä¹Ÿæœ‰ä¸€ä¸ª passwd æ–‡ä»¶ï¼Œä½†æœ‰æ—¶ï¼Œæˆ‘å¯èƒ½ä¼šå¿˜è®°è¿™ä¸€ç‚¹ã€‚è¿™æ—¶æˆ‘æ‰æ„è¯†åˆ°ï¼Œæ–‡ä»¶ç»“æ„åœ¨æ‰‹å†Œé¡µä¸­çš„ä¸åŒèŠ‚ï¼Œæ‰€ä»¥æˆ‘è¾“å…¥äº†ï¼š\nman 4 passwd æˆ‘å¾—åˆ°è¿™æ ·çš„ç­”å¤ï¼š\nNo manual entry for passwd in section 4 See 'man 7 undocumented' for help when manual pages are not available. åˆæ˜¯ä¸€æ¬¡å¥å¿˜çš„å¤±è¯¯ã€‚æ–‡ä»¶ç»“æ„åœ¨ System V UNIX é¡µé¢çš„ç¬¬ 4 èŠ‚ä¸­ã€‚å‡ å¹´å‰ï¼Œå½“æˆ‘å»ºç«‹æ–‡ä»¶æ—¶ï¼Œæˆ‘ç»å¸¸ä½¿ç”¨ man 4 ...ï¼›è¿™ä»ç„¶æ˜¯æˆ‘çš„ä¸€ä¸ªä¹ æƒ¯ã€‚é‚£ä¹ˆå®ƒåœ¨ Linux æ‰‹å†Œä¸­çš„ä»€ä¹ˆåœ°æ–¹å‘¢ï¼Ÿ\nç°åœ¨æ˜¯æ—¶å€™è°ƒç”¨ whatis æ¥çº æ­£æˆ‘äº†ã€‚ä¸ºäº†åšåˆ°è¿™ä¸€ç‚¹ï¼Œæˆ‘åœ¨æˆ‘çš„ç»ˆç«¯ä¸­è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š\nwhatis passwd ç„¶åæˆ‘çœ‹åˆ°ä»¥ä¸‹å†…å®¹ï¼š\npasswd (1) - change user password passwd (1ssl) - compute password hashes passwd (5) - the password file å•Šï¼passwd æ–‡ä»¶çš„é¡µé¢åœ¨ç¬¬ 5 èŠ‚ã€‚ç°åœ¨æ²¡é—®é¢˜äº†ï¼Œå¯ä»¥è®¿é—®æˆ‘æƒ³è¦çš„ä¿¡æ¯äº†ï¼š\nman 5 passwd ç„¶åæˆ‘è¢«å¸¦åˆ°äº†æœ‰æˆ‘éœ€è¦çš„ä¿¡æ¯çš„æ‰‹å†Œé¡µã€‚\nwhatis æ˜¯ä¸€ä¸ªæ–¹ä¾¿çš„å·¥å…·ï¼Œå¯ä»¥ç”¨ç®€çŸ­çš„ä¸€å¥è¯å‘Šè¯‰ä½ ä¸€ä¸ªå‘½ä»¤çš„ä½œç”¨ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æƒ³çŸ¥é“ cal æ˜¯åšä»€ä¹ˆçš„ï¼Œè€Œä¸æƒ³æŸ¥çœ‹æ‰‹å†Œé¡µã€‚åªè¦åœ¨å‘½ä»¤æç¤ºç¬¦ä¸‹é”®å…¥ä»¥ä¸‹å†…å®¹ã€‚\nwhatis cal ä½ ä¼šçœ‹åˆ°è¿™æ ·çš„å›åº”ï¼š\ncal (1) - displays a calendar and the date of Easter ç°åœ¨ä½ çŸ¥é“äº† whatis å‘½ä»¤ï¼Œæˆ‘å¯ä»¥å‘Šè¯‰ä½ ä¸€ä¸ªç§˜å¯† â€”â€” æœ‰ä¸€ä¸ª man å‘½ä»¤çš„ç­‰ä»·ç‰©ã€‚ä¸ºäº†å¾—åˆ°è¿™ä¸ªï¼Œæˆ‘ä»¬ä½¿ç”¨ -f å¼€å…³ï¼šman -f ...ã€‚\nè¯•è¯•å§ã€‚åœ¨ç»ˆç«¯æç¤ºä¸‹è¾“å…¥ whatis calã€‚æ‰§è¡Œåå°±è¾“å…¥ï¼šman -f calã€‚ä¸¤ä¸ªå‘½ä»¤çš„è¾“å‡ºå°†æ˜¯ç›¸åŒçš„ã€‚\nwhereis\nwhereis å‘½ä»¤çš„åå­—å°±è¯´æ˜äº†è¿™ä¸€ç‚¹ â€”â€” å®ƒå‘Šè¯‰ä½ ä¸€ä¸ªç¨‹åºåœ¨æ–‡ä»¶ç³»ç»Ÿä¸­çš„ä½ç½®ã€‚å®ƒä¹Ÿä¼šå‘Šè¯‰ä½ æ‰‹å†Œé¡µçš„å­˜æ”¾ä½ç½®ã€‚å†ä»¥ cal ä¸ºä¾‹ï¼Œæˆ‘åœ¨æç¤ºç¬¦ä¸‹è¾“å…¥ä»¥ä¸‹å†…å®¹ï¼š\nwhereis cal æˆ‘å°†çœ‹åˆ°è¿™ä¸ªï¼š\ncal: /usr/bin/cal /usr/share/man/man1/cal.1.gz ä»”ç»†çœ‹ä¸€ä¸‹è¿™ä¸ªå›ç­”ã€‚ç­”æ¡ˆåªåœ¨ä¸€è¡Œé‡Œï¼Œä½†å®ƒå‘Šè¯‰æˆ‘ä¸¤ä»¶äº‹ï¼š\n /usr/bin/cal æ˜¯ cal ç¨‹åºæ‰€åœ¨çš„åœ°æ–¹ï¼Œä»¥åŠ /usr/share/man/man1/cal.1.gz æ˜¯æ‰‹å†Œé¡µæ‰€åœ¨çš„åœ°æ–¹ï¼ˆæˆ‘ä¹ŸçŸ¥é“æ‰‹å†Œé¡µæ˜¯è¢«å‹ç¼©çš„ï¼Œä½†ä¸ç”¨æ‹…å¿ƒ â€”â€” man å‘½ä»¤çŸ¥é“å¦‚ä½•å³æ—¶è§£å‹ï¼‰ã€‚  whereis ä¾èµ–äº PATH ç¯å¢ƒå˜é‡ï¼›å®ƒåªèƒ½å‘Šè¯‰ä½ æ–‡ä»¶åœ¨å“ªé‡Œï¼Œå¦‚æœå®ƒä»¬åœ¨ä½ çš„ PATH ç¯å¢ƒå˜é‡ä¸­ã€‚\nä½ å¯èƒ½æƒ³çŸ¥é“æ˜¯å¦æœ‰ä¸€ä¸ªä¸ whereis ç›¸å½“çš„ man å‘½ä»¤ã€‚æ²¡æœ‰ä¸€ä¸ªå‘½ä»¤å¯ä»¥å‘Šè¯‰ä½ å¯æ‰§è¡Œæ–‡ä»¶çš„ä½ç½®ï¼Œä½†æœ‰ä¸€ä¸ªå¼€å…³å¯ä»¥å‘Šè¯‰ä½ æ‰‹å†Œé¡µçš„ä½ç½®ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ä½¿ç”¨ date å‘½ä»¤ï¼Œå¦‚æœæˆ‘ä»¬è¾“å…¥ï¼š\nwhereis date åœ¨ç»ˆç«¯æç¤ºç¬¦ä¸‹ï¼Œæˆ‘ä»¬ä¼šçœ‹åˆ°ï¼š\ndate: /usr/bin/date /usr/share/man/man1/date.1.gz æˆ‘ä»¬çœ‹åˆ° date ç¨‹åºåœ¨ /usr/bin/ ç›®å½•ä¸‹ï¼Œå…¶æ‰‹å†Œé¡µçš„åç§°å’Œä½ç½®æ˜¯ï¼š/usr/share/man/man1/date.1.gzã€‚\næˆ‘ä»¬å¯ä»¥è®© man åƒ whereis ä¸€æ ·è¡Œäº‹ï¼Œæœ€æ¥è¿‘çš„æ–¹æ³•æ˜¯ä½¿ç”¨ -w å¼€å…³ã€‚æˆ‘ä»¬ä¸ä¼šå¾—åˆ°ç¨‹åºçš„ä½ç½®ï¼Œä½†æˆ‘ä»¬è‡³å°‘å¯ä»¥å¾—åˆ°æ‰‹å†Œé¡µçš„ä½ç½®ï¼Œåƒè¿™æ ·ï¼š\nman -w date æˆ‘ä»¬å°†çœ‹åˆ°è¿™æ ·çš„è¿”å›ï¼š\n/usr/share/man/man1/date.1.gz ä½ çŸ¥é“äº† whatis å’Œ whereisï¼Œä»¥åŠè®© man å‘½ä»¤åšåŒæ ·ï¼ˆæˆ–æ¥è¿‘ï¼‰äº‹æƒ…çš„æ–¹æ³•ã€‚æˆ‘å±•ç¤ºäº†è¿™ä¸¤ç§æ–¹æ³•ï¼Œæœ‰å‡ ä¸ªä¸åŒçš„åŸå› ã€‚\nå¤šå¹´æ¥ï¼Œæˆ‘ä½¿ç”¨ whatis å’Œ whereisï¼Œå› ä¸ºå®ƒä»¬åœ¨æˆ‘çš„åŸ¹è®­æ‰‹å†Œä¸­ã€‚ç›´åˆ°æœ€è¿‘æˆ‘æ‰äº†è§£åˆ° man -f ... å’Œ man -w ...ã€‚æˆ‘ç¡®ä¿¡æˆ‘çœ‹äº†å‡ ç™¾æ¬¡ man çš„æ‰‹å†Œé¡µï¼Œä½†æˆ‘ä»æœªæ³¨æ„åˆ° -f å’Œ -w å¼€å…³ã€‚æˆ‘æ€»æ˜¯åœ¨çœ‹æ‰‹å†Œé¡µçš„å…¶ä»–ä¸œè¥¿ï¼ˆä¾‹å¦‚ï¼šman -k ...ï¼‰ã€‚æˆ‘åªä¸“æ³¨äºæˆ‘éœ€è¦æ‰¾åˆ°çš„ä¸œè¥¿ï¼Œè€Œå¿½ç•¥äº†å…¶ä»–çš„ä¸œè¥¿ã€‚ä¸€æ—¦æˆ‘æ‰¾åˆ°äº†æˆ‘éœ€è¦çš„ä¿¡æ¯ï¼Œæˆ‘å°±ä¼šç¦»å¼€è¿™ä¸ªé¡µé¢ï¼Œå»å®Œæˆå·¥ä½œï¼Œè€Œä¸å»æ³¨æ„è¿™ä¸ªå‘½ä»¤æ‰€æä¾›çš„å…¶ä»–ä¸€äº›å®è´ã€‚\nè¿™æ²¡å…³ç³»ï¼Œå› ä¸ºè¿™éƒ¨åˆ†å°±æ˜¯æ‰‹å†Œé¡µçš„ä½œç”¨ï¼šå¸®åŠ©ä½ å®Œæˆå·¥ä½œã€‚\nç›´åˆ°æœ€è¿‘æˆ‘å‘åˆ«äººå±•ç¤ºå¦‚ä½•ä½¿ç”¨æ‰‹å†Œé¡µæ—¶ï¼Œæˆ‘æ‰èŠ±æ—¶é—´å»é˜…è¯» â€”â€” â€œçœ‹çœ‹è¿˜æœ‰ä»€ä¹ˆå¯èƒ½â€ â€”â€” æˆ‘ä»¬æ‰çœŸæ­£æ³¨æ„åˆ°å…³äº man å‘½ä»¤çš„ -f å’Œ -w æ ‡è®°å¯ä»¥åšä»€ä¹ˆçš„ä¿¡æ¯ã€‚\nä¸ç®¡ä½ ä½¿ç”¨ Linux å¤šä¹…äº†ï¼Œæˆ–è€…å¤šä¹ˆæœ‰ç»éªŒï¼Œæ€»æœ‰ä¸€äº›æ–°ä¸œè¥¿éœ€è¦å­¦ä¹ ã€‚\næ‰‹å†Œé¡µä¼šå‘Šè¯‰ä½ åœ¨å®ŒæˆæŸé¡¹ä»»åŠ¡æ—¶å¯èƒ½éœ€è¦çŸ¥é“çš„ä¸œè¥¿ â€”â€” ä½†å®ƒä»¬ä¹Ÿæœ‰å¾ˆå¤šå†…å®¹ â€”â€” è¶³ä»¥è®©ä½ çœ‹èµ·æ¥åƒä¸ªé­”æœ¯å¸ˆï¼Œä½†å‰ææ˜¯ä½ è¦èŠ±æ—¶é—´å»è¯»ã€‚\nç»“è®º å¦‚æœä½ èŠ±ä¸€äº›æ—¶é—´å’Œç²¾åŠ›åœ¨æ‰‹å†Œé¡µä¸Šï¼Œä½ å°†ä¼šå–å¾—èƒœåˆ©ã€‚ä½ å¯¹æ‰‹å†Œé¡µçš„ç†Ÿç»ƒç¨‹åº¦ï¼Œå°†åœ¨ä½ æŒæ¡ Linux çš„è¿‡ç¨‹ä¸­å‘æŒ¥å·¨å¤§ä½œç”¨ã€‚\ntldr Collaborative cheatsheets for console commands\nâ€œTLDRâ€ æ˜¯æµè¡Œçš„äº’è”ç½‘è¡Œè¯ï¼Œæ„æ€æ˜¯â€œå¤ªé•¿ä¸è¯»ï¼ˆto long didn\u0026rsquo;t readï¼‰â€ã€‚è¿™å°±æ˜¯ä»–ä»¬åˆ›å»º tldr çš„æƒ³æ³•ã€‚å¦‚æœä½ è§‰å¾—æ‰‹å†Œé¡µå¤ªé•¿è€Œä¸æƒ³é˜…è¯»ï¼Œtldr é€šè¿‡æä¾›å‘½ä»¤çš„å®é™…ä¾‹å­è€Œå°†å…¶ç®€åŒ–äº†ã€‚\nls ls å‘½ä»¤å¯ä»¥åˆ—å‡ºä¸€ä¸ª POSIX ç³»ç»Ÿä¸Šçš„æ–‡ä»¶ã€‚è¿™æ˜¯ä¸€ä¸ªç®€å•çš„å‘½ä»¤ï¼Œä½†å®ƒç»å¸¸è¢«ä½ä¼°ï¼Œä¸æ˜¯å®ƒèƒ½åšä»€ä¹ˆï¼ˆå› ä¸ºå®ƒç¡®å®åªåšäº†ä¸€ä»¶äº‹ï¼‰ï¼Œè€Œæ˜¯ä½ è¯¥å¦‚ä½•ä¼˜åŒ–å¯¹å®ƒçš„ä½¿ç”¨ã€‚\nGNU è¿˜æ˜¯ BSDï¼Ÿ åœ¨äº†è§£ ls çš„éšè—èƒ½åŠ›ä¹‹å‰ï¼Œä½ å¿…é¡»ç¡®å®šä½ æ­£åœ¨è¿è¡Œå“ªä¸ª ls å‘½ä»¤ã€‚æœ‰ä¸¤ä¸ªæœ€æµè¡Œçš„ç‰ˆæœ¬ï¼šåŒ…å«åœ¨ GNU coreutils åŒ…ä¸­çš„ GNU ç‰ˆæœ¬ï¼Œä»¥åŠ BSD ç‰ˆæœ¬ã€‚å¦‚æœä½ æ­£åœ¨è¿è¡Œ Linuxï¼Œé‚£ä¹ˆä½ å¾ˆå¯èƒ½å·²ç»å®‰è£…äº† GNU ç‰ˆæœ¬çš„ lsã€‚å¦‚æœä½ æ­£åœ¨è¿è¡Œ BSD æˆ– MacOSï¼Œé‚£ä¹ˆä½ æœ‰çš„æ˜¯ BSD ç‰ˆæœ¬ã€‚æœ¬æ–‡ä¼šä»‹ç»å®ƒä»¬çš„ä¸åŒä¹‹å¤„ã€‚\nä½ å¯ä»¥ä½¿ç”¨ --version é€‰é¡¹æ‰¾å‡ºä½ è®¡ç®—æœºä¸Šçš„ç‰ˆæœ¬ï¼š\n$ ls --version å¦‚æœå®ƒè¿”å›æœ‰å…³ GNU coreutils çš„ä¿¡æ¯ï¼Œé‚£ä¹ˆä½ æ‹¥æœ‰çš„æ˜¯ GNU ç‰ˆæœ¬ã€‚å¦‚æœå®ƒè¿”å›ä¸€ä¸ªé”™è¯¯ï¼Œä½ å¯èƒ½æ­£åœ¨è¿è¡Œçš„æ˜¯ BSD ç‰ˆæœ¬ï¼ˆè¿è¡Œ man ls | head ä»¥ç¡®å®šï¼‰ã€‚\nä½ è¿˜åº”è¯¥è°ƒæŸ¥ä½ çš„å‘è¡Œç‰ˆå¯èƒ½å…·æœ‰å“ªäº›é¢„è®¾é€‰é¡¹ã€‚ç»ˆç«¯å‘½ä»¤çš„è‡ªå®šä¹‰é€šå¸¸æ”¾åœ¨ $HOME/.bashrc æˆ– $HOME/.bash_aliases æˆ– $HOME/.profile ä¸­ï¼Œå®ƒä»¬æ˜¯é€šè¿‡å°† ls åˆ«ååŒ–ä¸ºæ›´å¤æ‚çš„ ls å‘½ä»¤æ¥å®Œæˆçš„ã€‚ä¾‹å¦‚ï¼š\nalias ls=\u0026#39;ls --color\u0026#39; å‘è¡Œç‰ˆæä¾›çš„é¢„è®¾éå¸¸æœ‰ç”¨ï¼Œä½†å®ƒä»¬ç¡®å®å¾ˆéš¾åˆ†è¾¨å‡ºå“ªäº›æ˜¯ ls æœ¬èº«çš„ç‰¹æ€§ï¼Œå“ªäº›æ˜¯å®ƒçš„é™„åŠ é€‰é¡¹æä¾›çš„ã€‚ä½ è¦æ˜¯æƒ³è¦è¿è¡Œ ls å‘½ä»¤æœ¬èº«è€Œä¸æ˜¯å®ƒçš„åˆ«åï¼Œä½ å¯ä»¥ç”¨åæ–œæ â€œè½¬ä¹‰â€å‘½ä»¤ï¼š\n$ \\ls åˆ†ç±» å•ç‹¬è¿è¡Œ ls ä¼šä»¥é€‚åˆä½ ç»ˆç«¯çš„åˆ—æ•°åˆ—å‡ºæ–‡ä»¶ï¼š\n$ ls ~/example bunko jdk-10.0.2 chapterize otf2ttf.ff despacer overtar.sh estimate.sh pandoc-2.7.1 fop-2.3 safe_yaml games tt è¿™æ˜¯æœ‰ç”¨çš„ä¿¡æ¯ï¼Œä½†æ‰€æœ‰è¿™äº›æ–‡ä»¶çœ‹èµ·æ¥åŸºæœ¬ç›¸åŒï¼Œæ²¡æœ‰æ–¹ä¾¿çš„å›¾æ ‡æ¥å¿«é€Ÿè¡¨ç¤ºå‡ºå“ªä¸ªæ˜¯ç›®å½•ã€æ–‡æœ¬æ–‡ä»¶æˆ–å›¾åƒç­‰ç­‰ã€‚\nä½¿ç”¨ -Fï¼ˆæˆ– GNU ä¸Šçš„é•¿é€‰é¡¹ --classifyï¼‰ä»¥åœ¨æ¯ä¸ªæ¡ç›®ä¹‹åæ˜¾ç¤ºæ ‡è¯†æ–‡ä»¶ç±»å‹çš„æŒ‡ç¤ºç¬¦ï¼š\n$ ls ~/example bunko jdk-10.0.2/ chapterize* otf2ttf.ff* despacer* overtar.sh* estimate.sh pandoc@ fop-2.3/ pandoc-2.7.1/ games/ tt* ä½¿ç”¨æ­¤é€‰é¡¹ï¼Œç»ˆç«¯ä¸­åˆ—å‡ºçš„é¡¹ç›®ä½¿ç”¨ç®€å†™ç¬¦å·æ¥æŒ‰æ–‡ä»¶ç±»å‹åˆ†ç±»ï¼š\n æ–œæ ï¼ˆ/ï¼‰è¡¨ç¤ºç›®å½•ï¼ˆæˆ–â€œæ–‡ä»¶å¤¹â€ï¼‰ã€‚ æ˜Ÿå·ï¼ˆ*ï¼‰è¡¨ç¤ºå¯æ‰§è¡Œæ–‡ä»¶ã€‚è¿™åŒ…æ‹¬äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆç¼–è¯‘ä»£ç ï¼‰ä»¥åŠè„šæœ¬ï¼ˆå…·æœ‰å¯æ‰§è¡Œæƒé™çš„æ–‡æœ¬æ–‡ä»¶ï¼‰ã€‚ ç¬¦å·ï¼ˆ@ï¼‰è¡¨ç¤ºç¬¦å·é“¾æ¥ï¼ˆæˆ–â€œåˆ«åâ€ï¼‰ã€‚ ç­‰å·ï¼ˆ=ï¼‰è¡¨ç¤ºå¥—æ¥å­—ã€‚ åœ¨ BSD ä¸Šï¼Œç™¾åˆ†å·ï¼ˆ%ï¼‰è¡¨ç¤ºæ¶‚æ”¹whiteoutï¼ˆæŸäº›æ–‡ä»¶ç³»ç»Ÿä¸Šçš„æ–‡ä»¶åˆ é™¤æ–¹æ³•ï¼‰ã€‚ åœ¨ GNU ä¸Šï¼Œå°–æ‹¬å·ï¼ˆ\u0026gt;ï¼‰è¡¨ç¤ºé—¨doorï¼ˆIllumos å’Œ Solarisä¸Šçš„è¿›ç¨‹é—´é€šä¿¡ï¼‰ã€‚ ç«–çº¿ï¼ˆ|ï¼‰è¡¨ç¤º FIFO ç®¡é“ã€‚ è¿™ä¸ªé€‰é¡¹çš„ä¸€ä¸ªæ›´ç®€å•çš„ç‰ˆæœ¬æ˜¯ -pï¼Œå®ƒåªåŒºåˆ†æ–‡ä»¶å’Œç›®å½•ã€‚  ï¼ˆLCTT è¯‘æ³¨ï¼šåœ¨æ”¯æŒå½©è‰²çš„ç»ˆç«¯ä¸Šï¼Œä½¿ç”¨ --color é€‰é¡¹å¯ä»¥ä»¥ä¸åŒçš„é¢œè‰²æ¥åŒºåˆ†æ–‡ä»¶ç±»å‹ï¼Œä½†è¦æ³¨æ„å¦‚æœå°†è¾“å‡ºå¯¼å…¥åˆ°ç®¡é“ä¸­ï¼Œåˆ™é¢œè‰²æ¶ˆå¤±ã€‚ï¼‰\né•¿åˆ—è¡¨ ä» ls è·å–â€œé•¿åˆ—è¡¨â€çš„åšæ³•æ˜¯å¦‚æ­¤å¸¸è§ï¼Œä»¥è‡³äºè®¸å¤šå‘è¡Œç‰ˆå°† ll åˆ«åä¸º ls -lã€‚é•¿åˆ—è¡¨æä¾›äº†è®¸å¤šé‡è¦çš„æ–‡ä»¶å±æ€§ï¼Œä¾‹å¦‚æƒé™ã€æ‹¥æœ‰æ¯ä¸ªæ–‡ä»¶çš„ç”¨æˆ·ã€æ–‡ä»¶æ‰€å±çš„ç»„ã€æ–‡ä»¶å¤§å°ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ä»¥åŠæ–‡ä»¶ä¸Šæ¬¡æ›´æ”¹çš„æ—¥æœŸï¼š\n$ ls -l -rwxrwx---. 1 seth users 455 Mar 2 2017 estimate.sh -rwxrwxr-x. 1 seth users 662 Apr 29 22:27 factorial -rwxrwx---. 1 seth users 20697793 Jun 29 2018 fop-2.3-bin.tar.gz -rwxrwxr-x. 1 seth users 6210 May 22 10:22 geteltorito -rwxrwx---. 1 seth users 177 Nov 12 2018 html4mutt.sh [...] å¦‚æœä½ ä¸æƒ³ä»¥å­—èŠ‚ä¸ºå•ä½ï¼Œè¯·æ·»åŠ  -h æ ‡å¿—ï¼ˆæˆ– GNU ä¸­çš„ --humanï¼‰ä»¥å°†æ–‡ä»¶å¤§å°è½¬æ¢ä¸ºæ›´åŠ äººæ€§åŒ–çš„è¡¨ç¤ºæ–¹æ³•ï¼š\n$ ls --human -rwxrwx---. 1 seth users 455 Mar 2 2017 estimate.sh -rwxrwxr-x. 1 seth seth 662 Apr 29 22:27 factorial -rwxrwx---. 1 seth users 20M Jun 29 2018 fop-2.3-bin.tar.gz -rwxrwxr-x. 1 seth seth 6.1K May 22 10:22 geteltorito -rwxrwx---. 1 seth users 177 Nov 12 2018 html4mutt.sh è¦çœ‹åˆ°æ›´å°‘çš„ä¿¡æ¯ï¼Œä½ å¯ä»¥å¸¦æœ‰ -o é€‰é¡¹åªæ˜¾ç¤ºæ‰€æœ‰è€…çš„åˆ—ï¼Œæˆ–å¸¦æœ‰ -g é€‰é¡¹åªæ˜¾ç¤ºæ‰€å±ç»„çš„åˆ—ï¼š\n$ ls -o -rwxrwx---. 1 seth 455 Mar 2 2017 estimate.sh -rwxrwxr-x. 1 seth 662 Apr 29 22:27 factorial -rwxrwx---. 1 seth 20M Jun 29 2018 fop-2.3-bin.tar.gz -rwxrwxr-x. 1 seth 6.1K May 22 10:22 geteltorito -rwxrwx---. 1 seth 177 Nov 12 2018 html4mutt.sh ä¹Ÿå¯ä»¥å°†ä¸¤ä¸ªé€‰é¡¹ç»„åˆä½¿ç”¨ä»¥æ˜¾ç¤ºä¸¤è€…ã€‚\næ—¶é—´å’Œæ—¥æœŸæ ¼å¼ ls çš„é•¿åˆ—è¡¨æ ¼å¼é€šå¸¸å¦‚ä¸‹æ‰€ç¤ºï¼š\n-rwxrwx---. 1 seth users 455 Mar 2 2017 estimate.sh -rwxrwxr-x. 1 seth users 662 Apr 29 22:27 factorial -rwxrwx---. 1 seth users 20697793 Jun 29 2018 fop-2.3-bin.tar.gz -rwxrwxr-x. 1 seth users 6210 May 22 10:22 geteltorito -rwxrwx---. 1 seth users 177 Nov 12 2018 html4mutt.sh æœˆä»½çš„åå­—ä¸ä¾¿äºæ’åºï¼Œæ— è®ºæ˜¯é€šè¿‡è®¡ç®—è¿˜æ˜¯è¯†åˆ«ï¼ˆå–å†³äºä½ çš„å¤§è„‘æ˜¯å¦å€¾å‘äºå–œæ¬¢å­—ç¬¦ä¸²æˆ–æ•´æ•°ï¼‰ã€‚ä½ å¯ä»¥ä½¿ç”¨ --time-style é€‰é¡¹å’Œæ ¼å¼åç§°æ›´æ”¹æ—¶é—´æˆ³çš„æ ¼å¼ã€‚å¯ç”¨æ ¼å¼ä¸ºï¼š\n full-isoï¼šISO å®Œæ•´æ ¼å¼ï¼ˆ1970-01-01 21:12:00ï¼‰ long-isoï¼šISO é•¿æ ¼å¼ï¼ˆ1970-01-01 21:12ï¼‰ isoï¼šiso æ ¼å¼ï¼ˆ01-01 21:12ï¼‰ localeï¼šæœ¬åœ°åŒ–æ ¼å¼ï¼ˆä½¿ç”¨ä½ çš„åŒºåŸŸè®¾ç½®ï¼‰ posix-STYLEï¼šPOSIX é£æ ¼ï¼ˆç”¨åŒºåŸŸè®¾ç½®å®šä¹‰æ›¿æ¢ STYLEï¼‰  ä½ è¿˜å¯ä»¥ä½¿ç”¨ date å‘½ä»¤çš„æ­£å¼è¡¨ç¤ºæ³•åˆ›å»ºè‡ªå®šä¹‰æ ·å¼ã€‚\næŒ‰æ—¶é—´æ’åº é€šå¸¸ï¼Œls å‘½ä»¤æŒ‰å­—æ¯é¡ºåºæ’åºã€‚ä½ å¯ä»¥ä½¿ç”¨ -t é€‰é¡¹æ ¹æ®æ–‡ä»¶çš„æœ€è¿‘æ›´æ”¹çš„æ—¶é—´ï¼ˆæœ€æ–°çš„æ–‡ä»¶æœ€å…ˆåˆ—å‡ºï¼‰è¿›è¡Œæ’åºã€‚\nä¾‹å¦‚ï¼š\n$ touch foo bar baz $ ls bar baz foo $ touch foo $ ls -t foo bar baz åˆ—å‡ºæ–¹å¼ ls çš„æ ‡å‡†è¾“å‡ºå¹³è¡¡äº†å¯è¯»æ€§å’Œç©ºé—´æ•ˆç‡ï¼Œä½†æœ‰æ—¶ä½ éœ€è¦æŒ‰ç…§ç‰¹å®šæ–¹å¼æ’åˆ—çš„æ–‡ä»¶åˆ—è¡¨ã€‚\nè¦ä»¥é€—å·åˆ†éš”æ–‡ä»¶åˆ—è¡¨ï¼Œè¯·ä½¿ç”¨ -mï¼š\nls -m ~/example bar, baz, foo è¦å¼ºåˆ¶æ¯è¡Œä¸€ä¸ªæ–‡ä»¶ï¼Œè¯·ä½¿ç”¨ -1 é€‰é¡¹ï¼ˆè¿™æ˜¯æ•°å­— 1ï¼Œè€Œä¸æ˜¯å°å†™çš„ Lï¼‰ï¼š\n$ ls -1 ~/bin/ bar baz foo è¦æŒ‰æ–‡ä»¶æ‰©å±•åè€Œä¸æ˜¯æ–‡ä»¶åå¯¹æ¡ç›®è¿›è¡Œæ’åºï¼Œè¯·ä½¿ç”¨ -Xï¼ˆè¿™æ˜¯å¤§å†™ Xï¼‰ï¼š\n$ ls bar.xfc baz.txt foo.asc $ ls -X foo.asc baz.txt bar.xfc éšè—æ‚é¡¹ åœ¨æŸäº› ls åˆ—è¡¨ä¸­æœ‰ä¸€äº›ä½ å¯èƒ½ä¸å…³å¿ƒçš„æ¡ç›®ã€‚ä¾‹å¦‚ï¼Œå…ƒå­—ç¬¦ . å’Œ .. åˆ†åˆ«ä»£è¡¨â€œæœ¬ç›®å½•â€å’Œâ€œçˆ¶ç›®å½•â€ã€‚å¦‚æœä½ ç†Ÿæ‚‰åœ¨ç»ˆç«¯ä¸­å¦‚ä½•åˆ‡æ¢ç›®å½•ï¼Œä½ å¯èƒ½å·²ç»çŸ¥é“æ¯ä¸ªç›®å½•éƒ½å°†è‡ªå·±ç§°ä¸º .ï¼Œå¹¶å°†å…¶çˆ¶ç›®å½•ç§°ä¸º ..ï¼Œå› æ­¤å½“ä½ ä½¿ç”¨ -a é€‰é¡¹æ˜¾ç¤ºéšè—æ–‡ä»¶æ—¶å¹¶ä¸éœ€è¦å®ƒç»å¸¸æé†’ä½ ã€‚\nè¦æ˜¾ç¤ºå‡ ä¹æ‰€æœ‰éšè—æ–‡ä»¶ï¼ˆ. å’Œ .. é™¤å¤–ï¼‰ï¼Œè¯·ä½¿ç”¨ -A é€‰é¡¹ï¼š\n$ ls -a . .. .android .atom .bash_aliases [...] $ ls -A .android .atom .bash_aliases [...] æœ‰è®¸å¤šä¼˜ç§€çš„ Unix å·¥å…·æœ‰ä¿å­˜å¤‡ä»½æ–‡ä»¶çš„ä¼ ç»Ÿï¼Œå®ƒä»¬ä¼šåœ¨ä¿å­˜æ–‡ä»¶çš„åç§°åé™„åŠ ä¸€äº›ç‰¹æ®Šå­—ç¬¦ä½œä¸ºå¤‡ä»½æ–‡ä»¶ã€‚ä¾‹å¦‚ï¼Œåœ¨ Vim ä¸­ï¼Œå¤‡ä»½ä¼šä»¥åœ¨æ–‡ä»¶ååé™„åŠ  ~ å­—ç¬¦çš„æ–‡ä»¶åä¿å­˜ã€‚\nè¿™äº›ç±»å‹çš„å¤‡ä»½æ–‡ä»¶å·²ç»å¤šæ¬¡ä½¿æˆ‘å…äºæ„šè ¢çš„é”™è¯¯ï¼Œä½†æ˜¯ç»è¿‡å¤šå¹´äº«å—å®ƒä»¬æä¾›çš„å®‰å…¨æ„Ÿåï¼Œæˆ‘è§‰å¾—ä¸éœ€è¦ç”¨è§†è§‰è¯æ®æ¥è¯æ˜å®ƒä»¬å­˜åœ¨ã€‚æˆ‘ç›¸ä¿¡ Linux åº”ç”¨ç¨‹åºå¯ä»¥ç”Ÿæˆå¤‡ä»½æ–‡ä»¶ï¼ˆå¦‚æœå®ƒä»¬å£°ç§°è¿™æ ·åšçš„è¯ï¼‰ï¼Œæˆ‘å¾ˆä¹æ„ç›¸ä¿¡å®ƒä»¬å­˜åœ¨ â€”â€” è€Œä¸ç”¨å¿…é¡»çœ‹åˆ°å®ƒä»¬ã€‚\nè¦éšè—å¤‡ä»½æ–‡ä»¶ï¼Œè¯·ä½¿ç”¨ -B æˆ– --ignore-backups éšè—å¸¸ç”¨å¤‡ä»½æ ¼å¼ï¼ˆæ­¤é€‰é¡¹åœ¨ BSD çš„ ls ä¸­ä¸å¯ç”¨ï¼‰ï¼š\n$ ls bar.xfc baz.txt foo.asc~ foo.asc $ ls -B bar.xfc baz.txt foo.asc å½“ç„¶ï¼Œå¤‡ä»½æ–‡ä»¶ä»ç„¶å­˜åœ¨ï¼›å®ƒåªæ˜¯è¿‡æ»¤æ‰äº†ï¼Œä½ ä¸å¿…çœ‹åˆ°å®ƒã€‚\né™¤éå¦æœ‰é…ç½®ï¼ŒGNU Emacs åœ¨æ–‡ä»¶åçš„å¼€å¤´å’Œç»“å°¾æ·»åŠ å“ˆå¸Œå­—ç¬¦ï¼ˆï¼ƒï¼‰æ¥ä¿å­˜å¤‡ä»½æ–‡ä»¶ï¼ˆ#fileï¼ƒï¼‰ã€‚å…¶ä»–åº”ç”¨ç¨‹åºå¯èƒ½ä½¿ç”¨ä¸åŒçš„æ ·å¼ã€‚ä½¿ç”¨ä»€ä¹ˆæ¨¡å¼å¹¶ä¸é‡è¦ï¼Œå› ä¸ºä½ å¯ä»¥ä½¿ç”¨ --hide é€‰é¡¹åˆ›å»ºè‡ªå·±çš„æ’é™¤é¡¹ï¼š\n$ ls bar.xfc baz.txt #foo.asc# foo.asc $ ls --hide=\u0026#34;#*#\u0026#34; bar.xfc baz.txt foo.asc é€’å½’åœ°åˆ—å‡ºç›®å½• é™¤éä½ åœ¨æŒ‡å®šç›®å½•ä¸Šè¿è¡Œ lsï¼Œå¦åˆ™å­ç›®å½•çš„å†…å®¹ä¸ä¼šä¸ ls å‘½ä»¤ä¸€èµ·åˆ—å‡ºï¼š\n$ ls -F example/ quux* xyz.txt $ ls -R quux xyz.txt ./example: bar.xfc baz.txt #foo.asc# foo.asc ä½¿ç”¨åˆ«åä½¿å…¶æ°¸ä¹…åŒ– ls å‘½ä»¤å¯èƒ½æ˜¯ shell ä¼šè¯æœŸé—´æœ€å¸¸ä½¿ç”¨çš„å‘½ä»¤ã€‚è¿™æ˜¯ä½ çš„çœ¼ç›å’Œè€³æœµï¼Œä¸ºä½ æä¾›ä¸Šä¸‹æ–‡ä¿¡æ¯å’Œç¡®è®¤å‘½ä»¤çš„ç»“æœã€‚è™½ç„¶æœ‰å¾ˆå¤šé€‰é¡¹å¾ˆæœ‰ç”¨ï¼Œä½† ls ä¹‹ç¾çš„ä¸€éƒ¨åˆ†å°±æ˜¯ç®€æ´ï¼šä¸¤ä¸ªå­—ç¬¦å’Œå›è½¦é”®ï¼Œä½ å°±çŸ¥é“ä½ åˆ°åº•åœ¨å“ªé‡Œä»¥åŠé™„è¿‘æœ‰ä»€ä¹ˆã€‚å¦‚æœä½ ä¸å¾—ä¸åœä¸‹æ€è€ƒï¼ˆæ›´ä¸ç”¨è¯´è¾“å…¥ï¼‰å‡ ä¸ªä¸åŒçš„é€‰é¡¹ï¼Œå®ƒä¼šå˜å¾—ä¸é‚£ä¹ˆæ–¹ä¾¿ï¼Œæ‰€ä»¥é€šå¸¸æƒ…å†µä¸‹ï¼Œå³ä½¿æœ€æœ‰ç”¨çš„é€‰é¡¹ä¹Ÿä¸ä¼šç”¨äº†ã€‚\nè§£å†³æ–¹æ¡ˆæ˜¯ä¸ºä½ çš„ ls å‘½ä»¤æ·»åŠ åˆ«åï¼Œä»¥ä¾¿åœ¨ä½¿ç”¨å®ƒæ—¶ï¼Œä½ å¯ä»¥è·å¾—æœ€å…³å¿ƒçš„ä¿¡æ¯ã€‚\nè¦åœ¨ Bash shell ä¸­ä¸ºå‘½ä»¤åˆ›å»ºåˆ«åï¼Œè¯·åœ¨ä¸»ç›®å½•ä¸­åˆ›å»ºåä¸º .bash_aliases çš„æ–‡ä»¶ï¼ˆå¿…é¡»åœ¨å¼€å¤´åŒ…å« .ï¼‰ã€‚ åœ¨æ­¤æ–‡ä»¶ä¸­ï¼Œåˆ—å‡ºè¦åˆ›å»ºçš„åˆ«åï¼Œç„¶åæ˜¯è¦ä¸ºå…¶åˆ›å»ºåˆ«åçš„å‘½ä»¤ã€‚ä¾‹å¦‚ï¼š\nalias ls=\u0026#39;ls -A -F -B --human --color\u0026#39; è¿™ä¸€è¡Œå¯¼è‡´ä½ çš„ Bash shell å°† ls å‘½ä»¤è§£é‡Šä¸º ls -A -F -B --human --colorã€‚\nä½ ä¸å¿…ä»…é™äºé‡æ–°å®šä¹‰ç°æœ‰å‘½ä»¤ï¼Œè¿˜å¯ä»¥åˆ›å»ºè‡ªå·±çš„åˆ«åï¼š\nalias ll=\u0026#39;ls -l\u0026#39; alias la=\u0026#39;ls -A\u0026#39; alias lh=\u0026#39;ls -h\u0026#39; è¦ä½¿åˆ«åèµ·ä½œç”¨ï¼Œshell å¿…é¡»çŸ¥é“ .bash_aliases é…ç½®æ–‡ä»¶å­˜åœ¨ã€‚åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€ .bashrc æ–‡ä»¶ï¼ˆå¦‚æœå®ƒä¸å­˜åœ¨åˆ™åˆ›å»ºå®ƒï¼‰ï¼Œå¹¶åŒ…å«ä»¥ä¸‹ä»£ç å—ï¼š\nif [ -e $HOME/.bash_aliases ]; then source $HOME/.bash_aliases fi æ¯æ¬¡åŠ è½½ .bashrcï¼ˆè¿™æ˜¯ä¸€ä¸ªæ–°çš„ Bash shell å¯åŠ¨çš„æ—¶å€™ï¼‰ï¼ŒBash ä¼šå°† .bash_aliases åŠ è½½åˆ°ä½ çš„ç¯å¢ƒä¸­ã€‚ä½ å¯ä»¥å…³é—­å¹¶é‡æ–°å¯åŠ¨ Bash ä¼šè¯ï¼Œæˆ–è€…ç›´æ¥å¼ºåˆ¶å®ƒæ‰§è¡Œæ­¤æ“ä½œï¼š\n$ source ~/.bashrc å¦‚æœä½ å¿˜äº†ä½ æ˜¯å¦æœ‰åˆ«åå‘½ä»¤ï¼Œwhich å‘½ä»¤å¯ä»¥å‘Šè¯‰ä½ ï¼š\n$ which ls alias ls=\u0026#39;ls -A -F -B --human --color\u0026#39; /usr/bin/ls å¦‚æœä½ å°† ls å‘½ä»¤åˆ«åä¸ºå¸¦æœ‰é€‰é¡¹çš„ ls å‘½ä»¤ï¼Œåˆ™å¯ä»¥é€šè¿‡å°†åæ–œæ å‰ç¼€åˆ° ls å‰æ¥è¦†ç›–ä½ çš„åˆ«åã€‚ä¾‹å¦‚ï¼Œåœ¨ç¤ºä¾‹åˆ«åä¸­ï¼Œä½¿ç”¨ -B é€‰é¡¹éšè—å¤‡ä»½æ–‡ä»¶ï¼Œè¿™æ„å‘³ç€æ— æ³•ä½¿ç”¨ ls å‘½ä»¤æ˜¾ç¤ºå¤‡ä»½æ–‡ä»¶ã€‚ å¯ä»¥è¦†ç›–è¯¥åˆ«åä»¥æŸ¥çœ‹å¤‡ä»½æ–‡ä»¶ï¼š\n$ ls bar baz foo $ \\ls bar baz baz~ foo åšä¸€ä»¶äº‹ï¼ŒæŠŠå®ƒåšå¥½ ls å‘½ä»¤æœ‰å¾ˆå¤šé€‰é¡¹ï¼Œå…¶ä¸­è®¸å¤šæ˜¯ç‰¹å®šç”¨é€”çš„æˆ–é«˜åº¦ä¾èµ–äºä½ æ‰€ä½¿ç”¨çš„ç»ˆç«¯ã€‚åœ¨ GNU ç³»ç»Ÿä¸ŠæŸ¥çœ‹ info lsï¼Œæˆ–åœ¨ GNU æˆ– BSD ç³»ç»Ÿä¸ŠæŸ¥çœ‹ man ls ä»¥äº†è§£æ›´å¤šé€‰é¡¹ã€‚\nä½ å¯èƒ½ä¼šè§‰å¾—å¥‡æ€ªçš„æ˜¯ï¼Œä¸€ä¸ªä»¥æ¯ä¸ªå·¥å…·â€œåšä¸€ä»¶äº‹ï¼ŒæŠŠå®ƒåšå¥½â€çš„å‰æè€Œé—»åçš„ç³»ç»Ÿä¼šè®©å…¶æœ€å¸¸è§çš„å‘½ä»¤èƒŒè´Ÿ 50 ä¸ªé€‰é¡¹ã€‚ä½†æ˜¯ ls åªåšä¸€ä»¶äº‹ï¼šå®ƒåˆ—å‡ºæ–‡ä»¶ï¼Œè€Œè¿™ 50 ä¸ªé€‰é¡¹å…è®¸ä½ æ§åˆ¶æ¥æ”¶åˆ—è¡¨çš„æ–¹å¼ï¼Œls çš„è¿™é¡¹å·¥ä½œåšå¾—éå¸¸ã€éå¸¸å¥½ã€‚\nexa A modern replacement for â€˜lsâ€™.\ndu (Disk Usage) åœ¨ Linux ä¸­ä½¿ç”¨ ls å‘½ä»¤ åˆ—å‡ºçš„ç›®å½•å†…å®¹ä¸­ï¼Œç›®å½•çš„å¤§å°ä»…æ˜¾ç¤º 4KBã€‚è¿™æ˜¯ä¸€ä¸ªé»˜è®¤çš„å¤§å°ï¼Œæ˜¯ç”¨æ¥å­˜å‚¨ç£ç›˜ä¸Šå­˜å‚¨ç›®å½•çš„å…ƒæ•°æ®çš„å¤§å°ã€‚\ndu å‘½ä»¤ è¡¨ç¤º ç£ç›˜ä½¿ç”¨ç‡ã€‚è¿™æ˜¯ä¸€ä¸ªæ ‡å‡†çš„ Unix ç¨‹åºï¼Œç”¨äºä¼°è®¡å½“å‰å·¥ä½œç›®å½•ä¸­çš„æ–‡ä»¶ç©ºé—´ä½¿ç”¨æƒ…å†µã€‚\nå®ƒä½¿ç”¨é€’å½’æ–¹å¼æ€»ç»“ç£ç›˜ä½¿ç”¨æƒ…å†µï¼Œä»¥è·å–ç›®å½•åŠå…¶å­ç›®å½•çš„å¤§å°ã€‚\n$ du -hs --max-depth=0 /path/dir  du â€“ è¿™æ˜¯ä¸€ä¸ªå‘½ä»¤ -h â€“ ä»¥æ˜“è¯»çš„æ ¼å¼æ˜¾ç¤ºå¤§å° (ä¾‹å¦‚ 1K 234M 2G) -s â€“ ä»…æ˜¾ç¤ºæ¯ä¸ªå‚æ•°çš„æ€»æ•° --max-depth=N â€“ ç›®å½•çš„æ‰“å°æ·±åº¦  NCurses Disk Usage Ncdu is a disk usage analyzer with an ncurses interface.\nncdu å‘½ä»¤æ—¨åœ¨æä¾›ä¸€ä»½å…³äºä½ åœ¨ç¡¬ç›˜ä¸Šä½¿ç”¨çš„ç©ºé—´çš„äº¤äº’å¼æŠ¥å‘Šã€‚\ngdu Fast disk usage analyzer with console interface written in Go\nDiff diffæ˜¯Unixç³»ç»Ÿçš„ä¸€ä¸ªå¾ˆé‡è¦çš„å·¥å…·ç¨‹åºã€‚\nå®ƒç”¨æ¥æ¯”è¾ƒä¸¤ä¸ªæ–‡æœ¬æ–‡ä»¶çš„å·®å¼‚ï¼Œæ˜¯ä»£ç ç‰ˆæœ¬ç®¡ç†çš„åŸºçŸ³ä¹‹ä¸€ã€‚ä½ åœ¨å‘½ä»¤è¡Œä¸‹ï¼Œè¾“å…¥ï¼š\n$ diff \u0026lt;å˜åŠ¨å‰çš„æ–‡ä»¶\u0026gt; \u0026lt;å˜åŠ¨åçš„æ–‡ä»¶\u0026gt; diffå°±ä¼šå‘Šè¯‰ä½ ï¼Œè¿™ä¸¤ä¸ªæ–‡ä»¶æœ‰ä½•å·®å¼‚ã€‚å®ƒçš„æ˜¾ç¤ºç»“æœä¸å¤ªå¥½æ‡‚ï¼Œä¸‹é¢æˆ‘å°±æ¥è¯´æ˜ï¼Œå¦‚ä½•è¯»æ‡‚diffã€‚\nä¸‰ç§æ ¼å¼ ç”±äºå†å²åŸå› ï¼Œdiffæœ‰ä¸‰ç§æ ¼å¼ï¼š\n æ­£å¸¸æ ¼å¼ï¼ˆnormal diffï¼‰ ä¸Šä¸‹æ–‡æ ¼å¼ï¼ˆcontext diffï¼‰ åˆå¹¶æ ¼å¼ï¼ˆunified diffï¼‰  æˆ‘ä»¬ä¾æ¬¡æ¥çœ‹ã€‚\nç¤ºä¾‹æ–‡ä»¶ ä¸ºäº†ä¾¿äºè®²è§£ï¼Œå…ˆæ–°å»ºä¸¤ä¸ªç¤ºä¾‹æ–‡ä»¶ã€‚\nç¬¬ä¸€ä¸ªæ–‡ä»¶å«åšf1ï¼Œå†…å®¹æ˜¯æ¯è¡Œä¸€ä¸ªaï¼Œä¸€å…±7è¡Œã€‚\na a a a a a a ç¬¬äºŒä¸ªæ–‡ä»¶å«åšf2ï¼Œä¿®æ”¹f1è€Œæˆï¼Œç¬¬4è¡Œå˜æˆbï¼Œå…¶ä»–ä¸å˜ã€‚\na a a b a a a æ­£å¸¸æ ¼å¼ ç°åœ¨å¯¹f1å’Œf2è¿›è¡Œæ¯”è¾ƒï¼š\n$ diff f1 f2 è¿™æ—¶ï¼Œdiffå°±ä¼šæ˜¾ç¤ºæ­£å¸¸æ ¼å¼çš„ç»“æœï¼š\n4c4 \u0026lt; a --- \u0026gt; b ç¬¬ä¸€è¡Œæ˜¯ä¸€ä¸ªæç¤ºï¼Œç”¨æ¥è¯´æ˜å˜åŠ¨ä½ç½®ã€‚\n4c4 å®ƒåˆ†æˆä¸‰ä¸ªéƒ¨åˆ†ï¼šå‰é¢çš„\u0026quot;4\u0026quot;ï¼Œè¡¨ç¤ºf1çš„ç¬¬4è¡Œæœ‰å˜åŒ–ï¼›ä¸­é—´çš„\u0026quot;c\u0026quot;è¡¨ç¤ºå˜åŠ¨çš„æ¨¡å¼æ˜¯å†…å®¹æ”¹å˜ï¼ˆchangeï¼‰ï¼Œå…¶ä»–æ¨¡å¼è¿˜æœ‰\u0026quot;å¢åŠ \u0026quot;ï¼ˆaï¼Œä»£è¡¨additionï¼‰å’Œ\u0026quot;åˆ é™¤\u0026quot;ï¼ˆdï¼Œä»£è¡¨deletionï¼‰ï¼›åé¢çš„\u0026quot;4\u0026quot;ï¼Œè¡¨ç¤ºå˜åŠ¨åå˜æˆf2çš„ç¬¬4è¡Œã€‚\nç¬¬äºŒè¡Œåˆ†æˆä¸¤ä¸ªéƒ¨åˆ†ã€‚\n\u0026lt; a å‰é¢çš„å°äºå·ï¼Œè¡¨ç¤ºè¦ä»f1å½“ä¸­å»é™¤è¯¥è¡Œï¼ˆä¹Ÿå°±æ˜¯ç¬¬4è¡Œï¼‰ï¼Œåé¢çš„\u0026quot;a\u0026quot;è¡¨ç¤ºè¯¥è¡Œçš„å†…å®¹ã€‚\nç¬¬ä¸‰è¡Œç”¨æ¥åˆ†å‰²f1å’Œf2ã€‚\n--- ç¬¬å››è¡Œï¼Œç±»ä¼¼äºç¬¬äºŒè¡Œã€‚\n\u0026gt; b å‰é¢çš„å¤§äºå·è¡¨ç¤ºf2å¢åŠ äº†è¯¥è¡Œï¼Œåé¢çš„\u0026quot;b\u0026quot;è¡¨ç¤ºè¯¥è¡Œçš„å†…å®¹ã€‚\næœ€æ—©çš„Unixï¼ˆå³AT\u0026amp;Tç‰ˆæœ¬çš„Unixï¼‰ï¼Œä½¿ç”¨çš„å°±æ˜¯è¿™ç§æ ¼å¼çš„diffã€‚\nä¸Šä¸‹æ–‡æ ¼å¼ ä¸Šä¸ªä¸–çºª80å¹´ä»£åˆï¼ŒåŠ å·å¤§å­¦ä¼¯å…‹åˆ©åˆ†æ ¡æ¨å‡ºBSDç‰ˆæœ¬çš„Unixæ—¶ï¼Œè§‰å¾—diffçš„æ˜¾ç¤ºç»“æœå¤ªç®€å•ï¼Œæœ€å¥½åŠ å…¥ä¸Šä¸‹æ–‡ï¼Œä¾¿äºäº†è§£å‘ç”Ÿçš„å˜åŠ¨ã€‚å› æ­¤ï¼Œæ¨å‡ºäº†ä¸Šä¸‹æ–‡æ ¼å¼çš„diffã€‚\nå®ƒçš„ä½¿ç”¨æ–¹æ³•æ˜¯åŠ å…¥cå‚æ•°ï¼ˆä»£è¡¨contextï¼‰ã€‚\n$ diff -c f1 f2 æ˜¾ç¤ºç»“æœå¦‚ä¸‹ï¼š\n*** f1 2012-08-29 16:45:41.000000000 +0800 --- f2 2012-08-29 16:45:51.000000000 +0800 *************** *** 1,7 **** a a a !a a a a --- 1,7 ---- a a a !b a a a è¿™ä¸ªç»“æœåˆ†æˆå››ä¸ªéƒ¨åˆ†ã€‚\nç¬¬ä¸€éƒ¨åˆ†çš„ä¸¤è¡Œï¼Œæ˜¾ç¤ºä¸¤ä¸ªæ–‡ä»¶çš„åŸºæœ¬æƒ…å†µï¼šæ–‡ä»¶åå’Œæ—¶é—´ä¿¡æ¯ã€‚\n*** f1 2012-08-29 16:45:41.000000000 +0800 --- f2 2012-08-29 16:45:51.000000000 +0800 ***è¡¨ç¤ºå˜åŠ¨å‰çš„æ–‡ä»¶ï¼Œ---è¡¨ç¤ºå˜åŠ¨åçš„æ–‡ä»¶ã€‚\nç¬¬äºŒéƒ¨åˆ†æ˜¯15ä¸ªæ˜Ÿå·ï¼Œå°†æ–‡ä»¶çš„åŸºæœ¬æƒ…å†µä¸å˜åŠ¨å†…å®¹åˆ†å‰²å¼€ã€‚\n*************** ç¬¬ä¸‰éƒ¨åˆ†æ˜¾ç¤ºå˜åŠ¨å‰çš„æ–‡ä»¶ï¼Œå³f1ã€‚\n*** 1,7 **** a a a !a a a a è¿™æ—¶ä¸ä»…æ˜¾ç¤ºå‘ç”Ÿå˜åŒ–çš„ç¬¬4è¡Œï¼Œè¿˜æ˜¾ç¤ºç¬¬4è¡Œçš„å‰é¢ä¸‰è¡Œå’Œåé¢ä¸‰è¡Œï¼Œå› æ­¤ä¸€å…±æ˜¾ç¤º7è¡Œã€‚æ‰€ä»¥ï¼Œå‰é¢çš„*** 1,7 ****å°±è¡¨ç¤ºï¼Œä»ç¬¬1è¡Œå¼€å§‹è¿ç»­7è¡Œã€‚\nå¦å¤–ï¼Œæ–‡ä»¶å†…å®¹çš„æ¯ä¸€è¡Œæœ€å‰é¢ï¼Œè¿˜æœ‰ä¸€ä¸ªæ ‡è®°ä½ã€‚å¦‚æœä¸ºç©ºï¼Œè¡¨ç¤ºè¯¥è¡Œæ— å˜åŒ–ï¼›å¦‚æœæ˜¯æ„Ÿå¹å·ï¼ˆ!ï¼‰ï¼Œè¡¨ç¤ºè¯¥è¡Œæœ‰æ”¹åŠ¨ï¼›å¦‚æœæ˜¯å‡å·ï¼ˆ-ï¼‰ï¼Œè¡¨ç¤ºè¯¥è¡Œè¢«åˆ é™¤ï¼›å¦‚æœæ˜¯åŠ å·ï¼ˆ+ï¼‰ï¼Œè¡¨ç¤ºè¯¥è¡Œä¸ºæ–°å¢ã€‚\nç¬¬å››éƒ¨åˆ†æ˜¾ç¤ºå˜åŠ¨åçš„æ–‡ä»¶ï¼Œå³f2ã€‚\n--- 1,7 ---- a a a !b a a a é™¤äº†å˜åŠ¨è¡Œï¼ˆç¬¬4è¡Œï¼‰ä»¥å¤–ï¼Œä¹Ÿæ˜¯ä¸Šä¸‹æ–‡å„æ˜¾ç¤ºä¸‰è¡Œï¼Œæ€»å…±æ˜¾ç¤º7è¡Œã€‚\nåˆå¹¶æ ¼å¼ å¦‚æœä¸¤ä¸ªæ–‡ä»¶ç›¸ä¼¼åº¦å¾ˆé«˜ï¼Œé‚£ä¹ˆä¸Šä¸‹æ–‡æ ¼å¼çš„diffï¼Œå°†æ˜¾ç¤ºå¤§é‡é‡å¤çš„å†…å®¹ï¼Œå¾ˆæµªè´¹ç©ºé—´ã€‚1990å¹´ï¼ŒGNU diffç‡å…ˆæ¨å‡ºäº†\u0026quot;åˆå¹¶æ ¼å¼\u0026quot;çš„diffï¼Œå°†f1å’Œf2çš„ä¸Šä¸‹æ–‡åˆå¹¶åœ¨ä¸€èµ·æ˜¾ç¤ºã€‚\nå®ƒçš„ä½¿ç”¨æ–¹æ³•æ˜¯åŠ å…¥uå‚æ•°ï¼ˆä»£è¡¨unifiedï¼‰ã€‚\n$ diff -u f1 f2 æ˜¾ç¤ºç»“æœå¦‚ä¸‹ï¼š\n--- f1 2012-08-29 16:45:41.000000000 +0800 +++ f2 2012-08-29 16:45:51.000000000 +0800 @@ -1,7 +1,7 @@ a a a -a +b a a a å®ƒçš„ç¬¬ä¸€éƒ¨åˆ†ï¼Œä¹Ÿæ˜¯æ–‡ä»¶çš„åŸºæœ¬ä¿¡æ¯ã€‚\n--- f1 2012-08-29 16:45:41.000000000 +0800 +++ f2 2012-08-29 16:45:51.000000000 +0800 ---è¡¨ç¤ºå˜åŠ¨å‰çš„æ–‡ä»¶ï¼Œ+++è¡¨ç¤ºå˜åŠ¨åçš„æ–‡ä»¶ã€‚\nç¬¬äºŒéƒ¨åˆ†ï¼Œå˜åŠ¨çš„ä½ç½®ç”¨ä¸¤ä¸ª@ä½œä¸ºèµ·é¦–å’Œç»“æŸã€‚\n@@ -1,7 +1,7 @@ å‰é¢çš„\u0026quot;-1,7\u0026quot;åˆ†æˆä¸‰ä¸ªéƒ¨åˆ†ï¼šå‡å·è¡¨ç¤ºç¬¬ä¸€ä¸ªæ–‡ä»¶ï¼ˆå³f1ï¼‰ï¼Œ\u0026ldquo;1\u0026quot;è¡¨ç¤ºç¬¬1è¡Œï¼Œ\u0026ldquo;7\u0026quot;è¡¨ç¤ºè¿ç»­7è¡Œã€‚åˆåœ¨ä¸€èµ·ï¼Œå°±è¡¨ç¤ºä¸‹é¢æ˜¯ç¬¬ä¸€ä¸ªæ–‡ä»¶ä»ç¬¬1è¡Œå¼€å§‹çš„è¿ç»­7è¡Œã€‚åŒæ ·çš„ï¼Œ\u0026quot;+1,7\u0026quot;è¡¨ç¤ºå˜åŠ¨åï¼Œæˆä¸ºç¬¬äºŒä¸ªæ–‡ä»¶ä»ç¬¬1è¡Œå¼€å§‹çš„è¿ç»­7è¡Œã€‚\nç¬¬ä¸‰éƒ¨åˆ†æ˜¯å˜åŠ¨çš„å…·ä½“å†…å®¹ã€‚\na a a -a +b a a a é™¤äº†æœ‰å˜åŠ¨çš„é‚£äº›è¡Œä»¥å¤–ï¼Œä¹Ÿæ˜¯ä¸Šä¸‹æ–‡å„æ˜¾ç¤º3è¡Œã€‚å®ƒå°†ä¸¤ä¸ªæ–‡ä»¶çš„ä¸Šä¸‹æ–‡ï¼Œåˆå¹¶æ˜¾ç¤ºåœ¨ä¸€èµ·ï¼Œæ‰€ä»¥å«åš\u0026quot;åˆå¹¶æ ¼å¼\u0026rdquo;ã€‚æ¯ä¸€è¡Œæœ€å‰é¢çš„æ ‡å¿—ä½ï¼Œç©ºè¡¨ç¤ºæ— å˜åŠ¨ï¼Œå‡å·è¡¨ç¤ºç¬¬ä¸€ä¸ªæ–‡ä»¶åˆ é™¤çš„è¡Œï¼ŒåŠ å·è¡¨ç¤ºç¬¬äºŒä¸ªæ–‡ä»¶æ–°å¢çš„è¡Œã€‚\ngitæ ¼å¼ ç‰ˆæœ¬ç®¡ç†ç³»ç»Ÿgitï¼Œä½¿ç”¨çš„æ˜¯åˆå¹¶æ ¼å¼diffçš„å˜ä½“ã€‚\n$ git diff æ˜¾ç¤ºç»“æœå¦‚ä¸‹ï¼š\ndiff --git a/f1 b/f1 index 6f8a38c..449b072 100644 --- a/f1 +++ b/f1 @@ -1,7 +1,7 @@ a a a -a +b a a a ç¬¬ä¸€è¡Œè¡¨ç¤ºç»“æœä¸ºgitæ ¼å¼çš„diffã€‚\ndiff --git a/f1 b/f1 è¿›è¡Œæ¯”è¾ƒçš„æ˜¯ï¼Œaç‰ˆæœ¬çš„f1ï¼ˆå³å˜åŠ¨å‰ï¼‰å’Œbç‰ˆæœ¬çš„f1ï¼ˆå³å˜åŠ¨åï¼‰ã€‚\nç¬¬äºŒè¡Œè¡¨ç¤ºä¸¤ä¸ªç‰ˆæœ¬çš„gitå“ˆå¸Œå€¼ï¼ˆindexåŒºåŸŸçš„6f8a38cå¯¹è±¡ï¼Œä¸å·¥ä½œç›®å½•åŒºåŸŸçš„449b072å¯¹è±¡è¿›è¡Œæ¯”è¾ƒï¼‰ï¼Œæœ€åçš„å…­ä½æ•°å­—æ˜¯å¯¹è±¡çš„æ¨¡å¼ï¼ˆæ™®é€šæ–‡ä»¶ï¼Œ644æƒé™ï¼‰ã€‚ã€€index 6f8a38c..449b072 100644 ç¬¬ä¸‰è¡Œè¡¨ç¤ºè¿›è¡Œæ¯”è¾ƒçš„ä¸¤ä¸ªæ–‡ä»¶ã€‚\n--- a/f1 +++ b/f1 ---è¡¨ç¤ºå˜åŠ¨å‰çš„ç‰ˆæœ¬ï¼Œ+++è¡¨ç¤ºå˜åŠ¨åçš„ç‰ˆæœ¬ã€‚\nåé¢çš„è¡Œéƒ½ä¸å®˜æ–¹çš„åˆå¹¶æ ¼å¼diffç›¸åŒã€‚\n@@ -1,7 +1,7 @@ a a a -a +b a a a Crontab ä½¿ç”¨ crontab å‘½ä»¤æ¥æ‰§è¡Œå®šæ—¶ä»»åŠ¡ã€‚æ‰€è°“å®šæ—¶ä»»åŠ¡ï¼Œå°±æ˜¯æœªæ¥çš„æŸä¸ªæˆ–å¤šä¸ªæ—¶ç‚¹ï¼Œé¢„å®šè¦æ‰§è¡Œçš„ä»»åŠ¡ï¼Œæ¯”å¦‚æ¯äº”åˆ†é’Ÿæ”¶ä¸€æ¬¡é‚®ä»¶ã€æ¯å¤©åŠå¤œä¸¤ç‚¹åˆ†æä¸€ä¸‹æ—¥å¿—ç­‰ç­‰ã€‚\nInstalling $ sudo apt install cronie Running $ systemctl enable crond.service $ systemctl start crond.service å‘½ä»¤è¯¦è§£ crontab å‘½ä»¤é€šè¿‡ /etc/cron.allow å’Œ /etc/cron.deny æ–‡ä»¶æ¥é™åˆ¶æŸäº›ç”¨æˆ·æ˜¯å¦å¯ä»¥ä½¿ç”¨ crontab å‘½ä»¤ï¼š\n å½“ç³»ç»Ÿä¸­æœ‰ /etc/cron.allow æ–‡ä»¶æ—¶ï¼Œåªæœ‰å†™å…¥æ­¤æ–‡ä»¶çš„ç”¨æˆ·å¯ä»¥ä½¿ç”¨ crontab å‘½ä»¤ï¼Œæ²¡æœ‰å†™å…¥çš„ç”¨æˆ·ä¸èƒ½ä½¿ç”¨ crontab å‘½ä»¤ã€‚ å½“ç³»ç»Ÿä¸­åªæœ‰ /etc/cron.deny æ–‡ä»¶æ—¶ï¼Œå†™å…¥æ­¤æ–‡ä»¶çš„ç”¨æˆ·ä¸èƒ½ä½¿ç”¨ crontab å‘½ä»¤ï¼Œæ²¡æœ‰å†™å…¥æ–‡ä»¶çš„ç”¨æˆ·å¯ä»¥ä½¿ç”¨ crontab å‘½ä»¤ã€‚ /etc/cron.allow æ–‡ä»¶æ¯” /etc/cron.deny æ–‡ä»¶çš„ä¼˜å…ˆçº§é«˜ï¼ŒLinux ç³»ç»Ÿä¸­é»˜è®¤åªæœ‰ /etc/cron.deny æ–‡ä»¶ã€‚  crontab å‘½ä»¤çš„åŸºæœ¬æ ¼å¼å¦‚ä¸‹ï¼š\ncrontab [é€‰é¡¹] [file] æ³¨æ„ï¼Œè¿™é‡Œçš„ file æŒ‡çš„æ˜¯å‘½ä»¤æ–‡ä»¶çš„åå­—ï¼Œè¡¨ç¤ºå°† file ä½œä¸º crontab çš„ä»»åŠ¡åˆ—è¡¨æ–‡ä»¶å¹¶è½½å…¥ crontabï¼Œè‹¥åœ¨å‘½ä»¤è¡Œä¸­æœªæŒ‡å®šæ–‡ä»¶åï¼Œåˆ™æ­¤å‘½ä»¤å°†æ¥å—æ ‡å‡†è¾“å…¥ï¼ˆé”®ç›˜ï¼‰ä¸Šé”®å…¥çš„å‘½ä»¤ï¼Œå¹¶å°†å®ƒä»¬é”®å…¥ crontabã€‚\nå¸¸ç”¨é€‰é¡¹    é€‰é¡¹ åŠŸèƒ½     -u user ç”¨æ¥è®¾å®šæŸä¸ªç”¨æˆ·çš„ crontab æœåŠ¡ï¼Œä¾‹å¦‚ \u0026ldquo;-u demo\u0026rdquo; è¡¨ç¤ºè®¾å¤‡ demo ç”¨æˆ·çš„ crontab æœåŠ¡ï¼Œæ­¤é€‰é¡¹ä¸€èˆ¬æœ‰ root ç”¨æˆ·æ¥è¿è¡Œã€‚   -e ç¼–è¾‘æŸä¸ªç”¨æˆ·çš„ crontab æ–‡ä»¶å†…å®¹ã€‚å¦‚æœä¸æŒ‡å®šç”¨æˆ·ï¼Œåˆ™è¡¨ç¤ºç¼–è¾‘å½“å‰ç”¨æˆ·çš„ crontab æ–‡ä»¶ã€‚   -l æ˜¾ç¤ºæŸç”¨æˆ·çš„ crontab æ–‡ä»¶å†…å®¹ï¼Œå¦‚æœä¸æŒ‡å®šç”¨æˆ·ï¼Œåˆ™è¡¨ç¤ºæ˜¾ç¤ºå½“å‰ç”¨æˆ·çš„ crontab æ–‡ä»¶å†…å®¹ã€‚   -r ä» /var/spool/cron åˆ é™¤æŸç”¨æˆ·çš„ crontab æ–‡ä»¶ï¼Œå¦‚æœä¸æŒ‡å®šç”¨æˆ·ï¼Œåˆ™é»˜è®¤åˆ é™¤å½“å‰ç”¨æˆ·çš„ crontab æ–‡ä»¶ã€‚   -i åœ¨åˆ é™¤ç”¨æˆ·çš„ crontab æ–‡ä»¶æ—¶ï¼Œç»™ç¡®è®¤æç¤ºã€‚    crontab æ–‡ä»¶æ ¼å¼ * * * * * æ‰§è¡Œçš„ä»»åŠ¡ æ‰§è¡Œçš„ä»»åŠ¡å­—æ®µæ—¢å¯ä»¥å®šæ—¶æ‰§è¡Œç³»ç»Ÿå‘½ä»¤ï¼Œä¹Ÿå¯ä»¥å®šæ—¶æ‰§è¡ŒæŸä¸ª Shell è„šæœ¬ã€‚\næ‰§è¡Œæ—¶é—´\n   é¡¹ç›® å«ä¹‰ èŒƒå›´     ç¬¬ä¸€ä¸ª\u0026rdquo;*\u0026quot; ä¸€å°æ—¶å½“ä¸­çš„ç¬¬å‡ åˆ†é’Ÿï¼ˆminuteï¼‰ 0~59   ç¬¬äºŒä¸ª\u0026quot;*\u0026quot; ä¸€å¤©å½“ä¸­çš„ç¬¬å‡ å°æ—¶ï¼ˆhourï¼‰ 0~23   ç¬¬ä¸‰ä¸ª\u0026quot;*\u0026quot; ä¸€ä¸ªæœˆå½“ä¸­çš„ç¬¬å‡ å¤©ï¼ˆdayï¼‰ 1~31   ç¬¬å››ä¸ª\u0026quot;*\u0026quot; ä¸€å¹´å½“ä¸­çš„ç¬¬å‡ ä¸ªæœˆï¼ˆmonthï¼‰ 1~12   ç¬¬äº”ä¸ª\u0026quot;*\u0026quot; ä¸€å‘¨å½“ä¸­çš„æ˜ŸæœŸå‡ ï¼ˆweekï¼‰ 0~7ï¼ˆ0å’Œ7éƒ½ä»£è¡¨æ˜ŸæœŸæ—¥ï¼‰    æ—¶é—´ç‰¹æ®Šç¬¦å·\n   ç‰¹æ®Šç¬¦å· å«ä¹‰     *ï¼ˆæ˜Ÿå·ï¼‰ ä»£è¡¨ä»»ä½•æ—¶é—´ã€‚æ¯”å¦‚ç¬¬ä¸€ä¸ª\u0026quot;*\u0026ldquo;å°±ä»£è¡¨ä¸€å°æ—¶ç§æ¯åˆ†é’Ÿéƒ½æ‰§è¡Œä¸€æ¬¡çš„æ„æ€ã€‚   ,ï¼ˆé€—å·ï¼‰ ä»£è¡¨ä¸è¿ç»­çš„æ—¶é—´ã€‚æ¯”å¦‚\u0026quot;0 8ï¼Œ12ï¼Œ16***å‘½ä»¤\u0026quot;å°±ä»£è¡¨åœ¨æ¯å¤©çš„ 8 ç‚¹ 0 åˆ†ã€12 ç‚¹ 0 åˆ†ã€16 ç‚¹ 0 åˆ†éƒ½æ‰§è¡Œä¸€æ¬¡å‘½ä»¤ã€‚   -ï¼ˆä¸­æ ï¼‰ ä»£è¡¨è¿ç»­çš„æ—¶é—´èŒƒå›´ã€‚æ¯”å¦‚\u0026quot;0 5 ** 1-6å‘½ä»¤\u0026rdquo;ï¼Œä»£è¡¨åœ¨å‘¨ä¸€åˆ°å‘¨å…­çš„å‡Œæ™¨ 5 ç‚¹ 0 åˆ†æ‰§è¡Œå‘½ä»¤ã€‚   /ï¼ˆæ­£æ–œçº¿ï¼‰ ä»£è¡¨æ¯éš”å¤šä¹…æ‰§è¡Œä¸€æ¬¡ã€‚æ¯”å¦‚\u0026quot;*/10****å‘½ä»¤\u0026quot;ï¼Œä»£è¡¨æ¯éš” 10 åˆ†é’Ÿå°±æ‰§è¡Œä¸€æ¬¡å‘½ä»¤ã€‚    å½“â€œcrontab -eâ€ç¼–è¾‘å®Œæˆä¹‹åï¼Œä¸€æ—¦ä¿å­˜é€€å‡ºï¼Œé‚£ä¹ˆè¿™ä¸ªå®šæ—¶ä»»åŠ¡å®é™…å°±ä¼šå†™å…¥ /var/spool/cron/ ç›®å½•ä¸­ï¼Œæ¯ä¸ªç”¨æˆ·çš„å®šæ—¶ä»»åŠ¡ç”¨è‡ªå·±çš„ç”¨æˆ·åè¿›è¡ŒåŒºåˆ†ã€‚è€Œä¸” crontab å‘½ä»¤åªè¦ä¿å­˜å°±ä¼šç”Ÿæ•ˆï¼Œåªè¦ crond æœåŠ¡æ˜¯å¯åŠ¨çš„ã€‚\ncrontabä¸¾ä¾‹\n   æ—¶é—´ å«ä¹‰     45 22 ***å‘½ä»¤ åœ¨æ¯å¤© 22 ç‚¹ 45 åˆ†æ‰§è¡Œå‘½ä»¤   0 17 ** 1å‘½ä»¤ åœ¨æ¯å‘¨ä¸€çš„ 17 ç‚¹ 0 åˆ†æ‰§è¡Œå‘½ä»¤   0 5 1ï¼Œ15**å‘½ä»¤ åœ¨æ¯æœˆ 1 æ—¥å’Œ 15 æ—¥çš„å‡Œæ™¨ 5 ç‚¹ 0 åˆ†æ‰§è¡Œå‘½ä»¤   40 4 ** 1-5å‘½ä»¤ åœ¨æ¯å‘¨ä¸€åˆ°å‘¨äº”çš„å‡Œæ™¨ 4 ç‚¹ 40 åˆ†æ‰§è¡Œå‘½ä»¤   */10 4 ***å‘½ä»¤ åœ¨æ¯å¤©çš„å‡Œæ™¨ 4 ç‚¹ï¼Œæ¯éš” 10 åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡å‘½ä»¤   0 0 1ï¼Œ15 * 1å‘½ä»¤ åœ¨æ¯æœˆ 1 æ—¥å’Œ 15 æ—¥ï¼Œæ¯å‘¨ä¸€ 0 ç‚¹ 0 åˆ†éƒ½ä¼šæ‰§è¡Œå‘½ä»¤    æ³¨æ„äº‹é¡¹\n 6 ä¸ªé€‰é¡¹éƒ½ä¸èƒ½ä¸ºç©ºï¼Œå¿…é¡»å¡«å†™ã€‚å¦‚æœä¸ç¡®å®šï¼Œåˆ™ä½¿ç”¨â€œ*â€ä»£è¡¨ä»»æ„æ—¶é—´ã€‚ crontab å®šæ—¶ä»»åŠ¡çš„æœ€å°æœ‰æ•ˆæ—¶é—´æ˜¯åˆ†é’Ÿï¼Œæœ€å¤§æœ‰æ•ˆæ—¶é—´æ˜¯æœˆã€‚åƒ 2018 å¹´æŸæ—¶æ‰§è¡Œã€3 ç‚¹ 30 åˆ† 30 ç§’è¿™æ ·çš„æ—¶é—´éƒ½ä¸èƒ½è¢«è¯†åˆ«ã€‚ åœ¨å®šä¹‰æ—¶é—´æ—¶ï¼Œæ—¥æœŸå’Œæ˜ŸæœŸæœ€å¥½ä¸è¦åœ¨ä¸€æ¡å®šæ—¶ä»»åŠ¡ä¸­å‡ºç°ï¼Œå› ä¸ºå®ƒä»¬éƒ½ä»¥å¤©ä¸ºå•ä½ï¼Œéå¸¸å®¹æ˜“è®©ç®¡ç†å‘˜æ··æ·†ã€‚ åœ¨å®šæ—¶ä»»åŠ¡ä¸­ï¼Œä¸ç®¡æ˜¯ç›´æ¥å†™å‘½ä»¤ï¼Œè¿˜æ˜¯åœ¨è„šæœ¬ä¸­å†™å‘½ä»¤ï¼Œæœ€å¥½éƒ½ä½¿ç”¨ç»å¯¹è·¯å¾„ã€‚æœ‰æ—¶ä½¿ç”¨ç›¸å¯¹è·¯å¾„çš„å‘½ä»¤ä¼šæŠ¥é”™ã€‚  run a script on startup Put the script in the appropriate user\u0026rsquo;s cron table (i. e. the crontab) with a schedule of @reboot.\nA user can edit its cron table with crontab -e.\nAn example which will run /path/to/script.sh at startup:\n@reboot /path/to/script.sh If you need to run it as root, don\u0026rsquo;t use @reboot sudo /path/to/script.sh; use sudo crontab -eu root to edit root\u0026rsquo;s crontab.\nps ç®€ä»‹ è¦å¯¹è¿›ç¨‹è¿›è¡Œç›‘æµ‹å’Œæ§åˆ¶ï¼Œé¦–å…ˆå¿…é¡»è¦äº†è§£å½“å‰è¿›ç¨‹çš„æƒ…å†µï¼Œä¹Ÿå°±æ˜¯éœ€è¦æŸ¥çœ‹å½“å‰è¿›ç¨‹ï¼Œè€Œ ps å‘½ä»¤ï¼ˆProcess Statusï¼‰å°±æ˜¯æœ€åŸºæœ¬åŒæ—¶ä¹Ÿæ˜¯éå¸¸å¼ºå¤§çš„è¿›ç¨‹æŸ¥çœ‹å‘½ä»¤ã€‚ä½¿ç”¨è¯¥å‘½ä»¤å¯ä»¥ç¡®å®šæœ‰å“ªäº›è¿›ç¨‹æ­£åœ¨è¿è¡Œå’Œè¿è¡Œçš„çŠ¶æ€ã€è¿›ç¨‹æ˜¯å¦ç»“æŸã€è¿›ç¨‹æœ‰æ²¡æœ‰åƒµæ­»ã€å“ªäº›è¿›ç¨‹å ç”¨äº†è¿‡å¤šçš„èµ„æºç­‰ç­‰ã€‚æ€»ä¹‹å¤§éƒ¨åˆ†ä¿¡æ¯éƒ½æ˜¯å¯ä»¥é€šè¿‡æ‰§è¡Œè¯¥å‘½ä»¤å¾—åˆ°çš„ã€‚pså‘½ä»¤åˆ—å‡ºçš„æ˜¯å½“å‰é‚£äº›è¿›ç¨‹çš„å¿«ç…§ï¼Œå°±æ˜¯æ‰§è¡Œpså‘½ä»¤çš„é‚£ä¸ªæ—¶åˆ»çš„é‚£äº›è¿›ç¨‹ï¼Œå¦‚æœæƒ³è¦åŠ¨æ€çš„æ˜¾ç¤ºè¿›ç¨‹ä¿¡æ¯ï¼Œå°±å¯ä»¥ä½¿ç”¨topå‘½ä»¤ã€‚\nlinuxä¸Šè¿›ç¨‹æœ‰5ç§çŠ¶æ€ï¼š\n  å°±ç»ªçŠ¶æ€å’Œè¿è¡ŒçŠ¶æ€\nå°±ç»ªçŠ¶æ€çš„çŠ¶æ€æ ‡å¿—stateçš„å€¼ä¸ºTASK_RUNNINGã€‚æ­¤æ—¶ï¼Œç¨‹åºå·²è¢«æŒ‚å…¥è¿è¡Œé˜Ÿåˆ—ï¼Œå¤„äºå‡†å¤‡è¿è¡ŒçŠ¶æ€ã€‚ä¸€æ—¦è·å¾—å¤„ç†å™¨ä½¿ç”¨æƒï¼Œå³å¯è¿›å…¥è¿è¡ŒçŠ¶æ€ã€‚\nå½“è¿›ç¨‹è·å¾—å¤„ç†å™¨è€Œè¿è¡Œæ—¶ ï¼Œstateçš„å€¼ä»ç„¶ä¸ºTASK_RUNNINGï¼Œå¹¶ä¸å‘ç”Ÿæ”¹å˜ï¼›ä½†Linuxä¼šæŠŠä¸€ä¸ªä¸“é—¨ç”¨æ¥æŒ‡å‘å½“å‰è¿è¡Œä»»åŠ¡çš„æŒ‡é’ˆcurrentæŒ‡å‘å®ƒï¼Œä»¥è¡¨ç¤ºå®ƒæ˜¯ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ã€‚\n  å¯ä¸­æ–­ç­‰å¾…çŠ¶æ€\nçŠ¶æ€æ ‡å¿—stateçš„å€¼ä¸ºTASK_INTERRUPTIBLã€‚æ­¤æ—¶ï¼Œç”±äºè¿›ç¨‹æœªè·å¾—å®ƒæ‰€ç”³è¯·çš„èµ„æºè€Œå¤„åœ¨ç­‰å¾…çŠ¶æ€ã€‚ä¸€æ—¦èµ„æºæœ‰æ•ˆæˆ–è€…æœ‰å”¤é†’ä¿¡å·ï¼Œè¿›ç¨‹ä¼šç«‹å³ç»“æŸç­‰å¾…è€Œè¿›å…¥å°±ç»ªçŠ¶æ€ã€‚\n  ä¸å¯ä¸­æ–­ç­‰å¾…çŠ¶æ€\nçŠ¶æ€æ ‡å¿—stateçš„å€¼ä¸ºTASK_UNINTERRUPTIBLã€‚æ­¤æ—¶ï¼Œè¿›ç¨‹ä¹Ÿå¤„äºç­‰å¾…èµ„æºçŠ¶æ€ã€‚ä¸€æ—¦èµ„æºæœ‰æ•ˆï¼Œè¿›ç¨‹ä¼šç«‹å³è¿›å…¥å°±ç»ªçŠ¶æ€ã€‚è¿™ä¸ªç­‰å¾…çŠ¶æ€ä¸å¯ä¸­æ–­ç­‰å¾…çŠ¶æ€çš„åŒºåˆ«åœ¨äºï¼šå¤„äºTASK_UNINTERRUPTIBLçŠ¶æ€çš„è¿›ç¨‹ä¸èƒ½è¢«ä¿¡å·é‡æˆ–è€…ä¸­æ–­æ‰€å”¤é†’ï¼Œåªæœ‰å½“å®ƒç”³è¯·çš„èµ„æºæœ‰æ•ˆæ—¶æ‰èƒ½è¢«å”¤é†’ã€‚\nè¿™ä¸ªçŠ¶æ€è¢«åº”ç”¨åœ¨å†…æ ¸ä¸­æŸäº›åœºæ™¯ä¸­ï¼Œæ¯”å¦‚å½“è¿›ç¨‹éœ€è¦å¯¹ç£ç›˜è¿›è¡Œè¯»å†™ï¼Œè€Œæ­¤åˆ»æ­£åœ¨DMAä¸­è¿›è¡Œç€æ•°æ®åˆ°å†…å­˜çš„æ‹·è´ï¼Œå¦‚æœè¿™æ—¶è¿›ç¨‹ä¼‘çœ è¢«æ‰“æ–­ï¼ˆæ¯”å¦‚å¼ºåˆ¶é€€å‡ºä¿¡å·ï¼‰é‚£ä¹ˆå¾ˆå¯èƒ½ä¼šå‡ºç°é—®é¢˜ï¼Œæ‰€ä»¥è¿™æ—¶è¿›ç¨‹å°±ä¼šå¤„äºä¸å¯è¢«æ‰“æ–­çš„çŠ¶æ€ä¸‹ã€‚\n  åœæ­¢çŠ¶æ€\nçŠ¶æ€æ ‡å¿—stateçš„å€¼ä¸ºTASK_STOPPEDã€‚å½“è¿›ç¨‹æ”¶åˆ°ä¸€ä¸ªSIGSTOPä¿¡å·åï¼Œå°±ç”±è¿è¡ŒçŠ¶æ€è¿›å…¥åœæ­¢çŠ¶æ€ï¼Œå½“å—åˆ°ä¸€ä¸ªSIGCONTä¿¡å·æ—¶ï¼Œåˆä¼šæ¢å¤è¿è¡ŒçŠ¶æ€ã€‚è¿™ç§çŠ¶æ€ä¸»è¦ç”¨äºç¨‹åºçš„è°ƒè¯•ï¼Œåˆè¢«å«åšâ€œæš‚åœçŠ¶æ€â€ã€â€œæŒ‚èµ·çŠ¶æ€â€ã€‚\n  ä¸­æ­¢çŠ¶æ€\nçŠ¶æ€æ ‡å¿—stateçš„å€¼ä¸ºTASK_DEADã€‚è¿›ç¨‹å› æŸç§åŸå› è€Œä¸­æ­¢è¿è¡Œï¼Œè¿›ç¨‹å æœ‰çš„æ‰€æœ‰èµ„æºå°†è¢«å›æ”¶ï¼Œé™¤äº†task_structç»“æ„ï¼ˆä»¥åŠå°‘æ•°èµ„æºï¼‰ä»¥å¤–ï¼Œå¹¶ä¸”ç³»ç»Ÿå¯¹å®ƒä¸å†äºˆä»¥ç†ç¬ï¼Œæ‰€ä»¥è¿™ç§çŠ¶æ€ä¹Ÿå«åšâ€œåƒµæ­»çŠ¶æ€â€ï¼Œè¿›ç¨‹æˆä¸ºåƒµå°¸è¿›ç¨‹ã€‚\n  ps æ ‡è¯†è¿›ç¨‹çŠ¶æ€å¯¹åº”çš„ 5 ç§çŠ¶æ€ç ï¼š\n Rï¼šå°±ç»ªçŠ¶æ€å’Œè¿è¡ŒçŠ¶æ€ runnable (on run queue) Sï¼šå¯ä¸­æ–­ç­‰å¾…çŠ¶æ€ sleeping Dï¼šä¸å¯ä¸­æ–­ç­‰å¾…çŠ¶æ€ uninterruptible sleep (usually IO) Tï¼šåœæ­¢çŠ¶æ€ traced or stopped Zï¼šä¸­æ­¢çŠ¶æ€ a defunct (â€zombieâ€) process  ps æ ‡è¯†è¿›ç¨‹çš„å…¶ä»–çŠ¶æ€ç ï¼š\n Xï¼šæ­»æ‰çš„è¿›ç¨‹ Dead ï¼ˆåº”è¯¥ä¸ä¼šå‡ºç°ï¼‰ Wï¼šå†…å­˜äº¤äº’çŠ¶æ€Paging ï¼ˆä» 2.6 å†…æ ¸å¼€å§‹æ— æ•ˆï¼‰ Nï¼šé«˜ä¼˜å…ˆçº§ \u0026lt;ï¼šä½ä¼˜å…ˆçº§ sï¼šåŒ…å«å­è¿›ç¨‹ Lï¼šè¢«é”å…¥å†…å­˜ lï¼šå¤šçº¿ç¨‹çŠ¶æ€ +ï¼šå‰å°è¿›ç¨‹  å‘½ä»¤å‚æ•° åœ¨ä¸åŒçš„ Linux å‘è¡Œç‰ˆä¸Šï¼Œps å‘½ä»¤çš„è¯­æ³•å„ä¸ç›¸åŒï¼Œä¸ºæ­¤ï¼ŒLinux é‡‡å–äº†ä¸€ä¸ªæŠ˜ä¸­çš„æ–¹æ³•ï¼Œå³èåˆå„ç§ä¸åŒçš„é£æ ¼ï¼Œå…¼é¡¾é‚£äº›å·²ç»ä¹ æƒ¯äº†å…¶å®ƒç³»ç»Ÿä¸Šä½¿ç”¨ ps å‘½ä»¤çš„ç”¨æˆ·ã€‚pså‘½ä»¤æ”¯æŒä¸‰ç§ä½¿ç”¨çš„è¯­æ³•æ ¼å¼ï¼š\n UNIX é£æ ¼ï¼Œé€‰é¡¹å¯ä»¥ç»„åˆåœ¨ä¸€èµ·ï¼Œå¹¶ä¸”é€‰é¡¹å‰å¿…é¡»æœ‰â€œ-â€è¿å­—ç¬¦ï¼› BSD é£æ ¼ï¼Œé€‰é¡¹å¯ä»¥ç»„åˆåœ¨ä¸€èµ·ï¼Œä½†æ˜¯é€‰é¡¹å‰ä¸èƒ½æœ‰â€œ-â€è¿å­—ç¬¦ï¼› GNU é£æ ¼çš„é€‰é¡¹ï¼Œé€‰é¡¹å‰æœ‰ä¸¤ä¸ªâ€œ-â€è¿å­—ç¬¦ï¼›  ps å‘½ä»¤å¸¸ç”¨çš„å‚æ•°ï¼š\nps -a æ˜¾ç¤ºæ‰€æœ‰ç»ˆç«¯ä¸‹æ‰§è¡Œçš„è¿›ç¨‹ï¼ŒåŒ…å«å…¶ä»–ç”¨æˆ·çš„è¿›ç¨‹ ps -A æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹ ps -e å’Œ-AåŠŸèƒ½ä¸€æ · ps -H æ˜¾ç¤ºæ ‘çŠ¶ç»“æ„ï¼Œè¡¨ç¤ºç¨‹åºé—´çš„ç›¸äº’å…³ç³» ps -f å…¨æ ¼å¼æ˜¾ç¤ºè¿›ç¨‹ ps a æ˜¾ç¤ºå½“å‰ç»ˆç«¯ä¸‹æ‰§è¡Œçš„è¿›ç¨‹ ps c æ˜¾ç¤ºè¿›ç¨‹çš„çœŸå®åç§° ps e åˆ—å‡ºç¨‹åºæ‰€ä½¿ç”¨çš„ç¯å¢ƒå˜é‡ ps f ç”¨ASCIIå­—ç¬¦æ˜¾ç¤ºæ ‘çŠ¶ç»“æ„ï¼Œè¡¨è¾¾ç¨‹åºé—´çš„ç›¸äº’å…³ç³» ps x æ˜¾ç¤ºæ‰€æœ‰è¿›ç¨‹ï¼Œæ— è®ºæ˜¯å¦è¿è¡Œåœ¨ç»ˆç«¯ä¸Š ps u æ˜¾ç¤ºç”¨æˆ·ç›¸å…³çš„è¿›ç¨‹æˆ–è€…ä¸ç”¨æˆ·ç›¸å…³çš„å±æ€§ ps r åªæ˜¾ç¤ºæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ ä½¿ç”¨å®ä¾‹ å¤§å®¶å¦‚æœæ‰§è¡Œ man ps å‘½ä»¤ï¼Œåˆ™ä¼šå‘ç° ps å‘½ä»¤çš„å¸®åŠ©ä¸ºäº†é€‚åº”ä¸åŒçš„ç±» UNIX ç³»ç»Ÿï¼Œå¯ç”¨æ ¼å¼éå¸¸å¤šï¼Œä¸æ–¹ä¾¿è®°å¿†ã€‚æ‰€ä»¥ï¼Œæˆ‘å»ºè®®å¤§å®¶è®°å¿†å‡ ä¸ªå›ºå®šé€‰é¡¹å³å¯ã€‚\nps aux æŸ¥çœ‹ç³»ç»Ÿä¸­æ‰€æœ‰çš„è¿›ç¨‹\n# ps aux USER PID %CPU %MEM VSZ RSS TTY STAT START TIME COMMAND root 1 0.0 0.2 2872 1416 ? Ss Jun04 0:02 /sbin/init root 2 0.0 0.0 0 0 ? S Jun04 0:00 [kthreadd] root 3 0.0 0.0 0 0 ? S Jun04 0:00 [migration/0] root 4 0.0 0.0 0 0 ? S Jun04 0:00 [ksoftirqd/0] â€¦çœç•¥éƒ¨åˆ†è¾“å‡ºâ€¦ è¾“å‡ºä¿¡æ¯ä¸­å„åˆ—çš„å…·ä½“å«ä¹‰ï¼š\n   è¡¨å¤´ å«ä¹‰     USER è¯¥è¿›ç¨‹æ˜¯ç”±å“ªä¸ªç”¨æˆ·äº§ç”Ÿçš„ã€‚   PID è¿›ç¨‹çš„ IDã€‚   %CPU è¯¥è¿›ç¨‹å ç”¨ CPU èµ„æºçš„ç™¾åˆ†æ¯”ï¼Œå ç”¨çš„ç™¾åˆ†æ¯”è¶Šé«˜ï¼Œè¿›ç¨‹è¶Šè€—è´¹èµ„æºã€‚   %MEM è¯¥è¿›ç¨‹å ç”¨ç‰©ç†å†…å­˜çš„ç™¾åˆ†æ¯”ï¼Œå ç”¨çš„ç™¾åˆ†æ¯”è¶Šé«˜ï¼Œè¿›ç¨‹è¶Šè€—è´¹èµ„æºã€‚   VSZ è¯¥è¿›ç¨‹å ç”¨è™šæ‹Ÿå†…å­˜çš„å¤§å°ï¼Œå•ä½ä¸º KBã€‚   RSS è¯¥è¿›ç¨‹å ç”¨å®é™…ç‰©ç†å†…å­˜çš„å¤§å°ï¼Œå•ä½ä¸º KBã€‚   TTY è¯¥è¿›ç¨‹æ˜¯åœ¨å“ªä¸ªç»ˆç«¯è¿è¡Œçš„ã€‚å…¶ä¸­ï¼Œtty1 ~ tty7 ä»£è¡¨æœ¬åœ°æ§åˆ¶å°ç»ˆç«¯ï¼ˆå¯ä»¥é€šè¿‡ Alt+F1 ~ F7 å¿«æ·é”®åˆ‡æ¢ä¸åŒçš„ç»ˆç«¯ï¼‰ï¼Œtty1~tty6 æ˜¯æœ¬åœ°çš„å­—ç¬¦ç•Œé¢ç»ˆç«¯ï¼Œtty7 æ˜¯å›¾å½¢ç»ˆç«¯ã€‚pts/0 ~ 255 ä»£è¡¨è™šæ‹Ÿç»ˆç«¯ï¼Œä¸€èˆ¬æ˜¯è¿œç¨‹è¿æ¥çš„ç»ˆç«¯ï¼Œç¬¬ä¸€ä¸ªè¿œç¨‹è¿æ¥å ç”¨ pts/0ï¼Œç¬¬äºŒä¸ªè¿œç¨‹è¿æ¥å ç”¨ pts/1ï¼Œä¾æ¬¡å¢—é•¿ã€‚   STAT è¿›ç¨‹çŠ¶æ€ã€‚   START è¯¥è¿›ç¨‹çš„å¯åŠ¨æ—¶é—´ã€‚   TIME è¯¥è¿›ç¨‹å ç”¨ CPU çš„è¿ç®—æ—¶é—´ï¼Œæ³¨æ„ä¸æ˜¯ç³»ç»Ÿæ—¶é—´ã€‚   COMMAND äº§ç”Ÿæ­¤è¿›ç¨‹çš„å‘½ä»¤åã€‚    ps -le æŸ¥çœ‹ç³»ç»Ÿä¸­æ‰€æœ‰çš„è¿›ç¨‹\nps aux å‘½ä»¤å¯ä»¥çœ‹åˆ°ç³»ç»Ÿä¸­æ‰€æœ‰çš„è¿›ç¨‹ï¼Œps -le å‘½ä»¤ä¹Ÿèƒ½çœ‹åˆ°ç³»ç»Ÿä¸­æ‰€æœ‰çš„è¿›ç¨‹ã€‚ç”±äº -l é€‰é¡¹çš„ä½œç”¨ï¼Œæ‰€ä»¥ ps -le å‘½ä»¤èƒ½å¤Ÿçœ‹åˆ°æ›´åŠ è¯¦ç»†çš„ä¿¡æ¯ï¼Œæ¯”å¦‚çˆ¶è¿›ç¨‹çš„ PIDã€ä¼˜å…ˆçº§ç­‰ã€‚ä½†æ˜¯è¿™ä¸¤ä¸ªå‘½ä»¤çš„åŸºæœ¬ä½œç”¨æ˜¯ä¸€è‡´çš„ï¼ŒæŒæ¡å…¶ä¸­ä¸€ä¸ªå°±è¶³å¤Ÿäº†ã€‚\n# ps -le F S UID PID PPID C PRI Nl ADDR SZ WCHAN TTY TIME CMD 4 S 0 1 0 0 80 0 - 718 - ? 00:00:02 init 1 S 0 2 0 0 80 0 - 0 - ? 00:00:00 kthreadd 1 S 0 3 2 0 -40 - - 0 - ? 00:00:00 migration/0 1 S 0 4 2 0 80 0 - 0 - ? 00:00:00 ksoflirqd/0 1 S 0 5 2 0 -40 - - 0 - ? 00:00:00 migration/0 â€¦çœç•¥éƒ¨åˆ†è¾“å‡ºâ€¦ è¾“å‡ºä¿¡æ¯ä¸­å„åˆ—çš„å«ä¹‰ï¼š\n   è¡¨å¤´ å«ä¹‰     F è¿›ç¨‹æ ‡å¿—ï¼Œè¯´æ˜è¿›ç¨‹çš„æƒé™ï¼Œå¸¸è§çš„æ ‡å¿—æœ‰ä¸¤ä¸ª: 1ï¼šè¿›ç¨‹å¯ä»¥è¢«å¤åˆ¶ï¼Œä½†æ˜¯ä¸èƒ½è¢«æ‰§è¡Œï¼›4ï¼šè¿›ç¨‹ä½¿ç”¨è¶…çº§ç”¨æˆ·æƒé™ï¼›   S è¿›ç¨‹çŠ¶æ€ã€‚å…·ä½“çš„çŠ¶æ€å’Œ\u0026quot;psaux\u0026quot;å‘½ä»¤ä¸­çš„ STAT çŠ¶æ€ä¸€è‡´ï¼›   UID è¿è¡Œæ­¤è¿›ç¨‹çš„ç”¨æˆ·çš„ IDï¼›   PID è¿›ç¨‹çš„ IDï¼›   PPID çˆ¶è¿›ç¨‹çš„ IDï¼›   C è¯¥è¿›ç¨‹çš„ CPU ä½¿ç”¨ç‡ï¼Œå•ä½æ˜¯ç™¾åˆ†æ¯”ï¼›   PRI è¿›ç¨‹çš„ä¼˜å…ˆçº§ï¼Œæ•°å€¼è¶Šå°ï¼Œè¯¥è¿›ç¨‹çš„ä¼˜å…ˆçº§è¶Šé«˜ï¼Œè¶Šæ—©è¢« CPU æ‰§è¡Œï¼›   NI è¿›ç¨‹çš„ä¼˜å…ˆçº§ï¼Œæ•°å€¼è¶Šå°ï¼Œè¯¥è¿›ç¨‹è¶Šæ—©è¢«æ‰§è¡Œï¼›   ADDR è¯¥è¿›ç¨‹åœ¨å†…å­˜çš„å“ªä¸ªä½ç½®ï¼›   SZ è¯¥è¿›ç¨‹å ç”¨å¤šå¤§å†…å­˜ï¼›   WCHAN è¯¥è¿›ç¨‹æ˜¯å¦è¿è¡Œã€‚\u0026quot;-\u0026ldquo;ä»£è¡¨æ­£åœ¨è¿è¡Œï¼›   TTY è¯¥è¿›ç¨‹ç”±å“ªä¸ªç»ˆç«¯äº§ç”Ÿï¼›   TIME è¯¥è¿›ç¨‹å ç”¨ CPU çš„è¿ç®—æ—¶é—´ï¼Œæ³¨æ„ä¸æ˜¯ç³»ç»Ÿæ—¶é—´ï¼›   CMD äº§ç”Ÿæ­¤è¿›ç¨‹çš„å‘½ä»¤åï¼›    ps -l æŸ¥çœ‹å½“å‰ Shell äº§ç”Ÿçš„è¿›ç¨‹\n# ps -l F S UID PID PPID C PRI NI ADDR SZ WCHAN TTY TIME CMD 4 S 0 18618 18614 0 80 0 - 1681 - pts/1 00:00:00 bash 4 R 0 18683 18618 4 80 0 - 1619 - pts/1 00:00:00 ps top ç®€ä»‹ topå‘½ä»¤æ˜¯Linuxä¸‹å¸¸ç”¨çš„æ€§èƒ½åˆ†æå·¥å…·ï¼Œèƒ½å¤Ÿå®æ—¶æ˜¾ç¤ºç³»ç»Ÿä¸­å„ä¸ªè¿›ç¨‹çš„èµ„æºå ç”¨çŠ¶å†µï¼Œç±»ä¼¼äºWindowsçš„ä»»åŠ¡ç®¡ç†å™¨ã€‚\ntopæ˜¾ç¤ºç³»ç»Ÿå½“å‰çš„è¿›ç¨‹å’Œå…¶ä»–çŠ¶å†µï¼Œæ˜¯ä¸€ä¸ªåŠ¨æ€æ˜¾ç¤ºè¿‡ç¨‹ï¼Œå³å¯ä»¥é€šè¿‡ç”¨æˆ·æŒ‰é”®æ¥ä¸æ–­åˆ·æ–°å½“å‰çŠ¶æ€ã€‚å¦‚æœåœ¨å‰å°æ‰§è¡Œè¯¥å‘½ä»¤ï¼Œå®ƒå°†ç‹¬å å‰å°ï¼Œç›´åˆ°ç”¨æˆ·ç»ˆæ­¢è¯¥ç¨‹åºä¸ºæ­¢ã€‚\næ¯”è¾ƒå‡†ç¡®çš„è¯´ï¼Œtopå‘½ä»¤æä¾›äº†å®æ—¶çš„å¯¹ç³»ç»Ÿå¤„ç†å™¨çš„çŠ¶æ€ç›‘è§†ã€‚å®ƒå°†æ˜¾ç¤ºç³»ç»Ÿä¸­CPUæœ€â€œæ•æ„Ÿâ€çš„ä»»åŠ¡åˆ—è¡¨ã€‚è¯¥å‘½ä»¤å¯ä»¥æŒ‰CPUä½¿ç”¨ã€å†…å­˜ä½¿ç”¨å’Œæ‰§è¡Œæ—¶é—´å¯¹ä»»åŠ¡è¿›è¡Œæ’åºï¼›è€Œä¸”è¯¥å‘½ä»¤çš„å¾ˆå¤šç‰¹æ€§éƒ½å¯ä»¥é€šè¿‡äº¤äº’å¼å‘½ä»¤æˆ–è€…åœ¨ä¸ªäººå®šåˆ¶æ–‡ä»¶ä¸­è¿›è¡Œè®¾å®šã€‚\nå‘½ä»¤å‚æ•° top å‘½ä»¤çš„åŸºæœ¬æ ¼å¼å¦‚ä¸‹ï¼š\n#top [é€‰é¡¹] é€‰é¡¹ï¼š\n -d ç§’æ•°ï¼šæŒ‡å®š top å‘½ä»¤æ¯éš”å‡ ç§’æ›´æ–°ã€‚é»˜è®¤æ˜¯ 3 ç§’ï¼› -bï¼šä½¿ç”¨æ‰¹å¤„ç†æ¨¡å¼è¾“å‡ºã€‚ä¸€èˆ¬å’Œ\u0026rdquo;-n\u0026quot;é€‰é¡¹åˆç”¨ï¼Œç”¨äºæŠŠ top å‘½ä»¤é‡å®šå‘åˆ°æ–‡ä»¶ä¸­ï¼› -n æ¬¡æ•°ï¼šæŒ‡å®š top å‘½ä»¤æ‰§è¡Œçš„æ¬¡æ•°ã€‚ä¸€èˆ¬å’Œ\u0026quot;-b\u0026quot;é€‰é¡¹åˆç”¨ï¼› -p è¿›ç¨‹PIDï¼šä»…æŸ¥çœ‹æŒ‡å®š ID çš„è¿›ç¨‹ï¼› -sï¼šä½¿ top å‘½ä»¤åœ¨å®‰å…¨æ¨¡å¼ä¸­è¿è¡Œï¼Œé¿å…åœ¨äº¤äº’æ¨¡å¼ä¸­å‡ºç°é”™è¯¯ï¼› -u ç”¨æˆ·åï¼šåªç›‘å¬æŸä¸ªç”¨æˆ·çš„è¿›ç¨‹ï¼›  äº¤äº’æ“ä½œæŒ‡ä»¤ åœ¨ top å‘½ä»¤çš„æ˜¾ç¤ºçª—å£ä¸­ï¼Œè¿˜å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æŒ‰é”®ï¼Œè¿›è¡Œä¸€ä¸‹äº¤äº’æ“ä½œï¼š\n ? æˆ– hï¼šæ˜¾ç¤ºäº¤äº’æ¨¡å¼çš„å¸®åŠ© Pï¼šæŒ‰ç…§ CPU çš„ä½¿ç”¨ç‡æ’åºï¼Œé»˜è®¤å°±æ˜¯æ­¤é€‰é¡¹ Mï¼šæŒ‰ç…§å†…å­˜çš„ä½¿ç”¨ç‡æ’åº Nï¼šæŒ‰ç…§ PID æ’åº Tï¼šæŒ‰ç…§ CPU çš„ç´¯ç§¯è¿ç®—æ—¶é—´æ’åºï¼Œä¹Ÿå°±æ˜¯æŒ‰ç…§ TIME+ é¡¹æ’åº kï¼šæŒ‰ç…§ PID ç»™äºˆæŸä¸ªè¿›ç¨‹ä¸€ä¸ªä¿¡å·ã€‚ä¸€èˆ¬ç”¨äºä¸­æ­¢æŸä¸ªè¿›ç¨‹ï¼Œä¿¡å· 9 æ˜¯å¼ºåˆ¶ä¸­æ­¢çš„ä¿¡å· rï¼šæŒ‰ç…§ PID ç»™æŸä¸ªè¿›ç¨‹é‡è®¾ä¼˜å…ˆçº§ï¼ˆNiceï¼‰å€¼ \u0026lt;Space\u0026gt;ï¼šç«‹å³åˆ·æ–° sï¼šè®¾ç½®åˆ·æ–°æ—¶é—´é—´éš” cï¼šæ˜¾ç¤ºå‘½ä»¤å®Œå…¨æ¨¡å¼ t:ï¼šæ˜¾ç¤ºæˆ–éšè—è¿›ç¨‹å’ŒCPUçŠ¶æ€ä¿¡æ¯ mï¼šæ˜¾ç¤ºæˆ–éšè—å†…å­˜çŠ¶æ€ä¿¡æ¯ lï¼šæ˜¾ç¤ºæˆ–éšè—uptimeä¿¡æ¯ fï¼šå¢åŠ æˆ–å‡å°‘è¿›ç¨‹æ˜¾ç¤ºæ ‡å¿— Sï¼šç´¯è®¡æ¨¡å¼ï¼Œä¼šæŠŠå·²å®Œæˆæˆ–é€€å‡ºçš„å­è¿›ç¨‹å ç”¨çš„CPUæ—¶é—´ç´¯è®¡åˆ°çˆ¶è¿›ç¨‹çš„TIME+ uï¼šæŒ‡å®šæ˜¾ç¤ºç”¨æˆ·è¿›ç¨‹ iï¼šåªæ˜¾ç¤ºæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ Wï¼šä¿å­˜å¯¹topçš„è®¾ç½®åˆ°æ–‡ä»¶ ~/.toprcï¼Œä¸‹æ¬¡å¯åŠ¨å°†è‡ªåŠ¨è°ƒç”¨toprcæ–‡ä»¶çš„è®¾ç½®ã€‚ qï¼šé€€å‡º  ä½¿ç”¨å®ä¾‹ # top top - 12:26:46 up 1 day, 13:32, 2 users, load average: 0.00, 0.00, 0.00 Tasks: 95 total, 1 running, 94 sleeping, 0 stopped, 0 zombie Cpu(s): 0.1%us, 0.1%sy, 0.0%ni, 99.7%id, 0.1%wa, 0.0%hi, 0.1%si, 0.0%st Mem: 625344k total, 571504k used, 53840k free, 65800k buffers Swap: 524280k total, 0k used, 524280k free, 409280k cached PID USER PR NI VIRT RES SHR S %CPU %MEM TIME+ COMMAND 19002 root 20 0 2656 1068 856 R 0.3 0.2 0:01.87 top 1 root 20 0 2872 1416 1200 S 0.0 0.2 0:02.55 init 2 root 20 0 0 0 0 S 0.0 0.0 0:00.03 kthreadd ç¬¬ä¸€è¡Œä¸ºä»»åŠ¡é˜Ÿåˆ—ä¿¡æ¯\n   å†… å®¹ è¯´ æ˜     12:26:46 ç³»ç»Ÿå½“å‰æ—¶é—´   up 1 day, 13:32 ç³»ç»Ÿçš„è¿è¡Œæ—¶é—´.æœ¬æœºå·±ç»è¿è¡Œ 1 å¤© 13 å°æ—¶ 32 åˆ†é’Ÿ   2 users å½“å‰ç™»å½•äº†ä¸¤ä¸ªç”¨æˆ·   load average: 0.00,0.00ï¼Œ0.00 ç³»ç»Ÿåœ¨ä¹‹å‰ 1 åˆ†é’Ÿã€5 åˆ†é’Ÿã€15 åˆ†é’Ÿçš„å¹³å‡è´Ÿè½½ã€‚å¦‚æœ CPU æ˜¯å•æ ¸çš„ï¼Œåˆ™è¿™ä¸ªæ•°å€¼è¶…è¿‡ 1 å°±æ˜¯é«˜è´Ÿè½½ï¼šå¦‚æœ CPU æ˜¯å››æ ¸çš„ï¼Œåˆ™è¿™ä¸ªæ•°å€¼è¶…è¿‡ 4 å°±æ˜¯é«˜è´Ÿè½½ ï¼ˆè¿™ä¸ªå¹³å‡è´Ÿè½½å®Œå…¨æ˜¯ä¾æ®ä¸ªäººç»éªŒæ¥è¿›è¡Œåˆ¤æ–­çš„ï¼Œä¸€èˆ¬è®¤ä¸ºä¸åº”è¯¥è¶…è¿‡æœåŠ¡å™¨ CPU çš„æ ¸æ•°ï¼‰    ç¬¬äºŒè¡Œä¸ºè¿›ç¨‹ä¿¡æ¯\n   å†… å®¹ è¯´ æ˜     Tasks: 95 total ç³»ç»Ÿä¸­çš„è¿›ç¨‹æ€»æ•°   1 running æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹æ•°   94 sleeping ç¡çœ çš„è¿›ç¨‹æ•°   0 stopped æ­£åœ¨åœæ­¢çš„è¿›ç¨‹æ•°   0 zombie åƒµå°¸è¿›ç¨‹æ•°ã€‚å¦‚æœä¸æ˜¯ 0ï¼Œåˆ™éœ€è¦æ‰‹å·¥æ£€æŸ¥åƒµå°¸è¿›ç¨‹    ç¬¬ä¸‰è¡Œä¸º CPU ä¿¡æ¯\n   å†… å®¹ è¯´ æ˜     Cpu(s): 0.1 %us ç”¨æˆ·æ¨¡å¼å ç”¨çš„ CPU ç™¾åˆ†æ¯”   0.1%sy ç³»ç»Ÿæ¨¡å¼å ç”¨çš„ CPU ç™¾åˆ†æ¯”   0.0%ni æ”¹å˜è¿‡ä¼˜å…ˆçº§çš„ç”¨æˆ·è¿›ç¨‹å ç”¨çš„ CPU ç™¾åˆ†æ¯”   99.7%id ç©ºé—² CPU å ç”¨çš„ CPU ç™¾åˆ†æ¯”   0.1%wa ç­‰å¾…è¾“å…¥/è¾“å‡ºçš„è¿›ç¨‹å ç”¨çš„ CPU ç™¾åˆ†æ¯”   0.0%hi ç¡¬ä¸­æ–­è¯·æ±‚æœåŠ¡å ç”¨çš„ CPU ç™¾åˆ†æ¯”   0.1%si è½¯ä¸­æ–­è¯·æ±‚æœåŠ¡å ç”¨çš„ CPU ç™¾åˆ†æ¯”   0.0%st stï¼ˆsteal timeï¼‰æ„ä¸ºè™šæ‹Ÿæ—¶é—´ç™¾åˆ†æ¯”ï¼Œå°±æ˜¯å½“æœ‰è™šæ‹Ÿæœºæ—¶ï¼Œè™šæ‹Ÿ CPU ç­‰å¾…å®é™… CPU çš„æ—¶é—´ç™¾åˆ†æ¯”    ç¬¬å››è¡Œä¸ºç‰©ç†å†…å­˜ä¿¡æ¯\n   å†… å®¹ è¯´ æ˜     Mem: 625344k total ç‰©ç†å†…å­˜çš„æ€»é‡ï¼Œå•ä½ä¸ºKB   571504k used å·±ç»ä½¿ç”¨çš„ç‰©ç†å†…å­˜æ•°é‡   53840k free ç©ºé—²çš„ç‰©ç†å†…å­˜æ•°é‡ã€‚æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯è™šæ‹Ÿæœºï¼Œå…±åˆ†é…äº† 628MBå†…å­˜ï¼Œæ‰€ä»¥åªæœ‰53MBçš„ç©ºé—²å†…å­˜   65800k buffers/cache ä½œä¸ºç¼“å†²çš„å†…å­˜æ•°é‡    ç¼“å†²ï¼ˆbufferï¼‰å’Œç¼“å­˜ï¼ˆcacheï¼‰çš„åŒºåˆ«ï¼š\n ç¼“å­˜ï¼ˆcacheï¼‰æ˜¯åœ¨è¯»å–ç¡¬ç›˜ä¸­çš„æ•°æ®æ—¶ï¼ŒæŠŠæœ€å¸¸ç”¨çš„æ•°æ®ä¿å­˜åœ¨å†…å­˜çš„ç¼“å­˜åŒºä¸­ï¼Œå†æ¬¡è¯»å–è¯¥æ•°æ®æ—¶ï¼Œå°±ä¸å»ç¡¬ç›˜ä¸­è¯»å–äº†ï¼Œè€Œåœ¨ç¼“å­˜ä¸­è¯»å–ã€‚ ç¼“å†²ï¼ˆbufferï¼‰æ˜¯åœ¨å‘ç¡¬ç›˜å†™å…¥æ•°æ®æ—¶ï¼Œå…ˆæŠŠæ•°æ®æ”¾å…¥ç¼“å†²åŒº,ç„¶åå†ä¸€èµ·å‘ç¡¬ç›˜å†™å…¥ï¼ŒæŠŠåˆ†æ•£çš„å†™æ“ä½œé›†ä¸­è¿›è¡Œï¼Œå‡å°‘ç£ç›˜ç¢ç‰‡å’Œç¡¬ç›˜çš„åå¤å¯»é“ï¼Œä»è€Œæé«˜ç³»ç»Ÿæ€§èƒ½ã€‚  ç®€å•æ¥è¯´ï¼Œç¼“å­˜ï¼ˆcacheï¼‰æ˜¯ç”¨æ¥åŠ é€Ÿæ•°æ®ä»ç¡¬ç›˜ä¸­\u0026quot;è¯»å–\u0026quot;çš„ï¼Œè€Œç¼“å†²ï¼ˆbufferï¼‰æ˜¯ç”¨æ¥åŠ é€Ÿæ•°æ®\u0026quot;å†™å…¥\u0026quot;ç¡¬ç›˜çš„ã€‚\nç¬¬äº”è¡Œä¸ºäº¤æ¢åˆ†åŒºï¼ˆswapï¼‰ä¿¡æ¯\n   å†… å®¹ è¯´ æ˜     Swap: 524280k total äº¤æ¢åˆ†åŒºï¼ˆè™šæ‹Ÿå†…å­˜ï¼‰çš„æ€»å¤§å°   Ok used å·²ç»ä½¿ç”¨çš„äº¤æ¢åˆ†åŒºçš„å¤§å°   524280k free ç©ºé—²äº¤æ¢åˆ†åŒºçš„å¤§å°   409280k cached ä½œä¸ºç¼“å­˜çš„äº¤æ¢åˆ†åŒºçš„å¤§å°    ç¬¬å…­è¡Œä¸ºç³»ç»Ÿè¿›ç¨‹ä¿¡æ¯\nå†æ¥çœ‹ top å‘½ä»¤çš„ç¬¬äºŒéƒ¨åˆ†è¾“å‡ºï¼Œä¸»è¦æ˜¯ç³»ç»Ÿè¿›ç¨‹ä¿¡æ¯ï¼Œå„ä¸ªå­—æ®µçš„å«ä¹‰å¦‚ä¸‹ï¼š\n PIDï¼šè¿›ç¨‹çš„ IDã€‚ USERï¼šè¯¥è¿›ç¨‹æ‰€å±çš„ç”¨æˆ·ã€‚ PRï¼šä¼˜å…ˆçº§ï¼Œæ•°å€¼è¶Šå°ä¼˜å…ˆçº§è¶Šé«˜ã€‚ NIï¼šä¼˜å…ˆçº§ï¼Œæ•°å€¼è¶Šå°ã€ä¼˜å…ˆçº§è¶Šé«˜ã€‚ VIRTï¼šè¯¥è¿›ç¨‹ä½¿ç”¨çš„è™šæ‹Ÿå†…å­˜çš„å¤§å°ï¼Œå•ä½ä¸º KBã€‚ RESï¼šè¯¥è¿›ç¨‹ä½¿ç”¨çš„ç‰©ç†å†…å­˜çš„å¤§å°ï¼Œå•ä½ä¸º KBã€‚ SHRï¼šå…±äº«å†…å­˜å¤§å°ï¼Œå•ä½ä¸º KBã€‚ Sï¼šè¿›ç¨‹çŠ¶æ€ã€‚ %CPUï¼šè¯¥è¿›ç¨‹å ç”¨ CPU çš„ç™¾åˆ†æ¯”ã€‚ %MEMï¼šè¯¥è¿›ç¨‹å ç”¨å†…å­˜çš„ç™¾åˆ†æ¯”ã€‚ TIME+ï¼šè¯¥è¿›ç¨‹å…±å ç”¨çš„ CPU æ—¶é—´ã€‚ COMMANDï¼šè¿›ç¨‹çš„å‘½ä»¤åã€‚  htop htop æ˜¯ä¸€ä¸ª Linux ä¸‹çš„äº¤äº’å¼çš„è¿›ç¨‹æµè§ˆå™¨ï¼Œå¯ä»¥ç”¨æ¥æ›¿æ¢Linuxä¸‹çš„topå‘½ä»¤ã€‚\nä¸Linuxä¼ ç»Ÿçš„topç›¸æ¯”ï¼Œhtopæ›´åŠ äººæ€§åŒ–ã€‚å®ƒå¯è®©ç”¨æˆ·äº¤äº’å¼æ“ä½œï¼Œæ”¯æŒé¢œè‰²ä¸»é¢˜ï¼Œå¯æ¨ªå‘æˆ–çºµå‘æ»šåŠ¨æµè§ˆè¿›ç¨‹åˆ—è¡¨ï¼Œå¹¶æ”¯æŒé¼ æ ‡æ“ä½œã€‚\nbpytop Linux/OSX/FreeBSD resource monitor\nlsof ç®€ä»‹ lsof å‘½ä»¤ï¼Œâ€œlist opened filesâ€çš„ç¼©å†™ï¼Œç›´è¯‘è¿‡æ¥ï¼Œå°±æ˜¯åˆ—ä¸¾ç³»ç»Ÿä¸­å·²ç»è¢«æ‰“å¼€çš„æ–‡ä»¶ã€‚é€šè¿‡ lsof å‘½ä»¤ï¼Œæˆ‘ä»¬å°±å¯ä»¥æ ¹æ®æ–‡ä»¶æ‰¾åˆ°å¯¹åº”çš„è¿›ç¨‹ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥æ ¹æ®è¿›ç¨‹ä¿¡æ¯æ‰¾åˆ°è¿›ç¨‹æ‰“å¼€çš„æ–‡ä»¶ã€‚\nåœ¨linuxç¯å¢ƒä¸‹ï¼Œä»»ä½•äº‹ç‰©éƒ½ä»¥æ–‡ä»¶çš„å½¢å¼å­˜åœ¨ï¼Œé€šè¿‡æ–‡ä»¶ä¸ä»…ä»…å¯ä»¥è®¿é—®å¸¸è§„æ•°æ®ï¼Œè¿˜å¯ä»¥è®¿é—®ç½‘ç»œè¿æ¥å’Œç¡¬ä»¶ã€‚å¦‚ä¼ è¾“æ§åˆ¶åè®® (TCP) å’Œç”¨æˆ·æ•°æ®æŠ¥åè®® (UDP) å¥—æ¥å­—ç­‰ï¼Œç³»ç»Ÿåœ¨åå°éƒ½ä¸ºè¯¥åº”ç”¨ç¨‹åºåˆ†é…äº†ä¸€ä¸ªæ–‡ä»¶æè¿°ç¬¦ï¼Œæ— è®ºè¿™ä¸ªæ–‡ä»¶çš„æœ¬è´¨å¦‚ä½•ï¼Œè¯¥æ–‡ä»¶æè¿°ç¬¦ä¸ºåº”ç”¨ç¨‹åºä¸åŸºç¡€æ“ä½œç³»ç»Ÿä¹‹é—´çš„äº¤äº’æä¾›äº†é€šç”¨æ¥å£ã€‚å› ä¸ºåº”ç”¨ç¨‹åºæ‰“å¼€æ–‡ä»¶çš„æè¿°ç¬¦åˆ—è¡¨æä¾›äº†å¤§é‡å…³äºè¿™ä¸ªåº”ç”¨ç¨‹åºæœ¬èº«çš„ä¿¡æ¯ï¼Œå› æ­¤é€šè¿‡lsofå·¥å…·èƒ½å¤ŸæŸ¥çœ‹è¿™ä¸ªåˆ—è¡¨å¯¹ç³»ç»Ÿç›‘æµ‹ä»¥åŠæ’é”™å°†æ˜¯å¾ˆæœ‰å¸®åŠ©çš„ã€‚\nåœ¨ç»ˆç«¯ä¸‹è¾“å…¥lsofå³å¯æ˜¾ç¤ºç³»ç»Ÿæ‰“å¼€çš„æ–‡ä»¶ï¼Œå› ä¸º lsof éœ€è¦è®¿é—®æ ¸å¿ƒå†…å­˜å’Œå„ç§æ–‡ä»¶ï¼Œæ‰€ä»¥å¿…é¡»ä»¥ root ç”¨æˆ·çš„èº«ä»½è¿è¡Œå®ƒæ‰èƒ½å¤Ÿå……åˆ†åœ°å‘æŒ¥å…¶åŠŸèƒ½ã€‚\n$ sudo lsof | less COMMAND PID TID TASKCMD USER FD TYPE DEVICE SIZE/OFF NODE NAME systemd 1 root cwd DIR 8,2 4096 2 / systemd 1 root rtd DIR 8,2 4096 2 / systemd 1 root txt REG 8,2 1620224 2491035 /usr/lib/systemd/systemd systemd 1 root mem REG 8,2 1369352 2498532 /usr/lib/x86_64-linux-gnu/libm-2.31.so systemd 1 root mem REG 8,2 178528 2490726 /usr/lib/x86_64-linux-gnu/libudev.so.1.6.17 è¾“å‡ºå„åˆ—ä¿¡æ¯çš„æ„ä¹‰å¦‚ä¸‹ï¼š\n  COMMANDï¼šè¿›ç¨‹çš„åç§°\n  PIDï¼šè¿›ç¨‹æ ‡è¯†ç¬¦\n  PPIDï¼šçˆ¶è¿›ç¨‹æ ‡è¯†ç¬¦ï¼ˆéœ€è¦æŒ‡å®š-Rå‚æ•°ï¼‰\n  USERï¼šè¿›ç¨‹æ‰€æœ‰è€…\n  PGIDï¼šè¿›ç¨‹æ‰€å±ç»„\n  FDï¼šæ–‡ä»¶æè¿°ç¬¦ï¼ˆfiledescriptorï¼Œç®€ç§° fdï¼‰ï¼Œåº”ç”¨ç¨‹åºé€šè¿‡æ–‡ä»¶æè¿°ç¬¦è¯†åˆ«è¯¥æ–‡ä»¶ç±»å‹ã€‚\nä¾‹å¦‚ cwd è¡¨ç¤ºcurrent work dirctoryï¼Œå³åº”ç”¨ç¨‹åºçš„å½“å‰å·¥ä½œç›®å½•ï¼Œè¿™æ˜¯è¯¥åº”ç”¨ç¨‹åºå¯åŠ¨çš„ç›®å½•ï¼Œé™¤éå®ƒæœ¬èº«å¯¹è¿™ä¸ªç›®å½•è¿›è¡Œæ›´æ”¹ã€‚txt è¡¨ç¤ºè¯¥ç±»å‹çš„æ–‡ä»¶æ˜¯ç¨‹åºä»£ç ï¼Œå¦‚åº”ç”¨ç¨‹åºäºŒè¿›åˆ¶æ–‡ä»¶æœ¬èº«æˆ–å…±äº«åº“ï¼Œå¦‚ä¸Šåˆ—è¡¨ä¸­æ˜¾ç¤ºçš„ /usr/lib/systemd/systemd ç¨‹åºã€‚\n  TYPEï¼šæ–‡ä»¶ç±»å‹ï¼Œå¦‚DIRã€REGç­‰ï¼Œå¸¸è§çš„æ–‡ä»¶ç±»å‹:\n DIRï¼šç›®å½• REGï¼šæ™®é€šæ–‡ä»¶ CHRï¼šå­—ç¬¦ BLKï¼šå—è®¾å¤‡ç±»å‹ UNIXï¼š UNIX åŸŸå¥—æ¥å­— FIFOï¼šå…ˆè¿›å…ˆå‡º (FIFO) é˜Ÿåˆ— IPv4ï¼šç½‘é™…åè®® (IP) å¥—æ¥å­—    DEVICEï¼šæŒ‡å®šç£ç›˜çš„åç§°\n  SIZEï¼šæ–‡ä»¶çš„å¤§å°\n  NODEï¼šç´¢å¼•èŠ‚ç‚¹ï¼ˆæ–‡ä»¶åœ¨ç£ç›˜ä¸Šçš„æ ‡è¯†ï¼‰\n  NAMEï¼šæ‰“å¼€æ–‡ä»¶çš„ç¡®åˆ‡åç§°\n  å‘½ä»¤å‚æ•°    å‚æ•° å«ä¹‰     -a åˆ—å‡ºæ‰“å¼€æ–‡ä»¶å­˜åœ¨çš„è¿›ç¨‹   -c \u0026lt;è¿›ç¨‹å\u0026gt; åˆ—å‡ºæŒ‡å®šè¿›ç¨‹åæ‰€æ‰“å¼€çš„æ–‡ä»¶   -g åˆ—å‡ºGIDå·è¿›ç¨‹è¯¦æƒ…   -d \u0026lt;æ–‡ä»¶å·\u0026gt; åˆ—å‡ºå ç”¨è¯¥æ–‡ä»¶å·çš„è¿›ç¨‹   +d \u0026lt;ç›®å½•\u0026gt; åˆ—å‡ºç›®å½•ä¸‹è¢«æ‰“å¼€çš„æ–‡ä»¶   +D \u0026lt;ç›®å½•\u0026gt; é€’å½’åˆ—å‡ºç›®å½•ä¸‹è¢«æ‰“å¼€çš„æ–‡ä»¶   -n \u0026lt;ç›®å½•\u0026gt; åˆ—å‡ºä½¿ç”¨NFSçš„æ–‡ä»¶   -i \u0026lt;æ¡ä»¶\u0026gt; åˆ—å‡ºç¬¦åˆæ¡ä»¶çš„è¿›ç¨‹   -p \u0026lt;è¿›ç¨‹å·\u0026gt; åˆ—å‡ºæŒ‡å®šè¿›ç¨‹å·æ‰€æ‰“å¼€çš„æ–‡ä»¶   -u åˆ—å‡ºUIDå·è¿›ç¨‹è¯¦æƒ…   -h æ˜¾ç¤ºå¸®åŠ©ä¿¡æ¯   -v æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯    ä½¿ç”¨å®ä¾‹ æŸ¥è¯¢æŸä¸ªæ–‡ä»¶è¢«å“ªä¸ªè¿›ç¨‹è°ƒç”¨\n$ lsof /bin/bash æŸ¥è¯¢æŸä¸ªç›®å½•ä¸‹æ‰€æœ‰çš„æ–‡ä»¶æ˜¯è¢«å“ªäº›è¿›ç¨‹è°ƒç”¨çš„\n$ lsof +d /usr/lib æŸ¥çœ‹ä»¥httpdå¼€å¤´çš„è¿›ç¨‹è°ƒç”¨äº†å“ªäº›æ–‡ä»¶\n$ lsof -c httpd æŸ¥è¯¢PIDæ˜¯1çš„è¿›ç¨‹è°ƒç”¨çš„æ–‡ä»¶\n$ lsof -p 1 æŒ‰ç…§ç”¨æˆ·åæŸ¥è¯¢æŸä¸ªç”¨æˆ·çš„è¿›ç¨‹è°ƒç”¨çš„æ–‡ä»¶\n$ lsof -u username åˆ—å‡ºæŸä¸ªç”¨æˆ·ä»¥åŠæŸä¸ªè¿›ç¨‹æ‰€æ‰“å¼€çš„æ–‡ä»¶ä¿¡æ¯\n$ lsof -u test -c mysql åˆ—å‡ºæ‰€æœ‰çš„ç½‘ç»œè¿æ¥\n$ lsof -i åˆ—å‡ºæ‰€æœ‰tcp ç½‘ç»œè¿æ¥ä¿¡æ¯\n$ lsof -i tcp åˆ—å‡ºè°åœ¨ä½¿ç”¨æŸä¸ªç«¯å£\n$ lsof -i :3306 åˆ—å‡ºæŸä¸ªç”¨æˆ·çš„æ‰€æœ‰æ´»è·ƒçš„ç½‘ç»œç«¯å£\n$ lsof -a -u test -i æ ¹æ®æ–‡ä»¶æè¿°åˆ—å‡ºå¯¹åº”çš„æ–‡ä»¶ä¿¡æ¯\n$ lsof -d txt åˆ—å‡ºè¢«è¿›ç¨‹å·ä¸º1234çš„è¿›ç¨‹æ‰€æ‰“å¼€çš„æ‰€æœ‰ IPV4 network files\n$ lsof -i 4 -a -p 1234 åˆ—å‡ºç›®å‰è¿æ¥ä¸»æœºnf5260i5-tdä¸Šç«¯å£ä¸ºï¼š20ï¼Œ21ï¼Œ80ç›¸å…³çš„æ‰€æœ‰æ–‡ä»¶ä¿¡æ¯ï¼Œä¸”æ¯éš”3ç§’é‡å¤æ‰§è¡Œ\n$ lsof -i @nf5260i5-td:20,21,80 -r 3 write åœ¨æœåŠ¡å™¨ä¸Šï¼Œæœ‰æ—¶ä¼šæœ‰å¤šä¸ªç”¨æˆ·åŒæ—¶ç™»å½•ï¼Œä¸€äº›å¿…è¦çš„æ²Ÿé€šå°±æ˜¾å¾—å°¤ä¸ºé‡è¦ã€‚æ¯”å¦‚,æˆ‘å¿…é¡»å…³é—­æŸä¸ªæœåŠ¡ï¼Œæˆ–è€…éœ€è¦é‡å¯æœåŠ¡å™¨ï¼Œå½“ç„¶éœ€è¦é€šçŸ¥åŒæ—¶ç™»å½•æœåŠ¡å™¨çš„ç”¨æˆ·ï¼Œè¿™æ—¶å°±å¯ä»¥ä½¿ç”¨ write å‘½ä»¤ã€‚\nwrite å‘½ä»¤çš„ä¿¡æ¯å¦‚ä¸‹ï¼š\n å‘½ä»¤åç§°ï¼šwriteã€‚ è‹±æ–‡åŸæ„ï¼šsend a message to another userã€‚ æ‰€åœ¨è·¯å¾„ï¼š/usr/bin/writeã€‚ æ‰§è¡Œæƒé™ï¼šæ‰€æœ‰ç”¨æˆ·ã€‚ åŠŸèƒ½æè¿°ï¼šå‘å…¶ä»–ç”¨æˆ·å‘é€ä¿¡æ¯ã€‚  write å‘½ä»¤çš„åŸºæœ¬æ ¼å¼å¦‚ä¸‹:\n$ write ç”¨æˆ·å [ç»ˆç«¯å·] write å‘½ä»¤æ²¡æœ‰å¤šä½™çš„é€‰é¡¹ï¼Œæˆ‘ä»¬è¦å‘åœ¨æŸä¸ªç»ˆç«¯ç™»å½•çš„ç”¨æˆ·å‘é€ä¿¡æ¯ï¼Œå°±å¯ä»¥è¿™æ ·æ¥æ‰§è¡Œå‘½ä»¤ï¼š\n# å‘åœ¨pts/1 (è¿œç¨‹ç»ˆç«¯1)ç™»å½•çš„user1ç”¨æˆ·å‘é€ä¿¡æ¯ï¼Œä½¿ç”¨\u0026#34;Ctrl+D\u0026#34;å¿«æ·é”®ä¿å­˜å‘é€çš„æ•°æ® $ write user1 pts/1 hello I will be in 5 minutes to restart, please save your data è¿™æ—¶ï¼Œuser1 ç”¨æˆ·å°±å¯ä»¥æ”¶åˆ°ä½ è¦åœ¨ 5 åˆ†é’Ÿä¹‹åé‡å¯ç³»ç»Ÿçš„ä¿¡æ¯äº†ã€‚\nxargs æ ‡å‡†è¾“å…¥ä¸ç®¡é“å‘½ä»¤ Unix å‘½ä»¤éƒ½å¸¦æœ‰å‚æ•°ï¼Œæœ‰äº›å‘½ä»¤å¯ä»¥æ¥å—\u0026quot;æ ‡å‡†è¾“å…¥\u0026quot;ï¼ˆstdinï¼‰ä½œä¸ºå‚æ•°ã€‚\n$ cat /etc/passwd | grep root ä¸Šé¢çš„ä»£ç ä½¿ç”¨äº†ç®¡é“å‘½ä»¤ï¼ˆ|ï¼‰ã€‚ç®¡é“å‘½ä»¤çš„ä½œç”¨ï¼Œæ˜¯å°†å·¦ä¾§å‘½ä»¤ï¼ˆcat /etc/passwdï¼‰çš„æ ‡å‡†è¾“å‡ºè½¬æ¢ä¸ºæ ‡å‡†è¾“å…¥ï¼Œæä¾›ç»™å³ä¾§å‘½ä»¤ï¼ˆgrep rootï¼‰ä½œä¸ºå‚æ•°ã€‚\nå› ä¸ºgrepå‘½ä»¤å¯ä»¥æ¥å—æ ‡å‡†è¾“å…¥ä½œä¸ºå‚æ•°ï¼Œæ‰€ä»¥ä¸Šé¢çš„ä»£ç ç­‰åŒäºä¸‹é¢çš„ä»£ç ã€‚\n$ grep root /etc/passwd ä½†æ˜¯ï¼Œå¤§å¤šæ•°å‘½ä»¤éƒ½ä¸æ¥å—æ ‡å‡†è¾“å…¥ä½œä¸ºå‚æ•°ï¼Œåªèƒ½ç›´æ¥åœ¨å‘½ä»¤è¡Œè¾“å…¥å‚æ•°ï¼Œè¿™å¯¼è‡´æ— æ³•ç”¨ç®¡é“å‘½ä»¤ä¼ é€’å‚æ•°ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œechoå‘½ä»¤å°±ä¸æ¥å—ç®¡é“ä¼ å‚ã€‚\n$ echo \u0026#34;hello world\u0026#34; | echo ä¸Šé¢çš„ä»£ç ä¸ä¼šæœ‰è¾“å‡ºã€‚å› ä¸ºç®¡é“å³ä¾§çš„echoä¸æ¥å—ç®¡é“ä¼ æ¥çš„æ ‡å‡†è¾“å…¥ä½œä¸ºå‚æ•°ã€‚\nxargs å‘½ä»¤çš„ä½œç”¨ xargså‘½ä»¤çš„ä½œç”¨ï¼Œæ˜¯å°†æ ‡å‡†è¾“å…¥è½¬ä¸ºå‘½ä»¤è¡Œå‚æ•°ã€‚\n$ echo \u0026#34;hello world\u0026#34; | xargs echo hello world ä¸Šé¢çš„ä»£ç å°†ç®¡é“å·¦ä¾§çš„æ ‡å‡†è¾“å…¥ï¼Œè½¬ä¸ºå‘½ä»¤è¡Œå‚æ•°hello worldï¼Œä¼ ç»™ç¬¬äºŒä¸ªechoå‘½ä»¤ã€‚\nxargså‘½ä»¤çš„æ ¼å¼å¦‚ä¸‹ã€‚\n$ xargs [-options] [command] çœŸæ­£æ‰§è¡Œçš„å‘½ä»¤ï¼Œç´§è·Ÿåœ¨xargsåé¢ï¼Œæ¥å—xargsä¼ æ¥çš„å‚æ•°ã€‚\nxargsçš„ä½œç”¨åœ¨äºï¼Œå¤§å¤šæ•°å‘½ä»¤ï¼ˆæ¯”å¦‚rmã€mkdirã€lsï¼‰ä¸ç®¡é“ä¸€èµ·ä½¿ç”¨æ—¶ï¼Œéƒ½éœ€è¦xargså°†æ ‡å‡†è¾“å…¥è½¬ä¸ºå‘½ä»¤è¡Œå‚æ•°ã€‚\n$ echo \u0026#34;one two three\u0026#34; | xargs mkdir ä¸Šé¢çš„ä»£ç ç­‰åŒäºmkdir one two threeã€‚å¦‚æœä¸åŠ xargså°±ä¼šæŠ¥é”™ï¼Œæç¤ºmkdirç¼ºå°‘æ“ä½œå‚æ•°ã€‚\nxargs çš„å•ç‹¬ä½¿ç”¨ xargsåé¢çš„å‘½ä»¤é»˜è®¤æ˜¯echoã€‚\n$ xargs # ç­‰åŒäº $ xargs echo å¤§å¤šæ•°æ—¶å€™ï¼Œxargså‘½ä»¤éƒ½æ˜¯è·Ÿç®¡é“ä¸€èµ·ä½¿ç”¨çš„ã€‚ä½†æ˜¯ï¼Œå®ƒä¹Ÿå¯ä»¥å•ç‹¬ä½¿ç”¨ã€‚\nè¾“å…¥xargsæŒ‰ä¸‹å›è½¦ä»¥åï¼Œå‘½ä»¤è¡Œå°±ä¼šç­‰å¾…ç”¨æˆ·è¾“å…¥ï¼Œä½œä¸ºæ ‡å‡†è¾“å…¥ã€‚ä½ å¯ä»¥è¾“å…¥ä»»æ„å†…å®¹ï¼Œç„¶åæŒ‰ä¸‹Ctrl dï¼Œè¡¨ç¤ºè¾“å…¥ç»“æŸï¼Œè¿™æ—¶echoå‘½ä»¤å°±ä¼šæŠŠå‰é¢çš„è¾“å…¥æ‰“å°å‡ºæ¥ã€‚\n$ xargs hello (Ctrl + d) hello å†çœ‹ä¸€ä¸ªä¾‹å­ã€‚\n$ xargs find -name \u0026#34;*.txt\u0026#34; ./foo.txt ./hello.txt ä¸Šé¢çš„ä¾‹å­è¾“å…¥xargs find -nameä»¥åï¼Œå‘½ä»¤è¡Œä¼šç­‰å¾…ç”¨æˆ·è¾“å…¥æ‰€è¦æœç´¢çš„æ–‡ä»¶ã€‚ç”¨æˆ·è¾“å…¥\u0026quot;*.txt\u0026quot;ï¼Œè¡¨ç¤ºæœç´¢å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰ TXT æ–‡ä»¶ï¼Œç„¶åæŒ‰ä¸‹Ctrl dï¼Œè¡¨ç¤ºè¾“å…¥ç»“æŸã€‚è¿™æ—¶å°±ç›¸å½“æ‰§è¡Œfind -name *.txtã€‚\n-d å‚æ•°ä¸åˆ†éš”ç¬¦ é»˜è®¤æƒ…å†µä¸‹ï¼Œxargså°†æ¢è¡Œç¬¦å’Œç©ºæ ¼ä½œä¸ºåˆ†éš”ç¬¦ï¼ŒæŠŠæ ‡å‡†è¾“å…¥åˆ†è§£æˆä¸€ä¸ªä¸ªå‘½ä»¤è¡Œå‚æ•°ã€‚\n$ echo \u0026#34;one two three\u0026#34; | xargs mkdir ä¸Šé¢ä»£ç ä¸­ï¼Œmkdirä¼šæ–°å»ºä¸‰ä¸ªå­ç›®å½•ï¼Œå› ä¸ºxargså°†one two threeåˆ†è§£æˆä¸‰ä¸ªå‘½ä»¤è¡Œå‚æ•°ï¼Œæ‰§è¡Œmkdir one two threeã€‚\n-då‚æ•°å¯ä»¥æ›´æ”¹åˆ†éš”ç¬¦ã€‚\n$ echo -e \u0026#34;a\\tb\\tc\u0026#34; | xargs -d \u0026#34;\\t\u0026#34; echo a b c ä¸Šé¢çš„å‘½ä»¤æŒ‡å®šåˆ¶è¡¨ç¬¦\\tä½œä¸ºåˆ†éš”ç¬¦ï¼Œæ‰€ä»¥a\\tb\\tcå°±è½¬æ¢æˆäº†ä¸‰ä¸ªå‘½ä»¤è¡Œå‚æ•°ã€‚echoå‘½ä»¤çš„-eå‚æ•°è¡¨ç¤ºè§£é‡Šè½¬ä¹‰å­—ç¬¦ã€‚\n-p å‚æ•°ï¼Œ-t å‚æ•° ä½¿ç”¨xargså‘½ä»¤ä»¥åï¼Œç”±äºå­˜åœ¨è½¬æ¢å‚æ•°è¿‡ç¨‹ï¼Œæœ‰æ—¶éœ€è¦ç¡®è®¤ä¸€ä¸‹åˆ°åº•æ‰§è¡Œçš„æ˜¯ä»€ä¹ˆå‘½ä»¤ã€‚\n-på‚æ•°æ‰“å°å‡ºè¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œè¯¢é—®ç”¨æˆ·æ˜¯å¦è¦æ‰§è¡Œã€‚\n$ echo \u0026#39;one two three\u0026#39; | xargs -p touch touch one two three ?... ä¸Šé¢çš„å‘½ä»¤æ‰§è¡Œä»¥åï¼Œä¼šæ‰“å°å‡ºæœ€ç»ˆè¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œè®©ç”¨æˆ·ç¡®è®¤ã€‚ç”¨æˆ·è¾“å…¥yä»¥åï¼ˆå¤§å°å†™çš†å¯ï¼‰ï¼Œæ‰ä¼šçœŸæ­£æ‰§è¡Œã€‚\n-tå‚æ•°åˆ™æ˜¯æ‰“å°å‡ºæœ€ç»ˆè¦æ‰§è¡Œçš„å‘½ä»¤ï¼Œç„¶åç›´æ¥æ‰§è¡Œï¼Œä¸éœ€è¦ç”¨æˆ·ç¡®è®¤ã€‚\n$ echo \u0026#39;one two three\u0026#39; | xargs -t rm rm one two three -0 å‚æ•°ä¸ find å‘½ä»¤ ç”±äºxargsé»˜è®¤å°†ç©ºæ ¼ä½œä¸ºåˆ†éš”ç¬¦ï¼Œæ‰€ä»¥ä¸å¤ªé€‚åˆå¤„ç†æ–‡ä»¶åï¼Œå› ä¸ºæ–‡ä»¶åå¯èƒ½åŒ…å«ç©ºæ ¼ã€‚\nfindå‘½ä»¤æœ‰ä¸€ä¸ªç‰¹åˆ«çš„å‚æ•°-print0ï¼ŒæŒ‡å®šè¾“å‡ºçš„æ–‡ä»¶åˆ—è¡¨ä»¥nullåˆ†éš”ã€‚ç„¶åï¼Œxargså‘½ä»¤çš„-0å‚æ•°è¡¨ç¤ºç”¨nullå½“ä½œåˆ†éš”ç¬¦ã€‚\n$ find /path -type f -print0 | xargs -0 rm ä¸Šé¢å‘½ä»¤åˆ é™¤/pathè·¯å¾„ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ã€‚ç”±äºåˆ†éš”ç¬¦æ˜¯nullï¼Œæ‰€ä»¥å¤„ç†åŒ…å«ç©ºæ ¼çš„æ–‡ä»¶åï¼Œä¹Ÿä¸ä¼šæŠ¥é”™ã€‚\nè¿˜æœ‰ä¸€ä¸ªåŸå› ï¼Œä½¿å¾—xargsç‰¹åˆ«é€‚åˆfindå‘½ä»¤ã€‚æœ‰äº›å‘½ä»¤ï¼ˆæ¯”å¦‚rmï¼‰ä¸€æ—¦å‚æ•°è¿‡å¤šä¼šæŠ¥é”™\u0026quot;å‚æ•°åˆ—è¡¨è¿‡é•¿\u0026quot;ï¼Œè€Œæ— æ³•æ‰§è¡Œï¼Œæ”¹ç”¨xargså°±æ²¡æœ‰è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºå®ƒå¯¹æ¯ä¸ªå‚æ•°æ‰§è¡Œä¸€æ¬¡å‘½ä»¤ã€‚\n$ find . -name \u0026#34;*.txt\u0026#34; | xargs grep \u0026#34;abc\u0026#34; ä¸Šé¢å‘½ä»¤æ‰¾å‡ºæ‰€æœ‰ TXT æ–‡ä»¶ä»¥åï¼Œå¯¹æ¯ä¸ªæ–‡ä»¶æœç´¢ä¸€æ¬¡æ˜¯å¦åŒ…å«å­—ç¬¦ä¸²abcã€‚\n-L å‚æ•° å¦‚æœæ ‡å‡†è¾“å…¥åŒ…å«å¤šè¡Œï¼Œ-Lå‚æ•°æŒ‡å®šå¤šå°‘è¡Œä½œä¸ºä¸€ä¸ªå‘½ä»¤è¡Œå‚æ•°ã€‚\n$ xargs find -name \u0026#34;*.txt\u0026#34; \u0026#34;*.md\u0026#34; find: paths must precede expression: `*.md\u0026#39; ä¸Šé¢å‘½ä»¤åŒæ—¶å°†\u0026quot;*.txt\u0026quot;å’Œ*.mdä¸¤è¡Œä½œä¸ºå‘½ä»¤è¡Œå‚æ•°ï¼Œä¼ ç»™findå‘½ä»¤å¯¼è‡´æŠ¥é”™ã€‚\nä½¿ç”¨-Lå‚æ•°ï¼ŒæŒ‡å®šæ¯è¡Œä½œä¸ºä¸€ä¸ªå‘½ä»¤è¡Œå‚æ•°ï¼Œå°±ä¸ä¼šæŠ¥é”™ã€‚\n$ xargs -L 1 find -name \u0026#34;*.txt\u0026#34; ./foo.txt ./hello.txt \u0026#34;*.md\u0026#34; ./README.md ä¸Šé¢å‘½ä»¤æŒ‡å®šäº†æ¯ä¸€è¡Œï¼ˆ-L 1ï¼‰ä½œä¸ºå‘½ä»¤è¡Œå‚æ•°ï¼Œåˆ†åˆ«è¿è¡Œä¸€æ¬¡å‘½ä»¤ï¼ˆfind -nameï¼‰ã€‚\nä¸‹é¢æ˜¯å¦ä¸€ä¸ªä¾‹å­ã€‚\n$ echo -e \u0026#34;a\\nb\\nc\u0026#34; | xargs -L 1 echo a b c ä¸Šé¢ä»£ç æŒ‡å®šæ¯è¡Œè¿è¡Œä¸€æ¬¡echoå‘½ä»¤ï¼Œæ‰€ä»¥echoå‘½ä»¤æ‰§è¡Œäº†ä¸‰æ¬¡ï¼Œè¾“å‡ºäº†ä¸‰è¡Œã€‚\n-n å‚æ•° -Lå‚æ•°è™½ç„¶è§£å†³äº†å¤šè¡Œçš„é—®é¢˜ï¼Œä½†æ˜¯æœ‰æ—¶ç”¨æˆ·ä¼šåœ¨åŒä¸€è¡Œè¾“å…¥å¤šé¡¹ã€‚\n$ xargs find -name \u0026#34;*.txt\u0026#34; \u0026#34;*.md\u0026#34; find: paths must precede expression: `*.md\u0026#39; ä¸Šé¢çš„å‘½ä»¤å°†åŒä¸€è¡Œçš„ä¸¤é¡¹ä½œä¸ºå‘½ä»¤è¡Œå‚æ•°ï¼Œå¯¼è‡´æŠ¥é”™ã€‚\n-nå‚æ•°æŒ‡å®šæ¯æ¬¡å°†å¤šå°‘é¡¹ï¼Œä½œä¸ºå‘½ä»¤è¡Œå‚æ•°ã€‚\n$ xargs -n 1 find -name ä¸Šé¢å‘½ä»¤æŒ‡å®šå°†æ¯ä¸€é¡¹ï¼ˆ-n 1ï¼‰æ ‡å‡†è¾“å…¥ä½œä¸ºå‘½ä»¤è¡Œå‚æ•°ï¼Œåˆ†åˆ«æ‰§è¡Œä¸€æ¬¡å‘½ä»¤ï¼ˆfind -nameï¼‰ã€‚\nä¸‹é¢æ˜¯å¦ä¸€ä¸ªä¾‹å­ã€‚\n$ echo {0..9} | xargs -n 2 echo 0 12 34 56 78 9 ä¸Šé¢å‘½ä»¤æŒ‡å®šï¼Œæ¯ä¸¤ä¸ªå‚æ•°è¿è¡Œä¸€æ¬¡echoå‘½ä»¤ã€‚æ‰€ä»¥ï¼Œ10ä¸ªé˜¿æ‹‰ä¼¯æ•°å­—è¿è¡Œäº†äº”æ¬¡echoå‘½ä»¤ï¼Œè¾“å‡ºäº†äº”è¡Œã€‚\n-I å‚æ•° å¦‚æœxargsè¦å°†å‘½ä»¤è¡Œå‚æ•°ä¼ ç»™å¤šä¸ªå‘½ä»¤ï¼Œå¯ä»¥ä½¿ç”¨-Iå‚æ•°ã€‚\n-IæŒ‡å®šæ¯ä¸€é¡¹å‘½ä»¤è¡Œå‚æ•°çš„æ›¿ä»£å­—ç¬¦ä¸²ã€‚\n$ cat foo.txt one two three $ cat foo.txt | xargs -I file sh -c \u0026#39;echo file; mkdir file\u0026#39; one two three $ ls one two three ä¸Šé¢ä»£ç ä¸­ï¼Œfoo.txtæ˜¯ä¸€ä¸ªä¸‰è¡Œçš„æ–‡æœ¬æ–‡ä»¶ã€‚æˆ‘ä»¬å¸Œæœ›å¯¹æ¯ä¸€é¡¹å‘½ä»¤è¡Œå‚æ•°ï¼Œæ‰§è¡Œä¸¤ä¸ªå‘½ä»¤ï¼ˆechoå’Œmkdirï¼‰ï¼Œä½¿ç”¨-I fileè¡¨ç¤ºfileæ˜¯å‘½ä»¤è¡Œå‚æ•°çš„æ›¿ä»£å­—ç¬¦ä¸²ã€‚æ‰§è¡Œå‘½ä»¤æ—¶ï¼Œå…·ä½“çš„å‚æ•°ä¼šæ›¿ä»£æ‰echo file; mkdir fileé‡Œé¢çš„ä¸¤ä¸ªfileã€‚\n\u0026ndash;max-procs å‚æ•° xargsé»˜è®¤åªç”¨ä¸€ä¸ªè¿›ç¨‹æ‰§è¡Œå‘½ä»¤ã€‚å¦‚æœå‘½ä»¤è¦æ‰§è¡Œå¤šæ¬¡ï¼Œå¿…é¡»ç­‰ä¸Šä¸€æ¬¡æ‰§è¡Œå®Œï¼Œæ‰èƒ½æ‰§è¡Œä¸‹ä¸€æ¬¡ã€‚\n--max-procså‚æ•°æŒ‡å®šåŒæ—¶ç”¨å¤šå°‘ä¸ªè¿›ç¨‹å¹¶è¡Œæ‰§è¡Œå‘½ä»¤ã€‚--max-procs 2è¡¨ç¤ºåŒæ—¶æœ€å¤šä½¿ç”¨ä¸¤ä¸ªè¿›ç¨‹ï¼Œ--max-procs 0è¡¨ç¤ºä¸é™åˆ¶è¿›ç¨‹æ•°ã€‚\n$ docker ps -q | xargs -n 1 --max-procs 0 docker kill ä¸Šé¢å‘½ä»¤è¡¨ç¤ºï¼ŒåŒæ—¶å…³é—­å°½å¯èƒ½å¤šçš„ Docker å®¹å™¨ï¼Œè¿™æ ·è¿è¡Œé€Ÿåº¦ä¼šå¿«å¾ˆå¤šã€‚\nawk awkæ˜¯å¤„ç†æ–‡æœ¬æ–‡ä»¶çš„ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œå‡ ä¹æ‰€æœ‰ Linux ç³»ç»Ÿéƒ½è‡ªå¸¦è¿™ä¸ªç¨‹åºã€‚\nå®ƒä¾æ¬¡å¤„ç†æ–‡ä»¶çš„æ¯ä¸€è¡Œï¼Œå¹¶è¯»å–é‡Œé¢çš„æ¯ä¸€ä¸ªå­—æ®µã€‚å¯¹äºæ—¥å¿—ã€CSV é‚£æ ·çš„æ¯è¡Œæ ¼å¼ç›¸åŒçš„æ–‡æœ¬æ–‡ä»¶ï¼Œawkå¯èƒ½æ˜¯æœ€æ–¹ä¾¿çš„å·¥å…·ã€‚\nawkå…¶å®ä¸ä»…ä»…æ˜¯å·¥å…·è½¯ä»¶ï¼Œè¿˜æ˜¯ä¸€ç§ç¼–ç¨‹è¯­è¨€ã€‚ä¸è¿‡ï¼Œæœ¬æ–‡åªä»‹ç»å®ƒçš„å‘½ä»¤è¡Œç”¨æ³•ï¼Œå¯¹äºå¤§å¤šæ•°åœºåˆï¼Œåº”è¯¥è¶³å¤Ÿç”¨äº†ã€‚\nåŸºæœ¬ç”¨æ³• awkçš„åŸºæœ¬ç”¨æ³•å°±æ˜¯ä¸‹é¢çš„å½¢å¼ã€‚\n# æ ¼å¼ $ awk åŠ¨ä½œ æ–‡ä»¶å # ç¤ºä¾‹ $ awk \u0026#39;{print $0}\u0026#39; demo.txt ä¸Šé¢ç¤ºä¾‹ä¸­ï¼Œdemo.txtæ˜¯awkæ‰€è¦å¤„ç†çš„æ–‡æœ¬æ–‡ä»¶ã€‚å‰é¢å•å¼•å·å†…éƒ¨æœ‰ä¸€ä¸ªå¤§æ‹¬å·ï¼Œé‡Œé¢å°±æ˜¯æ¯ä¸€è¡Œçš„å¤„ç†åŠ¨ä½œprint $0ã€‚å…¶ä¸­ï¼Œprintæ˜¯æ‰“å°å‘½ä»¤ï¼Œ$0ä»£è¡¨å½“å‰è¡Œï¼Œå› æ­¤ä¸Šé¢å‘½ä»¤çš„æ‰§è¡Œç»“æœï¼Œå°±æ˜¯æŠŠæ¯ä¸€è¡ŒåŸæ ·æ‰“å°å‡ºæ¥ã€‚\nä¸‹é¢ï¼Œæˆ‘ä»¬å…ˆç”¨æ ‡å‡†è¾“å…¥ï¼ˆstdinï¼‰æ¼”ç¤ºä¸Šé¢è¿™ä¸ªä¾‹å­ã€‚\n$ echo \u0026#39;this is a test\u0026#39; | awk \u0026#39;{print $0}\u0026#39; this is a test ä¸Šé¢ä»£ç ä¸­ï¼Œprint $0å°±æ˜¯æŠŠæ ‡å‡†è¾“å…¥this is a testï¼Œé‡æ–°æ‰“å°äº†ä¸€éã€‚\nawkä¼šæ ¹æ®ç©ºæ ¼å’Œåˆ¶è¡¨ç¬¦ï¼Œå°†æ¯ä¸€è¡Œåˆ†æˆè‹¥å¹²å­—æ®µï¼Œä¾æ¬¡ç”¨$1ã€$2ã€$3ä»£è¡¨ç¬¬ä¸€ä¸ªå­—æ®µã€ç¬¬äºŒä¸ªå­—æ®µã€ç¬¬ä¸‰ä¸ªå­—æ®µç­‰ç­‰ã€‚\n$ echo \u0026#39;this is a test\u0026#39; | awk \u0026#39;{print $3}\u0026#39; a ä¸Šé¢ä»£ç ä¸­ï¼Œ$3ä»£è¡¨this is a testçš„ç¬¬ä¸‰ä¸ªå­—æ®µaã€‚\nä¸‹é¢ï¼Œä¸ºäº†ä¾¿äºä¸¾ä¾‹ï¼Œæˆ‘ä»¬æŠŠ/etc/passwdæ–‡ä»¶ä¿å­˜æˆdemo.txtã€‚\nrootâŒ0:0:root:/root:/usr/bin/zsh daemonâŒ1:1:daemon:/usr/sbin:/usr/sbin/nologin binâŒ2:2:bin:/bin:/usr/sbin/nologin sysâŒ3:3:sys:/dev:/usr/sbin/nologin syncâŒ4:65534:sync:/bin:/bin/sync è¿™ä¸ªæ–‡ä»¶çš„å­—æ®µåˆ†éš”ç¬¦æ˜¯å†’å·ï¼ˆ:ï¼‰ï¼Œæ‰€ä»¥è¦ç”¨-Få‚æ•°æŒ‡å®šåˆ†éš”ç¬¦ä¸ºå†’å·ã€‚ç„¶åï¼Œæ‰èƒ½æå–åˆ°å®ƒçš„ç¬¬ä¸€ä¸ªå­—æ®µã€‚\n$ awk -F \u0026#39;:\u0026#39; \u0026#39;{ print $1 }\u0026#39; demo.txt root daemon bin sys sync å˜é‡ é™¤äº†$ + æ•°å­—è¡¨ç¤ºæŸä¸ªå­—æ®µï¼Œawkè¿˜æä¾›å…¶ä»–ä¸€äº›å˜é‡ã€‚\nå˜é‡NFè¡¨ç¤ºå½“å‰è¡Œæœ‰å¤šå°‘ä¸ªå­—æ®µï¼Œå› æ­¤$NFå°±ä»£è¡¨æœ€åä¸€ä¸ªå­—æ®µã€‚\n$ echo \u0026#39;this is a test\u0026#39; | awk \u0026#39;{print $NF}\u0026#39; test $(NF-1)ä»£è¡¨å€’æ•°ç¬¬äºŒä¸ªå­—æ®µã€‚\n$ awk -F \u0026#39;:\u0026#39; \u0026#39;{print $1, $(NF-1)}\u0026#39; demo.txt root /root daemon /usr/sbin bin /bin sys /dev sync /bin ä¸Šé¢ä»£ç ä¸­ï¼Œprintå‘½ä»¤é‡Œé¢çš„é€—å·ï¼Œè¡¨ç¤ºè¾“å‡ºçš„æ—¶å€™ï¼Œä¸¤ä¸ªéƒ¨åˆ†ä¹‹é—´ä½¿ç”¨ç©ºæ ¼åˆ†éš”ã€‚\nå˜é‡NRè¡¨ç¤ºå½“å‰å¤„ç†çš„æ˜¯ç¬¬å‡ è¡Œã€‚\n$ awk -F \u0026#39;:\u0026#39; \u0026#39;{print NR \u0026#34;) \u0026#34; $1}\u0026#39; demo.txt 1) root 2) daemon 3) bin 4) sys 5) sync ä¸Šé¢ä»£ç ä¸­ï¼Œprintå‘½ä»¤é‡Œé¢ï¼Œå¦‚æœåŸæ ·è¾“å‡ºå­—ç¬¦ï¼Œè¦æ”¾åœ¨åŒå¼•å·é‡Œé¢ã€‚\nawkçš„å…¶ä»–å†…ç½®å˜é‡å¦‚ä¸‹ã€‚\n FILENAMEï¼šå½“å‰æ–‡ä»¶å FSï¼šå­—æ®µåˆ†éš”ç¬¦ï¼Œé»˜è®¤æ˜¯ç©ºæ ¼å’Œåˆ¶è¡¨ç¬¦ã€‚ RSï¼šè¡Œåˆ†éš”ç¬¦ï¼Œç”¨äºåˆ†å‰²æ¯ä¸€è¡Œï¼Œé»˜è®¤æ˜¯æ¢è¡Œç¬¦ã€‚ OFSï¼šè¾“å‡ºå­—æ®µçš„åˆ†éš”ç¬¦ï¼Œç”¨äºæ‰“å°æ—¶åˆ†éš”å­—æ®µï¼Œé»˜è®¤ä¸ºç©ºæ ¼ã€‚ ORSï¼šè¾“å‡ºè®°å½•çš„åˆ†éš”ç¬¦ï¼Œç”¨äºæ‰“å°æ—¶åˆ†éš”è®°å½•ï¼Œé»˜è®¤ä¸ºæ¢è¡Œç¬¦ã€‚ OFMTï¼šæ•°å­—è¾“å‡ºçš„æ ¼å¼ï¼Œé»˜è®¤ä¸ºï¼….6gã€‚  å‡½æ•° awkè¿˜æä¾›äº†ä¸€äº›å†…ç½®å‡½æ•°ï¼Œæ–¹ä¾¿å¯¹åŸå§‹æ•°æ®çš„å¤„ç†ã€‚\nå‡½æ•°toupper()ç”¨äºå°†å­—ç¬¦è½¬ä¸ºå¤§å†™ã€‚\n$ awk -F \u0026#39;:\u0026#39; \u0026#39;{ print toupper($1) }\u0026#39; demo.txt ROOT DAEMON BIN SYS SYNC ä¸Šé¢ä»£ç ä¸­ï¼Œç¬¬ä¸€ä¸ªå­—æ®µè¾“å‡ºæ—¶éƒ½å˜æˆäº†å¤§å†™ã€‚\nå…¶ä»–å¸¸ç”¨å‡½æ•°å¦‚ä¸‹ã€‚\n tolower()ï¼šå­—ç¬¦è½¬ä¸ºå°å†™ã€‚ length()ï¼šè¿”å›å­—ç¬¦ä¸²é•¿åº¦ã€‚ substr()ï¼šè¿”å›å­å­—ç¬¦ä¸²ã€‚ sin()ï¼šæ­£å¼¦ã€‚ cos()ï¼šä½™å¼¦ã€‚ sqrt()ï¼šå¹³æ–¹æ ¹ã€‚ rand()ï¼šéšæœºæ•°ã€‚  awkå†…ç½®å‡½æ•°çš„å®Œæ•´åˆ—è¡¨ï¼Œå¯ä»¥æŸ¥çœ‹æ‰‹å†Œã€‚\næ¡ä»¶ awkå…è®¸æŒ‡å®šè¾“å‡ºæ¡ä»¶ï¼Œåªè¾“å‡ºç¬¦åˆæ¡ä»¶çš„è¡Œã€‚\nè¾“å‡ºæ¡ä»¶è¦å†™åœ¨åŠ¨ä½œçš„å‰é¢ã€‚\n$ awk \u0026#39;æ¡ä»¶ åŠ¨ä½œ\u0026#39; æ–‡ä»¶å è¯·çœ‹ä¸‹é¢çš„ä¾‹å­ã€‚\n$ awk -F \u0026#39;:\u0026#39; \u0026#39;/usr/ {print $1}\u0026#39; demo.txt root daemon bin sys ä¸Šé¢ä»£ç ä¸­ï¼Œprintå‘½ä»¤å‰é¢æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œåªè¾“å‡ºåŒ…å«usrçš„è¡Œã€‚\nä¸‹é¢çš„ä¾‹å­åªè¾“å‡ºå¥‡æ•°è¡Œï¼Œä»¥åŠè¾“å‡ºç¬¬ä¸‰è¡Œä»¥åçš„è¡Œã€‚\n# è¾“å‡ºå¥‡æ•°è¡Œ $ awk -F \u0026#39;:\u0026#39; \u0026#39;NR % 2 == 1 {print $1}\u0026#39; demo.txt root bin sync # è¾“å‡ºç¬¬ä¸‰è¡Œä»¥åçš„è¡Œ $ awk -F \u0026#39;:\u0026#39; \u0026#39;NR \u0026gt;3 {print $1}\u0026#39; demo.txt sys sync ä¸‹é¢çš„ä¾‹å­è¾“å‡ºç¬¬ä¸€ä¸ªå­—æ®µç­‰äºæŒ‡å®šå€¼çš„è¡Œã€‚\n$ awk -F \u0026#39;:\u0026#39; \u0026#39;$1 == \u0026#34;root\u0026#34; {print $1}\u0026#39; demo.txt root $ awk -F \u0026#39;:\u0026#39; \u0026#39;$1 == \u0026#34;root\u0026#34; || $1 == \u0026#34;bin\u0026#34; {print $1}\u0026#39; demo.txt root bin if è¯­å¥ awkæä¾›äº†ifç»“æ„ï¼Œç”¨äºç¼–å†™å¤æ‚çš„æ¡ä»¶ã€‚\n$ awk -F \u0026#39;:\u0026#39; \u0026#39;{if ($1 \u0026gt; \u0026#34;m\u0026#34;) print $1}\u0026#39; demo.txt root sys sync ä¸Šé¢ä»£ç è¾“å‡ºç¬¬ä¸€ä¸ªå­—æ®µçš„ç¬¬ä¸€ä¸ªå­—ç¬¦å¤§äºmçš„è¡Œã€‚\nifç»“æ„è¿˜å¯ä»¥æŒ‡å®šelseéƒ¨åˆ†ã€‚\n$ awk -F \u0026#39;:\u0026#39; \u0026#39;{if ($1 \u0026gt; \u0026#34;m\u0026#34;) print $1; else print \u0026#34;---\u0026#34;}\u0026#39; demo.txt root --- --- sys sync find find å‘½ä»¤ç”± POSIX è§„èŒƒ å®šä¹‰ï¼Œå®ƒåˆ›å»ºäº†ä¸€ä¸ªç”¨äºè¡¡é‡ POSIX ç³»ç»Ÿçš„å¼€æ”¾æ ‡å‡†ï¼Œè¿™åŒ…æ‹¬ Linuxã€BSD å’Œ macOSã€‚ç®€è€Œè¨€ä¹‹ï¼Œåªè¦ä½ è¿è¡Œçš„æ˜¯ Linuxã€BSD æˆ– macOSï¼Œé‚£ä¹ˆ find å·²ç»å®‰è£…äº†ã€‚\nä½†æ˜¯ï¼Œå¹¶éæ‰€æœ‰çš„ find å‘½ä»¤éƒ½å®Œå…¨ç›¸åŒã€‚ä¾‹å¦‚ï¼ŒGNU çš„ find å‘½ä»¤æœ‰ä¸€äº› BSDã€Busybox æˆ– Solaris ä¸Š find å‘½ä»¤å¯èƒ½æ²¡æœ‰æˆ–æœ‰ä½†å®ç°æ–¹å¼ä¸åŒçš„åŠŸèƒ½ã€‚æœ¬æ–‡ä½¿ç”¨ findutils åŒ…ä¸­çš„ GNU findï¼Œå› ä¸ºå®ƒå¾ˆå®¹æ˜“è·å¾—ä¸”éå¸¸æµè¡Œã€‚æœ¬æ–‡æ¼”ç¤ºçš„å¤§å¤šæ•°å‘½ä»¤éƒ½é€‚ç”¨äº find çš„å…¶ä»–å®ç°ï¼Œä½†æ˜¯å¦‚æœä½ åœ¨ Linux ä»¥å¤–çš„å¹³å°ä¸Šå°è¯•å‘½ä»¤å¹¶å¾—åˆ°éé¢„æœŸç»“æœï¼Œå°è¯•ä¸‹è½½å¹¶å®‰è£… GNU ç‰ˆæœ¬ã€‚\nmanæ–‡æ¡£ä¸­ç»™å‡ºçš„findå‘½ä»¤çš„ä¸€èˆ¬å½¢å¼ä¸ºï¼š\nfind [-H] [-L] [-P] [-D debugopts] [-Olevel] [path...] [expression] å…¶å®[-H] [-L] [-P] [-D debugopts] [-Olevel]è¿™å‡ ä¸ªé€‰é¡¹å¹¶ä¸å¸¸ç”¨ï¼ˆè‡³å°‘åœ¨æˆ‘çš„æ—¥å¸¸å·¥ä½œä¸­ï¼Œæ²¡æœ‰ç”¨åˆ°è¿‡ï¼‰ï¼Œä¸Šé¢çš„findå‘½ä»¤çš„å¸¸ç”¨å½¢å¼å¯ä»¥ç®€åŒ–ä¸ºï¼š\nfind [path...] [expression]   pathï¼šfindå‘½ä»¤æ‰€æŸ¥æ‰¾çš„ç›®å½•è·¯å¾„ã€‚ä¾‹å¦‚ç”¨.æ¥è¡¨ç¤ºå½“å‰ç›®å½•ï¼Œç”¨/æ¥è¡¨ç¤ºç³»ç»Ÿæ ¹ç›®å½•\n  expressionï¼šexpressionå¯ä»¥åˆ†ä¸ºâ€”â€”â€œ-options [-print -exec -ok \u0026hellip;]â€\n   -optionsï¼ŒæŒ‡å®šfindå‘½ä»¤çš„å¸¸ç”¨é€‰é¡¹ -printï¼Œfindå‘½ä»¤å°†åŒ¹é…çš„æ–‡ä»¶è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡º -execï¼Œfindå‘½ä»¤å¯¹åŒ¹é…çš„æ–‡ä»¶æ‰§è¡Œè¯¥å‚æ•°æ‰€ç»™å‡ºçš„shellå‘½ä»¤ã€‚ç›¸åº”å‘½ä»¤çš„å½¢å¼ä¸º'command' { } \\;ï¼Œæ³¨æ„{ }å’Œ\\ï¼›ä¹‹é—´çš„ç©ºæ ¼ find ./ -size 0 -exec rm {} \\; åˆ é™¤æ–‡ä»¶å¤§å°ä¸ºé›¶çš„æ–‡ä»¶ ï¼ˆè¿˜å¯ä»¥ä»¥è¿™æ ·åšï¼šrm -i find ./ -size 0 æˆ– find ./ -size 0 | xargs rm -f \u0026amp;ï¼‰  ä¸ºäº†ç”¨ls -lå‘½ä»¤åˆ—å‡ºæ‰€åŒ¹é…åˆ°çš„æ–‡ä»¶ï¼Œå¯ä»¥æŠŠls -lå‘½ä»¤æ”¾åœ¨findå‘½ä»¤çš„-execé€‰é¡¹ä¸­ï¼šfind . -type f -exec ls -l { } \\; åœ¨/logsç›®å½•ä¸­æŸ¥æ‰¾æ›´æ”¹æ—¶é—´åœ¨5æ—¥ä»¥å‰çš„æ–‡ä»¶å¹¶åˆ é™¤å®ƒä»¬ï¼šfind /logs -type f -mtime +5 -exec rm { } \\; -okï¼Œå’Œ-execçš„ä½œç”¨ç›¸åŒï¼Œåªä¸è¿‡ä»¥ä¸€ç§æ›´ä¸ºå®‰å…¨çš„æ¨¡å¼æ¥æ‰§è¡Œè¯¥å‚æ•°æ‰€ç»™å‡ºçš„shellå‘½ä»¤ï¼Œåœ¨æ‰§è¡Œæ¯ä¸€ä¸ªå‘½ä»¤ä¹‹å‰ï¼Œéƒ½ä¼šç»™å‡ºæç¤ºï¼Œè®©ç”¨æˆ·æ¥ç¡®å®šæ˜¯å¦æ‰§è¡Œã€‚ find . -name \u0026quot;*.conf\u0026quot; -mtime +5 -ok rm { } \\; åœ¨å½“å‰ç›®å½•ä¸­æŸ¥æ‰¾æ‰€æœ‰æ–‡ä»¶åä»¥.LOGç»“å°¾ã€æ›´æ”¹æ—¶é—´åœ¨5æ—¥ä»¥ä¸Šçš„æ–‡ä»¶ï¼Œå¹¶åˆ é™¤å®ƒä»¬ï¼Œåªä¸è¿‡åœ¨åˆ é™¤ä¹‹å‰å…ˆç»™å‡ºæç¤º    ä¹Ÿæœ‰äººè¿™æ ·æ€»ç»“findå‘½ä»¤çš„ç»“æ„ï¼š\nfind start_directory options criteria_to_match action_to_perform_on_results å¸¸ç”¨é€‰é¡¹  -name  æŒ‰ç…§æ–‡ä»¶åæŸ¥æ‰¾æ–‡ä»¶ã€‚ find /dir -name filename  åœ¨/dirç›®å½•åŠå…¶å­ç›®å½•ä¸‹é¢æŸ¥æ‰¾åå­—ä¸ºfilenameçš„æ–‡ä»¶ find . -name \u0026quot;*.c\u0026quot; åœ¨å½“å‰ç›®å½•åŠå…¶å­ç›®å½•ï¼ˆç”¨â€œ.â€è¡¨ç¤ºï¼‰ä¸­æŸ¥æ‰¾ä»»ä½•æ‰©å±•åä¸ºâ€œcâ€çš„æ–‡ä»¶ -perm æŒ‰ç…§æ–‡ä»¶æƒé™æ¥æŸ¥æ‰¾æ–‡ä»¶ã€‚ find . -perm 755 â€“print åœ¨å½“å‰ç›®å½•ä¸‹æŸ¥æ‰¾æ–‡ä»¶æƒé™ä½ä¸º755çš„æ–‡ä»¶ï¼Œå³æ–‡ä»¶å±ä¸»å¯ä»¥è¯»ã€å†™ã€æ‰§è¡Œï¼Œå…¶å®ƒç”¨æˆ·å¯ä»¥è¯»ã€æ‰§è¡Œçš„æ–‡ä»¶ -prune  ä½¿ç”¨è¿™ä¸€é€‰é¡¹å¯ä»¥ä½¿findå‘½ä»¤ä¸åœ¨å½“å‰æŒ‡å®šçš„ç›®å½•ä¸­æŸ¥æ‰¾ï¼Œå¦‚æœåŒæ—¶ä½¿ç”¨-depthé€‰é¡¹ï¼Œé‚£ä¹ˆ-pruneå°†è¢«findå‘½ä»¤å¿½ç•¥ã€‚ find /apps -path \u0026quot;/apps/bin\u0026quot; -prune -o â€“print åœ¨/appsç›®å½•ä¸‹æŸ¥æ‰¾æ–‡ä»¶ï¼Œä½†ä¸å¸Œæœ›åœ¨/apps/binç›®å½•ä¸‹æŸ¥æ‰¾ find /usr/sam -path \u0026quot;/usr/sam/dir1\u0026quot; -prune -o â€“print åœ¨/usr/samç›®å½•ä¸‹æŸ¥æ‰¾ä¸åœ¨dir1å­ç›®å½•ä¹‹å†…çš„æ‰€æœ‰æ–‡ä»¶ -user  æŒ‰ç…§æ–‡ä»¶å±ä¸»æ¥æŸ¥æ‰¾æ–‡ä»¶ã€‚ find ~ -user sam â€“print åœ¨$HOMEç›®å½•ä¸­æŸ¥æ‰¾æ–‡ä»¶å±ä¸»ä¸ºsamçš„æ–‡ä»¶ -group  æŒ‰ç…§æ–‡ä»¶æ‰€å±çš„ç»„æ¥æŸ¥æ‰¾æ–‡ä»¶ã€‚ find /apps -group gem â€“print åœ¨/appsç›®å½•ä¸‹æŸ¥æ‰¾å±äºgemç”¨æˆ·ç»„çš„æ–‡ä»¶ -mtime -n +n  æŒ‰ç…§æ–‡ä»¶çš„æ›´æ”¹æ—¶é—´æ¥æŸ¥æ‰¾æ–‡ä»¶ï¼Œ - nè¡¨ç¤ºæ–‡ä»¶æ›´æ”¹æ—¶é—´è·ç°åœ¨nå¤©ä»¥å†…ï¼Œ+ nè¡¨ç¤ºæ–‡ä»¶æ›´æ”¹æ—¶é—´è·ç°åœ¨nå¤©ä»¥å‰ã€‚ find / -mtime -5 â€“print åœ¨ç³»ç»Ÿæ ¹ç›®å½•ä¸‹æŸ¥æ‰¾æ›´æ”¹æ—¶é—´åœ¨5æ—¥ä»¥å†…çš„æ–‡ä»¶ find /var/adm -mtime +3 â€“print åœ¨/var/admç›®å½•ä¸‹æŸ¥æ‰¾æ›´æ”¹æ—¶é—´åœ¨3æ—¥ä»¥å‰çš„æ–‡ä»¶ -nogroup  æŸ¥æ‰¾æ— æœ‰æ•ˆæ‰€å±ç»„çš„æ–‡ä»¶ï¼Œå³è¯¥æ–‡ä»¶æ‰€å±çš„ç»„åœ¨/etc/groupsä¸­ä¸å­˜åœ¨ã€‚ find / â€“nogroup -print -nouser  æŸ¥æ‰¾æ— æœ‰æ•ˆå±ä¸»çš„æ–‡ä»¶ï¼Œå³è¯¥æ–‡ä»¶çš„å±ä¸»åœ¨/etc/passwdä¸­ä¸å­˜åœ¨ã€‚ find /home -nouser â€“print -newer file1 ! file2  æŸ¥æ‰¾æ›´æ”¹æ—¶é—´æ¯”æ–‡ä»¶file1æ–°ä½†æ¯”æ–‡ä»¶file2æ—§çš„æ–‡ä»¶ã€‚ -type  æŸ¥æ‰¾æŸä¸€ç±»å‹çš„æ–‡ä»¶ï¼Œè¯¸å¦‚ï¼š b - å—è®¾å¤‡æ–‡ä»¶ã€‚ d - ç›®å½•ã€‚ c - å­—ç¬¦è®¾å¤‡æ–‡ä»¶ã€‚ p - ç®¡é“æ–‡ä»¶ã€‚ l - ç¬¦å·é“¾æ¥æ–‡ä»¶ã€‚ f - æ™®é€šæ–‡ä»¶ã€‚ find /etc -type d â€“print åœ¨/etcç›®å½•ä¸‹æŸ¥æ‰¾æ‰€æœ‰çš„ç›®å½• find . ! -type d â€“print åœ¨å½“å‰ç›®å½•ä¸‹æŸ¥æ‰¾é™¤ç›®å½•ä»¥å¤–çš„æ‰€æœ‰ç±»å‹çš„æ–‡ä»¶ find /etc -type l â€“print åœ¨/etcç›®å½•ä¸‹æŸ¥æ‰¾æ‰€æœ‰çš„ç¬¦å·é“¾æ¥æ–‡ä»¶ -size nï¼š[c] æŸ¥æ‰¾æ–‡ä»¶é•¿åº¦ä¸ºnå—çš„æ–‡ä»¶ï¼Œå¸¦æœ‰cæ—¶è¡¨ç¤ºæ–‡ä»¶é•¿åº¦ä»¥å­—èŠ‚è®¡ã€‚ find . -size +1000000c â€“print åœ¨å½“å‰ç›®å½•ä¸‹æŸ¥æ‰¾æ–‡ä»¶é•¿åº¦å¤§äº1 Må­—èŠ‚çš„æ–‡ä»¶ find /home/apache -size 100c â€“print åœ¨/home/apacheç›®å½•ä¸‹æŸ¥æ‰¾æ–‡ä»¶é•¿åº¦æ°å¥½ä¸º100å­—èŠ‚çš„æ–‡ä»¶ find . -size +10 â€“print åœ¨å½“å‰ç›®å½•ä¸‹æŸ¥æ‰¾é•¿åº¦è¶…è¿‡10å—çš„æ–‡ä»¶ï¼ˆä¸€å—ç­‰äº512å­—èŠ‚ï¼‰ -depthï¼šåœ¨æŸ¥æ‰¾æ–‡ä»¶æ—¶ï¼Œé¦–å…ˆæŸ¥æ‰¾å½“å‰ç›®å½•ä¸­çš„æ–‡ä»¶ï¼Œç„¶åå†åœ¨å…¶å­ç›®å½•ä¸­æŸ¥æ‰¾ã€‚ find / -name \u0026quot;CON.FILE\u0026quot; -depth â€“print å®ƒå°†é¦–å…ˆåŒ¹é…æ‰€æœ‰çš„æ–‡ä»¶ç„¶åå†è¿›å…¥å­ç›®å½•ä¸­æŸ¥æ‰¾ -mountï¼šåœ¨æŸ¥æ‰¾æ–‡ä»¶æ—¶ä¸è·¨è¶Šæ–‡ä»¶ç³»ç»Ÿmountç‚¹ã€‚ find . -name \u0026quot;*.XC\u0026quot; -mount â€“print ä»å½“å‰ç›®å½•å¼€å§‹æŸ¥æ‰¾ä½äºæœ¬æ–‡ä»¶ç³»ç»Ÿä¸­æ–‡ä»¶åä»¥XCç»“å°¾çš„æ–‡ä»¶ï¼ˆä¸è¿›å…¥å…¶å®ƒæ–‡ä»¶ç³»ç»Ÿï¼‰ -followï¼šå¦‚æœfindå‘½ä»¤é‡åˆ°ç¬¦å·é“¾æ¥æ–‡ä»¶ï¼Œå°±è·Ÿè¸ªè‡³é“¾æ¥æ‰€æŒ‡å‘çš„æ–‡ä»¶ã€‚  æŒ‰åç§°æŸ¥æ‰¾æ–‡ä»¶ ä½ å¯ä»¥å€ŸåŠ©æ­£åˆ™è¡¨è¾¾å¼ä½¿ç”¨å®Œæ•´æˆ–éƒ¨åˆ†çš„æ–‡ä»¶åæ¥å®šä½æ–‡ä»¶ã€‚find å‘½ä»¤éœ€è¦ä½ ç»™å‡ºæƒ³æœç´¢çš„ç›®å½•ï¼›æŒ‡å®šæœç´¢å±æ€§é€‰é¡¹ï¼Œä¾‹å¦‚ï¼Œ-name ç”¨äºæŒ‡å®šåŒºåˆ†å¤§å°å†™çš„æ–‡ä»¶åï¼›ç„¶åæ˜¯æœç´¢å­—ç¬¦ä¸²ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæœç´¢å­—ç¬¦ä¸²æŒ‰å­—é¢æ„æ€å¤„ç†ï¼šé™¤éä½ ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼è¯­æ³•ï¼Œå¦åˆ™ find å‘½ä»¤æœç´¢çš„æ–‡ä»¶åæ­£æ˜¯ä½ åœ¨å¼•å·ä¹‹é—´è¾“å…¥çš„å­—ç¬¦ä¸²ã€‚\nå‡è®¾ä½ çš„ Documents ç›®å½•åŒ…å«å››ä¸ªæ–‡ä»¶ï¼šFooã€fooã€foobar.txt å’Œ foo.xmlã€‚ä»¥ä¸‹æ˜¯å¯¹ foo çš„å­—é¢æœç´¢ï¼š\n$ find ~ -name \u0026#34;foo\u0026#34; /home/tux/Documents/examples/foo ä½ å¯ä»¥ä½¿ç”¨ -iname é€‰é¡¹ä½¿å…¶ä¸åŒºåˆ†å¤§å°å†™æ¥æ‰©å¤§æœç´¢èŒƒå›´ï¼š\n$ find ~ -iname \u0026#34;foo\u0026#34; /home/tux/Documents/examples/foo /home/tux/Documents/examples/Foo é€šé…ç¬¦ ä½ å¯ä»¥ä½¿ç”¨åŸºæœ¬çš„ shell é€šé…ç¬¦æ¥æ‰©å±•æœç´¢ã€‚ä¾‹å¦‚ï¼Œ* è¡¨ç¤ºä»»æ„æ•°é‡çš„å­—ç¬¦ï¼š\n$ find ~ -iname \u0026#34;foo*\u0026#34; /home/tux/Documents/examples/foo /home/tux/Documents/examples/Foo /home/tux/Documents/examples/foo.xml /home/tux/Documents/examples/foobar.txt ? è¡¨ç¤ºå•ä¸ªå­—ç¬¦ï¼š\n$ find ~ -iname \u0026#34;foo*.???\u0026#34; /home/tux/Documents/examples/foo.xml /home/tux/Documents/examples/foobar.txt è¿™ä¸æ˜¯æ­£åˆ™è¡¨è¾¾å¼è¯­æ³•ï¼Œå› æ­¤ . åœ¨ç¤ºä¾‹ä¸­åªè¡¨ç¤ºå­—æ¯â€œç‚¹â€ã€‚\næ­£åˆ™è¡¨è¾¾å¼ ä½ è¿˜å¯ä»¥ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ã€‚ä¸ -iname å’Œ -name ä¸€æ ·ï¼Œä¹Ÿæœ‰åŒºåˆ†å¤§å°å†™å’Œä¸åŒºåˆ†å¤§å°å†™çš„é€‰é¡¹ã€‚ä½†ä¸ä¸€æ ·çš„æ˜¯ï¼Œ-regex å’Œ -iregex æœç´¢åº”ç”¨äºæ•´ä¸ªè·¯å¾„ï¼Œè€Œä¸ä»…ä»…æ˜¯æ–‡ä»¶åã€‚è¿™æ„å‘³ç€ï¼Œå¦‚æœä½ æœç´¢ fooï¼Œä½ ä¸ä¼šå¾—åˆ°ä»»ä½•ç»“æœï¼Œå› ä¸º foo ä¸ /home/tux/Documents/foo ä¸åŒ¹é…ã€‚ç›¸åï¼Œä½ å¿…é¡»è¦ä¹ˆæœç´¢æ•´ä¸ªè·¯å¾„ï¼Œè¦ä¹ˆåœ¨å­—ç¬¦ä¸²çš„å¼€å¤´ä½¿ç”¨é€šé…ç¬¦ï¼š\n$ find ~ -iregex \u0026#34;.*foo\u0026#34; /home/tux/Documents/examples/foo /home/tux/Documents/examples/Foo æŸ¥æ‰¾è¿‘ä¸€å‘¨ä¿®æ”¹è¿‡çš„æ–‡ä»¶ è¦æŸ¥æ‰¾è¿‘ä¸€å‘¨ä¿®æ”¹çš„æ–‡ä»¶ï¼Œä½¿ç”¨ -mtime é€‰é¡¹ä»¥åŠè¿‡å»çš„å¤©æ•°ï¼ˆè´Ÿæ•°ï¼‰ï¼š\n$ find ~ -mtime -7 /home/tux/Documents/examples/foo /home/tux/Documents/examples/Foo /home/tux/Documents/examples/foo.xml /home/tux/Documents/examples/foobar.txt æŸ¥æ‰¾è¿‘å‡ å¤©ä¿®æ”¹çš„æ–‡ä»¶ ä½ å¯ä»¥ç»“åˆä½¿ç”¨ -mtime é€‰é¡¹æ¥æŸ¥æ‰¾è¿‘å‡ å¤©èŒƒå›´å†…ä¿®æ”¹çš„æ–‡ä»¶ã€‚å¯¹äºç¬¬ä¸€ä¸ª -mtime å‚æ•°ï¼Œè¡¨ç¤ºä¸Šä¸€æ¬¡ä¿®æ”¹æ–‡ä»¶çš„æœ€è¿‘å¤©æ•°ã€‚ç¬¬äºŒä¸ªå‚æ•°è¡¨ç¤ºæœ€å¤§å¤©æ•°ã€‚ä¾‹å¦‚ï¼Œæœç´¢ä¿®æ”¹æ—¶é—´è¶…è¿‡ 1 å¤©ä½†ä¸è¶…è¿‡ 7 å¤©çš„æ–‡ä»¶ï¼š\n$ find ~ -mtime +1 -mtime -7 æŒ‰æ–‡ä»¶ç±»å‹é™åˆ¶æœç´¢ æŒ‡å®šæŸ¥æ‰¾æ–‡ä»¶çš„ç±»å‹æ¥ä¼˜åŒ– find çš„ç»“æœæ˜¯å¾ˆå¸¸è§çš„ã€‚å¦‚æœä½ ä¸ç¡®å®šè¦æŸ¥æ‰¾çš„å†…å®¹ï¼Œåˆ™ä¸åº”è¯¥ä½¿ç”¨æ­¤é€‰é¡¹ã€‚ä½†å¦‚æœä½ çŸ¥é“è¦æŸ¥æ‰¾çš„æ˜¯æ–‡ä»¶è€Œä¸æ˜¯ç›®å½•ï¼Œæˆ–è€…æ˜¯ç›®å½•è€Œä¸æ˜¯æ–‡ä»¶ï¼Œé‚£ä¹ˆè¿™å¯èƒ½æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„è¿‡æ»¤å™¨ã€‚é€‰é¡¹æ˜¯ -typeï¼Œå®ƒçš„å‚æ•°æ˜¯ä»£è¡¨ä¸åŒç±»å‹æ•°æ®çš„å­—æ¯ä»£ç ã€‚æœ€å¸¸è§çš„æ˜¯ï¼š\n d - ç›®å½• f - æ–‡ä»¶ l - é“¾æ¥æ–‡ä»¶ s - å¥—æ¥å­— p - å‘½åç®¡é“ï¼ˆç”¨äº FIFOï¼‰ b - å—è®¾å¤‡ï¼ˆé€šå¸¸æ˜¯ç¡¬ç›˜ï¼‰  ä¸‹é¢æ˜¯ä¸€äº›ä¾‹å­ï¼š\n$ find ~ -type d -name \u0026#34;Doc*\u0026#34; /home/tux/Documents $ find ~ -type f -name \u0026#34;Doc*\u0026#34; /home/tux/Downloads/10th-Doctor.gif $ find /dev -type b -name \u0026#34;sda*\u0026#34; /dev/sda/dev/sda1 è°ƒæ•´èŒƒå›´ find å‘½ä»¤é»˜è®¤æ˜¯é€’å½’çš„ï¼Œè¿™æ„å‘³ç€å®ƒä¼šåœ¨æŒ‡å®šçš„ç›®å½•ä¸­å±‚å±‚æœç´¢ç»“æœã€‚è¿™åœ¨å¤§å‹æ–‡ä»¶ç³»ç»Ÿä¸­å¯èƒ½ä¼šå˜å¾—ä¸å ªé‡è´Ÿï¼Œä½†ä½ å¯ä»¥ä½¿ç”¨ -maxdepth é€‰é¡¹æ¥æ§åˆ¶æœç´¢æ·±åº¦ï¼š\n$ find /usr -iname \u0026#34;*xml\u0026#34; | wc -l 15588 $ find /usr -maxdepth 2 -iname \u0026#34;*xml\u0026#34; | wc -l 15 ä¹Ÿå¯ä»¥ä½¿ç”¨ -mindepth è®¾ç½®æœ€å°é€’å½’æ·±åº¦ï¼š\n$ find /usr -mindepth 8 -iname \u0026#34;*xml\u0026#34; | wc -l 9255 ä¸ xargs åœ¨ä½¿ç”¨findå‘½ä»¤çš„-execé€‰é¡¹å¤„ç†åŒ¹é…åˆ°çš„æ–‡ä»¶æ—¶ï¼Œ findå‘½ä»¤å°†æ‰€æœ‰åŒ¹é…åˆ°çš„æ–‡ä»¶ä¸€èµ·ä¼ é€’ç»™execæ‰§è¡Œã€‚ä½†æœ‰äº›ç³»ç»Ÿå¯¹èƒ½å¤Ÿä¼ é€’ç»™execçš„å‘½ä»¤é•¿åº¦æœ‰é™åˆ¶ï¼Œè¿™æ ·åœ¨findå‘½ä»¤è¿è¡Œå‡ åˆ†é’Ÿä¹‹åï¼Œå°±ä¼šå‡ºç°æº¢å‡ºé”™è¯¯ã€‚é”™è¯¯ä¿¡æ¯é€šå¸¸æ˜¯â€œå‚æ•°åˆ—å¤ªé•¿â€æˆ–â€œå‚æ•°åˆ—æº¢å‡ºâ€ã€‚è¿™å°±æ˜¯xargså‘½ä»¤çš„ç”¨å¤„æ‰€åœ¨ï¼Œç‰¹åˆ«æ˜¯ä¸findå‘½ä»¤ä¸€èµ·ä½¿ç”¨ã€‚\nfindå‘½ä»¤æŠŠåŒ¹é…åˆ°çš„æ–‡ä»¶ä¼ é€’ç»™xargså‘½ä»¤ï¼Œè€Œxargså‘½ä»¤æ¯æ¬¡åªè·å–ä¸€éƒ¨åˆ†æ–‡ä»¶è€Œä¸æ˜¯å…¨éƒ¨ï¼Œä¸åƒ-execé€‰é¡¹é‚£æ ·ã€‚è¿™æ ·å®ƒå¯ä»¥å…ˆå¤„ç†æœ€å…ˆè·å–çš„ä¸€éƒ¨åˆ†æ–‡ä»¶ï¼Œç„¶åæ˜¯ä¸‹ä¸€æ‰¹ï¼Œå¹¶å¦‚æ­¤ç»§ç»­ä¸‹å»ã€‚\nåœ¨æœ‰äº›ç³»ç»Ÿä¸­ï¼Œä½¿ç”¨-execé€‰é¡¹ä¼šä¸ºå¤„ç†æ¯ä¸€ä¸ªåŒ¹é…åˆ°çš„æ–‡ä»¶è€Œå‘èµ·ä¸€ä¸ªç›¸åº”çš„è¿›ç¨‹ï¼Œå¹¶éå°†åŒ¹é…åˆ°çš„æ–‡ä»¶å…¨éƒ¨ä½œä¸ºå‚æ•°ä¸€æ¬¡æ‰§è¡Œï¼›è¿™æ ·åœ¨æœ‰äº›æƒ…å†µä¸‹å°±ä¼šå‡ºç°è¿›ç¨‹è¿‡å¤šï¼Œç³»ç»Ÿæ€§èƒ½ä¸‹é™çš„é—®é¢˜ï¼Œå› è€Œæ•ˆç‡ä¸é«˜ï¼›\nè€Œä½¿ç”¨xargså‘½ä»¤åˆ™åªæœ‰ä¸€ä¸ªè¿›ç¨‹ã€‚å¦å¤–ï¼Œåœ¨ä½¿ç”¨xargså‘½ä»¤æ—¶ï¼Œç©¶ç«Ÿæ˜¯ä¸€æ¬¡è·å–æ‰€æœ‰çš„å‚æ•°ï¼Œè¿˜æ˜¯åˆ†æ‰¹å–å¾—å‚æ•°ï¼Œä»¥åŠæ¯ä¸€æ¬¡è·å–å‚æ•°çš„æ•°ç›®éƒ½ä¼šæ ¹æ®è¯¥å‘½ä»¤çš„é€‰é¡¹åŠç³»ç»Ÿå†…æ ¸ä¸­ç›¸åº”çš„å¯è°ƒå‚æ•°æ¥ç¡®å®šã€‚\næ¥çœ‹çœ‹xargså‘½ä»¤æ˜¯å¦‚ä½•åŒfindå‘½ä»¤ä¸€èµ·ä½¿ç”¨çš„ï¼Œå¹¶ç»™å‡ºä¸€äº›ä¾‹å­ã€‚\nfind . -type f -print | xargs file æŸ¥æ‰¾ç³»ç»Ÿä¸­çš„æ¯ä¸€ä¸ªæ™®é€šæ–‡ä»¶ï¼Œç„¶åä½¿ç”¨xargså‘½ä»¤æ¥æµ‹è¯•å®ƒä»¬åˆ†åˆ«å±äºå“ªç±»æ–‡ä»¶\nfind / -name \u0026quot;core\u0026quot; -print | xargs echo \u0026quot;\u0026quot; \u0026gt;/tmp/core.log åœ¨æ•´ä¸ªç³»ç»Ÿä¸­æŸ¥æ‰¾å†…å­˜ä¿¡æ¯è½¬å‚¨æ–‡ä»¶(core dump) ï¼Œç„¶åæŠŠç»“æœä¿å­˜åˆ°/tmp/core.log æ–‡ä»¶ä¸­ï¼š\nfind . -type f -print | xargs grep \u0026quot;hostname\u0026quot; ç”¨grepå‘½ä»¤åœ¨æ‰€æœ‰çš„æ™®é€šæ–‡ä»¶ä¸­æœç´¢hostnameè¿™ä¸ªè¯\nfind ./ -mtime +3 -print|xargs rm -f â€“r åˆ é™¤3å¤©ä»¥å‰çš„æ‰€æœ‰ä¸œè¥¿ ï¼ˆfind . -ctime +3 -exec rm -rf {} \\;ï¼‰\nfind ./ -size 0 | xargs rm -f \u0026amp; åˆ é™¤æ–‡ä»¶å¤§å°ä¸ºé›¶çš„æ–‡ä»¶\nfindå‘½ä»¤é…åˆä½¿ç”¨execå’Œxargså¯ä»¥ä½¿ç”¨æˆ·å¯¹æ‰€åŒ¹é…åˆ°çš„æ–‡ä»¶æ‰§è¡Œå‡ ä¹æ‰€æœ‰çš„å‘½ä»¤ã€‚\nfd fd å‘½ä»¤æ˜¯ä¸€ä¸ªæµè¡Œçš„ã€ç”¨æˆ·å‹å¥½çš„ find å‘½ä»¤çš„æ›¿ä»£å“ã€‚\ngrep grep (global search regular expression(RE) and print out the lineï¼Œå…¨é¢æœç´¢æ­£åˆ™è¡¨è¾¾å¼å¹¶æŠŠè¡Œæ‰“å°å‡ºæ¥)æ˜¯ä¸€ç§å¼ºå¤§çš„æ–‡æœ¬æœç´¢å·¥å…·ï¼Œå®ƒèƒ½ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æœç´¢æ–‡æœ¬ï¼Œå¹¶æŠŠåŒ¹é…çš„è¡Œæ‰“å°å‡ºæ¥ã€‚\ngrep è¿™ä¸ªåå­—ï¼Œæ¥æºäºä¸€ä¸ª Unix/Linux ä¸­çš„å¤è€çš„è¡Œç¼–è¾‘å™¨ ed ä¸­æ‰§è¡Œç›¸ä¼¼æ“ä½œçš„å‘½ä»¤ï¼š\ng/re/p è¯­æ³•å¦‚ä¸‹æ‰€ç¤º:\ngrep [OPTIONS] PATTERN [FILE...] grep [OPTIONS] [-e PATTERN | -f FILE] [FILE...] grepå‘½ä»¤ç”¨äºæœç´¢ç”±Patternå‚æ•°æŒ‡å®šçš„æ¨¡å¼ï¼Œå¹¶å°†æ¯ä¸ªåŒ¹é…çš„è¡Œå†™å…¥æ ‡å‡†è¾“å‡ºä¸­ã€‚è¿™äº›æ¨¡å¼æ˜¯å…·æœ‰é™å®šçš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œå®ƒä»¬ä½¿ç”¨edæˆ–egrepå‘½ä»¤æ ·å¼ã€‚\nå¦‚æœåœ¨Fileå‚æ•°ä¸­æŒ‡å®šäº†å¤šä¸ªåç§°ï¼Œgrepå‘½ä»¤å°†æ˜¾ç¤ºåŒ…å«åŒ¹é…è¡Œçš„æ–‡ä»¶çš„åç§°ã€‚\nå¯¹ shell æœ‰ç‰¹æ®Šå«ä¹‰çš„å­—ç¬¦ ($, *, [, |, ^, (, ), \\ ) å‡ºç°åœ¨ Patternå‚æ•°ä¸­æ—¶å¿…é¡»å¸¦åŒå¼•å·ã€‚å¦‚æœ Patternå‚æ•°ä¸æ˜¯ç®€å•å­—ç¬¦ä¸²ï¼Œé€šå¸¸å¿…é¡»ç”¨å•å¼•å·å°†æ•´ä¸ªæ¨¡å¼æ‹¬èµ·æ¥ã€‚åœ¨è¯¸å¦‚ [a-z], ä¹‹ç±»çš„è¡¨è¾¾å¼ä¸­ï¼Œ-ï¼ˆå‡å·ï¼‰cml å¯æ ¹æ®å½“å‰æ­£åœ¨æ•´ç†çš„åºåˆ—æ¥æŒ‡å®šä¸€ä¸ªèŒƒå›´ã€‚æ•´ç†åºåˆ—å¯ä»¥å®šä¹‰ç­‰ä»·çš„ç±»ä»¥ä¾›åœ¨å­—ç¬¦èŒƒå›´ä¸­ä½¿ç”¨ã€‚\nå¦‚æœæœªæŒ‡å®šä»»ä½•æ–‡ä»¶ï¼Œgrepä¼šå‡å®šä¸ºæ ‡å‡†è¾“å…¥ã€‚\nåŸºæœ¬é›† grepæ­£åˆ™è¡¨è¾¾å¼å…ƒå­—ç¬¦é›†ï¼š\n ^ é”šå®šè¡Œçš„å¼€å§‹ å¦‚ï¼š'^grep'åŒ¹é…æ‰€æœ‰ä»¥grepå¼€å¤´çš„è¡Œã€‚ $ é”šå®šè¡Œçš„ç»“æŸ å¦‚ï¼š'grep$'åŒ¹é…æ‰€æœ‰ä»¥grepç»“å°¾çš„è¡Œã€‚ . åŒ¹é…ä¸€ä¸ªéæ¢è¡Œç¬¦çš„å­—ç¬¦ å¦‚ï¼š'gr.p'åŒ¹é…gråæ¥ä¸€ä¸ªä»»æ„å­—ç¬¦ï¼Œç„¶åæ˜¯pã€‚ * åŒ¹é…é›¶ä¸ªæˆ–å¤šä¸ªå…ˆå‰å­—ç¬¦ å¦‚ï¼š' *grep'åŒ¹é…æ‰€æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªç©ºæ ¼åç´§è·Ÿgrepçš„è¡Œã€‚ .*ä¸€èµ·ç”¨ä»£è¡¨ä»»æ„å­—ç¬¦ã€‚ [] åŒ¹é…ä¸€ä¸ªæŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚'[Gg]rep'åŒ¹é…Grepå’Œgrepã€‚ [^]  åŒ¹é…ä¸€ä¸ªä¸åœ¨æŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚ï¼š'[^A-FH-Z]rep'åŒ¹é…ä¸åŒ…å«A-Få’ŒH-Zçš„ä¸€ä¸ªå­—æ¯å¼€å¤´ï¼Œç´§è·Ÿrepçš„è¡Œã€‚ \\(..\\) æ ‡è®°åŒ¹é…å­—ç¬¦ï¼Œå¦‚ï¼š'\\(love\\)'ï¼Œloveè¢«æ ‡è®°ä¸º1ã€‚ \\\u0026lt; é”šå®šå•è¯çš„å¼€å§‹ï¼Œå¦‚ï¼š'\\ \\\u0026gt; é”šå®šå•è¯çš„ç»“æŸï¼Œå¦‚grep\\\u0026gt;'åŒ¹é…åŒ…å«ä»¥grepç»“å°¾çš„å•è¯çš„è¡Œã€‚ x\\{m\\} è¿ç»­é‡å¤å­—ç¬¦xï¼Œmæ¬¡ï¼Œå¦‚ï¼š'o\\{5\\}'åŒ¹é…åŒ…å«è¿ç»­5ä¸ªoçš„è¡Œã€‚ x\\{m,\\} è¿ç»­é‡å¤å­—ç¬¦x,è‡³å°‘mæ¬¡ï¼Œå¦‚ï¼š'o\\{5,\\}'åŒ¹é…è‡³å°‘è¿ç»­æœ‰5ä¸ªoçš„è¡Œã€‚ x\\{m,n\\} è¿ç»­é‡å¤å­—ç¬¦xï¼Œè‡³å°‘mæ¬¡ï¼Œä¸å¤šäºnæ¬¡ï¼Œå¦‚ï¼š'o\\{5,10\\}'åŒ¹é…è¿ç»­5\u0026ndash;10ä¸ªoçš„è¡Œã€‚ \\w åŒ¹é…ä¸€ä¸ªæ–‡å­—å’Œæ•°å­—å­—ç¬¦ï¼Œä¹Ÿå°±æ˜¯[A-Za-z0-9]ï¼Œå¦‚ï¼š'G\\w*p'åŒ¹é…ä»¥Gåè·Ÿé›¶ä¸ªæˆ–å¤šä¸ªæ–‡å­—æˆ–æ•°å­—å­—ç¬¦ï¼Œç„¶åæ˜¯pã€‚ \\W  wçš„åç½®å½¢å¼ï¼ŒåŒ¹é…ä¸€ä¸ªéå•è¯å­—ç¬¦ï¼Œå¦‚ç‚¹å·å¥å·ç­‰ã€‚\\W*åˆ™å¯åŒ¹é…å¤šä¸ªã€‚ \\b å•è¯é”å®šç¬¦ï¼Œå¦‚: '\\bgrep\\b'åªåŒ¹é…grepï¼Œå³åªèƒ½æ˜¯grepè¿™ä¸ªå•è¯ï¼Œä¸¤è¾¹å‡ä¸ºç©ºæ ¼ã€‚  å¸¸ç”¨é€‰é¡¹ -? åŒæ—¶æ˜¾ç¤ºåŒ¹é…è¡Œä¸Šä¸‹çš„ï¼Ÿè¡Œï¼Œå¦‚ï¼šgrep -2 pattern filenameåŒæ—¶æ˜¾ç¤ºåŒ¹é…è¡Œçš„ä¸Šä¸‹2è¡Œã€‚\n-bï¼Œ--byte-offset æ‰“å°åŒ¹é…è¡Œå‰é¢æ‰“å°è¯¥è¡Œæ‰€åœ¨çš„å—å·ç ã€‚\n-c,--count åªæ‰“å°åŒ¹é…çš„è¡Œæ•°ï¼Œä¸æ˜¾ç¤ºåŒ¹é…çš„å†…å®¹ã€‚\n-f Fileï¼Œ--file=File ä»æ–‡ä»¶ä¸­æå–æ¨¡æ¿ã€‚ç©ºæ–‡ä»¶ä¸­åŒ…å«0ä¸ªæ¨¡æ¿ï¼Œæ‰€ä»¥ä»€ä¹ˆéƒ½ä¸åŒ¹é…ã€‚\n-hï¼Œ--no-filename å½“æœç´¢å¤šä¸ªæ–‡ä»¶æ—¶ï¼Œä¸æ˜¾ç¤ºåŒ¹é…æ–‡ä»¶åå‰ç¼€ã€‚\n-iï¼Œ--ignore-case å¿½ç•¥å¤§å°å†™å·®åˆ«ã€‚\n-qï¼Œ--quiet å–æ¶ˆæ˜¾ç¤ºï¼Œåªè¿”å›é€€å‡ºçŠ¶æ€ã€‚0åˆ™è¡¨ç¤ºæ‰¾åˆ°äº†åŒ¹é…çš„è¡Œã€‚\n-lï¼Œ--files-with-matches æ‰“å°åŒ¹é…æ¨¡æ¿çš„æ–‡ä»¶æ¸…å•ã€‚\n-Lï¼Œ--files-without-match æ‰“å°ä¸åŒ¹é…æ¨¡æ¿çš„æ–‡ä»¶æ¸…å•ã€‚\n-nï¼Œ--line-number åœ¨åŒ¹é…çš„è¡Œå‰é¢æ‰“å°è¡Œå·ã€‚\n-sï¼Œ--silent ä¸æ˜¾ç¤ºå…³äºä¸å­˜åœ¨æˆ–è€…æ— æ³•è¯»å–æ–‡ä»¶çš„é”™è¯¯ä¿¡æ¯ã€‚\n-vï¼Œ--revert-match åæ£€ç´¢ï¼Œåªæ˜¾ç¤ºä¸åŒ¹é…çš„è¡Œã€‚\n-wï¼Œ--word-regexp å¦‚æœè¢«\\å¼•ç”¨ï¼Œå°±æŠŠè¡¨è¾¾å¼åšä¸ºä¸€ä¸ªå•è¯æœç´¢ã€‚\n-Vï¼Œ--version æ˜¾ç¤ºè½¯ä»¶ç‰ˆæœ¬ä¿¡æ¯ã€‚\næ€ä¹ˆæ ·ä½¿ç”¨ grep æ¥æœç´¢ä¸€ä¸ªæ–‡ä»¶ æœç´¢ /etc/passwd æ–‡ä»¶ä¸‹çš„ boo ç”¨æˆ·,è¾“å…¥:\n$ grep boo /etc/passwd è¾“å‡ºå†…å®¹:\nfooâŒ1000:1000:foo,,,:/home/foo:/bin/ksh å¯ä»¥ä½¿ç”¨ grep å»å¼ºåˆ¶å¿½ç•¥å¤§å°å†™ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ -i é€‰é¡¹å¯ä»¥åŒ¹é… boo, Boo, BOO å’Œå…¶ä»–ç»„åˆï¼š\n$ grep -i \u0026quot;boo\u0026quot; /etc/passwd é€’å½’ä½¿ç”¨ grep ä½ å¯ä»¥é€’å½’åœ°ä½¿ç”¨ grep è¿›è¡Œæœç´¢ã€‚ä¾‹å¦‚ï¼Œåœ¨æ–‡ä»¶ç›®å½•ä¸‹é¢æœç´¢æ‰€æœ‰åŒ…å«å­—ç¬¦ä¸²â€œ192.168.1.5â€çš„æ–‡ä»¶\n$ grep -r \u0026quot;192.168.1.5\u0026quot; /etc/ æˆ–è€…æ˜¯ï¼š\n$ grep -R \u0026quot;192.168.1.5\u0026quot; /etc/ ç¤ºä¾‹è¾“å‡º:\n/etc/ppp/options:# ms-wins 192.168.1.50/etc/ppp/options:# ms-wins 192.168.1.51/etc/NetworkManager/system-connections/Wired connection 1:addresses1=192.168.1.5;24;192.168.1.2; ä½ ä¼šçœ‹åˆ°æœç´¢åˆ° 192.168.1.5 çš„ç»“æœæ¯ä¸€è¡Œéƒ½å‰ç¼€ä»¥æ‰¾åˆ°åŒ¹é…çš„æ–‡ä»¶åï¼ˆä¾‹å¦‚ï¼š/etc/ppp/optionsï¼‰ã€‚è¾“å‡ºä¹‹ä¸­åŒ…å«çš„æ–‡ä»¶åå¯ä»¥åŠ  -h é€‰é¡¹æ¥ç¦æ­¢è¾“å‡ºï¼š\n$ grep -h -R \u0026quot;192.168.1.5\u0026quot; /etc/ æˆ–è€…\n$ grep -hR \u0026quot;192.168.1.5\u0026quot; /etc/ ç¤ºä¾‹è¾“å‡º:\n# ms-wins 192.168.1.50# ms-wins 192.168.1.51addresses1=192.168.1.5;24;192.168.1.2; ä½¿ç”¨ grep å»æœç´¢æ–‡æœ¬ å½“ä½ æœç´¢ boo æ—¶ï¼Œgrep å‘½ä»¤å°†ä¼šåŒ¹é… foobooï¼Œboo123, barfoo35 å’Œå…¶ä»–æ‰€æœ‰åŒ…å« boo çš„å­—ç¬¦ä¸²ï¼Œä½ å¯ä»¥ä½¿ç”¨ -w é€‰é¡¹å»å¼ºåˆ¶åªè¾“å‡ºé‚£äº›ä»…ä»…åŒ…å«é‚£ä¸ªæ•´ä¸ªå•è¯çš„è¡Œï¼ˆLCTTè¯‘æ³¨ï¼šå³è¯¥å­—ç¬¦ä¸²ä¸¤ä¾§æ˜¯è‹±æ–‡å•è¯åˆ†éš”ç¬¦ï¼Œå¦‚ç©ºæ ¼ï¼Œæ ‡ç‚¹ç¬¦å·ï¼Œå’Œæœ«ç«¯ç­‰ï¼Œå› æ­¤å¯¹ä¸­æ–‡è¿™ç§æ²¡æœ‰æ–­å­—ç¬¦å·çš„è¯­è¨€å¹¶ä¸é€‚ç”¨ã€‚ï¼‰ã€‚\n$ grep -w \u0026quot;boo\u0026quot; file ä½¿ç”¨ grep å‘½ä»¤å»æœç´¢ä¸¤ä¸ªä¸åŒçš„å•è¯ ä½¿ç”¨ egrep å‘½ä»¤å¦‚ä¸‹:\n$ egrep -w 'word1|word2' /path/to/file ï¼ˆLCTT è¯‘æ³¨ï¼šè¿™é‡Œä½¿ç”¨åˆ°äº†æ­£åˆ™è¡¨è¾¾å¼ï¼Œå› æ­¤ä½¿ç”¨çš„æ˜¯ egrep å‘½ä»¤ï¼Œå³æ‰©å±•çš„ grep å‘½ä»¤ã€‚ï¼‰\nç»Ÿè®¡æ–‡æœ¬åŒ¹é…åˆ°çš„è¡Œæ•° grep å‘½ä»¤å¯ä»¥é€šè¿‡åŠ  -c å‚æ•°æ˜¾ç¤ºæ¯ä¸ªæ–‡ä»¶ä¸­åŒ¹é…åˆ°çš„æ¬¡æ•°ï¼š\n$ grep -c 'word' /path/to/file ä¼ é€’ -n é€‰é¡¹å¯ä»¥è¾“å‡ºçš„è¡Œå‰åŠ å…¥åŒ¹é…åˆ°çš„è¡Œçš„è¡Œå·ï¼š\n$ grep -n 'root' /etc/passwd ç¤ºä¾‹è¾“å‡º:\n1:root:x:0:0:root:/root:/bin/bash1042:rootdoor:x:0:0:rootdoor:/home/rootdoor:/bin/csh3319:initrootapp:x:0:0:initrootapp:/home/initroot:/bin/ksh åè½¬åŒ¹é…ï¼ˆä¸åŒ¹é…ï¼‰ å¯ä»¥ä½¿ç”¨ -v é€‰é¡¹æ¥è¾“å‡ºä¸åŒ…å«åŒ¹é…é¡¹çš„å†…å®¹ï¼Œè¾“å‡ºå†…å®¹ä»…ä»…åŒ…å«é‚£äº›ä¸å«ç»™å®šå•è¯çš„è¡Œï¼Œä¾‹å¦‚è¾“å‡ºæ‰€æœ‰ä¸åŒ…å« bar å•è¯çš„è¡Œï¼š\n$ grep -v bar /path/to/file UNIX/Linux ç®¡é“ä¸ grep å‘½ä»¤ grep å¸¸å¸¸ä¸ç®¡é“ä¸€èµ·ä½¿ç”¨ï¼Œåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæ˜¾ç¤ºç¡¬ç›˜è®¾å¤‡çš„åå­—ï¼š\n# dmesg | egrep '(s|h)d[a-z]' æ˜¾ç¤º CPU å‹å·ï¼š\n# cat /proc/cpuinfo | grep -i 'Model' ç„¶è€Œï¼Œä»¥ä¸Šå‘½ä»¤ä¹Ÿå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ–¹æ³•ä½¿ç”¨ï¼Œä¸ä½¿ç”¨ç®¡é“:\n# grep -i 'Model' /proc/cpuinfo ç¤ºä¾‹è¾“å‡º:\nmodel : 30model name : Intel(R) Core(TM) i7 CPU Q 820 @ 1.73GHzmodel : 30model name : Intel(R) Core(TM) i7 CPU Q 820 @ 1.73GHz å¦‚ä½•ä»…ä»…æ˜¾ç¤ºåŒ¹é…åˆ°å†…å®¹çš„æ–‡ä»¶åå­—? ä½¿ç”¨ -l é€‰é¡¹å»æ˜¾ç¤ºé‚£äº›æ–‡ä»¶å†…å®¹ä¸­åŒ…å« main() çš„æ–‡ä»¶åï¼š\n$ grep -l 'main' *.c æœ€åï¼Œä½ å¯ä»¥å¼ºåˆ¶ grep ä»¥å½©è‰²è¾“å‡ºï¼š\n$ grep --color vivek /etc/passwd æŸ¥æ‰¾æ–‡ä»¶å†…å®¹ ä»æ ¹ç›®å½•å¼€å§‹æŸ¥æ‰¾æ‰€æœ‰æ‰©å±•åä¸º .log çš„æ–‡æœ¬æ–‡ä»¶ï¼Œå¹¶æ‰¾å‡ºåŒ…å« \u0026ldquo;ERROR\u0026rdquo; çš„è¡Œï¼š\n$ find / -type f -name \u0026#34;*.log\u0026#34; | xargs grep \u0026#34;ERROR\u0026#34; ä¾‹å­ï¼šä»å½“å‰ç›®å½•å¼€å§‹æŸ¥æ‰¾æ‰€æœ‰æ‰©å±•åä¸º .in çš„æ–‡æœ¬æ–‡ä»¶ï¼Œå¹¶æ‰¾å‡ºåŒ…å« \u0026ldquo;thermcontact\u0026rdquo; çš„è¡Œï¼š\n$ find . -name \u0026#34;*.in\u0026#34; | xargs grep \u0026#34;thermcontact\u0026#34; cat bat A cat(1) clone with wings.\næ·»åŠ äº†è¯­æ³•é«˜äº®å’Œ Git é›†æˆç­‰åŠŸèƒ½ï¼Œå¹¶ä¸”è¿˜æä¾›äº†åˆ†é¡µé€‰é¡¹ã€‚\nip linuxçš„ipå‘½ä»¤å’Œifconfigç±»ä¼¼ï¼Œä½†å‰è€…åŠŸèƒ½æ›´å¼ºå¤§ï¼Œå¹¶æ—¨åœ¨å–ä»£åè€…ã€‚ä½¿ç”¨ipå‘½ä»¤ï¼Œåªéœ€ä¸€ä¸ªå‘½ä»¤ï¼Œä½ å°±èƒ½å¾ˆè½»æ¾åœ°æ‰§è¡Œä¸€äº›ç½‘ç»œç®¡ç†ä»»åŠ¡ã€‚ifconfigæ˜¯net-toolsä¸­å·²è¢«åºŸå¼ƒä½¿ç”¨çš„ä¸€ä¸ªå‘½ä»¤ï¼Œè®¸å¤šå¹´å‰å°±å·²ç»æ²¡æœ‰ç»´æŠ¤äº†ã€‚iproute2å¥—ä»¶é‡Œæä¾›äº†è®¸å¤šå¢å¼ºåŠŸèƒ½çš„å‘½ä»¤ï¼Œipå‘½ä»¤å³æ˜¯å…¶ä¸­ä¹‹ä¸€ã€‚\nè®¾ç½®å’Œåˆ é™¤Ipåœ°å€ è¦ç»™ä½ çš„æœºå™¨è®¾ç½®ä¸€ä¸ªIPåœ°å€ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹åˆ—ipå‘½ä»¤ï¼š\n$ sudo ip addr add 192.168.0.193/24 dev wlan0 è¯·æ³¨æ„IPåœ°å€è¦æœ‰ä¸€ä¸ªåç¼€ï¼Œæ¯”å¦‚/24ã€‚è¿™ç§ç”¨æ³•ç”¨äºåœ¨æ— ç±»åŸŸå†…è·¯ç”±é€‰æ‹©ï¼ˆCIDRï¼‰ä¸­æ¥æ˜¾ç¤ºæ‰€ç”¨çš„å­ç½‘æ©ç ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå­ç½‘æ©ç æ˜¯255.255.255.0ã€‚\nåœ¨ä½ æŒ‰ç…§ä¸Šè¿°æ–¹å¼è®¾ç½®å¥½IPåœ°å€åï¼Œéœ€è¦æŸ¥çœ‹æ˜¯å¦å·²ç»ç”Ÿæ•ˆã€‚\n$ ip addr show wlan0 ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨ç›¸åŒçš„æ–¹å¼æ¥åˆ é™¤IPåœ°å€ï¼Œåªéœ€ç”¨delä»£æ›¿addã€‚\n$ sudo ip addr del 192.168.0.193/24 dev wlan0 åˆ—å‡ºè·¯ç”±è¡¨æ¡ç›® ipå‘½ä»¤çš„è·¯ç”±å¯¹è±¡çš„å‚æ•°è¿˜å¯ä»¥å¸®åŠ©ä½ æŸ¥çœ‹ç½‘ç»œä¸­çš„è·¯ç”±æ•°æ®ï¼Œå¹¶è®¾ç½®ä½ çš„è·¯ç”±è¡¨ã€‚ç¬¬ä¸€ä¸ªæ¡ç›®æ˜¯é»˜è®¤çš„è·¯ç”±æ¡ç›®ï¼Œä½ å¯ä»¥éšæ„æ”¹åŠ¨å®ƒã€‚\nåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæœ‰å‡ ä¸ªè·¯ç”±æ¡ç›®ã€‚è¿™ä¸ªç»“æœæ˜¾ç¤ºæœ‰å‡ ä¸ªè®¾å¤‡é€šè¿‡ä¸åŒçš„ç½‘ç»œæ¥å£è¿æ¥èµ·æ¥ã€‚å®ƒä»¬åŒ…æ‹¬WIFIã€ä»¥å¤ªç½‘å’Œä¸€ä¸ªç‚¹å¯¹ç‚¹è¿æ¥ã€‚\n$ ip route show å‡è®¾ç°åœ¨ä½ æœ‰ä¸€ä¸ªIPåœ°å€ï¼Œä½ éœ€è¦çŸ¥é“è·¯ç”±åŒ…ä»å“ªé‡Œæ¥ã€‚å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„è·¯ç”±é€‰é¡¹ï¼ˆè¯‘æ³¨ï¼šåˆ—å‡ºäº†è·¯ç”±æ‰€ä½¿ç”¨çš„æ¥å£ç­‰ï¼‰ï¼š\n$ ip route get 10.42.0.47 æ›´æ”¹é»˜è®¤è·¯ç”± è¦æ›´æ”¹é»˜è®¤è·¯ç”±ï¼Œä½¿ç”¨ä¸‹é¢ipå‘½ä»¤ï¼š\n$ sudo ip route add default via 192.168.0.196 æ˜¾ç¤ºç½‘ç»œç»Ÿè®¡æ•°æ® ä½¿ç”¨ipå‘½ä»¤è¿˜å¯ä»¥æ˜¾ç¤ºä¸åŒç½‘ç»œæ¥å£çš„ç»Ÿè®¡æ•°æ®ã€‚\nå½“ä½ éœ€è¦è·å–ä¸€ä¸ªç‰¹å®šç½‘ç»œæ¥å£çš„ä¿¡æ¯æ—¶ï¼Œåœ¨ç½‘ç»œæ¥å£åå­—åé¢æ·»åŠ é€‰é¡¹lså³å¯ã€‚ä½¿ç”¨å¤šä¸ªé€‰é¡¹**-s**ä¼šç»™ä½ è¿™ä¸ªç‰¹å®šæ¥å£æ›´è¯¦ç»†çš„ä¿¡æ¯ã€‚ç‰¹åˆ«æ˜¯åœ¨æ’é™¤ç½‘ç»œè¿æ¥æ•…éšœæ—¶ï¼Œè¿™ä¼šéå¸¸æœ‰ç”¨ã€‚\n$ ip -s -s link ls p2p1 ARPæ¡ç›® åœ°å€è§£æåè®®ï¼ˆARPï¼‰ç”¨äºå°†ä¸€ä¸ªIPåœ°å€è½¬æ¢æˆå®ƒå¯¹åº”çš„ç‰©ç†åœ°å€ï¼Œä¹Ÿå°±æ˜¯é€šå¸¸æ‰€è¯´çš„MACåœ°å€ã€‚ä½¿ç”¨ipå‘½ä»¤çš„neighæˆ–è€…neighbouré€‰é¡¹ï¼Œä½ å¯ä»¥æŸ¥çœ‹æ¥å…¥ä½ æ‰€åœ¨çš„å±€åŸŸç½‘çš„è®¾å¤‡çš„MACåœ°å€ã€‚\n$ ip neighbour ç›‘æ§netlinkæ¶ˆæ¯ ä¹Ÿå¯ä»¥ä½¿ç”¨ipå‘½ä»¤æŸ¥çœ‹netlinkæ¶ˆæ¯ã€‚monitoré€‰é¡¹å…è®¸ä½ æŸ¥çœ‹ç½‘ç»œè®¾å¤‡çš„çŠ¶æ€ã€‚æ¯”å¦‚ï¼Œæ‰€åœ¨å±€åŸŸç½‘çš„ä¸€å°ç”µè„‘æ ¹æ®å®ƒçš„çŠ¶æ€å¯ä»¥è¢«åˆ†ç±»æˆREACHABLEæˆ–è€…STALEã€‚ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š\n$ ip monitor all æ¿€æ´»å’Œåœæ­¢ç½‘ç»œæ¥å£ ä½ å¯ä»¥ä½¿ç”¨ipå‘½ä»¤çš„upå’Œdowné€‰é¡¹æ¥æ¿€æŸä¸ªç‰¹å®šçš„æ¥å£ï¼Œå°±åƒifconfigçš„ç”¨æ³•ä¸€æ ·ã€‚\nåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œå½“ppp0æ¥å£è¢«æ¿€æ´»å’Œåœ¨å®ƒè¢«åœæ­¢å’Œå†æ¬¡æ¿€æ´»ä¹‹åï¼Œä½ å¯ä»¥çœ‹åˆ°ç›¸åº”çš„è·¯ç”±è¡¨æ¡ç›®ã€‚è¿™ä¸ªæ¥å£å¯èƒ½æ˜¯wlan0æˆ–è€…eth0ã€‚å°†ppp0æ›´æ”¹ä¸ºä½ å¯ç”¨çš„ä»»æ„æ¥å£å³å¯ã€‚\n$ sudo ip link set ppp0 down $ sudo ip link set ppp0 up è·å–å¸®åŠ© å½“ä½ é™·å…¥å›°å¢ƒï¼Œä¸çŸ¥é“æŸä¸€ä¸ªç‰¹å®šçš„é€‰é¡¹æ€ä¹ˆç”¨çš„æ—¶å€™ï¼Œä½ å¯ä»¥ä½¿ç”¨helpé€‰é¡¹ã€‚mané¡µé¢å¹¶ä¸ä¼šæä¾›è®¸å¤šå…³äºå¦‚ä½•ä½¿ç”¨ipé€‰é¡¹çš„ä¿¡æ¯ï¼Œå› æ­¤è¿™é‡Œå°±æ˜¯è·å–å¸®åŠ©çš„åœ°æ–¹ã€‚\næ¯”å¦‚ï¼Œæƒ³çŸ¥é“å…³äºrouteé€‰é¡¹æ›´å¤šçš„ä¿¡æ¯ï¼š\n$ ip route help å°ç»“ å¯¹äºç½‘ç»œç®¡ç†å‘˜ä»¬å’Œæ‰€æœ‰çš„Linuxä½¿ç”¨è€…ä»¬ï¼Œipå‘½ä»¤æ˜¯å¿…å¤‡å·¥å…·ã€‚æ˜¯æ—¶å€™æŠ›å¼ƒifconfigå‘½ä»¤äº†ï¼Œç‰¹åˆ«æ˜¯å½“ä½ å†™è„šæœ¬æ—¶ã€‚\ndig ä½¿ç”¨ dig æ¥è¿›è¡Œ DNS æŸ¥è¯¢ã€‚\nå‚æ•°ç±»å‹ï¼šæŸ¥è¯¢å’Œæ ¼å¼åŒ– æœ‰ä¸¤ç§ä¸»è¦çš„å‚æ•°å¯ä»¥ä¼ é€’ç»™ digï¼š\n å‘Šè¯‰ dig è¦è¿›è¡Œä»€ä¹ˆ DNS æŸ¥è¯¢çš„å‚æ•°ã€‚ å‘Šè¯‰ dig å¦‚ä½• æ ¼å¼åŒ–å“åº”çš„å‚æ•°ã€‚  é¦–å…ˆï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹æŸ¥è¯¢é€‰é¡¹ã€‚\nä¸»è¦çš„æŸ¥è¯¢é€‰é¡¹ ä½ é€šå¸¸æƒ³æ§åˆ¶ DNS æŸ¥è¯¢çš„ 3 ä»¶äº‹æ˜¯ï¼š\n åç§°ï¼ˆå¦‚ jvns.caï¼‰ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒæŸ¥è¯¢çš„æ˜¯ç©ºåç§°ï¼ˆ.ï¼‰ã€‚ DNS æŸ¥è¯¢ç±»å‹ï¼ˆå¦‚ A æˆ– CNAMEï¼‰ã€‚é»˜è®¤æ˜¯ Aã€‚ å‘é€æŸ¥è¯¢çš„ æœåŠ¡å™¨ï¼ˆå¦‚ 8.8.8.8ï¼‰ã€‚é»˜è®¤æ˜¯ /etc/resolv.conf ä¸­çš„å†…å®¹ã€‚  å…¶æ ¼å¼æ˜¯ï¼š\ndig @server name type è¿™é‡Œæœ‰å‡ ä¸ªä¾‹å­ï¼š\n dig @8.8.8.8 jvns.ca å‘è°·æ­Œçš„å…¬å…± DNS æœåŠ¡å™¨ï¼ˆ8.8.8.8ï¼‰æŸ¥è¯¢ jvns.caã€‚ dig ns jvns.ca å¯¹ jvns.ca è¿›è¡Œç±»å‹ä¸º NS çš„æŸ¥è¯¢ã€‚  -xï¼šè¿›è¡Œåå‘ DNS æŸ¥è¯¢\næˆ‘å¶å°”ä½¿ç”¨çš„å¦ä¸€ä¸ªæŸ¥è¯¢é€‰é¡¹æ˜¯ -xï¼Œç”¨äºè¿›è¡Œåå‘ DNS æŸ¥è¯¢ã€‚ä¸‹é¢æ˜¯è¾“å‡ºç»“æœçš„æ ·å­ã€‚\n$ dig -x 172.217.13.174 174.13.217.172.in-addr.arpa. 72888 IN PTR yul03s04-in-f14.1e100.netã€‚ -x ä¸æ˜¯é­”æœ¯ã€‚dig -x 172.217.13.174 åªæ˜¯å¯¹ 174.13.217.172.in-addr.arpa. åšäº†ä¸€ä¸ª PTR æŸ¥è¯¢ã€‚ä¸‹é¢æ˜¯å¦‚ä½•åœ¨ä¸ä½¿ç”¨ `-xâ€™ çš„æƒ…å†µä¸‹è¿›è¡Œå®Œå…¨ç›¸åŒçš„åå‘ DNS æŸ¥è¯¢ã€‚\n$ dig ptr 174.13.217.172.in-addr.arpa. 174.13.217.172.in-addr.arpa. 72888 IN PTR yul03s04-in-f14.1e100.netã€‚ æˆ‘æ€»æ˜¯ä½¿ç”¨ -xï¼Œå› ä¸ºå®ƒå¯ä»¥å‡å°‘è¾“å…¥ã€‚\nDNSåå‘æŸ¥è¯¢å¤§æ¦‚çš„ä¸€ä¸ªå®šä¹‰å°±æ˜¯ï¼š\nä» IP åœ°å€è·å– PTR è®°å½•ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé€šè¿‡ä½¿ç”¨ä¸€äº›ç½‘ç»œå·¥å…·å¯ä»¥å°† IP åœ°å€è½¬æ¢ä¸ºä¸»æœºåã€‚ å®é™…ä¸Šï¼ŒPRT ä»£è¡¨ POINTERï¼Œåœ¨ DNS ç³»ç»Ÿæœ‰å”¯ä¸€æ€§ï¼Œå°† IP åœ°å€ä¸è§„èŒƒåŒ–çš„ä¸»æœºåè”ç³»èµ·æ¥ã€‚PTR è®°å½•å…¶å®æ˜¯ NDS ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ï¼Œä½†æ˜¯ç”±ä¸“é—¨çš„åŒºåŸŸæ–‡ä»¶ç»„æˆçš„ï¼Œä½¿ç”¨çš„æ˜¯ä¼ ç»Ÿçš„ in-addr.arpa æ ¼å¼ã€‚\næ ¼å¼åŒ–å“åº”çš„é€‰é¡¹ ç°åœ¨ï¼Œè®©æˆ‘ä»¬è®¨è®ºä¸€ä¸‹ä½ å¯ä»¥ç”¨æ¥æ ¼å¼åŒ–å“åº”çš„å‚æ•°ã€‚\næˆ‘å‘ç° dig é»˜è®¤æ ¼å¼åŒ– DNS å“åº”çš„æ–¹å¼å¯¹åˆå­¦è€…æ¥è¯´æ˜¯å¾ˆéš¾æ¥å—çš„ã€‚ä¸‹é¢æ˜¯è¾“å‡ºç»“æœçš„æ ·å­ï¼š\n; \u0026lt;\u0026lt;\u0026gt;\u0026gt; DiG 9.16.20 \u0026lt;\u0026lt;\u0026gt;\u0026gt; -r jvns.ca ;; global options: +cmd ;; Got answer: ;; -\u0026gt;\u0026gt;HEADER\u0026lt;\u0026lt;- opcode: QUERY, status: NOERROR, id: 28629 ;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1 ;; OPT PSEUDOSECTION: ; EDNS: version: 0, flags:; udp: 4096 ; COOKIE: d87fc3022c0604d60100000061ab74857110b908b274494d (good) ;; QUESTION SECTION: ;jvns.ca. IN A ;; ANSWER SECTION: jvns.ca. 276 IN A 172.64.80.1 ;; Query time: 9 msec ;; SERVER: 192.168.1.1#53(192.168.1.1) ;; WHEN: Sat Dec 04 09:00:37 EST 2021 ;; MSG SIZE rcvd: 80 å¦‚æœä½ ä¸ä¹ æƒ¯çœ‹è¿™ä¸ªï¼Œä½ å¯èƒ½éœ€è¦èŠ±ç‚¹æ—¶é—´æ¥ç­›é€‰ï¼Œæ‰¾åˆ°ä½ è¦æ‰¾çš„ IP åœ°å€ã€‚è€Œä¸”å¤§å¤šæ•°æ—¶å€™ï¼Œä½ åªå¯¹è¿™ä¸ªå“åº”ä¸­çš„ä¸€è¡Œæ„Ÿå…´è¶£ï¼ˆjvns.ca. 180 IN A 172.64.80.1ï¼‰ã€‚\nä¸‹é¢æ˜¯æˆ‘æœ€å–œæ¬¢çš„ä¸¤ç§æ–¹æ³•ï¼Œå¯ä»¥ä½¿ dig çš„è¾“å‡ºæ›´å®¹æ˜“ç®¡ç†ï¼š\næ–¹å¼ 1 : +noall +answer\nè¿™å‘Šè¯‰ dig åªæ‰“å° DNS å“åº”ä¸­çš„â€œç­”æ¡ˆâ€éƒ¨åˆ†çš„å†…å®¹ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªæŸ¥è¯¢ google.com çš„ NS è®°å½•çš„ä¾‹å­ï¼š\n$ dig +noall +answer ns google.com google.com. 158564 IN NS ns4.google.com. google.com. 158564 IN NS ns1.google.com. google.com. 158564 IN NS ns2.google.com. google.com. 158564 IN NS ns3.google.com. è¿™é‡Œçš„æ ¼å¼æ˜¯ï¼š\nNAME TTL TYPE CONTENT google.com 158564 IN NS ns3.google.com. é¡ºä¾¿è¯´ä¸€ä¸‹ï¼šå¦‚æœä½ æ›¾ç»æƒ³çŸ¥é“ IN æ˜¯ä»€ä¹ˆæ„æ€ï¼Œå®ƒæ˜¯æŒ‡â€œæŸ¥è¯¢ç±»â€ï¼Œä»£è¡¨â€œäº’è”ç½‘internetâ€ã€‚å®ƒåŸºæœ¬ä¸Šåªæ˜¯ä¸Šä¸–çºª 80ã€90 å¹´ä»£çš„é—ç‰©ï¼Œå½“æ—¶è¿˜æœ‰å…¶ä»–ç½‘ç»œä¸äº’è”ç½‘ç«äº‰ï¼Œå¦‚â€œæ··æ²Œç½‘ç»œchaosnetâ€ã€‚\næ–¹å¼ 2ï¼š+short\nè¿™å°±åƒ dig +noall +answerï¼Œä½†æ›´çŸ­ï¼šå®ƒåªæ˜¾ç¤ºæ¯æ¡è®°å½•çš„å†…å®¹ã€‚æ¯”å¦‚è¯´ï¼š\n$ dig +short ns google.com ns2.google.com. ns1.google.com. ns4.google.com. ns3.google.com. digrc å¦‚æœä½ ä¸å–œæ¬¢ dig çš„é»˜è®¤æ ¼å¼ï¼ˆæˆ‘å°±ä¸å–œæ¬¢ï¼ï¼‰ï¼Œä½ å¯ä»¥åœ¨ä½ çš„ä¸»ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª .digrc æ–‡ä»¶ï¼Œå‘Šè¯‰å®ƒé»˜è®¤ä½¿ç”¨ä¸åŒçš„æ ¼å¼ã€‚\næˆ‘éå¸¸å–œæ¬¢ +noall +answer æ ¼å¼ï¼Œæ‰€ä»¥æˆ‘æŠŠ +noall +answer æ”¾åœ¨æˆ‘çš„ ~/.digrc ä¸­ã€‚ä¸‹é¢æ˜¯æˆ‘ä½¿ç”¨è¯¥é…ç½®æ–‡ä»¶è¿è¡Œ dig jvns.ca æ—¶çš„æƒ…å†µã€‚\n$ dig jvns.ca jvns.ca. 255åœ¨172.64.80.1ä¸­ è¿™æ ·è¯»èµ·æ¥å°±å®¹æ˜“å¤šäº†ï¼\nå¦‚æœæˆ‘æƒ³å›åˆ°æ‰€æœ‰è¾“å‡ºçš„é•¿æ ¼å¼ï¼ˆæˆ‘æœ‰æ—¶ä¼šè¿™æ ·åšï¼Œé€šå¸¸æ˜¯å› ä¸ºæˆ‘æƒ³çœ‹å“åº”çš„æƒå¨éƒ¨åˆ†çš„è®°å½•ï¼‰ï¼Œæˆ‘å¯ä»¥é€šè¿‡è¿è¡Œå†æ¬¡å¾—åˆ°ä¸€ä¸ªé•¿ç­”æ¡ˆã€‚\n$ dig +all jvns.ca dig +trace æˆ‘ä½¿ç”¨çš„æœ€åä¸€ä¸ª dig é€‰é¡¹æ˜¯ +traceã€‚dig +trace æ¨¡ä»¿ DNS è§£æå™¨åœ¨æŸ¥æ‰¾åŸŸåæ—¶çš„åšæ³• â€”â€” å®ƒä»æ ¹åŸŸåæœåŠ¡å™¨å¼€å§‹ï¼Œç„¶åæŸ¥è¯¢ä¸‹ä¸€çº§åŸŸåæœåŠ¡å™¨ï¼ˆå¦‚ .comï¼‰ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°åˆ°è¾¾è¯¥åŸŸåçš„æƒå¨åŸŸåæœåŠ¡å™¨ã€‚å› æ­¤ï¼Œå®ƒå°†è¿›è¡Œå¤§çº¦ 30 æ¬¡ DNS æŸ¥è¯¢ã€‚ï¼ˆæˆ‘ç”¨ tcpdump æ£€æŸ¥äº†ä¸€ä¸‹ï¼Œå¯¹äºæ¯ä¸ªæ ¹åŸŸåæœåŠ¡å™¨çš„ A / AAAA è®°å½•å®ƒä¼¼ä¹è¦è¿›è¡Œ 2 æ¬¡æŸ¥è¯¢ï¼Œæ‰€ä»¥è¿™å·²ç»æ˜¯ 26 æ¬¡æŸ¥è¯¢äº†ã€‚æˆ‘ä¸å¤ªæ¸…æ¥šå®ƒä¸ºä»€ä¹ˆè¿™æ ·åšï¼Œå› ä¸ºå®ƒåº”è¯¥å·²ç»æœ‰äº†è¿™äº› IP çš„ç¡¬ç¼–ç ï¼Œä½†å®ƒç¡®å®å¦‚æ­¤ã€‚ï¼‰\næˆ‘å‘ç°è¿™å¯¹äº†è§£ DNS çš„å·¥ä½œåŸç†å¾ˆæœ‰ç”¨ï¼Œä½†æˆ‘ä¸è®¤ä¸ºæˆ‘ç”¨å®ƒè§£å†³è¿‡é—®é¢˜ã€‚\nä¸ºä»€ä¹ˆè¦ç”¨ dig å°½ç®¡æœ‰ä¸€äº›æ›´ç®€å•çš„å·¥å…·æ¥è¿›è¡Œ DNS æŸ¥è¯¢ï¼ˆå¦‚ dog å’Œ hostï¼‰ï¼Œæˆ‘å‘ç°è‡ªå·±è¿˜æ˜¯åšæŒä½¿ç”¨ digã€‚\næˆ‘å–œæ¬¢ dig çš„åœ°æ–¹å®é™…ä¸Šä¹Ÿæ˜¯æˆ‘ ä¸å–œæ¬¢ dig çš„åœ°æ–¹ â€”â€” å®ƒæ˜¾ç¤ºäº†å¤§é‡çš„ç»†èŠ‚ï¼\næˆ‘çŸ¥é“ï¼Œå¦‚æœæˆ‘è¿è¡Œ dig +allï¼Œå®ƒå°†æ˜¾ç¤º DNS å“åº”çš„æ‰€æœ‰éƒ¨åˆ†ã€‚ä¾‹å¦‚ï¼Œè®©æˆ‘ä»¬æŸ¥è¯¢ jvns.ca çš„ä¸€ä¸ªæ ¹åç§°æœåŠ¡å™¨ã€‚å“åº”æœ‰ 3 ä¸ªéƒ¨åˆ†ï¼Œæˆ‘å¯èƒ½ä¼šå…³å¿ƒï¼šå›ç­”éƒ¨åˆ†ã€æƒå¨éƒ¨åˆ†å’Œé™„åŠ éƒ¨åˆ†ã€‚\n$ dig @h.root-servers.net. jvns.ca +all ;; Got answer: ;; -\u0026gt;\u0026gt;HEADER\u0026lt;\u0026lt;- opcode: QUERY, status: NOERROR, id: 18229 ;; flags: qr rd; QUERY: 1, ANSWER: 0, AUTHORITY: 4, ADDITIONAL: 9 ;; WARNING: recursion requested but not available ;; OPT PSEUDOSECTION: ; EDNS: version: 0, flags:; udp: 1232 ;; QUESTION SECTION: ;jvns.ca. IN A ;; AUTHORITY SECTION: ca. 172800 IN NS c.ca-servers.ca. ca. 172800 IN NS j.ca-servers.ca. ca. 172800 IN NS x.ca-servers.ca. ca. 172800 IN NS any.ca-servers.ca. ;; ADDITIONAL SECTION: c.ca-servers.ca. 172800 IN A 185.159.196.2 j.ca-servers.ca. 172800 IN A 198.182.167.1 x.ca-servers.ca. 172800 IN A 199.253.250.68 any.ca-servers.ca. 172800 IN A 199.4.144.2 c.ca-servers.ca. 172800 IN AAAA 2620:10a:8053::2 j.ca-servers.ca. 172800 IN AAAA 2001:500:83::1 x.ca-servers.ca. 172800 IN AAAA 2620:10a:80ba::68 any.ca-servers.ca. 172800 IN AAAA 2001:500:a7::2 ;; Query time: 103 msec ;; SERVER: 198.97.190.53#53(198.97.190.53) ;; WHEN: Sat Dec 04 11:23:32 EST 2021 ;; MSG SIZE rcvd: 289 dog ä¹Ÿæ˜¾ç¤ºäº† â€œé™„åŠ â€ éƒ¨åˆ†çš„è®°å½•ï¼Œä½†å®ƒæ²¡æœ‰æ˜ç¡®æŒ‡å‡ºå“ªä¸ªæ˜¯å“ªä¸ªï¼ˆæˆ‘çŒœ + æ„å‘³ç€å®ƒåœ¨é™„åŠ éƒ¨åˆ†ï¼Ÿï¼‰ ï¼Œä½†å®ƒä¼¼ä¹æ²¡æœ‰æ˜¾ç¤ºâ€œæƒå¨â€éƒ¨åˆ†çš„è®°å½•ã€‚\n$ dog @h.root-servers.net. jvns.ca NS ca. 2d0h00m00s A \u0026#34;c.ca-servers.ca.\u0026#34; NS ca. 2d0h00m00s A \u0026#34;j.ca-servers.ca.\u0026#34; NS ca. 2d0h00m00s A \u0026#34;x.ca-servers.ca.\u0026#34; NS ca. 2d0h00m00s A \u0026#34;any.ca-servers.ca.\u0026#34; A c.ca-servers.ca. 2d0h00m00s + 185.159.196.2 A j.ca-servers.ca. 2d0h00m00s + 198.182.167.1 A x.ca-servers.ca. 2d0h00m00s + 199.253.250.68 A any.ca-servers.ca. 2d0h00m00s + 199.4.144.2 AAAA c.ca-servers.ca. 2d0h00m00s + 2620:10a:8053::2 AAAA j.ca-servers.ca. 2d0h00m00s + 2001:500:83::1 AAAA x.ca-servers.ca. 2d0h00m00s + 2620:10a:80ba::68 AAAA any.ca-servers.ca. 2d0h00m00s + 2001:500:a7::2 è€Œ host ä¼¼ä¹åªæ˜¾ç¤ºâ€œç­”æ¡ˆâ€éƒ¨åˆ†çš„è®°å½•ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹æ²¡æœ‰å¾—åˆ°è®°å½•ï¼‰ï¼š\n$ host jvns.ca h.root-servers.net Using domain server: Name: h.root-servers.net Address: 198.97.190.53#53 Aliases: æ€»ä¹‹ï¼Œæˆ‘è®¤ä¸ºè¿™äº›æ›´ç®€å•çš„ DNS å·¥å…·å¾ˆå¥½ï¼ˆæˆ‘ç”šè‡³è‡ªå·±åšäº†ä¸€ä¸ª ç®€å•çš„ç½‘ç»œ DNS å·¥å…·ï¼‰ï¼Œå¦‚æœä½ è§‰å¾—å®ƒä»¬æ›´å®¹æ˜“ï¼Œä½ ç»å¯¹åº”è¯¥ä½¿ç”¨å®ƒä»¬ï¼Œä½†è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘åšæŒä½¿ç”¨ dig çš„åŸå› ã€‚drill çš„è¾“å‡ºæ ¼å¼ä¼¼ä¹ä¸ dig çš„éå¸¸ç›¸ä¼¼ï¼Œä¹Ÿè®¸ drill æ›´å¥½ï¼ä½†æˆ‘è¿˜æ²¡æœ‰çœŸæ­£è¯•è¿‡å®ƒã€‚\nSamba Samba æ˜¯ SMB/CIFS ç½‘ç»œåè®®çš„é‡æ–°å®ç°, å¯ä»¥åœ¨ Linux å’Œ Windows ç³»ç»Ÿé—´è¿›è¡Œæ–‡ä»¶ã€æ‰“å°æœºå…±äº«ï¼Œå’Œ NFS çš„åŠŸèƒ½ç±»ä¼¼ã€‚\nå®‰è£… $ sudo apt install samba $ sudo systemctl enable --now smbd.service Samba æœåŠ¡çš„é…ç½®æ–‡ä»¶æ˜¯ /etc/samba/smb.confï¼Œsmb.conf(5)æä¾›äº†è¯¦ç»†çš„æ–‡æ¡£ã€‚\nå¦‚æœä½¿ç”¨äº† é˜²ç«å¢™ï¼Œè¯·è®°å¾—æ‰“å¼€éœ€è¦çš„ç«¯å£(é€šå¸¸æ˜¯ 137-139 + 445)ã€‚å®Œæ•´åˆ—è¡¨è¯·æŸ¥çœ‹ Samba ç«¯å£ä½¿ç”¨ã€‚\nåˆ›å»ºå…±äº« åˆ›å»ºçš„ç›®å½•å³ä¹‹åèƒ½å¤Ÿåœ¨Windowsä¸»æœºä¸Šç›´æ¥è®¿é—®çš„ç›®å½•ã€‚ä¾‹å¦‚ï¼šåœ¨ç”¨æˆ·samba_userçš„ä¸»ç›®å½•ä¸‹æ–°å»ºshareæ–‡ä»¶å¤¹ä¸ºå…±äº«ç›®å½•ï¼Œç”±äºWindowsä¸‹çš„æ–‡ä»¶å¤¹éœ€å¯è¯»å¯å†™å¯æ‰§è¡Œï¼Œéœ€æ›´æ”¹æƒé™ä¸º777\n$ mkdir /home/samba_user/smbshare $ sudo chmod 777 /home/samba_user/smbshare ä¿®æ”¹ /etc/samba/smb.confï¼Œåœ¨smb.confæ–‡ä»¶æœ€ååŠ ä¸Šä»¥ä¸‹å†…å®¹\n$ sudo vim /etc/samba/smb.conf [share] path = /home/samba_user/smbshare public = yes writable = yes valid users = samba_user create mask = 0644 force create mode = 0644 directory mask = 0755 force directory mode = 0755 available = yes  [share]è¡¨ç¤ºå…±äº«æ–‡ä»¶å¤¹çš„åˆ«åï¼Œä¹‹åå°†ç›´æ¥ä½¿ç”¨è¿™ä¸ªåˆ«å force create mode ä¸ force directory modeçš„è®¾ç½®æ˜¯å› ä¸ºWindowsä¸‹ä¸Linuxä¸‹æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„é»˜è®¤æƒé™ä¸åŒé€ æˆçš„ï¼ŒWindowsä¸‹æ–°å»ºçš„æ–‡ä»¶æ˜¯å¯æ‰§è¡Œçš„ï¼Œå¿…é¡»å¼ºåˆ¶è®¾å®šå…¶æ–‡ä»¶æƒé™ã€‚ valid users è®¾ç½®ä¸ºä½ å½“å‰çš„Linuxç”¨æˆ·åï¼Œä¾‹å¦‚æˆ‘çš„æ˜¯samba_userï¼Œå› ä¸ºç¬¬ä¸€æ¬¡æ‰“å¼€å…±äº«æ–‡ä»¶å¤¹æ—¶ï¼Œéœ€è¦éªŒè¯æƒé™ã€‚  ç”¨æˆ·ç®¡ç† Samba éœ€è¦ Linux è´¦æˆ·æ‰èƒ½ä½¿ç”¨ - å¯ä»¥ä½¿ç”¨å·²æœ‰è´¦æˆ·æˆ–åˆ›å»ºæ–°ç”¨æˆ·ã€‚\nè™½ç„¶ç”¨æˆ·åå¯ä»¥å’Œ Linux ç³»ç»Ÿå…±äº«ï¼ŒSamba ä½¿ç”¨å•ç‹¬çš„å¯†ç ç®¡ç†ï¼Œå°†ä¸‹é¢çš„ samba_user æ›¿æ¢ä¸ºä¸Šé¢è®¾ç½®çš„ valid users:\n$ sudo smbpasswd -a samba_user æ ¹æ®æœåŠ¡å™¨è§’è‰²çš„å·®å¼‚ï¼Œå¯èƒ½éœ€è¦ä¿®æ”¹å·²æœ‰çš„æ–‡ä»¶æƒé™å’Œå±æ€§ã€‚\nWhich is faster-Samba or scp? Depends on the machines. Machines with really fast CPU may do SCP or SFTP faster.\nOtherwise, Samba will probably be faster because it doesn\u0026rsquo;t have to encrypt.\nsudo ç®€å•çš„è¯´ï¼Œsudo æ˜¯ä¸€ç§æƒé™ç®¡ç†æœºåˆ¶ï¼Œç®¡ç†å‘˜å¯ä»¥æˆæƒäºä¸€äº›æ™®é€šç”¨æˆ·å»æ‰§è¡Œä¸€äº› root æ‰§è¡Œçš„æ“ä½œï¼Œè€Œä¸éœ€è¦çŸ¥é“ root çš„å¯†ç ã€‚\nä¸¥è°¨äº›è¯´ï¼Œsudo å…è®¸ä¸€ä¸ªå·²æˆæƒç”¨æˆ·ä»¥è¶…çº§ç”¨æˆ·æˆ–è€…å…¶å®ƒç”¨æˆ·çš„è§’è‰²è¿è¡Œä¸€ä¸ªå‘½ä»¤ã€‚å½“ç„¶ï¼Œèƒ½åšä»€ä¹ˆä¸èƒ½åšä»€ä¹ˆéƒ½æ˜¯é€šè¿‡å®‰å…¨ç­–ç•¥æ¥æŒ‡å®šçš„ã€‚sudo æ”¯æŒæ’ä»¶æ¶æ„çš„å®‰å…¨ç­–ç•¥ï¼Œå¹¶èƒ½æŠŠè¾“å…¥è¾“å‡ºå†™å…¥æ—¥å¿—ã€‚ç¬¬ä¸‰æ–¹å¯ä»¥å¼€å‘å¹¶å‘å¸ƒè‡ªå·±çš„å®‰å…¨ç­–ç•¥å’Œè¾“å…¥è¾“å‡ºæ—¥å¿—æ’ä»¶ï¼Œå¹¶è®©å®ƒä»¬æ— ç¼çš„å’Œ sudo ä¸€èµ·å·¥ä½œã€‚é»˜è®¤çš„å®‰å…¨ç­–ç•¥è®°å½•åœ¨ /etc/sudoers æ–‡ä»¶ä¸­ã€‚è€Œå®‰å…¨ç­–ç•¥å¯èƒ½éœ€è¦ç”¨æˆ·é€šè¿‡å¯†ç æ¥éªŒè¯ä»–ä»¬è‡ªå·±ã€‚ä¹Ÿå°±æ˜¯åœ¨ç”¨æˆ·æ‰§è¡Œ sudo å‘½ä»¤æ—¶è¦æ±‚ç”¨æˆ·è¾“å…¥è‡ªå·±è´¦å·çš„å¯†ç ã€‚å¦‚æœéªŒè¯å¤±è´¥ï¼Œsudo å‘½ä»¤å°†ä¼šé€€å‡ºã€‚\nå‘½ä»¤è¯­æ³• $ sudo [-bhHpV][-s ][-u \u0026lt;ç”¨æˆ·\u0026gt;][æŒ‡ä»¤] $ sudo [-klv] å‚æ•°ï¼š\n -b åœ¨åå°æ‰§è¡ŒæŒ‡ä»¤ã€‚ -h æ˜¾ç¤ºå¸®åŠ©ã€‚ -H å°†HOMEç¯å¢ƒå˜é‡è®¾ä¸ºæ–°èº«ä»½çš„HOMEç¯å¢ƒå˜é‡ã€‚ -k ç»“æŸå¯†ç çš„æœ‰æ•ˆæœŸé™ï¼Œä¹Ÿå°±æ˜¯ä¸‹æ¬¡å†æ‰§è¡Œsudoæ—¶ä¾¿éœ€è¦è¾“å…¥å¯†ç ã€‚ -l åˆ—å‡ºç›®å‰ç”¨æˆ·å¯æ‰§è¡Œä¸æ— æ³•æ‰§è¡Œçš„æŒ‡ä»¤ã€‚ -p æ”¹å˜è¯¢é—®å¯†ç çš„æç¤ºç¬¦å·ã€‚ -s æ‰§è¡ŒæŒ‡å®šçš„shellã€‚ -u \u0026lt;ç”¨æˆ·\u0026gt; ä»¥æŒ‡å®šçš„ç”¨æˆ·ä½œä¸ºæ–°çš„èº«ä»½ã€‚è‹¥ä¸åŠ ä¸Šæ­¤å‚æ•°ï¼Œåˆ™é¢„è®¾ä»¥rootä½œä¸ºæ–°çš„èº«ä»½ã€‚ -v å»¶é•¿å¯†ç æœ‰æ•ˆæœŸé™5åˆ†é’Ÿã€‚ -V æ˜¾ç¤ºç‰ˆæœ¬ä¿¡æ¯ã€‚ -S ä»æ ‡å‡†è¾“å…¥æµæ›¿ä»£ç»ˆç«¯æ¥è·å–å¯†ç   åŸºæœ¬é…ç½® ç³»ç»Ÿé»˜è®¤åˆ›å»ºäº†ä¸€ä¸ªåä¸º sudo çš„ç»„ã€‚åªè¦æŠŠç”¨æˆ·åŠ å…¥è¿™ä¸ªç»„ï¼Œç”¨æˆ·å°±å…·æœ‰äº† sudo çš„æƒé™ã€‚\nè‡³äºå¦‚ä½•æŠŠç”¨æˆ·åŠ å…¥ sudo ç»„ï¼Œæ‚¨å¯ä»¥ç›´æ¥ç¼–è¾‘ /etc/group æ–‡ä»¶ï¼Œå½“ç„¶æ‚¨å¾—ä½¿ç”¨ä¸€ä¸ªæœ‰ sudo æƒé™çš„ç”¨æˆ·æ¥å¹²è¿™ä»¶ï¼Œåœ¨ sudo ç»„ä¸­åŠ å…¥æ–°çš„ç”¨æˆ·ï¼Œè¦ä½¿ç”¨é€—å·åˆ†éš”å¤šä¸ªç”¨æˆ·ã€‚\næˆ–è€…æ‚¨å¯ä»¥ä½¿ç”¨ usermod å‘½ä»¤æŠŠç”¨æˆ·æ·»åŠ åˆ°ä¸€ä¸ªç»„ä¸­ï¼š\n$ sudo usermod -a -G sudo jack ä¸Šé¢çš„è®¾ç½®ä¸­æˆ‘ä»¬æŠŠç”¨æˆ· jack æ·»åŠ åˆ°äº† sudo ç»„ä¸­ï¼Œæ‰€ä»¥å½“ç”¨æˆ· jack ç™»å½•åå°±å¯ä»¥é€šè¿‡ sudo å‘½ä»¤ä»¥ root æƒé™æ‰§è¡Œå‘½ä»¤äº†ï¼\nè¯¦ç»†é…ç½® åœ¨å‰é¢çš„é…ç½®ä¸­æˆ‘ä»¬åªæ˜¯æŠŠç”¨æˆ· jack åŠ å…¥äº† sudo ç»„ï¼Œä»–å°±å…·æœ‰äº†é€šè¿‡ root æƒé™æ‰§è¡Œå‘½ä»¤çš„èƒ½åŠ›ã€‚\nç°åœ¨æˆ‘ä»¬æƒ³é—®ä¸€ä¸‹ï¼Œè¿™æ˜¯æ€ä¹ˆå‘ç”Ÿçš„ï¼Ÿæ˜¯æ—¶å€™ä»‹ç»å¦‚ä½•é…ç½® sudo å‘½ä»¤äº†ï¼\nsudo å‘½ä»¤çš„é…ç½®æ–‡ä»¶ä¸º /etc/sudoersã€‚\nç¼–è¾‘è¿™ä¸ªæ–‡ä»¶æ˜¯æœ‰å•ç‹¬çš„å‘½ä»¤çš„ visudoï¼Œè¿™ä¸ªæ–‡ä»¶æˆ‘ä»¬æœ€å¥½ä¸è¦ä½¿ç”¨ vim å‘½ä»¤æ¥æ‰“å¼€ï¼Œæ˜¯å› ä¸ºä¸€æ—¦ä½ çš„è¯­æ³•å†™é”™ä¼šé€ æˆä¸¥é‡çš„åæœï¼Œè¿™ä¸ªå·¥å…·ä¼šæ›¿ä½ æ£€æŸ¥ä½ å†™çš„è¯­æ³•ï¼Œè¿™ä¸ªæ–‡ä»¶çš„è¯­æ³•éµå¾ªä»¥ä¸‹æ ¼å¼ï¼š\nwho where whom command è¯´ç™½äº†å°±æ˜¯å“ªä¸ªç”¨æˆ·åœ¨å“ªä¸ªä¸»æœºä»¥è°çš„èº«ä»½æ‰§è¡Œé‚£äº›å‘½ä»¤ï¼Œé‚£ä¹ˆè¿™ä¸ª where, æ˜¯æŒ‡å…è®¸åœ¨é‚£å°ä¸»æœº ssh è¿æ¥è¿›æ¥æ‰èƒ½æ‰§è¡Œåé¢çš„å‘½ä»¤ï¼Œæ–‡ä»¶é‡Œé¢é»˜è®¤ç»™ root ç”¨æˆ·å®šä¹‰äº†ä¸€æ¡è§„åˆ™ï¼š\nroot ALL=(ALL:ALL) ALL  root è¡¨ç¤º root ç”¨æˆ·ã€‚ ALL è¡¨ç¤ºä»ä»»ä½•çš„ä¸»æœºä¸Šéƒ½å¯ä»¥æ‰§è¡Œï¼Œä¹Ÿå¯ä»¥è¿™æ · 192.168.100.0/24ã€‚ (ALL:ALL) æ˜¯ä»¥è°çš„èº«ä»½æ¥æ‰§è¡Œï¼ŒALL:ALL å°±ä»£è¡¨ root å¯ä»¥ä»»ä½•äººçš„èº«ä»½æ¥æ‰§è¡Œå‘½ä»¤ã€‚ ALL è¡¨ç¤ºä»»ä½•å‘½ä»¤ã€‚  é‚£ä¹ˆæ•´æ¡è§„åˆ™å°±æ˜¯ root ç”¨æˆ·å¯ä»¥åœ¨ä»»ä½•ä¸»æœºä»¥ä»»ä½•äººçš„èº«ä»½æ¥æ‰§è¡Œæ‰€æœ‰çš„å‘½ä»¤ã€‚\nç°åœ¨æˆ‘ä»¬å¯ä»¥å›ç­” jack ä¸ºä»€ä¹ˆå…·æœ‰é€šè¿‡ root æƒé™æ‰§è¡Œå‘½ä»¤çš„èƒ½åŠ›äº†ã€‚æ‰“å¼€ /etc/sudoers æ–‡ä»¶ï¼š\n%sudo ALL=(ALL:ALL) ALL sudo ç»„ä¸­çš„æ‰€æœ‰ç”¨æˆ·éƒ½å…·æœ‰é€šè¿‡ root æƒé™æ‰§è¡Œå‘½ä»¤çš„èƒ½åŠ›ï¼\nå†çœ‹ä¸ªä¾‹å­ï¼š\nnick 192.168.10.0/24=(root) /usr/sbin/useradd ä¸Šé¢çš„é…ç½®åªå…è®¸ nick åœ¨ 192.168.10.0/24 ç½‘æ®µä¸Šè¿æ¥ä¸»æœºå¹¶ä¸”ä»¥ root æƒé™æ‰§è¡Œ useradd å‘½ä»¤ã€‚\nè®¾ç½® sudo æ—¶ä¸éœ€è¦è¾“å…¥å¯†ç \nåªéœ€è¦åœ¨é…ç½®è¡Œä¸­æ·»åŠ  NOPASSWD: å°±å¯ä»¥äº†ï¼š\n%sudo ALL=(ALL:ALL) NOPASSWD:ALL æ—¥å¿— åœ¨ ubuntu ä¸­ï¼Œsudo çš„æ—¥å¿—é»˜è®¤è¢«è®°å½•åœ¨ /var/log/auth.log æ–‡ä»¶ä¸­ã€‚å½“æˆ‘ä»¬æ‰§è¡Œ sudo å‘½ä»¤æ—¶ï¼Œç›¸å…³æ—¥å¿—éƒ½æ˜¯ä¼šè¢«è®°å½•ä¸‹æ¥çš„ã€‚\nä¸è¾“å‡ºé‡å®šå‘ å¦‚æœå½“å‰ç”¨æˆ·æ²¡æœ‰æŸä¸ªæ–‡ä»¶çš„å†™æƒé™ï¼Œåˆè¦é€šè¿‡è¾“å‡ºé‡å®šå‘å¾€è¯¥æ–‡ä»¶ä¸­å†™å…¥å†…å®¹ã€‚ç»“æœåªèƒ½æ˜¯ \u0026ldquo;Permission denied\u0026rdquo;ã€‚\næ¯”å¦‚å½“å‰ç”¨æˆ·ä¸º nickï¼Œä¸‹é¢çš„å‘½ä»¤è¯•å›¾æŸ¥è¯¢ /root ç›®å½•ä¸‹çš„æ–‡ä»¶å¹¶æŠŠç»“æœå†™å…¥åˆ° /root/test.txt æ–‡ä»¶ä¸­ï¼Œæ³¨æ„ç”¨æˆ· nick æ²¡æœ‰å¯¹ /root/test.txt æ–‡ä»¶çš„å†™æƒé™ï¼š\n$ sudo ls -al /root/test.txt -rw-r--r-- 1 root root 0 Jan 10 05:19 /root/test.txt $ sudo ls -al /root \u0026gt; /root/test.txt -bash: /root/test.txt: Premission denied ä¸å·¥ä½œçš„åŸå› æ˜¯ï¼šè™½ç„¶ ls å‘½ä»¤æ˜¯ä»¥ sudo æ–¹å¼æ‰§è¡Œçš„ï¼Œä½†æ˜¯è¾“å‡ºé‡å®šå‘æ“ä½œæ˜¯ç”±å½“å‰ shell æ‰§è¡Œçš„ï¼Œå®ƒ(å½“å‰ shell)æ²¡æœ‰ /root/test.txt æ–‡ä»¶çš„æƒé™ï¼Œæ‰€ä»¥æœ€ç»ˆå¤±è´¥ã€‚\nææ¸…æ¥šäº†åŸå› ï¼Œå°±å¯ä»¥é€šè¿‡ä¸åŒçš„æ–¹å¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜äº†ï¼Œä¸‹é¢ä»‹ç»å››ç§æ–¹å¼ã€‚\nä»¥ sudo æ–¹å¼è¿è¡Œ shell\næ—¢ç„¶æ˜¯ shell è¿›ç¨‹æ²¡æœ‰æƒé™ï¼Œé‚£å°±ç”¨ sudo çš„æ–¹å¼æ‰§è¡Œ shellï¼š\n$ sudo bash -c \u0026#39;ls -al /root \u0026gt; /root/test.txt\u0026#39; æŠŠå‘½ä»¤å†™å…¥è„šæœ¬ï¼Œä»¥ sudo æ–¹å¼æ‰§è¡Œè„šæœ¬\næŠŠä¸‹é¢çš„ä»£ç ä¿å­˜åˆ°è„šæœ¬æ–‡ä»¶ test.sh ä¸­ï¼š\n#!/bin/bash ls -al /root \u0026gt; /root/test.txt ç„¶åé€šè¿‡ä¸‹é¢çš„æ–¹å¼æ‰§è¡Œï¼š\n$ chmod +x test.sh $ sudo ./test.sh å¦‚æœè§‰ç€åˆ›å»ºè„šæœ¬éº»çƒ¦çš„è¯è¿˜å¯ä»¥ä½¿ç”¨å˜é€šçš„æ–¹å¼ï¼š\n$ sudo bash \u0026lt;\u0026lt;EOF \u0026gt; ls -al /root \u0026gt; /root/test.txt \u0026gt; EOF æˆ–è€…æ˜¯ä¸‹é¢çš„å†™æ³•ï¼š\n$ echo \u0026#39;ls -al /root \u0026gt; /root/test.txt\u0026#39; | sudo bash å…ˆé€šè¿‡ sudo -s å¯åŠ¨ shellï¼Œç„¶åæ‰§è¡Œå‘½ä»¤\nå…ˆé€šè¿‡ sudo -s å‘½ä»¤åˆ‡æ¢åˆ° root ç”¨æˆ·å†æ‰§è¡Œå‘½ä»¤ï¼Œæœ€å ctrl + d é€€å‡ºã€‚\né€šè¿‡ sudo tee å‘½ä»¤å®ç°\nTee å‘½ä»¤ç”¨äºå°†æ•°æ®é‡å®šå‘åˆ°æ–‡ä»¶ï¼Œå¦ä¸€æ–¹é¢è¿˜å¯ä»¥æä¾›ä¸€ä»½é‡å®šå‘æ•°æ®çš„å‰¯æœ¬ä½œä¸ºåç»­å‘½ä»¤çš„ stdinã€‚ç®€å•çš„è¯´å°±æ˜¯æŠŠæ•°æ®é‡å®šå‘åˆ°ç»™å®šæ–‡ä»¶å’Œå±å¹•ä¸Šï¼š\né¢çš„å‘½ä»¤ä¸­é€šè¿‡ sudo tee æŠŠ ls å‘½ä»¤çš„è¾“å‡ºå†™å…¥æ–‡ä»¶ï¼š\n$ sudo ls -al /root | sudo tee /root/test.txt \u0026gt; /dev/null å…¶ä¸­çš„ \u0026gt; /dev/null é˜»æ­¢ tee æŠŠå†…å®¹è¾“å‡ºåˆ°ç»ˆç«¯ã€‚\nfdisk Linux ç³»ç»Ÿä¸­æ‰€æœ‰çš„ç¡¬ä»¶è®¾å¤‡éƒ½æ˜¯é€šè¿‡æ–‡ä»¶çš„æ–¹å¼æ¥è¡¨ç°å’Œä½¿ç”¨çš„ï¼Œæˆ‘ä»¬å°†è¿™äº›æ–‡ä»¶ç§°ä¸ºè®¾å¤‡æ–‡ä»¶ï¼Œç¡¬ç›˜å¯¹åº”çš„è®¾å¤‡æ–‡ä»¶ä¸€èˆ¬è¢«ç§°ä¸ºå—è®¾å¤‡æ–‡ä»¶ã€‚\nç£ç›˜åˆ†ç±» æ¯”è¾ƒå¸¸è§çš„ç£ç›˜ç±»å‹æœ‰æ¶ˆè´¹ç±»å¸‚åœºä¸­çš„ SATA ç¡¬ç›˜å’ŒæœåŠ¡å™¨ä¸­ä½¿ç”¨çš„ SCSI ç¡¬ç›˜ã€SAS ç¡¬ç›˜ï¼Œå½“ç„¶è¿˜æœ‰å½“ä¸‹å¤§çƒ­çš„å„ç§å›ºæ€ç¡¬ç›˜ã€‚\nSATA ç¡¬ç›˜\nSATA(Serial ATA)å£çš„ç¡¬ç›˜åˆå«ä¸²å£ç¡¬ç›˜ï¼ŒSerial ATA é‡‡ç”¨ä¸²è¡Œè¿æ¥æ–¹å¼ï¼Œä¸²è¡Œ ATA æ€»çº¿ä½¿ç”¨åµŒå…¥å¼æ—¶é’Ÿä¿¡å·ï¼Œå…·å¤‡äº†æ›´å¼ºçš„çº é”™èƒ½åŠ›ï¼Œä¸ä»¥å¾€ç›¸æ¯”å…¶æœ€å¤§çš„åŒºåˆ«åœ¨äºèƒ½å¯¹ä¼ è¾“æŒ‡ä»¤(ä¸ä»…ä»…æ˜¯æ•°æ®)è¿›è¡Œæ£€æŸ¥ï¼Œå¦‚æœå‘ç°é”™è¯¯ä¼šè‡ªåŠ¨çŸ«æ­£ï¼Œè¿™åœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šæé«˜äº†æ•°æ®ä¼ è¾“çš„å¯é æ€§ã€‚ä¸²è¡Œæ¥å£è¿˜å…·æœ‰ç»“æ„ç®€å•ã€æ”¯æŒçƒ­æ’æ‹”çš„ä¼˜ç‚¹ã€‚SATA ç¡¬ç›˜ä¸»è¦ç”¨äºæ¶ˆè´¹ç±»å¸‚åœºå’Œä¸€äº›ä½ç«¯æœåŠ¡å™¨ï¼š\nSCSI ç¡¬ç›˜\nSCSI ç¡¬ç›˜å³é‡‡ç”¨ SCSI æ¥å£çš„ç¡¬ç›˜ã€‚å®ƒç”±äºæ€§èƒ½å¥½ã€ç¨³å®šæ€§é«˜ï¼Œå› æ­¤åœ¨æœåŠ¡å™¨ä¸Šå¾—åˆ°å¹¿æ³›åº”ç”¨ã€‚åŒæ—¶å…¶ä»·æ ¼ä¹Ÿä¸è²ï¼Œæ­£å› å®ƒçš„ä»·æ ¼æ˜‚è´µï¼Œæ‰€ä»¥åœ¨æ™®é€šPCä¸Šå¾ˆå°‘è§åˆ°å®ƒçš„è¸ªè¿¹ã€‚SCSI ç¡¬ç›˜ä½¿ç”¨ 50 é’ˆæ¥å£ï¼Œå¤–è§‚å’Œæ™®é€šç¡¬ç›˜æ¥å£æœ‰äº›ç›¸ä¼¼(ä¸‹å›¾æ¥è‡ªäº’è”ç½‘)ï¼š\nSAS ç¡¬ç›˜\nSAS æ˜¯ Serial Attached SCSI çš„ç¼©å†™ï¼Œå³ä¸²è¡Œè¿æ¥çš„ SCSIï¼Œå…¶ç›®æ ‡æ˜¯å®šä¹‰ä¸€ä¸ªæ–°çš„ä¸²è¡Œç‚¹å¯¹ç‚¹çš„ä¼ä¸šçº§å­˜å‚¨è®¾å¤‡æ¥å£ã€‚ä¸²è¡Œæ¥å£å‡å°‘äº†çº¿ç¼†çš„å°ºå¯¸ï¼Œå…è®¸æ›´å¿«çš„ä¼ è¾“é€Ÿåº¦ã€‚SAS ç¡¬ç›˜ä¸ç›¸åŒè½¬é€Ÿçš„ SCSI ç¡¬ç›˜ç›¸æ¯”æœ‰ç›¸åŒæˆ–è€…æ›´å¥½çš„æ€§èƒ½ã€‚SAS ç¡¬ç›˜ä¸€èˆ¬ç”¨äºæ¯”è¾ƒé«˜ç«¯çš„æœåŠ¡å™¨ã€‚\nå›ºæ€ç¡¬ç›˜\nå›ºæ€ç¡¬ç›˜(Solid State Disk)ï¼Œä¸€èˆ¬ç§°ä¹‹ä¸º SSD ç¡¬ç›˜ï¼Œå›ºæ€ç¡¬ç›˜æ˜¯ç”¨å›ºæ€ç”µå­å­˜å‚¨èŠ¯ç‰‡é˜µåˆ—è€Œåˆ¶æˆçš„ç¡¬ç›˜ï¼Œç”±æ§åˆ¶å•å…ƒå’Œå­˜å‚¨å•å…ƒ(FLASHèŠ¯ç‰‡ã€DRAMèŠ¯ç‰‡)ç»„æˆã€‚å…¶ä¸»è¦ç‰¹ç‚¹æ˜¯æ²¡æœ‰ä¼ ç»Ÿç¡¬ç›˜çš„æœºæ¢°ç»“æ„ï¼Œè¯»å†™é€Ÿåº¦éå¸¸å¿«(ä¸‹å›¾æ¥è‡ªäº’è”ç½‘)ï¼š\nè¡¨ç¤ºæ–¹æ³• åœ¨ Linux ç³»ç»Ÿä¸­ç£ç›˜è®¾å¤‡æ–‡ä»¶çš„å‘½åè§„åˆ™ä¸ºï¼š\nä¸»è®¾å¤‡å· + æ¬¡è®¾å¤‡å· + ç£ç›˜åˆ†åŒºå· å¯¹äºç›®å‰å¸¸è§çš„ç£ç›˜ï¼Œä¸€èˆ¬è¡¨ç¤ºä¸ºï¼š\nsd[a-z]x  ä¸»è®¾å¤‡å·ä»£è¡¨è®¾å¤‡çš„ç±»å‹ï¼Œç›¸åŒçš„ä¸»è®¾å¤‡å·è¡¨ç¤ºåŒç±»å‹çš„è®¾å¤‡ã€‚å½“å‰å¸¸è§ç£ç›˜çš„ä¸»è®¾å¤‡å·ä¸º sdã€‚ æ¬¡è®¾å¤‡å·ä»£è¡¨åŒç±»è®¾å¤‡ä¸­çš„åºå·ï¼Œç”¨ \u0026ldquo;a-z\u0026rdquo; è¡¨ç¤ºã€‚æ¯”å¦‚ /dev/sda è¡¨ç¤ºç¬¬ä¸€å—ç£ç›˜ï¼Œ/dev/sdb è¡¨ç¤ºç¬¬äºŒå—ç£ç›˜ã€‚ x è¡¨ç¤ºç£ç›˜åˆ†åŒºç¼–å·ã€‚åœ¨æ¯å—ç£ç›˜ä¸Šå¯èƒ½ä¼šåˆ’åˆ†å¤šä¸ªåˆ†åŒºï¼Œé’ˆå¯¹æ¯ä¸ªåˆ†åŒºï¼ŒLinux ç”¨ /dev/sdbx è¡¨ç¤ºï¼Œè¿™é‡Œçš„ x è¡¨ç¤ºç¬¬äºŒå—ç£ç›˜çš„ç¬¬ x ä¸ªåˆ†åŒºã€‚  ç£ç›˜åˆ†åŒº åˆ›å»ºç£ç›˜åˆ†åŒºå¤§æ¦‚æœ‰ä¸‹é¢å‡ ä¸ªç›®çš„ï¼š\n æå‡æ•°æ®çš„å®‰å…¨æ€§(ä¸€ä¸ªåˆ†åŒºçš„æ•°æ®æŸåä¸ä¼šå½±å“å…¶ä»–åˆ†åŒºçš„æ•°æ®) æ”¯æŒå®‰è£…å¤šä¸ªæ“ä½œç³»ç»Ÿ å¤šä¸ªå°åˆ†åŒºå¯¹æ¯”ä¸€ä¸ªå¤§åˆ†åŒºä¼šæœ‰æ€§èƒ½æå‡ æ›´å¥½çš„ç»„ç»‡æ•°æ®  æœ¬æ–‡ä»¥å¸¸è§çš„ MBR åˆ†åŒºä¸ºä¾‹ä»‹ç»ç£ç›˜åˆ†åŒºä¸­çš„ä¸€äº›å¸¸è§æ¦‚å¿µã€‚MBR ç£ç›˜çš„åˆ†åŒºç”±ä¸»åˆ†åŒºã€æ‰©å±•åˆ†åŒºå’Œé€»è¾‘åˆ†åŒºç»„æˆã€‚åœ¨ä¸€å—ç£ç›˜ä¸Šï¼Œä¸»åˆ†åŒºçš„æœ€å¤§ä¸ªæ•°æ˜¯ 4ï¼Œå…¶ä¸­æ‰©å±•åˆ†åŒºä¹Ÿæ˜¯ä¸€ä¸ªä¸»åˆ†åŒºï¼Œå¹¶ä¸”æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ªæ‰©å±•åˆ†åŒºï¼Œä½†å¯ä»¥åœ¨æ‰©å±•åˆ†åŒºä¸Šåˆ›å»ºå¤šä¸ªé€»è¾‘åˆ†åŒºã€‚å› æ­¤ä¸»åˆ†åŒº(åŒ…æ‹¬æ‰©å±•åˆ†åŒº)çš„èŒƒå›´æ˜¯ 1-4ï¼Œé€»è¾‘åˆ†åŒºä» 5 å¼€å§‹ã€‚å¯¹äºé€»è¾‘åˆ†åŒºï¼ŒLinux è§„å®šå®ƒä»¬å¿…é¡»å»ºç«‹åœ¨æ‰©å±•åˆ†åŒºä¸Šï¼Œè€Œä¸æ˜¯å»ºç«‹åœ¨ä¸»åˆ†åŒºä¸Šã€‚\nä¸»åˆ†åŒºçš„ä½œç”¨æ˜¯ç”¨æ¥å¯åŠ¨æ“ä½œç³»ç»Ÿçš„ï¼Œä¸»è¦å­˜æ”¾æ“ä½œç³»ç»Ÿçš„å¯åŠ¨æˆ–å¼•å¯¼ç¨‹åºã€‚\næ‰©å±•åˆ†åŒºåªä¸è¿‡æ˜¯é€»è¾‘åˆ†åŒºçš„ \u0026ldquo;å®¹å™¨\u0026rdquo;ã€‚å®é™…ä¸Šåªæœ‰ä¸»åˆ†åŒºå’Œé€»è¾‘åˆ†åŒºæ˜¯ç”¨æ¥è¿›è¡Œæ•°æ®å­˜å‚¨çš„ï¼Œå› è€Œå¯ä»¥å°†æ•°æ®é›†ä¸­å­˜æ”¾åœ¨ç£ç›˜çš„é€»è¾‘åˆ†åŒºä¸­ã€‚\næˆ‘ä»¬å¯ä»¥é€šè¿‡ fdisk å‘½ä»¤æ¥æŸ¥çœ‹ç£ç›˜åˆ†åŒºçš„ä¿¡æ¯ï¼š\n$ sudo fdisk -l /dev/sda åˆ†åŒºä¿¡æ¯ï¼š\n Device æ˜¾ç¤ºäº†ç£ç›˜åˆ†åŒºå¯¹åº”çš„è®¾å¤‡æ–‡ä»¶åã€‚ Boot æ˜¾ç¤ºæ˜¯å¦ä¸ºå¼•å¯¼åˆ†åŒºï¼Œæ˜¯å¼•å¯¼åˆ†åŒºå°±æœ‰ä¸€ä¸ª \u0026lsquo;*\u0026rsquo; å·ã€‚ Start è¡¨ç¤ºç£ç›˜åˆ†åŒºçš„èµ·å§‹ä½ç½®ã€‚ End è¡¨ç¤ºç£ç›˜åˆ†åŒºçš„ç»“æŸä½ç½®ã€‚ Sectors è¡¨ç¤ºåˆ†åŒºå ç”¨çš„æ‰‡åŒºæ•°ç›®ã€‚ Size æ˜¾ç¤ºåˆ†åŒºçš„å¤§å°ã€‚ Id/Type æ˜¾ç¤ºçš„å†…å®¹ç›¸åŒï¼Œåˆ†åˆ«æ˜¯æ•°å€¼ ID åŠå…¶æ–‡å­—æè¿°ã€‚ Id åˆ—æ˜¾ç¤ºäº†ç£ç›˜åˆ†åŒºå¯¹åº”çš„ IDï¼Œæ ¹æ®åˆ†åŒºçš„ä¸åŒï¼Œåˆ†åŒºå¯¹åº”çš„ ID å·ä¹Ÿä¸ç›¸åŒã€‚Linux ä¸‹ç”¨ 83 è¡¨ç¤ºä¸»åˆ†åŒºå’Œé€»è¾‘åˆ†åŒºï¼Œ5 è¡¨ç¤ºæ‰©å±•åˆ†åŒºï¼Œ8e è¡¨ç¤º LVM åˆ†åŒºï¼Œ82 è¡¨ç¤ºäº¤æ¢åˆ†åŒºï¼Œ7 è¡¨ç¤º NTFS åˆ†åŒºã€‚  åˆ’åˆ†ç£ç›˜åˆ†åŒº fdisk æ˜¯ Linux ç³»ç»Ÿä¸­ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§çš„ç£ç›˜åˆ†åŒºç®¡ç†å·¥å…·ï¼Œå¯ä»¥è§‚å¯Ÿç¡¬ç›˜çš„ä½¿ç”¨æƒ…å†µï¼Œä¹Ÿå¯ä»¥ç”¨æ¥ç®¡ç†ç£ç›˜åˆ†åŒºã€‚\nå‡è®¾æˆ‘ä»¬çš„ Linux ç³»ç»Ÿä¸­å¢åŠ äº†ä¸€å—æ–°çš„ç£ç›˜ï¼Œç³»ç»Ÿå¯¹åº”çš„è®¾å¤‡åä¸º /dev/sddï¼Œä¸‹é¢æˆ‘ä»¬é€šè¿‡ fdisk å‘½ä»¤å¯¹è¿™ä¸ªç£ç›˜è¿›è¡Œåˆ†åŒºï¼š\n$ (echo n; echo p; echo 1; echo ; echo ; echo w) | sudo fdisk /dev/sdd  å‘½ä»¤ n æ¥åˆ›å»ºæ–°åˆ†åŒº p æ¥åˆ›å»ºä¸»åˆ†åŒº ä¸»åˆ†åŒºçš„ç¼–å·ä¸º 1- 4ï¼Œè¿™é‡Œæˆ‘ä»¬è¾“å…¥äº† 1ã€‚ åˆ†åŒºçš„å¤§å°æ˜¯é€šè¿‡è®¾ç½®åˆ†åŒºå¼€å§‹å¤„çš„æ‰‡åŒºå’Œç»“æŸå¤„çš„æ‰‡åŒºè®¾ç½®çš„ã€‚è¿™é‡Œå¦‚æœå›è½¦ä¸¤æ¬¡ä¼šæŠŠæ•´ä¸ªç£ç›˜åˆ’åˆ†ä¸ºä¸€ä¸ªåˆ†åŒºï¼Œä¹Ÿå°±æ˜¯æ•´ä¸ªç£ç›˜çš„å®¹å™¨éƒ½åˆ†ç»™äº†ä¸€ä¸ªåˆ†åŒºã€‚ æ³¨æ„æ­¤æ—¶çš„åˆ†åŒºä¿¡æ¯è¿˜æ²¡æœ‰å†™å…¥åˆ°ç£ç›˜ä¸­ï¼Œåœ¨è¿™é‡Œè¿˜å¯ä»¥åæ‚”ï¼Œå¦‚æœç¡®è®¤æ‰§è¡Œä¸Šé¢çš„åˆ†åŒºï¼Œæ‰§è¡Œ w å‘½ä»¤å°±è¡Œäº†ã€‚  è¿™æ—¶åˆ†åŒºæ“ä½œå·²ç»å®Œæˆäº†ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹åˆ†åŒºçš„ç»“æœï¼š\n$ sudo fdisk -l /dev/sdd åˆ†åŒºæ˜¯ä½¿ç”¨ç£ç›˜çš„åŸºç¡€ï¼Œåœ¨åˆ†åŒºå®Œæˆåè¿˜éœ€è¦å¯¹åˆ†åŒºè¿›è¡Œæ ¼å¼åŒ–ï¼Œå¹¶æŠŠæ ¼å¼åŒ–åçš„æ–‡ä»¶ç³»ç»ŸæŒ‚è½½åˆ° Linux ç³»ç»Ÿä¹‹åæ‰èƒ½å­˜å‚¨æ–‡ä»¶ã€‚\næ›´æ”¹åˆ†åŒºçš„ç±»å‹\nåˆ›å»ºçš„åˆ†åŒºç±»å‹é»˜è®¤ä¸º 83(Linux)ï¼Œå¦‚æœæƒ³è¦ä¸€ä¸ª 8e(Linux LVM)ç±»å‹çš„åˆ†åŒºï¼Œåœ¨ fdisk è¾“å…¥ t å‘½ä»¤æ¥ä¿®æ”¹åˆ†åŒºçš„ç±»å‹ã€‚\nOthers Ubuntu Packages Search List of applicationsâ€”Arch å¸¸ç”¨è½¯ä»¶â€”openSUSE åº”ç”¨ç¨‹åºâ€”Ubuntu ç”Ÿæ€é€‚é…æ¸…å•â€”UOS QEMU KVM QEMU çš„å›¾å½¢å‰ç«¯ ä¸å…¶ä»–çš„è™šæ‹ŸåŒ–ç¨‹åºå¦‚ VirtualBox å’Œ VMware ä¸åŒ, QEMUä¸æä¾›ç®¡ç†è™šæ‹Ÿæœºçš„GUIï¼ˆè¿è¡Œè™šæ‹Ÿæœºæ—¶å‡ºç°çš„çª—å£é™¤å¤–ï¼‰ï¼Œä¹Ÿä¸æä¾›åˆ›å»ºå…·æœ‰å·²ä¿å­˜è®¾ç½®çš„æŒä¹…è™šæ‹Ÿæœºçš„æ–¹æ³•ã€‚é™¤éæ‚¨å·²åˆ›å»ºè‡ªå®šä¹‰è„šæœ¬ä»¥å¯åŠ¨è™šæ‹Ÿæœºï¼Œå¦åˆ™å¿…é¡»åœ¨æ¯æ¬¡å¯åŠ¨æ—¶åœ¨å‘½ä»¤è¡Œä¸ŠæŒ‡å®šè¿è¡Œè™šæ‹Ÿæœºçš„æ‰€æœ‰å‚æ•°ã€‚\nLibvirtæä¾›äº†ä¸€ç§ç®¡ç† QEMU è™šæ‹Ÿæœºçš„ä¾¿æ·æ–¹å¼ã€‚æœ‰å…³å¯ç”¨çš„å‰ç«¯ï¼Œè¯·å‚é˜… libvirt å®¢æˆ·ç«¯åˆ—è¡¨ã€‚\nåˆ›å»ºæ–°è™šæ‹Ÿç³»ç»Ÿ åˆ›å»ºç¡¬ç›˜é•œåƒ é™¤éç›´æ¥ä» CD-ROM æˆ–ç½‘ç»œå¼•å¯¼ï¼ˆå¹¶ä¸”ä¸å®‰è£…ç³»ç»Ÿåˆ°æœ¬åœ°ï¼‰ï¼Œè¿è¡Œ QEMU æ—¶éƒ½éœ€è¦ç¡¬ç›˜é•œåƒã€‚ç¡¬ç›˜é•œåƒæ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œå­˜å‚¨è™šæ‹Ÿæœºç¡¬ç›˜ä¸Šçš„å†…å®¹ã€‚\nä¸€ä¸ªç¡¬ç›˜é•œåƒå¯èƒ½æ˜¯ rawé•œåƒ, å’Œå®¢æˆ·æœºå™¨ä¸Šçœ‹åˆ°çš„å†…å®¹ä¸€æ¨¡ä¸€æ ·ï¼Œå¹¶ä¸”å°†å§‹ç»ˆä½¿ç”¨ä¸»æœºä¸Šçš„æ¥å®¾ç¡¬ç›˜é©±åŠ¨å™¨çš„å…¨éƒ¨å®¹é‡ã€‚æ­¤æ–¹æ³•æä¾›çš„I / Oå¼€é”€æœ€å°ï¼Œä½†å¯èƒ½ä¼šæµªè´¹å¤§é‡ç©ºé—´ï¼Œå› ä¸ºguestè™šæ‹Ÿæœºä¸Šæœªä½¿ç”¨çš„ç©ºé—´æ— æ³•åœ¨ä¸»æœºä¸Šä½¿ç”¨ã€‚\nå¦å¤–ä¸€ç§æ–¹å¼æ˜¯qcow2 æ ¼å¼ï¼Œä»…å½“å®¢æˆ·ç³»ç»Ÿå®é™…å†™å…¥å†…å®¹çš„æ—¶å€™ï¼Œæ‰ä¼šåˆ†é…é•œåƒç©ºé—´ã€‚å¯¹å®¢æˆ·æœºå™¨æ¥è¯´ï¼Œç¡¬ç›˜å¤§å°è¡¨ç°ä¸ºå®Œæ•´å¤§å°ï¼Œå³ä½¿å®ƒå¯èƒ½ä»…å ç”¨ä¸»æœºç³»ç»Ÿä¸Šçš„éå¸¸å°çš„ç©ºé—´ã€‚æ­¤æ˜ åƒæ ¼å¼è¿˜æ”¯æŒQEMUå¿«ç…§åŠŸèƒ½ã€‚ä½†æ˜¯ï¼Œä½¿ç”¨æ­¤æ ¼å¼è€Œä¸æ˜¯ raw å¯èƒ½ä¼šå½±å“æ€§èƒ½ã€‚\nQEMU æä¾› qemu-imgå‘½ä»¤åˆ›å»ºç¡¬ç›˜é•œåƒ.ä¾‹å¦‚åˆ›å»ºä¸€ä¸ª 4 GB raw æ ¼å¼çš„é•œåƒ:\n$ qemu-img create -f raw image_file 4G æ‚¨ä¹Ÿå¯ä»¥ç”¨ -f qcow2 åˆ›å»ºä¸€ä¸ª qcow2 é•œåƒã€‚\nç”¨ dd æˆ– fallocate ä¹Ÿå¯ä»¥åˆ›å»ºä¸€ä¸ª raw é•œåƒã€‚\nè­¦å‘Šï¼š å¦‚æœç¡¬ç›˜é•œåƒå­˜å‚¨åœ¨ Btrfs ç³»ç»Ÿä¸Šï¼Œåˆ™åº”åœ¨åˆ›å»ºä»»ä½•æ˜ åƒä¹‹å‰è€ƒè™‘ç¦ç”¨è¯¥ç›®å½•çš„ å†™æ—¶å¤åˆ¶ã€‚\nè°ƒæ•´é•œåƒå¤§å°\nè­¦å‘Šï¼š è°ƒæ•´åŒ…å«NTFSå¼•å¯¼æ–‡ä»¶ç³»ç»Ÿçš„é•œåƒå°†æ— æ³•å¯åŠ¨å·²å®‰è£…çš„æ“ä½œç³»ç»Ÿï¼Œæ¨èåœ¨æ“ä½œä¹‹å‰è¿›è¡Œå¤‡ä»½\næ‰§è¡Œ qemu-img å¸¦ resize é€‰é¡¹è°ƒæ•´ç¡¬ç›˜é©±åŠ¨é•œåƒçš„å¤§å°.å®ƒé€‚ç”¨äº raw å’Œ qcow2. ä¾‹å¦‚, å¢åŠ é•œåƒ 10 GB å¤§å°, è¿è¡Œ:\n$ qemu-img resize disk_image +10G åœ¨ç£ç›˜æ˜ åƒæ‰©å®¹åï¼Œå¿…é¡»ä½¿ç”¨è™šæ‹Ÿæœºå†…éƒ¨ç³»ç»Ÿçš„åˆ†åŒºå·¥å…·å¯¹è¯¥é•œåƒè¿›è¡Œåˆ†åŒºå¹¶æ ¼å¼åŒ–åæ‰èƒ½çœŸæ­£å¼€å§‹ä½¿ç”¨æ–°ç©ºé—´ã€‚ åœ¨æ”¶ç¼©ç£ç›˜æ˜ åƒæ—¶ï¼Œå¿…é¡»é¦–å…ˆä½¿ç”¨è™šæ‹Ÿæœºå†…éƒ¨ç³»ç»Ÿçš„åˆ†åŒºå·¥å…·å‡å°‘åˆ†è¯¥åˆ†åŒºçš„å¤§å°ï¼Œç„¶åç›¸åº”åœ°æ”¶ç¼©ç£ç›˜æ˜ åƒï¼Œå¦åˆ™æ”¶ç¼©ç£ç›˜æ˜ åƒå°†å¯¼è‡´æ•°æ®ä¸¢å¤±ï¼\nå®‰è£…æ“ä½œç³»ç»Ÿ è¿™æ˜¯ä½ ç¬¬ä¸€æ¬¡éœ€è¦å»å¯åŠ¨æ¨¡æ‹Ÿå™¨çš„æ­¥éª¤ï¼Œä¸ºäº†åœ¨ç£ç›˜é•œåƒä¸Šå®‰è£…æ“ä½œç³»ç»Ÿï¼Œä½ å¿…é¡»åŒæ—¶å°†ç£ç›˜é•œåƒä¸å®‰è£…ä»‹è´¨è£…è½½åˆ°è™šæ‹Ÿæœºä¸Šï¼Œä»å®‰è£…ä»‹è´¨ä¸­å¯åŠ¨æ“ä½œç³»ç»Ÿã€‚\nä»¥i386çš„å®¢æˆ·æœºä¸ºä¾‹ï¼Œä¸ºäº†ä»CD-ROMå†…çš„æŠŠå¯ç”¨äºå¯åŠ¨çš„ISOæ–‡ä»¶å®‰è£…åˆ°ç£ç›˜é•œåƒä¸Šï¼Œä½ éœ€è¦ï¼š\n$ qemu-system-x86_64 -cdrom iso_image -boot order=d -drive file=disk_image,format=raw åœ¨å®‰è£…å®Œæ“ä½œç³»ç»Ÿåï¼Œå°±å¯ä»¥ç›´æ¥ä»QEMUé•œåƒå†…å¯åŠ¨äº†ã€‚\næ³¨æ„ï¼š é»˜è®¤æƒ…å†µä¸‹ä»…åˆ†é…ç»™è™šæ‹Ÿæœº128MBçš„å†…å­˜ï¼Œ åˆ†é…çš„å†…å­˜å¤§å°å¯ä»¥é€šè¿‡ -m è°ƒæ•´ï¼Œ æ¯”å¦‚ -m 512M æˆ– -m 2Gã€‚\næç¤ºï¼š\n ç›¸è¾ƒäºæŒ‡å®š -boot order=x ï¼Œä¸€éƒ¨åˆ†ç”¨æˆ·æ„Ÿè§‰ä½¿ç”¨ -boot menu=on å¯ç”¨bootèœå•çš„ä½“éªŒæ›´èˆ’æœäº›ï¼Œè‡³å°‘åœ¨é…ç½®å’Œå®éªŒæ—¶æ˜¯è¿™æ ·çš„ã€‚ å½“ä½¿ç”¨æ— ç•Œé¢ï¼ˆheadlessï¼‰æ¨¡å¼æ—¶ï¼Œ å°†ä¼šé»˜è®¤åœ¨æœ¬åœ°5900ç«¯å£å¯åŠ¨ä¸€ä¸ªVNCæœåŠ¡å™¨ï¼Œ å¯ä»¥ç”¨ TigerVNC è¿æ¥åˆ°å®¢æˆ·æœºçš„ç³»ç»Ÿä¸Š: vncviewer :5900 è‹¥ä½ åœ¨å®‰è£…è¿‡ç¨‹ä¸­éœ€è¦æ›¿æ¢è½¯ç›˜æˆ–CDï¼Œå¯ä»¥ä½¿ç”¨QEMUæœºå™¨ç›‘è§†å™¨ï¼ˆåœ¨è™šæ‹Ÿæœºçª—å£ä¸­æŒ‰Ctrl + Alt + 2ï¼‰æ¥åˆ é™¤å­˜å‚¨è®¾å¤‡å¹¶å°†å…¶è¿æ¥åˆ°è™šæ‹Ÿæœºã€‚ä½¿ç”¨info blockæŸ¥çœ‹å—è®¾å¤‡ï¼Œç„¶åä½¿ç”¨changeå‘½ä»¤æ¢å‡ºè®¾å¤‡ã€‚æŒ‰ä¸‹Ctrl + Alt + 1è¿”å›è™šæ‹Ÿæœºã€‚  è¿è¡Œè™šæ‹ŸåŒ–çš„ç³»ç»Ÿ qemu-system-* ç¨‹åº (ä¾‹å¦‚ qemu-system-i386 æˆ– qemu-system-x86_64, å–å†³äºå®¢æˆ·æœºæ¶æ„)ç”¨æ¥è¿è¡Œè™šæ‹ŸåŒ–çš„å®¢æˆ·æœº. ç”¨æ³•æ˜¯:\n$ qemu-system-i386 options disk_image æ‰€æœ‰ qemu-system-*çš„é€‰é¡¹æ˜¯ç›¸åŒçš„ã€‚\né»˜è®¤ QEMUä¼šåœ¨çª—å£ä¸­æ˜¾ç¤ºè™šæ‹Ÿæœºçš„è§†é¢‘è¾“å‡º.æœ‰ä¸€ç‚¹è¦è®°ä½:å½“æ‚¨å•å‡»QEMUçª—å£,é¼ æ ‡æŒ‡é’ˆè¢«æ•è·ã€‚è¦æ”¾å¼€ï¼ŒæŒ‰ Ctrl+Alt+g.\nè­¦å‘Šï¼š QEMU ä¸åº”ä»¥ root èº«ä»½è¿è¡Œ. å¦‚æœå¿…é¡»ä»¥rootèº«ä»½åœ¨æŸä¸ªè„šæœ¬ä¸­è¿è¡ŒQEMUï¼Œé‚£ä¹ˆä½ éœ€è¦ä½¿ç”¨ -runas é€‰é¡¹è®©QEMUæ”¾å¼ƒrootæƒé™\nå¯ç”¨ KVM KVM å¿…é¡»è¦æ‚¨å¤„ç†å™¨å’Œå†…æ ¸æ”¯æŒ, å’Œå¿…è¦çš„ kernel modulesåŠ è½½ã€‚æ›´å¤šä¿¡æ¯å‚è§ KVMã€‚\nè¦åœ¨KVMæ¨¡å¼ä¸­å¯åŠ¨QEMU, è¿½åŠ  -enable-kvmåˆ°å¯åŠ¨é€‰é¡¹. è¦æ£€æŸ¥æ˜¯å¦ä¸ºæ­£åœ¨è¿è¡Œçš„ VM å¯ç”¨äº† KVMï¼Œè¯·ä½¿ç”¨ Ctrl+Alt+Shift+2 è¿›å…¥ QEMU Monitorï¼Œç„¶åé”®å…¥ info kvmã€‚\næ³¨æ„ï¼š\n -machine é€‰é¡¹ä¸­çš„ accel=kvm å‚æ•°ä¸-enable-kvm æˆ– -accel kvm é€‰é¡¹æ˜¯ç­‰ä»·çš„ã€‚ CPUæ¨¡å‹ host éœ€è¦ KVMã€‚ å¦‚æœä½ ä½¿ç”¨GUIå·¥å…·å»å¯åŠ¨QEMUï¼Œä½†æ˜¯æ€§èƒ½ä½“éªŒæå·®ï¼Œé‚£ä¹ˆæœ€å¥½æ£€æŸ¥ä¸€ä¸‹æ˜¯å¦çœŸçš„å¼€å¯äº†KVMæ”¯æŒï¼Œå› ä¸ºQEMUå¯èƒ½é€‰æ‹©äº†å¤‡ç”¨çš„æ¨¡æ‹Ÿæ¨¡å¼ï¼Œå³è½¯ä»¶çº§æ¨¡æ‹Ÿã€‚ éœ€è¦å¯ç”¨KVMæ‰èƒ½æ­£å¸¸å¯åŠ¨windows7å’Œwindows8ï¼Œå¦åˆ™ä¼šå‡ºç°â€œè“å±â€.  å¯ç”¨ IOMMU (Intel VT-d/AMD-Vi) çš„æ”¯æŒ é¦–å…ˆå¯ç”¨IOMMUã€‚\nç¡®ä¿æ‚¨çš„ CPU æ”¯æŒ AMD-Vi/Intel Vt-d å¹¶ä¸”å·²ç»åœ¨ BIOS ä¸­æ‰“å¼€ã€‚é€šå¸¸è¿™ä¸ªé€‰é¡¹ä¼šåœ¨ç±»ä¼¼â€œå…¶ä»– CPU ç‰¹æ€§â€çš„èœå•é‡Œï¼Œä¹Ÿæœ‰å¯èƒ½éšè—åœ¨è¶…é¢‘é€‰é¡¹ä¹‹ä¸­ã€‚é€‰é¡¹å¯èƒ½å°±å«åš â€œVT-dâ€ æˆ–è€… â€œAMD-Viâ€ ï¼Œä¹Ÿæœ‰å¯èƒ½æ˜¯æ›´é€šç”¨çš„åç§°ï¼Œæ¯”å¦‚â€œè™šæ‹ŸåŒ–æŠ€æœ¯â€ä¹‹ç±»ã€‚æœ‰å¯èƒ½æ‚¨ä¸»æ¿çš„æ‰‹å†Œå¹¶ä¸ä¼šè§£é‡Šè¿™äº›ã€‚\nè®¾ç½®å†…æ ¸å‚æ•°ä»¥å¯ç”¨ IOMMUï¼Œæ³¨æ„ä¸åŒå“ç‰Œçš„ CPU æ‰€éœ€çš„å†…æ ¸å‚æ•°å¹¶ä¸åŒã€‚\n å¯¹äº Intel CPU(VT-d)ï¼Œä½¿ç”¨ intel_iommu=onã€‚ å¯¹äº AMD CPU(AMD-Vi)ï¼Œä½¿ç”¨ amd_iommu=onã€‚  æ‚¨åŒæ—¶éœ€è¦è®¾ç½®iommu=ptï¼Œè¿™å°†é˜²æ­¢Linuxè¯•å›¾æ¥è§¦(touching)æ— æ³•ç›´é€šçš„è®¾å¤‡ã€‚\nåœ¨é‡å¯ä¹‹åï¼Œæ£€æŸ¥ dmesg ä»¥ç¡®è®¤ IOMMU å·²ç»è¢«æ­£ç¡®å¯ç”¨ï¼š\n$ dmesg | grep -e DMAR -e IOMMU ... [ 0.000000] Intel-IOMMU: enabled ... æ·»åŠ  -device intel-iommu é€‰é¡¹åˆ›å»ºIOMMUè®¾å¤‡:\n$ qemu-system-x86_64 -enable-kvm -machine q35 -device intel-iommu -cpu host .. æ³¨æ„ï¼š åœ¨åŸºäºIntel CPUçš„ç³»ç»Ÿä¸Šç”¨ -device intel-iommu åˆ›å»ºQEMUå†…çš„IOMMUè®¾å¤‡å°†ä¼šç¦ç”¨PCIç›´é€šï¼Œ å¦‚æœéœ€è¦PCIç›´é€šï¼Œåˆ™ä¸åº”è®¾ç½®-device intel-iommuã€‚\nå®¿ä¸»æœºå’Œè™šæ‹Ÿæœºæ•°æ®äº¤äº’ ç½‘ç»œ æˆ‘ä»¬å¯ä»¥åˆ©ç”¨ä»»ä½•æ”¯æŒæ–‡ä»¶ä¼ è¾“çš„ç½‘ç»œåè®®å®ç°å®¢æˆ·æœºå’Œå®¿ä¸»æœºä¹‹é—´çš„æ•°æ®äº¤äº’, ä¾‹å¦‚ NFS, SMB, NBD, HTTP, FTP, æˆ– SSH, å½“ç„¶è¿™ä¹ˆåšçš„å‰ææ˜¯ä½ å·²ç»é…ç½®å¥½äºŒè€…ä¹‹é—´çš„ç½‘ç»œï¼Œä¸”åœ¨ç³»ç»Ÿä¸Šå¯åŠ¨äº†ç›¸åº”çš„æœåŠ¡ç¨‹åºã€‚\nåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œç”¨æˆ·æ¨¡å¼çš„å®¢æˆ·æœºèƒ½å¤Ÿé€šè¿‡10.0.2.2è¿™ä¸ªIPè®¿é—®åˆ°å®¿ä¸»æœºã€‚ä»»ä½•è¿è¡Œäºå®¿ä¸»æœºä¸Šçš„æœåŠ¡ç«¯ç¨‹åºéƒ½å¯ä»¥é€šè¿‡è¿™ä¸ªåœ°å€è¢«è®¿é—®åˆ°ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªIPè®¿é—®åˆ°å®¿ä¸»æœºä¸Šçš„SSHæœåŠ¡å™¨æˆ–SMBæœåŠ¡å™¨ã€‚å› æ­¤åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®¢æˆ·æœºèƒ½å¤ŸæŒ‚è½½å®¿ä¸»æœºé€šè¿‡SMB or NFSæš´éœ²å‡ºæ¥çš„ç›®å½•ï¼Œä¹Ÿå¯ä»¥è®¿é—®å®¿ä¸»æœºä¸Šçš„HTTPæœåŠ¡å™¨ç­‰ã€‚ é€šå¸¸æƒ…å†µä¸‹å®¿ä¸»æœºæ— æ³•è®¿é—®å®¢æˆ·æœºä¸Šçš„æœåŠ¡ï¼Œä¸è¿‡ä½ ä¹Ÿå¯ä»¥é€šè¿‡ä¸€äº›ç‰¹æ®Šçš„ç½‘ç»œé…ç½®è¾¾åˆ°è¿™ä¸ªç›®çš„ (å‚é˜…#Tap ç½‘ç»œ)\nQEMU ç«¯å£è½¬å‘ QEMUèƒ½å¤Ÿå°†å®¿ä¸»æœºçš„ç«¯å£è½¬å‘åˆ°å®¢æˆ·æœºä¸Šä»¥å®ç°ä¸€äº›åŠŸèƒ½ï¼Œä¾‹å¦‚ä»å®¿ä¸»æœºä¸Šè®¿é—®å®¢æˆ·æœºçš„SSHç«¯å£ã€‚\nä¸¾ä¸ªä¾‹å­ï¼Œå°†å®¿ä¸»æœºä¸Šçš„10022ç«¯å£ä¸å®¢æˆ·æœºä¸Šçš„22 (SSH) ç«¯å£è¿›è¡Œç»‘å®šï¼Œ å¯¹åº”çš„QEMUå‘½ä»¤å¦‚ä¸‹ï¼š\n$ qemu-system-x86_64 disk_image -nic user,hostfwd=tcp::10022-:22 ç¡®è®¤ä½ å®¢æˆ·æœºä¸Šçš„sshdç¨‹åºæ­£åœ¨è¿è¡Œï¼Œç„¶åå¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤è¿æ¥åˆ°å®¢æˆ·æœºçš„SSHç«¯å£\n$ ssh guest-user@localhost -p 10022 ä½ å¯ä»¥ç”¨ SSHFS æŠŠå®¢æˆ·æœºçš„æ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿéƒ½æŒ‚åˆ°å®¿ä¸»æœºä¸Šï¼Œè¿™æ ·å°±å¯ä»¥åœ¨å®¿ä¸»æœºä¸Šå¯¹å®¢æˆ·æœºçš„æ–‡ä»¶ç³»ç»Ÿè¿›è¡Œè¯»å†™äº†ã€‚\næƒ³è¿›è¡Œå¤šç«¯å£è½¬å‘çš„è¯, åªéœ€è¦åœ¨-nicå‚æ•°ä¸­æŒ‡å®šå¤šä¸ªhostfwd, ä»¥VNCç«¯å£ä¸ºä¾‹:\n$ qemu-system-x86_64 disk_image -nic user,hostfwd=tcp::10022-:22,hostfwd=tcp::5900-:5900 QEMU çš„å†…ç½®SMBæœåŠ¡å™¨ QEMUçš„æ–‡æ¡£ä¸­æŒ‡å‡ºå®ƒæœ‰ä¸€ä¸ªå†…ç½®çš„SMBæœåŠ¡å™¨ï¼Œä½†å®é™…ä¸Šï¼Œå®ƒåªæ˜¯åœ¨å®¿ä¸»æœºä¸ŠåŠ è½½ä¸€ä¸ªè‡ªåŠ¨ç”Ÿæˆçš„smb.confé…ç½®æ–‡ä»¶ (ä½äº/tmp/qemu-smb.random_string)ï¼Œç„¶åå¯åŠ¨å®¿ä¸»æœºä¸Šçš„Sambaï¼Œä½¿å¾—å®¢æˆ·æœºèƒ½å¤Ÿé€šè¿‡ä¸€ä¸ªIPåœ°å€è¿›è¡Œè®¿é—® (é»˜è®¤çš„IPåœ°å€æ˜¯10.0.2.4)ã€‚è¿™ä¸ªæ–¹æ³•åªé€‚ç”¨äºç”¨æˆ·ç½‘ç»œï¼Œåœ¨ä½ ä¸æƒ³åœ¨å®¿ä¸»æœºå¼€å¯é€šå¸¸çš„SambaæœåŠ¡ (å®¢æˆ·æœºåŒæ ·èƒ½è®¿é—®è¿™ç±»SambaæœåŠ¡) æ—¶è¿™ä¸ªæ–¹æ³•è¿˜æŒºå¥½ç”¨çš„ã€‚\nå®¿ä¸»æœºä¸Šå¿…é¡»å®‰è£… Sambaã€‚é€šè¿‡å¦‚ä¸‹QEMUå‘½ä»¤å¯ç”¨è¿™é¡¹ç‰¹æ€§:\n$ sudo apt install samba $ qemu-system-x86_64 disk_image -net nic -net user,smb=shared_dir_path shared_dir_path å°±æ˜¯ä½ æƒ³è¦åœ¨å®¿ä¸»æœºå’Œå®¢æˆ·æœºä¹‹é—´å…±äº«çš„ç›®å½•ã€‚\næ¥ç€ï¼Œåœ¨å®¢æˆ·æœºå†…ï¼Œä½ åº”è¯¥èƒ½å¤Ÿé€šè¿‡10.0.2.4è®¿é—®åˆ°åä¸ºqemuçš„å…±äº«æ–‡ä»¶å¤¹ã€‚ä¾‹å¦‚åœ¨Windows Explorerä¸­å‰å¾€ \\\\10.0.2.4\\qemu è¿™ä¸ªåœ°å€ã€‚\næ³¨æ„ï¼š\n å¦‚æœä½ åƒè¿™æ ·å¤šæ¬¡æŒ‡å®šå…±äº«é€‰é¡¹ -net user,smb=shared_dir_path1 -net user,smb=shared_dir_path2 or -net user,smb=shared_dir_path1,smb=shared_dir_path2 qemuåªä¼šå…±äº«å‚æ•°ä¸­æœ€åçš„ä¸€ä¸ªç›®å½•ã€‚ å¦‚æœä½ ä¸èƒ½è®¿é—®å…±äº«æ–‡ä»¶å¤¹ä¸”å®¢æˆ·æœºç³»ç»Ÿä¸º Windows, è¯·æ£€æŸ¥ NetBIOS åè®®æ˜¯å¦è¢«å¯ç”¨ å¹¶ç¡®è®¤é˜²ç«å¢™æ²¡æœ‰å±è”½NetBIOSåè®®çš„ ç«¯å£ å¦‚æœä½ ä¸èƒ½è®¿é—®å…±äº«æ–‡ä»¶å¤¹ä¸”å®¢æˆ·æœºç³»ç»Ÿä¸º Windows 10 Enterprise æˆ– Education æˆ– Windows Server 2016, è¯·å¯ç”¨æ¸¸å®¢è®¿é—®.  å…±äº«å¤šä¸ªæ–‡ä»¶å¤¹å¹¶åœ¨è¿è¡Œæ—¶å¢åˆ æ–‡ä»¶å¤¹çš„ä¸€ä¸ªæ–¹æ³•æ˜¯ï¼šå…±äº«ä¸€ä¸ªç©ºç›®å½•ï¼Œç„¶ååœ¨å…¶ä¸­åˆ›å»ºæŒ‡å‘å…¶ä½™å…±äº«ç›®å½•çš„ç¬¦å·é“¾æ¥ã€‚å¯ä»¥ç”¨ä¸‹é¢çš„è„šæœ¬ä¿®æ”¹SMBæœåŠ¡å™¨çš„é…ç½®ï¼Œè¿™ä¸ªè„šæœ¬è¿˜èƒ½ä½¿å®¿ä¸»æœºä¸Šä¸å…è®¸æ‰§è¡Œçš„æ–‡ä»¶åœ¨å®¢æˆ·æœºå†…æ‹¥æœ‰æ‰§è¡Œæƒé™ã€‚\n#!/bin/bash eval $(ps h -C smbd -o pid,args | grep /tmp/qemu-smb | gawk \u0026#39;{print \u0026#34;pid=\u0026#34;$1\u0026#34;;conf=\u0026#34;$6}\u0026#39;) echo \u0026#34;[global] allow insecure wide links = yes [qemu] follow symlinks = yes wide links = yes acl allow execute always = yes\u0026#34; \u0026gt;\u0026gt; $conf # in case the change is not detected automatically: smbcontrol --configfile=$conf $pid reload-config ä»…å½“å®¢æˆ·æœºç¬¬ä¸€æ¬¡è®¿é—®åˆ°ç½‘ç»œé©±åŠ¨åï¼Œæ‰èƒ½å°†è¯¥è„šæœ¬å¯ç”¨ï¼Œå¹¶ä½œç”¨äºqemuå¯åŠ¨çš„SMBæœåŠ¡å™¨ã€‚å…±äº«å¤šæ–‡ä»¶çš„å¦ä¸€ä¸ªæ–¹æ³•æ˜¯åœ¨é…ç½®æ–‡ä»¶é‡ŒåŠ å…¥é¢å¤–çš„å…±äº«è·¯å¾„ï¼Œå°±åƒä¸‹é¢è¿™æ ·\n$ echo \u0026#34;[myshare] path=another_path read only=no guest ok=yes force user=username\u0026#34; \u0026gt;\u0026gt; $conf è¿™ä¸ªå…±äº«æ–‡ä»¶å¤¹å¯ä»¥åœ¨å®¢æˆ·æœºå†…é€šè¿‡\\\\10.0.2.4\\*myshare*è®¿é—®ã€‚\nç½‘ç»œ é‡‡ç”¨TAPè®¾å¤‡ï¼ˆtun ä¸ tap è®¾å¤‡ï¼Œéƒ½æ˜¯è™šæ‹Ÿç½‘ç»œè®¾å¤‡ï¼Œtun è®¾å¤‡ç”¨æ¥å®ç°ä¸‰å±‚éš§é“ï¼ˆä¸‰å±‚ ip æ•°æ®æŠ¥ï¼‰ï¼Œtap è®¾å¤‡ç”¨æ¥å®ç°äºŒå±‚éš§é“ï¼ˆäºŒå±‚ä»¥å¤ªç½‘æ•°æ®å¸§ï¼‰ã€‚ï¼‰å’Œç½‘æ¡¥ï¼ˆä½¿ç”¨ç½‘æ¡¥å¯ä»¥å°†å¤šä¸ªæ¥å£è¿æ¥åˆ°åŒä¸€ç½‘æ®µå†…ï¼Œè¿™ä¸€åŠŸèƒ½ç­‰åŒäºäº¤æ¢å¼é›†çº¿å™¨ã€‚ï¼‰çš„è™šæ‹Ÿç½‘ç»œçš„æ€§èƒ½åº”è¯¥ä¼šæ¯”ä½¿ç”¨ç”¨æˆ·æ¨¡å¼ç½‘ç»œæˆ–VDEè¦å¥½ï¼ŒåŸå› åœ¨äºTAPè®¾å¤‡å’Œç½‘æ¡¥æ˜¯åœ¨å†…æ ¸ä¸­å®ç°çš„ã€‚\næ­¤å¤–ï¼Œè™šæ‹Ÿç½‘ç»œçš„æ€§èƒ½å¯ä»¥é€šè¿‡å°†ç½‘ç»œè®¾å¤‡ç›´æ¥æ³¨å†Œåˆ°è™šæ‹Ÿæœºä¸­æ”¹å–„ï¼Œè¿™æ¯”é»˜è®¤æƒ…å†µä¸‹æ¨¡æ‹Ÿe1000 NICçš„æ€§èƒ½è¡¨ç°è¦æ›´å¥½ï¼Œå‚é˜… [å®‰è£… virtio é©±åŠ¨](#å®‰è£… virtio é©±åŠ¨) è·å¾—æ›´å¤šç›¸å…³ä¿¡æ¯ã€‚\nå…³äºé“¾è·¯å±‚åœ°å€çš„é™åˆ¶ è‹¥åœ¨QEMUå¯åŠ¨ä¸­æŒ‡å®šäº† -net nic å‚æ•°ï¼ŒQEMUå°†ä¼šä¸ºè™šæ‹Ÿæœºæ³¨å†Œä¸€å—è™šæ‹Ÿç½‘å¡ï¼Œå…¶é“¾è·¯å±‚åœ°å€ä¸º 52:54:00:12:34:56 ã€‚ç„¶è€Œï¼Œå½“åœ¨å¤šå°è™šæ‹Ÿæœºä¹‹é—´æ­å»ºæ¡¥æ¥ç½‘ç»œæ—¶ï¼Œæ¯å°è™šæ‹Ÿæœºåœ¨tapè®¾å¤‡çš„è™šæ‹Ÿæœºç«¯éƒ½éœ€è¦æ‹¥æœ‰ä¸€ä¸ªç‹¬ä¸€æ— äºŒçš„é“¾è·¯å±‚åœ°å€ (MAC)ï¼Œå¦åˆ™ç½‘æ¡¥ä¼šå› ä¸ºæ”¶åˆ°å¤šä¸ªä¸åŒæºå´æ‹¥æœ‰ç›¸åŒMACåœ°å€çš„æ•°æ®åŒ…è€Œæ— æ³•æ­£å¸¸å·¥ä½œã€‚å³ä½¿ä½ ä¸ºå¤šä¸ªtapè®¾å¤‡é…ç½®äº†ä¸åŒçš„MACåœ°å€ä¹Ÿä¾æ—§ä¼šå‡ºç°è¿™ä¸ªé—®é¢˜ï¼Œå› ä¸ºå½“æ•°æ®åŒ…é€šè¿‡tapè®¾å¤‡æ—¶ï¼Œtapè®¾å¤‡å¹¶ä¸ä¼šæ”¹å†™åŒ…å†…çš„é“¾è·¯å±‚åœ°å€ã€‚\nå› æ­¤è¯·ç¡®ä¿æ¯ä¸ªè™šæ‹Ÿæœºæ‹¥æœ‰è‡ªå·±ç‹¬ä¸€æ— äºŒçš„ç½‘å¡åœ°å€, å¹¶ä¸”å®ƒä»¬éƒ½ä»¥ 52:54: å¼€å¤´ã€‚ å¯ä»¥é€šè¿‡å¦‚ä¸‹å‘½ä»¤æ‰‹åŠ¨è®¾ç½®è™šæ‹Ÿæœºçš„MACåœ°å€, ä¸‹é¢çš„\u0026rsquo;X\u0026rsquo;å¯ä»¥æ›¿æ¢æˆä»»ä½•16è¿›åˆ¶å­—ç¬¦:\n$ qemu-system-x86_64 -net nic,macaddr=52:54:XX:XX:XX:XX -net vde disk_image ç”¨æˆ·æ¨¡å¼ é»˜è®¤æƒ…å†µä¸‹ï¼Œæ²¡æœ‰ä»»ä½•-netdevå‚æ•°ï¼ŒQEMUå°†ä½¿ç”¨å¸¦æœ‰å†…ç½®DHCPæœåŠ¡å™¨çš„ç”¨æˆ·æ¨¡å¼ç½‘ç»œã€‚å½“æ‚¨çš„è™šæ‹Ÿæœºè¿è¡Œå…¶DHCPå®¢æˆ·ç«¯æ—¶ï¼Œå°†ä¸ºå…¶åˆ†é…IPåœ°å€ï¼Œå®ƒä»¬å°†èƒ½å¤Ÿé€šè¿‡QEMUä¼ªè£…çš„IPæ¥è®¿é—®ç‰©ç†ä¸»æœºçš„ç½‘ç»œã€‚\nè­¦å‘Šï¼š ä»…é€‚ç”¨äºTCPå’ŒUDPåè®®ï¼Œå› æ­¤ICMPåè®®ï¼ˆåŒ…æ‹¬pingï¼‰å°†ä¸èµ·ä½œç”¨ã€‚ è¯·å‹¿ä½¿ç”¨pingæµ‹è¯•ç½‘ç»œè¿æ¥ã€‚\nå¦‚æœä¸»æœºå·²è¿æ¥Internetï¼Œåˆ™æ­¤é»˜è®¤é…ç½®å¯ä»¥ä½¿æ‚¨çš„è™šæ‹Ÿæœºè½»æ¾è®¿é—®Internetã€‚ä½†æ˜¯å¦‚æœæ‚¨åŒæ—¶å¯åŠ¨å¤šä¸ªè™šæ‹Ÿæœºï¼Œåˆ™è™šæ‹Ÿæœºå°†æ— æ³•åœ¨å¤–éƒ¨ç½‘ç»œä¸Šç›´æ¥çœ‹åˆ°ï¼Œè™šæ‹Ÿæœºä¹Ÿå°†æ— æ³•ç›¸äº’é€šä¿¡ã€‚\nQEMUçš„ç”¨æˆ·æ¨¡å¼ç½‘ç»œå¯ä»¥æä¾›æ›´å¤šåŠŸèƒ½ï¼Œä¾‹å¦‚å†…ç½®TFTPæˆ–SMBæœåŠ¡å™¨ï¼Œå°†ä¸»æœºç«¯å£é‡å®šå‘åˆ°è™šæ‹Ÿæœºï¼ˆä¾‹å¦‚ï¼Œå…è®¸SSHè¿æ¥åˆ°è™šæ‹Ÿæœºï¼‰æˆ–å°†è™šæ‹Ÿæœºè¿æ¥åˆ°VLANï¼ˆvlan å…¨ç¨‹ virtual lanï¼Œèƒ½å¤Ÿç”¨æ¥è™šæ‹Ÿåˆ†é…ä»¥å¤ªç½‘ã€‚å½’å±äºä¸åŒçš„ VLAN ID çš„è®¾å¤‡ä¹‹é—´éœ€è¦ä¸€ä¸ªè·¯ç”±æ‰èƒ½å¤Ÿé€šä¿¡ï¼Œè¿™æ„å‘³è¿™ä¸åŒçš„ VLAN ID å°†ä»¥å¤ªç½‘åˆ’åˆ†æˆäº†ä¸åŒçš„åˆ†ç»„ã€‚ï¼‰ï¼Œä»¥ä¾¿å®ƒä»¬å¯ä»¥å½¼æ­¤é€šä¿¡ã€‚ æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§-net useræ ‡å¿—ä¸Šçš„QEMUæ–‡æ¡£ã€‚\nä½†æ˜¯ï¼Œç”¨æˆ·æ¨¡å¼ç½‘ç»œåœ¨æ•ˆç”¨å’Œæ€§èƒ½ä¸Šéƒ½æœ‰å±€é™æ€§ã€‚æ›´é«˜çº§çš„ç½‘ç»œé…ç½®éœ€è¦ä½¿ç”¨TAPè®¾å¤‡æˆ–å…¶ä»–æ–¹æ³•ã€‚\nTap ç½‘ç»œ Tap devicesæ˜¯ä¸€ä¸ªLinuxå†…æ ¸ç‰¹æ€§ï¼Œå…è®¸æ‚¨åˆ›å»ºä½œä¸ºçœŸå®ç½‘ç»œæ¥å£çš„è™šæ‹Ÿç½‘ç»œæ¥å£ã€‚å‘é€åˆ°tapæ¥å£çš„åŒ…å°†è¢«ä¼ é€’åˆ°ä¸€ä¸ªç”¨æˆ·ç©ºé—´ç¨‹åº(å¦‚QEMU)ï¼Œè¯¥ç¨‹åºå°†è‡ªå·±ç»‘å®šåˆ°è¯¥æ¥å£ã€‚\nQEMUå¯ä»¥ä¸ºè™šæ‹Ÿæœºä½¿ç”¨tapç½‘ç»œï¼Œå› æ­¤å‘é€åˆ°tapæ¥å£çš„åŒ…å°†è¢«å‘é€åˆ°è™šæ‹Ÿæœºï¼Œå¹¶æ˜¾ç¤ºä¸ºæ¥è‡ªè™šæ‹Ÿæœºä¸­çš„ç½‘ç»œæ¥å£(é€šå¸¸æ˜¯ä»¥å¤ªç½‘æ¥å£)ã€‚ç›¸åï¼Œè™šæ‹Ÿæœºé€šè¿‡å…¶ç½‘ç»œæ¥å£å‘é€çš„æ‰€æœ‰å†…å®¹éƒ½å°†å‡ºç°åœ¨tapæ¥å£ä¸Šã€‚\nLinuxæ¡¥æ¥é©±åŠ¨ç¨‹ åºæ”¯æŒTapè®¾å¤‡ï¼Œå› æ­¤å¯ä»¥å°†Tapè®¾å¤‡å½¼æ­¤æ¡¥æ¥åœ¨ä¸€èµ·ï¼Œä¹Ÿå¯ä»¥è¿æ¥å…¶ä»–ä¸»æœºæ¥å£ï¼Œå¦‚eth0ã€‚å¦‚æœæ‚¨å¸Œæœ›æ‚¨çš„è™šæ‹Ÿæœºèƒ½å¤Ÿç›¸äº’é€šä¿¡ï¼Œæˆ–è€…å¸Œæœ›LANä¸Šçš„å…¶ä»–æœºå™¨èƒ½å¤Ÿä¸è™šæ‹Ÿæœºé€šä¿¡ï¼Œé‚£ä¹ˆè¿™æ˜¯éå¸¸ç†æƒ³çš„æ–¹æ¡ˆã€‚\nè­¦å‘Šï¼š å¦‚æœæ‚¨å°†tapè®¾å¤‡å’Œä¸€äº›ä¸»æœºæ¥å£æ¡¥æ¥åœ¨ä¸€èµ·ï¼Œä¾‹å¦‚eth0ï¼Œæ‚¨çš„è™šæ‹Ÿæœºå°†ç›´æ¥å‡ºç°åœ¨å¤–éƒ¨ç½‘ç»œä¸Šï¼Œè¿™å°†ä½¿å®ƒä»¬é­å—æ”»å‡»çš„å¯èƒ½ã€‚æ ¹æ®æ‚¨çš„è™šæ‹Ÿæœºå¯ä»¥è®¿é—®çš„èµ„æºï¼Œæ‚¨å¯èƒ½éœ€è¦é‡‡å–æ‰€æœ‰precautionsæ¥ä¿æŠ¤æ‚¨çš„è™šæ‹Ÿæœºã€‚å¦‚æœé£é™©å¤ªå¤§,è™šæ‹Ÿæœºæ²¡æœ‰èµ„æºæˆ–æ‚¨è®¾ç½®å¤šä¸ªè™šæ‹Ÿæœº,ä¸€ä¸ªæ›´å¥½çš„è§£å†³æ–¹æ¡ˆå¯èƒ½æ˜¯ä½¿ç”¨host-only networkingå»ºç«‹NATã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨åªéœ€è¦åœ¨ä¸»æœºä¸Šå®‰è£…ä¸€ä¸ªé˜²ç«å¢™ï¼Œè€Œä¸æ˜¯ä¸ºæ¯ä¸ªè™šæ‹Ÿæœºå®‰è£…å¤šä¸ªé˜²ç«å¢™ã€‚\næ­£å¦‚åœ¨ç”¨æˆ·æ¨¡å¼ç½‘ç»œéƒ¨åˆ†ä¸­æŒ‡å‡ºçš„ï¼Œtapè®¾å¤‡æä¾›æ¯”ç”¨æˆ·æ¨¡å¼å…·æœ‰æ›´é«˜çš„ç½‘ç»œæ€§èƒ½ã€‚å¦‚æœè™šæ‹Ÿæœºä¸­çš„æ“ä½œç³»ç»Ÿæ”¯æŒvirtioç½‘ç»œé©±åŠ¨ç¨‹åºï¼Œé‚£ä¹ˆç½‘ç»œæ€§èƒ½ä¹Ÿä¼šæ˜¾è‘—æé«˜ã€‚å‡è®¾ä½¿ç”¨tap0è®¾å¤‡ï¼Œvirtioé©±åŠ¨ç¨‹åºåœ¨å®¢æˆ·ç«¯ä¸Šä½¿ç”¨ï¼Œå¹¶ä¸”æ²¡æœ‰ä½¿ç”¨è„šæœ¬æ¥å¸®åŠ©å¯åŠ¨/åœæ­¢ç½‘ç»œï¼Œä½¿ç”¨ä¸‹é¢çš„qemuå‘½ä»¤ï¼š\n-net nic,model=virtio -net tap,ifname=tap0,script=no,downscript=no ä½†æ˜¯ï¼Œå¦‚æœå·²ç»ä½¿ç”¨å¸¦æœ‰virtioç½‘ç»œé©±åŠ¨ç¨‹åºçš„Tapè®¾å¤‡ï¼Œåˆ™ç”šè‡³å¯ä»¥é€šè¿‡å¯ç”¨vhostæ¥æé«˜ç½‘ç»œæ€§èƒ½ï¼Œä¾‹å¦‚ï¼š\n-net nic,model=virtio -net tap,ifname=tap0,script=no,downscript=no,vhost=on ä»…ä¸»æœºç½‘ç»œ\nå¦‚æœä¸ºç½‘æ¡¥æä¾›äº†IPåœ°å€ï¼Œå¹¶ä¸”ä½¿èƒ½å‘å¾€è¯¥ç½‘æ¡¥çš„æµé‡å…è®¸ï¼Œä½†æ²¡æœ‰å®é™…æ¥å£ï¼ˆä¾‹å¦‚eth0ï¼‰è¿æ¥åˆ°ç½‘æ¡¥ï¼Œåˆ™è™šæ‹Ÿæœºä¸è™šæ‹Ÿæœºé—´ï¼Œè™šæ‹Ÿæœºä¸ä¸»æœºé—´èƒ½å¤Ÿç›¸äº’é€šä¿¡ã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨æ²¡æœ‰åœ¨ç‰©ç†ä¸»æœºä¸Šè®¾ç½®IPæ©è”½ï¼Œåˆ™ä»–ä»¬å°†æ— æ³•ä¸å¤–éƒ¨ç½‘ç»œè¿›è¡Œé€šä¿¡ã€‚ æ­¤é…ç½®è¢«å…¶ä»–è™šæ‹ŸåŒ–è½¯ä»¶ï¼ˆä¾‹å¦‚VirtualBoxï¼‰ç§°ä¸ºâ€œä»…ä¸»æœºç½‘ç»œæ¨¡å¼â€ã€‚\næç¤ºï¼š\n  å¦‚æœä½ æƒ³è®¾ç½®IPæ©è”½ï¼Œä¾‹å¦‚è™šæ‹Ÿæœºçš„NATï¼Œè¯·æŸ¥çœ‹Internet sharing#Enable NATé¡µé¢ã€‚\n  æ‚¨ä¹Ÿè®¸æƒ³åœ¨ç½‘æ¡¥æ¥å£ä¸Šè¿è¡Œä¸€ä¸ªDHCPæœåŠ¡å™¨æ¥æœåŠ¡è™šæ‹Ÿç½‘ç»œã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨172.20.0.1/16å­ç½‘ï¼Œdnsmasqä½œä¸ºDHCPæœåŠ¡å™¨:\n# ip addr add 172.20.0.1/16 dev br0 # ip link set br0 up # dnsmasq --interface=br0 --bind-interfaces --dhcp-range=172.20.0.2,172.20.255.254   å†…éƒ¨ç½‘ç»œ\nå¦‚æœæ‚¨ä¸ä¸ºç½‘æ¡¥æä¾›IPåœ°å€å¹¶åœ¨iptablesæ·»åŠ INPUTè§„åˆ™é“¾ï¼Œå°†æ‰€æœ‰æµå‘ç½‘æ¡¥ä¸­çš„æ•°æ®ä¸¢å¼ƒï¼Œåˆ™è™šæ‹Ÿæœºå°†èƒ½å¤Ÿå½¼æ­¤é€šä¿¡ï¼Œä½†æ— æ³•ä¸ç‰©ç†ä¸»æœºæˆ–å¤–éƒ¨ç½‘ç»œé€šä¿¡ã€‚æ­¤é…ç½®è¢«å…¶ä»–è™šæ‹ŸåŒ–è½¯ä»¶ï¼ˆä¾‹å¦‚VirtualBoxï¼‰ç§°ä¸ºâ€œå†…éƒ¨ç½‘ç»œâ€ã€‚æ‚¨å°†éœ€è¦ä¸ºè™šæ‹Ÿæœºåˆ†é…é™æ€IPåœ°å€ï¼Œæˆ–åœ¨å…¶ä¸­ä¸€ä¸ªè™šæ‹Ÿæœºä¸Šè¿è¡ŒDHCPæœåŠ¡å™¨ã€‚\nåœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œiptableså°†ä¸¢å¼ƒæ¡¥æ¥ç½‘ç»œä¸­çš„æ•°æ®åŒ…ã€‚æ‚¨å¯èƒ½éœ€è¦ä½¿ç”¨è¿™æ ·çš„iptablesè§„åˆ™æ¥å…è®¸æ¡¥æ¥ç½‘ç»œä¸­çš„æ•°æ®åŒ…:\n# iptables -I FORWARD -m physdev --physdev-is-bridged -j ACCEPT ä½¿ç”¨ qemu-bridge-helper æ¡¥æ¥ç½‘ç»œ\nè¿™ç§æ–¹æ³•ä¸éœ€è¦å¯åŠ¨è„šæœ¬ï¼Œå¹¶ä¸”å¾ˆå®¹æ˜“é€‚åº”å¤šä¸ªtapå’Œå¤šä¸ªæ¡¥ã€‚å®ƒä½¿ç”¨/usr/lib/qemu/qemu-bridge-helperï¼Œå…è®¸åœ¨ç°æœ‰æ¡¥ä¸Šåˆ›å»ºtapè®¾å¤‡ã€‚\næç¤ºï¼š å‚è§ Network bridge è·å–åˆ›å»ºç½‘æ¡¥çš„ä¿¡æ¯.\né¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼ŒåŒ…å«QEMUä½¿ç”¨çš„æ‰€æœ‰ç½‘æ¡¥çš„åç§°:\n/etc/qemu/bridge.conf allow bridge0 allow bridge1 ... ç°åœ¨å¯åŠ¨è™šæ‹Ÿæœºï¼š\n$ qemu-system-i386 -net nic -net bridge,br=bridge0 [...] åœ¨å¤šä¸ªTAPè®¾å¤‡çš„æƒ…å†µä¸‹ï¼Œæœ€åŸºæœ¬çš„ç”¨æ³•æ˜¯è¦ä¸ºæ‰€æœ‰NICæŒ‡å®šVLANï¼š\n$ qemu-system-i386 -net nic -net bridge,br=bridge0 -net nic,vlan=1 -net bridge,vlan=1,br=bridge1 [...] æ‰‹å·¥åˆ›å»ºç½‘æ¡¥\nå°†è™šæ‹Ÿæœºè¿æ¥åˆ°ä¸»æœºæ¥å£ï¼Œå¦‚eth0ï¼Œè¿™å¯èƒ½æ˜¯æœ€å¸¸è§çš„é…ç½®ã€‚è¿™ç§é…ç½®ä½¿è™šæ‹Ÿæœºçœ‹èµ·æ¥ç›´æ¥ä½äºå¤–éƒ¨ç½‘ç»œï¼Œä¸ç‰©ç†ä¸»æœºä½äºåŒä¸€ä»¥å¤ªç½‘æ®µã€‚\nç‰©ç†è®¾å¤‡å’ŒTapè®¾å¤‡ä¹‹é—´é€šè¿‡iptablesè¿›è¡Œç½‘ç»œå…±äº«\næ¡¥æ¥ç½‘ç»œèƒ½åœ¨æœ‰çº¿æ¥å£(ä¾‹å¦‚eth0)ä¹‹é—´å·¥ä½œï¼Œå¹¶ä¸”å¾ˆå®¹æ˜“è®¾ç½®ã€‚ä½†æ˜¯ï¼Œå¦‚æœä¸»æœºé€šè¿‡æ— çº¿è®¾å¤‡è¿æ¥åˆ°ç½‘ç»œï¼Œåˆ™æ— æ³•è¿›è¡Œæ¡¥æ¥ã€‚\nè§£å†³è¿™ä¸ªé—®é¢˜çš„ä¸€ç§æ–¹æ³•æ˜¯ï¼Œç»™tapè®¾å¤‡è®¾ç½®ä¸€ä¸ªé™æ€IPï¼Œä½¿linuxè‡ªåŠ¨å¤„ç†å®ƒçš„è·¯ç”±ï¼Œç„¶åé€šè¿‡iptablesè§„åˆ™è½¬å‘tapæ¥å£å’Œè¿æ¥åˆ°ç½‘ç»œçš„è®¾å¤‡ä¹‹é—´çš„é€šä¿¡ã€‚\né€šè¿‡ VDE2 é…ç½®ç½‘ç»œ VDEå…¨ç§°ä¸ºVirtual Distributed Ethernetï¼Œä½œä¸ºuml_switchçš„ä¸€ä¸ªæ‰©å±•ï¼Œæ˜¯ä¸€ä¸ªç”¨äºç®¡ç†è™šæ‹Ÿç½‘ç»œçš„å·¥å…·åŒ…\nå…¶åŸºæœ¬çš„æ€æƒ³æ˜¯åˆ›å»ºä¸€ä¸ªè™šæ‹Ÿçš„å¼€å…³ï¼Œå°±å¦‚æ’åº§é‚£æ ·ï¼Œå…è®¸è™šæ‹Ÿæœºå’Œç‰©ç†æœºé€šè¿‡\u0026quot;æ’å…¥\u0026quot;è¿æ¥å½¼æ­¤ã€‚ä¸‹é¢çš„é…ç½®éå¸¸ç®€å•ï¼Œç„¶è€Œï¼ŒVDEçš„åŠŸèƒ½è¿œæ¯”å±•ç¤ºçš„æ›´å¼ºå¤§ï¼Œå…¶èƒ½å¤Ÿæ¥å…¥è™šæ‹Ÿå¼€å…³ï¼Œåœ¨ä¸åŒçš„ä¸»æœºä¸Šè¿è¡Œå®ƒä»¬å¹¶ç›‘å¬å¼€å…³ä¸Šçš„é€šä¿¡ã€‚\næœ¬æ–¹æ³•çš„ä¼˜ç‚¹åœ¨äºæ— éœ€sudoç‰¹æƒï¼Œæ™®é€šç”¨æˆ·ä¸€èˆ¬æ²¡æœ‰è¿è¡Œmodprobeçš„æƒé™ã€‚\nVDE2 ç½‘æ¡¥ ä»»ä½•è¿æ¥åˆ°vdeä¸Šçš„è™šæ‹Ÿæœºéƒ½ä¼šæš´éœ²ç»™å¤–éƒ¨ã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæ¯å°è™šæ‹Ÿæœºéƒ½èƒ½ç›´æ¥ä»ADSLè·¯ç”±å™¨é‚£æ”¶åˆ°DHCPçš„é…ç½®ä¿¡æ¯ã€‚\nç®€åŒ–é…ç½®å‚æ•° å¦‚æœä½ ç»å¸¸éœ€è¦ä»¥ä¸åŒçš„ç½‘ç»œé…ç½®é€‰é¡¹è¿è¡ŒQEMUï¼Œå°±ä¼šå‘ç°æ—¶å¸¸å¾—è¾“å…¥å¤§é‡çš„-netdevå’Œ-deviceé€‰é¡¹ç»„åˆï¼Œè¿™äº›æ˜¯å¤§é‡é‡å¤æ€§çš„åŠ³åŠ¨ã€‚å¯ä»¥ç”¨-nicé€‰é¡¹å°†äºŒè€…ç»“åˆï¼Œå°±å¦‚ä¸‹é¢è¿™æ ·ï¼Œåº•ä¸‹è¿™äº›å‚æ•°ï¼š\n-netdev tap,id=network0,ifname=tap0,script=no,downscript=no,vhost=on -device virtio-net-pci,netdev=network0 å¯ç®€åŒ–ä¸º:\n-nic tap,script=no,downscript=no,vhost=on,model=virtio-net-pci è¦æ³¨æ„çš„æ˜¯ç¼ºå¤±äº†ç½‘ç»œIDï¼Œå› æ­¤å°†ä¼šä»¥model=åˆ›å»ºè¿™äº›è®¾å¤‡ã€‚{ic|-nic}}å‘½ä»¤çš„å‰åŠéƒ¨åˆ†å‚æ•°æ­£æ˜¯-netdevçš„å‚æ•°ï¼Œè€ŒååŠéƒ¨åˆ†å‚æ•°ï¼ˆmodel=ä¹‹åçš„éƒ¨åˆ†ï¼‰åˆ™ä¸è®¾å¤‡æœ‰å…³ï¼ŒåŸæœ¬è®¾å¤‡æ‰€æä¾›çš„å‚æ•°åŒæ ·å¯ä»¥åœ¨æ­¤ä½¿ç”¨ï¼ˆä¾‹å¦‚ï¼Œå¯ä»¥æŒ‡å®šsmb=ï¼‰ã€‚è‹¥è¦å®Œå…¨ç¦ç”¨ç½‘ç»œï¼Œå¯ä»¥ç”¨-nic noneã€‚\nå›¾å½¢ QEMU å¯ä»¥ä½¿ç”¨ä¸€ä¸‹å‡ ä¸ªå›¾å½¢è¾“å‡ºï¼šstd, cirrus, vmware, qxl, xenfs å’Œ vncã€‚\nä½¿ç”¨ vnc é€‰é¡¹ï¼Œä½ å¯ä»¥å•ç‹¬è¿è¡Œå®¢æˆ·æœºï¼Œå¹¶ä¸”é€šè¿‡ VNC è¿æ¥ã€‚\nstd ä½¿ç”¨ -vga std ä½ å¯ä»¥å¾—åˆ°æœ€é«˜ 2560 x 1600 åƒç´ çš„åˆ†è¾¨ç‡ã€‚ä» QEMU 2.2 å¼€å§‹æ˜¯é»˜è®¤é€‰é¡¹ã€‚\nqxl QXLæ˜¯ä¸€ä¸ªæ”¯æŒ2Dçš„å¹¶è¡Œè™šæ‹ŸåŒ–å›¾å½¢é©±åŠ¨ã€‚éœ€è¦åœ¨å®¢æˆ·æœºä¸­å®‰è£…é©±åŠ¨å¹¶åœ¨å¯åŠ¨QEMUæ—¶è®¾ç½®-vga qxlé€‰é¡¹ã€‚ä½ å¯èƒ½ä¹Ÿä¼šæƒ³ä½¿ç”¨#SPICEä¼˜åŒ–QXLçš„å›¾å½¢è¡¨ç°ã€‚\nåœ¨Linuxå®¢æˆ·æœºä¸­ï¼Œéœ€è¦åŠ è½½qxlå’Œbochs_drmè¿™ä¸¤ä¸ªå†…æ ¸æ¨¡å—ï¼Œä»¥è·å¾—ä¸€ä¸ªæ¯”è¾ƒå¥½çš„æ•ˆæœã€‚\nQXLè®¾å¤‡çš„é»˜è®¤VGAå†…å­˜å¤§å°ä¸º16Mï¼Œè¿™æ ·çš„å†…å­˜å¤§å°æœ€é«˜æ”¯æŒQHD (2560x1440)çš„åˆ†è¾¨ç‡ï¼Œå¦‚æœæƒ³è¦ä¸€ä¸ªæ›´é«˜çš„åˆ†è¾¨ç‡ï¼Œè¯·å¢åŠ vga_memmbã€‚\nvmware å°½ç®¡Bugæœ‰ç‚¹å¤šï¼Œä½†ç›¸æ¯”äºstdå’Œcirruså®ƒçš„è¡¨ç°ä¼šæ›´å¥½ã€‚å¯¹äºArch Linuxå®¢æˆ·æœºæ¥è¯´å¯ä»¥å®‰è£…xf86-video-vmwareå’Œxf86-input-vmmouseè·å–VMwareé©±åŠ¨ã€‚\nvirtio virtio-vga / virtio-gpu æ˜¯ä¸€ä¸ªåŸºäºvirglçš„3Då¹¶è¡Œè™šæ‹ŸåŒ–å›¾å½¢é©±åŠ¨ã€‚ç›®å‰ä¾æ—§å¤„äºå¼€å‘ä¸­ï¼Œä»…æ”¯æŒæœ€è¿‘çš„ï¼ˆ\u0026gt;= 4.4ï¼‰çš„Linuxå®¢æˆ·æœºï¼Œä¸”éœ€è¦ä»¥gallium-drivers=virglé€‰é¡¹ç¼–è¯‘mesa (\u0026gt;=11.2)ã€‚\nè‹¥è¦åœ¨å®¢æˆ·æœºä¸Šå¯ç”¨3DåŠ é€Ÿï¼Œé‚£ä¹ˆéœ€è¦ç”¨-vga virtioé€‰é¡¹é€‰æ‹©æ­¤vgaï¼Œå¹¶ç”¨-display sdl,gl=onæˆ–-display gtk,gl=onåœ¨æ˜¾ç¤ºè®¾å¤‡ä¸Šå¯ç”¨openglä¸Šä¸‹æ–‡ï¼Œè¿™ä¸¤ä¸ªé€‰é¡¹åˆ†åˆ«é€‚ç”¨äºsdlè¾“å‡ºå’Œgtkè¾“å‡ºã€‚å¦‚æœé…ç½®æˆåŠŸäº†ï¼Œé‚£ä¹ˆåœ¨å®¢æˆ·æœºçš„kernel logé‡Œå¯ä»¥çœ‹åˆ°ï¼š\n# dmesg | grep drm [drm] pci: virtio-vga detected [drm] virgl 3d acceleration enabled cirrus cirrusæ˜¯2.2ä¹‹å‰é»˜è®¤çš„å›¾å½¢é€‰é¡¹ï¼Œä¸åº”å½“åœ¨ç°ä»£æ“ä½œç³»ç»Ÿä¸­ä½¿ç”¨å®ƒã€‚\nnone è¿™å°±åƒä¸€å°å®Œå…¨æ²¡æœ‰VGAå¡çš„PCï¼Œæ— æ³•é€šè¿‡-vncè®¿é—®å®ƒã€‚å¦å¤–ï¼Œè¿™ç§æƒ…å†µä¸ä½¿ç”¨-nographicé€‰é¡¹ä¸åŒï¼Œ-nographicä¼šè®©QEMUæ¨¡æ‹ŸVGAå¡ï¼Œåªæ˜¯å…³é—­äº†SDLè¾“å‡ºã€‚\nSPICE SPICE projectæ—¨åœ¨ä¸ºç”¨æˆ·æä¾›ä¸€ç§å®Œå…¨å¼€æºçš„æ–¹å¼ï¼Œæ— ç¼åœ°å¯¹è™šæ‹Ÿæœºè¿›è¡Œè¿œç¨‹è®¿é—®ã€‚\nVNC å¯ä»¥ç”¨-vnc :*X*é€‰é¡¹å°†QEMUçš„VGAè¾“å‡ºé‡å®šå‘è‡³VNCä¼šè¯ä¸­ã€‚å°†*X*æ›¿æ¢ä¸ºè¾“å‡ºç›®æ ‡çš„ç¼–å·ï¼ˆ0ä»£è¡¨ä¹‹åç›‘å¬åœ¨5900ï¼Œ1ä»£è¡¨ç›‘å¬åœ¨5901\u0026hellip;ï¼‰ã€‚\n$ qemu-system-x86_64 -vnc :0 è­¦å‘Šï¼š é»˜è®¤çš„VNCæœåŠ¡å™¨æ²¡æœ‰ä½¿ç”¨ä»»ä½•éªŒè¯æ‰‹æ®µï¼Œç”¨æˆ·å¯ä»¥ä»ä»»ä½•ä¸»æœºä¸Šè¿æ¥åˆ°VNCã€‚\nåŸºæœ¬çš„å£ä»¤éªŒè¯\nå¯ä»¥é€šè¿‡ä½¿ç”¨passwordé€‰é¡¹å¾ˆå®¹æ˜“åœ°è®¾ç½®è®¿é—®å£ä»¤ã€‚å¿…é¡»åœ¨QEMU Monitorä¸­æŒ‡å®šå£ä»¤ï¼Œä»…å½“ç”¨æˆ·æä¾›å£ä»¤æ—¶æ‰æœ‰å¯èƒ½è¿æ¥åˆ°VNCã€‚\n$ qemu-system-x86_64 -vnc :0,password -monitor stdio åœ¨QEMU Monitorä¸­è®¾ç½®å£ä»¤éœ€ä½¿ç”¨change vnc passwordå‘½ä»¤ï¼Œç„¶åæŒ‡å®šä¸€ä¸ªå£ä»¤ã€‚\nåº•ä¸‹çš„å‘½ä»¤å°†åœ¨å¯åŠ¨VNCæ—¶ç›´æ¥ä¸ºå…¶è®¾ç½®å£ä»¤ï¼š\n$ printf \u0026quot;change vnc password\\n%s\\n\u0026quot; MYPASSWORD | qemu-system-x86_64 -vnc :0,password -monitor stdio æ³¨æ„ï¼š å£ä»¤è¢«é™åˆ¶åœ¨8ä¸ªå­—ç¬¦å†…ï¼Œå¯ä»¥ç”¨æš´åŠ›ç ´è§£çš„æ–¹å¼çŒœåˆ°å£ä»¤ã€‚å› æ­¤åœ¨å…¬ç½‘ä¸Šæ¨èä½¿ç”¨æ›´ç»†è‡´çš„ä¿æŠ¤æªæ–½ã€‚\néŸ³é¢‘ -audiodevæ ‡è¯†ç”¨äºè®¾å®šåç«¯éŸ³é¢‘é©±åŠ¨åŠå…¶ç›¸å…³é€‰é¡¹ã€‚æœ€ç®€å•çš„æƒ…å†µä¸‹ï¼Œä½ éœ€è¦é€‰æ‹©ä¸€ä¸ªé©±åŠ¨å¹¶è®¾ç½®ä¸€ä¸ªidã€‚\n-audiodev pa,id=snd0 ä½¿ç”¨éŸ³é¢‘è®¾å¤‡ Intel HD Audio\næ¨¡æ‹ŸIntel HD Audioéœ€è¦æ·»åŠ æ§åˆ¶å™¨å’Œç¼–è§£ç å™¨è®¾å¤‡ã€‚å¯ä»¥ç”¨å¦‚ä¸‹å‘½ä»¤åˆ—å‡ºå¯ç”¨çš„Intel HDA Audioè®¾å¤‡ï¼š\n$ qemu-system-x86_64 -device help | grep hda æ·»åŠ éŸ³é¢‘æ§åˆ¶å™¨ï¼š\n-device ich9-intel-hda æ·»åŠ éŸ³é¢‘ç¼–è§£ç å™¨å¹¶å°†å…¶æ˜ å°„åˆ°å®¿ä¸»æœºçš„éŸ³é¢‘åç«¯idä¸Šã€‚\n-device hda-output,audiodev=snd0 Intel 82801AA AC97\næ¨¡æ‹ŸAC97éœ€è¦æ·»åŠ å£°å¡è®¾å¤‡å¹¶å°†å…¶æ˜ å°„åˆ°å®¿ä¸»æœºçš„ä¸€ä¸ªéŸ³é¢‘åç«¯idä¸Šã€‚\n-device AC97,audiodev=snd0 æ— éŸ³é¢‘è®¾å¤‡ é€šè¿‡å¦‚ä¸‹å‘½ä»¤è·å–æ”¯æŒæ¨¡æ‹Ÿçš„éŸ³é¢‘é©±åŠ¨åˆ—è¡¨ï¼š\n$ qemu-system-x86_64 -soundhw help æ¯”å¦‚ï¼Œè¦åœ¨å®¢æˆ·æœºä¸Šæ¨¡æ‹Ÿhdaé©±åŠ¨ï¼Œéœ€è¦ä½¿ç”¨-device intel-hda -device hda-duplexé€‰é¡¹å¯åŠ¨QEMUã€‚\næ³¨æ„ï¼š å®¢æˆ·æœºçš„æ˜¾å¡æ¨¡æ‹Ÿé©±åŠ¨å¯èƒ½ä¹Ÿä¼šå¯¼è‡´å®¢æˆ·æœºä¸­çš„éŸ³é¢‘è´¨é‡å‡ºç°é—®é¢˜ï¼Œéœ€è¦ä¸€ä¸ªä¸ªè¿›è¡Œæ’æŸ¥ã€‚ä½¿ç”¨qemu-system-x86_64 -h | grep vgaåˆ—å‡ºå¯ç”¨çš„é€‰é¡¹\nå®‰è£… virtio é©±åŠ¨ QEMUä¸ºç”¨æˆ·æä¾›å¹¶è¡Œè™šæ‹ŸåŒ–å—è®¾å¤‡å’Œç½‘ç»œè®¾å¤‡çš„èƒ½åŠ›ï¼Œå…¶æ˜¯å€ŸåŠ©virtioé©±åŠ¨å®ç°çš„ï¼Œæ‹¥æœ‰æ›´å¥½çš„æ€§èƒ½è¡¨ç°ä»¥åŠæ›´ä½çš„å¼€é”€ã€‚\nvirtioå—è®¾å¤‡éœ€è¦ä½¿ç”¨-driveæŒ‡å®šä¸€ä¸ªdisk imageçš„å‚æ•°ï¼Œä¸”éœ€è¦å¸¦ä¸Šif=virtioå‚æ•°ï¼š\n$ qemu-system-x86_64 -boot order=c -drive file=disk_image,if=virtio ç½‘ç»œé…ç½®ä¹Ÿæ˜¯ç±»ä¼¼çš„ï¼š\n$ qemu-system-x86_64 -nic user,model=virtio-net-pci æ³¨æ„ï¼š ä»…æœ‰å½“å®¢æˆ·æœºæœ‰virtioè®¾å¤‡å¯¹åº”çš„é©±åŠ¨æ—¶è¯¥æ–¹æ³•æ‰èƒ½èµ·æ•ˆï¼ŒLinuxæ˜¯æœ‰è¿™æ–¹é¢æ”¯æŒçš„ï¼Œä¸è¿‡æ— æ³•ä¿è¯è¿™äº›é©±åŠ¨èƒ½å¤Ÿå…¼å®¹å…¶ä»–æ“ä½œç³»ç»Ÿã€‚\nä»¥ä¸‹ä»¥windowsä¸ºä¾‹ã€‚\nå—è®¾å¤‡é©±åŠ¨ Windowsæ²¡æœ‰è‡ªå¸¦virtioé©±åŠ¨ï¼Œå› æ­¤éœ€è¦åœ¨å®‰è£…æ—¶åŠ è½½è¯¥é©±åŠ¨ã€‚é•œåƒæ–‡ä»¶å¯ä»¥ä»Fedora ä»“åº“ä¸‹è½½ã€‚\né€šè¿‡ISOåŠ è½½åªå¯¹Windows Vistaå’ŒWindows Server 2008åŠå…¶ä¹‹åçš„ç‰ˆæœ¬æœ‰æ•ˆã€‚è¿™ä¸ªæ–¹æ³•çš„å…·ä½“æ“ä½œæ˜¯åœ¨ä¸»ç£ç›˜è®¾å¤‡å’ŒWindowså®‰è£…ç›˜å¤–æŒ‚è½½ä¸€ä¸ªé¢å¤–çš„cdromè®¾å¤‡ï¼Œå°†ç³»ç»Ÿé•œåƒä¸virtioé©±åŠ¨ä¸€åŒåŠ è½½ï¼š\n$ qemu-system-x86_64 ... \\ -drive file=windows_disk_image,index=0,media=disk,if=virtio \\ -drive file=windows.iso,index=2,media=cdrom \\ -drive file=virtio.iso,index=3,media=cdrom \\ ... åœ¨å®‰è£…è¿‡ç¨‹ä¸­ï¼ŒWindows Installerä¼šè¯¢é—®ä½ â€œWhere do you want to install Windows?â€ï¼Œå…¶ä¼šè¿”å›ä¸€ä¸ªè­¦å‘Šè¡¨ç¤ºæ²¡æœ‰æ‰¾åˆ°ä»»ä½•ç£ç›˜è®¾å¤‡ã€‚æ¥ä¸‹æ¥è·Ÿç€å¦‚ä¸‹ç¤ºä¾‹ä¸­çš„æ­¥éª¤è¿›è¡Œæ“ä½œï¼ˆåŸºäºWindows Server 2012 R2 with Updateï¼‰ï¼š\n Select the option Load Drivers. Uncheck the box for Hide drivers that are not compatible with this computer\u0026rsquo;s hardware. Click the browse button and open the CDROM for the virtio iso, usually named \u0026ldquo;virtio-win-XX\u0026rdquo;. Now browse to E:\\viostor\\[your-os]\\amd64, select it, and confirm.  ç°åœ¨åº”è¯¥èƒ½çœ‹åˆ°virtioç£ç›˜å‡ºç°åœ¨åˆ—è¡¨ä¸­äº†ï¼Œç­‰å¾…ç€è¢«é€‰ä¸­ã€æ ¼å¼åŒ–å¹¶å®‰è£…ã€‚\nç½‘ç»œé©±åŠ¨ å®‰è£…virtioç½‘ç»œé©±åŠ¨ç¨‹åºè¦å®¹æ˜“ä¸€äº›ï¼Œåªéœ€å¦‚ä¸Šæ‰€è¿°æ·»åŠ -netå‚æ•°å³å¯ã€‚\n$ qemu-system-i386 -m 4G -vga std -drive file=windows_disk_image,if=virtio -net nic,model=virtio-net-pci -cdrom virtio-win-0.1-185.iso Windowså°†æ£€æµ‹ç½‘ç»œé€‚é…å™¨å¹¶å°è¯•ä¸ºå…¶æ‰¾åˆ°é©±åŠ¨ç¨‹åºã€‚å¦‚æœå¤±è´¥ï¼Œè¯·è½¬åˆ°â€œè®¾å¤‡ç®¡ç†å™¨â€ï¼Œæ‰¾åˆ°å¸¦æœ‰æ„Ÿå¹å·å›¾æ ‡çš„ç½‘ç»œé€‚é…å™¨ï¼ˆåŒå‡»æ‰“å¼€ï¼‰ï¼Œåˆ‡æ¢åˆ°é©±åŠ¨ç¨‹åºå¹¶å•å‡»â€œæ›´æ–°é©±åŠ¨ç¨‹åºâ€ï¼Œç„¶åé€‰æ‹©è™šæ‹ŸCD-ROMã€‚åˆ«å¿˜äº†é€‰ä¸­æ˜¾ç¤ºè¦é€’å½’æœç´¢ç›®å½•çš„å¤é€‰æ¡†ã€‚\nBalloon é©±åŠ¨ å¦‚æœæƒ³è¦è¿½è¸ªå®¢æˆ·æœºå†…å­˜çŠ¶æ€ï¼ˆæ¯”å¦‚é€šè¿‡virshçš„dommemstatå‘½ä»¤ï¼‰æˆ–è€…åœ¨è¿è¡Œæ—¶æ”¹å˜å®¢æˆ·æœºå†…å­˜å¤§å°ï¼ˆå°½ç®¡ä¾ç„¶æ— æ³•æ”¹å˜å®é™…çš„å†…å­˜å¤§å°ï¼Œä¸è¿‡å¯ä»¥é€šè¿‡inflating ballooné©±åŠ¨é™åˆ¶å†…å­˜çš„ä½¿ç”¨ï¼‰ï¼Œé‚£ä¹ˆè¯·åœ¨å®¢æˆ·æœºä¸Šå®‰è£…ballooné©±åŠ¨å§ã€‚\nQEMU ç›‘è§†å™¨ QEMUè¿è¡Œæ—¶ä¼šæä¾›ä¸€ä¸ªç›‘è§†å™¨consoleç•Œé¢ä»¥æ–¹ä¾¿ç”¨æˆ·åŒè™šæ‹Ÿæœºè¿›è¡Œäº¤äº’ã€‚QEMUç›‘è§†å™¨æä¾›äº†è®¸å¤šæœ‰è¶£çš„åŠŸèƒ½ï¼Œä¾‹å¦‚è·å–å½“å‰è™šæ‹Ÿæœºçš„ä¿¡æ¯ï¼Œçƒ­æ’æ‹”è®¾å¤‡ï¼Œåˆ›å»ºå¿«ç…§ç­‰ã€‚åœ¨QEMUç›‘è§†å™¨consoleä¸­è¿è¡Œhelpæˆ–?å‘½ä»¤è·å¾—å®Œæ•´çš„å‘½ä»¤åˆ—è¡¨ã€‚\nè®¿é—®QEMUç›‘è§†å™¨Console å›¾å½¢åŒ–ç•Œé¢\nå½“ä½¿ç”¨é»˜è®¤çš„stdå›¾å½¢é€‰é¡¹æ—¶ï¼Œå¯ä»¥é€šè¿‡æŒ‰ä¸‹Ctrl+Alt+2ç»„åˆé”®æˆ–ä»QEMUçª—å£ä¸Šçš„View \u0026gt; compatmonitor0è®¿é—®åˆ°QEMUç›‘è§†å™¨ã€‚è‹¥è¦è¿”å›åˆ°è™šæ‹Ÿæœºçš„å›¾å½¢ç•Œé¢ï¼Œé‚£ä¹ˆæŒ‰ä¸‹Ctrl+Alt+1æˆ–è€…View \u0026gt; VGAå°±è¡Œã€‚\nç„¶è€Œï¼Œè¿™ç§æ ‡å‡†çš„è®¿é—®æ–¹å¼ä¸å¤Ÿæ–¹ä¾¿ï¼Œè€Œä¸”å¹¶ä¸æ˜¯åœ¨QEMUçš„æ‰€æœ‰å›¾å½¢åŒ–è¾“å‡ºæ–¹å¼ä¸­éƒ½é€‚ç”¨ã€‚\nTelnet\nå¯åŠ¨QEMUæ—¶å¸¦ä¸Š-monitor telnet:127.0.0.1:*port*,server,nowaitå‚æ•°å¯ä»¥å¯ç”¨telnetã€‚è™šæ‹Ÿæœºå¯åŠ¨åå¯ä»¥é€šè¿‡telnetè®¿é—®åˆ°ç›‘è§†å™¨ï¼š\n$ telnet 127.0.0.1 port æ³¨æ„ï¼š å¦‚æœæŒ‡å®š 127.0.0.1 ä½œä¸ºç›‘å¬åœ°å€ï¼Œé‚£ä¹ˆåªèƒ½åœ¨è¿è¡ŒQEMUçš„å®¿ä¸»æœºä¸Šè¿æ¥åˆ°è¯¥ç›‘è§†å™¨ã€‚å¦‚æœæƒ³è¦è¿œç¨‹è®¿é—®ï¼ŒQEMUéœ€è¦åœ¨0.0.0.0ä¸Šè¿›è¡Œç›‘å¬ï¼š-monitor telnet:0.0.0.0:*port*,server,nowaitã€‚è¿˜è¦è®°ä½çš„æ˜¯ï¼Œæœ€å¥½å¯¹firewallè¿›è¡Œé…ç½®ï¼Œè¯¥è¿æ¥æ˜¯å®Œå…¨ä¸è¿›è¡Œè®¤è¯å’ŒåŠ å¯†çš„ï¼Œå› æ­¤éœ€è¦é€šè¿‡é˜²ç«å¢™ç¡®ä¿æœ¬åœ°ç½‘ç»œç¯å¢ƒæ˜¯å¯ä¿¡çš„ã€‚\nUNIX socket\né€šè¿‡-monitor unix:*socketfile*,server,nowaitå‚æ•°è¿è¡ŒQEMUï¼Œä¹‹åå°±å¯ä»¥é€šè¿‡socatæˆ–openbsd-netcatè¿æ¥åˆ°ç›‘è§†å™¨ä¸Šã€‚\nä¾‹å¦‚ï¼Œå¦‚æœQEMUæ˜¯é€šè¿‡å¦‚ä¸‹å‘½ä»¤å¯åŠ¨ï¼š\n$ qemu-system-x86_64 [...] -monitor unix:/tmp/monitor.sock,server,nowait [...] å°±å¯ä»¥åƒè¿™æ ·è¿æ¥åˆ°ç›‘è§†å™¨ä¸Šï¼š\n$ socat - UNIX-CONNECT:/tmp/monitor.sock æˆ–è€…é€šè¿‡è¿™ç§æ–¹å¼:\n$ nc -U /tmp/monitor.sock TCP\nå¯ä»¥ä½¿ç”¨-monitor tcp:127.0.0.1:*port*,server,nowaitå‚æ•°å°†ç›‘è§†å™¨æš´éœ²äºTCPç«¯å£ä¸Šï¼Œç„¶åç”¨netcatï¼ˆopenbsd-netcatæˆ–gnu-netcatéƒ½å¯ï¼‰è¿›è¡Œè¿æ¥ï¼š\n$ nc 127.0.0.1 port æ³¨æ„ï¼š ä¸ºäº†èƒ½å¤Ÿä»å…¶å®ƒè®¾å¤‡ä¸Šé€šè¿‡TCP socketè®¿é—®åˆ°ç›‘è§†å™¨ï¼Œè€Œä¸ä»…ä»…ä»è¿è¡ŒQEMUçš„ä¸»æœºä¸Šè¿æ¥ï¼Œéœ€è¦åƒå‰é¢Telnetä¸­æè¿°çš„é‚£æ ·ï¼Œåœ¨0.0.0.0åœ°å€ä¸Šè¿›è¡Œç›‘å¬ã€‚\næ ‡å‡† I/O\nå¦‚æœä»¥-monitor stdioå‚æ•°è¿è¡ŒQEMUï¼Œé‚£ä¹ˆå…¶å®æ˜¯å¯ä»¥åœ¨è¿è¡ŒQEMUçš„ç»ˆç«¯ä¸‹è®¿é—®åˆ°ç›‘è§†å™¨çš„ã€‚\nåœ¨Monitor conosleä¸‹å‘è™šæ‹Ÿæœºå‘é€æŒ‰é”®è¡Œä¸º ç”±äºåœ¨æŸäº›é…ç½®ä¸‹ï¼Œå®¿ä¸»æœºå¯èƒ½ä¼šæ‹¦æˆªä¸€äº›æŒ‰é”®ç»„åˆå¦ä½œä»–ç”¨ï¼Œè¿™å¯¼è‡´è¦åœ¨è™šæ‹Ÿæœºä¸­è§¦å‘ä¸€äº›ç‰¹å®šæŒ‰é”®ç»„åˆå˜å¾—æœ‰äº›å›°éš¾ï¼ˆä¸€ä¸ªæ˜¾ç„¶çš„ä¾‹å­å°±æ˜¯Ctrl+Alt+F*ç»„åˆï¼Œè¯¥ç»„åˆç”¨äºæ”¹å˜å½“å‰çš„ttyï¼‰ã€‚æˆ‘ä»¬é‡‡ç”¨åœ¨monitor consoleä¸‹å‘é€æŒ‰é”®ç»„åˆçš„æ–¹å¼è§£å†³è¯¥é—®é¢˜ã€‚åªéœ€åˆ‡æ¢åˆ°monitor consoleä¸‹ï¼Œç„¶åä½¿ç”¨sendkeyå‘½ä»¤ï¼Œå³å¯å°†æŒ‰é”®è½¬å‘è‡³è™šæ‹Ÿæœºä¸­ï¼Œä¾‹å¦‚ï¼š\n(qemu) sendkey ctrl-alt-f2 é€šè¿‡ monitor console åˆ›å»ºå¿«ç…§å’Œç®¡ç†å¿«ç…§ æ³¨æ„ï¼š è¯¥ç‰¹æ€§\u0026quot;åª\u0026quot;æ”¯æŒqcow2æ ¼å¼çš„è™šæ‹Ÿæœºç£ç›˜é•œåƒï¼Œå¯¹äºrawæ˜¯æ— æ•ˆçš„ã€‚\næœ‰æ—¶å€™æˆ‘ä»¬å¾ˆéœ€è¦å°†è™šæ‹Ÿæœºçš„å½“å‰çŠ¶æ€è¿›è¡Œä¿å­˜ï¼Œæˆ–æ˜¯å°†è™šæ‹Ÿæœºé‡ç½®åˆ°ä¹‹å‰çš„å¿«ç…§çŠ¶æ€ï¼Œè€Œä¸”æœ€å¥½æ˜¯éšæ—¶èƒ½è¿›è¡Œè¿™äº›æ“ä½œã€‚QEMU monitor consoleä¸ºç”¨æˆ·æä¾›äº†å¿…è¦çš„åŠŸèƒ½ï¼Œè¿›è¡Œå¿«ç…§åˆ›å»ºï¼Œå¿«ç…§ç®¡ç†ï¼Œä»¥åŠå¿«ç…§æ¢å¤ã€‚\n Use savevm name ç”¨äºåˆ›å»ºä¸€ä¸ªåä¸ºnameçš„å¿«ç…§ã€‚ Use loadvm name ç”¨äºå°†è™šæ‹ŸæœºçŠ¶æ€æ¢å¤è‡³å¿«ç…§nameã€‚ Use delvm name ç”¨äºåˆ é™¤å¿«ç…§nameã€‚ Use info snapshots ç”¨äºæŸ¥çœ‹ä¿å­˜çš„å¿«ç…§åˆ—è¡¨ï¼Œè¿™äº›å¿«ç…§ç”±ä¸€ä¸ªè‡ªå¢é•¿çš„IDå’Œæ ‡ç­¾åï¼ˆç”¨æˆ·åˆ›å»ºå¿«ç…§æ—¶èµ‹äºˆï¼‰è¿›è¡Œæ ‡è¯†ã€‚  ä»¥å†»ç»“æ¨¡å¼è¿è¡Œè™šæ‹Ÿæœº QEMUæ”¯æŒä»¥å†»ç»“æ€è¿è¡Œè™šæ‹Ÿæœºï¼ˆéœ€ä½¿ç”¨-snapshotå‚æ•°ï¼‰ï¼Œæ¢å¥è¯è¯´ï¼Œè™šæ‹Ÿæœºå…³é—­æ—¶ï¼Œå¯¹äºè™šæ‹Ÿæœºçš„ä¸€åˆ‡ä¿®æ”¹éƒ½ä¼šä¸¢å¼ƒã€‚å½“ç”¨æˆ·å¯¹ç£ç›˜é•œåƒå†™å…¥æ—¶ï¼Œè¿™äº›å˜åŠ¨æœ€ç»ˆå†™å…¥çš„ä½ç½®æ˜¯/tmpç›®å½•ä¸‹çš„ä¸€ä¸ªä¸´æ—¶æ–‡ä»¶ï¼ŒQEMUå…³æœºæ—¶å°†ä¼šæŠŠä»–ä»¬ä¸¢å¼ƒã€‚\nä¸è¿‡ï¼Œå³ä½¿è™šæ‹Ÿæœºè¿è¡Œäºå†»ç»“çŠ¶æ€ä¸‹ï¼Œä¾æ—§å¯ä»¥é€šè¿‡monitor consoleå°†è¿™äº›å˜åŒ–å†™å…¥ç£ç›˜é•œåƒï¼ˆå¦‚æœä½ æƒ³çš„è¯ï¼‰ã€‚ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š\n(qemu) commit all å¦å¤–å¦‚æœåœ¨å†»ç»“çŠ¶æ€ä¸‹åˆ›å»ºå¿«ç…§ï¼Œè¿™äº›å¿«ç…§åœ¨QEMUé€€å‡ºæ—¶éƒ½ä¼šè¢«ä¸¢å¼ƒï¼Œé™¤éä½ æ˜¾å¼åœ°commitäº†ä»–ä»¬ã€‚\nmonitor consoleä¸­çš„å¼€æœºå’Œæš‚åœå‘½ä»¤ åœ¨QEMU monitor consoleä¸‹ä¹Ÿå¯ä»¥æ¨¡æ‹Ÿå¯¹ç‰©ç†æœºçš„ä¸€äº›æ“ä½œï¼š\n system_powerdown ä¼šå‘è™šæ‹Ÿæœºå‘é€ACPIå…³æœºä¿¡å·ï¼Œæ•ˆæœå°±ç±»ä¼¼ç‰©ç†æœºä¸ŠæŒ‰ä¸‹ç”µæºæŒ‰é’®ã€‚ system_reset ä¼šé‡ç½®è™šæ‹Ÿæœºï¼Œç±»ä¼¼ç‰©ç†æœºä¸Šçš„é‡ç½®æŒ‰é’®ã€‚è¯¥æ“ä½œå¯èƒ½å¯¼è‡´æ•°æ®ä¸¢å¤±æˆ–æ–‡ä»¶ç³»ç»Ÿçš„æŸåï¼Œè¿™æ˜¯å› ä¸ºè™šæ‹Ÿæœºå¹¶ä¸æ˜¯\u0026quot;å¹²å‡€åœ°\u0026quot;é‡å¯çš„ã€‚ stop ä¼šæš‚åœè™šæ‹Ÿæœºã€‚ cont ä½¿æš‚åœçš„è™šæ‹Ÿæœºæ¢å¤è¿è¡Œã€‚  è™šæ‹Ÿæœºæˆªå± å¯ä»¥åœ¨monitor consoleä¸‹è¿è¡Œè¯¥å‘½ä»¤ï¼Œè·å–PPMæ ¼å¼çš„æˆªå±å›¾ç‰‡ï¼š\n(qemu) screendump file.ppm QEMU æœºå™¨åè®® QEMUæœºå™¨åè®®ï¼ˆQMPï¼‰æ˜¯ä¸€ä¸ªåŸºäºJSONæ ¼å¼çš„åè®®ï¼Œä½¿å¾—å…¶ä»–åº”ç”¨ç¨‹åºå¯ä»¥é€šè¿‡è¯¥åè®®æ§åˆ¶QEMUå®ä¾‹ã€‚ç±»ä¼¼#QEMU ç›‘è§†å™¨ï¼Œå…¶æä¾›äº†ä¸è¿è¡Œä¸­çš„è™šæ‹Ÿæœºè¿›è¡Œäº¤äº’çš„èƒ½åŠ›ï¼Œä¸”èƒ½å¤Ÿç¼–ç¨‹è¿›è¡Œæ§åˆ¶ã€‚å…³äºQMPå„å‘½ä»¤çš„æè¿°å¯ä»¥åœ¨è¿™ä¸ªqmp-commandsé“¾æ¥ä¸­æ‰¾åˆ°ã€‚\næŠ€å·§ æ”¹å–„è™šæ‹Ÿæœºçš„æ€§èƒ½è¡¨ç° åº•ä¸‹æ˜¯ä¸€äº›å¯ä»¥æ”¹å–„è™šæ‹Ÿæœºæ€§èƒ½è¡¨ç°çš„æŠ€æœ¯ï¼Œä¾‹å¦‚ï¼š\n  å¯ç”¨#å¯ç”¨ KVMï¼šQEMUçš„å¯åŠ¨å‘½ä»¤åŠ ä¸Š-enable-kvmé€‰é¡¹ã€‚\n  é€šè¿‡-cpu hosté€‰é¡¹è®©QEMUæ¨¡æ‹Ÿå®¿ä¸»æœºä¸Šçš„ç‰¹å®šCPUï¼Œå¦‚æœæ²¡æœ‰è¯¥é€‰é¡¹QEMUå°è¯•æ¨¡æ‹Ÿçš„æ˜¯ä¸€ä¸ªæ›´ä¸ºé€šç”¨çš„CPUã€‚\n  ç‰¹åˆ«çš„ï¼Œå¦‚æœå®¢æˆ·æœºæ˜¯Windowsï¼Œå¯ç”¨Hyper-V enlightenmentså¯ä»¥æ”¹å–„æ€§èƒ½ï¼š-cpu host,hv_relaxed,hv_spinlocks=0x1fff,hv_vapic,hv_time.\n  å¦‚æœå®¿ä¸»æœºæœ‰å¤šä¸ªæ ¸å¿ƒï¼Œå¯ä»¥ç”¨-smpé€‰é¡¹ä¸ºå®¢æˆ·æœºåˆ†é…æ›´å¤šæ ¸å¿ƒã€‚\n  æ£€æŸ¥æ˜¯å¦ä¸ºè™šæ‹Ÿæœºåˆ†é…çš„è¶³å¤Ÿçš„å†…å­˜ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒQEMUä»…ä»…ä¸ºæ¯å°è™šæ‹Ÿæœºåˆ†é…128MiBçš„å†…å­˜ï¼Œå¯ä»¥ä½¿ç”¨-mé€‰é¡¹åˆ†é…æ›´å¤šçš„å†…å­˜ã€‚ä¾‹å¦‚ï¼Œ-m 1024ä»£è¡¨å¯åŠ¨ä¸€å°å†…å­˜ä¸º1024MiBçš„è™šæ‹Ÿæœºã€‚\n  å¦‚æœå®¢æˆ·æœºæ“ä½œç³»ç»Ÿæ”¯æŒç›¸å…³çš„é©±åŠ¨ï¼Œå¯ä»¥ä½¿ç”¨virtioåˆ›å»ºç½‘ç»œè®¾å¤‡æˆ–å—è®¾å¤‡ã€‚\n  ä½¿ç”¨TAPè®¾å¤‡ä»£æ›¿user-modeç½‘ç»œï¼Œå‚é˜…#Tap ç½‘ç»œã€‚\n  å¦‚æœå®¢æˆ·æœºéœ€è¦è¿›è¡Œå¤§é‡çš„ç£ç›˜å†™å·¥ä½œï¼Œåœ¨å®¿ä¸»æœºæ–‡ä»¶ç³»ç»Ÿä¸Šè®¾ç½®åˆé€‚çš„æŒ‚è½½é€‰é¡¹å¯ä»¥ä¼˜åŒ–è¯¥å·¥ä½œã€‚ä¾‹å¦‚ï¼Œå¯ä»¥ç”¨barrier=0é€‰é¡¹æŒ‚è½½ä¸€ä¸ªext4 file systemã€‚åœ¨ä½¿ç”¨è¿™äº›æ€§èƒ½å¼ºåŒ–é€‰é¡¹ä¹‹å‰æœ€å¥½é˜…è¯»ç›¸å…³æ–‡æ¡£ï¼Œå› ä¸ºæ€§èƒ½ä¸Šçš„æå‡é€šå¸¸ä¼´éšç€æ•°æ®å®Œæ•´æ€§ä¸‹é™çš„ä»£ä»·ã€‚\n  å¦‚æœæœ‰ä¸€å—åŸå§‹ç£ç›˜é•œåƒï¼Œä½ å¯èƒ½ä¼šæƒ³è¦ç¦ç”¨cacheï¼š\n$ qemu-system-x86_64 -drive file=disk_image,if=virtio,cache=none   ä½¿ç”¨åŸç”Ÿçš„Linux AIOï¼š\n$ qemu-system-x86_64 -drive file=disk_image,if=virtio,aio=native,cache.direct=on   å¦‚æœæ­£åŒæ—¶è¿è¡Œå¤šå°è™šæ‹Ÿæœºï¼Œè€Œå®ƒä»¬æ‹¥æœ‰åŒæ ·çš„æ“ä½œç³»ç»Ÿï¼Œå¯ä»¥é€šè¿‡å¯ç”¨å†…æ ¸é¡µå½’å¹¶èŠ‚çœå†…å­˜ã€‚å‚é˜…#å¼€å¯KSMã€‚\n  åœ¨ä¸€äº›æƒ…å†µä¸‹ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶ä»å®‰è£…äº†ballooné©±åŠ¨çš„å®¢æˆ·æœºä¸Šå›æ”¶å†…å­˜ï¼Œè¿™éœ€è¦QEMUå¯åŠ¨è¯¥å®¢æˆ·æœºæ—¶ä½¿ç”¨-device virtio-ballooné€‰é¡¹ã€‚\n  å…è®¸ä½¿ç”¨ä¸€ä¸ªICH-9 AHCIæ§åˆ¶å™¨çš„ä»¿çœŸå±‚ï¼Œå°½ç®¡å®ƒå¹¶ä¸ç¨³å®šã€‚AHCIçš„ä»¿çœŸæ¨¡æ‹Ÿæ”¯æŒNCQï¼Œå› æ­¤å¯ä»¥åŒæ—¶å¤„ç†å¤šä¸ªè¯»å†™è¯·æ±‚ï¼š\n$ qemu-system-x86_64 -drive id=disk,file=disk_image,if=none -device ich9-ahci,id=ahci -device ide-drive,drive=disk,bus=ahci.0   å‚é˜… https://www.linux-kvm.org/page/Tuning_KVM è·å–æ›´å¤šä¿¡æ¯\nå¼€æœºæ—¶å¯åŠ¨QEMUè™šæ‹Ÿæœº é€šè¿‡libvirtå®ç°\nå¦‚æœè™šæ‹Ÿæœºæ˜¯é€šè¿‡libvirtè®¾ç½®çš„ï¼Œå¯ä»¥ç”¨virsh autostartå°†å…¶é…ç½®ä¸ºå¼€æœºè‡ªå¯ï¼Œæˆ–è€…é€šè¿‡virt-managerGUIä¸­è™šæ‹Ÿæœºçš„Boot Optionsï¼Œé€‰æ‹©\u0026quot;Start virtual machine on host boot up\u0026quot;å®ç°å¼€æœºè‡ªå¯ã€‚\né€šè¿‡systemd serviceå®ç°\nå¯ä»¥ç”¨å¦‚ä¸‹çš„systemd unitå’Œconfigé…ç½®å¼€æœºæ—¶å¯åŠ¨QEMU VMã€‚\n/etc/systemd/system/qemu@.service [Unit] Description=QEMU virtual machine [Service] Environment=\u0026quot;haltcmd=kill -INT $MAINPID\u0026quot; EnvironmentFile=/etc/conf.d/qemu.d/%i ExecStart=/usr/bin/qemu-system-x86_64 -name %i -enable-kvm -m 512 -nographic $args ExecStop=/bin/bash -c ${haltcmd} ExecStop=/bin/bash -c 'while nc localhost 7100; do sleep 1; done' [Install] WantedBy=multi-user.target æ³¨æ„ï¼š ä¸ºäº†æ–¹ä¾¿åœ°ç»“æŸä»»åŠ¡ï¼Œè¯¥serviceä¼šç­‰å¾…è‡³consoleç«¯å£è¢«é‡Šæ”¾ï¼ˆè¿™æ„å‘³ç€VMå·²è¢«å…³é—­ï¼‰ã€‚\næ¥ç€åˆ›å»ºper-VMé…ç½®æ–‡ä»¶ï¼Œå‘½åä¸º/etc/conf.d/qemu.d/*vm_name*ï¼Œåœ¨å…¶ä¸­è®¾ç½®å¥½argså’Œhaltcmdå˜é‡ï¼Œé…ç½®ç¤ºä¾‹ï¼š\n/etc/conf.d/qemu.d/one args=\u0026quot;-hda /dev/vg0/vm1 -serial telnet:localhost:7000,server,nowait,nodelay \\ -monitor telnet:localhost:7100,server,nowait,nodelay -vnc :0\u0026quot; haltcmd=\u0026quot;echo 'system_powerdown' | nc localhost 7100\u0026quot; # or netcat/ncat /etc/conf.d/qemu.d/two args=\u0026quot;-hda /srv/kvm/vm2 -serial telnet:localhost:7001,server,nowait,nodelay -vnc :1\u0026quot; haltcmd=\u0026quot;ssh powermanager@vm2 sudo poweroff\u0026quot; å¯¹è¯¥å˜é‡çš„æè¿°å¦‚ä¸‹ï¼š\n args - ä½¿ç”¨çš„QEMUå‘½ä»¤è¡Œå‚æ•°ã€‚ haltcmd - å®‰å…¨å…³é—­è™šæ‹Ÿæœºçš„å‘½ä»¤ï¼Œåœ¨ç¬¬ä¸€ä¸ªä¾‹å­ä¸­ï¼ŒQEMU monitoræ˜¯é€šè¿‡-monitor telnet:..é€‰é¡¹æš´éœ²è‡³telnetï¼Œå› è€Œå…³é—­è™šæ‹Ÿæœºæ˜¯é€šè¿‡ncå‘½ä»¤åœ¨monitor consoleä¸­å‘é€system_powerdownï¼Œå®ŒæˆACPIå…³æœºçš„å·¥ä½œã€‚åœ¨å¦ä¸€ä¸ªä¾‹å­é‡Œï¼Œä½¿ç”¨çš„åˆ™æ˜¯SSHã€‚  è‹¥è¦è®¾ç½®å¯åŠ¨æ—¶è¿è¡Œå“ªä¸ªè™šæ‹Ÿæœºï¼Œenable qemu@*vm_name*.serviceè¿™ä¸ªsystemdå•å…ƒ\né¼ æ ‡æ•´åˆ æ·»åŠ -usb -device usb-tableté€‰é¡¹ä»¥é¿å…ç‚¹å‡»å®¢æˆ·æœºç³»ç»Ÿçš„çª—å£æ—¶é¼ æ ‡è¢«æ•è·ã€‚è¯¥é€‰é¡¹ä»£è¡¨QEMUèƒ½å¤Ÿåœ¨ä¸æ•è·é¼ æ ‡çš„æƒ…å†µä¸‹ï¼Œå‘ç³»ç»ŸæŠ¥å‘Šé¼ æ ‡çš„ä½ç½®ï¼Œè¯¥é€‰é¡¹å¯ç”¨æ—¶è¿˜ä¼šè¦†ç›–PS/2é¼ æ ‡æ¨¡æ‹ŸåŠŸèƒ½ã€‚ å‘½ä»¤ç¤ºä¾‹ï¼š\n$ qemu-system-x86_64 -hda disk_image -m 512 -usb -device usb-tablet å®¿ä¸»æœºçš„USBè®¾å¤‡ä¼ é€’è‡³è™šæ‹Ÿæœº ä»å®¢æˆ·æœºè®¿é—®è¿æ¥åˆ°å®¿ä¸»æœºUSBå£çš„è®¾å¤‡æ˜¯å¯èƒ½çš„ï¼Œé¦–å…ˆéœ€è¦è¯†åˆ«è®¾å¤‡è¿æ¥çš„ä½ç½®ï¼Œå¯ä»¥ç”¨lsusbå‘½ä»¤æ‰¾åˆ°è®¾å¤‡è¿æ¥ä½ç½®ï¼Œä¾‹å¦‚ï¼š\n$ lsusb ... Bus 003 Device 007: ID 0781:5406 SanDisk Corp. Cruzer Micro U3 ä¸Šé¢ä»¥æ˜¾ç¤ºçš„æ•°å­—åˆ†åˆ«ç”¨äºæ ‡è¯†\n 003 host_bus 007 host_addr 0781 vendor_id 5406 product_id  åŸºæœ¬çš„æ€æƒ³æ˜¯åœ¨QEMUä¸­-device usb-ehci,id=ehciæˆ–-device qemu-xhci,id=xhciåˆ†åˆ«å¯¹EHCI (USB 2)æˆ–XHCI (USB 3)ï¼ˆåœ¨win7æ— æ³•è‡ªåŠ¨å®‰è£… USB3 é©±åŠ¨ï¼Œå› æ­¤åº”ç”¨ USB2ï¼‰æ§åˆ¶å™¨è¿›è¡Œæ¨¡æ‹Ÿï¼Œç„¶åå°†ç‰©ç†è®¾å¤‡é€šè¿‡-device usb-host,..é€‰é¡¹è¿›è¡Œæ·»åŠ ã€‚\nè¯†åˆ«å‡ºè¯¥è®¾å¤‡ï¼Œå¹¶å°†å…¶è¿æ¥è‡³ä»»ä¸€æ€»çº¿ä»¥åŠå®¿ä¸»æœºä¸Šçš„åœ°å€ï¼Œé€šç”¨çš„è¯­æ³•å¦‚ä¸‹ï¼š\n-device usb-host,bus=controller_id.0,vendorid=0xvendor_id,productid=0xproduct_id åº”ç”¨äºä¸Šé¢ä¾‹å­ä¸­ä½¿ç”¨çš„è®¾å¤‡ï¼Œå®ƒå˜æˆï¼š\n-device usb-ehci,id=ehci -device usb-host,bus=ehci.0,vendorid=0x0781,productid=0x5406 è¿è¡ŒQEMUæ—¶ä¼šé‡åˆ° libusb couldn't open USB device Permission denied æƒé™é”™è¯¯ï¼Œå¯ä»¥é€šè¿‡ udev ä¸ºè®¾å¤‡è®¾å®šåˆé€‚çš„æƒé™ã€‚\n$ vi /etc/udev/rules.d/50-usbtinyisp.rules SUBSYSTEMS==\u0026#34;usb\u0026#34;, ATTRS{idVendor}==\u0026#34;0781\u0026#34;, ATTRS{idProduct}==\u0026#34;5406\u0026#34;, GROUP=\u0026#34;vane\u0026#34;, MODE=\u0026#34;0660\u0026#34; $ ls -al /dve/bus/usb/003/007 crw-rw---- 1 root vane 189, 11 Nov 7 12:37 /dev/bus/usb/003/007 ä½¿ç”¨SPICEè¿›è¡ŒUSBé‡å®šå‘ ä½¿ç”¨#SPICEæ—¶å¯ä»¥å°†USBè®¾å¤‡ä»å®¢æˆ·ç«¯é‡å®šå‘è‡³è™šæ‹Ÿæœºä¸­ï¼Œæ— éœ€ä½¿ç”¨QEMUå‘½ä»¤ã€‚è¿˜æ”¯æŒä¸ºé…ç½®USBé‡å®šå‘æ’æ§½æ•°ï¼ˆæ’æ§½æ•°å°†å†³å®šå¯åŒæ—¶é‡å®šå‘çš„æœ€å¤§è®¾å¤‡æ•°ï¼‰ã€‚ç›¸æ¯”äºå‰é¢é‚£ç§ä½¿ç”¨-usbdeviceè¿›è¡Œé‡å®šå‘çš„æ–¹æ³•ï¼ŒSPICEæ–¹æ³•çš„ä¼˜åŠ¿åœ¨äºå¯ä»¥åœ¨è™šæ‹Ÿæœºå¯åŠ¨åUSBè®¾å¤‡çƒ­æ’æ‹”ï¼Œç§»é™¤æˆ–æ·»åŠ USBè®¾å¤‡æ—¶æ— éœ€åœæœºã€‚è¿™ä¸ªæ–¹æ³•è¿˜å…è®¸é€šè¿‡ç½‘ç»œå°†å®¢æˆ·ç«¯çš„USBè®¾å¤‡é‡å®šå‘è‡³æœåŠ¡ç«¯ã€‚æ€»ä¹‹ï¼Œå…¶æ˜¯åœ¨QEMUè™šæ‹Ÿæœºä¸­ä½¿ç”¨USBè®¾å¤‡æœ€çµæ´»çš„æ–¹æ³•ã€‚\nå¼€å¯KSM Kernel Samepage Merging (KSM) æ˜¯Linuxå†…æ ¸çš„ä¸€ä¸ªç‰¹æ€§ï¼Œå…è®¸åº”ç”¨ç¨‹åºå‘å†…æ ¸ç”³è¯·åŒå…¶ä»–ç”³è¯·é¡µå½’å¹¶çš„è¿›ç¨‹è¿›è¡Œé¡µå½’å¹¶ï¼ŒKSMæœºåˆ¶å…è®¸å®¢æˆ·è™šæ‹Ÿæœºä¹‹é—´è¿›è¡Œé¡µå…±äº«ã€‚å½“è®¸å¤šå®¢æˆ·æœºè¿è¡Œç›¸ä¼¼çš„æ“ä½œç³»ç»Ÿæ—¶ï¼Œè¿™ä¸ªæœºåˆ¶å¯ä»¥èŠ‚çœå®¢è§‚çš„å†…å­˜ã€‚\nå¤šå±æ”¯æŒ Linuxçš„QXLé©±åŠ¨æ”¯æŒé»˜è®¤æ”¯æŒå››å¤´ï¼ˆè™šæ‹Ÿå±å¹•ï¼‰ï¼Œå¯ä»¥é€šè¿‡qxl.heads=Nè¿™ä¸€å†…æ ¸å‚æ•°è¿›è¡Œå˜æ›´ã€‚\nå¤åˆ¶å’Œç²˜è´´ åœ¨å®¿ä¸»æœºå’Œå®¢æˆ·æœºä¹‹é—´å…±äº«å‰ªè´´æ¿çš„æ–¹æ³•ä¹‹ä¸€æ˜¯ä½¿ç”¨SPICEè¿œç¨‹æ¡Œé¢åè®®ï¼Œé€šè¿‡SPICEå®¢æˆ·ç«¯è®¿é—®å®¢æˆ·æœºï¼Œä½ éœ€è¦éµç…§#SPICEèŠ‚ä¸­æè¿°çš„æ­¥éª¤ï¼Œé€šè¿‡è¯¥æ–¹å¼è¿è¡Œçš„å®¢æˆ·æœºå°†æ”¯æŒä¸å®¿ä¸»æœºè¿›è¡Œå¤åˆ¶ç²˜è´´çš„æ“ä½œã€‚\nQEMU-KVM Win7 ç¯å¢ƒå‡†å¤‡   å®‰è£…QEMUï¼šsudo apt install qemu-kvm\n  ä¸‹è½½ Windows virtio driver isoï¼šhttps://fedorapeople.org/groups/virt/virtio-win/direct-downloads/archive-virtio/virtio-win-0.1.102/ï¼Œå› ä¸ºè¦å°†ç£ç›˜æŒ‚æ¥ä¸º virtio ç£ç›˜ã€‚\néœ€ä½¿ç”¨ virtio-win-0.1.102ï¼Œæˆ‘ä½¿ç”¨æœ€æ–°çš„ virtio-win-0.1.208.isoï¼ŒWindowså®‰è£…ç¨‹åºä¼šæç¤ºé©±åŠ¨æ²¡æœ‰åŒ…å«ç­¾åé”™è¯¯No signed device drivers were found. Make sure that the installation media contains the correct drivers, and then click OK\n  åˆ›å»ºç³»ç»Ÿç›˜ qemu-img create -f qcow2 Windows7-VM.img 30Gï¼Œè¿™å°†ä½œä¸ºWin7çš„æ“ä½œç³»ç»Ÿç›˜ã€‚\n  åˆ›å»ºå¯åŠ¨è„šæœ¬\n$ vi start_Windows7_VM.sh #!/bin/bash DISKIMG=$HOME/.vm/Windows7-VM.img exec qemu-system-x86_64 --enable-kvm \\ \t-cpu host,hv_relaxed,hv_spinlocks=0x1fff,hv_vapic,hv_time \\ \t-drive file=${DISKIMG},if=virtio \\ \t-net nic,model=virtio-net-pci -net user,smb=$HOME/Downloads \\ \t-m 4096 \\ \t-smp cores=2,threads=4 \\ \t-monitor stdio \\ \t-vga std \\ \t-audiodev pa,id=snd0 -device ich9-intel-hda -device hda-output,audiodev=snd0 \\ \t-usb -device usb-tablet \\ \t-rtc base=localtime,clock=host \\ \t-name \u0026#39;Windows7 VM\u0026#39; \\ \t$@ $ chmod u+x start_Windows7_VM.sh   ./start_Windows7_VM.sh -boot d -cdrom $HOME/Downloads/cn_windows_7_ultimate_x64_dvd_x15-66043.iso -drive file=$HOME/Downloads/virtio-win-0.1.102.iso,index=3,media=cdrom\n  å®‰è£… Win 7  é€‰æ‹© Customï¼ˆadvancedï¼‰  é€‰æ‹© CD Drive (E:) virtio-win  é€‰æ‹© viostor  å®‰è£… Win7 Virtio SCSI Driver  å®‰è£…å¥½ä»¥åï¼Œå°±å¯ä»¥çœ‹åˆ°å®‰è£…çš„ç›®æ ‡ç£ç›˜äº†  è¿›å…¥å¸¸è§„çš„ Win7 å®‰è£…æµç¨‹  å®‰è£… Virtio ç½‘ç»œé©±åŠ¨ ä½†æ˜¯å®‰è£…å¤±è´¥ï¼š\nå°è¯• device manager å®‰è£…ï¼š\n[QEMU çš„å†…ç½®SMBæœåŠ¡å™¨](#QEMU çš„å†…ç½®SMBæœåŠ¡å™¨) å®¿ä¸»æœºçš„USBè®¾å¤‡ä¼ é€’è‡³è™šæ‹Ÿæœº QEMU-KVM WinXP SP3 windows_xp.sh #!/bin/bash DISKIMG=$HOME/.vm/WindowsXP-VM.img exec qemu-system-x86_64 --enable-kvm \\ \t-cpu host,hv_relaxed,hv_spinlocks=0x1fff,hv_vapic,hv_time \\ \t-drive file=${DISKIMG} \\ \t-net nic,model=rtl8139 -net user,smb=$HOME/Downloads \\ \t-m 4096 \\ \t-cpu Nehalem \\ \t-rtc base=localtime,clock=host \\ \t-usb -device usb-tablet \\ \t-monitor stdio \\ \t-vga std \\ \t$@ Windows XP cannot connect to samba share You have \u0026lsquo;client min protocol = NT1\u0026rsquo; set, there is another similar setting \u0026lsquo;server min protocol\u0026rsquo; which from Samba 4.11.0 is set to SMBv2. Your XP is probably only using SMBv1, so it will not be able to see or connect to your Samba server.\nSo you have to edit the [global] section in the /etc/samba/smb.conf and add the server min protocol = NT1 option here. Then restart the Samba service.\nä¾‹å¦‚ï¼š\n$ ps h -C smbd -o pid,args 1707 /usr/sbin/smbd --foreground --no-process-group $ vim /tmp/qemu-smb.SL95F1/smb.conf [global] server min protocol = NT1 $ sudo smbcontrol 1707 reload-config æˆ–è€…ç¼–å†™å¦‚ä¸‹è„šæœ¬\n#!/bin/bash echo \u0026#34;[global] server min protocol = NT1\u0026#34; \u0026gt;\u0026gt; /tmp/**/smb.conf sudo smbcontrol $(ps h -C smbd -o pid) reload-config Windows XP ä¸Šç½‘æç¤ºï¼šæ‚¨çš„æ—¶é’Ÿå¿«äº†/æ…¢äº† æ­¤æ—¶ï¼Œæ— è®ºä½ æ€ä¹ˆè°ƒæ•´æ—¥æœŸå’Œæ—¶é—´ï¼Œéƒ½ä¸èƒ½è§£å†³ä¸Šç½‘é—®é¢˜ã€‚å³ä½¿æŠŠæ—¥æœŸä»2020å¹´è°ƒæ•´åˆ°2015å¹´ï¼Œæ­¤æ—¶è™½ç„¶ä¸åœ¨æç¤º â€œæ‚¨çš„æ—¶é’Ÿå¿«äº†â€ï¼Œä¹Ÿæœ‰è¯ä¹¦æœŸé™ç­‰å¼‚å¸¸ã€‚\nå‡ºç°è¿™ç§é—®é¢˜çš„åŸå› ï¼Œæ˜¯å› ä¸º Windows XP ç¡®å®å¤ªè€äº†ï¼ŒGoogle Chromeã€Mozilla Firefox åŠå…¶å†…æ ¸çš„æµè§ˆå™¨å·²ç»ä¸æ”¯æŒäº†ã€‚\nVirtual Machine Manager é”®ç›˜ä¸èƒ½è¾“å…¥çš„é—®é¢˜ åœ¨ Display ä¸­ï¼Œè®¾å®š keymapï¼Œæ¯”å¦‚ en-us\næ— ç½‘ç»œ åœ¨ NIC ä¸­ï¼Œå°† Device model è®¾ç½®ä¸º rtl8139\nQEMU-KVM Gentoo Configuration Host To create a disk image for the virtual machine, run:\n$ qemu-img create -f qcow2 Gentoo-VM.img 30G Download a minimal Gentoo LiveCD from here.\nSince QEMU requires a lot of options, it would be a good idea to put them into a shell script, e.g.:\n$ vim start_Gentoo_VM.sh #!/bin/bash DISKIMG=$HOME/VirtualMachine/Gentoo-VM.img exec qemu-system-x86_64 -enable-kvm \\  -bios /usr/share/edk2-ovmf/OVMF_CODE.fd \\  -cpu host \\  -drive file=${DISKIMG},if=virtio \\  -netdev user,id=vmnic,hostname=Gentoo-VM,hostfwd=tcp::10022-:22 \\  -device virtio-net,netdev=vmnic \\  -device virtio-rng-pci \\  -m 4G \\  -smp 2 \\  -monitor stdio \\  -vga std \\  -audiodev pa,id=snd0 -device ich9-intel-hda -device hda-output,audiodev=snd0 \\  -name \u0026#34;Gentoo VM\u0026#34; \\  $@ $ chmod u+x start_Gentoo_VM.sh Change the path to your disk image Gentoo-VM.img in the script. You can add more options when calling the script. To boot the disk image, run:\n$ ./start_Gentoo_VM.sh -boot d -cdrom $HOME/Downloads/install-amd64-minimal-20211107T170547Z.iso Install the guest per the Gentoo Handbook. See the guest section for optimum support. After the installation start the script without the additional options.\nUsing UEFI with QEMU UEFI for x86 QEMU/KVM VMs is called OVMF (Open Virtual Machine Firmware). It comes from EDK2 (EFI Development Kit), which is the UEFI reference implementation.\n$ sudo apt-get install ovmf æ£€æŸ¥æ˜¯å¦å®‰è£…ï¼Œå‘½ä»¤ä¸ºï¼š\n$ dpkg -L ovmf | grep OVMF.fd /usr/share/ovmf/ OVMF.fd /usr/share/qemu/ OVMF.fd è¦åœ¨è™šæ‹Ÿæœºä¸­è¿è¡Œæ“ä½œç³»ç»Ÿçš„æ˜ åƒæ–‡ä»¶ï¼Œæ·»åŠ  -bios /usr/share/ovmf/OVMF.fdã€‚è¯¥ä»£ç è°ƒç”¨åä¸º OVMF.fd çš„æ–‡ä»¶ï¼Œè¯¥æ–‡ä»¶æ˜¯ Qemu çš„ UEFI å›ºä»¶ã€‚\n$ qemu-system-x86_64 -bios /usr/share/ovmf/OVMF.fd -cdrom ubuntu-21.04-desktop-amd64.iso è¿™ä¸ªåä¸ºovmfçš„åŒ…å…¶å®å°±æ˜¯åä¸ºTianoCoreçš„ç¨‹åºã€‚è¯¥åç§°æœ¬èº«ä»£è¡¨å¼€æ”¾è™šæ‹Ÿæœºå›ºä»¶)ã€‚\n\u0026ldquo;BdsDxe: failed to load Boot0001\u0026rdquo; solution: Try hitting F2 to enter the OVMF settings during guest boot and manually pick a new boot drive option.\nTips é€šè¿‡ Qemu å®‰è£… Windows åˆ°ç¡¬ç›˜ åŒç³»ç»Ÿæ–°æ€è·¯ã€‚ä»Šå¤©è£…windows, åœ¨linuxä¸Šå…ˆç”¨è™šæ‹Ÿæœºï¼ŒæŠŠç¡¬ç›˜ç›´é€šè¿›å»ï¼Œåœ¨rawç›˜ä¸Šè£…å¥½ï¼Œç„¶åæ›´æ–°grub, å†é‡å¯å°±å¯ä»¥ç›´æ¥æ¥è¿›å»äº†ã€‚\nè¿™æ ·å¯ä»¥é¿å…è£…æœºè¿˜è¦åšå¯åŠ¨ç›˜ï¼Œè£…æœºè¿‡ç¨‹ä¸­çš„é‡å¯ä¹Ÿå¯ä»¥é¿å…äº†ã€‚\nwinçš„å®‰è£…è¿‡ç¨‹ä¸­é©±åŠ¨éƒ½æ˜¯æŒ‰ç…§è™šæ‹Ÿæœºçš„é…ç½®å®‰è£…çš„ï¼Œä½†æ˜¯win10æ˜¯è‡ªåŠ¨è£…é©±åŠ¨çš„ï¼Œé‡å¯è¿›å»åè¿‡äº†ä¸€ä¼šæ˜¾å¡é©±åŠ¨è‡ªåŠ¨éƒ½è£…å¥½äº†ã€‚\nLooking Glass Looking Glass è®“ Linux å¯å®Œç¾ç© Windows éŠæˆ² è¶…ä½å»¶é²ä¸æ‰æ ¼\nç•¶ç”¨æˆ¶å®‰è£äº†è™›æ“¬é›»è…¦ï¼ˆVMï¼‰å¯¦è¡Œ Windowsï¼Œä¸¦åŸ·è¡ŒéŠæˆ²æ™‚ï¼Œå®ƒæ¡ç”¨çš„ KVM frame relay æŠ€è¡“å¯å°‡ Windows é¡¯ç¤ºè¨˜æ†¶é«”ï¼Œé€é PCI pass-through ç›´æ¥ç”± Windows VM è¢«é…ç½®çš„é¡¯ç¤ºå¡ï¼Œè¤‡è£½åˆ° Linux è¢«é…ç½®çš„é¡¯ç¤ºå¡ï¼Œé€™æ¨£ Linux ä¾¿å¯åœ¨æ¥µç‚ºä½å»¶é²çš„æƒ…æ³ä¸‹ï¼Œæ¥è¿‘å®Œç¾é¡¯ç¤º Windows éŠæˆ²çš„å…§å®¹ã€‚\nç°¡å–®ä¾†èªªï¼Œå°±æ˜¯ä¸€éƒ¨ Linux é›»è…¦è£¡é¢è£æœ‰è™›æ“¬é›»è…¦é‹è¡Œçš„ Windowsï¼ŒWindows éŠæˆ²å¯¦è¡Œæ™‚ï¼Œåœ¨è¢«é…ç½®çš„é¡¯ç¤ºå¡è¨˜æ†¶é«”è³‡æ–™ï¼Œåœ¨ä¸»æ©Ÿæ¿ PCI é€šé“ç›´æ¥è¤‡è£½åˆ° Linux è¢«é…ç½®çš„é¡¯ç¤ºå¡ã€‚å³æ˜¯èªª Windows éŠæˆ²åŸæœ¬ç•«é¢ï¼Œå¯é«˜é€Ÿåæ˜ åˆ° Liunx çš„è™›æ“¬é›»è…¦è»Ÿä»¶ä¸Šã€‚é€™æ¨£ Linux ç”¨æˆ¶å°±ç®—ä¸ Dual boot æˆ–ä½¿ç”¨å…©å€‹ç†’å¹•ï¼Œåœ¨ Linux ä¸Šéƒ½å¯å¾—åˆ°æ¥è¿‘ç›¸åŒçš„æ‰“æ©Ÿé«”é©—ã€‚\nxrdp xrdp ä½¿ç”¨ RDPï¼ˆMicrosoft è¿œç¨‹æ¡Œé¢åè®®ï¼‰ä¸ºè¿œç¨‹è®¡ç®—æœºæä¾›å›¾å½¢ç™»å½•ã€‚xrdp æ¥å—æ¥è‡ªå„ç§ RDP å®¢æˆ·ç«¯çš„è¿æ¥ï¼šFreeRDPã€rdesktopã€NeutrinoRDP å’Œ Microsoft è¿œç¨‹æ¡Œé¢å®¢æˆ·ç«¯ï¼ˆé€‚ç”¨äº Windowsã€macOSã€iOS å’Œ Androidï¼‰ã€‚\næ­£å¦‚ Windows åˆ° Windows è¿œç¨‹æ¡Œé¢ä¸€æ ·ï¼Œxrdp ä¸ä»…æ”¯æŒå›¾å½¢è¿œç¨‹å¤„ç†ï¼Œè¿˜æ”¯æŒ\n åŒå‘å‰ªè´´æ¿ä¼ è¾“ï¼ˆæ–‡æœ¬ã€ä½å›¾ã€æ–‡ä»¶ï¼‰ éŸ³é¢‘é‡å®šå‘ é©±åŠ¨å™¨é‡å®šå‘ï¼ˆåœ¨è¿œç¨‹æœºå™¨ä¸Šå®‰è£…æœ¬åœ°å®¢æˆ·ç«¯é©±åŠ¨å™¨ï¼‰  RDP ä¼ è¾“é»˜è®¤ä½¿ç”¨ TLS åŠ å¯†ã€‚\nQEMU/KVM VS Virtualbox Linux ç³»ç»Ÿä¸Šçš„è™šæ‹ŸåŒ–è§£å†³æ–¹æ¡ˆ â€“ KVM å’Œ VirtualBox\nKVM æä¾›äº†ä¸€äº› VirtualBox æ²¡æœ‰çš„åŠŸèƒ½ï¼Œåä¹‹äº¦ç„¶ã€‚IT ä¸–ç•Œä¸­æ²¡æœ‰é€šç”¨å·¥å…·ï¼Œå› æ­¤ä½¿ç”¨é€‚åˆæ‚¨éœ€æ±‚çš„å·¥å…·éå¸¸é‡è¦ã€‚åŸºæœ¬æ€æƒ³æ˜¯ï¼šå¦‚æœä½ æƒ³å®‰è£…äºŒè¿›åˆ¶ Linux å‘è¡Œç‰ˆä½œä¸ºæ¥å®¾ï¼Œä½¿ç”¨ KVMã€‚å®ƒé€Ÿåº¦æ›´å¿«ï¼Œå¹¶ä¸”å®ƒçš„é©±åŠ¨ç¨‹åºåŒ…å«åœ¨å®˜æ–¹å†…æ ¸æ ‘ä¸­ã€‚å¦‚æœæ‚¨çš„å®¢æˆ·æ¶‰åŠå¤§é‡ç¼–è¯‘å¹¶ä¸”éœ€è¦ä¸€äº›æ›´é«˜çº§çš„åŠŸèƒ½ï¼Œå¹¶ä¸”/æˆ–è€…ä¸æ˜¯ Linux ç³»ç»Ÿï¼Œé‚£ä¹ˆæœ€å¥½ä½¿ç”¨ VirtualBoxã€‚\næŠ€æœ¯åŸå› å¾ˆç®€å•ï¼šKVM æ›´å¥½åœ°ä¸ Linux é›†æˆï¼Œå®ƒæ›´å°æ›´å¿«ï¼Œè™½ç„¶ä½ å¯ä»¥åœ¨ Linux ä»¥å¤–çš„å…¶ä»–å®¢æˆ·æœºä¸Šä½¿ç”¨å®ƒï¼Œä½†æˆ‘ä»¬å‘ç°ä½“éªŒç›¸å½“éº»çƒ¦ï¼šBSD çš„ I/O å’Œ Solaris å¾€å¾€å¾ˆæ…¢ï¼ˆç¡®åˆ‡åœ°è¯´ï¼Œæ˜¯ OpenIndianaï¼‰åœ¨å¼•å¯¼å®‰è£… ISO åä¼šç«‹å³å‡ºç°ææ…Œã€‚ç”±äºæˆ‘ä»¬ä½¿ç”¨å½“å‰ç‰ˆæœ¬çš„ BSDï¼ˆå¹¶ä¸”ç»å¸¸ä»æºä»£ç ç¼–è¯‘/æ›´æ–°ç³»ç»Ÿï¼‰å¹¶ä¸”è¿˜éœ€è¦ Solarisï¼Œæˆ‘ä»¬å‘ç° VirtualBox æ˜¯ä¸€ä¸ªæ›´å¥½çš„é€‰æ‹©ã€‚Oracle VirtualBox çš„å¦ä¸€ä¸ªä¼˜ç‚¹æ˜¯å®ƒæ”¯æŒæŒ‚èµ·ï¼Œå³æ‚¨å¯ä»¥å°†æœºå™¨çŠ¶æ€ä¿å­˜åœ¨ä¸»æœºçš„ç¡¬ç›˜ä¸Šå¹¶å…³é—­ VirtualBoxï¼Œå½“ï¼ˆé‡æ–°)å¯åŠ¨æ—¶ï¼Œç³»ç»Ÿå°†ä»å®ƒç¦»å¼€çš„åœ°æ–¹æ¢å¤ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬æåˆ°æºä»£ç ç¼–è¯‘ï¼šå¦‚æœä½ æœ‰ä¸€å°å˜ˆæ‚çš„æœºå™¨ï¼Œä½ ä¸æƒ³ä¸€å¤œä¹‹é—´ç¦»å¼€ï¼Œä½†ä½ çš„ Gentoo è™šæ‹Ÿæœºåªæ˜¯ç¼–è¯‘ä¸€ä¸ªæ–°çš„ gcc ç‰ˆæœ¬ï¼Œæš‚åœæœºå™¨çŠ¶æ€ï¼Œå…³é—­ä¸»æœºï¼Œæ˜å¤©ç»§ç»­ã€‚\næ¡Œé¢è™šæ‹ŸåŒ–ã€KVM è¿˜æ˜¯ Virtualboxï¼Ÿ\nè¿™ä¸¤è€…ä¸­çš„å“ªä¸€ä¸ªæ›´é€‚åˆåœ¨ Linux å°å¼æœº/ç¬”è®°æœ¬ç”µè„‘ä¸Šè¿è¡Œ Windows 10 è™šæ‹Ÿæœºï¼Ÿ\n  å¸¦æœ‰virt-manager çš„QEMU/KVMåº”è¯¥å¯ä»¥ä¸ Virtualbox åª²ç¾ã€‚\nVirtualbox æ²¡é—®é¢˜ï¼Œç‰¹åˆ«æ˜¯å¦‚æœè·¨ä¸»æœºæ“ä½œç³»ç»Ÿä½¿ç”¨ç›¸åŒçš„è™šæ‹ŸåŒ–å¾ˆé‡è¦ï¼Œä½† QEMU/KVM æ˜¯æ›´å¥½çš„æŠ•èµ„ã€‚QEMU/HAXM ä¹Ÿåº”è¯¥å¯ä»¥åœ¨ Mac å’Œ Windows ä¸Šè¿è¡Œï¼Œå°½ç®¡å®ƒç›®å‰è¿˜ä¸å¤Ÿæˆç†Ÿã€‚\n  KVM, obviously. You\u0026rsquo;re probably going to need to learn how to manage it, but it is a much better system and allows abstraction on completely unexposed CPU hardware so you can easily take your image and put it onto another KVM. Windows doesn\u0026rsquo;t like to have it\u0026rsquo;s CPUs exchange on it very often.\n  KVM ä¸ VirtualBox\n  è¡¨ç°\nè¿™æ˜¯è¦è€ƒè™‘çš„æœ€é‡è¦çš„é¢†åŸŸä¹‹ä¸€ï¼Œå³ç®¡ç†ç¨‹åºçš„æ€§èƒ½å°†å¦‚ä½•å½±å“æ‚¨çš„åŸºç¡€æ¶æ„ã€‚KVM æ˜¯ 1 ç±»ç®¡ç†ç¨‹åºï¼ˆè¿™äº›è™šæ‹Ÿæœºç®¡ç†ç¨‹åºç›´æ¥è¿è¡Œåœ¨å®¿ä¸»æœºçš„ç¡¬ä»¶ä¸Šæ¥æ§åˆ¶ç¡¬ä»¶å’Œç®¡ç†å®¢æ“ä½œç³»ç»Ÿï¼‰ï¼Œè€Œ VirtualBox æ˜¯ 2 ç±»ç®¡ç†ç¨‹åºï¼ˆè¿™äº›è™šæ‹Ÿæœºç®¡ç†ç¨‹åºè¿è¡Œåœ¨ä¼ ç»Ÿçš„æ“ä½œç³»ç»Ÿä¸Šï¼Œå°±åƒå…¶ä»–è®¡ç®—æœºç¨‹åºé‚£æ ·è¿è¡Œï¼‰ï¼Œè¿™æ„å‘³ç€ KVM åº”è¯¥ä¼˜äº VirtualBoxã€‚\næ ¹æ®SPECvirt_sc2013 åŸºå‡†æµ‹è¯•ï¼ŒVirtualBox é€šå¸¸æ¯” KVM éœ€è¦æ›´å¤šæ—¶é—´æ¥åˆ›å»ºå’Œå¯åŠ¨æœåŠ¡å™¨ï¼Œè€Œ KVM ä»¥æ¥è¿‘æœ¬æœºçš„é€Ÿåº¦è¿è¡Œåº”ç”¨ç¨‹åºï¼Œæ¯”å…¶ä»–è¡Œä¸šç®¡ç†ç¨‹åºæ›´å¿«ã€‚å°½ç®¡å¯¹äºå…¸å‹è´Ÿè½½ï¼Œå·®å¼‚å¯èƒ½å¾®ä¸è¶³é“ã€‚\n  ç®¡ç†ç¨‹åºç®¡ç†\nè¿™ä¸¤ä¸ªç»™å®šçš„åº”ç”¨ç¨‹åºéƒ½å¯ä»¥é€šè¿‡ GUI è¿›è¡Œç®¡ç†ã€‚Virtualbox ç›¸å¯¹æ¥è¯´æœ‰æ›´å¥½çš„ GUIï¼Œä½† KVM çš„å½“å‰ GUI ä½¿å…¶ç®¡ç†æ¯”ä»¥å¾€ä»»ä½•æ—¶å€™éƒ½æ›´å®¹æ˜“ã€‚â€\nå¦‚æœæ‚¨æ›´å–œæ¬¢å‘½ä»¤è¡Œï¼Œé‚£ä¹ˆ KVM ä¸­æœ‰å„ç§å‘½ä»¤è¡Œé€‰é¡¹ã€‚Virtualbox ä¹Ÿæä¾›äº†ä¸€ä¸ªå‘½ä»¤è¡Œç•Œé¢ï¼Œä½†å®ƒä¸å¦‚ KVM virsh å…¨é¢ã€‚æ‚¨ä¸èƒ½ç›´æ¥ä» bash å¯åŠ¨ Virtualbox VMã€‚\n  å¯æ‰©å±•æ€§\nKVM ç»§æ‰¿äº† Linux çš„æ€§èƒ½ï¼Œå¦‚æœæ¥å®¾æœºå™¨å’Œè¯·æ±‚çš„æ•°é‡å¢åŠ ï¼Œå¯ä»¥æ‰©å±•ä»¥åŒ¹é…éœ€æ±‚è´Ÿè½½ã€‚KVM å…è®¸å¯¹è¦æ±‚æœ€è‹›åˆ»çš„åº”ç”¨ç¨‹åºå·¥ä½œè´Ÿè½½è¿›è¡Œè™šæ‹ŸåŒ–ï¼Œå¹¶ä¸”æ˜¯è®¸å¤šä¼ä¸šè™šæ‹ŸåŒ–è®¾ç½®çš„åŸºç¡€ï¼Œä¾‹å¦‚æ•°æ®ä¸­å¿ƒå’Œç§æœ‰äº‘ã€‚\nVirtualBox å¯ä»¥ä¸ºæ¯ä¸ª VM æä¾›å¤šè¾¾ 32 ä¸ªè™šæ‹Ÿ CPUï¼Œè€Œä¸ç®¡ä¸»æœºä¸Šç‰©ç†å­˜åœ¨å¤šå°‘ CPU å†…æ ¸ã€‚è¿˜å¯ä»¥ä¸ºå…·æœ‰å¤šè¾¾ 1024 ä¸ª CPU çš„ä¸»æœºæä¾›æ”¯æŒã€‚\n  å®‰å…¨\nKVM æä¾›å¢å¼ºçš„å®‰å…¨æ€§ï¼Œå› ä¸ºå®ƒç»“åˆä½¿ç”¨ SELinux å’Œå®‰å…¨è™šæ‹ŸåŒ– (sVirt)ã€‚VirtualBox å¯ä»¥æ‰§è¡Œè™šæ‹Ÿæœºçš„å®‰å…¨å®æ—¶è¿ç§»å’Œç£ç›˜æ˜ åƒåŠ å¯†ã€‚å®ƒè¿˜åŒ…æ‹¬è¿œç¨‹æ¡Œé¢åè®® (RDP) èº«ä»½éªŒè¯å’Œç”¨äºåˆ›å»ºè¿›ä¸€æ­¥èº«ä»½éªŒè¯è¦æ±‚ä»¥å¸®åŠ©æé«˜å®‰å…¨æ€§çš„ SDKã€‚æ‚¨å¯ä»¥åœ¨æ­¤é¡µé¢ä¸Šçœ‹åˆ° Virtualbox çš„å®‰å…¨åŠŸèƒ½åˆ—è¡¨ã€‚\n  æˆæœ¬å’Œå®šä»·\nKVM æ˜¯ä¸€ä¸ªå¼€æºçš„å…è´¹å¹³å°ï¼Œç”± Red Hat ç­‰ä¾›åº”å•†æä¾›æœ‰å¿æ”¯æŒã€‚è™½ç„¶ Virtualbox åœ¨é™åˆ¶èŒƒå›´å†…æ˜¯å…è´¹çš„ã€‚ä¸€æ—¦æ‚¨è¶…è¿‡ä¸€å®šçš„ä½¿ç”¨æ°´å¹³ï¼Œæ‚¨å¿…é¡»è·å¾—äº§å“è®¸å¯ã€‚\n  æ”¯æŒ\nå¯¹äº KVMï¼Œæ‚¨éœ€è¦ä¾èµ–å¼€æºç¤¾åŒºå’Œæ‚¨è‡ªå·±çš„ IT ç»„ç»‡æˆ–å—æ”¯æŒçš„ä¾›åº”å•†ï¼ˆå¦‚çº¢å¸½ï¼‰çš„æ”¯æŒã€‚Oracle æ­£åœ¨ç§¯æå¼€å‘ Virtualboxï¼Œæ‚¨å¯ä»¥ä»ä»–ä»¬é‚£é‡Œè·å¾—ä»»ä½•æ”¯æŒã€‚\n  libvirt Libvirt æ˜¯ä¸€ç»„è½¯ä»¶çš„æ±‡é›†ï¼Œæä¾›äº†ç®¡ç†è™šæ‹Ÿæœºå’Œå…¶å®ƒè™šæ‹ŸåŒ–åŠŸèƒ½ï¼ˆå¦‚ï¼šå­˜å‚¨å’Œç½‘ç»œæ¥å£ç­‰ï¼‰çš„ä¾¿åˆ©é€”å¾„ã€‚è¿™äº›è½¯ä»¶åŒ…æ‹¬ï¼šä¸€ä¸ªé•¿æœŸç¨³å®šçš„ C è¯­è¨€ APIã€ä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹ï¼ˆlibvirtdï¼‰å’Œä¸€ä¸ªå‘½ä»¤è¡Œå·¥å…·ï¼ˆvirshï¼‰ã€‚Libvirt çš„ä¸»è¦ç›®æ ‡æ˜¯æä¾›ä¸€ä¸ªå•ä¸€é€”å¾„ä»¥ç®¡ç†å¤šç§ä¸åŒè™šæ‹ŸåŒ–æ–¹æ¡ˆä»¥åŠè™šæ‹ŸåŒ–ä¸»æœºï¼ŒåŒ…æ‹¬ï¼šKVM/QEMUï¼ŒXenï¼ŒLXCï¼ŒOpenVZ æˆ– VirtualBox hypervisorsã€‚\nLibvirt çš„ä¸€äº›ä¸»è¦åŠŸèƒ½å¦‚ä¸‹ï¼š\n VM managementï¼ˆè™šæ‹Ÿæœºç®¡ç†ï¼‰ï¼šå„ç§è™šæ‹Ÿæœºç”Ÿå‘½å‘¨æœŸçš„æ“ä½œï¼Œå¦‚ï¼šå¯åŠ¨ã€åœæ­¢ã€æš‚åœã€ä¿å­˜ã€æ¢å¤å’Œè¿ç§»ç­‰ï¼›å¤šç§ä¸åŒç±»å‹è®¾å¤‡çš„çƒ­æ’æ‹”æ“ä½œï¼ŒåŒ…æ‹¬ç£ç›˜ã€ç½‘ç»œæ¥å£ã€å†…å­˜ã€CPUç­‰ã€‚ Remote machine supportï¼ˆæ”¯æŒè¿œç¨‹è¿æ¥ï¼‰ï¼šLibvirt çš„æ‰€æœ‰åŠŸèƒ½éƒ½å¯ä»¥åœ¨è¿è¡Œç€ libvirt å®ˆæŠ¤è¿›ç¨‹çš„æœºå™¨ä¸Šæ‰§è¡Œï¼ŒåŒ…æ‹¬è¿œç¨‹æœºå™¨ã€‚é€šè¿‡æœ€ç®€ä¾¿ä¸”æ— éœ€é¢å¤–é…ç½®çš„ SSH åè®®ï¼Œè¿œç¨‹è¿æ¥å¯æ”¯æŒå¤šç§ç½‘ç»œè¿æ¥æ–¹å¼ã€‚ Storage managementï¼ˆå­˜å‚¨ç®¡ç†ï¼‰ï¼šä»»ä½•è¿è¡Œ libvirt å®ˆæŠ¤è¿›ç¨‹çš„ä¸»æœºéƒ½å¯ä»¥ç”¨äºç®¡ç†å¤šç§ç±»å‹çš„å­˜å‚¨ï¼šåˆ›å»ºå¤šç§ç±»å‹çš„æ–‡ä»¶é•œåƒï¼ˆqcow2ï¼Œvmdkï¼Œrawï¼Œ\u0026hellip;ï¼‰ï¼ŒæŒ‚è½½ NFS å…±äº«ï¼Œæšä¸¾ç°æœ‰ LVM å·ç»„ï¼Œåˆ›å»ºæ–°çš„ LVM å·ç»„å’Œé€»è¾‘å·ï¼Œå¯¹è£¸ç£ç›˜è®¾å¤‡åˆ†åŒºï¼ŒæŒ‚è½½ iSCSI å…±äº«ï¼Œä»¥åŠæ›´å¤š\u0026hellip;\u0026hellip; Network interface managementï¼ˆç½‘ç»œæ¥å£ç®¡ç†ï¼‰ï¼šä»»ä½•è¿è¡Œ libvirt å®ˆæŠ¤è¿›ç¨‹çš„ä¸»æœºéƒ½å¯ä»¥ç”¨äºç®¡ç†ç‰©ç†çš„å’Œé€»è¾‘çš„ç½‘ç»œæ¥å£ï¼Œæšä¸¾ç°æœ‰æ¥å£ï¼Œé…ç½®ï¼ˆå’Œåˆ›å»ºï¼‰æ¥å£ã€æ¡¥æ¥ã€VLANã€ç«¯å£ç»‘å®šã€‚ Virtual NAT and Route based networkingï¼ˆè™šæ‹Ÿ NAT å’ŒåŸºäºè·¯ç”±çš„ç½‘ç»œï¼‰ï¼šä»»ä½•è¿è¡Œ libvirt å®ˆæŠ¤è¿›ç¨‹çš„ä¸»æœºéƒ½å¯ä»¥ç®¡ç†å’Œåˆ›å»ºè™šæ‹Ÿç½‘ç»œã€‚Libvirt è™šæ‹Ÿç½‘ç»œä½¿ç”¨é˜²ç«å¢™è§„åˆ™å®ç°ä¸€ä¸ªè·¯ç”±å™¨ï¼Œä¸ºè™šæ‹Ÿæœºæä¾›åˆ°ä¸»æœºç½‘ç»œçš„é€æ˜è®¿é—®ã€‚  å®‰è£… åŸºäºå®ˆæŠ¤è¿›ç¨‹/å®¢æˆ·ç«¯çš„æ¶æ„çš„ libvirt åªéœ€è¦å®‰è£…åœ¨éœ€è¦è¦å®ç°è™šæ‹ŸåŒ–çš„æœºå™¨ä¸Šã€‚æ³¨æ„ï¼ŒæœåŠ¡å™¨å’Œå®¢æˆ·ç«¯å¯ä»¥æ˜¯ç›¸åŒçš„ç‰©ç†æœºå™¨ã€‚\næœåŠ¡ç«¯\nå®‰è£… libvirt ä»¥åŠè‡³å°‘ä¸€ä¸ªè™šæ‹Ÿè¿è¡Œç¯å¢ƒï¼ˆhypervisorï¼‰ï¼šlibvirt çš„ KVM/QEMU é©±åŠ¨ æ˜¯ libvirt çš„é¦–é€‰é©±åŠ¨ï¼Œå¦‚æœ KVM åŠŸèƒ½å·²å¯ç”¨ï¼Œåˆ™æ”¯æŒå…¨è™šæ‹ŸåŒ–å’Œç¡¬ä»¶åŠ é€Ÿçš„å®¢æˆ·æœºã€‚\n$ sudo apt update $ sudo apt install qemu-kvm libvirt-daemon-system å®‰è£… libvirt-daemon-system åï¼Œéœ€è¦å°†ç”¨äºç®¡ç†è™šæ‹Ÿæœºçš„ç”¨æˆ·æ·»åŠ åˆ°libvirtç»„ä¸­ã€‚è¿™å¯¹äº sudo ç»„çš„æˆå‘˜æ˜¯è‡ªåŠ¨å®Œæˆçš„ï¼Œä½†å¯¹äºåº”è¯¥è®¿é—®ç³»ç»ŸèŒƒå›´çš„ libvirt èµ„æºçš„å…¶ä»–ä»»ä½•äººï¼Œéƒ½éœ€è¦å¦å¤–å®Œæˆã€‚è¿™æ ·åšå°†æˆäºˆç”¨æˆ·è®¿é—®é«˜çº§ç½‘ç»œé€‰é¡¹çš„æƒé™ã€‚\nåœ¨ç»ˆç«¯ä¸­è¾“å…¥ï¼š\n$ sudo adduser $USER libvirt å¦‚æœé€‰æ‹©çš„ç”¨æˆ·æ˜¯å½“å‰ç”¨æˆ·ï¼Œæ‚¨éœ€è¦æ³¨é”€å¹¶é‡æ–°ç™»å½•æ‰èƒ½ä½¿æ–°çš„ç»„æˆå‘˜èº«ä»½ç”Ÿæ•ˆã€‚\nå®¢æˆ·ç«¯\nå®¢æˆ·ç«¯æ˜¯ç”¨äºç®¡ç†å’Œè®¿é—®è™šæ‹Ÿæœºçš„ç”¨æˆ·ç•Œé¢ã€‚\n virsh â€” virsh æ˜¯ç”¨äºç®¡ç†å’Œé…ç½®åŸŸï¼ˆè™šæ‹Ÿæœºï¼‰çš„å‘½ä»¤è¡Œç¨‹åºã€‚ Virtual Machine Manager â€” ä½¿ç”¨libvirtå¯¹KVMï¼ŒXenï¼ŒLXCè¿›è¡Œç®¡ç†çš„å›¾å½¢åŒ–å·¥å…·ã€‚  é…ç½® å¯¹äºç³»ç»Ÿ çº§åˆ«çš„ç®¡ç†ä»»åŠ¡ï¼ˆå¦‚ï¼šå…¨å±€é…ç½®å’Œé•œåƒå· ä½ç½®ï¼‰ï¼Œlibvirt è¦æ±‚è‡³å°‘è¦è®¾ç½®æˆæƒå’Œå¯åŠ¨å®ˆæŠ¤è¿›ç¨‹ã€‚\næ³¨æ„ï¼š å¯¹äºç”¨æˆ·ä¼šè¯ çº§åˆ«çš„ç®¡ç†ä»»åŠ¡ï¼Œå®ˆæŠ¤è¿›ç¨‹çš„å®‰è£…å’Œè®¾ç½®ä¸æ˜¯ å¿…é¡»çš„ã€‚æˆæƒæ€»æ˜¯ä»…é™æœ¬åœ°ï¼Œå‰å°ç¨‹åºå°†å¯åŠ¨ä¸€ä¸ª libvirtd å®ˆæŠ¤è¿›ç¨‹çš„æœ¬åœ°å®ä¾‹ã€‚\nè®¾ç½®æˆæƒ è‡ª libvirtï¼šè¿æ¥æˆæƒï¼šLibvirt å®ˆæŠ¤è¿›ç¨‹å…è®¸ç®¡ç†å‘˜åˆ†åˆ«ä¸ºå®¢æˆ·ç«¯è¿æ¥çš„æ¯ä¸ªç½‘ç»œ socket é€‰æ‹©ä¸åŒæˆæƒæœºåˆ¶ã€‚è¿™ä¸»è¦æ˜¯é€šè¿‡ libvirt å®ˆæŠ¤è¿›ç¨‹çš„ä¸»é…ç½®æ–‡ä»¶ /etc/libvirt/libvirtd.conf æ¥å®ç°çš„ã€‚æ¯ä¸ª libvirt socket å¯ä»¥æœ‰ç‹¬ç«‹çš„æˆæƒæœºåˆ¶é…ç½®ã€‚ç›®å‰çš„å¯é€‰é¡¹æœ‰ noneã€polkit å’Œ saslã€‚\nç”±äº libvirt åœ¨å®‰è£…æ—¶å°†æŠŠ polkit ä½œä¸ºä¾èµ–ä¸€å¹¶å®‰è£…ï¼Œæ‰€ä»¥ polkit é€šå¸¸æ˜¯ unix_sock_auth å‚æ•°çš„é»˜è®¤å€¼ã€‚ä½†åŸºäºæ–‡ä»¶çš„æƒé™ä»ç„¶å¯ç”¨ã€‚\nä½¿ç”¨ polkit\næ³¨æ„ï¼š ä¸ºä½¿ polkit è®¤è¯å·¥ä½œæ­£å¸¸ï¼Œåº”è¯¥é‡å¯ä¸€æ¬¡ç³»ç»Ÿã€‚\nlibvirt å®ˆæŠ¤è¿›ç¨‹åœ¨ polkit ç­–ç•¥é…ç½®æ–‡ä»¶ï¼ˆ/usr/share/polkit-1/actions/org.libvirt.unix.policyï¼‰ä¸­æä¾›äº†ä¸¤ç§ç­–ç•¥ï¼š\n org.libvirt.unix.manage é¢å‘å®Œå…¨çš„ç®¡ç†è®¿é—®ï¼ˆè¯»å†™æ¨¡å¼åå° socketï¼‰ï¼Œä»¥åŠ org.libvirt.unix.monitor é¢å‘ä»…ç›‘è§†å¯Ÿçœ‹è®¿é—®ï¼ˆåªè¯» socketï¼‰ã€‚  é»˜è®¤çš„é¢å‘è¯»å†™æ¨¡å¼åå° socket çš„ç­–ç•¥å°†è¯·æ±‚è®¤è¯ä¸ºç®¡ç†å‘˜ã€‚è¿™ç‚¹ç±»ä¼¼äº sudo è®¤è¯ï¼Œä½†å®ƒå¹¶ä¸è¦æ±‚å®¢æˆ·åº”ç”¨æœ€ç»ˆä»¥ root èº«ä»½è¿è¡Œã€‚é»˜è®¤ç­–ç•¥ä¸‹ä¹Ÿä»ç„¶å…è®¸ä»»ä½•åº”ç”¨è¿æ¥åˆ°åªè¯» socketã€‚\nåŸºäºæ–‡ä»¶çš„æƒé™æˆæƒ\nä¸ºäº†ç»™ libvirt ç»„ç”¨æˆ·å®šä¹‰åŸºäºæ–‡ä»¶çš„æƒé™ä»¥ç®¡ç†è™šæ‹Ÿæœºï¼Œå–æ¶ˆä¸‹åˆ—è¡Œçš„æ³¨é‡Šï¼š\n$ vim /etc/libvirt/libvirtd.conf #unix_sock_group = \u0026#34;libvirt\u0026#34; #unix_sock_ro_perms = \u0026#34;0777\u0026#34; # set to 0770 to deny non-group libvirt users #unix_sock_rw_perms = \u0026#34;0770\u0026#34; #auth_unix_ro = \u0026#34;none\u0026#34; #auth_unix_rw = \u0026#34;none\u0026#34; æœ‰äº›èµ„æ–™æåˆ°å¯ä»¥é€šè¿‡æ”¹å˜æŸäº›ç‰¹å®š libvirt ç›®å½•çš„æƒé™ä»¥ç®€åŒ–ç®¡ç†ã€‚éœ€è¦è®°ä½çš„æ˜¯ï¼šåŒ…æ›´æ–°æ—¶ï¼Œè¿™äº›å˜æ›´ä¼šä¸¢å¤±ã€‚å¦‚è¦ä¿®æ”¹è¿™äº›ç³»ç»Ÿç›®å½•çš„æƒé™ï¼Œéœ€è¦ root ç”¨æˆ·æƒé™ã€‚\nå®ˆæŠ¤è¿›ç¨‹ libvirtd.service å’Œ virtlogd.serviceè¿™ä¸¤ä¸ªæœåŠ¡å•å…ƒéƒ½è¦å¯åŠ¨ã€‚å¯ä»¥æŠŠ libvirtd.service è®¾ç½®ä¸ºå¯ç”¨ï¼Œè¿™æ—¶ç³»ç»Ÿå°†åŒæ—¶å¯ç”¨ virtlogd.service å’Œ virtlockd.socket ä¸¤ä¸ªæœåŠ¡å•å…ƒï¼Œå› æ­¤åäºŒè€…ä¸å¿…å†è®¾ç½®ä¸ºå¯ç”¨ã€‚\næµ‹è¯• æµ‹è¯• libvirt åœ¨ç³»ç»Ÿçº§å·¥ä½œæ˜¯å¦æ­£å¸¸ï¼š\n$ virsh -c qemu:///system æµ‹è¯• libvirt åœ¨ç”¨æˆ·ä¼šè¯çº§å·¥ä½œæ˜¯å¦æ­£å¸¸ï¼š\n$ virsh -c qemu:///session ç®¡ç† ç»å¤§éƒ¨åˆ†çš„ libvirt ç®¡ç†å¯ä»¥é€šè¿‡ä¸‰ä¸ªå·¥å…·å®ç°ï¼švirt-managerï¼ˆå›¾å½¢ç•Œé¢ï¼‰ã€virsh å’Œ guestfishï¼ˆå®ƒæ˜¯ libguestfs çš„ä¸€éƒ¨åˆ†ï¼‰ã€‚\nvirsh Visrsh ç”¨äºç®¡ç†å®¢æˆ·åŸŸï¼ˆè™šæ‹Ÿæœºï¼‰ï¼Œåœ¨è„šæœ¬å¼è™šæ‹ŸåŒ–ç®¡ç†ç¯å¢ƒä¸­å·¥ä½œè‰¯å¥½ã€‚ç”±äºéœ€è¦é€šè¿‡é€šè®¯ç®¡é“ä¸è™šæ‹Ÿè¿è¡Œç¯å¢ƒé€šè®¯ï¼Œç»å¤§éƒ¨åˆ† virsh å‘½ä»¤éœ€è¦ç®¡ç†å‘˜æƒé™ã€‚å°½ç®¡å¦‚æ­¤ï¼Œä¸€äº›å…¸å‹çš„ç®¡ç†æ“ä½œå¦‚åŸŸçš„åˆ›å»ºã€è¿è¡Œç­‰ä¹Ÿå¯ä»¥åƒVirtualBox é‚£æ ·ä»¥æ™®é€šç”¨æˆ·èº«ä»½æ‰§è¡Œã€‚\nVirsh å…è®¸å¸¦å‘½ä»¤è¡Œé€‰é¡¹æ‰§è¡Œã€‚å¦‚æœä¸å¸¦åˆ™è¿›å…¥å…¶å†…ç½®çš„äº¤äº’å¼ç»ˆç«¯ï¼švirshã€‚äº¤äº’å¼ç»ˆç«¯æ”¯æŒ tab é”®å‘½ä»¤è¡¥å…¨ã€‚\nä»å‘½ä»¤è¡Œæ‰§è¡Œï¼š\n$ virsh [å¯é€‰é¡¹] \u0026lt;å‘½ä»¤\u0026gt; [å‚æ•°]... åœ¨äº¤äº’å¼ç»ˆç«¯é‡Œè¿è¡Œï¼š\nvirsh # \u0026lt;å‘½ä»¤\u0026gt; [å‚æ•°]... å¸®åŠ©ä¹Ÿæ˜¯å¯ç”¨çš„ï¼š\n$ virsh help [option*] or [group-keyword*] å­˜å‚¨æ±  å­˜å‚¨æ± æ˜¯æŒ‡ä¿å­˜å·çš„ä½ç½®ã€‚Libvirt ä¸­å·çš„å®šä¹‰ç›¸å½“äºå…¶ä»–ç³»ç»Ÿä¸­è™šæ‹Ÿç£ç›˜æˆ–è™šæ‹Ÿæœºé•œåƒçš„æ¦‚å¿µã€‚å­˜å‚¨æ± åº”è¯¥æ˜¯ä¸€ä¸ªç›®å½•ã€ä¸€ä¸ªç½‘ç»œæ–‡ä»¶ç³»ç»Ÿæˆ–ä¸€ä¸ªåˆ†åŒºï¼ˆæ­¤å¤„åŒ…æ‹¬ LVMï¼‰ã€‚å­˜å‚¨æ± å¯ä»¥åœ¨æ´»åŠ¨ä¸ä¸æ´»åŠ¨ä¹‹é—´åˆ‡æ¢ï¼Œå¯ä»¥ä¸ºå…¶åˆ†é…å­˜å‚¨ç©ºé—´ã€‚\nä»¥ä¸‹ç¤ºä¾‹ä¸ºæ·»åŠ å­˜å‚¨æ± ã€ç›®å½•å’Œ LVM å·çš„æ–¹æ³•ï¼š\n$ virsh pool-define-as name type [source-host] [source-path] [source-dev] [source-name] [\u0026lt;target\u0026gt;] [--source-format format] $ virsh pool-define-as poolname dir - - - - /home/username/.local/libvirt/images $ virsh pool-define-as poolname fs - - /dev/vg0/images - mntpoint ä¸Šè¿°ç¤ºä¾‹ä»…ä»…å®šä¹‰äº†å­˜å‚¨æ± çš„ä¿¡æ¯ï¼Œä¸‹é¢åˆ›å»ºå®ƒï¼š\n$ virsh pool-build poolname $ virsh pool-start poolname $ virsh pool-autostart poolname åˆ é™¤å®ƒçš„å‘½ä»¤ï¼š\n$ virsh pool-undefine poolname æç¤ºï¼š å¯¹äº LVM å­˜å‚¨æ± è€Œè¨€ï¼š\n æœ€ä½³å®è·µæ˜¯ä»…æŠŠä¸€ä¸ªå·ç»„åˆ†é…ç»™ä¸€ä¸ªå­˜å‚¨æ± ã€‚ è¯·ä¸ºå­˜å‚¨æ± é€‰æ‹©ä¸€ä¸ªä¸ LVM å·ç»„ä¸åŒçš„åå­—ã€‚å¦åˆ™å½“å­˜å‚¨æ± è¢«åˆ é™¤æ—¶ï¼Œè¯¥å·ç»„ä¹Ÿå°†è¢«åˆ é™¤ã€‚  ç”¨ virt-manager æ–°å»ºå­˜å‚¨æ± \né¦–å…ˆï¼Œè¿æ¥åˆ°è™šæ‹Ÿè¿è¡Œç¯å¢ƒï¼ˆä¾‹å¦‚QEMU/KVMçš„ç³»ç»Ÿ/ç”¨æˆ·ä¼šè¯ï¼‰ã€‚ç„¶åï¼Œå³é”®ç‚¹å‡»ä¸€ä¸ªè¿æ¥ï¼ˆä¾‹å¦‚QEMU/KVMï¼‰é€‰æ‹©è¯¦æƒ…ï¼Œåˆ‡æ¢åˆ°å­˜å‚¨é€‰é¡¹å¡ï¼Œç‚¹å‡»å·¦ä¸‹è§’çš„**+**ï¼ŒæŒ‰ç…§å‘å¯¼æ“ä½œã€‚\nå­˜å‚¨å· å­˜å‚¨æ± è¢«åˆ›å»ºä¹‹åï¼Œå°±å¯ä»¥åœ¨å­˜å‚¨æ± ä¸­åˆ›å»ºå­˜å‚¨å·ã€‚å¦‚æœä½ æƒ³æ–°å»ºä¸€ä¸ªåŸŸï¼ˆè™šæ‹Ÿæœºï¼‰ï¼Œé‚£ä¹ˆè¿™ä¸€æ­¥å¯ä»¥è·³è¿‡ï¼Œå› ä¸ºè¿™ä¸€æ­¥å¯ä»¥åœ¨åˆ›å»ºåŸŸçš„è¿‡ç¨‹ä¸­å®Œæˆã€‚\nç”¨ virsh æ–°å»ºå·\næ–°å»ºå·ï¼Œåˆ—å‡ºå·ï¼Œå˜æ›´å·å¤§å°ï¼Œåˆ é™¤å·ï¼š\n$ virsh vol-create-as poolname volumename 10GiB --format aw|bochs|raw|qcow|qcow2|vmdk $ virsh vol-upload --pool poolname volumename volumepath $ virsh vol-list poolname $ virsh vol-resize --pool poolname volumename 12GiB $ virsh vol-delete --pool poolname volumename $ virsh vol-dumpxml --pool poolname volumename # for details. åŸŸ è™šæ‹Ÿæœºè¢«ç§°ä½œ**â€œåŸŸâ€**ã€‚å¦‚æœä½ æƒ³åœ¨å‘½ä»¤è¡Œä¸‹æ“ä½œï¼Œä½¿ç”¨virshåˆ—å‡ºï¼Œåˆ›å»ºï¼Œæš‚åœï¼Œå…³é—­â€¦â€¦åŸŸã€‚virt-viewerå¯ä»¥ç”¨æ¥æŸ¥çœ‹ä½¿ç”¨virshå¯åŠ¨çš„åŸŸã€‚åŸŸçš„åˆ›å»ºé€šå¸¸ä»¥å›¾å½¢åŒ–çš„virt-manageræˆ–è€…å‘½ä»¤è¡Œä¸‹çš„virt-installå®Œæˆã€‚ åˆ›å»ºæ–°åŸŸé€šå¸¸éœ€è¦å®‰è£…åª’ä»‹ï¼Œä¾‹å¦‚å­˜å‚¨æ± ä¸­çš„isoæ–‡ä»¶æˆ–æ˜¯ç›´æ¥ä»å…‰é©±å®‰è£…ã€‚\nåˆ—å‡ºæ´»åŠ¨çš„å’Œä¸æ´»åŠ¨çš„åŸŸï¼š\n# virsh list --all ç”¨ virt-install æ–°å»ºåŸŸ\nå¯¹äºå¾ˆè¯¦ç»†çš„åŸŸï¼ˆè™šæ‹Ÿæœºï¼‰é…ç½®ï¼Œå¯ä»¥ç”¨ virt-manager æ–°å»ºåŸŸæ›´ç®€å•åœ°å®Œæˆã€‚ä½†æ˜¯ï¼ŒåŸºç¡€é…ç½®åŒæ ·å¯ä»¥ç”¨virt-installå®Œæˆå¹¶ä¸”åŒæ ·è¿è¡Œé¡ºåˆ©ã€‚è‡³å°‘è¦é…ç½®--name, --memory, å­˜å‚¨(--disk, --filesystem,æˆ–--nodisks),å’Œå®‰è£…æ–¹æ³•ï¼ˆé€šå¸¸æ¥è¯´æ˜¯.isoæ–‡ä»¶æˆ–CDï¼‰ã€‚æŸ¥çœ‹virt-install(1)å¾—åˆ°æœªåˆ—å‡ºçš„é€‰é¡¹å’Œæ›´å¤šçš„è¯¦æƒ…ã€‚\nWindows:\n$ virt-install \\  --name=windows7 \\  --memory 2048 \\  --cdrom /dev/sr0 \\  --os-variant=win7 \\  --disk /mnt/storage/domains/windows7.qcow2,size=20GiB \\  --network network=vm-net \\  --graphics spice å¯¼å…¥ç°æœ‰çš„å·ï¼š\n$ virt-install \\  --name demo \\  --memory 512 \\  --disk /home/user/VMs/mydisk.img \\  --import ç”¨ virt-manager æ–°å»ºåŸŸ\né¦–å…ˆï¼Œè¿æ¥åˆ°è™šæ‹Ÿè¿è¡Œç¯å¢ƒï¼ˆä¾‹å¦‚ QEMU/KVM system æˆ–ç”¨æˆ· sessionï¼Œåœ¨è¿æ¥ä¸Šå³å‡»å¹¶é€‰æ‹© æ–°å»ºï¼Œç„¶åè·Ÿéšå‘å¯¼å®Œæˆã€‚\n åœ¨ç¬¬å››æ­¥ä¸­å–æ¶ˆé€‰ä¸­ç«‹å³åˆ†é…å…¨éƒ¨è™šæ‹Ÿç£ç›˜ç©ºé—´ä¼šåŠ å¿«åˆ›å»ºè¿‡ç¨‹å¹¶èŠ‚çœå®é™…è™šæ‹Ÿç£ç›˜ç©ºé—´å ç”¨ï¼›ç„¶è€Œï¼Œè¿™å°†å¯¼è‡´å°†æ¥èŠ±è´¹é¢å¤–çš„ç£ç›˜æ•´ç†æ—¶é—´ã€‚ åœ¨ç¬¬äº”æ­¥ä¸­æ‰“å¼€é«˜çº§é€‰é¡¹å¹¶ç¡®è®¤è™šæ‹ŸåŒ–ç±»å‹è®¾ä¸º kvmï¼ˆè¿™é€šå¸¸æ˜¯é¦–é€‰æ¨¡å¼ï¼‰ã€‚å¦‚æœè¦æ±‚é™„åŠ çš„ç¡¬ä»¶é…ç½®ï¼Œé€‰ä¸­å®‰è£…å‰å®šåˆ¶é€‰é¡¹ã€‚  ç®¡ç†åŸŸ\nå¯åŠ¨åŸŸï¼š\n$ virsh start domain $ virt-viewer --connect qemu:///session domain æ­£å¸¸å…³é—­åŸŸï¼›å¼ºåˆ¶å…³é—­åŸŸ:\n$ virsh shutdown domain $ virsh destroy domain åœ¨libvirtdå¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨åŸŸ:\n$ virsh autostart domain $ virsh autostart domain --disable åœ¨å®¿ä¸»æœºå…³é—­æ—¶è‡ªåŠ¨å…³é—­åŸŸ:\nä½¿ç”¨libvirt-guests.serviceSystemdæœåŠ¡ï¼Œè¿è¡Œä¸­çš„åŸŸå¯ä»¥åœ¨å®¿ä¸»æœºå…³é—­æ—¶è‡ªåŠ¨æŒ‚èµ·/å…³é—­ã€‚åŒæ—¶è¿™ä¸ªæœåŠ¡è¿˜å¯ä»¥è®©æŒ‚èµ·/ä¼‘çœ çš„åŸŸåœ¨å®¿ä¸»æœºå¯åŠ¨çš„æ—¶å€™è‡ªåŠ¨æ¢å¤ã€‚æŸ¥çœ‹/etc/conf.d/libvirt-guestså¹¶è®¾ç½®ç›¸å…³é€‰é¡¹ã€‚\nç¼–è¾‘ä¸€ä¸ªåŸŸçš„XMLé…ç½®ï¼š\n$ virsh edit domain æ³¨æ„ï¼š ç›´æ¥è¢«QEMUå¯åŠ¨çš„è™šæ‹Ÿæœºä¸è¢«libvirtç®¡ç†ã€‚\nç½‘ç»œ è¿™é‡Œæ˜¯æœ‰å…³ libvirt ç½‘ç»œçš„ä¸€ä¸ªæ­£å®—çš„æ¦‚è¿°ã€‚\né»˜è®¤æƒ…å†µä¸‹ï¼Œå½“ libvirtd æœåŠ¡å¯åŠ¨åï¼Œå³åˆ›å»ºäº†ä¸€ä¸ªåä¸º default çš„ NAT ç½‘æ¡¥ä¸å¤–éƒ¨ç½‘ç»œè”é€šï¼ˆä»… IPv4ï¼‰ã€‚å¯¹äºå…¶ä»–çš„ç½‘ç»œè¿æ¥éœ€æ±‚ï¼Œå¯åˆ›å»ºä¸‹åˆ—å››ç§ç±»å‹çš„ç½‘ç»œä»¥è¿æ¥åˆ°è™šæ‹Ÿæœºï¼š\n bridge â€” è¿™æ˜¯ä¸€ä¸ªè™šæ‹Ÿè®¾å¤‡ï¼Œå®ƒé€šè¿‡ä¸€ä¸ªç‰©ç†æ¥å£ç›´æ¥å…±äº«æ•°æ®ã€‚ä½¿ç”¨åœºæ™¯ä¸ºï¼šå®¿ä¸»æœºæœ‰ é™æ€ ç½‘ç»œã€ä¸éœ€ä¸å…¶å®ƒåŸŸè¿æ¥ã€è¦å ç”¨å…¨éƒ¨è¿›å‡ºæµé‡ï¼Œå¹¶ä¸”åŸŸè¿è¡Œäº ç³»ç»Ÿ å±‚çº§ã€‚æœ‰å…³å¦‚ä½•åœ¨ç°æœ‰é»˜è®¤ç½‘æ¡¥æ—¶å¢åŠ å¦ä¸€ä¸ªç½‘æ¡¥çš„æ–¹æ³•ï¼Œè¯·å‚é˜… ç½‘æ¡¥ã€‚ç½‘æ¡¥åˆ›å»ºåï¼Œéœ€è¦å°†å®ƒæŒ‡å®šåˆ°ç›¸åº”å®¢æˆ·æœºçš„ .xml é…ç½®æ–‡ä»¶ä¸­ã€‚ network â€” è¿™æ˜¯ä¸€ä¸ªè™šæ‹Ÿç½‘ç»œï¼Œå®ƒå¯ä»¥ä¸å…¶å®ƒè™šæ‹Ÿæœºå…±ç”¨ã€‚ä½¿ç”¨åœºæ™¯ä¸ºï¼šå®¿ä¸»æœºæœ‰ åŠ¨æ€ ç½‘ç»œï¼ˆä¾‹å¦‚ï¼šNetworkManagerï¼‰æˆ–ä½¿ç”¨æ— çº¿ç½‘ç»œã€‚ macvtap â€” ç›´æ¥è¿æ¥åˆ°å®¿ä¸»æœºçš„ä¸€ä¸ªç‰©ç†ç½‘ç»œæ¥å£ã€‚ user â€” æœ¬åœ°ç½‘ç»œï¼Œä»…ç”¨äºç”¨æˆ· ä¼šè¯ã€‚  ç»å¤§å¤šæ•°ç”¨æˆ·éƒ½å¯ä»¥é€šè¿‡ virsh çš„å„ç§å¯é€‰é¡¹åˆ›å»ºå…·æœ‰å„ç§åŠŸèƒ½çš„ç½‘ç»œï¼Œä¸€èˆ¬æ¥è¯´æ¯”é€šè¿‡ GUI ç¨‹åºï¼ˆåƒ virt-manager ä¹‹ç±»ï¼‰æ›´å®¹æ˜“åšåˆ°ã€‚ä¹Ÿå¯ä»¥æŒ‰ç”¨ virt-install æ–°å»ºåŸŸ æ‰€è¿°å®ç°ã€‚\næ³¨æ„ï¼š libvirt é€šè¿‡ dnsmasq å¤„ç† DHCP å’Œ DNS è¯·æ±‚ï¼Œä»¥å¯åŠ¨æ¯ä¸ªè™šæ‹Ÿç½‘ç»œçš„ä¸åŒå®ä¾‹ã€‚ä¹Ÿä¼šä¸ºç‰¹å®šçš„è·¯ç”±æ·»åŠ  iptables è§„åˆ™å¹¶å¯ç”¨ ip_forward å†…æ ¸å‚æ•°ã€‚è¿™ä¹Ÿæ„å‘³ç€å®¿ä¸»æœºä¸Šå·²è¿è¡Œçš„dnsmasqå¹¶ä¸æ˜¯libvirtæ‰€å¿…é¡»çš„ï¼ˆå¹¶å¯èƒ½å¹²æ‰°åˆ°libvirtçš„dnsmasqå®ä¾‹ï¼‰ã€‚\nUEFI æ”¯æŒ Libvirt å¯ä»¥é€šè¿‡ qemu å’Œ OVMF æ¥æ”¯æŒ UEFI è™šæ‹Ÿæœºã€‚ å®‰è£… ovmf ã€‚ æ·»åŠ ä¸‹é¢çš„å†…å®¹åˆ° /etc/libvirt/qemu.conf ã€‚\n$ vim /etc/libvirt/qemu.conf nvram = [ \u0026#34;/usr/share/ovmf/x64/OVMF_CODE.fd:/usr/share/ovmf/x64/OVMF_VARS.fd\u0026#34; ] é‡å¯ libvirtd\nç°åœ¨ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ª UEFI è™šæ‹Ÿæœºäº†ã€‚ ä½ å¯ä»¥é€šè¿‡ virt-manager æ¥åˆ›å»ºã€‚å½“ä½ è¿›è¡Œåˆ°å‘å¯¼çš„æœ€åä¸€æ­¥æ—¶ï¼š\n å‹¾é€‰åœ¨å®‰è£…å‰è‡ªå®šä¹‰é…ç½®ï¼Œä¹‹åç‚¹å‡»å®Œæˆã€‚ åœ¨æ¦‚å†µå±å¹•, å°†å›ºä»¶æ”¹ä¸º\u0026rsquo;UEFI x86_64\u0026rsquo;ã€‚ ç‚¹å‡»å¼€å§‹å®‰è£… åœ¨å¯åŠ¨å±å¹•ï¼Œä½ éœ€è¦ä½¿ç”¨linuxefiå‘½ä»¤æ¥å¯åŠ¨å®‰è£…ç¨‹åºï¼Œå¹¶ä¸”ä½ éœ€è¦åœ¨ç³»ç»Ÿä¸­è¿è¡ŒefibootmgréªŒè¯ç¡®å®è¿è¡Œåœ¨UEFIæ¨¡å¼ä¸‹ã€‚  VM ç›¸å…³ VirtualBox æ‰§è¡Œ .vbs æ–‡ä»¶\n$ cscript test.vbs åˆ é™¤å¤‡ä»½\nåˆ é™¤è™šæ‹Ÿæœºå¤‡ä»½ï¼Œå½“å‰çŠ¶æ€å‰ä¸€ä¸ªå¤‡ä»½åˆ é™¤å¾—å¿«ï¼Œä¸¤ä¸ªå¤‡ä»½ä¹‹é—´çš„å¤‡ä»½åˆ é™¤å¾—æ…¢ã€‚\nå…±äº«æ–‡ä»¶å¤¹\nå›ºå®šåˆ†é…çš„å…±äº«æ–‡ä»¶å¤¹å¯¹äºå®šä¹‰å…±äº«æ–‡ä»¶å¤¹çš„è™šæ‹Ÿæœºæ˜¯æ°¸ä¹…å­˜åœ¨çš„ï¼›\nä¸´æ—¶åˆ†é…çš„å…±äº«æ–‡ä»¶å¤¹åœ¨è™šæ‹Ÿæœºè¿è¡Œæ—¶æ·»åŠ /åˆ é™¤ï¼Œè™šæ‹Ÿæœºå…³é—­åæ¶ˆå¤±ã€‚\næŠŠimgç³»ç»Ÿé•œåƒè½¬ä¸ºVDIæˆ–VMDKæ ¼å¼æ–‡ä»¶\n$ VBoxManage convertdd *.img *.vdi åœ¨ virtualbox æ–°å»ºè™šæ‹Ÿæœºæ—¶æŒ‡å®š vdi ç¡¬ç›˜æ–‡ä»¶ï¼Œå°±å¯ä»¥å®‰è£…ç³»ç»Ÿ\nå¢åŠ ç°æœ‰è™šæ‹Ÿæœºçš„ç£ç›˜å¤§å° ä¸‹é¢æ˜¯ä½ è¿Ÿæ—©ä¼šé‡åˆ°çš„æƒ…å†µã€‚\nä½ åœ¨ VirtualBox ä¸­å®‰è£…äº†ä¸€ä¸ªæˆ–å¤šä¸ªæ“ä½œç³»ç»Ÿã€‚åœ¨åˆ›å»ºè¿™äº›è™šæ‹Ÿæ“ä½œç³»ç»Ÿçš„åŒæ—¶ï¼Œä½ è¿˜åœ¨ VirtualBox ä¸­ä¸ºå®ƒä»¬åˆ›å»ºäº†è™šæ‹Ÿç¡¬ç›˜ã€‚\nä½ æŒ‡å®šäº†è™šæ‹Ÿç£ç›˜çš„æœ€å¤§å¤§å°ï¼Œæ¯”å¦‚è¯´ 15 æˆ– 20GBï¼Œä½†ç°åœ¨ä½¿ç”¨äº†ä¸€æ®µæ—¶é—´åï¼Œä½ å‘ç°ä½ çš„è™šæ‹Ÿæœºå·²ç»æ²¡æœ‰ç©ºé—´äº†ã€‚\nè™½ç„¶åœ¨ Ubuntu å’Œå…¶ä»–æ“ä½œç³»ç»Ÿä¸Šæœ‰é‡Šæ”¾ç£ç›˜ç©ºé—´çš„æ–¹æ³•ï¼Œä½†æ›´ç¨³å¥çš„å¤„ç†æ–¹å¼æ˜¯å¢åŠ  VirtualBox ä¸­åˆ›å»ºçš„è™šæ‹Ÿæœºçš„ç£ç›˜å¤§å°ã€‚\næ˜¯çš„ï¼Œä½ å¯ä»¥åœ¨ VirtualBox ä¸­æ‰©å¤§è™šæ‹Ÿç¡¬ç›˜ï¼Œå³ä½¿åœ¨åˆ›å»ºä¹‹åä¹Ÿå¯ä»¥ã€‚è™½ç„¶è¿™æ˜¯ä¸€ä¸ªå®‰å…¨ä¸”ç»è¿‡æµ‹è¯•çš„è¿‡ç¨‹ï¼Œä½†æˆ‘ä»¬å¼ºçƒˆå»ºè®®ä½ åœ¨æ‰§è¡Œè¿™æ ·çš„æ“ä½œä¹‹å‰ï¼Œå…ˆåˆ›å»ºä¸€ä¸ªè™šæ‹Ÿæœºçš„å¤‡ä»½ã€‚\næˆ‘å°†å‘ä½ å±•ç¤ºå¦‚ä½•åœ¨ VirtualBox ä¸­ä»¥å›¾å½¢å’Œå‘½ä»¤è¡Œï¼ˆå¯¹äº Linux æå®¢ï¼‰æ–¹å¼è°ƒæ•´ç£ç›˜å¤§å°ã€‚è¿™ä¸¤ç§æ–¹æ³•éƒ½å¾ˆç®€å•ç›´æ¥ã€‚\næ–¹æ³• 1ï¼šåœ¨ VirtualBox ä¸­ä½¿ç”¨è™šæ‹Ÿåª’ä½“ç®¡ç†å™¨\nVirtualBox 6 å¢åŠ äº†ä¸€ä¸ªè°ƒæ•´è™šæ‹Ÿç£ç›˜å¤§å°çš„å›¾å½¢åŒ–é€‰é¡¹ã€‚ä½ å¯ä»¥åœ¨ VirtualBox ä¸»é¡µçš„æ–‡ä»¶é€‰é¡¹å¡ä¸­æ‰¾åˆ°å®ƒã€‚\nè¿›å…¥ â€œFile -\u0026gt; Virtual Media Managerâ€ï¼š\nåœ¨åˆ—è¡¨ä¸­é€‰æ‹©ä¸€ä¸ªè™šæ‹Ÿæœºï¼Œç„¶åä½¿ç”¨ â€œSizeâ€ æ»‘å—æˆ–è¾“å…¥ä½ éœ€è¦çš„å¤§å°å€¼ã€‚å®Œæˆåç‚¹å‡» â€œApplyâ€ã€‚\nè¯·è®°ä½ï¼Œè™½ç„¶ä½ å¢åŠ äº†è™šæ‹Ÿç£ç›˜çš„å¤§å°ï¼Œä½†å¦‚æœä½ çš„ç©ºé—´æ˜¯åŠ¨æ€åˆ†é…çš„ï¼Œé‚£ä¹ˆå®é™…çš„åˆ†åŒºå¤§å°ä»ç„¶ä¸å˜ã€‚\næ–¹æ³• 2ï¼šä½¿ç”¨ Linux å‘½ä»¤è¡Œå¢åŠ  VirtualBox ç£ç›˜ç©ºé—´\nå¦‚æœä½ ä½¿ç”¨ Linux æ“ä½œç³»ç»Ÿä½œä¸ºå®¿ä¸»æœºï¼Œåœ¨å®¿ä¸»æœºä¸­æ‰“å¼€ç»ˆç«¯å¹¶è¾“å…¥ä»¥ä¸‹å‘½ä»¤æ¥è°ƒæ•´ VDI çš„å¤§å°ï¼š\nVBoxManage modifymedium \u0026quot;/path_to_vdi_file\u0026quot; --resize \u0026lt;megabytes\u0026gt; åœ¨ä½ æŒ‰ä¸‹å›è½¦æ‰§è¡Œå‘½ä»¤åï¼Œè°ƒæ•´å¤§å°çš„è¿‡ç¨‹åº”è¯¥é©¬ä¸Šç»“æŸã€‚\n æ³¨æ„äº‹é¡¹\nVirtualBox æ—©æœŸç‰ˆæœ¬å‘½ä»¤ä¸­çš„ *modifyvdi å’Œ modifyhd å‘½ä»¤ä¹Ÿæ”¯æŒï¼Œå¹¶åœ¨å†…éƒ¨æ˜ å°„åˆ° modifymedium å‘½ä»¤ã€‚\n å¦‚æœä½ ä¸ç¡®å®šè™šæ‹Ÿæœºçš„ä¿å­˜ä½ç½®ï¼Œå¯ä»¥åœ¨ VirtualBox ä¸»é¡µé¢ç‚¹å‡» â€œFiles -\u0026gt; Preferencesâ€ æˆ–ä½¿ç”¨é”®ç›˜å¿«æ·é”® Ctrl+G æ‰¾åˆ°é»˜è®¤ä½ç½®ã€‚\nSeamless Mode è™šæ‹Ÿæœºé€šå¸¸åœ¨ä¸€ä¸ªçª—å£ä¸­è¿è¡Œæ¥å®¾æ“ä½œç³»ç»ŸåŠå…¶ç¨‹åºã€‚ä½†æ˜¯ï¼ŒVirtualBoxå’ŒVMwareéƒ½æœ‰ä¸€äº›åŠŸèƒ½ï¼Œå…è®¸æ‚¨åœ¨ä¸»æœºæ¡Œé¢ä¸Šè¿è¡Œè™šæ‹ŸåŒ–ç¨‹åºï¼Œä»è€Œå°†å®ƒä»¬ä»ç›‘ç‹±ä¸­é‡Šæ”¾å‡ºæ¥ã€‚\u0026hellip;\nè¿™æ„å‘³ç€æ‚¨å¯ä»¥åœ¨ä¸ä½¿ç”¨è™šæ‹Ÿæœºçª—å£å’Œæ¥å®¾æ“ä½œç³»ç»Ÿæ¡Œé¢çš„æƒ…å†µä¸‹ä½¿ç”¨ç¨‹åºã€‚å¦‚æœä½¿ç”¨å¤šä¸ªç›‘è§†å™¨ï¼Œç”šè‡³å¯ä»¥å°†è™šæ‹Ÿæœºä¸­çš„ä¸åŒçª—å£æ”¾ç½®åœ¨ä¸åŒçš„ç›‘è§†å™¨ä¸Šã€‚\nå·¥ä½œåŸç†\næ‰€æœ‰è¿™äº›ç‰¹æ€§éƒ½åŒæ ·å·¥ä½œã€‚å¯åŠ¨è™šæ‹Ÿæœºï¼Œå¯åŠ¨æ‚¨æƒ³è¦ä½¿ç”¨çš„ç¨‹åºï¼Œç„¶åå¯ç”¨â€œæ— ç¼æ¨¡å¼â€æˆ–â€œç»Ÿä¸€æ¨¡å¼â€ã€‚æ¥å®¾æ“ä½œç³»ç»Ÿçš„æ¡Œé¢å’Œè™šæ‹Ÿæœºçª—å£å°†æ¶ˆå¤±ï¼Œå°†æ¥å®¾æ“ä½œç³»ç»Ÿçš„çª—å£ç•™åœ¨æ¡Œé¢ä¸Šã€‚å®ƒä»¬çœ‹èµ·æ¥æ­£åœ¨è¿è¡Œï¼Œå¥½åƒå®ƒä»¬åœ¨æ‚¨çš„ä¸»æœºæ“ä½œç³»ç»Ÿä¸Šè¿è¡Œï¼Œä½†è™šæ‹Ÿæœºä»åœ¨åå°è¿è¡Œã€‚ç¨‹åºä»ç„¶æ˜¯æ²™ç›’ï¼Œå› æ­¤å®ƒä»¬æ— æ³•è®¿é—®ä¸»æœºæ“ä½œç³»ç»Ÿçš„æ–‡ä»¶â€”â€”å®ƒä»¬ä¼¼ä¹æ­£åœ¨ä¸»æœºæ“ä½œç³»ç»Ÿä¸Šè¿è¡Œã€‚\næ— è®ºæ‚¨ä½¿ç”¨çš„æ˜¯Windowsã€Linuxè¿˜æ˜¯Macï¼Œè¿™äº›æŠ€å·§éƒ½æœ‰æ•ˆã€‚æ‚¨å¯ä»¥åœ¨Linuxæ¡Œé¢ä¸Šæ— ç¼è¿è¡ŒWindowsç¨‹åºï¼Œä¹Ÿå¯ä»¥åœ¨Windowsæ¡Œé¢ä¸Šè¿è¡ŒLinuxè½¯ä»¶ã€‚\nä½¿ç”¨virtualboxçš„æ— ç¼æ¨¡å¼\nè¯·æ³¨æ„ï¼ŒVirtualBoxåªå…è®¸æ‚¨åœ¨Windowsã€Linuxå’ŒSolariså®¢æˆ·æœºä¸Šä½¿ç”¨æ­¤åŠŸèƒ½ã€‚å¦‚æœä½ è®¾æ³•è®©MacOSXåœ¨VirtualBoxè™šæ‹Ÿæœºä¸Šè¿è¡Œï¼Œæˆ–è€…ä½ æ­£åœ¨ä½¿ç”¨åƒä¿³å¥è¿™æ ·çš„å°ä¼—æ“ä½œç³»ç»Ÿï¼Œä½ å°†æ— æ³•ä½¿ç”¨è¿™ä¸ªåŠŸèƒ½ã€‚\nåœ¨ä½¿ç”¨æ­¤åŠŸèƒ½ä¹‹å‰ï¼Œå¿…é¡»åœ¨è¦ä½¿ç”¨çš„æ¥å®¾è™šæ‹Ÿæœºå†…å®‰è£…VirtualBoxæ¥å®¾æ·»åŠ è½¯ä»¶åŒ…ã€‚å¦‚æœæ‚¨è¿˜æ²¡æœ‰è¿™æ ·åšï¼Œè¯·å¯åŠ¨è™šæ‹Ÿæœºï¼Œå•å‡»â€œè®¾å¤‡â€èœå•ï¼Œç„¶åé€‰æ‹©â€œå®‰è£…æ¥å®¾æ·»åŠ â€ã€‚ç³»ç»Ÿå°†æç¤ºæ‚¨å®‰è£…è½¯ä»¶ã€‚\nè¦ä½¿ç”¨æ­¤åŠŸèƒ½ï¼Œè¯·åŒæ—¶æŒ‰â€œä¸»æœºé”®â€ï¼ˆé€šå¸¸æ˜¯å³Ctrlé”®ï¼Œä½†å®ƒæ˜¾ç¤ºåœ¨è™šæ‹Ÿæœºçª—å£çš„å³ä¸‹è§’ï¼‰å’Œâ€œLâ€ã€‚ä¹Ÿå¯ä»¥å•å‡»â€œè§†å›¾â€èœå•ï¼Œç„¶åé€‰æ‹©â€œåˆ‡æ¢åˆ°æ— ç¼æ¨¡å¼â€ã€‚\nVirtualBoxå°†éšè—æ¥å®¾æ“ä½œç³»ç»Ÿçš„æ¡Œé¢èƒŒæ™¯ï¼Œä½¿å…¶çœ‹èµ·æ¥å¥½åƒæ¥å®¾æ“ä½œç³»ç»Ÿçš„ç¨‹åºæ­£åœ¨ä¸»æœºæ“ä½œç³»ç»Ÿçš„æ¡Œé¢ä¸Šè¿è¡Œã€‚ä½†æ˜¯ï¼Œæ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºä¸ä¼šå‡ºç°åœ¨æ“ä½œç³»ç»Ÿçš„æ ‡å‡†ä»»åŠ¡æ ä¸Šã€‚\nè¦é€€å‡ºæ— ç¼æ¨¡å¼ï¼Œåªéœ€æŒ‰ä¸»æœºé”®ï¼Œç„¶åå†æ¬¡æŒ‰Lã€‚æ‚¨è¿˜å¯ä»¥åœ¨ä»»åŠ¡æ ä¸Šæ–¹æ‰¾åˆ°VirtualBoxèœå•ï¼Œæ‚¨å¯ä»¥å°†é¼ æ ‡æ‚¬åœåœ¨ä¸Šé¢æŸ¥çœ‹ã€‚å•å‡»æŸ¥çœ‹å¹¶å†æ¬¡é€‰æ‹©åˆ‡æ¢åˆ°æ— ç¼æ¨¡å¼ä»¥ç¦ç”¨æ— ç¼æ¨¡å¼ã€‚\nä½¿ç”¨vmwareçš„unityæ¨¡å¼\nVMwareæœ‰ä¸€ä¸ªç±»ä¼¼çš„åŠŸèƒ½ï¼Œåä¸ºUnity modeã€‚å®ƒå¯ä»¥åœ¨å…è´¹çš„VMware Playerã€VMware Workstationå’ŒVMwareçš„å…¶ä»–ä»˜è´¹åº”ç”¨ç¨‹åºä¸Šä½¿ç”¨ã€‚ä¸VirtualBoxä¸€æ ·ï¼ŒVMwareçš„Unityæ¨¡å¼é€‚ç”¨äºWindowså’ŒLinuxå®¢æˆ·æœºã€‚\nVBox+WinXP SP3 Windows XP; Guest Additions installation stuck; Virtualbox 6.1.18\nDisconnect network. It helps me.\nvs VMWare å·¥å…·æ˜¯ç”¨æ¥è§£å†³é—®é¢˜çš„ï¼Œæ²¡å¿…è¦çœ‹åˆ°å¼€æºå°±æ„è¯†å½¢æ€é™„ä½“\npiix4_smbus Host SMBus controller not enabled\nä»å†…æ ¸çš„è¯´æ˜æ–‡æ¡£æ¥çœ‹ï¼Œè¿™ä¸ª piix4 å®é™…ä¸Šæ˜¯ Intel 82371AB å—æ¡¥èŠ¯ç‰‡ï¼Œå¤šåŠŸèƒ½æ€»çº¿æ§åˆ¶å™¨ï¼Œè€Œåœ¨ VMware é‡Œé¢å¹¶æ²¡æœ‰è¿™ä¸ªçœŸå®çš„èŠ¯ç‰‡ç»„ï¼Œä½†åœ¨å¯åŠ¨æ—¶æœ€ä¼šå°è¯•è½½å…¥è¿™ä¸ªé©±åŠ¨æ¨¡å—ï¼Œæ‰€ä»¥ä¼šæŠ¥é”™ï¼Œä½†å¯¹ç³»ç»Ÿæ²¡æœ‰ä»»ä½•å½±å“ã€‚\nè™šæ‹Ÿæœºç½‘ç»œæ¨¡å¼ æ¡¥æ¥\næ¡¥æ¥ç½‘ç»œæ˜¯æŒ‡æœ¬åœ°ç‰©ç†ç½‘å¡å’Œè™šæ‹Ÿç½‘å¡é€šè¿‡VMnet0è™šæ‹Ÿäº¤æ¢æœºè¿›è¡Œæ¡¥æ¥ï¼Œç‰©ç†ç½‘å¡å’Œè™šæ‹Ÿç½‘å¡åœ¨æ‹“æ‰‘å›¾ä¸Šå¤„äºåŒç­‰åœ°ä½ï¼Œé‚£ä¹ˆç‰©ç†ç½‘å¡å’Œè™šæ‹Ÿç½‘å¡å°±ç›¸å½“äºå¤„äºåŒä¸€ä¸ªç½‘æ®µï¼Œè™šæ‹Ÿäº¤æ¢æœºå°±ç›¸å½“äºä¸€å°ç°å®ç½‘ç»œä¸­çš„äº¤æ¢æœº,æ‰€ä»¥ä¸¤ä¸ªç½‘å¡çš„IPåœ°å€ä¹Ÿè¦è®¾ç½®ä¸ºåŒä¸€ç½‘æ®µã€‚\næ‰€ä»¥å½“æˆ‘ä»¬è¦åœ¨å±€åŸŸç½‘ä½¿ç”¨è™šæ‹Ÿæœºï¼Œå¯¹å±€åŸŸç½‘å…¶ä»–pcæä¾›æœåŠ¡æ—¶ï¼Œä¾‹å¦‚æä¾›ftpï¼Œæä¾›sshï¼Œæä¾›httpæœåŠ¡ï¼Œé‚£ä¹ˆå°±è¦é€‰æ‹©æ¡¥æ¥æ¨¡å¼ã€‚\nä¾‹å¦‚å¤§å­¦å®¿èˆé‡Œæœ‰ä¸€ä¸ªè·¯ç”±å™¨ï¼Œå®¿èˆé‡Œå››ä¸ªäººè¿æ¥è¿™ä¸ªè·¯ç”±å™¨ï¼Œè·¯ç”±å™¨çš„wanipå°±ä¸ç†ä¼šäº†ï¼Œè¿™ä¸ªipæ˜¯åŠ¨æ€è·å–çš„ï¼Œè€Œlanipé»˜è®¤æ˜¯192.168.1.1,å­ç½‘æ©ç æ˜¯255.255.255.0ã€‚è€Œå…¶ä»–å››ä¸ªäººæ˜¯è‡ªåŠ¨è·å–ipï¼Œå‡è®¾å››ä¸ªäººçš„ipæ˜¯:\nA:192.168.1.100/255.255.255.0,\nB:192.168.1.101/255.255.255.0\nC:192.168.1.102/255.255.255.0\nD:192.168.1.103/255.255.255.0\né‚£ä¹ˆè™šæ‹Ÿæœºçš„ipå¯ä»¥è®¾ç½®çš„ipåœ°å€æ˜¯192.168.1.2-192.168.1.99,192.168.1.104-192.168.1.254 (å³ç½‘ç»œåœ°å€å…¨0å’Œå…¨1çš„é™¤å¤–ï¼Œå†é™¤å»ABCDå››ä¸ªäººçš„ipåœ°å€)\né‚£ä¹ˆè™šæ‹Ÿæœºçš„ipåœ°å€å¯ä»¥è®¾ç½®ä¸º192.168.1.98/255.255.255.0ï¼Œè®¾ç½®äº†è¿™ä¸ªipåœ°å€ï¼ŒABCDè¿™å››ä¸ªäººå°±å¯ä»¥é€šè¿‡192.168.1.98è®¿é—®è™šæ‹Ÿæœºäº†ï¼Œå¦‚æœè™šæ‹Ÿæœºéœ€è¦ä¸Šå¤–ç½‘ï¼Œé‚£ä¹ˆè¿˜éœ€è¦é…ç½®è™šæ‹Ÿæœºçš„è·¯ç”±åœ°å€ï¼Œå°±æ˜¯192.168.1.1äº†ï¼Œè¿™æ ·ï¼Œè™šæ‹Ÿæœºå°±å¯ä»¥ä¸Šå¤–ç½‘äº†ï¼Œä½†æ˜¯ï¼Œä¸Šç½‘æˆ‘ä»¬ä¸€èˆ¬æ˜¯é€šè¿‡åŸŸåå»è®¿é—®å¤–ç½‘çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬è¿˜éœ€è¦ä¸ºè™šæ‹Ÿæœºé…ç½®ä¸€ä¸ªdnsæœåŠ¡å™¨ï¼Œæˆ‘ä»¬å¯ä»¥ç®€å•ç‚¹ï¼ŒæŠŠdnsæœåŠ¡å™¨åœ°å€é…ç½®ä¸ºgoogleçš„dnsæœåŠ¡å™¨:8.8.8.8,åˆ°æ­¤ï¼Œè™šæ‹Ÿæœºå°±å¯ä»¥ä¸Šç½‘äº†ã€‚\nNAT\nNATæ¨¡å¼ä¸­ï¼Œå°±æ˜¯è®©è™šæ‹Ÿæœºå€ŸåŠ©NAT(ç½‘ç»œåœ°å€è½¬æ¢)åŠŸèƒ½ï¼Œé€šè¿‡å®¿ä¸»æœºå™¨æ‰€åœ¨çš„ç½‘ç»œæ¥è®¿é—®å…¬ç½‘ã€‚\nNATæ¨¡å¼ä¸­ï¼Œè™šæ‹Ÿæœºçš„ç½‘å¡å’Œç‰©ç†ç½‘å¡çš„ç½‘ç»œï¼Œä¸åœ¨åŒä¸€ä¸ªç½‘ç»œï¼Œè™šæ‹Ÿæœºçš„ç½‘å¡ï¼Œæ˜¯åœ¨vmwareæä¾›çš„ä¸€ä¸ªè™šæ‹Ÿç½‘ç»œã€‚\nNATå’Œæ¡¥æ¥çš„æ¯”è¾ƒ:\n NATæ¨¡å¼å’Œæ¡¥æ¥æ¨¡å¼è™šæ‹Ÿæœºéƒ½å¯ä»¥ä¸Šå¤–ç½‘ã€‚ ç”±äºNATçš„ç½‘ç»œåœ¨vmwareæä¾›çš„ä¸€ä¸ªè™šæ‹Ÿç½‘ç»œé‡Œï¼Œæ‰€ä»¥å±€åŸŸç½‘å…¶ä»–ä¸»æœºæ˜¯æ— æ³•è®¿é—®è™šæ‹Ÿæœºçš„ï¼Œè€Œå®¿ä¸»æœºå¯ä»¥è®¿é—®è™šæ‹Ÿæœºï¼Œè™šæ‹Ÿæœºå¯ä»¥è®¿é—®å±€åŸŸç½‘çš„æ‰€æœ‰ä¸»æœºï¼Œå› ä¸ºçœŸå®çš„å±€åŸŸç½‘ç›¸å¯¹äºNATçš„è™šæ‹Ÿç½‘ç»œï¼Œå°±æ˜¯NATçš„è™šæ‹Ÿç½‘ç»œçš„å¤–ç½‘ã€‚ æ¡¥æ¥æ¨¡å¼ä¸‹ï¼Œå¤šä¸ªè™šæ‹Ÿæœºä¹‹é—´å¯ä»¥äº’ç›¸è®¿é—®ï¼›NATæ¨¡å¼ä¸‹ï¼Œå¤šä¸ªè™šæ‹Ÿæœºä¹‹é—´ä¹Ÿå¯ä»¥ç›¸äº’è®¿é—®ã€‚  å¦‚æœä½ å»ºä¸€ä¸ªè™šæ‹Ÿæœºï¼Œåªæ˜¯ç»™è‡ªå·±ç”¨ï¼Œä¸éœ€è¦ç»™å±€åŸŸç½‘å…¶ä»–äººç”¨ï¼Œé‚£ä¹ˆå¯ä»¥é€‰æ‹©NATï¼Œæ¯•ç«ŸNATæ¨¡å¼ä¸‹çš„è™šæ‹Ÿç³»ç»Ÿçš„TCP/IPé…ç½®ä¿¡æ¯æ˜¯ç”±VMnet8(NAT)è™šæ‹Ÿç½‘ç»œçš„DHCPæœåŠ¡å™¨æä¾›çš„ï¼Œåªè¦è™šæ‹Ÿæœºçš„ç½‘è·¯é…ç½®æ˜¯DHCPï¼Œé‚£ä¹ˆä½ ä¸éœ€è¦è¿›è¡Œä»»ä½•å…¶ä»–çš„é…ç½®ï¼Œåªéœ€è¦å®¿ä¸»æœºå™¨èƒ½è®¿é—®äº’è”ç½‘å³å¯ï¼Œå°±å¯ä»¥è®©è™šæ‹Ÿæœºè”ç½‘äº†ã€‚\nä¾‹å¦‚ä½ æƒ³å»ºå¤šä¸ªè™šæ‹Ÿæœºé›†ç¾¤ï¼Œä½œä¸ºæµ‹è¯•ä½¿ç”¨ï¼Œè€Œå®¿ä¸»æœºå¯èƒ½æ˜¯ä¸€ä¸ªç¬”è®°æœ¬ï¼Œipä¸å›ºå®šã€‚è¿™ç§åº”ç”¨åœºæ™¯ï¼Œæˆ‘ä»¬éœ€è¦é‡‡ç”¨natæ¨¡å¼äº†ï¼Œä½†æ˜¯æˆ‘ä»¬è¦è€ƒè™‘ä¸€ä¸ªé—®é¢˜ï¼Œè™šæ‹Ÿæœºä¹‹é—´æ˜¯éœ€è¦äº’è®¿çš„ï¼Œé»˜è®¤é‡‡ç”¨dhcpï¼Œè™šæ‹Ÿæœºçš„ipæ¯æ¬¡é‡å¯ï¼Œipéƒ½æ˜¯ä¸å›ºå®šçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æ‰‹å·¥è®¾ç½®è™šæ‹Ÿæœºçš„ipåœ°å€ã€‚\nHost-Only\nåœ¨Host-Onlyæ¨¡å¼ä¸‹ï¼Œè™šæ‹Ÿç½‘ç»œæ˜¯ä¸€ä¸ªå…¨å°é—­çš„ç½‘ç»œï¼Œå®ƒå”¯ä¸€èƒ½å¤Ÿè®¿é—®çš„å°±æ˜¯ä¸»æœºã€‚å…¶å®Host-Onlyç½‘ç»œå’ŒNATç½‘ç»œå¾ˆç›¸ä¼¼ï¼Œä¸åŒçš„åœ°æ–¹å°±æ˜¯Host-Onlyç½‘ç»œæ²¡æœ‰NATæœåŠ¡ï¼Œæ‰€ä»¥è™šæ‹Ÿç½‘ç»œä¸èƒ½è¿æ¥åˆ°Internetã€‚ä¸»æœºå’Œè™šæ‹Ÿæœºä¹‹é—´çš„é€šä¿¡æ˜¯é€šè¿‡VMware Network Adepter VMnet1è™šæ‹Ÿç½‘å¡æ¥å®ç°çš„ã€‚\nHost-Onlyçš„å®—æ—¨å°±æ˜¯å»ºç«‹ä¸€ä¸ªä¸å¤–ç•Œéš”ç»çš„å†…éƒ¨ç½‘ç»œï¼Œæ¥æé«˜å†…ç½‘çš„å®‰å…¨æ€§ã€‚è¿™ä¸ªåŠŸèƒ½æˆ–è®¸å¯¹æ™®é€šç”¨æˆ·æ¥è¯´æ²¡æœ‰å¤šå¤§æ„ä¹‰ï¼Œä½†å¤§å‹æœåŠ¡å•†ä¼šå¸¸å¸¸åˆ©ç”¨è¿™ä¸ªåŠŸèƒ½ã€‚\npodman Podman: A tool for managing OCI containers and pods.\nAndroid-x86 android x86 æ˜¯ä¸€ä¸ªè‡ªç”±è€Œå¼€æºçš„é¡¹ç›®ï¼Œå°†è°·æ­Œåˆ¶ä½œçš„å®‰å“ç³»ç»Ÿä» ARM æ¶æ„ç§»æ¤åˆ°äº† x86 æ¶æ„ï¼Œå¯ä»¥è®©ç”¨æˆ·åœ¨ä»–ä»¬çš„æ¡Œé¢ç”µè„‘ä¸Šè¿è¡Œå®‰å“ç³»ç»Ÿæ¥äº«å—æ‰€æœ‰çš„å®‰å“åŠŸèƒ½å’Œåº”ç”¨ç¨‹åºåŠæ¸¸æˆã€‚\né¦–æ¬¡å¯åŠ¨è¿è¡Œè¯¥å®‰å“ç³»ç»Ÿï¼Œè¿è¡Œï¼š\n$ qemu-img create -f qcow2 Android8-VM.img 30G $ gedit start_Android8_VM.sh #!/bin/bash DISKIMG=/media/kurome/Ventoy/QemuKVM/Android8-VM.img exec qemu-system-x86_64 --enable-kvm \\  -hda ${DISKIMG} \\  -net nic -net user \\  -m 4096 \\  -smp cores=2,threads=4 \\  -monitor stdio \\  -vga std \\  -soundhw es1370 \\  -usb -device usb-tablet \\  -name \u0026#39;Andriod8 VM\u0026#39; \\  $@ $ chmod u+x start_Android8_VM.sh $ ./start_Android8_VM.sh -boot d -cdrom ~/Downloads/android-x86_64-9.0-r2.iso åœ¨ï¼Œå®‰å“ç³»ç»Ÿå·²ç»å®Œå…¨å®‰è£…åœ¨ä½ çš„ android.img æ–‡ä»¶ä¸­ï¼Œä½ åº”è¯¥ä½¿ç”¨ä¸‹é¢çš„ QEMU å‘½ä»¤æ¥å¯åŠ¨å®ƒï¼Œè€Œä¸æ˜¯å‰é¢çš„å‘½ä»¤ï¼š\n$ ./start_Android8_VM.sh Anbox Anbox ç®€ä»‹ Anbox æ˜¯ â€œAndroid in a boxâ€ çš„ç¼©å†™ã€‚Anbox æ˜¯ä¸€ä¸ªåŸºäºå®¹å™¨çš„æ–¹æ³•ï¼Œå¯ä»¥åœ¨æ™®é€šçš„ GNU/Linux ç³»ç»Ÿä¸Šå¯åŠ¨å®Œæ•´çš„ Android ç³»ç»Ÿã€‚\nAnbox å¯ä»¥è®©ä½ åœ¨ Linux ç³»ç»Ÿä¸Šè¿è¡Œ Androidï¼Œè€Œæ²¡æœ‰è™šæ‹ŸåŒ–çš„è¿Ÿé’ï¼Œå› ä¸ºæ ¸å¿ƒçš„ Android æ“ä½œç³»ç»Ÿå·²ç»ä½¿ç”¨ Linux å‘½åç©ºé—´ï¼ˆLXEï¼‰æ”¾ç½®åˆ°å®¹å™¨ä¸­äº†ã€‚\nAndroid å®¹å™¨ä¸èƒ½ç›´æ¥è®¿é—®åˆ°ä»»ä½•ç¡¬ä»¶ï¼Œæ‰€æœ‰ç¡¬ä»¶çš„è®¿é—®éƒ½æ˜¯é€šè¿‡åœ¨ä¸»æœºä¸Šçš„å®ˆæŠ¤è¿›ç¨‹è¿›è¡Œçš„ã€‚\næ¯ä¸ªåº”ç”¨ç¨‹åºå°†åœ¨ä¸€ä¸ªå•ç‹¬çª—å£æ‰“å¼€ï¼Œå°±åƒå…¶å®ƒæœ¬åœ°ç³»ç»Ÿåº”ç”¨ç¨‹åºä¸€æ ·ï¼Œå¹¶ä¸”å®ƒå¯ä»¥æ˜¾ç¤ºåœ¨å¯åŠ¨å™¨ä¸­ã€‚\nå®‰è£…ä½¿ç”¨ Anbox ä¹Ÿå¯ä½œä¸º snap è½¯ä»¶åŒ…å®‰è£…ï¼Œè¯·ç¡®ä¿ä½ å·²ç»åœ¨ä½ çš„ç³»ç»Ÿä¸Šå¯ç”¨äº† snap æ”¯æŒã€‚\nä¸ºä½¿ Anbox å·¥ä½œï¼Œç¡®ä¿éœ€è¦çš„å†…æ ¸æ¨¡å—å·²ç»å®‰è£…åœ¨ä½ çš„ç³»ç»Ÿä¸­ã€‚å¯¹äºåŸºäº Ubuntu çš„ç”¨æˆ·ï¼Œä½¿ç”¨ä¸‹é¢çš„ PPA æ¥å®‰è£…å®ƒã€‚\n$ sudo add-apt-repository ppa:morphis/anbox-support $ sudo apt update $ sudo apt install linux-headers-generic anbox-modules-dkms åœ¨ä½ å®‰è£… anbox-modules-dkms è½¯ä»¶åŒ…åï¼Œä½ å¿…é¡»æ‰‹åŠ¨é‡æ–°åŠ è½½å†…æ ¸æ¨¡å—ï¼Œæˆ–éœ€è¦ç³»ç»Ÿé‡æ–°å¯åŠ¨ã€‚\n$ sudo modprobe ashmem_linux $ sudo modprobe binder_linux å®‰è£… anboxã€‚\n$ sudo apt install anbox å¦‚æœä½ å·²ç»åœ¨ä½ çš„ç³»ç»Ÿä¸Šå®‰è£… snapï¼Œå…¶å®ƒçš„æ­¥éª¤å¯ä»¥å¿½ç•¥ã€‚\n$ sudo snap install --devmode --beta anbox é»˜è®¤æƒ…å†µä¸‹ï¼ŒAnbox å¹¶æ²¡æœ‰å¸¦æœ‰ Google Play Storeã€‚å› æ­¤ï¼Œæˆ‘ä»¬éœ€è¦æ‰‹åŠ¨ä¸‹è½½æ¯ä¸ªåº”ç”¨ç¨‹åºï¼ˆAPKï¼‰ï¼Œå¹¶ä½¿ç”¨ Android è°ƒè¯•æ¡¥ï¼ˆADBï¼‰å®‰è£…å®ƒã€‚\n$ sudo apt install android-tools-adb æ—¢ç„¶æˆ‘ä»¬ä¸èƒ½ä½¿ç”¨ Play Store ï¼Œä½ å°±å¾—ä»ä¿¡å¾—è¿‡çš„ç½‘ç«™æ¥ä¸‹è½½ APK è½¯ä»¶åŒ…ï¼Œåƒ APKMirror ï¼Œç„¶åæ‰‹åŠ¨å®‰è£…å®ƒã€‚\né¦–å…ˆï¼Œä½ éœ€è¦å¯åŠ¨ ADB æœåŠ¡ã€‚ä¸ºåšåˆ°è¿™æ ·ï¼Œè¿è¡Œä¸‹é¢çš„å‘½ä»¤ã€‚\n$ adb devices å®‰è£…è¯­æ³•æ ¼å¼ï¼š\n$ adb install Name-Of-Your-Application.apk Waydroid Waydroidæ˜¯ä¸€ä¸ªåŸºäºlxcå®¹å™¨æŠ€æœ¯ï¼Œç”¨ä»¥å¯åŠ¨å®Œæ•´å®‰å“ç³»ç»Ÿçš„æ–¹æ¡ˆã€‚\nGenymotion Android Virtual Devices for all your development \u0026amp; testing needs\nLooking Glass An extremely low latency KVMFR (KVM FrameRelay) implementation for guests with VGA PCI Passthrough.\nLibVF.IO Commodity GPU Multiplexing Driven By VFIO \u0026amp; YAML.\nWine ç®€ä»‹ Wine æ˜¯åœ¨x86ã€x86-64å®¹è®¸ç±»Unixæ“ä½œç³»ç»Ÿåœ¨X Window Systemè¿è¡ŒMicrosoft Windowsç¨‹åºçš„è½¯ä»¶ã€‚å¦å¤–ï¼ŒWineä¹Ÿæä¾›ç¨‹åºè¿è¡Œåº“ï¼ˆWinelibï¼‰æ¥å¸®åŠ©è®¡ç®—æœºç¨‹åºè®¾è®¡å¸ˆå°†Windowsç¨‹åºç§»æ¤åˆ°ç±»Unixç³»ç»Ÿï¼›ä¹Ÿæœ‰ä¸å°‘è½¯ä»¶ç»è¿‡Wineæµ‹è¯•åå‘å¸ƒï¼Œæ¯”å¦‚Picasaã€uTorrentã€MediaCoderã€‚\nWineé€šè¿‡æä¾›ä¸€ä¸ªå…¼å®¹å±‚æ¥å°†Windowsçš„ç³»ç»Ÿè°ƒç”¨è½¬æ¢æˆä¸POSIXæ ‡å‡†çš„ç³»ç»Ÿè°ƒç”¨ã€‚å®ƒè¿˜æä¾›äº†Windowsç³»ç»Ÿè¿è¡Œåº“çš„æ›¿ä»£å“å’Œä¸€äº›ç³»ç»Ÿç»„ä»¶çš„æ›¿ä»£å“ã€‚ä¸ºäº†é¿å…è‘—ä½œæƒé—®é¢˜ï¼ŒWineä¸»è¦ä½¿ç”¨é»‘ç®±æµ‹è¯•é€†å‘å·¥ç¨‹æ¥ç¼–å†™ã€‚\nWineæœ€æ—©æ˜¯â€œWindows Emulatorâ€ï¼Œå³Windowsæ¨¡æ‹Ÿå™¨çš„ç¼©å†™ï¼Œä½†Wineç°åœ¨ä¸ºâ€œWine Is Not an Emulatorâ€çš„é€’å½’ç¼©å†™ï¼Œå³Wineä¸æ˜¯æ¨¡æ‹Ÿå™¨ã€‚Wineçš„æ­£ç¡®åç§°æ˜¯â€œWineâ€ï¼Œè€Œä¸æ˜¯å…¨å¤§å†™æˆ–å…¨å°å†™ã€‚\nWineè®¡åˆ’åœ¨1993å¹´ç”±Bob AmstadtåŠEric Youngdaleå‘èµ·ï¼Œæœ€åˆç›®çš„æ˜¯ä¸ºäº†è®©16ä½Windows 3.1ç¨‹åºå¯ä»¥åœ¨Linuxä¸Šæ‰§è¡Œï¼Œä½†éšç€ç”µè„‘å’Œæ—¶ä»£çš„æ¼”è¿›ï¼ŒWineä¹Ÿä¸€è·¯æ”¯æŒåˆ°æ›´æ–°çš„Windowså’Œ64ä½çš„è®¡ç®—æœºä½“ç³»ç»“æ„ã€‚\nç”±äºWindowsçš„DLLä¸ºå°é—­æºä»£ç ï¼Œæ‰€ä»¥ç¨‹åºå‘˜åªèƒ½ç”±æœ€åº•å±‚çš„è®¾è®¡å¼€å§‹ï¼Œè€—è´¹å¤§é‡çš„æ—¶é—´æ¥ç¼–å†™å’Œæµ‹è¯•ï¼Œæœ€åè¾¾è‡³å…¼å®¹ï¼Œè¿™è¿‡ç¨‹æ˜¯å›°éš¾ä¸”ç¼“æ…¢çš„ã€‚\nåœ¨1999å¹´æœŸé—´ï¼Œå½“CorelåŠ å…¥è¿™ä¸ªè®¡åˆ’åï¼ŒWineå¾ˆå¿«ä¾¿èƒ½å…¼å®¹WordPerfect Officeï¼Œä½†Corelä¸ä¹…ä¾¿åœæ­¢æ”¯æŒè¿™é¡¹è®¡åˆ’ï¼Œæ‰€ä»¥Wineçš„å‘å±•åˆé€æ¸è¶‹ç¼“ï¼Œä¸€ç›´åˆ°2006å¹´Googleç§¯æå‚ä¸è¿™ä¸ªè®¡åˆ’åï¼ŒWineçš„å‘å±•æ‰åˆæ¢å¤èµ·è‰²ï¼Œæœ€åç»ˆäºåœ¨2008å¹´å‘å¸ƒé¦–ä¸ªç¨³å®šç‰ˆï¼Œå…¶åä¾¿ä»¥æ¯ä¸¤å‘¨å‘å¸ƒä¸€ä¸ªæ–°ç‰ˆçš„é€Ÿåº¦å‘å±•ç€ï¼Œé™¤æ­¤ä¹‹å¤–ï¼ŒGoogleæ¯å¹´æ‰€ä¸¾åŠçš„å¤æ—¥ä»£ç å¤§èµ›æ´»åŠ¨ä¹Ÿå¯¹Wineæœ‰ç€ä¸å°‘è´¡çŒ®ã€‚\nWineè™½ç„¶æ˜¯ä»Linuxå¼€å§‹å‘å±•ï¼Œä½†ç°åœ¨å·²ç»æ”¯æŒå¤šç§å¹³å°ï¼Œæœ‰BSDã€Mac OS Xä¸Solaris-x86ï¼Œåœ¨2013å¹´çš„è‡ªç”±åŠå¼€æºè½¯ä»¶å¼€å‘è€…æ¬§æ´²ä¼šè®®ä¸Šï¼ŒWineçš„é¡¹ç›®é¢†å¯¼äººAlexandre Julliardï¼ˆè‹±è¯­ï¼šAlexandre Julliardï¼‰è¡¨ç¤ºç›®å‰å°†ç§¯ææ”¯æŒAndroidå¹³å°ã€‚\nåœ¨2008å¹´ï¼ŒWineå·²ç»èƒ½å¤Ÿå®Œç¾è¿è¡Œå¾ˆå¤šçŸ¥åç¨‹åºï¼Œä¾‹å¦‚Lotus NotesåŠMicrosoft Office 2007ï¼ŒPhotoshop CS2ï¼Œä½†å…¶å¯é æ€§åŠç¨³å®šæ€§ä»æœ‰å¾…æ”¹å–„ã€‚å¦‚æœè¯¥ç¨‹åºåŒ…å«æœ¬åœ°çš„å¾®è½¯Windowsç³»ç»Ÿçš„åº“ï¼Œé‚£æ ·Wineä¾¿å¯å¾ˆé¡ºåˆ©è¿è¡Œè¯¥ç¨‹åºã€‚\næœ‰äº›Wine DLLsäº¦å·²èƒ½å®Œç¾åœ°å–ä»£WindowsåŸæ¥çš„DLLsï¼Œä½¿å¾—æœ‰äº›ç¨‹åºå¯å®Œç¾è¿è¡Œã€‚\næœ€æ™šåˆ°2006å¹´ï¼ŒWineä¸Šé¢å·²ç»å¯ä»¥å®Œå…¨åŸºäºWine DLLå®Œç¾åœ°è¿è¡Œæš´é›ªå‘è¡Œçš„å¤šæ¬¾3Dæ¸¸æˆäº†ï¼Œå¦‚é­”å…½ä¸–ç•Œã€é­”å…½äº‰éœ¸ç­‰ã€‚\næ³¨ï¼šä»¥ä¸‹å¦‚æœä½¿ç”¨zshï¼Œ~ åº”æ›¿æ¢ä¸º $HOMEæ‰èƒ½æ­£å¸¸ä½¿ç”¨\nå®‰è£… ä½¿ç”¨ Ubuntu ä»“åº“ç‰ˆæœ¬\n$ sudo apt install wine ä½¿ç”¨ wine ä»“åº“å®‰è£…æœ€æ–°ç‰ˆæœ¬\nå¦‚æœæ‚¨ä¹‹å‰å®‰è£…è¿‡æ¥è‡ªå…¶ä»–ä»“åº“çš„ Wine å®‰è£…åŒ…ï¼Œè¯·åœ¨å°è¯•å®‰è£… WineHQ å®‰è£…åŒ…ä¹‹å‰åˆ é™¤å®ƒåŠä¾èµ–å®ƒçš„æ‰€æœ‰å®‰è£…åŒ…ï¼ˆå¦‚ï¼šwine-monoã€wine-geckoã€winetricksï¼‰ï¼Œå¦åˆ™å¯èƒ½å¯¼è‡´ä¾èµ–å†²çªã€‚\nå¦‚æœæ‚¨ä½¿ç”¨çš„æ˜¯ 64 ä½ç³»ç»Ÿï¼Œè¯·å¼€å¯ 32 bit æ¶æ„æ”¯æŒï¼ˆå¦‚æœæ‚¨ä¹‹å‰æ²¡æœ‰å¼€å¯çš„è¯ï¼‰ï¼š\n# Verifying you have 64-bit kernel architecture. $ dpkg --print-architecture # Verifying you have multi-arch support enabled.  $ dpkg --print-foreign-architectures # Enabling multi-arch support. $ sudo dpkg --add-architecture i386 $ sudo apt update ä¸‹è½½æ·»åŠ ä»“åº“å¯†é’¥ï¼š\n$ wget -nc https://dl.winehq.org/wine-builds/winehq.key $ sudo apt-key add winehq.key å¹¶æ·»åŠ  Ubuntu 20.04 ä»“åº“ï¼š\n$ sudo add-apt-repository \u0026#39;deb https://dl.winehq.org/wine-builds/ubuntu/ focal main\u0026#39; å®‰è£…ï¼š\n$ sudo apt update $ sudo apt install --install-recommends winehq-stable é…ç½® é…ç½®Wineçš„æ–¹å¼é€šå¸¸æœ‰ï¼š\n winecfgæ˜¯Wineçš„å›¾å½¢ç•Œé¢é…ç½®ç¨‹åºã€‚æ§åˆ¶å°ä¸‹è°ƒç”¨$ winecfgï¼ˆæˆ–æŒ‡å®šç³»ç»Ÿç›®å½•ï¼š$ WINEPREFIX=~/.ç³»ç»Ÿç›®å½• winecfgï¼‰å³å¯å¯åŠ¨ control.exeæ˜¯Windowsæ§åˆ¶é¢æ¿çš„Wineå®ç°ï¼Œé€šè¿‡$ wine controlå‘½ä»¤å¯åŠ¨ regeditæ˜¯Wineçš„æ³¨å†Œè¡¨ç¼–è¾‘å™¨ï¼Œæ¯”è¾ƒå‰ä¸¤è€…ï¼Œè¯¥å·¥å…·èƒ½é…ç½®æ›´å¤šä¸œè¥¿ã€‚éƒ¨åˆ†å¸¸ç”¨é”®å€¼å‚è§ï¼šWineHQ\u0026rsquo;s article on Useful Registry Keys  åˆå§‹è®¾ç½® é€šè¿‡å…¨å±€èœå•ï¼Œåº”ç”¨ç¨‹åº - \u0026gt;é™„ä»¶ - \u0026gt;ç»ˆç«¯ ï¼Œè¾“å…¥å‘½ä»¤ï¼š winecfg è¿™å°†åœ¨ä½ çš„å®¶ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªéšè—æ–‡ä»¶å¤¹ï¼ˆ.wineï¼‰ï¼Œå…¶ä¸­åŒ…å«ç±»ä¼¼äºåœ¨Windowsä¸­çš„è™šæ‹ŸCï¼šé©±åŠ¨å™¨ä»¥åŠæ³¨å†Œè¡¨æ–‡ä»¶ã€‚ä¸€æ—¦è¯¥ç›®å½•ä¸­åˆ›å»ºå®Œï¼Œwineé…ç½®çª—å£å°†å‡ºç°ã€‚è¯¥çª—å£å°†å…è®¸æ‚¨å®šåˆ¶wineçš„å„ç§è®¾ç½®ï¼Œå…¶ä¸­åŒ…æ‹¬Windowsç‰ˆæœ¬ï¼ŒDLLæ›¿æ¢ï¼Œæ˜¾ç¤ºè®¾ç½®ï¼Œé©±åŠ¨å™¨æ˜ å°„ï¼Œä»¥åŠåº”ç”¨ç¨‹åºçš„ç‰¹å®šè®¾ç½®ã€‚å•å‡»OKæŒ‰é’®å…³é—­è¯¥çª—å£ã€‚\nWINEPREFIX Wineé»˜è®¤å°†é…ç½®æ–‡ä»¶å’Œå®‰è£…çš„Windowsç¨‹åºä¿å­˜åœ¨~/.wineã€‚è¿™æ ·çš„ç›®å½•ç§°ä¸ºä¸€ä¸ª\u0026quot;Wine prefix\u0026quot;æˆ–\u0026quot;Wine bottle\u0026quot;ï¼ˆä¸‹æ–‡ç§°â€œç³»ç»Ÿç›®å½•â€ï¼‰ã€‚æ¯æ¬¡è¿è¡ŒWindowsç¨‹åºï¼ˆåŒ…æ‹¬å†…ç½®ç¨‹åºï¼Œå¦‚winecfgï¼‰æ—¶ï¼Œç³»ç»Ÿç›®å½•ä¼šè‡ªåŠ¨åˆ›å»ºï¼ˆå¦‚æœç¼ºå¤±ï¼‰æˆ–æ›´æ–°ã€‚ç³»ç»Ÿç›®å½•ä¸­å­˜æ”¾æœ‰æ–‡ä»¶å¤¹ ~/.wine/drive_c ç›¸å½“äºWindowsä¸‹C:\\Cç›˜ï¼ˆæ›´ç¡®åˆ‡çš„è¯´åº”æ˜¯ç³»ç»Ÿç›˜ï¼‰ã€‚\né€šè¿‡è®¾ç½®WINEPREFIXç¯å¢ƒå˜é‡ï¼Œå¯ä»¥æ›´æ”¹Wineç³»ç»Ÿç›®å½•çš„ä½ç½®ã€‚å¦‚æœå¸Œæœ›è®©ä¸åŒçš„Windowsç¨‹åºä½¿ç”¨ä¸åŒçš„ç³»ç»Ÿç¯å¢ƒæˆ–é…ç½®ï¼Œè¿™ä¸€å˜é‡ä¼šéå¸¸æœ‰ç”¨ã€‚å»ºè®®æŠŠä½ å®‰è£…çš„ä¸åŒçš„Windowsç¨‹åºåˆ†ç»™ä¸åŒçš„WINEPREFIXï¼Œä¾¿äºæ‰“åŒ…å’Œéš”ç¦»ã€‚å½“ä½ è¦å¯åŠ¨è¿™ä¸ªWindowsç¨‹åºå‰ä¹Ÿè®°å¾—è¦è®¾ç½®WINEPREFIXã€‚\nä¾‹å¦‚ï¼Œå¦‚æœæ‚¨ä½¿ç”¨ $ env WINEPREFIX=~/.win-a wine-Aç¨‹åº.exeå‚æ•°æ¥è¿è¡Œä¸€ä¸ªç¨‹åºã€‚å¦ä¸€ä¸ªä½¿ç”¨ $ env WINEPREFIX=~/.win-b wine-Bç¨‹åº.exeå‚æ•°ï¼Œè¿™ä¸¤ä¸ªç¨‹åºå°†ä½¿ç”¨ç‹¬ç«‹çš„Cç›˜å’Œæ³¨å†Œè¡¨é…ç½®ã€‚\nä»¥ä¸‹å‘½ä»¤ä¼šå»ºç«‹ä¸€ä¸ªé»˜è®¤çš„ç³»ç»Ÿç›®å½•ï¼Œä¸”ä¸å¯åŠ¨ä»»ä½•Windowsç¨‹åºï¼š\n$ env WINEPREFIX=~/.customprefix wineboot -u WINEARCH è¿™ä¸ªWINEARCH å†³å®šäº†ä½ æ¨¡æ‹Ÿçš„Windowsæ˜¯32ä½æˆ–æ˜¯64ä½çš„x86ã€‚å¯¹åº”çš„å€¼ä¸ºwin32åŠwin64ï¼Œå¦‚æœä½ çš„Unixç³»ç»Ÿæ˜¯64ä½çš„å®ƒå°±é»˜è®¤æ˜¯win64ã€‚\nå‘è¡Œç‰ˆæ‰€æä¾›çš„wineä¸€èˆ¬éƒ½æœ‰32ä½åŠ64ä½ä¸¤ä¸ªåŒ…ï¼Œç›´æ¥å¯¹åº”æ‰€æ¨¡æ‹Ÿçš„Windowsä½æ•°ï¼ŒåŒ…é‡Œé¢çš„UnixäºŒè¿›åˆ¶åŠè¿è¡Œåº“ä¹Ÿéƒ½æ˜¯å¯¹åº”ä½æ•°ã€‚\nå¯¹äº64ä½ç”¨æˆ·ï¼Œé»˜è®¤åˆ›å»ºçš„ç³»ç»Ÿç›®å½•æ˜¯64ä½ç¯å¢ƒçš„ã€‚è‹¥æƒ³ä½¿ç”¨çº¯32ä½ç¯å¢ƒï¼Œä¿®æ”¹WINEARCH å˜é‡win32ä¸ºå³å¯ï¼š $ WINEARCH=win32 winecfgè¿™æ ·å°±ä¼šç”Ÿæˆ32ä½Wineç¯å¢ƒã€‚è‹¥ä¸è®¾ç½®WINEARCHå¾—åˆ°çš„å°±æ˜¯64ä½ç¯å¢ƒã€‚\né€šè¿‡WINEPREFIXå˜é‡ï¼Œåœ¨ä¸åŒçš„ç³»ç»Ÿç›®å½•åˆ†åˆ«åˆ›å»º32ä½å’Œ64ä½ç¯å¢ƒï¼š\n$ WINEARCH=win32 WINEPREFIX=~/win32 winecfg $ WINEPREFIX=~/win64 winecfg æ³¨æ„ï¼š ç³»ç»Ÿç›®å½•åˆ›å»ºè¿‡ç¨‹ä¸­ï¼Œ64ä½ç‰ˆæœ¬çš„wineå°†è§†å…¨éƒ¨ç›®å½•å¦‚åŒ64ä½ç³»ç»Ÿç›®å½•ï¼Œä¹Ÿå°†ä¸ä¼šåœ¨å·²å­˜åœ¨çš„ç›®å½•ä¸­åˆ›å»ºä»»ä½•32ä½çš„ã€‚åˆ›å»º32ä½ç³»ç»Ÿç›®å½•ï¼Œæ‚¨å¿…é¡»è®©Wineåˆ›å»ºæŒ‡å®šçš„WINEPREFIXç›®å½•ã€‚\nwinetricksä¹Ÿæ¥å—WINEPREFIXå˜é‡ï¼Œä»¥å®‰è£…Steamä¸ºä¾‹ï¼š\n$ WINEARCH=win32 WINEPREFIX=~/.local/share/wineprefixes/steam winetricks steam ç¼–è¾‘ ~/.bashrcï¼Œä½¿å¾— WINEPREFIX å’Œ WINEARCH æ°¸ä¹…ç”Ÿæ•ˆ\nexport WINEPREFIX=$HOME/.config/wine/ export WINEARCH=win32 å›¾å½¢é©±åŠ¨ ä½ éœ€è¦å®‰è£…32ä½çš„æ˜¾å¡é©±åŠ¨ã€‚ç¼ºå°‘æˆ–æœªèƒ½æ­£ç¡®é…ç½®é©±åŠ¨çš„ä¸€ä¸ªæ ‡å¿—æ˜¯ Wine åœ¨ç»ˆç«¯çª—å£é‡ŒæŠ¥å‘Šå¦‚ä¸‹å†…å®¹ï¼š\nDirect rendering is disabled, most likely your OpenGL drivers have not been installed correctly æ³¨æ„ï¼š åœ¨å®‰è£…å¯¹åº”çš„åº“ä»¥åï¼Œä½ å¯èƒ½éœ€è¦é‡å¯ X\nå£°éŸ³ Wineç¨‹åºæœ‰å¯èƒ½é‡åˆ°æŸäº›å£°éŸ³é—®é¢˜ã€‚é¦–å…ˆï¼Œç¡®ä¿winecfgä¸­åªå¯ç”¨äº†ä¸€ç§å£°å¡é©±åŠ¨ã€‚ç›®å‰ï¼ŒWineå¯¹Alsaçš„æ”¯æŒæœ€å¥½ã€‚\nMIDI æ”¯æŒ\nMIDI æ˜¯ä¹åå¹´ä»£éå¸¸æµè¡Œçš„æ¸¸æˆå£°éŸ³ç³»ç»Ÿã€‚å¦‚æœä½ å°è¯•è¿è¡Œè€ä¸€ç‚¹çš„æ¸¸æˆï¼ŒéŸ³ä¹æ— æ³•å¼€ç®±å³ç”¨çš„æƒ…å†µå¹¶ä¸ç½•è§ã€‚ Wine æ‹¥æœ‰éå¸¸ä¼˜ç§€çš„ MIDI æ”¯æŒã€‚ä½†æ˜¯é¦–å…ˆä½ éœ€è¦ç¡®ä¿ Wine ä¼šä½¿ç”¨æ­£ç¡®çš„ MIDI è¾“å‡ºã€‚è¯¦ç»†è®¾ç½®å‚è€ƒ Wine Wiki\nå­—ä½“ ä¸­æ–‡ä¹±ç \nå°†ä¸­æ–‡å­—ä½“copyåˆ°å¯¹åº”wineçš„ç›®å½•ï¼ˆæœ¬åœ°å®‰è£…çš„wineæ˜¯~/.wineï¼Œplayonlinuxæ˜¯.PlayOnLinux/wineprefix/å¯¹åº”ç›®å½•ï¼‰ä¸‹çš„drive_c/windows/Fonts/ã€‚\nåœ¨wineç›®å½•ä¸‹ä»»æ„ä½ç½®æ·»åŠ modify_font.regæ–‡ä»¶ï¼š\nREGEDIT4 [HKEY_LOCAL_MACHINE\\Software\\Microsoft\\Windows NT\\CurrentVersion\\FontLink\\SystemLink] \u0026#34;Lucida Sans Unicode\u0026#34;=\u0026#34;SourceHanSans.ttc\u0026#34; \u0026#34;Microsoft Sans Serif\u0026#34;=\u0026#34;SourceHanSans.ttc\u0026#34; \u0026#34;MS Sans Serif\u0026#34;=\u0026#34;SourceHanSans.ttc\u0026#34; \u0026#34;Tahoma\u0026#34;=\u0026#34;SourceHanSans.ttc\u0026#34; \u0026#34;Tahoma Bold\u0026#34;=\u0026#34;SourceHanSans.ttc\u0026#34; \u0026#34;msyh\u0026#34;=\u0026#34;SourceHanSans.ttc\u0026#34; \u0026#34;Arial\u0026#34;=\u0026#34;SourceHanSans.ttc\u0026#34; \u0026#34;Arial Black\u0026#34;=\u0026#34;SourceHanSans.ttc\u0026#34; å°†SourceHanSans.ttcæ”¹æˆè‡ªå·±æƒ³æ”¹çš„ä¸­æ–‡å­—ä½“ã€‚\nåœ¨wineå‘½ä»¤æç¤ºç¬¦è¿è¡Œï¼š\n$ regedit modify_font.reg è¯­è¨€åŒºåŸŸ\nå¦‚æœå®‰è£…çš„ç³»ç»ŸLANGä¸ä¸ºzh-CNï¼Œé‚£ä¹ˆwineè¿è¡Œç¨‹åºçš„é»˜è®¤è¯­ç§ä¹Ÿä¸ä¼šæ˜¯ä¸­æ–‡ï¼Œè¿™å¯èƒ½å¯¼è‡´ä¸€éƒ¨åˆ†ä¹±ç ã€‚è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç”¨\n$ env LANG=zh_CN.UTF-8 wine example.exe è¿è¡Œç¨‹åº\nå¯åŠ¨å™¨å’Œèœå• Wineä¸ä¼šä¸ºå†…ç½®ç¨‹åºï¼ˆå¦‚winecfgã€winebrowserï¼‰åˆ›å»ºæ¡Œé¢å¯åŠ¨å™¨å’Œèœå•é¡¹ã€‚ä½†æ‰‹åŠ¨å®‰è£…çš„Windowsç¨‹åºé€šå¸¸ä¼šè‡ªåŠ¨åˆ›å»ºå¯åŠ¨å™¨å’Œèœå•é¡¹ã€‚åœ¨Windowsä¸‹ï¼Œå®‰è£…ç¨‹åºï¼ˆå¦‚setup.exeï¼‰é€šå¸¸ä¼šåœ¨æ¡Œé¢å’Œå¼€å§‹èœå•å»ºç«‹å¿«æ·æ–¹å¼ï¼Œè€ŒWineä¸‹ä¼šåˆ›å»ºéµå¾ªfreedesktop.orgè§„èŒƒçš„.desktopæ–‡ä»¶ï¼ˆå³å¯åŠ¨å™¨ï¼Œç›¸å½“äºå¿«æ·æ–¹å¼ï¼‰ã€‚\næç¤ºï¼š å¦‚æœå¯åŠ¨å™¨æ²¡æœ‰è‡ªåŠ¨åˆ›å»ºï¼Œæˆ–è€…è¿™äº›æ–‡ä»¶ä¸¢å¤±äº†ï¼Œå¯ä»¥å°è¯•ä½¿ç”¨winemenubuilderä¿®å¤ã€‚\nGnome3 ä¸­æ¸…ç† Wine èœå•å¯åŠ¨é¡¹\nç³»ç»Ÿå…¨å±€çš„èœå•å¯åŠ¨å™¨å®‰è£…åœ¨ /usr/share/applications/ï¼Œæ¸…é™¤ç›¸åº”ç¨‹åºçš„â€œ.desktopâ€æ–‡ä»¶å³å¯ä»æ•´ä¸ªç³»ç»Ÿåˆ é™¤è¯¥å¯åŠ¨å™¨ã€‚\nå¦‚æœè¿™æ ·è¿˜æ˜¯æ— æ³•è§£å†³é—®é¢˜ï¼Œé‚£ä¹ˆå¾ˆå¯èƒ½ Wine çš„å¯åŠ¨å™¨å­˜æ”¾åœ¨ç”¨æˆ·çº§åˆ«çš„ ~/.local/share/applications/wine/Programs/ ç›®å½•ä¸­ã€‚åˆ é™¤ç›¸åº”çš„â€œ.desktopâ€æ–‡ä»¶å³å¯æ¸…ç†å¯¹åº”å¯åŠ¨é¡¹ã€‚åˆ é™¤æ•´ä¸ª Programs æ–‡ä»¶å¤¹å°†æ¸…ç†æ‰€æœ‰ Wine ç¨‹åºçš„å¯åŠ¨é¡¹ã€‚\nå®‰è£…/è¿è¡Œ/å¸è½½ Windows ç¨‹åº è­¦å‘Šï¼š åƒä¸‡ä¸è¦ä»¥rootèº«ä»½è¿è¡ŒWineï¼è¯¦æƒ…å‚è§æœ¬æ–‡ã€‚\nä½¿ç”¨wineå®‰è£…åº”ç”¨ç¨‹åºï¼Œå¯ä»¥æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤ï¼š\n ä»æŸä¸ªåœ°å€ä¸‹è½½Windowsåº”ç”¨ç¨‹åº.exeï¼ˆå¯æ‰§è¡Œæ–‡ä»¶ï¼‰. æŠŠå®ƒæ”¾åœ¨ä¸€ä¸ªæ–¹ä¾¿çš„ç›®å½•ï¼ˆä¾‹å¦‚ï¼Œæ¡Œé¢æˆ–ä¸ªäººæ–‡ä»¶å¤¹ï¼‰ æ‰“å¼€ç»ˆç«¯ï¼Œå¹¶ä¸”åˆ‡æ¢åˆ°.exeæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ã€‚ è¾“å…¥å‘½ä»¤ wine application-name.exe ã€‚  è¿™å°†ä½¿ç”¨Wineå¯åŠ¨.EXEã€‚å¦‚æœå®ƒæ˜¯ä¸€ä¸ªå®‰è£…ç¨‹åºï¼Œå®ƒåº”è¯¥åƒåœ¨windowsä¸€æ ·çš„è¿è¡Œã€‚å¦‚æœåº”ç”¨ç¨‹åºè¦æ±‚ç›®å½•æ¥å®‰è£…åº”ç”¨ç¨‹åºï¼Œé€‰æ‹©æŠŠå®ƒæ”¾åœ¨ C:\\Program Files ã€‚\nè¿è¡ŒWindowsç¨‹åºæ ¼å¼ä¸º WINEPREFIX=\u0026quot;wineé…ç½®æ–‡ä»¶å­˜æ”¾åœ°\u0026quot; wine [è·¯å¾„]ç¨‹åº.exe å‚æ•° ï¼Œå¦‚ï¼š\n$ wine notepad.exe c:/abc.txt $ wine notepad.exe ~/.wine/drive_c/abc.txt è·¯å¾„å¯ä»¥æ˜¯Unixè·¯å¾„ï¼Œä¹Ÿå¯ä»¥æ˜¯ï¼ˆåœ¨æœ‰WINEPREFIXæƒ…å†µä¸‹çš„ï¼‰Windowsè·¯å¾„ï¼Œwineä¼šè‡ªåŠ¨åˆ¤æ–­ã€‚\nå¯¹wineæ¥è¯´ï¼Œä½ Unixç³»ç»Ÿé‡Œçš„å…¶ä»–æ–‡ä»¶ï¼ˆå³æ¨¡æ‹Ÿçš„Cç›˜ä¹‹å¤–çš„æ–‡ä»¶ï¼‰çš„Windowsè·¯å¾„éƒ½ä»¥Zç›˜å¼€å¤´ï¼š\n$ wine notepad.exe z:/home/username/.wine/drive_c/abc.txt å†…ç½®çš„msiexecç¨‹åºå¯ä»¥è¿è¡ŒMSIå®‰è£…åŒ…ï¼š\n$ [wine] msiexec /i path_to_msi è¿˜å¯ä»¥é€šè¿‡åœ¨ç»ˆç«¯è¿è¡Œ winefile ä½¿ç”¨ Wine æ–‡ä»¶æµè§ˆå™¨ã€‚\nåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œåº”ç”¨ç¨‹åºéœ€è¦è¢«ä»ä¸€ä¸ªç‰¹å®šä½ç½®ä¸Šè¿è¡Œã€‚åœ¨è¿™ç§æƒ…å†µä¸‹åˆ›å»ºå‘½ä»¤å¯åŠ¨\n$ sh -c \u0026#34;cd /home/USER/.wine/drive_c/Program Files/APPDIR; wine game.exe\u0026#34; wine uninstaller è¿™å°†æ‰“å¼€ä¸€ä¸ªç±»ä¼¼äºWindowsçš„ç¨‹åºâ€œæ·»åŠ /åˆ é™¤ç¨‹åºâ€æ§åˆ¶é¢æ¿ï¼Œè®©æ‚¨å¸è½½wineå®‰è£…çš„åº”ç”¨ç¨‹åºã€‚é€šè¿‡ wine ç›´æ¥è¿è¡Œå¸è½½ç¨‹åºä¹Ÿåº”è¯¥æ­£å¸¸å·¥ä½œã€‚æˆ–è€…ï¼Œæ‚¨ä¹Ÿå¯ä»¥ç®€å•åœ°åˆ é™¤åº”ç”¨ç¨‹åºçš„æ–‡ä»¶å¤¹ã€‚\næŠ€å·§ æç¤ºï¼š æ­¤å¤–æ‚¨å¯èƒ½ä¼šæ„Ÿå…´è¶£ä»¥ä¸‹æ–‡ç« çš„å¼€å§‹æ‰€æä¾›çš„é“¾æ¥\n Wineç¨‹åºæ•°æ®åº“ (Wine Application Database, AppDB) â€”â€” ç‰¹å®šWindowsç¨‹åºçš„Wineå…¼å®¹æƒ…å†µï¼ˆè¿è¡Œæ—¶çš„å·²çŸ¥é—®é¢˜ã€ç”¨æˆ·è¯„åˆ†ã€æŒ‡å—ç­‰ç­‰ï¼‰ï¼ŒRatingä¸€åˆ—ç”±è¿è¡Œç»“æœå¥½åˆ°åä¸ºPlatinumã€Goldã€Silverã€Bronzeã€Garbageï¼Œæ— è¿‘æœŸç»“æœæˆ–è¿‘æœŸä»ç„¶Silverä»¥ä¸‹çš„å°±æ”¾å¼ƒå§ã€‚ WineHQè®ºå› â€”â€” è¦æ˜¯çœ‹å®Œä¸Šè¿°ç½‘é¡µè¿˜æœ‰é—®é¢˜ï¼Œå¯ä»¥åˆ°è¿™é‡Œå’¨è¯¢  OpenGL æ¨¡å¼ å¾ˆå¤šæ¸¸æˆï¼ˆæ¯”å¦‚é­”å…½äº‰éœ¸å•¦ï¼‰éƒ½æ”¯æŒOpenGLæ¨¡å¼ï¼Œåœ¨Wineä¸‹å¯èƒ½æ¯”é»˜è®¤DirectXæ¨¡å¼æ€§èƒ½æ›´å¥½ã€‚ä¸€èˆ¬æ·»åŠ -openglå¯åŠ¨ç¨‹åºå³å¯ï¼Œä½†ä¸åŒç¨‹åºå¯èƒ½æœ‰æ‰€ä¸åŒï¼š\n$ wine /path/to/3d_game.exe -opengl è¯·å‚è€ƒAppDBï¼Œäº†è§£ç‰¹å®šç¨‹åºçš„ç›¸å…³ä¿¡æ¯ã€‚\nWine æ§åˆ¶å° æœ‰äº›æ—¶å€™ï¼Œå¯èƒ½éœ€è¦è¿è¡Œ.exeç»™æ¸¸æˆæ‰“è¡¥ä¸ï¼Œæ¯”å¦‚ç»™å¤è‘£æ¸¸æˆæ·»åŠ å®½å±æ”¯æŒã€‚è¿™æ—¶ç›´æ¥é€šè¿‡Wineè¿è¡Œå¯èƒ½æ²¡æœ‰ç”¨ã€‚é‚£ä¹ˆï¼Œæ‰“å¼€ç»ˆç«¯ï¼Œè¿è¡Œä¸€ä¸‹å‘½ä»¤ï¼š\n$ wineconsole cmd å°†è¿›å…¥ä¸€ä¸ªå’ŒWindowsä¸‹cmdä¸€æ ·çš„å‘½ä»¤è¡Œç¯å¢ƒã€‚åœ¨è¯¥ç¯å¢ƒä¸‹è¯•è¯•ä¹Ÿè®¸å°±å¯ä»¥äº†ã€‚\nwinetricks ä½¿ç”¨Winetrickså¿«é€Ÿè„šæœ¬ï¼Œèƒ½å¤Ÿæ–¹ä¾¿åœ°å®‰è£…è®¸å¤šWindowsç»„ä»¶ï¼ŒåŒ…æ‹¬DirectXã€msxmlï¼ˆè¢«Office 2007ã€IEæµè§ˆå™¨ä¾èµ–ï¼‰visualè¿è¡Œåº“è¿˜æœ‰å…¶ä»–æ›´å¤šçš„ã€‚\nä½¿ç”¨ Ubuntu ä»“åº“ç‰ˆæœ¬\n$ sudo apt install winetricks ä½¿ç”¨ Github å®‰è£…æœ€æ–°ç‰ˆæœ¬\n$ cd \u0026#34;${HOME}/.local/bin\u0026#34; $ wget https://raw.githubusercontent.com/Winetricks/winetricks/master/src/winetricks $ chmod u+x winetricks å¯ä»¥ç”¨winetricks list-allæ¥çœ‹çœ‹å®ƒæ”¯æŒä»€ä¹ˆã€‚\nUsing winetricks\nè·å¾— winetricks åï¼Œæ‚¨åªéœ€åœ¨æ§åˆ¶å°è¾“å…¥sh winetrickså³å¯è¿è¡Œå®ƒã€‚å¦‚æœä½ å…ˆchmod +x winetricks ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨./winetricksã€‚å¦‚æœä¸å¸¦å‚æ•°è¿è¡Œï¼Œwinetricks ä¼šæ˜¾ç¤ºä¸€ä¸ªå¸¦æœ‰å¯ç”¨åŒ…åˆ—è¡¨çš„ GUIã€‚å¦‚æœæ‚¨çŸ¥é“è¦å®‰è£…çš„è½¯ä»¶åŒ…çš„åç§°ï¼Œå¯ä»¥å°†å®ƒä»¬é™„åŠ åˆ° winetricks å‘½ä»¤ï¼Œå®ƒå°†ç«‹å³å¼€å§‹å®‰è£…è¿‡ç¨‹ã€‚ä¾‹å¦‚ï¼Œ\n$ sh winetricks corefonts vcrun6 å°†å®‰è£… corefonts å’Œ vcrun6 è½¯ä»¶åŒ…ã€‚\næ‰€æœ‰ Wine å‘½ä»¤ä¸€æ ·ï¼Œwinetricks çŸ¥é“ WINEPREFIX ç¯å¢ƒå˜é‡ã€‚\n$ env WINEPREFIX=~/.winetest sh winetricks mfc40 æ‹¥æœ‰å¤šä¸ª Wine ç‰ˆæœ¬çš„ç”¨æˆ·å¯ä»¥æŒ‡å®š winetricks åº”è¯¥ä½¿ç”¨å“ªä¸ªç‰ˆæœ¬\n$ env WINE=~/wine-git/wine sh winetricks mfc40 ä½¿ç”¨ ~/wine-git ç›®å½•ä¸­çš„ Wine å®‰è£… mfc40 åŒ…ã€‚\nMono \u0026amp; Gecko Mono æ˜¯ .NET Framework çš„å¼€æºå’Œè·¨å¹³å°å®ç°ã€‚Wine å¯ä»¥ä½¿ç”¨ Windows æ„å»ºçš„ Mono æ¥è¿è¡Œ .NET åº”ç”¨ç¨‹åºã€‚\nWine å®ç°äº†è‡ªå·±çš„ Internet Explorer ç‰ˆæœ¬ã€‚è¯¥å®ç°åŸºäºMozilla çš„ Gecko Layout Engineçš„è‡ªå®šä¹‰ç‰ˆæœ¬ã€‚\nåœ¨ USTC MIRROR åˆ†åˆ«ä¸‹è½½å¯¹åº”çš„ç‰ˆæœ¬ï¼Œæ”¾å…¥~/.cache/wineå°±å¯ä»¥äº†ã€‚\nCrossOver CrossOveræ˜¯Wineçš„ä»˜è´¹ã€å•†ä¸šåŒ–ç‰ˆæœ¬ï¼Œæä¾›æ›´å…¨é¢çš„ç»ˆç«¯ç”¨æˆ·æ”¯æŒã€‚å®ƒåŒ…æ‹¬è„šæœ¬ã€è¡¥ä¸ã€GUIå’Œå¯èƒ½æ°¸è¿œä¸ä¼šè¢«Wineé¡¹ç›®æ¥å—çš„ç¬¬ä¸‰æ–¹è½¯ä»¶ã€‚è¿™ç§ç»„åˆä½¿å¾—é‚£äº›ä¸å¤ªæ‡‚æŠ€æœ¯çš„äººè¿è¡ŒWindowsç¨‹åºå˜å¾—ç›¸å½“å®¹æ˜“ã€‚\né¦–å…ˆåœ¨ CrossOver ä¸‹è½½ .bin å®‰è£…åŒ…ï¼Œç„¶åè¦æŠŠ .bin æ–‡ä»¶è®¾ç½®æˆå¯æ‰§è¡Œçš„ï¼šchmod u+x crossover.binï¼Œæ¥ä¸‹æ¥è¿è¡Œè¯¥æ–‡ä»¶ï¼š./crossover.binã€‚\næ— é™è¯•ç”¨\ncrossover æœ‰15å¤©çš„è¯•ç”¨æœŸï¼Œcrossoverçš„æ—¶é—´éªŒè¯ä¿¡æ¯å†™åœ¨æ¯ä¸€ä¸ªwinebottleå®¹å™¨ä¸­ï¼Œç›¸äº’æ˜¯å®Œå…¨éš”ç¦»ï¼ˆä¸æ˜¯å†™åœ¨å…¨å±€é…ç½®ä¸­ï¼‰ã€‚å³ä½¿ä¸€ä¸ªå®¹å™¨è¿‡æœŸäº†ï¼Œä¾ç„¶å¯ä»¥åˆ›å»ºæ–°çš„å®¹å™¨ï¼Œå¹¶é‡æ–°è®¡ç®—è¯•ç”¨æœŸï¼Œæ‰€ä»¥ä¸éœ€è¦é‡è£…è½¯ä»¶æœ¬èº«ã€‚\nå³ä½¿é‡è£…ç¨‹åºï¼Œå·²ç»è¿‡æœŸçš„å®¹å™¨ä¾æ—§ä¸èƒ½ç”¨ï¼Œä¸è¿‡å¯ä»¥åˆ é™¤è¯¥å®¹å™¨ï¼Œæˆ–è€…åˆ é™¤å®¹å™¨ä¸‹çš„.evalæ–‡ä»¶ã€‚\n$ rm ~/.cxoffice/**/.eval Tutorials ç›¸å¯¹äº wine è€Œè¨€ï¼ŒCrossOver æ›´åŠ ç®€æ´æ–¹ä¾¿ï¼Œå…¨ç¨‹ä½¿ç”¨ GUIã€‚\nåœ¨ Select Application çš„æ—¶å€™ï¼Œå³ä½¿åˆ—è¡¨ä¸­æ²¡æœ‰åˆ—å‡ºä½ éœ€è¦å®‰è£…çš„ Windows è½¯ä»¶ï¼Œä¾æ—§å¯ä»¥å°è¯•ä½¿ç”¨é»˜è®¤çš„ Unlisted applicationï¼Œå¦‚ä¸€äº› roguelikeã€galgame æ¸¸æˆæ˜¯å¯ä»¥ç›´æ¥è¿è¡Œçš„ã€‚\nå¦‚æœæ— æ³•è¿è¡Œï¼š\n å¦‚æœæŠ¥é”™ç¼ºå°‘dllï¼Œè¿™æ—¶å°±åœ¨ç½‘ä¸ŠæŸ¥æ‰¾ä¸€ä¸‹ï¼Œæ¯”å¦‚ sskin.dllï¼Œå¦‚æœæ•™ç¨‹ä½¿ç”¨çš„ winetricksï¼Œåˆ™å¯ä»¥åœ¨ winetricks/files/verbs/all.txt æ‰¾åˆ°å…·ä½“çš„ä¾èµ–åç§°ï¼Œå¦‚ Visual C++ 6 SP4 librariesï¼Œç„¶åå¯ä»¥åœ¨ Select Application è¾“å…¥ä¾èµ–åæ¥å®‰è£…ï¼Œå¦‚æœä¸‹è½½æ…¢ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è½¯ä»¶æ˜¾ç¤ºçš„ä¸‹è½½é“¾æ¥ç›´æ¥ä¸‹è½½ã€‚ å¦‚æœä»€ä¹ˆé”™ä¹Ÿæ²¡æŠ¥ï¼Œé‚£ä¹ˆå°±éœ€è¦å‚è€ƒ Unsupported Troubleshooting å®‰è£…ä¾èµ–æˆ–é…ç½® winecfgï¼Œç¡®ä¿åœ¨å®‰è£…æ¸¸æˆçš„æ—¶å€™æ²¡æœ‰é€‰æ‹©å‡çº§ä¾èµ–ï¼ˆæ¯”å¦‚ DirectX ï¼‰å¹¶ä¸”ä¹‹åå®‰è£…äº†å¿…è¦çš„ä¾èµ–é¡¹ã€‚æ¨èæ¸¸æˆè‡ªå¸¦çš„ CommonRedist æˆ–åœ¨ WineHQ - Browse Applicationsã€PlayOnLinuxã€PCGamingWiki ä¸Šæ‰¾ä¾èµ–ï¼Œå¯ä»¥ä½†ä¸æ¨èåœ¨è™šæ‹Ÿæœºä¸­è¿è¡Œä¸€ä¸‹çœ‹æŠ¥é”™ã€‚ å¦‚æœå…ˆæ˜¯æ­£å¸¸è¿è¡Œï¼Œä¹‹å wine æŠ¥é”™ page fault é€€å‡ºï¼Œé‚£ä¹ˆå¯ä»¥å‚è€ƒ Gathering debug logs in Crossover Linux åˆ›å»º crash logã€‚  å‡¡æ˜¯ä¾èµ–è§£å†³äº†ï¼Œæ¸¸æˆä¸€èˆ¬æ˜¯èƒ½å¤Ÿè¿è¡Œäº†ï¼Œä½†æ˜¯è¿è¡Œçš„å¥½ä¸å¥½ï¼Œæœ‰æ²¡æœ‰bugå°±ä¸æ•¢ä¿è¯äº†ï¼Œæ¯”å¦‚ Skul - The Hero Slayer æ˜¯å¯ä»¥ç›´æ¥è¿è¡Œçš„ï¼Œä½†æ˜¯æ— æ³•æ­£å¸¸æ˜¾ç¤ºè¡€é‡ï¼Œå³ä½¿é‡æ–°å®‰è£…ä¾èµ–ä¹Ÿæ˜¯å¦‚æ­¤ã€‚\nä»¥ä¸‹æµ‹è¯•çš„æ˜¯è¿è¡Œæ¸¸æˆæ‰€å¿…é¡»çš„ä¾èµ–ï¼š\n  Sekiro Shadows Die Twice\n Microsoft Visual C++ 6.0 (4.2 \u0026amp; 6.0) Redistributable    The Elder Scrolls V Skyrim Special Edition\n DirectX for Modern Games ä½¿ç”¨ SkyrimSELauncher.exe é…ç½®ï¼Œä½¿ç”¨ SkyrimSE.exe å¯åŠ¨    Life is Strange - Before the Storm\n å…ˆå®‰è£…ä¸‹é¢ä¸¤ä¸ªä¾èµ–ï¼Œå¦‚æœ FitGirl æŠ¥ Getting unarc.dll returned an error code -6ï¼Œå°± try using the set memory limit to 2 gb optionï¼›å¦‚æœæ˜¯ Miss filesï¼Œé‚£ä¹ˆå°±é‡è£…ã€‚ Microsoft Visual C++ 6.0 (4.2 \u0026amp; 6.0) Redistributable DirectX for Modern Games æ¸¸æˆéœ€è¦åŠ è½½ä¸€ä¼šå„¿ï¼Œè¿™ä¸ªæ—¶å€™å±å¹•æ²¡ååº”ã€‚    NieR - Automata\n DirectX for Modern Games å¦‚æœ unable to input name for profile creationï¼Œå¯ä»¥å°è¯•å°† CrossOver å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬ã€‚    Dead Cells\n å‚è€ƒ [playonlinux/dead cells](playonlinux/dead cells) çš„ SourceCode å®‰è£…ä¾èµ–åèƒ½å¤Ÿè¿è¡Œ DirectX for Modern Games OpenALï¼Œå®‰è£…åè¦åœ¨ Wine Configuration \u0026gt; Libraries ä¸­æ·»åŠ  openal32ï¼ˆä¸åŠ ï¼Œç‚¹å‡»æ— ååº”ã€é—ªé€€ï¼‰ï¼ˆLibraries ä¸­æ˜¯è¿è¡Œæ—¶è‡ªåŠ¨åŠ è½½è¿›æ¥çš„åº“ï¼Œè€Œéœ€è¦çš„ openal32 æ²¡æœ‰è‡ªåŠ¨åŠ è½½è¿›æ¥ï¼Œå› æ­¤æ‰‹åŠ¨æ·»åŠ ï¼‰ Microsoft Visual C++ 6.0 (4.2 \u0026amp; 6.0) Redistributable    The Binding of Isaac Rebirth Repentance\n è¦åœ¨ Wine Configuration \u0026gt; Libraries ä¸­æ·»åŠ  openal32ï¼ˆä¸åŠ ï¼Œç‚¹å‡»æ— ååº”ã€é—ªé€€ï¼‰ ã€Šä»¥æ’’çš„çµåˆï¼šé‡ç”Ÿã€‹çµ¦æ–°ç©å®¶çš„åŸºæœ¬æ”»ç•¥    Valiant Hearts The Great War\n Copy over the cracked content from the /Crack directory on the image to your game install directory manually.    DARK SOULS REMASTERED\n æ›´æ”¹è¯­è¨€ï¼šIn the game installation folder find the \u0026ldquo;steam_emu.ini\u0026rdquo;, open it and find the line with language, change it to schinese.ï¼ˆåœ¨ font ç›®å½•å¯ä»¥æ‰¾åˆ°æ‰€æœ‰è¯­è¨€ï¼‰    Braid\n DirectX for Modern Games    Dying Light Platinum Edition\n Microsoft Visual C++ 6.0 (4.2 \u0026amp; 6.0) Redistributable    DXVK æ¸¸æˆä½¿ç”¨ Vulkan å°†è·å–æ›´å¥½çš„æ€§èƒ½ï¼Œä¸ºä½¿ç”¨ Vulkanï¼Œéœ€å¯ç”¨ DXVKã€‚DXVK provides a Vulkan-based translation layer for DXGI, D3D10 and D3D11, which can be used on Linux with Wine.\næ‰“å¼€ System Informationï¼Œå¦‚æœåœ¨å±æ€§ä¸‹æ‰¾åˆ°äº† \u0026ldquo;vulkan.present\u0026rdquo;=\u0026ldquo;yes\u0026rdquo;ï¼Œåˆ™è¡¨ç¤ºæ”¯æŒ vulkan å¹¶å¯ä»¥å®‰è£… DXVKã€‚\né¦–å…ˆå®‰è£…é©±åŠ¨ç¨‹åº\n$ sudo apt install mesa-vulkan-drivers mesa-vulkan-drivers:i386 libvulkan1 libvulkan1:i386 vulkan-utils ç„¶ååƒå®‰è£…æ™®é€šè½¯ä»¶é‚£æ ·ï¼Œåœ¨ Select an Application to install æœç´¢å¹¶é€‰æ‹© DXVK (Upstream) å®‰è£…â€”â€”DXVK (Builtin) å¯èƒ½ä¼šå¯¼è‡´æ¸¸æˆæ— æ³•è¿è¡Œã€‚å®‰è£…åå°±è‡ªåŠ¨å¯ç”¨äº†ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å³é”®ä¸€ä¸ª Bottle\u0026gt;Settings\u0026gt;DXVK Vulkan backand for D3D11(Custom) å¯ç”¨ã€‚\nEsync æ³¨ï¼šSome Windows applications will not work correctly which ESync enabled. ä¾‹å¦‚ My Friend Pedro å¼€äº†åé—ªé€€ï¼Œåº”è¯¥å…ˆä¿è¯æ­£ç¡®è¿è¡Œï¼Œå†è€ƒè™‘æå‡æ€§èƒ½ã€‚\nWhat is \u0026ldquo;wine esync\u0026rdquo; and how should I set it up?\nthe thing with Far Cry 4, 3 and Primal also Dirt Rally in wine is that it massively loads wineserver and synchronizing all the time, so it is stuck at around 20 fps on ryzen, all those games mentioned. with esync, wineserver is skipped for synchronizing and eventfd is being used, thus increasing performance that much. Games that are CPU bound with wineserver having huge load (wineserver is singlethreaded) benefit the most of this\nWhat is the function of esync? Why most games need it disabled?\nThe function of esync is to provide lightweight thread synchronization facilities (events/semaphores/mutexes) so that game code that uses them heavily will run faster.\nIt does this using a linux-specific facility called eventfd, which is built around file descriptors. These are a limited resource normally not needed in large quantities, and therefore traditionally made available to a process only in moderate quantities. This helps prevent runaway processes and malicious code from consuming so many descriptors that none are left for other processes (a denial of service).\nTherefore, when a game that uses tens of thousands of thread synchronization objects is run with esync, it will fail unless the system\u0026rsquo;s per-process file descriptor limit is much higher than the traditional default. Some linux distributions have already adopted a high default, while others still default to a thousand or so. That\u0026rsquo;s why these games run fine with esync on some distributions but fail on others unless the system\u0026rsquo;s DefaultLimitNOFILE setting is increased.\nEdit: If you\u0026rsquo;re interested in esync technical issues that are not distribution-specific, check out this comment.\nHowToEsync What is Esync?\nEsync removes wineserver overhead for synchronization objects. This increases performance for a lot of games, especially ones that rely heavily on multithreading.\nA more detailed explanation can be found here.\nHow to check Esync compatibility\nSystems using Systemd 240 and newer are already compatible with Esync.\nIf you\u0026rsquo;re unsure that your system is compatible, run the ulimit -Hn command. If the value printed is equal to or greater than 524288, then your system is Esync-compatible.\nHow to make your system Esync compatible\nIf your system is not Esync-compatible (ulimit -Hn, which prints the limit for number of opened files for a process, prints a value lower than 524288, like 4096), you have 2 different methods of solving this problem. Which method is preferable depends on the distribution currently in use. Applying both methods should have no negative side effect.\n Modifying Systemd configuration  This method applies to Ubuntu and other systems using systemd. You (with root privileges or sudo) need to edit both /etc/systemd/system.conf and /etc/systemd/user.conf by adding DefaultLimitNOFILE=524288. If DefaultLimitNOFILE= already exists in both system.conf and user.conf, add 524288 after = and make sure to uncomment the line (remove the # in the beginning of the line) to make it functional.\nOnce the files are edited, restart your computer for the changes to take effect. To verify if the limits were applied, run ulimit -Hn to see 524288 being reported.\nIf the value printed still says something like 4096, try the ulimits method below.\nModifying ulimits.conf  On Linux distributions not using Systemd or distributions using pam-limits.conf (Arch Linux, Fedora, Solus,\u0026hellip; ), you (with root privileges or sudo) need to edit /etc/security/limits.conf.\nChange username to your actual username. Once the file is edited, reboot for the changes to take effect, and verify by running ulimit -Hn to see the new limit (524288).\nusername hard nofile 524288 ä¸­æ–‡ä¹±ç  æ³¨ï¼šæŸäº›æ¸¸æˆä¼šå› ä¸ºè¯­è¨€è®¾ç½®è€Œæ— æ³•è¿è¡Œã€‚\nä¿®æ”¹æ­¥éª¤ï¼šæ‰“å¼€å®¹å™¨ C:Driveï¼Œè¿”å›åˆ°é¡¶å±‚æ–‡ä»¶å¤¹ï¼ˆå³å®¹å™¨åç§°ï¼‰ï¼Œå³å¯æ‰¾åˆ°cxbottle.confï¼Œåœ¨æ–‡ä»¶æœ€åé¢æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š\n[EnvironmentVariables] \u0026#34;LANG\u0026#34; = \u0026#34;zh_CN.UTF-8\u0026#34; å®ä¾‹ Cemu ç”¨ Crossover è¯•äº†ä¸€ä¸‹ï¼Œä¸èƒ½ç”¨ vulkanï¼Œå¾ˆå¡ï¼Œé¼ æ ‡å»¶è¿Ÿå¾ˆé«˜ã€‚\nOffice 2013 Pro æ³¨ï¼šåœ¨å®‰è£…å‰å…ˆåœ¨ AppDB ä¸­æŸ¥æ‰¾è¦å®‰è£…çš„åº”ç”¨ï¼Œåœ¨ Test Results éƒ¨åˆ†æœ‰ç›¸å…³æ•™ç¨‹ï¼Œå¦‚ Microsoft Office 2013 Test Results\næ³¨ï¼šè¦æé«˜å®‰è£…æˆåŠŸç‡ï¼Œç¬¬ä¸€ï¼Œä¸åŒ wine ç‰ˆæœ¬å®‰è£…ç»“æœæ˜¯ä¸åŒçš„ï¼ŒAppDB æœ‰ç›¸åº”çš„ä¿¡æ¯ï¼›ç¬¬äºŒï¼Œwinetricks å¦‚æœæä¾›å®‰è£…é•œåƒçš„è¯ï¼Œä¸€å®šè¦ç”¨è¯¥é•œåƒï¼Œwinetrics æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„è„šæœ¬ï¼Œæ‰“å¼€è„šæœ¬æœç´¢ office2013pro å³å¯æ‰¾åˆ°å®˜æ–¹é•œåƒä¸‹è½½é“¾æ¥ï¼›ç¬¬ä¸‰ï¼Œå¦‚æœç¬¬ä¸€æ¬¡å®‰è£…å¤±è´¥ï¼Œå¯ä»¥å†å°è¯•å®‰è£…ä¸€æ¬¡ã€‚\nI installed office 2013 and I used to get a black window after starting it up. I fixed the black screen by following the solution posted in the [WineHQ-Forum](https://forum.winehq.org/viewtopic.php?f=8\u0026amp;t=28446\u0026amp;p=109296\u0026amp;hilit=office 2013#p109284).\nHere\u0026rsquo;s what I did:\nInstall Components\n$ sudo apt install winbind cabextract Create Clean 32bit Prefix for Win7\nCrete a clean 32 bit prefix and start up winecfg:\n$ env WINEPREFIX=~/.wine-office2013pro WINEARCH=win32 winecfg In the winecfg applications tab select \u0026ldquo;Windows version: Windows 7\u0026rdquo; Close wine config and install winetricks\nInstall Libraries\nThen start winetricks for your prefix\n$ env WINEPREFIX=~/.wine-office2013pro WINEARCH=win32 winetricks accept \u0026ldquo;select the default wineprefix\u0026rdquo; with OK. Now, select \u0026ldquo;Install Windows DLL components\u0026rdquo; and go and install msxml6ï¼ˆè¿™ä¸ªæ—¶å€™ä¼šä¸‹è½½ msxml6ï¼Œå¯ä»¥æ‰‹åŠ¨ä¸‹è½½åç§»åŠ¨åˆ°~/.cache/winetricksä¸­ï¼‰\nTo fix the problem in PowerPoint (not enough memory), I added two overrides with winecfg in Library section: \u0026ldquo;riched20\u0026rdquo; and \u0026ldquo;usp10\u0026rdquo;.\nå¦‚æœæ˜¯ä¸­æ–‡è½¯ä»¶éœ€å®‰è£…ä¸­æ–‡å­—ä½“ã€‚\nåœ¨è¿™é‡Œæˆ‘ç›´æ¥ä½¿ç”¨ winetrics æˆåŠŸå®‰è£… office2013proï¼ˆwine 6ï¼‰ï¼š\n$ env WINEPREFIX=~/.wine-office2013pro WINEARCH=win32 winetricks office2013pro è¿™æ ·ä¸‹é¢æ­¥éª¤ä¸éœ€è¦äº†ã€‚\nFix Black Window\nIn order to fix the black window that impedes Office 13 to be used, add the HKCU\\Software\\Wine\\Direct3D\\MaxVersionGL new DWORD value 30002 (hexa) to the registry.\nHere\u0026rsquo;s how to do this: In Winetricks select Run regedit and wait for the Registry Editor window to open. In the folder tree expand HKEY_CURRENT_USER - Software - Wine and create a new key in the Wine folder. To do so, right click, select new\u0026ndash;\u0026gt;key and name it Direct3D. Now create new\u0026ndash;\u0026gt;DWORD Value, rename the file to MaxVersionGL and set the value data to 30002 (hexadecimal). Close the Registry Editor window.\nClose the winetricks window and run installer:\nInstall Office 2013\n$ env LANG=zh_CN.UTF-8 WINEPREFIX=~/.wine-office2013pro WINEARCH=win32 wine ~/PathTo/Office2013Setup.x86.exe From here, the install runs and completes 100%.\nå®‰è£…åå¯ä»¥åœ¨ ~/.local/share/applications/wine ä¸‹æ‰¾åˆ° å¾®ä¿¡ã€QQ çš„ .desktop æ–‡ä»¶ï¼Œå³é”®ç¼–è¾‘ï¼Œå°† Exec=env è¡Œæ”¹ä¸º Exec=env LANG=zh_CN.utf8\nWeChat Linux å®‰è£…å¾®ä¿¡çš„å¯é€‰æ–¹æ¡ˆæ€»ç»“\n è…¾è®¯å®˜æ–¹ Web ç‰ˆå¾®ä¿¡ Franz + å¾®ä¿¡ï¼ˆåŸºäº Web ç‰ˆï¼‰ Electronic-Wechatï¼ˆåŸºäº Web ç‰ˆï¼‰ è™šæ‹Ÿæœº + å¾®ä¿¡åŸç”Ÿ PC å®¢æˆ·ç«¯ CrossOver + å¾®ä¿¡åŸç”Ÿ PC å®¢æˆ·ç«¯ Winetricksï¼ˆåŸºäº Wineï¼‰ + å¾®ä¿¡åŸç”Ÿ PC å®¢æˆ·ç«¯ Winetricks-ZHï¼ˆåŸºäº Wineï¼‰ + å¾®ä¿¡åŸç”Ÿ PC å®¢æˆ·ç«¯ AppImage + AppImage æ‰“åŒ…æ„å»ºçš„ï¼ˆWine + å¾®ä¿¡åŸç”Ÿ PC å®¢æˆ·ç«¯ï¼‰ Flatpak + Flatpak æ‰“åŒ…æ„å»ºçš„ï¼ˆDeepin-Wine + å¾®ä¿¡åŸç”Ÿ PC å®¢æˆ·ç«¯ï¼‰ Wine + PlayonLinux + å¾®ä¿¡åŸç”Ÿ PC å®¢æˆ·ç«¯  Genshin Impact  Lutris An Anime Game Launcher è‘¡è„ç©ï¼šè·‘è…¾è®¯äº‘æ¸¸æˆï¼Œå†ç”¨äº‘æ¸¸æˆç©å›½æœåŸç¥ã€‚  fstab /etc/fstabæ˜¯ç”¨æ¥å­˜æ”¾æ–‡ä»¶ç³»ç»Ÿçš„é™æ€ä¿¡æ¯çš„æ–‡ä»¶ã€‚å½“ç³»ç»Ÿå¯åŠ¨çš„æ—¶å€™ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åœ°ä»è¿™ä¸ªæ–‡ä»¶è¯»å–ä¿¡æ¯ï¼Œå¹¶ä¸”ä¼šè‡ªåŠ¨å°†æ­¤æ–‡ä»¶ä¸­æŒ‡å®šçš„æ–‡ä»¶ç³»ç»ŸæŒ‚è½½åˆ°æŒ‡å®šçš„ç›®å½•ã€‚\næŸ¥çœ‹/etc/fstab\n# cat /etc/fstab \u0026lt;file system\u0026gt; \u0026lt;dir\u0026gt; \u0026lt;type\u0026gt; \u0026lt;options\u0026gt; \u0026lt;dump\u0026gt; \u0026lt;pass\u0026gt; tmpfs /tmp tmpfs nodev,nosuid 0 0 /dev/sda1 / ext4 defaults,noatime 0 1 /dev/sda2 none swap defaults,nodelalloc 0 0 /dev/sda3 /home ext4 defaults,noatime 0 2 åˆ†åˆ«è§£é‡Šä¸€ä¸‹å„å­—æ®µçš„ç”¨å¤„ï¼š\n \u0026lt;file system\u0026gt; è¦æŒ‚è½½çš„åˆ†åŒºæˆ–å­˜å‚¨è®¾å¤‡ \u0026lt;dir\u0026gt; æŒ‚è½½çš„ç›®å½•ä½ç½® \u0026lt;type\u0026gt; æŒ‚è½½åˆ†åŒºçš„æ–‡ä»¶ç³»ç»Ÿç±»å‹ï¼Œæ¯”å¦‚ï¼šext3ã€ext4ã€xfsã€swap \u0026lt;options\u0026gt; æŒ‚è½½ä½¿ç”¨çš„å‚æ•°æœ‰å“ªäº›ã€‚ä¸¾ä¾‹å¦‚ä¸‹ï¼š  auto - åœ¨å¯åŠ¨æ—¶æˆ–é”®å…¥äº† mount -a å‘½ä»¤æ—¶è‡ªåŠ¨æŒ‚è½½ã€‚ noauto - åªåœ¨ä½ çš„å‘½ä»¤ä¸‹è¢«æŒ‚è½½ã€‚ exec - å…è®¸æ‰§è¡Œæ­¤åˆ†åŒºçš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚ noexec - ä¸å…è®¸æ‰§è¡Œæ­¤æ–‡ä»¶ç³»ç»Ÿä¸Šçš„äºŒè¿›åˆ¶æ–‡ä»¶ã€‚ ro - ä»¥åªè¯»æ¨¡å¼æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿã€‚ rw - ä»¥è¯»å†™æ¨¡å¼æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿã€‚ user - å…è®¸ä»»æ„ç”¨æˆ·æŒ‚è½½æ­¤æ–‡ä»¶ç³»ç»Ÿï¼Œè‹¥æ— æ˜¾ç¤ºå®šä¹‰ï¼Œéšå«å¯ç”¨ noexec, nosuid, nodev å‚æ•°ã€‚ users - å…è®¸æ‰€æœ‰ users ç»„ä¸­çš„ç”¨æˆ·æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿ. nouser - åªèƒ½è¢« root æŒ‚è½½ã€‚ owner - å…è®¸è®¾å¤‡æ‰€æœ‰è€…æŒ‚è½½ã€‚ sync - I/O åŒæ­¥è¿›è¡Œã€‚ async - I/O å¼‚æ­¥è¿›è¡Œã€‚ dev - è§£ææ–‡ä»¶ç³»ç»Ÿä¸Šçš„å—ç‰¹æ®Šè®¾å¤‡ã€‚ nodev - ä¸è§£ææ–‡ä»¶ç³»ç»Ÿä¸Šçš„å—ç‰¹æ®Šè®¾å¤‡ã€‚ suid - å…è®¸ suid æ“ä½œå’Œè®¾å®š sgid ä½ã€‚è¿™ä¸€å‚æ•°é€šå¸¸ç”¨äºä¸€äº›ç‰¹æ®Šä»»åŠ¡ï¼Œä½¿ä¸€èˆ¬ç”¨æˆ·è¿è¡Œç¨‹åºæ—¶ä¸´æ—¶æå‡æƒé™ã€‚ nosuid - ç¦æ­¢ suid æ“ä½œå’Œè®¾å®š sgid ä½ã€‚ noatime - ä¸æ›´æ–°æ–‡ä»¶ç³»ç»Ÿä¸Š inode è®¿é—®è®°å½•ï¼Œå¯ä»¥æå‡æ€§èƒ½ã€‚ nodiratime - ä¸æ›´æ–°æ–‡ä»¶ç³»ç»Ÿä¸Šçš„ç›®å½• inode è®¿é—®è®°å½•ï¼Œå¯ä»¥æå‡æ€§èƒ½(å‚è§ atime å‚æ•°)ã€‚ relatime - å®æ—¶æ›´æ–° inode access è®°å½•ã€‚åªæœ‰åœ¨è®°å½•ä¸­çš„è®¿é—®æ—¶é—´æ—©äºå½“å‰è®¿é—®æ‰ä¼šè¢«æ›´æ–°ã€‚ï¼ˆä¸ noatime ç›¸ä¼¼ï¼Œä½†ä¸ä¼šæ‰“æ–­å¦‚ mutt æˆ–å…¶å®ƒç¨‹åºæ¢æµ‹æ–‡ä»¶åœ¨ä¸Šæ¬¡è®¿é—®åæ˜¯å¦è¢«ä¿®æ”¹çš„è¿›ç¨‹ã€‚ï¼‰ï¼Œå¯ä»¥æå‡æ€§èƒ½ã€‚ flush - vfat çš„é€‰é¡¹ï¼Œæ›´é¢‘ç¹çš„åˆ·æ–°æ•°æ®ï¼Œå¤åˆ¶å¯¹è¯æ¡†æˆ–è¿›åº¦æ¡åœ¨å…¨éƒ¨æ•°æ®éƒ½å†™å…¥åæ‰æ¶ˆå¤±ã€‚ defaults - ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿçš„é»˜è®¤æŒ‚è½½å‚æ•°ï¼Œä¾‹å¦‚ ext4 çš„é»˜è®¤å‚æ•°ä¸º:rw, suid, dev, exec, auto, nouser, async.   \u0026lt;dump\u0026gt; dump å·¥å…·é€šè¿‡å®ƒå†³å®šä½•æ—¶ä½œå¤‡ä»½ã€‚dump ä¼šæ£€æŸ¥å…¶å†…å®¹ï¼Œå¹¶ç”¨æ•°å­—æ¥å†³å®šæ˜¯å¦å¯¹è¿™ä¸ªæ–‡ä»¶ç³»ç»Ÿè¿›è¡Œå¤‡ä»½ã€‚ å…è®¸çš„æ•°å­—æ˜¯ 0 å’Œ 1 ã€‚0 è¡¨ç¤ºå¿½ç•¥ï¼Œ 1 åˆ™è¿›è¡Œå¤‡ä»½ã€‚å¤§éƒ¨åˆ†çš„ç”¨æˆ·æ˜¯æ²¡æœ‰å®‰è£… dump çš„ ï¼Œå¯¹ä»–ä»¬è€Œè¨€ \u0026lt;dump\u0026gt; åº”è®¾ä¸º 0ã€‚ \u0026lt;pass\u0026gt; fsck è¯»å– \u0026lt;pass\u0026gt; çš„æ•°å€¼æ¥å†³å®šéœ€è¦æ£€æŸ¥çš„æ–‡ä»¶ç³»ç»Ÿçš„æ£€æŸ¥é¡ºåºã€‚å…è®¸çš„æ•°å­—æ˜¯0, 1, å’Œ2ã€‚ æ ¹ç›®å½•åº”å½“è·å¾—æœ€é«˜çš„ä¼˜å…ˆæƒ 1, å…¶å®ƒæ‰€æœ‰éœ€è¦è¢«æ£€æŸ¥çš„è®¾å¤‡è®¾ç½®ä¸º 2ã€‚ 0 è¡¨ç¤ºè®¾å¤‡ä¸ä¼šè¢« fsck æ‰€æ£€æŸ¥ã€‚  ç¤ºä¾‹ï¼š\n/dev/sda1 /mnt/LinuxOSBuckup ext4 defaults 0 2 UUID of Storage Devices Finding UUID with blkid\n$ sudo blkid Finding UUID with ls\n$ ls -l /dev/disk/by-uuid Finding UUID with lsblk\n$ sudo lsblk -f Package Management dpkg ç®¡ç†è½¯ä»¶åŒ… dpkg æ„å³ Debian åŒ…ç®¡ç†å™¨ï¼ˆDebian PacKaGe managerï¼‰ã€‚dpkg æ˜¯ä¸€ä¸ªå¯ä»¥å®‰è£…ã€æ„å»ºã€åˆ é™¤åŠç®¡ç† Debian è½¯ä»¶åŒ…çš„å‘½ä»¤è¡Œå·¥å…·ã€‚\nå…¶å®ƒçš„ä¸€äº›å·¥å…·å¦‚ dpkg-deb å’Œ dpkg-query ç­‰ä½¿ç”¨ dpkg ä½œä¸ºæ‰§è¡ŒæŸäº›æ“ä½œçš„å‰ç«¯ã€‚\nç°åœ¨å¤§å¤šæ•°ç³»ç»Ÿç®¡ç†å‘˜ä½¿ç”¨ Aptã€Apt-Get åŠ Aptitude ç­‰å·¥å…·ï¼Œä¸ç”¨è´¹å¿ƒå°±å¯ä»¥è½»æ¾åœ°ç®¡ç†è½¯ä»¶ã€‚\nå°½ç®¡å¦‚æ­¤ï¼Œå¿…è¦çš„æ—¶å€™è¿˜æ˜¯éœ€è¦ç”¨ dpkg æ¥å®‰è£…æŸäº›è½¯ä»¶ã€‚\nå¸¸è§å‘½ä»¤åŠæ–‡ä»¶ä½ç½® dpkg å‘½ä»¤çš„è¯­æ³•:\n$ dpkg [\u0026lt;option\u0026gt; ...] \u0026lt;command\u0026gt; dpkg ç›¸å…³æ–‡ä»¶çš„ä½ç½®åœ¨ /var/lib/dpkg\n/var/lib/dpkg/status åŒ…å«äº†è¢« dpkg å‘½ä»¤ï¼ˆinstallã€remove ç­‰ï¼‰æ‰€ä¿®æ”¹çš„åŒ…çš„ä¿¡æ¯\n/var/lib/dpkg/status åŒ…å«äº†å¯ç”¨åŒ…çš„åˆ—è¡¨\nå®‰è£…/å‡çº§è½¯ä»¶ åœ¨åŸºäº Debian çš„ç³»ç»Ÿé‡Œï¼Œç”¨ä»¥ä¸‹å‘½ä»¤æ¥å®‰è£… .deb è½¯ä»¶åŒ…ã€‚è¦æ˜¯å·²ç»å®‰è£…äº†è½¯ä»¶åŒ…ï¼Œå°±ä¼šå‡çº§å®ƒã€‚\n$ sudo dpkg -i package.deb ä»æ–‡ä»¶å¤¹é‡Œå®‰è£…è½¯ä»¶ åœ¨åŸºäº Debian çš„ç³»ç»Ÿé‡Œï¼Œç”¨ä¸‹åˆ—å‘½ä»¤ä»ç›®å½•ä¸­é€ä¸ªå®‰è£…è½¯ä»¶ã€‚è¿™ä¼šå®‰è£… /opt/software ç›®å½•ä¸‹çš„æ‰€æœ‰ä»¥ .deb ä¸ºåç¼€çš„è½¯ä»¶ã€‚\n$ sudo dpkg -iR /opt/software æ˜¾ç¤ºå·²å®‰è£…è½¯ä»¶åˆ—è¡¨ ä»¥ä¸‹å‘½ä»¤å¯ä»¥åˆ—å‡º Debian ç³»çš„ç³»ç»Ÿä¸­æ‰€æœ‰å·²å®‰è£…çš„è½¯ä»¶ï¼ŒåŒæ—¶ä¼šæ˜¾ç¤ºè½¯ä»¶ç‰ˆæœ¬å’Œæè¿°ä¿¡æ¯ã€‚\n$ dpkg -l æŸ¥çœ‹æŒ‡å®šçš„å·²å®‰è£…è½¯ä»¶ ç”¨ä»¥ä¸‹å‘½ä»¤åˆ—å‡ºæŒ‡å®šçš„ä¸€ä¸ªå·²å®‰è£…è½¯ä»¶ï¼ŒåŒæ—¶ä¼šæ˜¾ç¤ºè½¯ä»¶ç‰ˆæœ¬å’Œæè¿°ä¿¡æ¯ã€‚\n$ dpkg -l package æŸ¥çœ‹è½¯ä»¶å®‰è£…ç›®å½• ä»¥ä¸‹å‘½ä»¤å¯ä»¥åœ¨åŸºäº Debian çš„ç³»ç»Ÿä¸ŠæŸ¥çœ‹è½¯ä»¶çš„å®‰è£…è·¯å¾„ã€‚\n$ dpkg -L package æŸ¥çœ‹ deb åŒ…å†…å®¹ ä¸‹åˆ—å‘½ä»¤å¯ä»¥æŸ¥çœ‹ deb åŒ…å†…å®¹ã€‚å®ƒä¼šæ˜¾ç¤º .deb åŒ…ä¸­çš„ä¸€ç³»åˆ—æ–‡ä»¶ã€‚\n$ dpkg -c package.deb æ˜¾ç¤ºè½¯ä»¶çš„è¯¦ç»†ä¿¡æ¯ ä»¥ä¸‹å‘½ä»¤å¯ä»¥æ˜¾ç¤ºè½¯ä»¶çš„è¯¦ç»†ä¿¡æ¯ï¼Œå¦‚è½¯ä»¶åã€è½¯ä»¶ç±»åˆ«ã€ç‰ˆæœ¬ã€ç»´æŠ¤è€…ã€è½¯ä»¶æ¶æ„ã€ä¾èµ–çš„è½¯ä»¶ã€è½¯ä»¶æè¿°ç­‰ç­‰ã€‚\n$ dpkg -s package æŸ¥çœ‹æ–‡ä»¶å±äºå“ªä¸ªè½¯ä»¶ ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹æ–‡ä»¶å±äºå“ªä¸ªè½¯ä»¶ã€‚\n$ dpkg -S /path/file ç§»é™¤/åˆ é™¤è½¯ä»¶ ä»¥ä¸‹å‘½ä»¤å¯ä»¥ç”¨æ¥ç§»é™¤/åˆ é™¤ä¸€ä¸ªå·²ç»å®‰è£…çš„è½¯ä»¶ï¼Œä½†ä¸åˆ é™¤é…ç½®æ–‡ä»¶ã€‚\n$ sudo dpkg -r package æ¸…é™¤è½¯ä»¶ ä»¥ä¸‹å‘½ä»¤å¯ä»¥ç”¨æ¥ç§»é™¤/åˆ é™¤åŒ…æ‹¬é…ç½®æ–‡ä»¶åœ¨å†…çš„æ‰€æœ‰æ–‡ä»¶ã€‚\n$ sudo dpkg -P package Debian æ‰“åŒ…å…¥é—¨ debåŒ…æœ¬èº«æœ‰ä¸‰éƒ¨åˆ†ç»„æˆï¼š\næ³¨ï¼šåŸæ–‡å†™çš„ä¸æ˜¯å¾ˆå¥½ï¼Œå…·ä½“å­¦ä¹ è¿˜æ˜¯çœ‹å®˜æ–¹çš„ Debian æ–°ç»´æŠ¤è€…æ‰‹å†Œ\nCardbook æ˜¯ç”¨äºç®¡ç†åŸºäº CardDav å’Œ vCard æ ‡å‡†çš„è”ç³»äººçš„Thunderbirdæ‰©å±•ã€‚\nä½¿ç”¨ dh_make åœ¨å½“å‰ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª debian ç›®å½•ã€‚\n$ dh_make\\ \t--native \\ \t--single \\ \t--packagename cardbook_1.0.0 \\ \t--email minkush@example.com ä¸€äº›é‡è¦çš„æ–‡ä»¶ï¼Œæ¯”å¦‚ controlã€rulesã€changelogã€copyright ç­‰æ–‡ä»¶è¢«åˆå§‹åŒ–å…¶ä¸­ã€‚æ‰€åˆ›å»ºçš„æ–‡ä»¶çš„å®Œæ•´åˆ—è¡¨å¦‚ä¸‹ï¼š\n$ find debian debian debian/manpage.sgml.ex debian/cardbook.doc-base.EX debian/changelog debian/control debian/postrm.ex debian/postinst.ex debian/source debian/source/format debian/README.Debian debian/manpage.1.ex debian/salsa-ci.yml.ex debian/rules debian/cardbook.cron.d.ex debian/README.source debian/preinst.ex debian/prerm.ex debian/copyright debian/cardbook-docs.docs debian/README debian/manpage.xml.ex åœ¨å½“å‰ç›®å½•æ‰§è¡Œ dpkg-buildpackage -us -uc -ui å°†ä¼šåœ¨ä¸Šå±‚ç›®å½•åˆ›å»ºä¸€ä¸ªç©ºçš„åŒ…æ–‡ä»¶ä»¥åŠå››ä¸ªåä¸º .changesã€.debã€ .dscã€ .tar.gz çš„æ–‡ä»¶ã€‚\n .dsc æ–‡ä»¶åŒ…å«äº†æ‰€å‘ç”Ÿçš„ä¿®æ”¹å’Œç­¾å .deb æ–‡ä»¶æ˜¯ç”¨äºå®‰è£…çš„ä¸»è¦åŒ…æ–‡ä»¶ã€‚ .tar.gz ï¼ˆtarballï¼‰åŒ…å«äº†æºä»£ç ã€‚  è¿™ä¸ªè¿‡ç¨‹ä¹Ÿåœ¨ debian/cardbook/usr/share/doc/cardbook ç›®å½•ä¸‹åˆ›å»ºäº† README å’Œ changelog æ–‡ä»¶ã€‚å®ƒä»¬åŒ…å«äº†å…³äºè¿™ä¸ªåŒ…çš„åŸºæœ¬ä¿¡æ¯æ¯”å¦‚æè¿°ã€ä½œè€…ã€ç‰ˆæœ¬ã€‚\næ£€æŸ¥è¿™ä¸ªåŒ…å®‰è£…çš„å†…å®¹ï¼š\n$ dpkg -c cardbook_1.0.0_amd64.deb /usr /usr/share /usr/share/doc /usr/share/doc/cardbook /usr/share/doc/cardbook/README.Debian /usr/share/doc/cardbook/changelog.gz /usr/share/doc/cardbook/copyright build-essential åœ¨ Ubuntu ä¸­å®‰è£…æ„å»ºåŸºç¡€åŒ…ï¼ˆbuild-essentialï¼‰ï¼Œåªéœ€è¦åœ¨ç»ˆç«¯ä¸­ç®€å•è¾“å…¥è¿™ä¸ªå‘½ä»¤ï¼š\n$ sudo apt update \u0026amp;\u0026amp; sudo apt install build-essential æ„å»ºåŸºç¡€åŒ…ï¼ˆbuild-essentialï¼‰å®é™…ä¸Šæ˜¯å±äº Debian çš„ã€‚åœ¨å®ƒé‡Œé¢å…¶å®å¹¶ä¸æ˜¯ä¸€ä¸ªè½¯ä»¶ã€‚å®ƒåŒ…å«äº†åˆ›å»ºä¸€ä¸ª Debian åŒ…ï¼ˆ.debï¼‰æ‰€éœ€çš„è½¯ä»¶åŒ…åˆ—è¡¨ã€‚è¿™äº›è½¯ä»¶åŒ…åŒ…æ‹¬ libcã€gccã€g++ã€makeã€dpkg-dev ç­‰ã€‚æ„å»ºåŸºç¡€åŒ…åŒ…å«è¿™äº›æ‰€éœ€çš„è½¯ä»¶åŒ…ä½œä¸ºä¾èµ–ï¼Œæ‰€ä»¥å½“ä½ å®‰è£…å®ƒæ—¶ï¼Œä½ åªéœ€ä¸€ä¸ªå‘½ä»¤å°±èƒ½å®‰è£…æ‰€æœ‰è¿™äº›è½¯ä»¶åŒ…ã€‚\nè¯·ä¸è¦è®¤ä¸ºæ„å»ºåŸºç¡€åŒ…æ˜¯ä¸€ä¸ªå¯ä»¥åœ¨ä¸€ä¸ªå‘½ä»¤ä¸­ç¥å¥‡åœ°å®‰è£…ä» Ruby åˆ° Go çš„æ‰€æœ‰å¼€å‘å·¥å…·çš„è¶…çº§è½¯ä»¶åŒ…ã€‚å®ƒåŒ…å«ä¸€äº›å¼€å‘å·¥å…·ï¼Œä½†ä¸æ˜¯å…¨éƒ¨ã€‚\nPackage converter  alienï¼šAlien is really designed to be used to convert from alien file formats to the packaging format used by the distribution you run it on. gentoo-zhï¼šgentoo æœ¬è´¨æ˜¯é€šè¿‡ bash å®‰è£…è½¯ä»¶ï¼Œå› æ­¤ï¼Œå¯ä»¥å‚è€ƒæ­¤ä»“åº“å°è¯•æ‰‹åŠ¨å®‰è£…è½¯ä»¶ã€‚  Is linux binary universal to all kinds of distributions?\nThis is two questions:\nIs a Linux binary universal to all distributions?\nIt depends:\n If the program is using nothing outside the Linux kernel, it will be universal except for the 32- or 64-bit question. A Linux \u0026ldquo;hello world\u0026rdquo; (a minimalistic program that just prints \u0026ldquo;hello world\u0026rdquo; to a terminal window) could probably be independent of the distribution. If the program is using any non-kernel library or service (which is most of Linux, the kernel is fairly small), there are differences in which libraries are included, which versions these libraries are and where they are located. So in this (most common) case distributions are not equal.  Why do many commercial programs say that they only work on one or a few distributions?\nBecause there is a very large number of Linux distributions, and nobody wants to test their program on all of them.\nA commercial vendor will normally say that they support only the distributions they have tested their software on. It may or may not work on other distributions, from the vendor\u0026rsquo;s perspective the point is just that you can\u0026rsquo;t complain if it does not work on a distribution they don\u0026rsquo;t support.\nWhich distributions are selected for testing depends on what the vendor expects their customers to be using. Commercial/professional programs commonly pick enterprise distributions, possibly through a reasoning similar to \u0026ldquo;people who paid for their OS are more likely to pay for our software\u0026rdquo;, possibly simply by counting the distributions used by their existing customers.\nSee also Mark Shuttleworth (the guy that is the reason we have an Ubuntu in the first place) on [binary compatibility between Ubuntu and Debian](https://wiki.ubuntu.com/MarkShuttleworth#What about binary compatibility) - Debian is the closest distribution relative of Ubuntu.\nAPT Debian ä½¿ç”¨ä¸€å¥—åä¸º Advanced Packaging Toolï¼ˆAPTï¼‰çš„å·¥å…·æ¥ç®¡ç†åŒ…ç³»ç»Ÿã€‚åœ¨åŸºäº Debian çš„ Linux å‘è¡Œç‰ˆä¸­ï¼Œæœ‰å„ç§å·¥å…·å¯ä»¥ä¸ APT è¿›è¡Œäº¤äº’ï¼Œä»¥æ–¹ä¾¿ç”¨æˆ·å®‰è£…ã€åˆ é™¤å’Œç®¡ç†çš„è½¯ä»¶åŒ…ã€‚apt-get ä¾¿æ˜¯å…¶ä¸­ä¸€æ¬¾å¹¿å—æ¬¢è¿çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œä½†æ˜¯æœ€å¸¸ç”¨çš„å‘½ä»¤éƒ½è¢«åˆ†æ•£åœ¨äº† apt-getã€apt-cache å’Œ apt-config è¿™ä¸‰æ¡å‘½ä»¤å½“ä¸­ï¼Œapt å‘½ä»¤çš„å¼•å…¥å°±æ˜¯ä¸ºäº†è§£å†³å‘½ä»¤è¿‡äºåˆ†æ•£çš„é—®é¢˜ã€‚ï¼ˆç®€å•æ¥è¯´å°±æ˜¯ï¼šapt = apt-getã€apt-cache å’Œ apt-config ä¸­æœ€å¸¸ç”¨å‘½ä»¤é€‰é¡¹çš„é›†åˆï¼‰\n   apt å‘½ä»¤ å–ä»£çš„å‘½ä»¤ å‘½ä»¤çš„åŠŸèƒ½     apt install apt-get install å®‰è£…è½¯ä»¶åŒ…   apt remove apt-get remove ç§»é™¤è½¯ä»¶åŒ…   apt purge apt-get purge ç§»é™¤è½¯ä»¶åŒ…åŠé…ç½®æ–‡ä»¶   apt update apt-get update åˆ·æ–°å­˜å‚¨åº“ç´¢å¼•   apt upgrade apt-get upgrade å‡çº§æ‰€æœ‰å¯å‡çº§çš„è½¯ä»¶åŒ…   apt autoremove apt-get autoremove è‡ªåŠ¨åˆ é™¤ä¸éœ€è¦çš„åŒ…   apt full-upgrade apt-get dist-upgrade åœ¨å‡çº§è½¯ä»¶åŒ…æ—¶è‡ªåŠ¨å¤„ç†ä¾èµ–å…³ç³»   apt search apt-cache search æœç´¢åº”ç”¨ç¨‹åº   apt show apt-cache show æ˜¾ç¤ºè£…ç»†èŠ‚   apt list  åˆ—å‡ºåŒ…å«æ¡ä»¶çš„åŒ…ï¼ˆå·²å®‰è£…ï¼Œå¯å‡çº§ç­‰ï¼‰   apt edit-sources  ç¼–è¾‘æºåˆ—è¡¨    åˆ—å‡ºæ‰€æœ‰æ‰‹åŠ¨å®‰è£…è½¯ä»¶ $ apt-mark showmanual æŸ¥çœ‹è½¯ä»¶åŒ…ä¾èµ– å½“ä½ åœ¨ Linux ä¸­å®‰è£…ä¸€ä¸ªè½¯ä»¶åŒ…ï¼Œæœ‰æ—¶è¿™ä¸ªè½¯ä»¶åŒ…è¿˜éœ€è¦å…¶ä»–çš„è½¯ä»¶åŒ…æ¥ä½¿å®ƒå·¥ä½œæ­£å¸¸ã€‚è¿™äº›é¢å¤–çš„è½¯ä»¶åŒ…å°±å«ä½œè¿™ä¸ªåŒ…çš„ä¾èµ–ã€‚å‡å¦‚è¿™äº›è½¯ä»¶åŒ…ä¹‹å‰æ²¡æœ‰åœ¨ç³»ç»Ÿä¸­è¢«å®‰è£…ï¼Œé‚£ä¹ˆè¿™äº›ä¾èµ–åœ¨å®‰è£…è¿™ä¸ªè½¯ä»¶åŒ…çš„åŒæ—¶ä¼šè¢«è‡ªåŠ¨å®‰è£…ä¸Šã€‚\nä½¿ç”¨ apt show æ¥æŸ¥çœ‹ä¾èµ–\nä½ å¯ä»¥ä½¿ç”¨ apt show å‘½ä»¤ æ¥å±•ç¤ºä¸€ä¸ªåŒ…çš„è¯¦ç»†ä¿¡æ¯ã€‚å…¶ä¸­ä¾èµ–ä¿¡æ¯å°±æ˜¯å…¶ä¸­ä¸€éƒ¨åˆ†ï¼Œä½ å¯ä»¥åœ¨ä»¥ â€œDependsâ€ æ‰“å¤´çš„é‚£äº›è¡Œä¸­çœ‹åˆ°å®ƒä»¬ã€‚\nä¾‹å¦‚ï¼Œä¸‹é¢å±•ç¤ºçš„æ˜¯ä½¿ç”¨ apt show å±•ç¤º ubuntu-restricted-extras è¿™ä¸ªåŒ…çš„è¯¦ç»†ä¿¡æ¯ï¼š\n$ apt show ubuntu-restricted-extras Package: ubuntu-restricted-extras Version: 67 ... Depends: ubuntu-restricted-addons Recommends: libavcodec-extra, ttf-mscorefonts-installer, unrar ... å¦‚ä½ æ‰€è§ï¼Œubuntu-restricted-extras åŒ…ä¾èµ–äº ubuntu-restricted-addons è¿™ä¸ªè½¯ä»¶åŒ…ã€‚\nä½†ä½ å¾—å°å¿ƒçš„æ˜¯ä¾èµ–åŒ…è¿˜å¯èƒ½ä¾èµ–äºå…¶ä»–åŒ…ï¼Œè¿™æ ·ä¸€ç›´å¾ªç¯å¾€å¤ç›´åˆ°å°½å¤´ã€‚ä½†å¹¸å¥½ APT åŒ…ç®¡ç†å™¨å¯ä»¥ä¸ºä½ å¤„ç†è¿™äº›å¤æ‚çš„ä¾èµ–å…³ç³»ï¼Œè‡ªåŠ¨åœ°å®‰è£…æ‰€æœ‰çš„ä¾èµ–ï¼ˆå¤§å¤šæ•°æƒ…å†µä¸‹ï¼‰ã€‚\nä»€ä¹ˆæ˜¯æ¨èåŒ…ï¼Ÿ\nä½ æ³¨æ„åˆ°äº†ä¸Šé¢ç»“æœè¾“å‡ºä¸­ä»¥ â€œRecommendsâ€ å¼€å¤´çš„é‚£äº›è¡Œäº†å—ï¼Ÿ\næ¨èåŒ…ä¸æ˜¯è½¯ä»¶åŒ…çš„ç›´æ¥ä¾èµ–ï¼Œä½†å®ƒä»¬å¯ä»¥å¼€å¯è½¯ä»¶åŒ…çš„ä¸€äº›é¢å¤–åŠŸèƒ½ã€‚\næ­£å¦‚ä½ ä¸Šé¢çœ‹åˆ°çš„é‚£æ ·ï¼Œ ubuntu-restricted-extras åŒ…æœ‰ ttf-mscorefonts-installer è¿™ä¸ªæ¨èåŒ…ï¼Œç”¨æ¥åœ¨ Ubuntu ä¸Šå®‰è£… Microsoft çš„å­—ä½“ã€‚\nè¿™äº›æ¨èåŒ…ä¹Ÿä¼šé»˜è®¤è¢«ä¸€åŒå®‰è£…ä¸Šï¼Œå‡å¦‚ä½ æƒ³æ˜¾å¼åœ°ç¦æ­¢è¿™äº›æ¨èåŒ…çš„å®‰è£…ï¼Œä½ å¯ä»¥åƒä¸‹é¢è¿™æ ·ä½¿ç”¨ â€“-no-install-recommends é€‰é¡¹ã€‚\n$ sudo apt install --no-install-recommends package_name ä½¿ç”¨ apt-cache æ¥ç›´æ¥è·å–ä¾èµ–ä¿¡æ¯\nä¸Šé¢é€šè¿‡ apt show çš„æ–¹å¼ä¼šè·å–åˆ°å¤§é‡ä¿¡æ¯ï¼Œå‡å¦‚ä½ æƒ³åœ¨è„šæœ¬ä¸­è·å–åˆ°ä¾èµ–ä¿¡æ¯ï¼Œé‚£ä¹ˆ apt-cache å‘½ä»¤å°†ä¼šç»™ä½ ä¸€ä¸ªæ›´å¥½ä¸”æ›´ç®€æ´çš„è¾“å‡ºç»“æœã€‚\n$ apt-cache depends package_name ä½¿ç”¨ dpkg æ¥æŸ¥çœ‹ä¸€ä¸ª DEB æ–‡ä»¶çš„ä¾èµ–\napt å’Œ apt-cache éƒ½ä½œç”¨äºè½¯ä»¶ä»“åº“ä¸­çš„è½¯ä»¶åŒ…ï¼Œä½†å‡å¦‚ä½ ä¸‹è½½äº†ä¸€ä¸ª DEB æ–‡ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªå‘½ä»¤å°±ä¸èµ·ä½œç”¨äº†ã€‚\nåœ¨è¿™ç§æƒ…å½¢ä¸‹ï¼Œä½ å¯ä»¥ä½¿ç”¨ dpkg å‘½ä»¤çš„ -I æˆ– --info é€‰é¡¹ã€‚\n$ dpkg -I path_to_deb_file ä¾èµ–ä¿¡æ¯å°±å¯ä»¥åœ¨ä»¥ â€œDependsâ€ å¼€å¤´çš„é‚£äº›è¡Œä¸­æ‰¾åˆ°ã€‚\nä½¿ç”¨ apt-rdepends æ¥æŸ¥çœ‹ä¾èµ–åŠä¾èµ–çš„ä¾èµ–\nå‡å¦‚ä½ æƒ³æŸ¥çœ‹æ›´å¤šå…³äºä¾èµ–çš„ä¿¡æ¯ï¼Œé‚£ä¹ˆä½ å¯ä»¥ä½¿ç”¨ apt-rdepends å·¥å…·ã€‚è¿™ä¸ªå·¥å…·å¯ä»¥åˆ›å»ºå®Œæ•´çš„ä¾èµ–æ ‘ã€‚è¿™æ ·ä½ å°±å¯ä»¥å¾—åˆ°ä¸€ä¸ªè½¯ä»¶åŒ…çš„ä¾èµ–ä»¥åŠè¿™äº›ä¾èµ–çš„ä¾èµ–ã€‚\nå®ƒä¸æ˜¯ä¸€ä¸ªå¸¸è§„çš„ apt å‘½ä»¤ï¼Œæ‰€ä»¥ä½ éœ€è¦ä» universe è½¯ä»¶ä»“åº“ä¸­å®‰è£…ä¸Šå®ƒï¼š\n$ sudo apt install apt-rdepends è¿™ä¸ªå‘½ä»¤çš„è¾“å‡ºé€šå¸¸å¾ˆå¤šï¼Œå–å†³äºä¾èµ–æ ‘çš„å¤§å°ã€‚\neading package lists... Done Building dependency tree Reading state information... Done shutter Depends: procps Depends: xdg-utils imagemagick Depends: imagemagick-6.q16 (\u0026gt;= 8:6.9.2.10+dfsg-2~) imagemagick-6.q16 Depends: hicolor-icon-theme Depends: libc6 (\u0026gt;= 2.4) Depends: libmagickcore-6.q16-6 (\u0026gt;= 8:6.9.10.2) Depends: libmagickwand-6.q16-6 (\u0026gt;= 8:6.9.10.2) hicolor-icon-theme libc6 Depends: libcrypt1 (\u0026gt;= 1:4.4.10-10ubuntu4) Depends: libgcc-s1 libcrypt1 Depends: libc6 (\u0026gt;= 2.25) apt-rdepends å·¥å…·çš„åŠŸèƒ½éå¸¸å¤šæ ·ï¼Œå®ƒè¿˜å¯ä»¥ç”¨æ¥è®¡ç®—åå‘ä¾èµ–ã€‚è¿™æ„å‘³ç€ä½ å¯ä»¥æŸ¥çœ‹æŸä¸ªç‰¹å®šçš„åŒ…è¢«å“ªäº›è½¯ä»¶åŒ…ä¾èµ–ã€‚\n$ apt-rdepends -r package_name è¾“å‡ºå¯èƒ½ä¼šéå¸¸å¤šï¼Œå› ä¸ºå®ƒå°†æ‰“å°å‡ºåå‘ä¾èµ–æ ‘ã€‚\n$ apt-rdepends -r ffmpeg Reading package lists... Done Building dependency tree Reading state information... Done ffmpeg Reverse Depends: ardour-video-timeline (\u0026gt;= 1:5.12.0-3ubuntu4) Reverse Depends: deepin-screen-recorder (5.0.0-1build2) Reverse Depends: devede (4.15.0-2) Reverse Depends: dvd-slideshow (0.8.6.1-1) Reverse Depends: green-recorder (\u0026gt;= 3.2.3) Repository Mirror Select the fastest mirror\nYou can use deb mirror to have the best mirror picked for you automatically.\napt-get now supports a \u0026lsquo;mirror\u0026rsquo; method that will automatically select a good mirror based on your location. Putting:\ndeb mirror://mirrors.ubuntu.com/mirrors.txt precise main restricted universe multiverse deb mirror://mirrors.ubuntu.com/mirrors.txt precise-updates main restricted universe multiverse deb mirror://mirrors.ubuntu.com/mirrors.txt precise-backports main restricted universe multiverse deb mirror://mirrors.ubuntu.com/mirrors.txt precise-security main restricted universe multiverse on the top in your /etc/apt/sources.list file should be all that is needed to make it automatically pick a mirror for you based on your geographical location.\nThe command line way\nThere are many command line tools available to find the best APT mirrors based on download speed. I have tested the following tools and they are working just fine in my Ubuntu 20.04 LTS desktop.\n Apt-select Apt-smart  apt-fast apt-fast: A shellscript wrapper for apt that speeds up downloading of packages.\n$ sudo apt-get install aria2 $ sudo add-apt-repository ppa:apt-fast/stable $ sudo apt-get update $ sudo apt-get -y install apt-fast $ sudo nano /etc/apt-fast.conf MIRRORS=(\u0026#39;https://mirrors.bfsu.edu.cn/ubuntu/,https://mirrors.tuna.tsinghua.edu.cn/ubuntu/\u0026#39;) apt-aria2 #!/bin/bash  ## apt-aria2: To help download packages faster via aria2, instead of wget. ## Author: Anjishnu Sarkar ## Version: 0.5 ## Acknowledgement: This script is a rewrite of the apt-fast script by ## Matt Parnell (admin@mattparnell.com) (http://www.mattparnell.com) ## Usage: Same as apt-get. Using the option \u0026#34;-y\u0026#34; always. ## BUG: ## *) If this script is interuppted, then next time aria2 starts downloading ## the same from the begining. Can be solved - something to do with .st file. ## TODO: ## *) Start installing via apt-get as soon as first package is downloaded ## and also keep downloading at the same time. This however might lead ## to dependencies not being satisfied. ## Initialization(s): Download=\u0026#34;False\u0026#34; Install=\u0026#34;True\u0026#34; Confirm=\u0026#34;True\u0026#34; UniqueName=\u0026#34;$RANDOM\u0026#34; Options=\u0026#34;$@\u0026#34; ## Checking for commands which requires download while test -n \u0026#34;${1}\u0026#34; do case \u0026#34;${1}\u0026#34; in install|upgrade|dist-upgrade|source|build-dep) ## Download Download=\u0026#34;True\u0026#34; ;; update|remove|autoremove|purge|dselect-upgrade|clean|autoclean|check) ## Anything other than download Download=\u0026#34;False\u0026#34; ;; -d) ## Download only (don\u0026#39;t install) Install=\u0026#34;False\u0026#34; ;; -y) ## No need to ask for confirmation Confirm=\u0026#34;False\u0026#34; ;; *) ## Nothing to be done. If any wrong options/commands are given then ## let apt-get handle it. ;; esac shift done ## In case download is true if [ \u0026#34;$Download\u0026#34; == \u0026#34;True\u0026#34; ];then ## Installing pre-requisite(s): aria2 if ! which aria2c \u0026gt; /dev/null; then echo \u0026#34;Aria2 not installed. Installing aria2 first via apt-get\u0026#34; apt-get -y --force-yes install aria2 fi ArchiveDir=/var/cache/apt/archives/ cd ${ArchiveDir}/partial PrintUris=$(apt-get --yes --print-uris ${Options}) if [ $? -ne 0 ];then echo \u0026#34;Aborting.\u0026#34; exit 1 fi PackageInfo=$(echo \u0026#34;$PrintUris\u0026#34; | awk \u0026#39;/Reading package/,/After this operation/\u0026#39;) # echo \u0026#34;$PrintUris\u0026#34; | grep ^\\\u0026#39; | cut -d\\\u0026#39; -f2 \u0026gt; \u0026#34;$UniqueName\u0026#34;-uris.txt echo \u0026#34;$PrintUris\u0026#34; | grep \u0026#34;http:\u0026#34; | cut -d\\\u0026#39; -f2 \u0026gt; \u0026#34;$UniqueName\u0026#34;-uris.txt NumberOfPackages=$(wc -l \u0026#34;$UniqueName\u0026#34;-uris.txt | awk \u0026#39;{print $1}\u0026#39;) ## Print info echo \u0026#34;$PackageInfo\u0026#34; echo \u0026#34;Number of packages to be downloaded: $NumberOfPackages\u0026#34; ## Check whether package has already been installed or not InstallUpgradeMsg=$(echo \u0026#34;$PackageInfo\u0026#34; | grep \\  -e \u0026#34;The following NEW packages will be installed:\u0026#34; \\  -e \u0026#34;The following packages will be upgraded:\u0026#34;) if [ -z \u0026#34;$InstallUpgradeMsg\u0026#34; ];then rm -f \u0026#34;$UniqueName\u0026#34;-uris.txt exit 0 fi ## In $InstallUpgradeMsg is not null, then proceed... ## If confirm is true if [ \u0026#34;$Confirm\u0026#34; == \u0026#34;True\u0026#34; ];then echo -n \u0026#34;Do you want to continue [y|n]? \u0026#34; read Ans case \u0026#34;$Ans\u0026#34; in y|yes|\u0026#34;\u0026#34;) ;; n|no|*) echo \u0026#34;Abort.\u0026#34; rm -f \u0026#34;$UniqueName\u0026#34;-uris.txt exit 1 ;; esac fi if [ $NumberOfPackages -ne 0 ];then ## Downloading the packages echo \u0026#34;Proceeding with downloading ...\u0026#34; while read DebUrl do DebName=$(basename \u0026#34;$DebUrl\u0026#34;) echo \u0026#34;$DebName\u0026#34; AptConf=\u0026#34;/etc/apt/apt.conf\u0026#34; if [ -f \u0026#34;$AptConf\u0026#34; ];then http_proxy=$(grep -i \u0026#34;http::proxy\u0026#34; \u0026#34;$AptConf\u0026#34; | cut -d \\\u0026#34; -f2) fi if [ -n \u0026#34;$http_proxy\u0026#34; ];then echo \u0026#34;Using proxy...\u0026#34; aria2c -c -s 10 -j 10 --http-proxy=$http_proxy \u0026#34;$DebUrl\u0026#34; else echo \u0026#34;Not using proxy...\u0026#34; aria2c -c -s 10 -j 10 \u0026#34;$DebUrl\u0026#34; fi if [ $? -eq 0 ];then mv $DebName ${ArchiveDir} fi done \u0026lt; \u0026#34;$UniqueName\u0026#34;-uris.txt fi rm -f \u0026#34;$UniqueName\u0026#34;-uris.txt # echo \u0026#34;Installing...\u0026#34; if [ \u0026#34;$Install\u0026#34; == \u0026#34;True\u0026#34; ];then apt-get -y --force-yes ${Options} fi else ## Cases when download is false apt-get ${Options} fi PPA è½¯ä»¶ä»“åº“æ˜¯ä¸€ç»„æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«å„ç§è½¯ä»¶åŠå…¶ç‰ˆæœ¬çš„ä¿¡æ¯ï¼Œä»¥åŠæ ¡éªŒå’Œç­‰å…¶ä»–ä¸€äº›è¯¦ç»†ä¿¡æ¯ã€‚æ¯ä¸ªç‰ˆæœ¬çš„ Ubuntu éƒ½æœ‰è‡ªå·±çš„å››ä¸ªå®˜æ–¹è½¯ä»¶ä»“åº“ï¼š\n Main - Canonical æ”¯æŒçš„è‡ªç”±å¼€æºè½¯ä»¶ã€‚ Universe - ç¤¾åŒºç»´æŠ¤çš„è‡ªç”±å¼€æºè½¯ä»¶ã€‚ Restricted - è®¾å¤‡çš„ä¸“æœ‰é©±åŠ¨ç¨‹åºã€‚ Multiverse - å—ç‰ˆæƒæˆ–æ³•å¾‹é—®é¢˜é™åˆ¶çš„è½¯ä»¶ã€‚  ä½ å¯ä»¥åœ¨ è¿™é‡Œ çœ‹åˆ°æ‰€æœ‰ç‰ˆæœ¬çš„ Ubuntu çš„è½¯ä»¶ä»“åº“ã€‚ä½ å¯ä»¥æµè§ˆå¹¶è½¬åˆ°å„ä¸ªä»“åº“ã€‚\nè¿™äº›ä¿¡æ¯å­˜å‚¨åœ¨ç³»ç»Ÿçš„ /etc/apt/sources.list æ–‡ä»¶ä¸­ã€‚å¦‚æœæŸ¥çœ‹æ­¤æ–‡ä»¶çš„å†…å®¹ï¼Œä½ å°±ä¼šçœ‹åˆ°é‡Œé¢æœ‰è½¯ä»¶ä»“åº“çš„ç½‘å€ã€‚# å¼€å¤´çš„è¡Œå°†è¢«å¿½ç•¥ã€‚\nUbuntu ä¸ä¼šåœ¨å®˜æ–¹ä»“åº“ä¸­ç«‹å³æä¾›æ–°ç‰ˆæœ¬çš„è½¯ä»¶ã€‚ä»–ä»¬éœ€è¦ä¸€ä¸ªæ­¥éª¤æ¥æ£€æŸ¥æ­¤æ–°ç‰ˆæœ¬çš„è½¯ä»¶æ˜¯å¦ä¸ç³»ç»Ÿå…¼å®¹ï¼Œä»è€Œå¯ä»¥ç¡®ä¿ç³»ç»Ÿçš„ç¨³å®šæ€§ã€‚è¿™æ„å‘³ç€å®ƒéœ€è¦ç»è¿‡å‡ å‘¨æ‰èƒ½åœ¨ Ubuntu ä¸Šå¯ç”¨ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œè¿™å¯èƒ½éœ€è¦å‡ ä¸ªæœˆçš„æ—¶é—´ã€‚\nä¸ºè·å–æœ€æ–°ç‰ˆæœ¬çš„è½¯ä»¶ï¼Œéœ€è¦ä½¿ç”¨ PPAï¼ŒPPA (Personal Package Archives) å…è®¸å¼€å‘è€…ä¸Šä¼ è¦æ„å»ºçš„ Ubuntu æºåŒ…ï¼Œå¹¶é€šè¿‡ Launchpad ä½œä¸º apt çš„è½¯ä»¶ä»“åº“å‘å¸ƒã€‚\né€šè¿‡å¦‚ä¸‹å‘½ä»¤æ·»åŠ  PPA è½¯ä»¶ä»“åº“å¹¶è·å–æœ€æ–°ç‰ˆæœ¬è½¯ä»¶ï¼š\n$ sudo add-apt-repository \u0026lt;PPA_info\u0026gt; $ sudo apt-get update $ sudo apt-get install \u0026lt;package_in_PPA\u0026gt; å½“ä½ ä½¿ç”¨ PPA æ—¶ï¼Œå®ƒä¸ä¼šæ›´æ”¹åŸå§‹çš„ sources.list æ–‡ä»¶ã€‚ç›¸åï¼Œå®ƒåœ¨ /etc/apt/sources.d ç›®å½•ä¸­åˆ›å»ºäº†ä¸¤ä¸ªæ–‡ä»¶ï¼Œä¸€ä¸ª .list æ–‡ä»¶å’Œä¸€ä¸ªå¸¦æœ‰ .save åç¼€çš„å¤‡ä»½æ–‡ä»¶ã€‚è¿™æ˜¯ä¸€ç§å®‰å…¨æªæ–½ï¼Œå¯ä»¥ç¡®ä¿æ·»åŠ çš„ PPA ä¸ä¼šå’ŒåŸå§‹çš„ sources.list æ–‡ä»¶å¼„æ··ï¼Œå®ƒè¿˜æœ‰åŠ©äºç§»é™¤ PPAã€‚\nå¼€å‘äººå‘˜ä¸ºä»–ä»¬çš„è½¯ä»¶åˆ›å»ºçš„ PPA ç§°ä¸ºå®˜æ–¹ PPAã€‚ä½†æœ‰æ—¶ï¼Œä¸ªäººä¼šåˆ›å»ºç”±å…¶ä»–å¼€å‘äººå‘˜æ‰€åˆ›å»ºçš„é¡¹ç›®çš„ PPAã€‚ä¸ºä»€ä¹ˆä¼šæœ‰äººè¿™æ ·åšï¼Ÿ å› ä¸ºè®¸å¤šå¼€å‘äººå‘˜åªæä¾›è½¯ä»¶çš„æºä»£ç ã€‚\nå¦‚æœ PPA ä¸é€‚ç”¨äºä½ çš„ç³»ç»Ÿç‰ˆæœ¬ï¼Œä½ å¯ä»¥ç‚¹å‡»åº”ç”¨ç¨‹åº PPA é¡µé¢çš„ View package detailsï¼Œåœ¨è¿™é‡Œï¼Œä½ å¯ä»¥å•å‡»è½¯ä»¶åŒ…ä»¥æ˜¾ç¤ºæ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¿˜å¯ä»¥åœ¨æ­¤å¤„æ‰¾åˆ°åŒ…çš„æºä»£ç å’Œ DEB æ–‡ä»¶ã€‚å»ºè®® ä½¿ç”¨ Gdebi å®‰è£…è¿™äº› DEB æ–‡ä»¶ è€Œä¸æ˜¯é€šè¿‡è½¯ä»¶ä¸­å¿ƒï¼Œå› ä¸º Gdebi åœ¨å¤„ç†ä¾èµ–é¡¹æ–¹é¢è¦å¥½å¾—å¤šã€‚\nå°±å®‰å…¨æ€§è€Œè¨€ï¼Œå¾ˆå°‘è§åˆ°å› ä¸ºä½¿ç”¨ PPA ä¹‹åä½ çš„ Linux ç³»ç»Ÿè¢«é»‘å®¢æ”»å‡»æˆ–æ³¨å…¥æ¶æ„è½¯ä»¶ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä¸è®°å¾—å‘ç”Ÿè¿‡è¿™æ ·çš„äº‹ä»¶ã€‚å®˜æ–¹ PPA å¯ä»¥ä¸åŠ è€ƒè™‘çš„ä½¿ç”¨ï¼Œä½¿ç”¨éå®˜æ–¹ PPA å®Œå…¨æ˜¯ä½ è‡ªå·±çš„å†³å®šã€‚æ ¹æ®ç»éªŒï¼Œå¦‚æœç¨‹åºéœ€è¦ sudo æƒé™ï¼Œåˆ™åº”é¿å…é€šè¿‡ç¬¬ä¸‰æ–¹ PPA è¿›è¡Œå®‰è£…ã€‚\nSnap \u0026amp; Flatpak A fundamental difference between Snap and Flatpak\nFlatpak is designed to install and update â€œappsâ€; user-facing software such as video editors, chat programs and more.\nsnaps can install anything which contains a kernel, printer drivers, audio subsystems and more.\nSnap and Flatpak are the software behind two universal Linux app stores: the Snap Store and Flathub.\nè®¨è®º openSUSE ç¾¤\nFlatpakä½¿ç”¨bubblewrapæ¥éš”ç¦»åº”ç”¨ç¨‹åºï¼Œbwrapæ˜¯éå¸¸è½»é‡åŒ–çš„æ²™ç®±ç¨‹åºï¼Œå› æ­¤æ”»å‡»é¢æå°ã€‚ä½†bwrapéœ€è¦ç”¨æˆ·å¯¹Linuxç¨‹åºå·¥ä½œæ–¹å¼æœ‰å‡†ç¡®çš„äº†è§£ï¼ˆä½¿ç”¨å“ªäº›syscallï¼‰ï¼ŒFlatpakç›¸å½“äºå……å½“äº†ä¸€ä¸ªbwrapçš„å‰ç«¯å¸®åŠ©æ§åˆ¶bwrapæƒé™ã€‚\nç›®å‰Flatpakçš„é—®é¢˜åœ¨äºseccompæƒé™å¤ªè¿‡å¹¿æ³›ï¼Œä½†ç›®å‰Flatpakç»´æŠ¤è€…å·²ç»æ„è¯†åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼ˆæ³¨é‡Šï¼šåœ¨ä»–ä»¬è¸©äº†ä¸€æ¬¡å‘ä¹‹åï¼‰ï¼Œå·²ç»è®¡åˆ’æ‰“ç®—è§£å†³äº†ã€‚\nå¦ä¸€ä¸ªé—®é¢˜æ˜¯ç¨‹åºè¯·æ±‚çš„æƒé™è¿‡äºå¹¿æ³›ï¼Œä½†è¿™æ›´å¤šæ˜¯ä¸€ä¸ªå†³ç­–é—®é¢˜è€Œä¸æ˜¯æŠ€æœ¯é—®é¢˜ï¼Œè€Œä¸”ä½ å¯ä»¥ç”¨Flatsealæ‰‹åŠ¨è°ƒæ•´æƒé™ã€‚\nFlatpakä½ ä¸èƒ½ç”¨å¸¸è§„ç¨‹åºæ–¹å¼æ¥ç†è§£ï¼Œæ¯ä¸ªç¨‹åºéƒ½æ˜¯ä¸€ä¸ªå®Œå…¨ç‹¬ç«‹çš„ç©ºé—´ï¼Œåªæœ‰ç»™äºˆäº†æƒé™æ‰æœ‰å¯¹åº”è®¿é—®æƒï¼Œä¹Ÿå¯ä»¥ç”¨Portalsè°ƒç”¨æ–‡ä»¶é€‰æ‹©å™¨æ¥è·å¾—å•ç‹¬ä¸€ä¸ªæ–‡ä»¶çš„å®Œå…¨è®¿é—®æƒï¼ŒFlatpakç‰ˆçš„Steamæ˜¯æŠŠæ‰€æœ‰ç¨‹åºé…ç½®æ–‡ä»¶æ”¾åœ¨~/.var/appé‡Œé¢äº†ï¼Œç±»ä¼¼å®‰å“ä¸‹é¢çš„åˆ†åŒºå­˜å‚¨åšæ³•ã€‚\nAppImageå°±åªæ˜¯ä¸ªè‡ªæŒ‚è½½ç¨‹åºï¼Œè‡ªå¸¦çš„æ–‡ä»¶é€æ˜æŒ‚è½½åˆ°å®ƒè‡ªå·±çš„æ ¹æ–‡ä»¶ç³»ç»Ÿä¸‹é¢ï¼Œæ‰€ä»¥ä¾ç„¶ä¾èµ–ä¸»æœºçš„ä¸€éƒ¨åˆ†åº“ã€‚æ‰€ä»¥æ˜¯çš„ï¼Œè·Ÿæ‰“åŒ…è€…ç”¨çš„ç³»ç»Ÿæœ‰å…³ç³»ã€‚\nFlatpakä¸æ˜¯è¿™ç§æœºåˆ¶ï¼Œæ¯ä¸ªFlatpakç©ºé—´æ˜¯å®Œå…¨ç©ºç™½çš„ï¼Œéœ€è¦æ‰“åŒ…è€…è‡ªå·±é€‰æ‹©åŠ å…¥å“ªäº›ä¸œè¥¿ï¼Œæ‰€ä»¥Flatpakè·¨å‘è¡Œç‰ˆçš„å…¼å®¹æ€§ä¹Ÿæ›´å¥½ã€‚\nè‰¯å¥½æ‰“åŒ…çš„AppImageå¯ä»¥æœ‰å¾ˆå¥½çš„è·¨å‘è¡Œç‰ˆå…¼å®¹æ€§ï¼Œä½†æ˜¯ä»£ä»·å°±æ˜¯éœ€è¦æ‰‹å·¥æµ‹è¯•æ¯ä¸ªå‘è¡Œç‰ˆä¸‹é¢çš„æ•ˆæœã€‚åœ¨è·¨å‘è¡Œç‰ˆå…¼å®¹æ€§è¿™ç‚¹ä¸Šæˆ‘æ›´çœ‹å¥½Flatpakã€‚\næœ€åï¼Œä¸è¦è·Ÿæˆ‘æSnapï¼Œæˆ‘ä¸æƒ³ç¢°é‚£ä¸ªä¸œè¥¿ï¼Œä¹Ÿå¯¹å®ƒæ²¡æœ‰ç ”ç©¶çš„å…´è¶£ã€‚\nFlatpakç¡®å®æœ‰å¾ˆå¤šå¯å–ä¹‹å¤„ï¼Œæˆ–è€…ä¸èƒ½è¯´æ˜¯Flatpakå¯å–ï¼Œè€Œæ˜¯Linuxæ¡Œé¢è½¯ä»¶ç”Ÿæ€ç°çŠ¶å†³å®šäº†ï¼Œåªæœ‰æ›´æ¿€è¿›çš„æ‰‹æ®µæ‰èƒ½æ”¹å˜ç°çŠ¶ã€‚\nAppImageé‚£ç§ç­–ç•¥è¿˜æ˜¯è¿‡äºä¸ç—›ä¸ç—’äº†ï¼Œç»“æœå°±æ˜¯ç¨‹åºä»…ä»…æ˜¯è¢«æ‰“åŒ…æˆä¸€ä¸ªä¸ªå•æ–‡ä»¶ï¼Œä½†èƒŒåçš„åº“ä¾èµ–åœ°ç‹±ã€æƒé™éš”ç¦»é—®é¢˜ä¸€ä¸ªéƒ½æ²¡è§£å†³ã€‚\nä½†AppImageä½œè€…çš„æƒ³æ³•æœ¬æ¥ä¹Ÿä¸æ˜¯é AppImageé¢ è¦†ï¼Œä»–æ˜¯å¸Œæœ›Linuxèƒ½å¤Ÿé‡æ–°æ¢å¤LSBï¼Œç¡®ä¿å‘è¡Œç‰ˆä¹‹é—´çš„å…¼å®¹æ€§æœ¬èº«å¯é è€Œä¸æ˜¯ä¾èµ–Flatpakè¿™äº›æŠ€æœ¯ï¼Œå°±ç±»ä¼¼äºWindowsä¸Šçš„è½¯ä»¶ä¸éœ€è¦ä»€ä¹ˆæ²™ç®±æ¨¡æ‹Ÿå™¨ï¼Œä½ å‡ ä¹å¯ä»¥ä¿è¯æ—§ç‰ˆæœ¬çš„è½¯ä»¶èƒ½åœ¨æ–°ç‰ˆæœ¬è¿è¡Œã€‚\nå…¶å®ä¹Ÿå¯ä»¥è¯´æ˜ï¼Œå¾®è½¯é‚£ç§åœ¨æ¡Œé¢ä¸Šé‡‡å–çš„ç­–ç•¥ï¼Œå¾ˆå¯èƒ½éš¾ä»¥åœ¨Linuxç¤¾åŒºé‡Œæ¨å¹¿å¼€æ¥ï¼Œå¾®è½¯é‚£ç§åšæ³•ï¼Œç¡®ä¿ç»å¯¹çš„å‘ä¸‹å…¼å®¹æ€§ï¼Œä¸æ˜¯è°éƒ½æœ‰ç²¾åŠ›æ¥åšçš„ã€‚\næ¯”å¦‚è¯´å¦‚æœè®©å¾®è½¯æ¥åšWaylandï¼Œé‚£å¾®è½¯æ ¹æœ¬å°±ä¸ä¼šæŠŠWaylandåšå‡ºæ¥ï¼Œè€Œæ˜¯æŠŠX11ä¸€ç›´è¿­ä»£ã€å‰Šå‡è‡ƒè‚¿åŠŸèƒ½ç›´åˆ°æ€§èƒ½å’Œç°ä»£åŒ–å›¾å½¢æŠ€æœ¯æ ˆçš„æ€§èƒ½ç›¸åŒ¹æ•Œï¼ŒåŒæ—¶ç¡®ä¿å‘ä¸‹å…¼å®¹æ€§ã€‚è€Œæœ€æ–°ä¸€ä»£çš„X11å¾ˆå¯èƒ½å’Œæœ€æ—©çš„X11å·²ç»å½»åº•ä¸ä¸€æ ·äº†ï¼Œç”šè‡³ä¼šæœ‰â€œæ£€æµ‹ç¨‹åºç‰ˆæœ¬ç„¶åè‡ªåŠ¨åŒ¹é…å¯¹åº”çš„X11åŠŸèƒ½â€è¿™äº›å¥‡æ€ªçš„å…¼å®¹æ€§ç­–ç•¥å‡ºæ¥ã€‚æˆ–è®¸æœ‰ä¸€å¤©å¾®è½¯ä¼šæŠŠæ–°é¡¹ç›®å«åšWaylandï¼Œä½†è¿™ä¸ªæ”¹åä¹Ÿä»…ä»…æ˜¯è¥é”€ç›®çš„è€Œä¸æ˜¯æŠ€æœ¯ç›®çš„ã€‚\næ¯•ç«ŸLSBå·²ç»æ²¡äº†ï¼ŒUbuntuç”šè‡³ç æ‰32ä½å…¼å®¹æ€§ï¼Œä¹Ÿå¯ä»¥è¯´æ˜å…¶å®Linuxè¿™è¾¹å¹¶æ²¡æœ‰å¤ªå¤šäººåœ¨ä¹è¿™é—®é¢˜ã€‚\næ¯•ç«Ÿâ€œåæ­£æºä»£ç éƒ½åœ¨é‚£ï¼Œé‡æ–°ç¼–è¯‘ä¸€éä¸å°±å¥½äº†å—â€\nFedora ç¾¤\nç©ºã®ã‚ãŠ, [2/28/22 8:25 PM] è½¯ä»¶æœ‰ä¸åŒç‰ˆæœ¬çš„ä¾èµ– è¿™äº›ä¾èµ–å¾ˆéš¾å…±å­˜ æœ‰äº›æ—§ç‰ˆä¾èµ–è¿˜æœ‰æ›´æ—§çš„ä¾èµ– ä¸è¯´äºŒè¿›åˆ¶å…¼å®¹ï¼Œæœ‰äº›è¿æºç å…¼å®¹éƒ½æä¸å®š å°±ç®—æå®šäº†ï¼Œä¸€æ®µæ—¶é—´è¿‡åä¾èµ–å‡çº§äº†ï¼Œè¿˜æ˜¯å¾—å flatpakçš„åšæ³•æ˜¯ç»´æŠ¤abiç¨³å®šçš„qtå’Œgtkä¸¤å¤§uiåº“å’Œå¿…è¦æ¡Œé¢åº“çš„runtimeï¼Œç”¨æ¥å…¬ç”¨ é€šè¿‡å®¹å™¨éš”ç¦»appï¼Œè®©æ¯ä¸ªappè‡ªå·±æ„å»ºæ‰€éœ€çš„ç‰¹å®šä¾èµ–åˆ°å®¹å™¨é‡Œ\nç«¹æ—é‡Œæœ‰å†°, [2/28/22 8:33 PM] sandboxä»–æ˜¯ç”¨bubblewrapå®ç°çš„å§ï¼Œä½ å¯ä»¥ç›´æ¥ä½¿ç”¨bubblewrapï¼Œåº”è¯¥ä¸€æ ·å¯ä»¥åšåˆ°ä»–çš„æ²™ç›’åŒ–ï¼Œæ›´å°å·§ä¸€ç‚¹ bubblewrapçš„ç¼ºç‚¹å°±æ˜¯éœ€è¦é’ˆå¯¹æ¯ä¸ªç¨‹åºå†™ä¸Šé…ç½®ï¼Œé™¤äº†æœ‰ç‚¹éº»çƒ¦å…¶ä»–å€’è¿˜ä¸é”™\nNeomonk Zen, [2/28/22 8:36 PM] ä¹Ÿä¸çŸ¥flatpakçš„è½¯ä»¶ä»“åº“ï¼Œæœ‰æ²¡ä»€ä¹ˆå®¡æ ¸æœºåˆ¶æ¥é˜²æ­¢æ¶æ„è½¯ä»¶ï¼Œå¦‚æœæ²¡æœ‰çš„è¯ï¼Œé‚£è¿˜è›®å¯æ€•çš„ï¼Œæƒ³æƒ³Chromeå’ŒAndroidçš„è½¯ä»¶å¸‚åœºï¼Œéƒ½æœ‰å¾ˆå¤šæ¶æ„è½¯ä»¶\nRobin Lee, [2/28/22 8:39 PM] æ²¡æœ‰æ·±å…¥çš„å®¡æ ¸ï¼Œè·Ÿå„å¤§å‘è¡Œç‰ˆçš„å®˜æ–¹åŒ…å·®ä¸å¤šï¼Œä½†flatpakå¯ä»¥é™åˆ¶åº”ç”¨æƒé™\nåœ¨ Ubuntu ä¸Šä½¿ç”¨ Flatpak The official Flatpak PPA is the recommended way to install Flatpak. To install it, run the following in a terminal:\n$ sudo add-apt-repository ppa:flatpak/stable $ sudo apt update $ sudo apt install flatpak Flathub is the best place to get Flatpak apps. To enable it, run:\n$ flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo To complete setup, restart your system. Now all you have to do is install some apps!\nQuestions snap \u0026ldquo;canonical-livepatch\u0026rdquo; has \u0026ldquo;install-snap\u0026rdquo; change in progress\nSnap åŒ…æ˜¯ Ubuntu 16.04 LTS å‘å¸ƒæ—¶å¼•å…¥çš„æ–°åº”ç”¨æ ¼å¼åŒ…ã€‚ç›®å‰å·²æµè¡Œåœ¨å¾ˆå¤š Linux å‘è¡Œç‰ˆä¸Šã€‚å¹¶ä¸”å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å®‰è£…å¸¸ç”¨è½¯ä»¶ï¼Œå¦‚ VLCã€Sublime Textã€VSCodeã€Nodeã€WPSç­‰\nå½“ä½ åœ¨å®‰è£…å®Œ Snap åï¼Œä½ ä¼šå‘ç°åœ¨åœ¨æ ¹ç›®å½•ä¸‹ä¼šå‡ºç°å¦‚ /dev/loop0 çš„æŒ‚è½½ç‚¹ï¼Œè¿™äº›æŒ‚è½½ç‚¹æ­£æ˜¯ Snap è½¯ä»¶åŒ…çš„ç›®å½•ã€‚\n  åŸå› æ˜¯è½¯ä»¶ä¹‹å‰å®‰è£…äº†ä¸€æ¬¡ï¼Œåªæ˜¯å®‰è£…å¤±è´¥ã€‚\n$ snap changessnap abort 5\t## 5 ä¸ºå®‰è£…å¤±è´¥è½¯ä»¶çš„ ID   ç°åœ¨é‡æ–°å®‰è£…\n  ä¸€äº›è½¯ä»¶æœ€å¥½åœ¨å®˜ç½‘ä¸‹è½½æˆ–åœ¨ Snap ä¸­ä¸‹è½½ï¼Œå®˜æ–¹ Repository å¯èƒ½å¹¶ä¸æ–°ï¼Œæ¯”å¦‚ VLCã€‚\ntasksel: Install Group Software å®‰è£…\n$ sudo apt install tasksel list tasks\n$ tasksel --list-tasks displays description\n$ tasksel --task-desc dns-server install\n$ sudo apt install dns-server pacstall An AUR-inspired package manager for Ubuntu\nAppImage Linux apps that run anywhere\nåŒ…ç®¡ç†å™¨çš„è¿›åŒ– ä»Šå¤©ï¼Œæ¯ä¸ªå¯è®¡ç®—è®¾å¤‡éƒ½ä¼šä½¿ç”¨æŸç§è½¯ä»¶æ¥å®Œæˆé¢„å®šçš„ä»»åŠ¡ã€‚åœ¨è½¯ä»¶å¼€å‘çš„ä¸Šå¤æ—¶æœŸï¼Œä¸ºäº†æ‰¾å‡ºè½¯ä»¶ä¸­çš„ bug å’Œå…¶å®ƒç¼ºé™·ï¼Œè½¯ä»¶ä¼šè¢«ä¸¥æ ¼çš„æµ‹è¯•ã€‚åœ¨è¿‘åå¹´é—´ï¼Œè½¯ä»¶è¢«é€šè¿‡äº’è”ç½‘æ¥é¢‘ç¹åˆ†å‘ï¼Œä»¥è¯•å›¾é€šè¿‡æŒç»­ä¸æ–­çš„å®‰è£…æ–°ç‰ˆæœ¬çš„è½¯ä»¶æ¥è§£å†³è½¯ä»¶çš„ç¼ºé™·é—®é¢˜ã€‚åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œæ¯ä¸ªç‹¬ç«‹çš„åº”ç”¨è½¯ä»¶éƒ½æœ‰å…¶è‡ªå¸¦çš„æ›´æ–°å™¨ã€‚è€Œå…¶å®ƒä¸€äº›è½¯ä»¶åˆ™è®©ç”¨æˆ·è‡ªå·±å»ææ˜ç™½å¦‚ä½•è·å–å’Œå‡çº§è½¯ä»¶ã€‚\nLinux è¾ƒæ—©é‡‡ç”¨äº†ç»´æŠ¤ä¸€ä¸ªä¸­å¿ƒåŒ–çš„è½¯ä»¶ä»“åº“æ¥å‘å¸ƒè½¯ä»¶æ›´æ–°è¿™ç§åšæ³•ï¼Œç”¨æˆ·å¯ä»¥åœ¨è¿™ä¸ªè½¯ä»¶ä»“åº“é‡ŒæŸ¥æ‰¾å¹¶å®‰è£…è½¯ä»¶ã€‚åœ¨è¿™ç¯‡æ–‡ç« é‡Œï¼Œ ç¬”è€…å°†å›é¡¾åœ¨ Linux ä¸Šçš„å¦‚ä½•è¿›è¡Œè½¯ä»¶å®‰è£…çš„å†å²ï¼Œä»¥åŠç°ä»£æ“ä½œç³»ç»Ÿå¦‚ä½•ä¿æŒæ›´æ–°ä»¥åº”å¯¹è½¯ä»¶å®‰å…¨æ¼æ´ï¼ˆCVEï¼‰ä¸æ–­çš„æ›å…‰ã€‚\næ‰‹åŠ¨å®‰è£…è½¯ä»¶ æ›¾å‡ ä½•æ—¶ï¼Œè½¯ä»¶éƒ½æ˜¯é€šè¿‡ FTP æˆ–é‚®ä»¶åˆ—è¡¨ï¼ˆLCTT è¯‘æ³¨ï¼šå³é€šè¿‡é‚®ä»¶åˆ—è¡¨å‘å¸ƒæºä»£ç çš„è¡¥ä¸åŒ…ï¼‰æ¥åˆ†å‘çš„ï¼ˆæœ€ç»ˆè¿™äº›å‘å¸ƒæ–¹å¼åœ¨äº’è”ç½‘çš„è¿…çŒ›å‘å±•ä¸‹éƒ½æ¼”åŒ–æˆä¸ºä¸€ä¸ªä¸ªç°ä»Šå¸¸è§çš„è½¯ä»¶å‘å¸ƒç½‘ç«™ï¼‰ã€‚ï¼ˆä¸€èˆ¬åœ¨ä¸€ä¸ª tar æ–‡ä»¶ä¸­ï¼‰åªæœ‰ä¸€ä¸ªéå¸¸å°çš„æ–‡ä»¶åŒ…å«äº†åˆ›å»ºäºŒè¿›åˆ¶çš„è¯´æ˜ã€‚ä½ éœ€è¦åšçš„æ˜¯å…ˆè§£å‹è¿™ä¸ªåŒ…ï¼Œç„¶åä»”ç»†é˜…è¯»å½“ä¸­çš„ README æ–‡ä»¶ï¼Œ å¦‚æœä½ çš„ç³»ç»Ÿä¸Šæ°å¥½æœ‰ GCCï¼ˆLCTT è¯‘æ³¨ï¼šGNU C Compilerï¼‰æˆ–è€…å…¶å®ƒå‚å•†çš„ C ç¼–è¯‘å™¨çš„è¯ï¼Œä½ å¾—é¦–å…ˆè¿è¡Œ ./configure è„šæœ¬ï¼Œå¹¶åœ¨è„šæœ¬åæ·»åŠ ç›¸åº”çš„å‚æ•°ï¼Œå¦‚åº“å‡½æ•°çš„è·¯å¾„ã€åˆ›å»ºå¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„ç­‰ç­‰ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œè¿™ä¸ªé…ç½®è¿‡ç¨‹ä¹Ÿä¼šæ£€æŸ¥ä½ æ“ä½œç³»ç»Ÿä¸Šçš„è½¯ä»¶ä¾èµ–æ˜¯å¦æ»¡è¶³å®‰è£…è¦æ±‚ã€‚å¦‚æœç¼ºå¤±äº†ä»»ä½•ä¸»è¦çš„ä¾èµ–ï¼Œè¯¥é…ç½®è„šæœ¬ä¼šé€€å‡ºä¸å†ç»§ç»­å®‰è£…ï¼Œç›´åˆ°ä½ æ»¡è¶³äº†è¯¥ä¾èµ–ã€‚å¦‚æœè¯¥é…ç½®è„šæœ¬æ­£å¸¸æ‰§è¡Œå®Œæ¯•ï¼Œå°†ä¼šåˆ›å»ºä¸€ä¸ª Makefile æ–‡ä»¶ã€‚\nå½“æœ‰äº†ä¸€ä¸ª Makefile æ–‡ä»¶æ—¶ï¼Œ ä½ å°±å¯ä»¥æ¥ä¸‹å»æ‰§è¡Œ make å‘½ä»¤ï¼ˆè¯¥å‘½ä»¤ç”±ä½ æ‰€ä½¿ç”¨çš„ç¼–è¯‘å™¨æä¾›ï¼‰ã€‚make å‘½ä»¤ä¹Ÿæœ‰å¾ˆå¤šå‚æ•°ï¼Œè¢«ç§°ä¸º make æ ‡è¯†flagï¼Œè¿™äº›æ ‡è¯†èƒ½ä¸ºä½ çš„ç³»ç»Ÿä¼˜åŒ–æœ€ç»ˆç”Ÿæˆå‡ºæ¥çš„äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ã€‚åœ¨è®¡ç®—æœºä¸–ç•Œçš„æ—©æœŸï¼Œè¿™äº›ä¼˜åŒ–æ˜¯éå¸¸é‡è¦çš„ï¼Œå› ä¸ºå½¼æ—¶çš„è®¡ç®—æœºç¡¬ä»¶æ­£åœ¨ä¸ºäº†è·Ÿä¸Šè½¯ä»¶è¿…é€Ÿçš„å‘å±•è€Œç–²äºå¥”å‘½ã€‚ä»Šæ—¥ä»Šæ—¶ï¼Œç¼–è¯‘æ ‡è¯†å˜å¾—æ›´åŠ é€šç”¨è€Œä¸æ˜¯ä¸ºäº†ä¼˜åŒ–å“ªäº›å…·ä½“çš„ç¡¬ä»¶å‹å·ï¼Œè¿™å¾—ç›Šäºç°ä»£ç¡¬ä»¶å’Œç°ä»£è½¯ä»¶ç›¸æ¯”å·²ç»å˜å¾—æˆæœ¬ä½å»‰ï¼Œå”¾æ‰‹å¯å¾—ã€‚\næœ€åï¼Œåœ¨ make å®Œæˆä¹‹åï¼Œ ä½ éœ€è¦è¿è¡Œ make install ï¼ˆæˆ– sudo make installï¼‰ï¼ˆLCTT è¯‘æ³¨ï¼šä¾èµ–äºä½ çš„ç”¨æˆ·æƒé™ï¼‰ æ¥â€œçœŸæ­£â€å°†è¿™ä¸ªè½¯ä»¶å®‰è£…åˆ°ä½ çš„ç³»ç»Ÿä¸Šã€‚å¯ä»¥æƒ³è±¡ï¼Œä¸ºä½ ç³»ç»Ÿä¸Šçš„æ¯ä¸€ä¸ªè½¯ä»¶éƒ½æ‰§è¡Œä¸Šè¿°çš„æµç¨‹å°†æ˜¯å¤šä¹ˆæ— èŠè´¹æ—¶ï¼Œæ›´ä¸ç”¨è¯´å¦‚æœæ›´æ–°ä¸€ä¸ªå·²ç»å®‰è£…çš„è½¯ä»¶å°†ä¼šå¤šå¤æ‚ï¼Œå¤šä¹ˆéœ€è¦ç²¾åŠ›æŠ•å…¥ã€‚ï¼ˆLCTT è¯‘æ³¨ï¼šä¸Šè¿°æµç¨‹ä¹Ÿç§° CMMI å®‰è£…ï¼Œ å³Configureã€Makeã€Make Installï¼‰\nè½¯ä»¶åŒ… packageï¼ˆLCTT è¯‘æ³¨ï¼šä¸‹æ–‡ç®€ç§°â€œåŒ…â€ï¼‰è¿™ä¸ªæ¦‚å¿µæ˜¯ç”¨æ¥è§£å†³åœ¨è½¯ä»¶å®‰è£…ã€å‡çº§è¿‡ç¨‹ä¸­çš„å¤æ‚æ€§çš„ã€‚åŒ…å°†è½¯ä»¶å®‰è£…å‡çº§ä¸­éœ€è¦çš„å¤šä¸ªæ•°æ®æ–‡ä»¶åˆå¹¶æˆä¸€ä¸ªå•ç‹¬çš„æ–‡ä»¶ï¼Œè¿™å°†ä¾¿äºä¼ è¾“å’Œï¼ˆé€šè¿‡å‹ç¼©æ–‡ä»¶æ¥ï¼‰å‡å°å­˜å‚¨ç©ºé—´ï¼ˆLCTT è¯‘æ³¨ï¼šå‡å°‘å­˜å‚¨ç©ºé—´è¿™ä¸€ç‚¹åœ¨ç°åœ¨å·²ç»ä¸å†é‡è¦ï¼‰ï¼ŒåŒ…ä¸­çš„äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶å·²æ ¹æ®å¼€å‘è€…æ‰€é€‰æ‹©çš„ç¼–è¯‘æ ‡è¯†é¢„ç¼–è¯‘ã€‚åŒ…æœ¬èº«åŒ…æ‹¬äº†æ‰€æœ‰éœ€è¦çš„å…ƒæ•°æ®ï¼Œå¦‚è½¯ä»¶çš„åå­—ã€è½¯ä»¶çš„è¯´æ˜ã€ç‰ˆæœ¬å·ï¼Œä»¥åŠè¦è¿è¡Œè¿™ä¸ªè½¯ä»¶æ‰€éœ€è¦çš„ä¾èµ–åŒ…ç­‰ç­‰ã€‚\nä¸åŒæµæ´¾çš„ Linux å‘è¡Œç‰ˆéƒ½åˆ›é€ äº†å®ƒä»¬è‡ªå·±çš„åŒ…æ ¼å¼ï¼Œå…¶ä¸­æœ€å¸¸ç”¨çš„åŒ…æ ¼å¼æœ‰ï¼š\n .debï¼šè¿™ç§åŒ…æ ¼å¼ç”± Debianã€Ubuntuã€Linux Mint ä»¥åŠå…¶å®ƒçš„å˜ç§ä½¿ç”¨ã€‚è¿™æ˜¯æœ€æ—©è¢«å‘æ˜çš„åŒ…ç±»å‹ã€‚ .rpmï¼šè¿™ç§åŒ…æ ¼å¼æœ€åˆè¢«ç§°ä½œçº¢å¸½åŒ…ç®¡ç†å™¨Red Hat Package Managerï¼ˆLCTT è¯‘æ³¨ï¼š å–è‡ªè‹±æ–‡çš„é¦–å­—æ¯ï¼‰ã€‚ä½¿ç”¨è¿™ç§åŒ…çš„ Linux å‘è¡Œç‰ˆæœ‰ Red Hatã€Fedoraã€SUSE ä»¥åŠå…¶å®ƒä¸€äº›è¾ƒå°çš„å‘è¡Œç‰ˆã€‚ .tar.xzï¼šè¿™ç§åŒ…æ ¼å¼åªæ˜¯ä¸€ä¸ªè½¯ä»¶å‹ç¼©åŒ…è€Œå·²ï¼Œè¿™æ˜¯ Arch Linux æ‰€ä½¿ç”¨çš„æ ¼å¼ã€‚  å°½ç®¡ä¸Šè¿°çš„åŒ…æ ¼å¼è‡ªèº«å¹¶ä¸èƒ½ç›´æ¥ç®¡ç†è½¯ä»¶çš„ä¾èµ–é—®é¢˜ï¼Œä½†æ˜¯å®ƒä»¬çš„å‡ºç°å°† Linux è½¯ä»¶åŒ…ç®¡ç†å‘å‰æ¨è¿›äº†ä¸€å¤§æ­¥ã€‚\nè½¯ä»¶ä»“åº“ å¤šå¹´ä»¥å‰ï¼ˆå½“æ™ºèƒ½ç”µè¯è¿˜æ²¡æœ‰åƒç°åœ¨è¿™æ ·æµè¡Œæ—¶ï¼‰ï¼Œé Linux ä¸–ç•Œçš„ç”¨æˆ·æ˜¯å¾ˆéš¾ç†è§£è½¯ä»¶ä»“åº“çš„æ¦‚å¿µçš„ã€‚ç”šè‡³ä»Šæ—¶ä»Šæ—¥ï¼Œå¤§å¤šæ•°å®Œå…¨å·¥ä½œåœ¨ Windows ä¸‹çš„ç”¨æˆ·è¿˜æ˜¯ä¹ æƒ¯äºæ‰“å¼€æµè§ˆå™¨ï¼Œæœç´¢è¦å®‰è£…çš„è½¯ä»¶ï¼ˆæˆ–å‡çº§åŒ…ï¼‰ï¼Œä¸‹è½½ç„¶åå®‰è£…ã€‚ä½†æ˜¯ï¼Œæ™ºèƒ½ç”µè¯ä¼ æ’­äº†è½¯ä»¶â€œå•†åº—â€ï¼ˆLCTT è¯‘æ³¨ï¼š å¯¹åº” Linux é‡Œçš„è½¯ä»¶ä»“åº“ï¼‰è¿™æ ·ä¸€ä¸ªæ¦‚å¿µã€‚æ™ºèƒ½ç”µè¯ç”¨æˆ·è·å–è½¯ä»¶çš„æ–¹å¼å’ŒåŒ…ç®¡ç†å™¨çš„å·¥ä½œæ–¹å¼å·²ç»éå¸¸ç›¸è¿‘äº†ã€‚äº›è®¸ä¸åŒçš„æ˜¯ï¼Œå°½ç®¡å¤§å¤šæ•°è½¯ä»¶å•†åº—è¿˜åœ¨è´¹åŠ›ç¾åŒ–å®ƒçš„å›¾å½¢ç•Œé¢æ¥å¸å¼•ç”¨æˆ·ï¼Œå¤§å¤šæ•° Linux ç”¨æˆ·è¿˜æ˜¯æ„¿æ„ä½¿ç”¨å‘½ä»¤è¡Œæ¥å®‰è£…è½¯ä»¶ã€‚æ€»è€Œè¨€ä¹‹ï¼Œè½¯ä»¶ä»“åº“æ˜¯ä¸€ä¸ªä¸­å¿ƒåŒ–çš„å¯å®‰è£…è½¯ä»¶åˆ—è¡¨ï¼Œä¸Šé¢åˆ—ä¸¾äº†åœ¨å½“å‰ç³»ç»Ÿä¸­é¢„å…ˆé…ç½®å¥½çš„è½¯ä»¶ä»“åº“é‡Œæ‰€æœ‰å¯ä»¥å®‰è£…çš„è½¯ä»¶ã€‚\nåŒ…ç®¡ç†å™¨ åŒ…ç®¡ç†å™¨ç”¨æ¥å’Œç›¸åº”çš„è½¯ä»¶ä»“åº“äº¤äº’ï¼Œè·å–è½¯ä»¶çš„ç›¸åº”ä¿¡æ¯ã€‚ä¸‹é¢å¯¹æµè¡Œåšä¸€ä¸ªç®€çŸ­ä»‹ç»ã€‚\nåŸºäº PRM åŒ…æ ¼å¼çš„åŒ…ç®¡ç†å™¨ æ›´æ–°åŸºäº RPM çš„ç³»ç»Ÿï¼Œç‰¹åˆ«æ˜¯é‚£äº›åŸºäº Red Hat æŠ€æœ¯çš„ç³»ç»Ÿï¼Œæœ‰ç€éå¸¸æœ‰è¶£è€Œåˆè¯¦å®çš„å†å²ã€‚å®é™…ä¸Šï¼Œç°åœ¨çš„ YUM ç‰ˆæœ¬ï¼ˆç”¨äº ä¼ä¸šçº§å‘è¡Œç‰ˆï¼‰å’Œ DNFï¼ˆç”¨äºç¤¾åŒºç‰ˆï¼‰å°±èåˆäº†å¥½å‡ ä¸ªå¼€æºé¡¹ç›®æ¥æä¾›å®ƒä»¬ç°åœ¨çš„åŠŸèƒ½ã€‚\nRed Hat æœ€åˆä½¿ç”¨çš„åŒ…ç®¡ç†å™¨ï¼Œè¢«ç§°ä¸º RPMï¼ˆçº¢å¸½åŒ…ç®¡ç†å™¨Red Hat Package Managerï¼‰ï¼Œæ—¶è‡³ä»Šæ—¥è¿˜åœ¨ä½¿ç”¨ç€ã€‚ä¸è¿‡ï¼Œå®ƒçš„ä¸»è¦ä½œç”¨æ˜¯å®‰è£…æœ¬åœ°çš„ RPM åŒ…ï¼Œè€Œä¸æ˜¯å»åœ¨è½¯ä»¶ä»“åº“æœç´¢è½¯ä»¶ã€‚åæ¥å¼€å‘äº†ä¸€ä¸ªå« up2date çš„åŒ…ç®¡ç†å™¨ï¼Œå®ƒè¢«ç”¨æ¥é€šçŸ¥ç”¨æˆ·åŒ…çš„æœ€æ–°æ›´æ–°ï¼Œè¿˜èƒ½è®©ç”¨æˆ·åœ¨è¿œç¨‹ä»“åº“é‡Œæœç´¢è½¯ä»¶å¹¶ä¾¿æ·çš„å®‰è£…è½¯ä»¶çš„ä¾èµ–ã€‚å°½ç®¡è¿™ä¸ªåŒ…ç®¡ç†å™¨å°½èŒå°½è´£ï¼Œä½†ä¸€äº›ç¤¾åŒºæˆå‘˜è¿˜æ˜¯æ„Ÿè§‰ up2date æœ‰ç€æ˜æ˜¾çš„ä¸è¶³ã€‚\nç°åœ¨çš„ YUM æ¥è‡ªäºå¥½å‡ ä¸ªä¸åŒç¤¾åŒºçš„åŠªåŠ›ã€‚1999-2001 å¹´ä¸€ç¾¤åœ¨ Terra Soft Solution çš„ä¼™è®¡ä»¬å¼€å‘äº†Yellowdog Updaterï¼ˆYUPï¼‰ï¼Œå°†å…¶ä½œä¸º Yellow Dog Linux å›¾å½¢å®‰è£…å™¨çš„åç«¯ã€‚æœå…‹å¤§å­¦Duke Universityå–œæ¬¢è¿™ä¸ªä¸»æ„å°±å†³å®šå»å¢å¼ºå®ƒçš„åŠŸèƒ½ï¼Œå®ƒä»¬å¼€å‘äº†Yellowdog Updater, Modifiedï¼ˆYUMï¼‰ï¼Œè¿™æœ€ç»ˆè¢«ç”¨æ¥å¸®åŠ©ç®¡ç†æœå…‹å¤§å­¦çš„ Red Hat ç³»ç»Ÿã€‚Yum å£®å¤§çš„å¾ˆå¿«ï¼Œåˆ° 2005 å¹´ï¼Œå®ƒå·²ç»è¢«è¶…è¿‡ä¸€åŠçš„ Linux å¸‚åœºæ‰€é‡‡ç”¨ã€‚ä»Šæ—¥ï¼Œå‡ ä¹æ‰€æœ‰çš„ä½¿ç”¨ RPM çš„çš„ Linux éƒ½ä¼šä½¿ç”¨ YUM æ¥è¿›è¡ŒåŒ…ç®¡ç†ï¼ˆå½“ç„¶ä¹Ÿæœ‰ä¸€äº›ä¾‹å¤–ï¼‰ã€‚\nDandified Yumï¼ˆDNFï¼‰æ˜¯ YUM çš„ä¸‹ä¸€ä»£æ¥ç­äººã€‚ä» Fedora 18 å¼€å§‹è¢«ä½œä¸ºåŒ…ç®¡ç†å™¨å¼•å…¥ç³»ç»Ÿï¼Œä¸è¿‡å®ƒå¹¶æ²¡æœ‰è¢«ä¼ä¸šç‰ˆæ‰€é‡‡ç”¨ï¼Œæ‰€ä»¥å®ƒåªåœ¨ Fedoraï¼ˆä»¥åŠå˜ç§ï¼‰ä¸Šå æ®äº†ä¸»å¯¼åœ°ä½ã€‚DNF çš„ç”¨æ³•å’Œ YUM å‡ ä¹ä¸€æ¨¡ä¸€æ ·ï¼Œå®ƒä¸»è¦æ˜¯ç”¨æ¥è§£å†³æ€§èƒ½é—®é¢˜ã€æ™¦æ¶©æ— è¯´æ˜çš„APIã€ç¼“æ…¢/ä¸å¯é çš„ä¾èµ–è§£æï¼Œä»¥åŠå¶å°”çš„é«˜å†…å­˜å ç”¨ã€‚DNF æ˜¯ä½œä¸º YUM çš„ç›´æ¥æ›¿ä»£å“æ¥å¼€å‘çš„ï¼Œå› æ­¤è¿™é‡Œç¬”è€…å°±ä¸é‡å¤å®ƒçš„ç”¨æ³•äº†ï¼Œä½ åªç”¨ç®€å•çš„å°† yum æ›¿æ¢ä¸º dnf å°±è¡Œäº†ã€‚\nZypper æ˜¯ç”¨æ¥ç®¡ç† RPM åŒ…çš„å¦å¤–ä¸€ä¸ªåŒ…ç®¡ç†å™¨ã€‚è¿™ä¸ªåŒ…ç®¡ç†å™¨ä¸»è¦ç”¨äº SUSEï¼ˆå’Œ openSUSEï¼‰ï¼Œåœ¨MeeGoã€Sailfish OSã€Tizen ä¸Šä¹Ÿæœ‰ä½¿ç”¨ã€‚å®ƒæœ€åˆå¼€å‘äº 2006 å¹´ï¼Œå·²ç»ç»è¿‡äº†å¤šæ¬¡è¿­ä»£ã€‚é™¤äº†ä½œä¸ºç³»ç»Ÿç®¡ç†å·¥å…· YaST çš„åç«¯å’Œæœ‰äº›ç”¨æˆ·è®¤ä¸ºå®ƒæ¯” YUM è¦å¿«ä¹‹å¤–ä¹Ÿæ²¡æœ‰ä»€ä¹ˆå¥½å¤šè¯´çš„ã€‚\nåŸºäº Debian çš„åŒ…ç®¡ç†å™¨ ä½œä¸ºä¸€ä¸ªç°ä»Šä»åœ¨è¢«ç§¯æç»´æŠ¤çš„æœ€å¤è€çš„ Linux å‘è¡Œç‰ˆä¹‹ä¸€ï¼ŒDebian çš„åŒ…ç®¡ç†ç³»ç»Ÿå’ŒåŸºäº RPM çš„ç³»ç»Ÿçš„åŒ…ç®¡ç†ç³»ç»Ÿéå¸¸ç±»ä¼¼ã€‚å®ƒä½¿ç”¨æ‰©å±•åä¸º â€œ.debâ€ çš„åŒ…ï¼Œè¿™ç§æ–‡ä»¶èƒ½è¢«ä¸€ä¸ªå«åš dpkg çš„å·¥å…·æ‰€ç®¡ç†ã€‚dpgk åŒ rpm éå¸¸ç›¸ä¼¼ï¼Œå®ƒè¢«è®¾è®¡æˆç”¨æ¥ç®¡ç†åœ¨å­˜åœ¨äºæœ¬åœ°ï¼ˆç¡¬ç›˜ï¼‰çš„åŒ…ã€‚å®ƒä¸ä¼šå»åšåŒ…ä¾èµ–å…³ç³»è§£æï¼ˆå®ƒä¼šåšä¾èµ–å…³ç³»æ£€æŸ¥ï¼Œä¸è¿‡ä»…æ­¤è€Œå·²ï¼‰ï¼Œè€Œä¸”åœ¨åŒè¿œç¨‹è½¯ä»¶ä»“åº“äº¤äº’ä¸Šä¹Ÿå¹¶æ— å¯é çš„é€”å¾„ã€‚ä¸ºäº†æé«˜ç”¨æˆ·ä½“éªŒå¹¶ä¾¿äºä½¿ç”¨ï¼ŒDebian é¡¹ç›®å¼€å§‹äº†ä¸€ä¸ªè½¯ä»¶é¡¹ç›®ï¼šDeityï¼Œæœ€ç»ˆè¿™ä¸ªä»£å·è¢«ä¸¢å¼ƒå¹¶æ”¹æˆäº†ç°åœ¨çš„ Advanced Pack Toolï¼ˆAPTï¼‰ã€‚\nåœ¨ 1998 å¹´ï¼ŒAPT æµ‹è¯•ç‰ˆæœ¬å‘å¸ƒï¼ˆç”šè‡³æ—©äº 1999 å¹´çš„ Debian 2.1 å‘å¸ƒï¼‰ï¼Œè®¸å¤šç”¨æˆ·è®¤ä¸º APT æ˜¯åŸºäº Debian ç³»ç»Ÿæ ‡é…åŠŸèƒ½ä¹‹ä¸€ã€‚APT ä½¿ç”¨äº†å’Œ RPM ä¸€æ ·çš„é£æ ¼æ¥ç®¡ç†ä»“åº“ï¼Œä¸è¿‡å’Œ YUM ä½¿ç”¨å•ç‹¬çš„ .repo æ–‡ä»¶ä¸åŒï¼ŒAPT æ›¾ç»ä½¿ç”¨ /etc/apt/sources.list æ–‡ä»¶æ¥ç®¡ç†è½¯ä»¶ä»“åº“ï¼Œåæ¥çš„å˜æˆä¹Ÿå¯ä»¥ä½¿ç”¨ /etc/apt/sources.d ç›®å½•æ¥ç®¡ç†ã€‚å¦‚åŒåŸºäº RPM çš„ç³»ç»Ÿä¸€æ ·ï¼Œä½ ä¹Ÿæœ‰å¾ˆå¤šå¾ˆå¤šé€‰é¡¹é…ç½®æ¥å®ŒæˆåŒæ ·çš„äº‹æƒ…ã€‚ä½ å¯ä»¥ç¼–è¾‘å’Œåˆ›å»ºå‰è¿°çš„æ–‡ä»¶ï¼Œæˆ–è€…ä½¿ç”¨å›¾å½¢ç•Œé¢æ¥å®Œæˆä¸Šè¿°å·¥ä½œï¼ˆå¦‚ Ubuntu çš„â€œSoftware \u0026amp; Updatesâ€ï¼‰ã€‚\nç°ä»Šå¤§å¤šæ•°çš„ Ubuntu æ•™ç¨‹é‡Œéƒ½å¾„ç›´ä½¿ç”¨äº† aptã€‚ å•ç‹¬ä¸€ä¸ª apt è®¾è®¡ç”¨æ¥å®ç°é‚£äº›æœ€å¸¸ç”¨çš„ APT å‘½ä»¤çš„ã€‚apt å‘½ä»¤çœ‹ä¸Šå»æ˜¯ç”¨æ¥æ•´åˆé‚£äº›è¢«åˆ†æ•£åœ¨ apt-getã€apt-cache ä»¥åŠå…¶å®ƒä¸€äº›å‘½ä»¤çš„çš„åŠŸèƒ½çš„ã€‚å®ƒè¿˜åŠ ä¸Šäº†ä¸€äº›é¢å¤–çš„æ”¹è¿›ï¼Œå¦‚è‰²å½©ã€è¿›åº¦æ¡ä»¥åŠå…¶å®ƒä¸€äº›å°åŠŸèƒ½ã€‚\nåŸºäº Arch çš„åŒ…ç®¡ç†å™¨ Arch Linux ä½¿ç”¨ç§°ä¸º packman çš„åŒ…ç®¡ç†å™¨ã€‚å’Œ .deb ä»¥åŠ .rpm ä¸åŒï¼Œå®ƒä½¿ç”¨æ›´ä¸ºä¼ ç»Ÿçš„ LZMA2 å‹ç¼©åŒ…å½¢å¼ .tar.xz ã€‚è¿™å¯ä»¥ä½¿ Arch Linux åŒ…èƒ½å¤Ÿæ¯”å…¶å®ƒå½¢å¼çš„å‹ç¼©åŒ…ï¼ˆå¦‚ gzipï¼‰æœ‰æ›´å°çš„å°ºå¯¸ã€‚è‡ªä» 2002 å¹´é¦–æ¬¡å‘å¸ƒä»¥æ¥ï¼Œ pacman ä¸€ç›´åœ¨ç¨³å®šå‘å¸ƒå’Œæ”¹å–„ã€‚ä½¿ç”¨å®ƒæœ€å¤§çš„å¥½å¤„ä¹‹ä¸€æ˜¯å®ƒæ”¯æŒ Arch Build Systemï¼Œè¿™æ˜¯ä¸€ä¸ªä»æºä»£ç çº§åˆ«æ„å»ºåŒ…çš„æ„å»ºç³»ç»Ÿã€‚è¯¥æ„å»ºç³»ç»Ÿå€ŸåŠ©ä¸€ä¸ªå« PKGBUILD çš„æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶åŒ…å«äº†å¦‚ç‰ˆæœ¬å·ã€å‘å¸ƒå·ã€ä¾èµ–ç­‰ç­‰çš„å…ƒæ•°æ®ï¼Œä»¥åŠä¸€ä¸ªä¸ºç¼–è¯‘éµå®ˆ Arch Linux éœ€æ±‚çš„åŒ…æ‰€éœ€è¦çš„å¸¦æœ‰å¿…è¦çš„ç¼–è¯‘é€‰é¡¹çš„è„šæœ¬ã€‚è€Œç¼–è¯‘çš„ç»“æœå°±æ˜¯å‰æ–‡æ‰€æçš„è¢« pacman æ‰€ä½¿ç”¨çš„ .tar.xz çš„æ–‡ä»¶ã€‚\nä¸Šè¿°çš„è¿™å¥—ç³»ç»ŸæŠ€æœ¯ä¸Šå¯¼è‡´äº† Arch User Respositoryï¼ˆAURï¼‰çš„äº§ç”Ÿï¼Œè¿™æ˜¯ä¸€ä¸ªç¤¾åŒºé©±åŠ¨çš„è½¯ä»¶ä»“åº“ï¼Œä»“åº“é‡ŒåŒ…æ‹¬æœ‰ PKGBUILD æ–‡ä»¶ä»¥åŠæ”¯æŒè¡¥ä¸æˆ–è„šæœ¬ã€‚è¿™ç»™ Arch Linux å¸¦äº†æ— ç©·æ— å°½çš„è½¯ä»¶èµ„æºã€‚æœ€ä¸ºæ˜æ˜¾çš„å¥½å¤„æ˜¯å¦‚æœä¸€ä¸ªç”¨æˆ·ï¼ˆæˆ–å¼€å‘è€…ï¼‰å¸Œæœ›ä»–å¼€å‘çš„è½¯ä»¶èƒ½è¢«å¹¿å¤§å…¬ä¼—æ‰€ä½¿ç”¨ï¼Œä»–ä¸å¿…é€šè¿‡å®˜æ–¹é€”å¾„å»åœ¨ä¸»æµè½¯ä»¶ä»“åº“è·å¾—è®¸å¯ã€‚è€Œä¸åˆ©ä¹‹å¤„åˆ™æ˜¯å®ƒå¿…é¡»å°†ä¾èµ–ç¤¾åŒºçš„æµç¨‹ï¼Œç±»ä¼¼äº Docker Hubã€ Canonical çš„ Snap Packagesï¼ˆLCTT è¯‘æ³¨ï¼š Canonical æ˜¯ Ubuntu çš„å‘è¡Œå…¬å¸ï¼‰ï¼Œæˆ–è€…å…¶å®ƒç±»ä¼¼çš„æœºåˆ¶ã€‚\næœ‰å¾ˆå¤šç‰¹å®šäº AUR çš„åŒ…ç®¡ç†å™¨èƒ½è¢«ç”¨æ¥ä» AUR é‡Œçš„ PGKBUILD æ–‡ä»¶ä¸‹è½½ã€ç¼–è¯‘ã€å®‰è£…ã€‚å…¶ä¸­ yaourt å’Œ pacaur é¢‡ä¸ºæµè¡Œã€‚ä¸è¿‡ï¼Œè¿™ä¸¤ä¸ªé¡¹ç›®å·²ç»è¢« Arch Wiki åˆ—ä¸ºâ€œä¸ç»§ç»­å¼€å‘ä»¥åŠæœ‰å·²çŸ¥çš„é—®é¢˜æœªè§£å†³â€ã€‚å› ä¸ºè¿™ä¸ªåŸå› ï¼Œè¿™é‡Œç›´æ¥è®¨è®º aurmanï¼Œé™¤äº†ä¼šæœç´¢ AUR ä»¥åŠåŒ…å«å‡ ä¸ªæœ‰å¸®åŠ©çš„ï¼ˆå…¶å®å¾ˆå±é™©ï¼‰çš„é€‰é¡¹ä¹‹å¤–ï¼Œå®ƒçš„å·¥ä½œæœºåˆ¶å’Œ pacman æå…¶ç±»ä¼¼ã€‚\nconda ç®€ä»‹ Conda æ˜¯ä¸€ä¸ªå¼€æºçš„è½¯ä»¶åŒ…ç®¡ç†ç³»ç»Ÿå’Œç¯å¢ƒç®¡ç†ç³»ç»Ÿï¼Œç”¨äºå®‰è£…å¤šä¸ªç‰ˆæœ¬çš„è½¯ä»¶åŒ…åŠå…¶ä¾èµ–å…³ç³»ï¼Œå¹¶åœ¨å®ƒä»¬ä¹‹é—´è½»æ¾åˆ‡æ¢ã€‚ Conda æ˜¯ä¸º Python ç¨‹åºåˆ›å»ºçš„ï¼Œé€‚ç”¨äº Linuxï¼ŒOS X å’Œ Windowsï¼Œä¹Ÿå¯ä»¥æ‰“åŒ…å’Œåˆ†å‘å…¶ä»–è½¯ä»¶ã€‚\nå®‰è£… condaåˆ†ä¸ºanacondaå’Œminicondaã€‚anacondaæ˜¯åŒ…å«ä¸€äº›å¸¸ç”¨åŒ…çš„ç‰ˆæœ¬ï¼ˆè¿™é‡Œçš„å¸¸ç”¨ä¸ä»£è¡¨ä½ å¸¸ç”¨ï¼‰ï¼Œminicondaåˆ™æ˜¯ç²¾ç®€ç‰ˆï¼Œéœ€è¦å•¥è£…å•¥ï¼Œæ‰€ä»¥æ¨èä½¿ç”¨minicondaã€‚\nminicondaå®˜ç½‘ï¼šhttps://conda.io/miniconda.html\né€‰æ‹©é€‚åˆè‡ªå·±çš„ç‰ˆæœ¬ä¸‹è½½ï¼š\n$ wget -c https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-x86_64.sh è¿™é‡Œé€‰æ‹©çš„æ˜¯latest-Linuxç‰ˆæœ¬ï¼Œæ‰€ä»¥ä¸‹è½½çš„ç¨‹åºä¼šéšç€pythonçš„ç‰ˆæœ¬æ›´æ–°è€Œæ›´æ–°ã€‚\nå®‰è£…ï¼š\n$ chmod 777 Miniconda3-latest-Linux-x86_64.sh $ bash Miniconda3-latest-Linux-x86_64.sh åŠ ä¸åŠ å…¥ç¯å¢ƒå˜é‡éƒ½å¯ä»¥ã€‚æ‰€è°“çš„ä¼šæ±¡æŸ“ç¯å¢ƒç­‰ç­‰é—®é¢˜å¯èƒ½éƒ½æ˜¯å°†å¤§é‡çš„è½¯ä»¶ç›´æ¥å®‰è£…åœ¨condaçš„baseç¯å¢ƒä¸­å¼•èµ·çš„ï¼Œåªè¦å…»æˆå¥½çš„ä½¿ç”¨ä¹ æƒ¯ï¼Œçµæ´»ä½¿ç”¨conda create å‘½ä»¤å°†ä¸åŒçš„è½¯ä»¶å®‰è£…åˆ°è‡ªå·±å•ç‹¬çš„è™šæ‹Ÿç¯å¢ƒä¸­å°±å¯ä»¥äº†ã€‚æŠŠcondaè¿™æ¡èŸ’è›‡å…³è¿›ä¸€ä¸ªä¸€ä¸ªçš„ç¬¼å­é‡Œï¼Œæ‰èƒ½æ›´å¥½çš„ä¸ºæˆ‘ä»¬çš„ç§‘ç ”æœåŠ¡~\næ·»åŠ é¢‘é“ è¿™ä¸ªé“ç†è·Ÿå®¶é‡Œçš„ç”µè§†æœºæ˜¯ä¸€æ ·ä¸€æ ·çš„ï¼Œå®‰è£…condaå°±ç›¸å½“äºä¹°äº†ä¸€å°ç”µè§†æœºï¼Œä½†æ˜¯æœ‰ç”µè§†äº†ä¸æ„å‘³ç€ä½ å°±èƒ½çœ‹èŠ‚ç›®äº†ï¼Œä½ è¦æ‰‹åŠ¨æ·»åŠ é¢‘é“æ‰èƒ½çœ‹ä½ æƒ³çœ‹çš„ç”µè§†èŠ‚ç›®ã€‚\næ·»åŠ æ¸…åçš„é•œåƒchannelsï¼š\n$ conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/ $ conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/ $ conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/conda-forge/ $ conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/cloud/bioconda/ ä¸ºäº†åˆ†æ‹…æ¸…åæºé•œåƒçš„å‹åŠ›ï¼ŒåŒ—äº¬å¤–å›½è¯­å¤§å­¦ä¹Ÿå¼€å¯äº†é•œåƒç«™ç‚¹ï¼ŒåŒæ ·æ˜¯ç”±æ¸…åTUNAå›¢é˜Ÿç»´æŠ¤çš„ï¼Œå¦‚æœæœ‰å°ä¼™ä¼´é‡åˆ°æ¸…åæºé€Ÿåº¦å¾ˆæ…¢çš„æƒ…å†µçš„è¯ï¼Œå¯ä»¥è€ƒè™‘æ¢æˆåŒ—å¤–çš„é•œåƒã€‚\n$ conda config --add channels https://mirrors.bfsu.edu.cn/anaconda/cloud/bioconda/ $ conda config --add channels https://mirrors.bfsu.edu.cn/anaconda/cloud/conda-forge/ $ conda config --add channels https://mirrors.bfsu.edu.cn/anaconda/pkgs/free/ $ conda config --add channels https://mirrors.bfsu.edu.cn/anaconda/pkgs/main/ æ˜¾ç¤ºå®‰è£…çš„é¢‘é“\n$ conda config --set show_channel_urls yes æŸ¥çœ‹å·²ç»æ·»åŠ çš„channels\n$ conda config --get channels å·²æ·»åŠ çš„channelåœ¨å“ªé‡ŒæŸ¥çœ‹\n$ vim ~/.condarc è½¯ä»¶åŒ…ç®¡ç† $ conda install gatk æœç´¢å®‰è£…åŒ… $ conda search gatk å®‰è£…å®Œæˆåï¼Œå¯ä»¥ç”¨â€œwhich è½¯ä»¶åâ€æ¥æŸ¥çœ‹è¯¥è½¯ä»¶å®‰è£…çš„ä½ç½®ï¼š\n$ which gatk å®‰è£…ç‰¹å®šç‰ˆæœ¬ $ conda install è½¯ä»¶å=ç‰ˆæœ¬å· $ conda install gatk=3.7 è¿™æ—¶condaä¼šå…ˆå¸è½½å·²å®‰è£…ç‰ˆæœ¬ï¼Œç„¶åé‡æ–°å®‰è£…æŒ‡å®šç‰ˆæœ¬ã€‚\næŸ¥çœ‹å·²å®‰è£…è½¯ä»¶ $ conda list æ›´æ–°æŒ‡å®šè½¯ä»¶ $ conda update gatk å¸è½½æŒ‡å®šè½¯ä»¶ $ conda remove gatk ç¯å¢ƒç®¡ç† é€€å‡ºcondaç¯å¢ƒ é€€å‡ºä¹Ÿå¾ˆç®€å•ï¼Œä¹‹å‰æˆ‘ä»¬æ˜¯. ./activate æˆ–è€… (. ~/miniconda3/bin/activate)ç°åœ¨é€€å‡ºåªè¦:\n$ . ./deactivate # æˆ–è€…ç”¨  $ conda deactivate å°±é€€å‡ºå½“å‰çš„ç¯å¢ƒäº†\nåˆ›å»ºcondaç¯å¢ƒ ä¹‹å‰åˆ›å»ºçš„æ—¶å€™æ˜¾ç¤ºçš„æ˜¯ï¼ˆbaseï¼‰è¿™æ˜¯condaçš„åŸºæœ¬ç¯å¢ƒï¼Œæœ‰äº›è½¯ä»¶ä¾èµ–çš„æ˜¯python2çš„ç‰ˆæœ¬ï¼Œå½“ä½ è¿˜æ˜¯ä½¿ç”¨ä½ çš„baseçš„æ—¶å€™ä½ çš„baseé‡Œçš„pythonä¼šè¢«è‡ªåŠ¨é™çº§ï¼Œæœ‰å¯èƒ½ä¼šå¼•å‘åˆ«çš„è½¯ä»¶çš„æŠ¥é”™ï¼Œæ‰€ä»¥ï¼Œå¯ä»¥ç»™ä¸€äº›ç‰¹åˆ«çš„è½¯ä»¶ä¸€äº›ç‰¹åˆ«çš„å…³ç…§ï¼Œæ¯”å¦‚åˆ›å»ºä¸€ä¸ªå•ç‹¬çš„ç¯å¢ƒã€‚\nåœ¨condaç¯å¢ƒä¸‹ï¼Œè¾“å…¥conda env listï¼ˆæˆ–è€…è¾“å…¥conda info --envsä¹Ÿæ˜¯ä¸€æ ·æ»´ï¼‰æŸ¥çœ‹å½“å‰å­˜åœ¨çš„ç¯å¢ƒï¼š\n$ conda env list åˆ›å»ºä¸€ä¸ªæ–°çš„ç¯å¢ƒ\n$ conda create -n python2 python=2  -n: è®¾ç½®æ–°çš„ç¯å¢ƒçš„åå­— python=2 æŒ‡å®šæ–°ç¯å¢ƒçš„pythonçš„ç‰ˆæœ¬ï¼Œéå¿…é¡»å‚æ•° è¿™é‡Œä¹Ÿå¯ä»¥ç”¨ä¸€ä¸ª-yå‚æ•°ï¼Œå¯ä»¥ç›´æ¥è·³è¿‡å®‰è£…çš„ç¡®è®¤è¿‡ç¨‹ã€‚  condaä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„python2çš„ç¯å¢ƒï¼Œå¹¶ä¸”ä¼šå¾ˆæ¸©é¦¨çš„æç¤ºä½ åªè¦è¾“å…¥conda activate python2å°±å¯ä»¥å¯åŠ¨è¿™ä¸ªç¯å¢ƒäº†ã€‚\nåˆ é™¤ç¯å¢ƒ $ conda remove -n myenv --all é‡å‘½åç¯å¢ƒ å®é™…ä¸Šcondaå¹¶æ²¡æœ‰æä¾›è¿™æ ·çš„åŠŸèƒ½ï¼Œä½†æ˜¯å¯ä»¥æ›²çº¿æ•‘å›½ï¼ŒåŸç†æ˜¯å…ˆå…‹éš†ä¸€ä¸ªåŸæ¥çš„ç¯å¢ƒï¼Œå‘½åæˆæƒ³è¦çš„åå­—ï¼Œå†æŠŠåŸæ¥çš„ç¯å¢ƒåˆ æ‰å³å¯\næ¥ä¸‹æ¥æ¼”ç¤ºæŠŠä¸€ä¸ªåŸæ¥å«åšpy2çš„ç¯å¢ƒé‡æ–°å‘½åæˆpython2ï¼š\n$ conda create -n python2 --clone py2 $ conda remove -n py2 --all è‡ªåŠ¨æ›´æ–° Ubuntu é»˜è®¤çš„é…ç½®ä¼šæ¯å¤©è‡ªåŠ¨å®‰è£…å®‰å…¨æ›´æ–°è€Œå¿½ç•¥å…¶å®ƒåŒ…çš„æ›´æ–°ã€‚\næ›´æ–°æœºåˆ¶ Ubuntu é»˜è®¤å®šä¹‰äº† 4 ä¸ª systemd unit æ‰§è¡Œæ›´æ–°ä»»åŠ¡ï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼š\n/lib/systemd/system/apt-daily-upgrade.service /lib/systemd/system/apt-daily-upgrade.timer /lib/systemd/system/apt-daily.service /lib/systemd/system/apt-daily.timer ä¸­çš„ apt-daily.timer å’Œ apt-daily-upgrade.timer æ˜¯ä¸¤ä¸ªè§¦å‘å™¨ï¼Œåˆ†åˆ«åœ¨æ¯å¤©æŒ‡å®šçš„æ—¶é—´è§¦å‘ apt-daily.service å’Œ apt-daily-upgrade.serviceã€‚è¿™ä¸¤ä¸ª service çš„ç±»å‹éƒ½æ˜¯ oneshotï¼Œæ„æ€æ˜¯å½“ä»»åŠ¡å®Œæˆå service è¿›ç¨‹é€€å‡ºã€‚è¿™ä¸¤ä¸ª service å…¶å®è°ƒç”¨çš„æ˜¯åŒä¸€ä¸ªè„šæœ¬ï¼š /usr/lib/apt/apt.systemd.dailyã€‚apt-daily.service ä¸ºè„šæœ¬ä¼ å…¥å‚æ•° \u0026ldquo;update\u0026rdquo;ï¼Œå…¶åŠŸèƒ½ä¸ºæ£€æŸ¥ç³»ç»Ÿçš„æ›´æ–°å¹¶ä¸‹è½½å¯¹åº”çš„æ›´æ–°åŒ…ã€‚apt-daily-upgrade.service ä¸ºè„šæœ¬ä¼ å…¥å‚æ•° \u0026ldquo;install\u0026rdquo;ï¼Œå…¶åŠŸèƒ½ä¸ºå®‰è£…æ›´æ–°å¹¶åˆ é™¤ç¼“å­˜åœ¨æœ¬åœ°çš„æ›´æ–°åŒ…ã€‚\napt-daily.timer é»˜è®¤æ¯å¤©è§¦å‘ä¸¤æ¬¡ï¼Œåˆ†åˆ«ä¸º 6 ç‚¹å’Œ 18 ç‚¹ï¼Œä¸»è¦æ˜¯ä¸ºäº†ç¼“è§£æœåŠ¡å™¨ç«¯çš„ä¸‹è½½å‹åŠ›ã€‚æˆ‘ä»¬å¯ä»¥æ ¹æ®è‡ªèº«ä¸šåŠ¡çš„ç‰¹ç‚¹è®¾ç½®åˆé€‚çš„è§¦å‘æ—¶é—´ã€‚\napt-daily-upgrade.service é»˜è®¤æ¯å¤©åœ¨ 6 ç‚¹è§¦å‘ä¸€æ¬¡ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è®¾ç½®ä¸ºå…¶å®ƒæ—¶é—´ï¼Œæ¯”å¦‚åˆå¤œã€‚\napt.systemd.daily /usr/lib/apt/apt.systemd.daily è„šæœ¬è´Ÿè´£å®Œæˆä¸æ›´æ–°ç›¸å…³çš„ä¸€ç³»åˆ—å·¥ä½œï¼Œè¿™äº›å·¥ä½œä¸»è¦åˆ†ä¸ºä¸¤å¤§å—ï¼š\n æ£€æŸ¥æ›´æ–°å¹¶ä¸‹è½½æ›´æ–°åŒ… å®‰è£…æ›´æ–°å¹¶æ¸…ç†æ›´æ–°åŒ…  apt.systemd.daily è„šæœ¬ä¸­è°ƒç”¨ apt-config å‘½ä»¤ä» /etc/apt/apt.conf.d/10periodic æ–‡ä»¶å’Œ /etc/apt/apt.conf.d/20auto-upgrades è¯»ä¸­å–é…å˜é‡ï¼Œå¹¶æ ¹æ®è¿™äº›å˜é‡çš„å€¼æ¥æ§åˆ¶ç³»ç»Ÿçš„æ›´æ–°ç­–ç•¥ã€‚ä¸‹é¢æˆ‘ä»¬ä»‹ç»å‡ ä¸ªæ¯”è¾ƒé‡è¦çš„é…ç½®é¡¹ã€‚\néš”å¤šå°‘å¤©æ‰§è¡Œä¸€æ¬¡ apt-get updateï¼Œé»˜è®¤æ˜¯ 1 å¤©ï¼Œ0 è¡¨ç¤ºä¸æ‰§è¡Œè¯¥æ“ä½œï¼š\nAPT::Periodic::Update-Package-Lists \u0026#34;1\u0026#34;; éš”å¤šå°‘å¤©æ‰§è¡Œä¸€æ¬¡ apt-get upgrade \u0026ndash;download-only ä¸‹è½½æ›´æ–°åŒ…ï¼Œ0 è¡¨ç¤ºä¸æ‰§è¡Œè¯¥æ“ä½œï¼š\nAPT::Periodic::Download-Upgradeable-Packages \u0026#34;0\u0026#34;; ä¸‹è½½çš„æ›´æ–°ç‰ˆè¢«ç¼“å­˜åœ¨ç›®å½• /var/cache/apt/archives/ ä¸­ï¼Œæ‰§è¡Œå‡çº§æ“ä½œæ—¶ç›´æ¥ä»ç¼“å­˜ç›®å½•ä¸­è¯»å–åŒ…æ–‡ä»¶è€Œä¸æ˜¯ä»ç½‘ç»œä¸Šä¸‹è½½ã€‚\néš”å¤šå°‘å¤©æ‰§è¡Œä¸€æ¬¡ apt-get autoclean æ¸…é™¤æ— ç”¨çš„æ›´æ–°åŒ…ï¼Œ0 è¡¨ç¤ºä¸æ‰§è¡Œè¯¥æ“ä½œï¼š\nAPT::Periodic::AutocleanInterval \u0026#34;0\u0026#34;; éš”å¤šå°‘å¤©æ‰§è¡Œä¸€æ¬¡ Unattended-Upgrade æ‰§è¡Œç³»ç»Ÿå®‰å…¨æ›´æ–°(æˆ–è€…æ‰€æœ‰åŒ…çš„æ›´æ–°)ï¼Œ0 è¡¨ç¤ºä¸æ‰§è¡Œè¯¥æ“ä½œï¼š\nAPT::Periodic::Unattended-Upgrade \u0026#34;1\u0026#34;; é€šè¿‡è¿™äº›é…ç½®ï¼Œæˆ‘ä»¬å¯ä»¥æ§åˆ¶è‡ªåŠ¨æ›´æ–°çš„é¢‘ç‡å’Œè¡Œä¸ºã€‚æ³¨æ„ï¼Œåˆ°ç›®å‰ä¸ºæ­¢çš„é…ç½®è¿˜åªèƒ½å®‰è£…ç³»ç»Ÿçš„å®‰å…¨æ›´æ–°ï¼Œå¦‚æœè¦æƒ³å®‰è£…æ‰€æœ‰åŒ…çš„æ›´æ–°è¿˜éœ€è¦å…¶å®ƒçš„é…ç½®ã€‚\nåœ¨ç»§ç»­ä»‹ç»åé¢çš„å†…å®¹å‰ï¼Œè®©æˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹ apt.systemd.daily è„šæœ¬ä¸­ç”¨åˆ°çš„ apt-config å‘½ä»¤å’Œ apt.systemd.daily è„šæœ¬ä¾èµ–çš„é…ç½®æ–‡ä»¶ã€‚\napt-config å‘½ä»¤\napt-config æ˜¯ä¸€ä¸ªè¢« APT å¥—ä»¶ä½¿ç”¨çš„å†…éƒ¨å‘½ä»¤ï¼Œä½¿ç”¨å®ƒå¯ä»¥åœ¨è„šæœ¬ä¸­æå– /etc/apt/apt.conf ç›®å½•ä¸‹é…ç½®æ–‡ä»¶ä¸­çš„ä¿¡æ¯ã€‚\næ¯”å¦‚ï¼Œå¦‚æœè¦åœ¨è„šæœ¬ä¸­è·å– APT::Periodic::Update-Package-Lists çš„è®¾ç½®ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç ï¼š\n#!/bin/bash ABC=0 eval $(apt-config shell ABC APT::Periodic::Update-Package-Lists) echo ${ABC} æ­¤æ—¶è„šæœ¬å˜é‡ ABC ä¸­ä¿å­˜çš„å°±æ˜¯ APT::Periodic::Update-Package-Lists çš„å€¼ã€‚\n10periodic å’Œ 20auto-upgrades\n/etc/apt/apt.conf.d/10periodic æ˜¯ update-notifier-common çš„é…ç½®æ–‡ä»¶ï¼š\n$ dpkg-query -S /etc/apt/apt.conf.d/10periodic update-notifier-common: /etc/apt/apt.conf.d/10periodic åœ¨ ubuntu 16.04 å’Œ 18.04 ä¸­ï¼Œè¿™ä¸¤ä¸ªæ–‡ä»¶çš„é»˜è®¤å†…å®¹æ˜¯ä¸€æ ·çš„ã€‚apt.systemd.daily è„šæœ¬åœ¨æ³¨é‡Šä¸­è¯´æˆ‘ä»¬å¯ä»¥é€šè¿‡ /etc/apt/apt.conf.d/10periodic æ–‡ä»¶è‡ªå®šä¹‰ç›¸å…³çš„å˜é‡å€¼ï¼Œå®ƒé€šè¿‡ get-config å‘½ä»¤æ¥è·å¾—è¿™äº›å˜é‡çš„å€¼ã€‚ä½†æ˜¯æµ‹è¯•çš„ç»“æœæ˜¯ /etc/apt/apt.conf.d/20auto-upgrades æ–‡ä»¶ä¸­çš„å˜é‡ä¼šè¦†ç›– /etc/apt/apt.conf.d/10periodic æ–‡ä»¶ä¸­çš„å˜é‡ã€‚çœ‹æ¥æ˜¯ get-config å‘½ä»¤æ ¹æ®æ–‡ä»¶åç§°çš„é¡ºåºï¼Œæ’åœ¨åé¢çš„æ–‡ä»¶ä¸­çš„å˜é‡ä¼šè¦†ç›–å‰é¢æ–‡ä»¶ä¸­çš„å˜é‡ã€‚\nåœ¨ desktop ç‰ˆæœ¬ä¸­ï¼Œé€šè¿‡ GUI ç¨‹åºä¿®æ”¹ç›¸å…³çš„å˜é‡ï¼Œè¿™ä¸¤ä¸ªæ–‡ä»¶éƒ½ä¼šè¢«ä¿®æ”¹å¹¶ä¿æŒä¸€è‡´ï¼Œæ‰€ä»¥åœ¨ server ç‰ˆä¸­æˆ‘ä»¬æœ€å¥½ä¹ŸåŒæ—¶ä¿®æ”¹è¿™ä¸¤ä¸ªæ–‡ä»¶å¹¶ä¿æŒå…¶å†…å®¹ä¸€è‡´ã€‚\nunattended-upgrades Ubuntu å®é™…ä¸Šæ˜¯é€šè¿‡ unattended-upgrades å‘½ä»¤æ¥è‡ªåŠ¨å®‰è£…æ›´æ–°çš„ã€‚Ubuntu 16.04/18.04 é»˜è®¤å®‰è£…äº†è¿™ä¸ªåŒ…ï¼Œå¦‚æœç¢°åˆ°æ²¡æœ‰å®‰è£…çš„æƒ…å†µä½ è¿˜å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤è‡ªè¡Œå®‰è£…ï¼š\n$ sudo apt install unattended-upgrades unattended-upgrades çš„é…ç½®æ–‡ä»¶ä¸º /etc/apt/apt.conf.d/50unattended-upgradesã€‚\næ³¨æ„ï¼Œunattended-upgrades ä¸ä»…èƒ½å¤Ÿå®‰è£…ç³»ç»Ÿçš„å®‰å…¨æ›´æ–°ï¼Œè¿˜å¯ä»¥å®‰è£…æ‰€æœ‰åŒ…çš„æ›´æ–°ã€‚ä½†æ˜¯é»˜è®¤çš„é…ç½®åªå®‰è£…å®‰å…¨æ›´æ–°ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡é…ç½®é¡¹è®© unattended-upgrades å®‰è£…æ‰€æœ‰çš„åŒ…æ›´æ–°æˆ–è€…åªå®‰è£…å®‰å…¨æ›´æ–°ã€‚\nunattended-upgrades å‘½ä»¤è¢«è®¾è®¡ä¸ºé€šè¿‡ cron å®šæ—¶æ‰§è¡Œç³»ç»Ÿæ›´æ–°ï¼Œä½†åœ¨ Ubuntu 16.04/18.04 ä¸­æ˜¯é€šè¿‡ systemd çš„ timer unit å®šæ—¶è§¦å‘ service unit æ‰§è¡Œçš„ã€‚\nunattended-upgrades å‘½ä»¤çš„æ—¥å¿—æ–‡ä»¶å­˜æ”¾åœ¨ /var/log/unattended-upgrades ç›®å½•ä¸‹ã€‚\nunattended-upgrade å‘½ä»¤å¸¸è§çš„ç”¨æ³•ä¹‹ä¸€æ˜¯æ£€æŸ¥ç³»ç»Ÿæ˜¯å¦æœ‰æ›´æ–°ï¼š\n$ sudo unattended-upgrade --dry-run å¦ä¸€ç§ç”¨æ³•æ˜¯å®‰è£…æ›´æ–°ï¼š\n$ sudo unattended-upgrade åœ¨ apt.systemd.daily è„šæœ¬ä¸­æ‰§è¡Œ unattended-upgrade å‘½ä»¤æ—¶ï¼Œç”±äºæ›´æ–°åŒ…å·²ç»æå‰ä¸‹è½½åˆ°ç¼“å­˜ç›®å½•äº†(/var/cache/apt/archives)ï¼Œæ‰€ä»¥ç›´æ¥å®ƒç›´æ¥ä½¿ç”¨ç¼“å­˜ä¸­çš„æ›´æ–°åŒ…ã€‚\né…ç½®æ–‡ä»¶ 50unattended-upgrades\n50unattended-upgrades æ–‡ä»¶ä¸­çš„é»˜è®¤é…ç½®åªæ˜¯å®‰è£…å®‰å…¨æ›´æ–°ï¼š\nUnattended-Upgrade::Allowed-Origins { \u0026#34;${distro_id}:${distro_codename}\u0026#34;; \u0026#34;${distro_id}:${distro_codename}-security\u0026#34;; \u0026#34;${distro_id}ESM:${distro_codename}\u0026#34;; // \u0026#34;${distro_id}:${distro_codename}-updates\u0026#34;; // \u0026#34;${distro_id}:${distro_codename}-proposed\u0026#34;; // \u0026#34;${distro_id}:${distro_codename}-backports\u0026#34;; }; å¦‚æœè¦è‡ªåŠ¨å®‰è£…æ‰€æœ‰åŒ…çš„æ›´æ–°ï¼Œåªè¦å–æ¶ˆä¸‹é¢è¡Œçš„æ³¨é‡Šå°±è¡Œäº†ï¼š\n\u0026#34;${distro_id}:${distro_codename}-updates\u0026#34;; æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡é»‘åå•çš„æ–¹å¼æŒ‡å®šä¸æ›´æ–°å“ªäº›åŒ…ï¼š\nUnattended-Upgrade::Package-Blacklist { \u0026#34;vim\u0026#34;; \u0026#34;libc6\u0026#34;; \u0026#34;libc6-dev\u0026#34;; \u0026#34;libc6-i686\u0026#34;; }; ä¸‹é¢çš„é…ç½®é¡¹æŒ‡å®šåœ¨æ›´æ–°åç§»é™¤æ— ç”¨çš„åŒ…ï¼š\nUnattended-Upgrade::Remove-Unused-Kernel-Packages \u0026#34;true\u0026#34;; Unattended-Upgrade::Remove-Unused-Dependencies \u0026#34;true\u0026#34;; æœ‰äº›æ›´æ–°éœ€è¦é‡å¯ç³»ç»Ÿï¼Œè€Œé»˜è®¤çš„é…ç½®æ˜¯ä¸é‡å¯ç³»ç»Ÿçš„ã€‚ä¸‹é¢çš„é…ç½®å…è®¸é‡å¯ç³»ç»Ÿ(æ›´æ–°å®Œæˆåï¼Œå¦‚æœéœ€è¦é‡å¯ï¼Œç«‹å³é‡å¯ç³»ç»Ÿ)ï¼š\nUnattended-Upgrade::Automatic-Reboot \u0026#34;true\u0026#34;; ä½†æ˜¯å¤šæ•°æƒ…å†µä¸‹æˆ‘ä»¬æ›´æœŸæœ›æŒ‡å®šä¸€ä¸ªæ—¶é—´è®©ç³»ç»Ÿé‡å¯(å¦‚æœéœ€è¦é‡å¯ï¼Œåœ¨ä¸‹é¢é…ç½®ä¸­æŒ‡å®šçš„æ—¶é—´é‡å¯ç³»ç»Ÿ)ï¼š\nUnattended-Upgrade::Automatic-Reboot-Time \u0026#34;02:38\u0026#34;; åœ¨ç³»ç»Ÿæ›´æ–°çš„è¿‡ç¨‹ä¸­å‘ç”Ÿäº†é”™è¯¯æ€ä¹ˆåŠï¼Ÿå½“ç„¶æ˜¯é€šçŸ¥ç®¡ç†å‘˜å•¦ï¼ä¸‹é¢çš„é…ç½®åœ¨å‘ç”Ÿé”™è¯¯æ—¶ç»™ç®¡ç†å‘˜å‘é€é‚®ä»¶ï¼š\nUnattended-Upgrade::Mail \u0026#34;user@example.com\u0026#34;; Unattended-Upgrade::MailOnlyOnError \u0026#34;true\u0026#34;; æ³¨æ„ï¼šå¦‚æœè¦å‘å¤–ç½‘å‘é€é‚®ä»¶ï¼Œéœ€è¦å®‰è£… mailx ç­‰å·¥å…·ã€‚\nå…³é—­è‡ªåŠ¨æ›´æ–° å¦‚æœä½ çš„ä¸»æœºè¿è¡Œåœ¨å°é—­çš„ç¯å¢ƒä¸­ï¼Œå¹¶ä¸”æ— æ³•è¿æ¥åˆ°æœ‰æ•ˆçš„æ›´æ–°æºï¼Œæ­¤æ—¶å¯ä»¥é€‰æ‹©å…³é—­è‡ªåŠ¨æ›´æ–°åŠŸèƒ½ã€‚é¦–é€‰çš„æ–¹æ³•æ˜¯åœæ­¢ç›¸å…³çš„æœåŠ¡ï¼š\n$ sudo systemctl stop apt-daily.service $ sudo systemctl stop apt-daily.timer $ sudo systemctl stop apt-daily-upgrade.service $ sudo systemctl stop apt-daily-upgrade.timer $ sudo systemctl disable apt-daily.service $ sudo systemctl disable apt-daily.timer $ sudo systemctl disable apt-daily-upgrade.service $ sudo systemctl disable apt-daily-upgrade.timer æˆ–è€…ä¿®æ”¹è‡ªåŠ¨æ›´æ–°ç¨‹åºçš„é…ç½®æ–‡ä»¶ä¹Ÿå¯ä»¥ï¼ŒåŒæ—¶æ›´æ–° /etc/apt/apt.conf.d/10periodic å’Œ /etc/apt/apt.conf.d/20auto-upgradesï¼š\nAPT::Periodic::Update-Package-Lists \u0026#34;1\u0026#34;; APT::Periodic::Unattended-Upgrade \u0026#34;1\u0026#34;; æ”¹ä¸º\nAPT::Periodic::Update-Package-Lists \u0026#34;0\u0026#34;; APT::Periodic::Unattended-Upgrade \u0026#34;0\u0026#34;; LVM åœ¨å¯¹ç£ç›˜åˆ†åŒºçš„å¤§å°è¿›è¡Œè§„åˆ’æ—¶ï¼Œå¾€å¾€ä¸èƒ½ç¡®å®šè¿™ä¸ªåˆ†åŒºè¦ä½¿ç”¨çš„ç©ºé—´çš„å¤§å°ã€‚è€Œä½¿ç”¨ fdiskã€gdisk ç­‰å·¥å…·å¯¹ç£ç›˜åˆ†åŒºåï¼Œæ¯ä¸ªåˆ†åŒºçš„å¤§å°å°±å›ºå®šäº†ã€‚å¦‚æœåˆ†åŒºè®¾ç½®çš„è¿‡å¤§ï¼Œå°±ç™½ç™½æµªè´¹äº†ç£ç›˜ç©ºé—´ï¼›å¦‚æœåˆ†åŒºè®¾ç½®çš„è¿‡å°ï¼Œå°±ä¼šå¯¼è‡´ç©ºé—´ä¸å¤Ÿç”¨çš„æƒ…å†µå‡ºç°ã€‚å¯¹äºåˆ†åŒºè¿‡å°çš„é—®é¢˜ï¼Œå¯ä»¥ä»æ–°åˆ’åˆ†ç£ç›˜çš„åˆ†åŒºï¼Œæˆ–è€…é€šè¿‡è½¯è¿æ¥çš„æ–¹å¼å°†æ­¤åˆ†åŒºçš„ç›®å½•é“¾æ¥åˆ°å¦å¤–ä¸€ä¸ªåˆ†åŒºã€‚è¿™æ ·è™½ç„¶èƒ½å¤Ÿä¸´æ—¶è§£å†³é—®é¢˜ï¼Œä½†æ˜¯ç»™ç®¡ç†å¸¦æ¥äº†éº»çƒ¦ã€‚ç±»ä¼¼çš„é—®é¢˜å¯ä»¥é€šè¿‡ LVM æ¥è§£å†³ã€‚\nLVM æ˜¯ä»€ä¹ˆ LVM æ˜¯ Logical Volume Manager çš„ç¼©å†™ï¼Œä¸­æ–‡ä¸€èˆ¬ç¿»è¯‘ä¸º \u0026ldquo;é€»è¾‘å·ç®¡ç†\u0026rdquo;ï¼Œå®ƒæ˜¯ Linux ä¸‹å¯¹ç£ç›˜åˆ†åŒºè¿›è¡Œç®¡ç†çš„ä¸€ç§æœºåˆ¶ã€‚LVM æ˜¯å»ºç«‹åœ¨ç£ç›˜åˆ†åŒºå’Œæ–‡ä»¶ç³»ç»Ÿä¹‹é—´çš„ä¸€ä¸ªé€»è¾‘å±‚ï¼Œç³»ç»Ÿç®¡ç†å‘˜å¯ä»¥åˆ©ç”¨ LVM åœ¨ä¸é‡æ–°å¯¹ç£ç›˜åˆ†åŒºçš„æƒ…å†µä¸‹åŠ¨æ€çš„è°ƒæ•´åˆ†åŒºçš„å¤§å°ã€‚å¦‚æœç³»ç»Ÿæ–°å¢äº†ä¸€å—ç¡¬ç›˜ï¼Œé€šè¿‡ LVM å°±å¯ä»¥å°†æ–°å¢çš„ç¡¬ç›˜ç©ºé—´ç›´æ¥æ‰©å±•åˆ°åŸæ¥çš„ç£ç›˜åˆ†åŒºä¸Šã€‚\nLVM çš„ä¼˜ç‚¹å¦‚ä¸‹ï¼š\n æ–‡ä»¶ç³»ç»Ÿå¯ä»¥è·¨å¤šä¸ªç£ç›˜ï¼Œå› æ­¤å¤§å°ä¸å†å—ç‰©ç†ç£ç›˜çš„é™åˆ¶ã€‚ å¯ä»¥åœ¨ç³»ç»Ÿè¿è¡ŒçŠ¶æ€ä¸‹åŠ¨æ€åœ°æ‰©å±•æ–‡ä»¶ç³»ç»Ÿå¤§å°ã€‚ å¯ä»¥ä»¥é•œåƒçš„æ–¹å¼å†—ä½™é‡è¦æ•°æ®åˆ°å¤šä¸ªç‰©ç†ç£ç›˜ä¸Šã€‚ å¯ä»¥å¾ˆæ–¹ä¾¿åœ°å¯¼å‡ºæ•´ä¸ªå·ç»„ï¼Œå¹¶å¯¼å…¥åˆ°å¦å¤–ä¸€å°æœºå™¨ä¸Šã€‚  LVM ä¹Ÿæœ‰ä¸€äº›ç¼ºç‚¹ï¼š\n åœ¨ä»å·ç»„ä¸­ç§»é™¤ä¸€ä¸ªç£ç›˜çš„æ—¶å€™å¿…é¡»ä½¿ç”¨ reducevg å‘½ä»¤(è¿™ä¸ªå‘½ä»¤è¦æ±‚rootæƒé™ï¼Œå¹¶ä¸”ä¸å…è®¸åœ¨å¿«ç…§å·ç»„ä¸­ä½¿ç”¨)ã€‚ å½“å·ç»„ä¸­çš„ä¸€ä¸ªç£ç›˜æŸåæ—¶ï¼Œæ•´ä¸ªå·ç»„éƒ½ä¼šå—å½±å“ã€‚ å› ä¸ºå¢åŠ äº†ä¸€ä¸ªé€»è¾‘å±‚ï¼Œå­˜å‚¨çš„æ€§èƒ½ä¼šå—å½±å“ã€‚  LVM çš„ä¼˜ç‚¹å¯¹æœåŠ¡å™¨çš„ç®¡ç†éå¸¸æœ‰ç”¨ï¼Œä½†å¯¹äºæ¡Œé¢ç³»ç»Ÿçš„å¸®åŠ©åˆ™æ²¡æœ‰é‚£ä¹ˆæ˜¾è‘—ï¼Œæ‰€ä»¥éœ€è¦æˆ‘ä»¬æ ¹æ®ä½¿ç”¨çš„åœºæ™¯æ¥å†³å®šæ˜¯å¦åº”ç”¨ LVMã€‚\nLVM ä¸­çš„åŸºæœ¬æ¦‚å¿µ é€šè¿‡ LVM æŠ€æœ¯ï¼Œå¯ä»¥å±è”½æ‰ç£ç›˜åˆ†åŒºçš„åº•å±‚å·®å¼‚ï¼Œåœ¨é€»è¾‘ä¸Šç»™æ–‡ä»¶ç³»ç»Ÿæä¾›äº†ä¸€ä¸ªå·çš„æ¦‚å¿µï¼Œç„¶ååœ¨è¿™äº›å·ä¸Šå»ºç«‹ç›¸åº”çš„æ–‡ä»¶ç³»ç»Ÿã€‚ä¸‹é¢æ˜¯ LVM ä¸­ä¸»è¦æ¶‰åŠçš„ä¸€äº›æ¦‚å¿µã€‚\n **ç‰©ç†å­˜å‚¨è®¾å¤‡(Physical Media)ï¼š**æŒ‡ç³»ç»Ÿçš„å­˜å‚¨è®¾å¤‡æ–‡ä»¶ï¼Œæ¯”å¦‚ /dev/sdaã€/dev/sdb ç­‰ã€‚ **PV(ç‰©ç†å· Physical Volume)ï¼š**æŒ‡ç¡¬ç›˜åˆ†åŒºæˆ–è€…ä»é€»è¾‘ä¸Šçœ‹èµ·æ¥å’Œç¡¬ç›˜åˆ†åŒºç±»ä¼¼çš„è®¾å¤‡(æ¯”å¦‚ RAID è®¾å¤‡)ã€‚ **VG(å·ç»„ Volume Group)ï¼š**ç±»ä¼¼äºé LVM ç³»ç»Ÿä¸­çš„ç‰©ç†ç¡¬ç›˜ï¼Œä¸€ä¸ª LVM å·ç»„ç”±ä¸€ä¸ªæˆ–è€…å¤šä¸ª PV(ç‰©ç†å·)ç»„æˆã€‚ **LV(é€»è¾‘å· Logical Volume)ï¼š**ç±»ä¼¼äºé LVM ç³»ç»Ÿä¸Šçš„ç£ç›˜åˆ†åŒºï¼ŒLV å»ºç«‹åœ¨ VG ä¸Šï¼Œå¯ä»¥åœ¨ LV ä¸Šå»ºç«‹æ–‡ä»¶ç³»ç»Ÿã€‚ **PE(Physical Extent)ï¼š**PV(ç‰©ç†å·)ä¸­å¯ä»¥åˆ†é…çš„æœ€å°å­˜å‚¨å•å…ƒç§°ä¸º PEï¼ŒPE çš„å¤§å°æ˜¯å¯ä»¥æŒ‡å®šçš„ã€‚ **LE(Logical Extent)ï¼š**LV(é€»è¾‘å·)ä¸­å¯ä»¥åˆ†é…çš„æœ€å°å­˜å‚¨å•å…ƒç§°ä¸º LEï¼Œåœ¨åŒä¸€ä¸ªå·ç»„ä¸­ï¼ŒLE çš„å¤§å°å’Œ PE çš„å¤§å°æ˜¯ä¸€æ ·çš„ï¼Œå¹¶ä¸”ä¸€ä¸€å¯¹åº”ã€‚  å¯ä»¥è¿™ä¹ˆç†è§£ï¼ŒLVM æ˜¯æŠŠç¡¬ç›˜çš„åˆ†åŒºåˆ†æˆäº†æ›´å°çš„å•ä½(PE)ï¼Œå†ç”¨è¿™äº›å•å…ƒæ‹¼æˆæ›´å¤§çš„çœ‹ä¸Šå»åƒåˆ†åŒºçš„ä¸œè¥¿(PV)ï¼Œè¿›è€Œç”¨ PV æ‹¼æˆçœ‹ä¸Šå»åƒç¡¬ç›˜çš„ä¸œè¥¿(VG)ï¼Œæœ€ååœ¨è¿™ä¸ªæ–°çš„ç¡¬ç›˜ä¸Šåˆ›å»ºåˆ†åŒº(LV)ã€‚æ–‡ä»¶ç³»ç»Ÿåˆ™å»ºç«‹åœ¨ LV ä¹‹ä¸Šï¼Œè¿™æ ·å°±åœ¨ç‰©ç†ç¡¬ç›˜å’Œæ–‡ä»¶ç³»ç»Ÿä¸­é—´æ·»åŠ äº†ä¸€å±‚æŠ½è±¡(LVM)ã€‚ä¸‹å›¾å¤§è‡´æè¿°äº†è¿™äº›æ¦‚å¿µä¹‹é—´çš„å…³ç³»ï¼š\nå¯¹ä¸Šå›¾ä¸­çš„ç»“æ„åšä¸ªç®€å•çš„ä»‹ç»ï¼š\nä¸¤å—ç‰©ç†ç¡¬ç›˜ A å’Œ B ç»„æˆäº† LVM çš„åº•å±‚ç»“æ„ï¼Œè¿™ä¸¤å—ç¡¬ç›˜çš„å¤§å°ã€å‹å·å¯ä»¥ä¸åŒã€‚PV å¯ä»¥çœ‹åšæ˜¯ç¡¬ç›˜ä¸Šçš„åˆ†åŒºï¼Œå› æ­¤å¯ä»¥è¯´ç‰©ç†ç¡¬ç›˜ A åˆ’åˆ†äº†ä¸¤ä¸ªåˆ†åŒºï¼Œç‰©ç†ç¡¬ç›˜ B åˆ’åˆ†äº†ä¸‰ä¸ªåˆ†åŒºã€‚ç„¶åå°†å‰ä¸‰ä¸ª PV ç»„æˆä¸€ä¸ªå·ç»„ VG1ï¼Œåä¸¤ä¸ª PV ç»„æˆä¸€ä¸ªå·ç»„ VG2ã€‚æ¥ç€åœ¨å·ç»„ VG1 ä¸Šåˆ’åˆ†äº†ä¸¤ä¸ªé€»è¾‘å· LV1 å’Œ LV2ï¼Œåœ¨å·ç»„ VG2 ä¸Šåˆ’åˆ†äº†ä¸€ä¸ªé€»è¾‘å· LV3ã€‚æœ€åï¼Œåœ¨é€»è¾‘å· LV1ã€LV2 å’Œ LV3 ä¸Šåˆ›å»ºæ–‡ä»¶ç³»ç»Ÿï¼Œåˆ†åˆ«æŒ‚è½½åœ¨ /usrã€/home å’Œ /var ç›®å½•ã€‚\nLVM å·¥å…· åœ¨å®‰è£… Linux æ—¶ï¼Œå¦‚æœé€‰æ‹©ä½¿ç”¨ LVM åˆ›å»ºåˆ†åŒºï¼Œå°±ä¼šå®‰è£… LVM ç›¸å…³çš„å·¥å…·ã€‚å½“å‰è¿™ä¸ªè½¯ä»¶åŒ…çš„åç§°ä¸º lvm2ï¼Œå…¶ä¸­åŒ…å«äº†å¤§é‡ LVM å·¥å…·ã€‚æ¯”å¦‚å•æ˜¯æŸ¥çœ‹ LVM ç›¸å…³å®ä½“çŠ¶æ€çš„å‘½ä»¤å°±æœ‰å¦‚ä¸‹ä¸€äº›ï¼š\n$ sudo pvscan $ sudo pvs $ sudo pvdisplay $ sudo vgscan $ sudo vgs $ sudo vgdisplay $ sudo lvscan $ sudo lvs $ sudo lvdisplay å¦‚æœå®‰è£…ç³»ç»Ÿæ—¶æ²¡æœ‰é»˜è®¤å®‰è£… LVM å·¥å…·åŒ…ï¼Œå¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤å®‰è£…å®ƒä»¬ï¼š\n$ sudo apt update $ sudo apt install lvm2 æ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡ä¾‹å­æ¥æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ LVM æ¥ä¸€æ­¥æ­¥çš„åˆ›å»ºå‡ºé€»è¾‘å·(LV)ï¼Œç„¶ååœ¨ LV ä¸Šåˆ›å»ºæ–‡ä»¶ç³»ç»Ÿå¹¶æŒ‚è½½åˆ° Linux ç³»ç»Ÿä¸­ã€‚\nä½¿ç”¨ gdisk å¯¹ç‰©ç†ç£ç›˜è¿›è¡Œåˆ†åŒº ç›®å‰å¸¸è§çš„ç£ç›˜åˆ†åŒºæ ¼å¼æœ‰ä¸¤ç§ï¼ŒMBR åˆ†åŒºå’Œ GPT åˆ†åŒºã€‚\nMBR åˆ†åŒºï¼ŒMBR çš„æ„æ€æ˜¯ \u0026ldquo;ä¸»å¼•å¯¼è®°å½•\u0026rdquo;ã€‚MBR æœ€å¤§æ”¯æŒ 2TB å®¹é‡ï¼Œåœ¨å®¹é‡æ–¹é¢å­˜åœ¨ç€æå¤§çš„ç“¶é¢ˆã€‚\nGPT åˆ†åŒºï¼ŒGPT æ„ä¸º GUID åˆ†åŒºè¡¨ï¼Œå®ƒæ”¯æŒçš„ç£ç›˜å®¹é‡æ¯” MBR å¤§å¾—å¤šã€‚è¿™æ˜¯ä¸€ä¸ªæ­£é€æ¸å–ä»£ MBR çš„æ–°æ ‡å‡†ï¼Œå®ƒæ˜¯ç”± UEFI è¾…ä½è€Œå½¢æˆçš„ï¼Œå°†æ¥ UEFI ç”¨äºå–ä»£è€æ—§çš„ BIOSï¼Œè€Œ GPT åˆ™å–ä»£è€æ—§çš„ MBRã€‚\nä½¿ç”¨ fdisk å·¥å…·åˆ›å»º MBR ç£ç›˜åˆ†åŒºï¼Œè€Œ gdisk æ˜¯ Linux ç³»ç»Ÿä¸­ GPT æ ¼å¼çš„ç£ç›˜åˆ†åŒºç®¡ç†å·¥å…·ã€‚\nå‡è®¾æˆ‘ä»¬çš„ Linux ç³»ç»Ÿä¸­å¢åŠ äº†ä¸€å—æ–°çš„ç£ç›˜ï¼Œç³»ç»Ÿå¯¹åº”çš„è®¾å¤‡åä¸º /dev/sdbï¼Œä¸‹é¢æˆ‘ä»¬é€šè¿‡ gdisk å‘½ä»¤å¯¹è¿™ä¸ªç£ç›˜è¿›è¡Œåˆ†åŒºã€‚\nåœ¨ç”¨ gdisk å‘½ä»¤å¯¹ç£ç›˜åˆ†åŒºå‰ï¼Œæˆ‘ä»¬å…ˆç”¨ parted å‘½ä»¤æŸ¥çœ‹ /dev/sdb å½“å‰çš„åˆ†åŒºæƒ…å†µï¼š\n$ sudo parted /dev/sdb print ä¸‹é¢é€šè¿‡ gdisk å‘½ä»¤åˆ›å»ºåˆ†åŒºï¼š\n$ sudo gdisk /dev/sdb é€šè¿‡ p å‘½ä»¤å¯ä»¥æŸ¥çœ‹ç£ç›˜å½“å‰çš„çŠ¶æ€ï¼šè¾“å‡ºä¸­çš„å‰å‡ è¡Œæ˜¯ç£ç›˜çš„åŸºæœ¬ä¿¡æ¯ï¼Œæ¯”å¦‚æ€»å¤§å°ï¼Œä¸€å…±æœ‰å¤šå°‘ä¸ªæ‰‡åŒº(sector)ï¼Œæ¯ä¸ªæ‰‡åŒºçš„å¤§å°ï¼Œå½“å‰å‰©ä½™çš„ç©ºé—´ç­‰ç­‰ã€‚\nç„¶åæ˜¯å·²ç»å­˜åœ¨çš„åˆ†åŒºä¿¡æ¯ï¼š\n ç¬¬ä¸€åˆ— Number æ˜¾ç¤ºäº†åˆ†åŒºçš„ç¼–å·ï¼Œæ¯”å¦‚ 1 å·æŒ‡ /dev/sdb1ã€‚ ç¬¬äºŒåˆ— Start è¡¨ç¤ºç£ç›˜åˆ†åŒºçš„èµ·å§‹ä½ç½®ã€‚ ç¬¬ä¸‰åˆ— End è¡¨ç¤ºç£ç›˜åˆ†åŒºçš„ç»“æŸä½ç½®ã€‚ ç¬¬å››åˆ— Size æ˜¾ç¤ºåˆ†åŒºçš„å®¹é‡ã€‚ ç¬¬äº”åˆ— Code å’Œç¬¬å…­åˆ— Name æ˜¾ç¤ºåˆ†åŒºç±»å‹çš„ IDå’Œåç§°ï¼Œæ¯”å¦‚ Linux filesystem ä¸º 8300ï¼ŒLinux swap ä¸º 8200ï¼ŒLinux LVM ä¸º 8e00ã€‚  é€šè¿‡ n å‘½ä»¤æ¥åˆ›å»ºæ–°åˆ†åŒºï¼š\nåˆ†åŒºç¼–å·å’Œå¼€å§‹/ç»“æŸçš„æ‰‡åŒºéƒ½ç›´æ¥é€šè¿‡å›è½¦é€‰æ‹©é»˜è®¤å€¼ï¼Œè¿™æ ·æ‰€æœ‰çš„ç£ç›˜ç©ºé—´éƒ½åˆ’åˆ†åˆ°äº†ä¸€ä¸ªåˆ†åŒºä¸­ï¼Œç„¶åè¾“å…¥ 8e00 è¯´æ˜æˆ‘ä»¬è¦åˆ›å»ºçš„åˆ†åŒºç±»å‹ä¸º Linux LVMã€‚æœ€åè¾“å…¥ w å‘½ä»¤å¹¶ç¡®è®¤æ‰§è¡Œåˆ†åŒºæ“ä½œã€‚åˆ†åŒºæˆåŠŸåå¯é€šè¿‡ p å‘½ä»¤æŸ¥çœ‹æˆ‘ä»¬åˆ›å»ºçš„åˆ†åŒºçš„ä¿¡æ¯ã€‚\nåˆ›å»ºç‰©ç†å· PV # pvcreate DEVICE ç°åœ¨æˆ‘ä»¬å¯ä»¥åŸºäºç£ç›˜åˆ†åŒº /dev/sdb1 æ¥åˆ›å»º LVM ç‰©ç†å·(LV)ï¼Œå¯ä»¥é€šè¿‡ pvcreate å‘½ä»¤æ¥å®Œæˆï¼š\n$ sudo pvcreate /dev/sdb1 æ­¤æ—¶ /dev/sdb1 å·²ç»å®Œæˆäº†ä»ç£ç›˜åˆ†åŒºåˆ° PV çš„åä¸½è½¬èº«ï¼æ³¨æ„ä¸Šé¢çš„å‘½ä»¤ï¼Œç£ç›˜åˆ†åŒºè¢«ç›´æ¥è½¬æ¢æˆäº† PVï¼Œè¿åç§°éƒ½æ²¡æœ‰å˜åŒ–ï¼æˆ‘ä»¬å¯ä»¥é€šè¿‡ pvs å‘½ä»¤æŸ¥çœ‹ /dev/sdb1ï¼Œç›®å‰å®ƒè¿˜æ²¡æœ‰è¢«åŠ å…¥åˆ° VG ä¸­ã€‚\nåˆ›å»ºå·ç»„ VG # vgcreate \u0026lt;volume_group\u0026gt; \u0026lt;physical_volume1\u0026gt; \u0026lt;physical_volume2\u0026gt; ... åŸºäºä¸€ä¸ªæˆ–å¤šä¸ª PVï¼Œå¯ä»¥åˆ›å»º VGã€‚æˆ‘ä»¬ä½¿ç”¨åˆšæ‰åˆ›å»ºçš„ PV /dev/sdb1 æ¥åˆ›å»ºä¸€ä¸ªåç§°ä¸º nickvg çš„ VGï¼š\n$ sudo vgcreate -s 32G nickvg /dev/sdb1 æ³¨æ„ vgcreate å‘½ä»¤ä¸­çš„ -s é€‰é¡¹ï¼Œå®ƒæŒ‡å®šäº† PE(Physical Extent) çš„å¤§å°ã€‚å¯ä»¥é€š vgs å‘½ä»¤è§‚å¯Ÿ VG çš„ä¿¡æ¯ï¼š\n$ sudo vgs nickvg å¦‚æœç›®æ ‡ VG å·²ç»å­˜åœ¨ï¼Œåˆ™ä½¿ç”¨ vgextend æŠŠ PV åŠ å…¥åˆ° VG ä¸­å³å¯ã€‚\n# vgextend \u0026lt;å·ç»„å\u0026gt; \u0026lt;ç‰©ç†å·\u0026gt; åˆ›å»ºé€»è¾‘å· LV # lvcreate -L \u0026lt;å·å¤§å°\u0026gt; \u0026lt;å·ç»„å\u0026gt; -n \u0026lt;å·å\u0026gt; æœ‰äº† VG å°±å¯ä»¥åˆ›å»ºé€»è¾‘å· LV äº†ï¼Œlvcreate å‘½ä»¤ç”¨æ¥åˆ›å»º LVï¼Œè®©æˆ‘ä»¬åœ¨å‰é¢åˆ›å»ºçš„ nickvg ä¸Šåˆ›å»ºåç§°ä¸º nicklv00 çš„ LVï¼š\n$ sudo lvcreate -L 15G -n nicklv00 nickvg é€‰é¡¹ -L æŒ‡å®šæ–°å»º LV çš„å®¹é‡ï¼Œè¿™é‡Œæ˜¯ 15Gï¼›é€‰é¡¹ -n åˆ™æŒ‡å®šæ–°å»º LV çš„åç§°ï¼Œè¿™é‡Œä¸º nicklv00ã€‚å¯ä»¥é€šè¿‡ lvs å‘½ä»¤è§‚å¯Ÿ LV çš„ä¿¡æ¯ï¼Œæ³¨æ„éœ€è¦åŒæ—¶æŒ‡å‡º LV æ‰€åœ¨çš„ VGï¼š\n$ sudo lvs nickvg/nicklv00 å¦‚æœä½ æƒ³è®©è¦åˆ›å»ºçš„é€»è¾‘å·æ‹¥æœ‰å·ç»„ï¼ˆVGï¼‰çš„æ‰€æœ‰æœªä½¿ç”¨ç©ºé—´ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\n# lvcreate -l +100%FREE \u0026lt;volume_group\u0026gt; -n \u0026lt;logical_volume\u0026gt; æ ¼å¼åŒ–é€»è¾‘å·(åˆ›å»ºæ–‡ä»¶ç³»ç»Ÿ) # mkfs.\u0026lt;ç±»å‹\u0026gt; /dev/mapper/\u0026lt;å·ç»„å\u0026gt;-\u0026lt;å·å\u0026gt; # mount /dev/mapper/\u0026lt;å·ç»„å\u0026gt;-\u0026lt;å·å\u0026gt; \u0026lt;æŒ‚è½½ç‚¹\u0026gt; å½“æˆ‘ä»¬åˆ›å»º LV nickvg/nicklv00 æ—¶ï¼Œå…¶å®æ˜¯åˆ›å»ºäº†åç§°ä¸º /dev/nickvg/nicklv00 çš„è®¾å¤‡æ–‡ä»¶ã€‚\nç°åœ¨ä½ çš„é€»è¾‘å·åº”è¯¥å·²ç»åœ¨/dev/mapper/å’Œ/dev/YourVolumeGroupNameä¸­äº†ã€‚\nç°åœ¨æˆ‘ä»¬æ¥æ ¼å¼åŒ–è¿™ä¸ªé€»è¾‘å·(åœ¨è¯¥ LV ä¸Šåˆ›å»ºæ–‡ä»¶ç³»ç»Ÿ)ï¼Œç›®æ ‡ä¸ºæ¯”è¾ƒå¸¸è§çš„ ext4 æ ¼å¼ï¼š\n$ sudo mkfs.ext4 /dev/nickvg/nicklv00 ç„¶ååˆ›å»ºä¸ªç›®å½•ï¼Œæ¯”å¦‚ /home/docï¼Œå¹¶æŠŠæ–°å»ºçš„æ–‡ä»¶ç³»ç»ŸæŒ‚è½½åˆ°è¿™ä¸ªç›®å½•ä¸Šï¼š\n$ sudo mkdir /home/doc $ sudo mount /dev/nickvg/nicklv00 /home/doc æœ€åå¯ä»¥é€šè¿‡ df å‘½ä»¤æŸ¥çœ‹è¿™ä¸ªæ–‡ä»¶ç³»ç»Ÿçš„ä½¿ç”¨æƒ…å†µã€‚\nå¼€æœºè‡ªåŠ¨æŒ‚è½½ ç¼–è¾‘ /etc/fstab æ–‡ä»¶ï¼š\n$ sudo vim /etc/fstab æŠŠä¸‹é¢çš„è¡Œæ·»åŠ çš„æ–‡ä»¶æœ«å°¾å¹¶ä¿å­˜æ–‡ä»¶ï¼š\n/dev/mapper/nickvg-nicklv00 /home/doc ext4 defaults 0 2 è°ƒæ•´é€»è¾‘å· åŒæ—¶ç¼©å°é€»è¾‘å·å’Œå…¶æ–‡ä»¶ç³»ç»Ÿ\n æ³¨æ„ï¼š åªæœ‰ext2ï¼Œext3ï¼Œext4ï¼ŒReiserFSå’Œ XFS æ–‡ä»¶ç³»ç»Ÿæ”¯æŒä»¥ä¸‹æ“ä½œã€‚\n å°†MyVolGroupç»„ä¸­çš„é€»è¾‘å·mediavolæ‰©å¤§10GiBï¼Œå¹¶åŒæ—¶æ‰©å¤§å…¶æ–‡ä»¶ç³»ç»Ÿï¼š\n# lvresize -L +10G --resizefs MyVolGroup/mediavol å°†MyVolGroupç»„ä¸­çš„é€»è¾‘å·mediavolå¤§å°è°ƒæ•´ä¸º15GiBï¼Œå¹¶åŒæ—¶è°ƒæ•´å…¶æ–‡ä»¶ç³»ç»Ÿï¼š\n# lvresize -L 15G --resizefs MyVolGroup/mediavol å°†å·ç»„ä¸­çš„æ‰€æœ‰å‰©ä½™ç©ºé—´åˆ†é…ç»™mediavolï¼š\n# lvresize -l +100%FREE --resizefs MyVolGroup/mediavol é‡å‘½åå· é‡å‘½åå·ç»„\nè¦é‡å‘½åä¸€ä¸ªå·ç»„ï¼Œè¯·ä½¿ç”¨vgrename(8)å‘½ä»¤ã€‚\nå¯ä½¿ç”¨ä¸‹é¢çš„ä»»æ„ä¸€æ¡å‘½ä»¤å°†å·ç»„vg02é‡å‘½åä¸ºmy_volume_group\n# vgrename /dev/vg02 /dev/my_volume_group # vgrename vg02 my_volume_group é‡å‘½åé€»è¾‘å·\nè¦é‡å‘½åä¸€ä¸ªé€»è¾‘å·ï¼Œè¯·ä½¿ç”¨lvrename(8)å‘½ä»¤ã€‚\nå¯ä½¿ç”¨ä¸‹é¢çš„ä»»æ„ä¸€æ¡å‘½ä»¤å°†vg02ç»„ä¸­çš„é€»è¾‘å·lvoldé‡å‘½åä¸ºlvnew.\n# lvrename /dev/vg02/lvold /dev/vg02/lvnew # lvrename vg02 lvold lvnew ç§»é™¤é€»è¾‘å· è­¦å‘Šï¼š åœ¨ç§»é™¤é€»è¾‘å·ä¹‹å‰ï¼Œè¯·å…ˆå¤‡ä»½å¥½æ•°æ®ä»¥å…ä¸¢å¤±ï¼\né¦–å…ˆï¼Œæ‰¾åˆ°ä½ æ‰€è¦ç§»é™¤çš„é€»è¾‘å·çš„åç§°ã€‚ä½ å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æŸ¥çœ‹ç³»ç»Ÿçš„æ‰€æœ‰é€»è¾‘å·ï¼š\n# lvs æ¥ä¸‹æ¥ï¼Œæ‰¾åˆ°ä½ æ‰€è¦ç§»é™¤çš„é€»è¾‘å·çš„æŒ‚è½½ç‚¹\n$ lsblk å¹¶å¸è½½å®ƒï¼š\n# umount /\u0026lt;mountpoint\u0026gt; æœ€åï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥ç§»é™¤é€»è¾‘å·ï¼š\n# lvremove \u0026lt;volume_group\u0026gt;/\u0026lt;logical_volume\u0026gt; ä¾‹å¦‚ï¼š\n# lvremove VolGroup00/lvolhome è¯·è¾“å…¥yæ¥ç¡®å®šä½ è¦æ‰§è¡Œç§»é™¤é€»è¾‘å·æ“ä½œã€‚\næ­¤å¤–ï¼Œè¯·ä¸è¦å¿˜äº†æ›´æ–°/etc/fstabã€‚\nä½ å¯ä»¥å†æ¬¡ä½¿ç”¨lvså‘½ä»¤æ¥ç¡®è®¤ä½ çš„é€»è¾‘å·å·²è¢«ç§»é™¤ã€‚\nLVM å¿«ç…§ LVM æœºåˆ¶è¿˜æä¾›äº†å¯¹ LV åšå¿«ç…§çš„åŠŸèƒ½ï¼Œä¹Ÿå°±æ˜¯è¯´å¯ä»¥ç»™æ–‡ä»¶ç³»ç»Ÿåšä¸€ä¸ªå¤‡ä»½ï¼Œè¿™ä¹Ÿæ˜¯è®¾è®¡ LVM å¿«ç…§çš„ä¸»è¦ç›®çš„ã€‚LVM çš„å¿«ç…§åŠŸèƒ½é‡‡ç”¨å†™æ—¶å¤åˆ¶æŠ€æœ¯(Copy-On-Writeï¼ŒCOW)ï¼Œè¿™æ¯”ä¼ ç»Ÿçš„å¤‡ä»½æŠ€æœ¯çš„æ•ˆç‡è¦é«˜å¾ˆå¤šã€‚åˆ›å»ºå¿«ç…§æ—¶ä¸ç”¨åœæ­¢æœåŠ¡ï¼Œå°±å¯ä»¥å¯¹æ•°æ®è¿›è¡Œå¤‡ä»½ã€‚è¯´æ˜ï¼šLVM è¿˜æ”¯æŒ thin ç±»å‹çš„å¿«ç…§ï¼Œä½†æ˜¯æœ¬æ–‡ä¸­çš„å¿«ç…§éƒ½æ˜¯æŒ‡ COW ç±»å‹çš„å¿«ç…§ã€‚\nLVM é‡‡ç”¨çš„å†™æ—¶å¤åˆ¶ï¼Œæ˜¯æŒ‡å½“ LVM å¿«ç…§åˆ›å»ºçš„æ—¶å€™ï¼Œä»…åˆ›å»ºåˆ°å®é™…æ•°æ®çš„ inode çš„ç¡¬é“¾æ¥(hark-link)è€Œå·²ã€‚åªè¦å®é™…çš„æ•°æ®æ²¡æœ‰æ”¹å˜ï¼Œå¿«ç…§å°±åªåŒ…å«æŒ‡å‘æ•°æ®çš„ inode çš„æŒ‡é’ˆï¼Œè€Œéæ•°æ®æœ¬èº«ã€‚å¿«ç…§ä¼šè·Ÿè¸ªåŸå§‹å·ä¸­å—çš„æ”¹å˜ï¼Œä¸€æ—¦ä½ æ›´æ”¹äº†å¿«ç…§å¯¹åº”çš„æ–‡ä»¶æˆ–ç›®å½•ï¼Œè¿™ä¸ªæ—¶å€™åŸå§‹å·ä¸Šå°†è¦æ”¹å˜çš„æ•°æ®ä¼šåœ¨æ”¹å˜ä¹‹å‰æ‹·è´åˆ°å¿«ç…§é¢„ç•™çš„ç©ºé—´ã€‚\nLVM å¿«ç…§çš„åŸç†\nåˆ›å»ºå¿«ç…§å®é™…ä¸Šä¹Ÿæ˜¯åˆ›å»ºäº†ä¸€ä¸ªé€»è¾‘å·ï¼Œåªä¸è¿‡è¯¥å·çš„å±æ€§ä¸æ™®é€šé€»è¾‘å·çš„å±æ€§æœ‰äº›ä¸ä¸€æ ·ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹å›¾æ¥ç†è§£å¿«ç…§æ•°æ®å·(å›¾ä¸­çš„å®çº¿æ¡†è¡¨ç¤ºå¿«ç…§åŒºåŸŸï¼Œè™šçº¿æ¡†è¡¨ç¤ºæ–‡ä»¶ç³»ç»Ÿ)ï¼š\nå·¦å›¾ä¸ºæœ€åˆåˆ›å»ºçš„å¿«ç…§æ•°æ®å·çŠ¶å†µï¼ŒLVM ä¼šé¢„ç•™ä¸€ä¸ªåŒºåŸŸ (æ¯”å¦‚å·¦å›¾çš„å·¦ä¾§ä¸‰ä¸ª PE åŒºå—) ä½œä¸ºæ•°æ®å­˜æ”¾å¤„ã€‚ æ­¤æ—¶å¿«ç…§æ•°æ®å·å†…å¹¶æ²¡æœ‰ä»»ä½•æ•°æ®ï¼Œè€Œå¿«ç…§æ•°æ®å·ä¸æºæ•°æ®å·å…±äº«æ‰€æœ‰çš„ PE æ•°æ®ï¼Œ å› æ­¤ä½ ä¼šçœ‹åˆ°å¿«ç…§æ•°æ®å·çš„å†…å®¹ä¸æºæ•°æ®å·ä¸­çš„å†…å®¹æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚ ç­‰åˆ°ç³»ç»Ÿè¿è¡Œä¸€é˜µå­åï¼Œå‡è®¾ A åŒºåŸŸçš„æ•°æ®è¢«æ›´æ–°äº†(ä¸Šé¢å³å›¾æ‰€ç¤º)ï¼Œåˆ™æ›´æ–°å‰ç³»ç»Ÿä¼šå°†è¯¥åŒºåŸŸçš„æ•°æ®ç§»åŠ¨åˆ°å¿«ç…§æ•°æ®å·ä¸­ï¼Œ æ‰€ä»¥åœ¨å³å›¾çš„å¿«ç…§æ•°æ®å·ä¸­è¢«å ç”¨äº†ä¸€å— PE æˆä¸º Aï¼Œè€Œå…¶ä»– B åˆ° I çš„åŒºå—åˆ™è¿˜æ˜¯ä¸æºæ•°æ®å·å…±äº«ï¼\nç”±æ–¼å¿«ç…§åŒºä¸åŸæœ¬çš„ LV å…±äº«å¾ˆå¤š PE åŒºå—ï¼Œå› æ­¤å¿«ç…§åŒºä¸è¢«å¿«ç…§çš„ LV å¿…é¡»è¦åœ¨åŒä¸€ä¸ª VG ä¸Šå¤´ï¼Œä¸‹é¢ä¸¤ç‚¹éå¸¸é‡è¦ï¼š\n VGä¸­éœ€è¦é¢„ç•™å­˜æ”¾å¿«ç…§æœ¬èº«çš„ç©ºé—´ï¼Œä¸èƒ½å…¨éƒ¨è¢«å æ»¡ã€‚ å¿«ç…§æ‰€åœ¨çš„ VG å¿…é¡»ä¸è¢«å¤‡ä»½çš„ LV çš„ VG ç›¸åŒï¼Œå¦åˆ™åˆ›å»ºå¿«ç…§ä¼šå¤±è´¥ã€‚  åˆ›å»º LVM å¿«ç…§\nå…¶å®å¿«ç…§å°±æ˜¯ä¸€ä¸ªç‰¹æ®Šç±»å‹çš„æ•°æ®å·ï¼Œæ‰€ä»¥åˆ›å»ºå¿«ç…§çš„å‘½ä»¤å’Œåˆ›å»ºæ•°æ®å·çš„å‘½ä»¤ç›¸åŒï¼Œä¹Ÿæ˜¯ lvcreateï¼š\n# lvcreate --size 100M --snapshot --name snap01 /dev/vg0/lv æ­¤æ—¶å¦‚æœæŠŠ LV snap01 æŒ‚è½½åˆ°ç³»ç»Ÿä¸­ï¼Œé‡Œé¢çš„å†…å®¹å’Œ LV /dev/vg0/lv ä¸­çš„å†…å®¹æ˜¯ä¸€æ ·çš„ã€‚\nåˆ›å»ºçš„å¿«ç…§çš„å¤§å°å¯ä»¥æ¯”æºæ•°æ®å·å°ï¼Œä½†æ˜¯å½“æºæ•°æ®å·ä¸­çš„æ•°æ®æ›´æ–°è¿‡å¤šæ—¶ä¼šå¯¼è‡´å¿«ç…§å®¹é‡ä¸è¶³è€Œå¼•èµ·çš„é”™è¯¯å¹¶ä¸¢å¤±æ•°æ®ã€‚å¦‚ä¸Šä½ å¯ä»¥ä¿®æ”¹å°‘äº100Mçš„æ•°æ®ï¼Œç›´åˆ°è¯¥å¿«ç…§é€»è¾‘å·ç©ºé—´ä¸è¶³ä¸ºæ­¢ã€‚\nåˆ›å»ºå¿«ç…§åï¼Œå¦‚æœæºæ•°æ®å·ä¸­çš„æ–‡ä»¶è¢«æ›´æ–°äº†ï¼Œå¿«ç…§ç³»ç»Ÿä¸­åˆ™ä¿å­˜ç€å…¶åˆ›å»ºå¿«ç…§æ—¶çš„ç‰ˆæœ¬ã€‚\nè¿˜åŸéƒ¨åˆ†æ•°æ®\nå¦‚æœæˆ‘ä»¬æ˜ç¡®çš„çŸ¥é“éœ€è¦è¿˜åŸæŸä¸ªæ–‡ä»¶ï¼Œå¯ä»¥æŒ‚è½½å¿«ç…§æ•°æ®å·ï¼Œç›´æ¥æ‹·è´å…¶ä¸­æ—§ç‰ˆæœ¬çš„æ–‡ä»¶å³å¯ã€‚\nåˆå¹¶å¿«ç…§(merge snapshot)\nè¦å°†é€»è¾‘å·å·\u0026rsquo;lv\u0026rsquo; æ¢å¤åˆ°åˆ›å»ºå¿«ç…§\u0026rsquo;snap01\u0026rsquo;æ—¶çš„çŠ¶æ€ï¼Œå³è¿˜åŸæ•´ä¸ªæ•°æ®å·ä¸Šçš„æ•°æ®ï¼Œè¯·ä½¿ç”¨ï¼š\n# lvconvert --merge /dev/vg0/snap01 å¦‚æœé€»è¾‘å·å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œåˆ™åœ¨ä¸‹æ¬¡é‡æ–°å¯åŠ¨æ—¶å°†è¿›è¡Œåˆå¹¶ï¼ˆmergingï¼‰(åˆå¹¶ï¼ˆmergingï¼‰ç”šè‡³å¯åœ¨LiveCDä¸­è¿›è¡Œ)ã€‚\næ³¨æ„ï¼š åˆå¹¶åå¿«ç…§å°†è¢«åˆ é™¤ã€‚\nå¯ä»¥æ‹æ‘„å¤šä¸ªå¿«ç…§ï¼Œæ¯ä¸ªå¿«ç…§éƒ½å¯ä»¥ä»»æ„ä¸å¯¹åº”çš„é€»è¾‘å·åˆå¹¶ã€‚\nå¿«ç…§å¯ä»¥è¢«æŒ‚è½½ï¼Œå¹¶å¯ç”¨ddæˆ–è€…tarå¤‡ä»½ã€‚ä½¿ç”¨ddå¤‡ä»½çš„å¿«ç…§çš„å¤§å°ä¸ºæ‹æ‘„å¿«ç…§åå¯¹åº”é€»è¾‘å·ä¸­å˜æ›´è¿‡æ–‡ä»¶çš„å¤§å°ã€‚ è¦ä½¿ç”¨å¤‡ä»½ï¼Œåªéœ€åˆ›å»ºå¹¶æŒ‚è½½ä¸€ä¸ªå¿«ç…§ï¼Œå¹¶å°†å¤‡ä»½å†™å…¥æˆ–è§£å‹åˆ°å…¶ä¸­ã€‚å†å°†å¿«ç…§åˆå¹¶åˆ°å¯¹åº”é€»è¾‘å·å³å¯ã€‚\nå¿«ç…§ä¸»è¦ç”¨äºæä¾›ä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿçš„æ‹·è´ï¼Œä»¥ç”¨æ¥å¤‡ä»½; æ¯”èµ·ç›´æ¥å¤‡ä»½åˆ†åŒºï¼Œä½¿ç”¨å¿«ç…§å¤‡ä»½å¯ä»¥æä¾›ä¸€ä¸ªæ›´ç¬¦åˆåŸæ–‡ä»¶ç³»ç»Ÿçš„é•œåƒã€‚\nZFS å†å² ZFS æ˜¯ç”± Matthew Ahrens å’Œ Jeff Bonwick åœ¨ 2001 å¹´å¼€å‘çš„ã€‚ZFS æ˜¯ä½œä¸º Sun MicroSystem å…¬å¸çš„ OpenSolaris çš„ä¸‹ä¸€ä»£æ–‡ä»¶ç³»ç»Ÿè€Œè®¾è®¡çš„ã€‚åœ¨ 2008 å¹´ï¼ŒZFS è¢«ç§»æ¤åˆ°äº† FreeBSD ã€‚åŒä¸€å¹´ï¼Œä¸€ä¸ªç§»æ¤ ZFS on Linux çš„é¡¹ç›®ä¹Ÿå¯åŠ¨äº†ã€‚ç„¶è€Œï¼Œç”±äº ZFS æ˜¯CDDL è®¸å¯çš„ï¼Œå®ƒå’Œ GPL ä¸å…¼å®¹ï¼Œå› æ­¤ä¸èƒ½å°†å®ƒè¿ç§»åˆ° Linux å†…æ ¸ä¸­ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œç»å¤§å¤šæ•° Linux å‘è¡Œç‰ˆæä¾›äº†ä¸€äº›æ–¹æ³•æ¥å®‰è£… ZFSã€€ã€‚\nåœ¨ç”²éª¨æ–‡å…¬å¸æ”¶è´­å¤ªé˜³å¾®ç³»ç»Ÿå…¬å¸ä¹‹åä¸ä¹…ï¼ŒOpenSolaris å°±é—­æºäº†ï¼Œè¿™ä½¿å¾— ZFS çš„ä¹‹åçš„å¼€å‘ä¹Ÿå˜æˆé—­æºçš„äº†ã€‚è®¸å¤š ZFS å¼€å‘è€…å¯¹è¿™ä»¶äº‹æƒ…éå¸¸ä¸æ»¡ã€‚ä¸‰åˆ†ä¹‹äºŒçš„ ZFS æ ¸å¿ƒå¼€å‘è€…ï¼ŒåŒ…æ‹¬ Ahrens å’Œ Bonwickï¼Œå› ä¸ºè¿™ä¸ªå†³å®šè€Œç¦»å¼€äº†ç”²éª¨æ–‡å…¬å¸ã€‚ä»–ä»¬åŠ å…¥äº†å…¶å®ƒå…¬å¸ï¼Œå¹¶äº 2013 å¹´ 9 æœˆåˆ›ç«‹äº† OpenZFS è¿™ä¸€é¡¹ç›®ã€‚è¯¥é¡¹ç›®å¼•é¢†ç€ ZFS çš„å¼€æºå¼€å‘ã€‚\nè®©æˆ‘ä»¬å›åˆ°ä¸Šé¢æåˆ°çš„è®¸å¯è¯é—®é¢˜ä¸Šã€‚æ—¢ç„¶ OpenZFS é¡¹ç›®å·²ç»å’Œ Oracle å…¬å¸åˆ†ç¦»å¼€äº†ï¼Œæœ‰äººå¯èƒ½å¥½å¥‡ä»–ä»¬ä¸ºä»€ä¹ˆä¸ä½¿ç”¨å’Œ GPL å…¼å®¹çš„è®¸å¯è¯ï¼Œè¿™æ ·å°±å¯ä»¥æŠŠå®ƒåŠ å…¥åˆ° Linux å†…æ ¸ä¸­äº†ã€‚æ ¹æ® OpenZFS å®˜ç½‘ çš„ä»‹ç»ï¼Œæ›´æ”¹è®¸å¯è¯éœ€è¦è”ç³»æ‰€æœ‰ä¸ºå½“å‰ OpenZFS å®ç°è´¡çŒ®è¿‡ä»£ç çš„äººï¼ˆåŒ…æ‹¬åˆå§‹çš„å…¬å…± ZFS ä»£ç ä»¥åŠ OpenSolaris ä»£ç ï¼‰ï¼Œå¹¶å¾—åˆ°ä»–ä»¬çš„è®¸å¯æ‰è¡Œã€‚è¿™å‡ ä¹æ˜¯ä¸å¯èƒ½çš„ï¼ˆå› ä¸ºä¸€äº›è´¡çŒ®è€…å¯èƒ½å·²ç»å»ä¸–äº†æˆ–è€…å¾ˆéš¾æ‰¾åˆ°ï¼‰ï¼Œå› æ­¤ä»–ä»¬å†³å®šä¿ç•™åŸæ¥çš„è®¸å¯è¯ã€‚\nç‰¹æ€§ æ­£å¦‚å‰é¢æ‰€è¯´è¿‡çš„ï¼ŒZFS æ˜¯ä¸€ä¸ªå…ˆè¿›çš„æ–‡ä»¶ç³»ç»Ÿã€‚å› æ­¤ï¼Œå®ƒæœ‰ä¸€äº›æœ‰è¶£çš„ç‰¹æ€§ã€‚\nå­˜å‚¨æ±  ä¸å¤§å¤šæ•°æ–‡ä»¶ç³»ç»Ÿä¸åŒï¼ŒZFS ç»“åˆäº†æ–‡ä»¶ç³»ç»Ÿå’Œå·ç®¡ç†å™¨çš„ç‰¹æ€§ã€‚è¿™æ„å‘³ç€ï¼Œå®ƒä¸å…¶ä»–æ–‡ä»¶ç³»ç»Ÿä¸åŒï¼ŒZFS å¯ä»¥åˆ›å»ºè·¨è¶Šä¸€ç³»åˆ—ç¡¬ç›˜æˆ–æ± çš„æ–‡ä»¶ç³»ç»Ÿã€‚ä¸ä»…å¦‚æ­¤ï¼Œä½ è¿˜å¯ä»¥é€šè¿‡æ·»åŠ ç¡¬ç›˜æ¥å¢å¤§æ± çš„å­˜å‚¨å®¹é‡ã€‚ZFS å¯ä»¥è¿›è¡Œåˆ†åŒºå’Œæ ¼å¼åŒ–ã€‚\nå†™æ—¶æ‹·è´ Copy-on-write æ˜¯å¦ä¸€ä¸ªæœ‰è¶£å¹¶ä¸”å¾ˆé…·çš„ç‰¹æ€§ã€‚åœ¨å¤§å¤šæ•°æ–‡ä»¶ç³»ç»Ÿä¸Šï¼Œå½“æ•°æ®è¢«é‡å†™æ—¶ï¼Œå®ƒå°†æ°¸ä¹…ä¸¢å¤±ã€‚è€Œåœ¨ ZFS ä¸­ï¼Œæ–°æ•°æ®ä¼šå†™åˆ°ä¸åŒçš„å—ã€‚å†™å®Œæˆä¹‹åï¼Œæ›´æ–°æ–‡ä»¶ç³»ç»Ÿå…ƒæ•°æ®ä¿¡æ¯ï¼Œä½¿ä¹‹æŒ‡å‘æ–°çš„æ•°æ®å—ï¼ˆLCTT è¯‘æ³¨ï¼šæ›´æ–°ä¹‹åï¼ŒåŸæ•°æ®å—æˆä¸ºç£ç›˜ä¸Šçš„åƒåœ¾ï¼Œéœ€è¦æœ‰å¯¹åº”çš„åƒåœ¾å›æ”¶æœºåˆ¶ï¼‰ã€‚è¿™ç¡®ä¿äº†å¦‚æœåœ¨å†™æ–°æ•°æ®çš„æ—¶å€™ç³»ç»Ÿå´©æºƒï¼ˆæˆ–è€…å‘ç”Ÿå…¶å®ƒäº‹ï¼Œæ¯”å¦‚çªç„¶æ–­ç”µï¼‰ï¼Œé‚£ä¹ˆåŸæ•°æ®å°†ä¼šä¿å­˜ä¸‹æ¥ã€‚è¿™ä¹Ÿæ„å‘³ç€ï¼Œåœ¨ç³»ç»Ÿå‘ç”Ÿå´©æºƒä¹‹åï¼Œä¸éœ€è¦è¿è¡Œ fsck æ¥æ£€æŸ¥å’Œä¿®å¤æ–‡ä»¶ç³»ç»Ÿã€‚\nå¿«ç…§ å†™æ—¶æ‹·è´ä½¿å¾— ZFS æœ‰äº†å¦ä¸€ä¸ªç‰¹æ€§ï¼šsnapshotsã€‚ZFS ä½¿ç”¨å¿«ç…§æ¥è·Ÿè¸ªæ–‡ä»¶ç³»ç»Ÿä¸­çš„æ›´æ”¹ã€‚å¿«ç…§åŒ…å«æ–‡ä»¶ç³»ç»Ÿçš„åŸå§‹ç‰ˆæœ¬ï¼ˆæ–‡ä»¶ç³»ç»Ÿçš„ä¸€ä¸ªåªè¯»ç‰ˆæœ¬ï¼‰ï¼Œå®æ—¶æ–‡ä»¶ç³»ç»Ÿåˆ™åŒ…å«äº†è‡ªä»å¿«ç…§åˆ›å»ºä¹‹åçš„ä»»ä½•æ›´æ”¹ã€‚æ²¡æœ‰ä½¿ç”¨é¢å¤–çš„ç©ºé—´ã€‚å› ä¸ºæ–°æ•°æ®å°†ä¼šå†™åˆ°å®æ—¶æ–‡ä»¶ç³»ç»Ÿæ–°åˆ†é…çš„å—ä¸Šã€‚å¦‚æœä¸€ä¸ªæ–‡ä»¶è¢«åˆ é™¤äº†ï¼Œé‚£ä¹ˆå®ƒåœ¨å¿«ç…§ä¸­çš„ç´¢å¼•ä¹Ÿä¼šè¢«åˆ é™¤ã€‚æ‰€ä»¥ï¼Œå¿«ç…§ä¸»è¦æ˜¯ç”¨æ¥è·Ÿè¸ªæ–‡ä»¶çš„æ›´æ”¹ï¼Œè€Œä¸æ˜¯æ–‡ä»¶çš„å¢åŠ å’Œåˆ›å»ºã€‚\nå¿«ç…§å¯ä»¥æŒ‚è½½æˆåªè¯»çš„ï¼Œä»¥ç”¨æ¥æ¢å¤ä¸€ä¸ªæ–‡ä»¶çš„è¿‡å»ç‰ˆæœ¬ã€‚å®æ—¶æ–‡ä»¶ç³»ç»Ÿä¹Ÿå¯ä»¥å›æ»šåˆ°ä¹‹å‰çš„å¿«ç…§ã€‚å›æ»šä¹‹åï¼Œè‡ªä»å¿«ç…§åˆ›å»ºä¹‹åçš„æ‰€æœ‰æ›´æ”¹å°†ä¼šä¸¢å¤±ã€‚\næ•°æ®å®Œæ•´æ€§éªŒè¯å’Œè‡ªåŠ¨ä¿®å¤ å½“å‘ ZFS å†™å…¥æ–°æ•°æ®æ—¶ï¼Œä¼šåˆ›å»ºè¯¥æ•°æ®çš„æ ¡éªŒå’Œã€‚åœ¨è¯»å–æ•°æ®çš„æ—¶å€™ï¼Œä½¿ç”¨æ ¡éªŒå’Œè¿›è¡ŒéªŒè¯ã€‚å¦‚æœå‰åæ ¡éªŒå’Œä¸åŒ¹é…ï¼Œé‚£ä¹ˆå°±è¯´æ˜æ£€æµ‹åˆ°äº†é”™è¯¯ï¼Œç„¶åï¼ŒZFS ä¼šå°è¯•è‡ªåŠ¨ä¿®æ­£é”™è¯¯ã€‚\nRAID-Z ZFS ä¸éœ€è¦ä»»ä½•é¢å¤–è½¯ä»¶æˆ–ç¡¬ä»¶å°±å¯ä»¥å¤„ç† RAIDï¼ˆç£ç›˜é˜µåˆ—ï¼‰ã€‚æ¯«ä¸å¥‡æ€ªï¼Œå› ä¸º ZFS æœ‰è‡ªå·±çš„ RAID å®ç°ï¼šRAID-Z ã€‚RAID-Z æ˜¯ RAID-5 çš„ä¸€ä¸ªå˜ç§ï¼Œä¸è¿‡å®ƒå…‹æœäº† RAID-5 çš„å†™æ¼æ´ï¼šæ„å¤–é‡å¯ä¹‹åï¼Œæ•°æ®å’Œæ ¡éªŒä¿¡æ¯ä¼šå˜å¾—ä¸åŒæ­¥ï¼ˆLCTT è¯‘æ³¨ï¼šRAID-5 çš„æ¡å¸¦åœ¨æ­£å†™å…¥æ•°æ®æ—¶ï¼Œå¦‚æœè¿™æ—¶å€™ç”µæºä¸­æ–­ï¼Œé‚£ä¹ˆå¥‡å¶æ ¡éªŒæ•°æ®å°†è·Ÿè¯¥éƒ¨åˆ†æ•°æ®ä¸åŒæ­¥ï¼Œå› æ­¤å‰è¾¹çš„å†™æ— æ•ˆï¼›RAID-Z ç”¨äº† â€œå¯å˜å®½çš„ RAID æ¡å¸¦â€ æŠ€æœ¯ï¼Œå› æ­¤æ‰€æœ‰çš„å†™éƒ½æ˜¯å…¨æ¡å¸¦å†™å…¥ï¼‰ã€‚ä¸ºäº†ä½¿ç”¨åŸºæœ¬çº§åˆ«çš„ RAID-Zï¼ˆRAID-Z1ï¼‰ï¼Œä½ éœ€è¦è‡³å°‘ä¸‰å—ç£ç›˜ï¼Œå…¶ä¸­ä¸¤å—ç”¨æ¥å­˜å‚¨æ•°æ®ï¼Œå¦å¤–ä¸€å—ç”¨æ¥å­˜å‚¨å¥‡å¶æ ¡éªŒä¿¡æ¯ã€‚è€Œ RAID-Z2 éœ€è¦è‡³å°‘ä¸¤å—ç£ç›˜å­˜å‚¨æ•°æ®ä»¥åŠä¸¤å—ç£ç›˜å­˜å‚¨æ ¡éªŒä¿¡æ¯ã€‚RAID-Z3 éœ€è¦è‡³å°‘ä¸¤å—ç£ç›˜å­˜å‚¨æ•°æ®ä»¥åŠä¸‰å—ç£ç›˜å­˜å‚¨æ ¡éªŒä¿¡æ¯ã€‚å¦å¤–ï¼Œåªèƒ½å‘ RAID-Z æ± ä¸­åŠ å…¥å¶æ•°å€çš„ç£ç›˜ï¼Œè€Œä¸èƒ½æ˜¯å¥‡æ•°å€çš„ã€‚\nå·¨å¤§çš„å­˜å‚¨æ½œåŠ› åˆ›å»º ZFS çš„æ—¶å€™ï¼Œå®ƒæ˜¯ä½œä¸ºæœ€åä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿè€Œè®¾è®¡çš„ ã€‚é‚£æ—¶å€™ï¼Œå¤§å¤šæ•°æ–‡ä»¶ç³»ç»Ÿéƒ½æ˜¯ 64 ä½çš„ï¼ŒZFS çš„åˆ›å»ºè€…å†³å®šç›´æ¥è·³åˆ° 128 ä½ï¼Œç­‰åˆ°å°†æ¥å†æ¥è¯æ˜è¿™æ˜¯å¯¹çš„ã€‚è¿™æ„å‘³ç€ ZFS çš„å®¹é‡å¤§å°æ˜¯ 32 ä½æˆ– 64 ä½æ–‡ä»¶ç³»ç»Ÿçš„ 1600 äº¿äº¿å€ã€‚äº‹å®ä¸Šï¼ŒJeff Bonwickï¼ˆå…¶ä¸­ä¸€ä¸ªåˆ›å»ºè€…ï¼‰è¯´ï¼šâ€œå®Œå…¨å¡«æ»¡ä¸€ä¸ª 128 ä½çš„å­˜å‚¨æ± æ‰€éœ€è¦çš„èƒ½é‡ï¼Œä»å­—é¢ä¸Šè®²ï¼Œæ¯”ç…®æ²¸æµ·æ´‹éœ€è¦çš„è¿˜å¤šã€‚â€\nå¦‚ä½•å®‰è£… ZFSï¼Ÿ å¦‚æœä½ æƒ³ç«‹åˆ»ä½¿ç”¨ ZFSï¼ˆå¼€ç®±å³ç”¨ï¼‰ï¼Œé‚£ä¹ˆä½ éœ€è¦å®‰è£… FreeBSD æˆ–ä¸€ä¸ªä½¿ç”¨ illumos å†…æ ¸çš„æ“ä½œç³»ç»Ÿã€‚illumos æ˜¯ OpenSolaris å†…æ ¸çš„ä¸€ä¸ªå…‹éš†ç‰ˆæœ¬ã€‚\näº‹å®ä¸Šï¼Œæ”¯æŒ ZFS æ˜¯ä¸€äº›æœ‰ç»éªŒçš„ Linux ç”¨æˆ·é€‰æ‹© BSD çš„ä¸»è¦åŸå› ã€‚\nå¦‚æœä½ æƒ³åœ¨ Linux ä¸Šå°è¯• ZFSï¼Œé‚£ä¹ˆåªèƒ½åœ¨å­˜å‚¨æ–‡ä»¶ç³»ç»Ÿä¸Šä½¿ç”¨ã€‚æ®æˆ‘æ‰€çŸ¥ï¼Œæ²¡æœ‰ä»»ä½• Linux å‘è¡Œç‰ˆå¯ä»¥åœ¨æ ¹ç›®å½•ä¸Šå®‰è£… ZFSï¼Œå®ç°å¼€ç®±å³ç”¨ã€‚å¦‚æœä½ å¯¹åœ¨ Linux ä¸Šå°è¯• ZFS æ„Ÿå…´è¶£ï¼Œé‚£ä¹ˆ ZFS on Linux é¡¹ç›® ä¸Šæœ‰å¤§é‡çš„æ•™ç¨‹å¯ä»¥æŒ‡å¯¼ä½ æ€ä¹ˆåšã€‚\nåœ¨ Ubuntu ä¸Šä½¿ç”¨ ZFS å¦‚æœæ‚¨æ­£åœ¨è€ƒè™‘å°† ZFS ç”¨äºæ‚¨çš„è¶…é«˜é€Ÿ NVMe SSDï¼Œè¿™å¯èƒ½ä¸æ˜¯ä¸€ä¸ªæœ€ä½³é€‰æ‹©ã€‚ å®ƒæ¯”åˆ«çš„æ–‡ä»¶ç³»ç»Ÿè¦æ…¢ï¼Œä¸è¿‡ï¼Œè¿™å®Œå…¨æ²¡æœ‰é—®é¢˜ï¼Œ å®ƒæ—¨åœ¨å­˜å‚¨å¤§é‡çš„æ•°æ®å¹¶ä¿æŒå®‰å…¨ã€‚\n$ sudo apt-get install zfsutils-linux åˆ›å»ºæ±  åœ¨ ZFS ä¸­ï¼Œæ± å¤§è‡´ç›¸å½“äº RAID ã€‚ å®ƒä»¬å¾ˆçµæ´»ä¸”æ˜“äºæ“ä½œã€‚\nRAID0 RAID0 åªæ˜¯æŠŠä½ çš„ç¡¬ç›˜é›†ä¸­åˆ°ä¸€ä¸ªæ± å­é‡Œé¢ï¼Œå°±åƒä¸€ä¸ªå·¨å¤§çš„é©±åŠ¨å™¨ä¸€æ ·ã€‚ å®ƒå¯ä»¥æé«˜ä½ çš„é©±åŠ¨å™¨é€Ÿåº¦ï¼Œï¼ˆLCTT è¯‘æ³¨ï¼šæ•°æ®æ¡å¸¦åŒ–åï¼Œå¹¶è¡Œè®¿é—®ï¼Œå¯ä»¥æé«˜æ–‡ä»¶è¯»å–é€Ÿåº¦ï¼‰ä½†æ˜¯å¦‚æœä½ çš„é©±åŠ¨å™¨æœ‰æŸåï¼Œä½ å¯èƒ½ä¼šå¤±ä¸¢å¤±æ•°æ®ã€‚\nåœ¨è®¡ç®—æœºæ•°æ®å­˜å‚¨ä¸­ï¼Œæ•°æ®æ¡å¸¦åŒ–æ˜¯ä¸€ç§å¯¹é€»è¾‘é¡ºåºæ•°æ®ï¼ˆä¾‹å¦‚æ–‡ä»¶ï¼‰è¿›è¡Œåˆ†æ®µçš„æŠ€æœ¯ï¼Œä»¥ä¾¿å°†è¿ç»­çš„æ®µå­˜å‚¨åœ¨ä¸åŒçš„ç‰©ç†å­˜å‚¨è®¾å¤‡ä¸Šã€‚\nè¦ä½¿ç”¨ ZFS å®ç° RAID0ï¼Œåªéœ€åˆ›å»ºä¸€ä¸ªæ™®é€šçš„æ± ã€‚\n$ sudo zpool create your-pool /dev/sdc /dev/sdd RAID1ï¼ˆé•œåƒï¼‰ æ‚¨å¯ä»¥åœ¨ ZFS ä¸­ä½¿ç”¨ mirror å…³é”®å­—æ¥å®ç° RAID1 åŠŸèƒ½ã€‚ RAID1 ä¼šåˆ›å»ºä¸€ä¸ªä¸€å¯¹ä¸€çš„é©±åŠ¨å™¨å‰¯æœ¬ã€‚ è¿™æ„å‘³ç€æ‚¨çš„æ•°æ®ä¸€ç›´åœ¨å¤‡ä»½ã€‚ å®ƒä¹Ÿæé«˜äº†æ€§èƒ½ã€‚ å½“ç„¶ï¼Œä½ å°†ä¸€åŠçš„å­˜å‚¨ç©ºé—´ç”¨äºäº†å¤åˆ¶ã€‚\n$ sudo zpool create your-pool mirror /dev/sdc /dev/sdd RAID5/RAIDZ1 ZFS å°† RAID5 åŠŸèƒ½å®ç°ä¸º RAIDZ1ã€‚ RAID5 è¦æ±‚é©±åŠ¨å™¨è‡³å°‘æ˜¯ 3 ä¸ªã€‚å¹¶å…è®¸æ‚¨é€šè¿‡å°†å¤‡ä»½å¥‡å¶æ ¡éªŒæ•°æ®å†™å…¥é©±åŠ¨å™¨ç©ºé—´çš„ 1/nï¼ˆn æ˜¯é©±åŠ¨å™¨æ•°ï¼‰ï¼Œç•™ä¸‹çš„æ˜¯å¯ç”¨çš„å­˜å‚¨ç©ºé—´ã€‚ å¦‚æœä¸€ä¸ªé©±åŠ¨å™¨å‘ç”Ÿæ•…éšœï¼Œé˜µåˆ—ä»å°†ä¿æŒè”æœºçŠ¶æ€ï¼Œä½†åº”å°½å¿«æ›´æ¢å‘ç”Ÿæ•…éšœçš„é©±åŠ¨å™¨ï¼ˆLCTT è¯‘æ³¨ï¼šä¸åŸæ–‡ç¿»è¯‘ç•¥æœ‰ä¸åŒï¼ŒåŸæ–‡æ˜¯é©±åŠ¨å™¨çš„æ•°ç›®æ˜¯ä¸‰çš„å€æ•°ï¼Œæ ¹æ® wikiï¼Œ RAID5 è‡³å°‘éœ€è¦ 3 å—é©±åŠ¨å™¨ï¼Œä¹Ÿå¯ä»¥ä»ä¸‹é¢çš„å‘½ä»¤ä¸­çŒœæµ‹)ã€‚\n$ sudo zpool create your-pool raidz1 /dev/sdc /dev/sdd /dev/sde RAID6/RAIDZ2 RAID6 ä¸ RAID5 å‡ ä¹å®Œå…¨ç›¸åŒï¼Œä½†å®ƒè‡³å°‘éœ€è¦å››ä¸ªé©±åŠ¨å™¨ã€‚ å®ƒå°†å¥‡å¶æ ¡éªŒæ•°æ®åŠ å€ï¼Œæœ€å¤šå…è®¸ä¸¤ä¸ªé©±åŠ¨å™¨æŸåï¼Œè€Œä¸ä¼šå¯¼è‡´é˜µåˆ—å…³é—­ï¼ˆLCTT è¯‘æ³¨ï¼šè¿™é‡Œä¹Ÿä¸åŸæ–‡ç•¥æœ‰å‡ºå…¥ï¼ŒåŸæ–‡æ˜¯é©±åŠ¨å™¨çš„æ•°ç›®æ˜¯å››çš„å€æ•°ï¼Œæ ¹æ® wiki ï¼ŒRAID6 è‡³å°‘éœ€è¦å››ä¸ªé©±åŠ¨å™¨)ã€‚\n$ sudo zpool create your-pool raidz2 /dev/sdc /dev/sdd /dev/sde /dev/sdf RAID10ï¼ˆæ¡å¸¦åŒ–é•œåƒï¼‰ RAID10 æ—¨åœ¨é€šè¿‡æ•°æ®æ¡å¸¦åŒ–æé«˜å­˜å–é€Ÿåº¦å’Œæ•°æ®å†—ä½™æ¥æˆä¸ºä¸€ä¸ªä¸¤å…¨å…¶ç¾çš„è§£å†³æ–¹æ¡ˆã€‚ ä½ è‡³å°‘éœ€è¦å››ä¸ªé©±åŠ¨å™¨ï¼Œä½†åªèƒ½ä½¿ç”¨ä¸€åŠçš„ç©ºé—´ã€‚ æ‚¨å¯ä»¥é€šè¿‡åœ¨åŒä¸€ä¸ªæ± ä¸­åˆ›å»ºä¸¤ä¸ªé•œåƒæ¥åˆ›å»º RAID10 ä¸­çš„æ± ï¼ˆLCTT è¯‘æ³¨ï¼šè¿™é‡Œä¹Ÿä¸åŸæ–‡ç•¥æœ‰å‡ºå…¥ï¼ŒåŸæ–‡æ˜¯é©±åŠ¨å™¨çš„æ•°ç›®æ˜¯å››çš„å€æ•°ï¼Œæ ¹æ® wikiï¼Œ RAID10 è‡³å°‘éœ€è¦å››ä¸ªé©±åŠ¨å™¨ï¼‰ã€‚\n$ sudo zpool create your-pool mirror /dev/sdc /dev/sdd mirror /dev/sde /dev/sdf æ± çš„æ“ä½œ è¿˜æœ‰ä¸€äº›ç®¡ç†å·¥å…·ï¼Œä¸€æ—¦ä½ åˆ›å»ºäº†ä½ çš„æ± ï¼Œä½ å°±å¿…é¡»ä½¿ç”¨å®ƒä»¬æ¥æ“ä½œã€‚ é¦–å…ˆï¼Œæ£€æŸ¥ä½ çš„æ± çš„çŠ¶æ€ã€‚\n$ sudo zpool status æ›´æ–° å½“ä½ æ›´æ–° ZFS æ—¶ï¼Œä½ ä¹Ÿéœ€è¦æ›´æ–°ä½ çš„æ± ã€‚ å½“æ‚¨æ£€æŸ¥å®ƒä»¬çš„çŠ¶æ€æ—¶ï¼Œæ‚¨çš„æ± ä¼šé€šçŸ¥æ‚¨ä»»ä½•æ›´æ–°ã€‚ è¦æ›´æ–°æ± ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ã€‚\n$ sudo zpool upgrade your-pool ä½ ä¹Ÿå¯ä»¥æ›´æ–°å…¨éƒ¨æ± ã€‚\n$ sudo zpool upgrade -a æ·»åŠ é©±åŠ¨å™¨ æ‚¨ä¹Ÿå¯ä»¥éšæ—¶å°†é©±åŠ¨å™¨æ·»åŠ åˆ°æ± ä¸­ã€‚ å‘Šè¯‰ zpool æ± çš„åç§°å’Œé©±åŠ¨å™¨çš„ä½ç½®ï¼Œå®ƒä¼šå¤„ç†å¥½ä¸€åˆ‡ã€‚\n$ sudo zpool add your-pool /dev/sdx å®ä¾‹ ä½¿ç”¨ä¸¤å—ç¡¬ç›˜ä¸Šçš„ç­‰å®¹é‡åˆ†åŒºå»ºç«‹ raid 1ã€‚\n$ ls -l /dev/disk/by-id usb-JMicron_Generic_DISK00_0123456789ABCDEF-0:0-part1 -\u0026gt; ../../sdb1 usb-JMicron_Generic_DISK01_0123456789ABCDEF-0:1-part2 -\u0026gt; ../../sdc2 $ sudo zpool create -f -o ashift=12 -o cachefile=/etc/zfs/zpool.cache -O compression=lz4 -O xattr=sa -O relatime=on -O acltype=posixacl -O dedup=off -m none dpool mirror usb-JMicron_Generic_DISK00_0123456789ABCDEF-0:0-part1 usb-JMicron_Generic_DISK01_0123456789ABCDEF-0:1-part2 $ sudo zfs create -o mountpoint=none -o canmount=off dpool/DATA $ sudo zfs create -o mountpoint=/home/kurome/DataPool dpool/DATA/important $ sudo zpool export dpool $ sudo zpool import dpool Systemd LINUX PID 1 å’Œ SYSTEMD è¦è¯´æ¸… Systemdï¼Œå¾—å…ˆä»Linuxæ“ä½œç³»ç»Ÿçš„å¯åŠ¨è¯´èµ·ã€‚Linux æ“ä½œç³»ç»Ÿçš„å¯åŠ¨é¦–å…ˆä» BIOS å¼€å§‹ï¼Œç„¶åç”± Boot Loader è½½å…¥å†…æ ¸ï¼Œå¹¶åˆå§‹åŒ–å†…æ ¸ã€‚å†…æ ¸åˆå§‹åŒ–çš„æœ€åä¸€æ­¥å°±æ˜¯å¯åŠ¨ init è¿›ç¨‹ã€‚è¿™ä¸ªè¿›ç¨‹æ˜¯ç³»ç»Ÿçš„ç¬¬ä¸€ä¸ªè¿›ç¨‹ï¼ŒPID ä¸º 1ï¼Œåˆå«è¶…çº§è¿›ç¨‹ï¼Œä¹Ÿå«æ ¹è¿›ç¨‹ã€‚å®ƒè´Ÿè´£äº§ç”Ÿå…¶ä»–æ‰€æœ‰ç”¨æˆ·è¿›ç¨‹ã€‚æ‰€æœ‰çš„è¿›ç¨‹éƒ½ä¼šè¢«æŒ‚åœ¨è¿™ä¸ªè¿›ç¨‹ä¸‹ï¼Œå¦‚æœè¿™ä¸ªè¿›ç¨‹é€€å‡ºäº†ï¼Œé‚£ä¹ˆæ‰€æœ‰çš„è¿›ç¨‹éƒ½è¢« kill ã€‚å¦‚æœä¸€ä¸ªå­è¿›ç¨‹çš„çˆ¶è¿›ç¨‹é€€äº†ï¼Œé‚£ä¹ˆè¿™ä¸ªå­è¿›ç¨‹ä¼šè¢«æŒ‚åˆ° PID 1 ä¸‹é¢ã€‚ï¼ˆæ³¨ï¼šPID 0 æ˜¯å†…æ ¸çš„ä¸€éƒ¨åˆ†ï¼Œä¸»è¦ç”¨äºå†…è¿›æ¢é¡µï¼Œå‚çœ‹ï¼šProcess identifierï¼‰\nSysV Init PID 1 è¿™ä¸ªè¿›ç¨‹éå¸¸ç‰¹æ®Šï¼Œå…¶ä¸»è¦å°±ä»»åŠ¡æ˜¯æŠŠæ•´ä¸ªæ“ä½œç³»ç»Ÿå¸¦å…¥å¯æ“ä½œçš„çŠ¶æ€ã€‚æ¯”å¦‚ï¼šå¯åŠ¨ UI â€“ Shell ä»¥ä¾¿è¿›è¡Œäººæœºäº¤äº’ï¼Œæˆ–è€…è¿›å…¥ X å›¾å½¢çª—å£ã€‚ä¼ ç»Ÿä¸Šï¼ŒPID 1 å’Œä¼ ç»Ÿçš„ Unix System V ç›¸å…¼å®¹çš„ï¼Œæ‰€ä»¥ä¹Ÿå« sysvinitï¼Œè¿™æ˜¯ä½¿ç”¨å¾—æœ€æ‚ ä¹…çš„ init å®ç°ã€‚Unix System V äº1983å¹´ releaseã€‚\nåœ¨ sysvint ä¸‹ï¼Œæœ‰å¥½å‡ ä¸ªè¿è¡Œæ¨¡å¼ï¼Œåˆå« runlevelã€‚æ¯”å¦‚ï¼šå¸¸è§çš„ 3 çº§åˆ«æŒ‡å®šå¯åŠ¨åˆ°å¤šç”¨æˆ·çš„å­—ç¬¦å‘½ä»¤è¡Œç•Œé¢ï¼Œ5 çº§åˆ«æŒ‡å®šå¯èµ·åˆ°å›¾å½¢ç•Œé¢ï¼Œ0 è¡¨ç¤ºå…³æœºï¼Œ6 è¡¨ç¤ºé‡å¯ã€‚å…¶é…ç½®åœ¨ /etc/inittab æ–‡ä»¶ä¸­ã€‚\nä¸æ­¤é…å¥—çš„è¿˜æœ‰ /etc/init.d/ å’Œ /etc/rc[X].dï¼Œå‰è€…å­˜æ”¾å„ç§è¿›ç¨‹çš„å¯åœè„šæœ¬ï¼ˆéœ€è¦æŒ‰ç…§è§„èŒƒæ”¯æŒ startï¼Œstopå­å‘½ä»¤ï¼‰ï¼Œåè€…çš„ X è¡¨ç¤ºä¸åŒçš„ runlevel ä¸‹ç›¸åº”çš„åå°è¿›ç¨‹æœåŠ¡ï¼Œå¦‚ï¼š/etc/rc3.d æ˜¯ runlevel=3 çš„ã€‚ é‡Œé¢çš„æ–‡ä»¶ä¸»è¦æ˜¯ link åˆ° /etc/init.d/ é‡Œçš„å¯åœè„šæœ¬ã€‚å…¶ä¸­ä¹Ÿæœ‰ä¸€å®šçš„å‘½åè§„èŒƒï¼šS æˆ– K æ‰“å¤´çš„ï¼Œåé¢è·Ÿä¸€ä¸ªæ•°å­—ï¼Œç„¶åå†è·Ÿä¸€ä¸ªè‡ªå®šä¹‰çš„åå­—ï¼Œå¦‚ï¼šS01rsyslogï¼ŒS02sshã€‚S è¡¨ç¤ºå¯åŠ¨ï¼ŒKè¡¨ç¤ºåœæ­¢ï¼Œæ•°å­—è¡¨ç¤ºæ‰§è¡Œçš„é¡ºåºã€‚\nUpStart Unix å’Œ Linux åœ¨ sysvint è¿ä½œå¤šå¹´åï¼Œå¤§çº¦åˆ°äº†2006å¹´çš„æ—¶å€™ï¼ŒLinuxå†…æ ¸è¿›å…¥2.6æ—¶ä»£ï¼ŒLinuxæœ‰äº†å¾ˆå¤šæ›´æ–°ã€‚å¹¶ä¸”ï¼ŒLinuxå¼€å§‹è¿›å…¥æ¡Œé¢ç³»ç»Ÿï¼Œè€Œæ¡Œé¢ç³»ç»Ÿå’ŒæœåŠ¡å™¨ç³»ç»Ÿä¸ä¸€æ ·çš„æ˜¯ï¼Œæ¡Œé¢ç³»ç»Ÿé¢ä¸´é¢‘ç¹é‡å¯ï¼Œè€Œä¸”ï¼Œç”¨æˆ·ä¼šéå¸¸é¢‘ç¹çš„ä½¿ç”¨ç¡¬ä»¶çš„çƒ­æ’æ‹”æŠ€æœ¯ã€‚äºæ˜¯ï¼Œè¿™äº›æ–°çš„åœºæ™¯ï¼Œè®© sysvint å—åˆ°äº†å¾ˆå¤šæŒ‘æˆ˜ã€‚\næ¯”å¦‚ï¼Œæ‰“å°æœºéœ€è¦CUPSç­‰æœåŠ¡è¿›ç¨‹ï¼Œä½†æ˜¯å¦‚æœç”¨æˆ·æ²¡æœ‰æ‰“æœºå°ï¼Œå¯åŠ¨è¿™ä¸ªæœåŠ¡å®Œå…¨æ˜¯ä¸€ç§æµªè´¹ï¼Œè€Œå¦‚æœä¸å¯åŠ¨ï¼Œå¦‚æœè¦ç”¨æ‰“å°æœºäº†ï¼Œå°±æ— æ³•ä½¿ç”¨ï¼Œå› ä¸ºsysvint æ²¡æœ‰è‡ªåŠ¨æ£€æµ‹çš„æœºåˆ¶ï¼Œå®ƒåªèƒ½ä¸€æ¬¡æ€§å¯åŠ¨æ‰€æœ‰çš„æœåŠ¡ã€‚å¦å¤–ï¼Œè¿˜æœ‰ç½‘ç»œç›˜æŒ‚è½½çš„é—®é¢˜ã€‚åœ¨ /etc/fstab ä¸­ï¼Œè´Ÿè´£ç¡¬ç›˜æŒ‚è½½ï¼Œæœ‰æ—¶å€™è¿˜æœ‰ç½‘ç»œç¡¬ç›˜ï¼ˆNFS æˆ– iSCSIï¼‰åœ¨å…¶ä¸­ï¼Œä½†æ˜¯åœ¨æ¡Œé¢æœºä¸Šï¼Œæœ‰å¾ˆå¯èƒ½å¼€æœºçš„æ—¶å€™æ˜¯æ²¡æœ‰ç½‘ç»œçš„ï¼Œ äºæ˜¯ç½‘ç»œç¡¬ç›˜éƒ½ä¸å¯ä»¥è®¿é—®ï¼Œä¹Ÿæ— æ³•æŒ‚è½½ï¼Œè¿™ä¼šæå¤§çš„å½±å“å¯åŠ¨é€Ÿåº¦ã€‚sysvinit é‡‡ç”¨ netdev çš„æ–¹å¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œéœ€è¦ç”¨æˆ·è‡ªå·±åœ¨ /etc/fstab ä¸­ç»™ç›¸åº”çš„ç¡¬ç›˜é…ç½®ä¸Š netdev å±æ€§ï¼Œäºæ˜¯ sysvint å¯åŠ¨æ—¶ä¸ä¼šæŒ‚è½½å®ƒï¼Œåªæœ‰åœ¨ç½‘ç»œå¯ç”¨åï¼Œç”±ä¸“é—¨çš„ netfs æœåŠ¡è¿›ç¨‹æ¥æŒ‚è½½ã€‚è¿™ç§ç®¡ç†æ–¹å¼æ¯”è¾ƒéš¾ä»¥ç®¡ç†ï¼Œä¹Ÿå¾ˆå®¹æ˜“è®©äººæ‰å‘ã€‚\næ‰€ä»¥ï¼ŒUbuntu å¼€å‘äººå‘˜åœ¨è¯„ä¼°äº†å½“æ—¶å‡ ä¸ªå¯é€‰çš„ init ç³»ç»Ÿåï¼Œå†³å®šé‡æ–°è®¾è®¡è¿™ä¸ªç³»ç»Ÿï¼Œäºæ˜¯ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬åé¢çœ‹åˆ°çš„ upstart ã€‚ upstart åŸºäºäº‹ä»¶é©±åŠ¨çš„æœºåˆ¶ï¼ŒæŠŠä¹‹å‰çš„å®Œå…¨ä¸²è¡Œçš„åŒæ­¥å¯åŠ¨æœåŠ¡çš„æ–¹å¼æ”¹æˆäº†ç”±äº‹ä»¶é©±åŠ¨çš„å¼‚æ­¥çš„æ–¹å¼ã€‚æ¯”å¦‚ï¼šå¦‚æœæœ‰Uç›˜æ’å…¥ï¼Œudev å¾—åˆ°é€šçŸ¥ï¼Œupstart æ„ŸçŸ¥åˆ°è¿™ä¸ªäº‹ä»¶åè§¦å‘ç›¸åº”çš„æœåŠ¡ç¨‹åºï¼Œæ¯”å¦‚æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿç­‰ç­‰ã€‚å› ä¸ºä½¿ç”¨ä¸€ä¸ªäº‹ä»¶é©±åŠ¨çš„ç©æ³•ï¼Œæ‰€ä»¥ï¼Œå¯åŠ¨æ“ä½œç³»ç»Ÿæ—¶ï¼Œå¾ˆå¤šä¸å¿…è¦çš„æœåŠ¡å¯ä»¥ä¸ç”¨å¯åŠ¨ï¼Œè€Œæ˜¯ç­‰å¾…é€šçŸ¥ï¼Œlazy å¯åŠ¨ã€‚è€Œä¸”äº‹ä»¶é©±åŠ¨çš„å¥½å¤„æ˜¯ï¼Œå¯ä»¥å¹¶è¡Œå¯åŠ¨æœåŠ¡ï¼Œä»–ä»¬ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œç”±ç›¸åº”çš„äº‹ä»¶é€šçŸ¥å®Œæˆã€‚\nupstart æœ‰ç€å¾ˆä¸é”™çš„è®¾è®¡ï¼Œå…¶ä¸­æœ€é‡è¦çš„ä¸¤ä¸ªæ¦‚å¿µæ˜¯ Job å’Œ Eventã€‚\nJob æœ‰ä¸€èˆ¬çš„Jobï¼Œä¹Ÿæœ‰serviceçš„Jobï¼Œå¹¶ä¸”ï¼Œupstart ç®¡ç†äº†æ•´ä¸ª Job çš„ç”Ÿå‘½å‘¨æœŸï¼Œæ¯”å¦‚ï¼šWaiting, Starting, pre-Start, Spawned, post-Start, Running, pre-Stop, Stopping, Killed, post-Stopç­‰ç­‰ï¼Œå¹¶ç»´æŠ¤ç€è¿™ä¸ªç”Ÿå‘½å‘¨æœŸçš„çŠ¶æ€æœºã€‚\nEvent åˆ†æˆä¸‰ç±»ï¼Œsignal, method å’Œ hooksã€‚signal å°±æ˜¯å¼‚æ­¥æ¶ˆæ¯ï¼Œmethod æ˜¯åŒæ­¥é˜»å¡çš„ã€‚hooks ä¹Ÿæ˜¯åŒæ­¥çš„ï¼Œä½†ä»‹äºå‰é¢ä¸¤è€…ä¹‹é—´ï¼Œå‘å‡ºhookäº‹ä»¶çš„è¿›ç¨‹å¿…é¡»ç­‰åˆ°äº‹ä»¶å®Œæˆï¼Œä½†ä¸æ£€æŸ¥æ˜¯å¦æˆåŠŸã€‚\nä½†æ˜¯ï¼Œupstart çš„äº‹ä»¶éå¸¸å¤æ‚ï¼Œä¹Ÿéå¸¸çº·ä¹±ï¼Œå„ç§å„æ ·çš„äº‹ä»¶ï¼ˆäº‹ä»¶æ²¡æœ‰å½’å¥½ç±»ï¼‰å¯¼è‡´æœ‰ç‚¹å‡Œä¹±ã€‚ä¸è¿‡å› ä¸ºæ•´ä¸ªäº‹ä»¶é©±åŠ¨çš„è®¾è®¡æ¯”ä¹‹å‰çš„ sysvinit æ¥è¯´å¥½å¤ªå¤šï¼Œæ‰€ä»¥ï¼Œä¹Ÿæ·±å¾—æ¬¢è¿ã€‚\nSystemd ç›´åˆ°2010çš„æœ‰ä¸€å¤©ï¼Œä¸€ä¸ªåœ¨ RedHatå·¥ä½œçš„å·¥ç¨‹å¸ˆ Lennart Poettering å’Œ Kay Sievers ï¼Œå¼€å§‹å¼•å…¥äº†ä¸€ä¸ªæ–°çš„ init ç³»ç»Ÿâ€”â€” systemdã€‚è¿™æ˜¯ä¸€ä¸ªéå¸¸éå¸¸æœ‰é‡å¿ƒçš„é¡¹ç›®ï¼Œè¿™ä¸ªé¡¹ç›®å‡ ä¹æ”¹å˜äº†æ‰€æœ‰çš„ä¸œè¥¿ï¼Œsystemd ä¸ä½†æƒ³å–ä»£å·²æœ‰çš„ init ç³»ç»Ÿï¼Œè€Œä¸”è¿˜æƒ³å¹²æ›´å¤šçš„ä¸œè¥¿ã€‚\nLennart åŒæ„ upstart å¹²çš„ä¸é”™ï¼Œä»£ç è´¨é‡å¾ˆå¥½ï¼ŒåŸºäºäº‹ä»¶çš„è®¾è®¡ä¹Ÿå¾ˆå¥½ã€‚ä½†æ˜¯ä»–è§‰å¾— upstart ä¹Ÿæœ‰é—®é¢˜ï¼Œå…¶ä¸­æœ€å¤§çš„é—®é¢˜è¿˜æ˜¯ä¸å¤Ÿå¿«ï¼Œè™½ç„¶ upstart ç”¨äº‹ä»¶å¯ä»¥è¾¾åˆ°ä¸€å®šçš„å¯åŠ¨å¹¶è¡Œåº¦ï¼Œä½†æ˜¯ï¼Œæœ¬è´¨ä¸Šæ¥è¯´ï¼Œè¿™äº›äº‹ä»¶è¿˜æ˜¯ä¼šè®©å¯åŠ¨è¿‡ç¨‹ä¸²è¡Œåœ¨ä¸€èµ·ã€‚ å¦‚ï¼šNetworkManager åœ¨ç­‰ D-Bus çš„å¯åŠ¨äº‹ä»¶ï¼Œè€Œ D-Bus åœ¨ç­‰ syslog çš„å¯åŠ¨äº‹ä»¶ã€‚\nLennart è®¤ä¸ºï¼Œå®ç°ä¸Šæ¥è¯´ï¼Œupstart å…¶å®æ˜¯åœ¨ç®¡ç†ä¸€ä¸ªé€»è¾‘ä¸Šçš„æœåŠ¡ä¾èµ–æ ‘ï¼Œä½†æ˜¯è¿™ä¸ªæœåŠ¡ä¾èµ–æ ‘åœ¨è¡¨ç°å½¢å¼ä¸Šæ¯”è¾ƒç®€å•ï¼Œä½ åªéœ€è¦é…ç½®â€”â€”â€œå¯åŠ¨ Bå¥½äº†å°±å¯åŠ¨Aâ€æˆ–æ˜¯â€œåœæ­¢äº†Aåå°±åœæ­¢Bâ€è¿™æ ·çš„è§„åˆ™ã€‚ä½†æ˜¯ï¼ŒLennart è¯´ï¼Œè¿™ç§ç®€å•å…¶å®æ˜¯æœ‰å®³çš„ï¼ˆthis simplification is actually detrimentalï¼‰ã€‚ä»–è®¤ä¸ºï¼Œ\n  ä»ä¸€ä¸ªç³»ç»Ÿç®¡ç†çš„è§’åº¦å‡ºæ¥ï¼Œä»–ä¸€å¼€å§‹ä¼šè®¾å®šå¥½æ•´ä¸ªç³»ç»Ÿå¯åŠ¨çš„æœåŠ¡ä¾èµ–æ ‘ï¼Œä½†æ˜¯è¿™ä¸ªç³»ç»Ÿç®¡ç†å‘˜è¦äººè‚‰çš„æŠŠè¿™ä¸ªæœ¬æ¥å°±éå¸¸å¹²å‡€çš„æœåŠ¡ä¾æ•´æ ‘ç»™ç¿»è¯‘æˆè®¡ç®—æœºçœ‹çš„æ‡‚çš„ Event/Action å½¢å¼ï¼Œè€Œä¸” Event/Action è¿™ç§é…ç½®æ–¹å¼æ˜¯è¿è¡Œæ—¶çš„ï¼Œæ‰€ä»¥ï¼Œä½ éœ€è¦è¿è¡Œèµ·æ¥æ‰çŸ¥é“æ˜¯ä»€ä¹ˆæ ·çš„ã€‚\n  Eventé€»è¾‘ä»å¤´åˆ°è„šåˆ°å¤„éƒ½æ˜¯ï¼Œè¿™ä¸ªäº‹ä»¶æ‰©å¤§äº†è¿ç»´çš„å¤æ‚åº¦ï¼Œè¿˜ä¸å¦‚ä¹‹å‰çš„ sysvintã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œå½“ç”¨æˆ·é…ç½®äº† â€œå¯åŠ¨ D-Bus åè¯·å¯åŠ¨ NetworkManagerâ€ï¼Œ è¿™ä¸ª upstart å¯ä»¥å¹²ï¼Œä½†æ˜¯åè¿‡æ¥ï¼Œå¦‚æœï¼Œç”¨æˆ·å¯åŠ¨ NetworkManagerï¼Œæˆ‘ä»¬åº”è¯¥å…ˆå»å¯åŠ¨ä»–çš„å‰ç½®ä¾èµ– D-Busï¼Œç„¶è€Œä½ è¿˜è¦é…ç½®ç›¸åº”çš„åå‘ Eventã€‚æœ¬æ¥ï¼Œæˆ‘åªéœ€è¦é…ç½®ä¸€æ¡ä¾èµ–çš„ï¼Œç»“æœç°åœ¨æˆ‘è¦é…ç½®å¾ˆå¤šå¾ˆå¤šæƒ…å†µä¸‹çš„Eventã€‚\n  æœ€åï¼Œupstart é‡Œçš„ Event çš„å¹¶ä¸æ ‡å‡†ï¼Œå¾ˆæ··ä¹±ï¼Œæ²¡æœ‰è‰¯å¥½çš„å®šä¹‰ã€‚æ¯”å¦‚ï¼šæ—¢æœ‰ï¼Œè¿›ç¨‹å¯åŠ¨ï¼Œè¿è¡Œï¼Œåœæ­¢çš„äº‹ä»¶ï¼Œä¹Ÿæœ‰USBè®¾å¤‡æ’å…¥ã€å¯ç”¨ã€æ‹”å‡ºçš„äº‹ä»¶ï¼Œè¿˜æœ‰æ–‡ä»¶ç³»ç»Ÿè®¾å¤‡being mountedã€ mounted å’Œ umounted çš„äº‹ä»¶ï¼Œè¿˜æœ‰ACç”µæºçº¿è¿æ¥å’Œæ–­å¼€çš„äº‹ä»¶ã€‚ä½ ä¼šå‘ç°ï¼Œè¿™è¿›ç¨‹å¯åœçš„ã€USBçš„ã€æ–‡ä»¶ç³»ç»Ÿçš„ã€ç”µæºçº¿çš„äº‹ä»¶ï¼Œçœ‹ä¸Šå»é•¿å¾—å¾ˆåƒï¼Œ ä½†æ˜¯æ²¡æœ‰è¢«æ ‡å‡†åŒ–æŠ½åƒå‡ºæ¥æ‰ï¼Œå› ä¸ºç»å¤§å¤šæ•°çš„äº‹ä»¶éƒ½æ˜¯ä¸‰å…ƒç»„ï¼šstart, condition, stop ã€‚è¿™ç§æ¦‚å¿µè®¾è®¡æ¨¡å‹å¹¶æ²¡æœ‰åœ¨ upstart ä¸­å‡ºç°ã€‚å› ä¸º upstart è¢«è®¾è®¡ä¸ºå•ä¸€çš„äº‹ä»¶ï¼Œè€Œå¿½ç•¥äº†é€»è¾‘ä¾èµ–ã€‚\n  å½“ç„¶ï¼Œå¦‚æœ systemd åªæ˜¯è§£å†³ upstart çš„é—®é¢˜ï¼Œä»–å°±æ”¹é€  upstart å°±å¥½äº†ï¼Œä½†æ˜¯ Lennart çš„é‡å¿ƒä¸åªæ˜¯æƒ³å¹²ä¸ªè¿™æ ·çš„äº‹ï¼Œä»–æƒ³å¹²çš„æ›´å¤šã€‚\né¦–å…ˆï¼Œsystemd æ¸…é†’çš„è®¤è¯†åˆ°äº† init è¿›ç¨‹çš„é¦–è¦ç›®æ ‡æ˜¯è¦è®©ç”¨æˆ·å¿«é€Ÿçš„è¿›å…¥å¯ä»¥æ“ä½œOSçš„ç¯å¢ƒï¼Œæ‰€ä»¥ï¼Œè¿™ä¸ªé€Ÿåº¦ä¸€å®šè¦å¿«ï¼Œè¶Šå¿«è¶Šå¥½ï¼Œæ‰€ä»¥ï¼Œsystemd çš„è®¾è®¡ç†å¿µå°±æ˜¯ä¸¤æ¡ï¼š\n To start less. And to start more in parallel.  ä¹Ÿå°±æ˜¯è¯´ï¼ŒæŒ‰éœ€å¯åŠ¨ï¼Œèƒ½ä¸å¯åŠ¨å°±ä¸å¯åŠ¨ï¼Œå¦‚æœè¦å¯åŠ¨ï¼Œèƒ½å¹¶è¡Œå¯åŠ¨å°±å¹¶è¡Œå¯åŠ¨ï¼ŒåŒ…æ‹¬ä½ ä»¬ä¹‹é—´æœ‰ä¾èµ–ï¼Œæˆ‘ä¹Ÿå¹¶è¡Œå¯åŠ¨ã€‚æŒ‰éœ€å¯åŠ¨è¿˜å¥½ç†è§£ï¼Œé‚£ä¹ˆï¼Œæœ‰ä¾èµ–å…³ç³»çš„å¹¶è¡Œå¯åŠ¨ï¼Œå®ƒæ˜¯æ€ä¹ˆåšåˆ°çš„ï¼Ÿè¿™é‡Œï¼Œsystemd å€Ÿé‰´äº† MacOS çš„ Launchd çš„ç©æ³•ï¼ˆåœ¨Youtubeä¸Šæœ‰ä¸€ä¸ªåˆ†äº«â€”â€”Launchd: One Program to Rule them Allï¼Œåœ¨è‹¹æœçš„å¼€æºç½‘ç«™ä¸Šä¹Ÿæœ‰ç›¸å…³çš„è®¾è®¡æ–‡æ¡£â€”â€”About Daemons and Servicesï¼‰\nè¦è§£å†³è¿™äº›ä¾èµ–æ€§ï¼Œsystemd éœ€è¦è§£å†³å¥½ä¸‰ç§åº•å±‚ä¾èµ–â€”â€” Socketï¼Œ D-Bus ï¼Œæ–‡ä»¶ç³»ç»Ÿã€‚\n  Socketä¾èµ–ã€‚å¦‚æœæœåŠ¡Cä¾èµ–äºæœåŠ¡Sçš„socketï¼Œé‚£ä¹ˆå°±è¦å…ˆå¯åŠ¨Sï¼Œç„¶åå†å¯åŠ¨Cï¼Œå› ä¸ºå¦‚æœCå¯åŠ¨æ—¶æ‰¾ä¸åˆ°Sçš„Socketï¼Œé‚£ä¹ˆCå°±ä¼šå¤±è´¥ã€‚systemd å¯ä»¥å¸®ä½ åœ¨Sè¿˜æ²¡æœ‰å¯åŠ¨å¥½çš„æ—¶å€™ï¼Œå»ºç«‹ä¸€ä¸ªsocketï¼Œç”¨æ¥æ¥æ”¶æ‰€æœ‰çš„Cçš„è¯·æ±‚å’Œæ•°æ®ï¼Œå¹¶ç¼“å­˜ä¹‹ï¼Œä¸€æ—¦Så…¨éƒ¨å¯åŠ¨å®Œæˆï¼ŒæŠŠsystemdæ›¿æ¢å¥½çš„è¿™ä¸ªç¼“å­˜çš„æ•°æ®å’ŒSocketæè¿°ç¬¦æ›¿æ¢è¿‡å»ã€‚\n  D-Busä¾èµ–ã€‚D-Bus å…¨ç§° Desktop Busï¼Œæ˜¯ä¸€ä¸ªç”¨æ¥åœ¨è¿›ç¨‹é—´é€šä¿¡çš„æœåŠ¡ã€‚é™¤äº†ç”¨äºç”¨æˆ·æ€è¿›ç¨‹å’Œå†…æ ¸æ€è¿›ç¨‹é€šä¿¡ï¼Œä¹Ÿç”¨äºç”¨æˆ·æ€çš„è¿›ç¨‹ä¹‹å‰ã€‚ç°åœ¨ï¼Œå¾ˆå¤šçš„ç°åœ¨çš„æœåŠ¡è¿›ç¨‹éƒ½ç”¨ D-Bus è€Œä¸æ˜¯Socketæ¥é€šä¿¡ã€‚æ¯”å¦‚ï¼šNetworkManager å°±æ˜¯é€šè¿‡ D-Bus å’Œå…¶å®ƒæœåŠ¡è¿›ç¨‹é€šè®¯çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœä¸€ä¸ªè¿›ç¨‹éœ€è¦çŸ¥é“ç½‘ç»œçš„çŠ¶æ€ï¼Œé‚£ä¹ˆå°±å¿…éœ€è¦é€šè¿‡ D-Bus é€šä¿¡ã€‚D-Bus æ”¯æŒ â€œBus Activationâ€çš„ç‰¹æ€§ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒAè¦é€šè¿‡ D-Bus æœåŠ¡å’ŒBé€šè®¯ï¼Œä½†æ˜¯Bæ²¡æœ‰å¯åŠ¨ï¼Œé‚£ä¹ˆ D-Bus å¯ä»¥æŠŠBèµ·æ¥ï¼Œåœ¨Bå¯åŠ¨çš„è¿‡ç¨‹ä¸­ï¼ŒD-Bus å¸®ä½ ç¼“å­˜æ•°æ®ã€‚systemd å¯ä»¥å¸®ä½ åˆ©ç”¨å¥½è¿™ä¸ªç‰¹æ€§æ¥å¹¶è¡Œå¯åŠ¨ A å’Œ Bã€‚\n  æ–‡ä»¶ç³»ç»Ÿä¾èµ–ã€‚ç³»ç»Ÿå¯åŠ¨è¿‡ç¨‹ä¸­ï¼Œæ–‡ä»¶ç³»ç»Ÿç›¸å…³çš„æ´»åŠ¨æ˜¯æœ€è€—æ—¶çš„ï¼Œæ¯”å¦‚æŒ‚è½½æ–‡ä»¶ç³»ç»Ÿï¼Œå¯¹æ–‡ä»¶ç³»ç»Ÿè¿›è¡Œç£ç›˜æ£€æŸ¥ï¼ˆfsckï¼‰ï¼Œç£ç›˜é…é¢æ£€æŸ¥ç­‰éƒ½æ˜¯éå¸¸è€—æ—¶çš„æ“ä½œã€‚åœ¨ç­‰å¾…è¿™äº›å·¥ä½œå®Œæˆçš„åŒæ—¶ï¼Œç³»ç»Ÿå¤„äºç©ºé—²çŠ¶æ€ã€‚é‚£äº›æƒ³ä½¿ç”¨æ–‡ä»¶ç³»ç»Ÿçš„æœåŠ¡ä¼¼ä¹å¿…é¡»ç­‰å¾…æ–‡ä»¶ç³»ç»Ÿåˆå§‹åŒ–å®Œæˆæ‰å¯ä»¥å¯åŠ¨ã€‚systemd å‚è€ƒäº† autofs çš„è®¾è®¡æ€è·¯ï¼Œä½¿å¾—ä¾èµ–æ–‡ä»¶ç³»ç»Ÿçš„æœåŠ¡å’Œæ–‡ä»¶ç³»ç»Ÿæœ¬èº«åˆå§‹åŒ–ä¸¤è€…å¯ä»¥å¹¶å‘å·¥ä½œã€‚autofs å¯ä»¥ç›‘æµ‹åˆ°æŸä¸ªæ–‡ä»¶ç³»ç»ŸæŒ‚è½½ç‚¹çœŸæ­£è¢«è®¿é—®åˆ°çš„æ—¶å€™æ‰è§¦å‘æŒ‚è½½æ“ä½œï¼Œè¿™æ˜¯é€šè¿‡å†…æ ¸ automounter æ¨¡å—çš„æ”¯æŒè€Œå®ç°çš„ã€‚æ¯”å¦‚ä¸€ä¸ª open() ç³»ç»Ÿè°ƒç”¨ä½œç”¨åœ¨æŸä¸ªæ–‡ä»¶ç³»ç»Ÿä¸Šçš„æ—¶å€™ï¼Œè€Œè¿™ä¸ªæ–‡ä»¶ç³»ç»Ÿå°šæœªæ‰§è¡ŒæŒ‚è½½ï¼Œæ­¤æ—¶ open() è°ƒç”¨è¢«å†…æ ¸æŒ‚èµ·ç­‰å¾…ï¼Œç­‰åˆ°æŒ‚è½½å®Œæˆåï¼Œæ§åˆ¶æƒè¿”å›ç»™ open() ç³»ç»Ÿè°ƒç”¨ï¼Œå¹¶æ­£å¸¸æ‰“å¼€æ–‡ä»¶ã€‚è¿™ä¸ªè¿‡ç¨‹å’Œ autofs æ˜¯ç›¸ä¼¼çš„ã€‚\n  ä¸‹å›¾æ¥è‡ª Lennart çš„æ¼”è®²é‡Œçš„ä¸€é¡µPPTï¼Œå±•ç¤ºäº†ä¸åŒ init ç³»ç»Ÿçš„å¯åŠ¨ã€‚\né™¤æ­¤ä¹‹å¤–ï¼Œsystemd è¿˜åœ¨å¯åŠ¨æ—¶ç®¡ç†å¥½äº†ä¸€äº›ä¸‹é¢çš„äº‹ã€‚\nç”¨Cè¯­è¨€å–ä»£ä¼ ç»Ÿçš„è„šæœ¬å¼çš„å¯åŠ¨ã€‚å‰é¢è¯´è¿‡ï¼Œsysvint ç”¨ /etc/rcX.d ä¸‹çš„å„ç§è„šæœ¬å¯åŠ¨ã€‚ç„¶è€Œè¿™äº›è„šæœ¬ä¸­éœ€è¦ä½¿ç”¨ awk, sed, grep, find, xargs ç­‰ç­‰è¿™äº›æ“ä½œç³»ç»Ÿçš„å‘½ä»¤ï¼Œè¿™äº›å‘½ä»¤éœ€è¦ç”Ÿæˆè¿›ç¨‹ï¼Œç”Ÿæˆè¿›ç¨‹çš„å¼€é”€å¾ˆå¤§ï¼Œå…³é”®æ˜¯ç”Ÿæˆå®Œè¿™äº›è¿›ç¨‹åï¼Œè¿™ä¸ªè¿›ç¨‹å°±å¹²äº†ç‚¹å±å¤§çš„äº‹å°±é€€äº†ã€‚æ¢å¥è¯è¯´å°±æ˜¯ï¼Œæˆ‘æ“ä½œç³»ç»Ÿå¹²äº†é‚£ä¹ˆå¤šäº‹ä¸ºä½ æ‹‰ä¸ªè¿›ç¨‹èµ·æ¥ï¼Œç»“æœä½ å°±æŠŠä¸ªå­—ä¸²è½¬æˆå°å†™å°±é€€äº†ï¼ŒæŠŠæˆ‘æ“ä½œç³»ç»Ÿå½“ä»€ä¹ˆäº†ï¼Ÿ\nåœ¨æ­£å¸¸çš„ä¸€ä¸ª sysvinit çš„è„šæœ¬é‡Œï¼Œå¯èƒ½ä¼šæœ‰æˆç™¾ä¸Šåƒä¸ªè¿™æ ·çš„å‘½ä»¤ã€‚æ‰€ä»¥ï¼Œæ…¢æ­»ã€‚å› æ­¤ï¼Œsystemd å…¨é¢ç”¨ C è¯­è¨€å…¨éƒ¨å–ä»£äº†ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œsysvinit ä¸‹ï¼Œæ“ä½œç³»ç»Ÿå¯åŠ¨å®Œæˆåï¼Œç”¨ echo $$ å¯ä»¥çœ‹åˆ°ï¼Œpid è¢«åˆ†é…åˆ°äº†ä¸Šåƒçš„æ ·å­ï¼Œè€Œ systemd çš„ç³»ç»Ÿåªæ˜¯ä¸Šç™¾ã€‚\nå¦å¤–ï¼Œsystemd æ˜¯çœŸæ­£ä¸€ä¸ªå¯ä»¥ç®¡ä½æœåŠ¡è¿›ç¨‹çš„â€”â€”å¯ä»¥è·Ÿè¸ªä¸ŠæœåŠ¡è¿›ç¨‹æ‰€fork/execå‡ºæ¥çš„æ‰€æœ‰è¿›ç¨‹ã€‚\n  æˆ‘ä»¬çŸ¥é“ï¼Œ ä¼ ç»Ÿ Unix/Linux çš„ Daemon æœåŠ¡è¿›ç¨‹çš„æœ€ä½³å®è·µåŸºæœ¬ä¸Šæ˜¯è¿™ä¸ªæ ·å­çš„ï¼ˆå…·ä½“è¿‡ç¨‹å¯å‚çœ‹è¿™ç¯‡æ–‡ç« â€œ[SysV Daemon](http://0pointer.de/public/systemd-man/daemon.html#SysV Daemons)â€ï¼‰\n è¿›ç¨‹å¯åŠ¨æ—¶ï¼Œå…³é—­æ‰€æœ‰çš„æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦ï¼ˆé™¤äº†æ ‡å‡†æè¿°ç¬¦0,1,2ï¼‰ï¼Œç„¶åé‡ç½®æ‰€æœ‰çš„ä¿¡å·å¤„ç†ã€‚ è°ƒç”¨ fork() åˆ›å»ºå­è¿›ç¨‹ï¼Œåœ¨å­è¿›ç¨‹ä¸­ setsid()ï¼Œç„¶åçˆ¶è¿›ç¨‹é€€å‡ºï¼ˆä¸ºäº†åå°æ‰§è¡Œï¼‰ åœ¨å­è¿›ç¨‹ä¸­ï¼Œå†è°ƒç”¨ä¸€æ¬¡ fork()ï¼Œåˆ›å»ºå­™å­è¿›ç¨‹ï¼Œç¡®å®šæ²¡æœ‰äº¤äº’ç»ˆç«¯ã€‚ç„¶åå­è¿›ç¨‹é€€å‡ºã€‚ åœ¨å­™å­è¿›ç¨‹ä¸­ï¼ŒæŠŠæ ‡å‡†è¾“å…¥æ ‡å‡†è¾“å‡ºæ ‡å‡†é”™è¯¯éƒ½è¿åˆ° /dev/null ä¸Šï¼Œè¿˜è¦åˆ›å»º pid æ–‡ä»¶ï¼Œæ—¥å¿—æ–‡ä»¶ï¼Œå¤„ç†ç›¸å…³ä¿¡å· â€¦â€¦ æœ€åæ‰æ˜¯çœŸæ­£å¼€å§‹æä¾›æœåŠ¡ã€‚    åœ¨ä¸Šé¢çš„è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼ŒæœåŠ¡è¿›ç¨‹é™¤äº†ä¸¤æ¬¡ fork å¤–è¿˜ä¼š fork å‡ºå¾ˆå¤šå¾ˆå¤šçš„å­è¿›ç¨‹ï¼ˆæ¯”å¦‚è¯´ä¸€äº›WebæœåŠ¡è¿›ç¨‹ï¼Œä¼šæ ¹æ®ç”¨æˆ·çš„è¯·æ±‚é“¾æ¥æ¥ fork å­è¿›ç¨‹ï¼‰ï¼Œè¿™ä¸ªè¿›ç¨‹æ ‘æ˜¯ç›¸å½“éš¾ä»¥ç®¡ç†çš„ï¼Œå› ä¸ºï¼Œä¸€æ—¦çˆ¶è¿›ç¨‹é€€å‡ºæ¥äº†ï¼Œå­è¿›ç¨‹å°±ä¼šè¢«æŒ‚åˆ° PID 1ä¸‹ï¼Œæ‰€ä»¥ï¼ŒåŸºæœ¬ä¸Šæ¥è¯´ï¼Œä½ æ— æ³•é€šè¿‡æœåŠ¡è¿›ç¨‹è‡ªå·²ç»™å®šçš„ä¸€ä¸ªpidæ–‡ä»¶æ¥æ‰¾åˆ°æ‰€æœ‰çš„ç›¸å…³è¿›ç¨‹ï¼ˆè¿™ä¸ªå¯¹å¼€å‘è€…çš„è¦æ±‚å¤ªé«˜äº†ï¼‰ï¼Œæ‰€ä»¥ï¼Œåœ¨ä¼ ç»Ÿçš„æ–¹å¼ä¸‹ç”¨è„šæœ¬å¯åœæœåŠ¡æ˜¯ç›¸å½“ç›¸å½“çš„ Buggy çš„ï¼Œå› ä¸ºæ— æ³•åšå¯¹æ‰€æœ‰çš„æœåŠ¡ç”Ÿå‡ºæ¥çš„å­å­å­™å­™åšåˆ°ç›‘æ§ã€‚\n  ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œupstart é€šè¿‡å˜æ€çš„ strace æ¥è·Ÿè¸ªè¿›ç¨‹ä¸­çš„ fork() å’Œ exec() æˆ– exit() ç­‰ç›¸å…³çš„ç³»ç»Ÿè°ƒç”¨ã€‚è¿™ç§æ–¹æ³•ç›¸å½“ç¬¨æ‹™ã€‚ systemd ä½¿ç”¨äº†ä¸€ä¸ªéå¸¸æœ‰æ„æ€çš„ç©æ³•æ¥ tracking æœåŠ¡è¿›ç¨‹ç”Ÿå‡ºæ¥çš„æ‰€æœ‰è¿›ç¨‹ï¼Œé‚£å°±æ˜¯ç”¨ cgroup ï¼ˆæˆ‘åœ¨ Docker çš„åŸºç¡€æŠ€æœ¯â€œcgroupç¯‡â€ä¸­è®²è¿‡è¿™ä¸ªä¸œè¥¿ï¼‰ã€‚cgroupä¸»è¦æ˜¯ç”¨æ¥ç®¡ç†è¿›ç¨‹ç»„èµ„æºé…é¢çš„äº‹ï¼Œæ‰€ä»¥ï¼Œæ— è®ºæœåŠ¡å¦‚ä½•å¯åŠ¨æ–°çš„å­è¿›ç¨‹ï¼Œæ‰€æœ‰çš„è¿™äº›ç›¸å…³è¿›ç¨‹éƒ½ä¼šåŒå±äºä¸€ä¸ª cgroupï¼Œæ‰€ä»¥ï¼Œsystemd åªéœ€è¦ç®€å•çš„å»éå†ä¸€ä¸‹ç›¸åº”çš„ cgroup çš„é‚£ä¸ªè™šæ–‡ä»¶ç³»ç»Ÿç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œå°±å¯ä»¥æ­£ç¡®çš„æ‰¾åˆ°æ‰€æœ‰çš„ç›¸å…³è¿›ç¨‹ï¼Œå¹¶å°†ä»–ä»¬ä¸€ä¸€åœæ­¢ã€‚\n  å¦å¤–ï¼Œsystemd ç®€åŒ–äº†æ•´ä¸ª daemon å¼€å‘çš„è¿‡ç¨‹ï¼š\n ä¸éœ€è¦ä¸¤æ¬¡ fork()ï¼Œåªéœ€è¦å®ç°æœåŠ¡æœ¬èº«çš„ä¸»é€»è¾‘å°±å¯ä»¥äº†ã€‚ ä¸éœ€è¦ setsid()ï¼Œsystemd ä¼šå¸®ä½ å¹² ä¸éœ€è¦ç»´æŠ¤ pidæ–‡ä»¶ï¼Œsystemd ä¼šå¸®å¤„ç†ã€‚ ä¸éœ€è¦ç®¡ç†æ—¥å¿—æ–‡ä»¶æˆ–æ˜¯ä½¿ç”¨syslogï¼Œæˆ–æ˜¯å¤„ç†HUPçš„æ—¥å¿—reloadä¿¡å·ã€‚æŠŠæ—¥å¿—æ‰“åˆ° stderr ä¸Šï¼Œsystemd å¸®ä½ ç®¡ç†ã€‚ å¤„ç† SIGTERM ä¿¡å·ï¼Œè¿™ä¸ªä¿¡å·å°±æ˜¯æ­£ç¡®é€€å‡ºå½“å‰æœåŠ¡ï¼Œä¸è¦åšå…¶ä»–çš„äº‹ã€‚ â€¦â€¦  é™¤æ­¤ä¹‹å¤–ï¼Œsystemd è¿˜èƒ½â€”â€”\n è‡ªåŠ¨æ£€æµ‹å¯åŠ¨çš„æœåŠ¡é—´æœ‰æ²¡æœ‰ç¯å½¢ä¾èµ–ã€‚ å†…å»º autofs è‡ªåŠ¨æŒ‚è½½ç®¡ç†åŠŸèƒ½ã€‚ æ—¥å¿—æœåŠ¡ã€‚systemd æ”¹é€ äº†ä¼ ç»Ÿçš„ syslog çš„é—®é¢˜ï¼Œé‡‡ç”¨äºŒè¿›åˆ¶æ ¼å¼ä¿å­˜æ—¥å¿—ï¼Œæ—¥å¿—ç´¢å¼•æ›´å¿«ã€‚ å¿«ç…§å’Œæ¢å¤ã€‚å¯¹å½“å‰çš„ç³»ç»Ÿè¿è¡Œçš„æœåŠ¡é›†åˆåšå¿«ç…§ï¼Œå¹¶å¯ä»¥æ¢å¤ã€‚ â€¦â€¦  è¿˜æœ‰å¥½å¤šå¥½å¤šï¼Œä»–æ¥ç®¡å¾ˆå¤šå¾ˆå¤šä¸œè¥¿ï¼Œäºæ˜¯å°±è®©å¾ˆå¤šäººä¸çˆ½äº†ï¼Œå› ä¸ºä»–åœ¨å¹²äº†å¾ˆå¤šæœ¬ä¸å±äº PID 1 çš„äº‹ã€‚\nSystemd äº‰è®ºå’Œå…«å¦ äºæ˜¯ systemd è¿™ä¸ªä¸œè¥¿æˆäº†å¯èƒ½æ˜¯æœ‰å²ä»¥æ¥å£æ°´æˆ˜æœ€å¤šçš„ä¸€ä¸ªå¼€æºè½¯ä»¶äº†ã€‚systemd é¥±å—å„ç§äº‰è®®ï¼Œæœ€å¤§çš„äº‰è®®å°±æ˜¯ä»–ç ´åäº† Unix çš„è®¾è®¡å“²å­¦ï¼ˆç›¸å…³çš„å“²å­¦å¯ä»¥è¯»ä¸€ä¸‹ã€ŠUnixç¼–ç¨‹è‰ºæœ¯ã€‹ï¼‰ï¼Œå¹²äº†ä¸€ä¸ªå¤§è€Œå…¨è€Œä¸”ç›¸å½“å¤æ‚çš„ä¸œè¥¿ã€‚å½“ç„¶ï¼ŒLennart å¹¶ä¸åŒæ„è¿™æ ·çš„è¯´æ³•ï¼Œä»–åæ¥åˆå†™ä¸€ç¯‡blog â€œThe Biggest Mythsâ€æ¥è§£é‡Š systemd å¹¶ä¸æ˜¯è¿™æ ·çš„ï¼Œå¤§å®¶å¯ä»¥å‰å¾€ä¸€è¯»ã€‚\nè¿™ä¸ªäº‰è®®å¤§åˆ°ä»€ä¹ˆæ ·å­å‘¢ï¼Ÿ2014 å¹´ï¼ŒDebian Linux å› ä¸ºæƒ³å‡†å¤‡ä½¿ç”¨ systemd æ¥ä½œä¸ºæ ‡å‡†çš„ init å®ˆæŠ¤è¿›ç¨‹æ¥æ›¿æ¢ sysvinit ã€‚è€Œå›´ç»•è¿™ä¸ªäº‹çš„äº‰è®ºè¾¾åˆ°äº†ç©ºå‰çš„çƒ­åº¦ï¼Œäº‰è®ºä¸­å……æ»¡ç€ä»‡æ¨ï¼Œsystemd çš„æ”¯æŒè€…å’Œåå¯¹è€…éƒ½åœ¨äº’ç›¸è¾±éª‚ï¼Œå¯¼è‡´å½“æ—¶ Debian é˜µè¥å¼€å§‹åˆ†è£‚ã€‚è¿˜æœ‰äººç»™ Lennart å‘äº†æ­»äº¡å¨èƒçš„é‚®ä»¶ï¼Œç”¨æ¯”ç‰¹å¸é›‡å‡¶ä¹°æ€æ‰‹ï¼Œæ‰¬è¨€è¦å–ä»–çš„æ€§å‘½ï¼Œåœ¨Youbuteä¸Šä¼ äº†ä¾®è¾±ä»–çš„æ­Œæ›²ï¼Œåœ¨IRCå’Œå„ç§ç¤¾äº¤æ¸ é“ä¸Šç»™ä»–å‘ä¸‹æµå’Œä¾®è¾±æ€§çš„æ¶ˆæ¯ã€‚è¿™å·²ç»ä¸æ˜¯äº‰è®®äº†ï¼Œè€Œæ˜¯ä¸€ç§ä¸æŠ˜ä¸æ‰£çš„ä»‡æ¨ï¼\näºæ˜¯ï¼ŒLennart åœ¨ Google Plus ä¸Šå‘äº†è´´å­ï¼Œæ‰¹è¯„æ•´ä¸ª Linux å¼€æºç¤¾åŒºå’Œ Linus æœ¬äººã€‚ä»–å¤§æ„è¯´ï¼Œ\n è¿™ä¸ªç¤¾åŒºå¤ªç—…æ€äº†ï¼Œå…¨æ˜¯ ass holesï¼Œä½ ä»¬ä¸åœç”¨å„ç§æ‰‹æ®µåœ¨å„ç§åœ°æ–¹ç”¨ä¸åŒçš„è¯­è¨€å’Œæ–¹å¼æ¥ä¾®è¾±å’Œæ¼«éª‚æˆ‘ã€‚æˆ‘è¿˜æ˜¯ä¸€ä¸ªå¹´è½»äººï¼Œæˆ‘ä»æ¥æ²¡æœ‰ç»å†è¿‡è¿™æ ·çš„åœºé¢ï¼Œä½†æ˜¯ä»Šå¤©æˆ‘å·²ç»å¯¹è¿™ç§åœºé¢å¾ˆç†Ÿæ‚‰äº†ã€‚æˆ‘æœ‰æ—¶å€™è¯´è¯å¯èƒ½ä¸å‡†ç¡®ï¼Œä½†æ˜¯æˆ‘ä¸ä¼šåƒä»–æ ·é‚£æ ·è¯´å‡ºé‚£æ ·çš„è¯ï¼Œæˆ‘ä¹Ÿæ²¡æœ‰è¢«è¿™äº›äº‹å½±å“ï¼Œå› ä¸ºæˆ‘è„¸çš®å¤Ÿåšï¼Œæ‰€ä»¥ï¼Œä¸ºä»€ä¹ˆæˆ‘å¯ä»¥åœ¨å¦‚ä½•å¤§çš„åå¯¹å£°é¢å‰è®© systemd æˆåŠŸï¼Œä½†æ˜¯ï¼Œä½ ä»¬ Linux ç¤¾åŒºå¤ªå¯æ€•äº†ã€‚ä½ ä»¬é‡Œé¢çš„æœ‰ç²¾ç¥ç—…çš„äººå¤ªå¤šäº†ã€‚å¦å¤–ï¼Œå¯¹äºLinus Torvaldsï¼Œä½ æ˜¯è¿™ä¸ªç¤¾åŒºçš„ Role Modelï¼Œä½†å¯æƒœä½ æ˜¯ä¸€ä¸ª Bad Role Modelï¼Œä½ åœ¨ç¤¾åŒºé‡Œçš„åˆ»è–„å’Œä¾®è¾±æ€§çš„è¨€è¡Œï¼ŒåŸºæœ¬ä»ä¸€å®šç¨‹åº¦ä¸Šé¼“åŠ±äº†å…¶å®ƒäººè·Ÿä½ ä¸€æ ·ï¼Œå½“ç„¶ï¼Œå¹¶ä¸åªæ˜¯ä½ ä¸€ä¸ªäººçš„é—®é¢˜ï¼Œè€Œæ˜¯åœ¨ä½ å‘¨å›´èšé›†äº†ä¸€ç¾¤å’Œä½ ä¸€æ ·çš„è¿™æ ·å¹²çš„äººã€‚é€ä½ ä¸€å¥è¯â€”â€” A fish rots from the head down ï¼ä¸€æ¡é±¼æ˜¯ä»å¤´å¾€ä¸‹è…çƒ‚çš„â€¦â€¦\n è¿™ç¯‡å¥‘æ–‡å¾ˆé•¿ï¼Œå–œæ¬¢å…«å¦çš„åŒå­¦å¯ä»¥å‰å¾€ä¸€è¯»ã€‚æ„Ÿå—ä¸€ä¸‹ Lennart å½“æ—¶çš„å¿ƒæ€ï¼ˆæˆ‘è§‰å¾—èƒ½ç®—ä¸Šæ˜¯éå¸¸å¹³ç¨³äº†ï¼‰ã€‚\nLinusä¹Ÿåœ¨è¢«ä¸€åª’ä½“é—®èµ· systemd è¿™ä¸ªäº‹æ¥ï¼ˆå‚çœ‹â€œTorvalds says he has no strong opinions on systemdâ€ï¼‰ï¼ŒLinusåœ¨é‡‡è®¿é‡Œè¯´ï¼Œ\n æˆ‘å¯¹ systemd å’Œ Lennart çš„è´´å­æ²¡æœ‰ä»€ä¹ˆå¼ºçƒˆçš„æƒ³æ³•ã€‚è™½ç„¶ï¼Œä¼ ç»Ÿçš„ Unix è®¾è®¡å“²å­¦â€”â€” â€œDo one thing and Do it wellâ€ï¼Œå¾ˆä¸é”™ï¼Œè€Œä¸”æˆ‘ä»¬å¤§å¤šæ•°äººä¹Ÿå®è·µäº†è¿™ä¹ˆå¤šå¹´ï¼Œä½†æ˜¯è¿™å¹¶ä¸ä»£è¡¨æ‰€æœ‰çš„çœŸå®ä¸–ç•Œã€‚åœ¨å†å²ä¸Šï¼Œä¹Ÿä¸åªæœ‰systemd è¿™ä¹ˆå¹²è¿‡ã€‚ä½†æ˜¯ï¼Œæˆ‘ä¸ªäººè¿˜æ˜¯ old-fashioned çš„äººï¼Œè‡³å°‘æˆ‘å–œæ¬¢æ–‡æœ¬å¼çš„æ—¥å¿—ï¼Œè€Œä¸æ˜¯äºŒè¿›åˆ¶çš„æ—¥å¿—ã€‚ä½†æ˜¯ systemd æ²¡æœ‰å¿…è¦ä¸€å®šè¦æœ‰è¿™æ ·çš„å“å‘³ã€‚å“¦ï¼Œæˆ‘è¯´ç»†èŠ‚äº†â€¦â€¦\n ä»Šå¤©ï¼Œsystemd å æ®äº†å‡ ä¹æ‰€æœ‰çš„ä¸»æµçš„ Linux å‘è¡Œç‰ˆçš„é»˜è®¤é…ç½®ï¼ŒåŒ…æ‹¬ï¼šArch Linuxã€CentOSã€CoreOSã€Debianã€Fedoraã€Megeiaã€OpenSUSEã€RHELã€SUSEä¼ä¸šç‰ˆå’Œ Ubuntuã€‚è€Œä¸”ï¼Œå¯¹äº CentOS, CoreOS, Fedora, RHEL, SUSEè¿™äº›å‘è¡Œç‰ˆæ¥è¯´ï¼Œä¸èƒ½æ²¡æœ‰ systemdã€‚ï¼ˆUbuntu è¿˜æœ‰ä¸€ä¸ªä¸é”™çš„wiki â€“ Systemd for Upstart Users é˜è¿°äº†å¦‚ä½•åœ¨ä¸¤è€…é—´åˆ‡æ¢ï¼‰\nå…¶å®ƒ è¿˜è®°å¾—åœ¨ã€Šç¼“å­˜æ›´æ–°çš„å¥—è·¯ã€‹ä¸€æ–‡ä¸­ï¼Œæˆ‘è¯´è¿‡ï¼Œå¦‚æœä½ è¦åšå¥½æ¶æ„ï¼Œé¦–å…ˆä½ å¾—æŠŠè®¡ç®—æœºä½“ç³»ç»“æ„ä»¥åŠå¾ˆå¤šè€å¤è‘£çš„åŸºç¡€æŠ€æœ¯åƒé€äº†ã€‚å› ä¸ºé‡Œé¢ä¼šæœ‰å¾ˆå¤šå¯ä»¥å€Ÿé‰´å’Œç›¸é€šçš„ä¸œè¥¿ã€‚é‚£ä¹ˆï¼Œä½ æ˜¯å¦ä»è¿™ç¯‡æ–‡ç« é‡Œçœ‹åˆ°äº†ä¸€äº›æœ‰åˆ†å¸ƒå¼æ¶æ„ç›¸ä¼¼çš„ä¸œè¥¿ï¼Ÿ\næ¯”å¦‚ï¼šä» sysvinit åˆ° upstart å†åˆ° systemdï¼Œåƒä¸åƒæ˜¯æœåŠ¡æ²»ç†ï¼ŸLinuxç³»ç»Ÿä¸‹çš„è¿™äº›æœåŠ¡è¿›ç¨‹ï¼Œæ˜¯ä¸æ˜¯å¾ˆåƒåˆ†å¸ƒå¼æ¶æ„ä¸­çš„å¾®æœåŠ¡ï¼Ÿè¿˜æœ‰é‚£ä¸ªD-Busï¼Œæ˜¯ä¸æ˜¯å¾ˆåƒSOAé‡Œçš„ESBï¼Ÿè€Œ init ç³»ç»Ÿæ˜¯ä¸æ˜¯å¾ˆåƒä¸€ä¸ªæ§åˆ¶ç³»ç»Ÿï¼Ÿç”šè‡³åƒä¸€ä¸ªæœåŠ¡ç¼–æ’ï¼ˆService Orchestrationï¼‰ç³»ç»Ÿï¼Ÿ\nåˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„æœåŠ¡ä¹‹é—´ä¹Ÿæœ‰å¾ˆå¤šä¾èµ–ï¼Œæ‰€ä»¥ï¼Œåœ¨å¯åŠ¨ä¸€ä¸ªæ¶æ„çš„æ—¶å€™ï¼Œå¦‚æœæˆ‘ä»¬å¯ä»¥åšåˆ°åƒ systemd é‚£æ ·å¹¶è¡Œå¯åŠ¨çš„è¯ï¼Œé‚£ä¹ˆæ˜¯ä¸æ˜¯å°±åƒæ˜¯ä¸€ä¸ªå¾®æœåŠ¡çš„ç©æ³•äº†ï¼Ÿ\nå—¯ï¼Œä½ ä¼šå‘ç°ï¼ŒæŠ€æœ¯ä¸Šçš„å¾ˆå¤šä¸œè¥¿æ˜¯ç›¸é€šçš„ï¼Œä¹Ÿæ˜¯äº’ç›¸æœ‰å¯¹æ–¹çš„å½±å­ï¼Œæ‰€ä»¥ï¼Œå…¶å®æŠ€æœ¯å¹¶ä¸å¤šã€‚å…³é”®æ˜¯æˆ‘ä»¬å­¦åœ¨äº†è¡¨é¢è¿˜æ˜¯çœ‹åˆ°äº†æœ¬è´¨ã€‚\nå‘½ä»¤ Systemd æ˜¯ Linux ç³»ç»Ÿå·¥å…·ï¼Œç”¨æ¥å¯åŠ¨å®ˆæŠ¤è¿›ç¨‹ï¼Œå·²æˆä¸ºå¤§å¤šæ•°å‘è¡Œç‰ˆçš„æ ‡å‡†é…ç½®ã€‚\nç³»ç»Ÿç®¡ç† Systemd å¹¶ä¸æ˜¯ä¸€ä¸ªå‘½ä»¤ï¼Œè€Œæ˜¯ä¸€ç»„å‘½ä»¤ï¼Œæ¶‰åŠåˆ°ç³»ç»Ÿç®¡ç†çš„æ–¹æ–¹é¢é¢ã€‚\nsystemctl\nsystemctlæ˜¯ Systemd çš„ä¸»å‘½ä»¤ï¼Œç”¨äºç®¡ç†ç³»ç»Ÿã€‚\n# é‡å¯ç³»ç»Ÿ $ sudo systemctl reboot # å…³é—­ç³»ç»Ÿï¼Œåˆ‡æ–­ç”µæº $ sudo systemctl poweroff # CPUåœæ­¢å·¥ä½œ $ sudo systemctl halt # æš‚åœç³»ç»Ÿ $ sudo systemctl suspend # è®©ç³»ç»Ÿè¿›å…¥å†¬çœ çŠ¶æ€ $ sudo systemctl hibernate # è®©ç³»ç»Ÿè¿›å…¥äº¤äº’å¼ä¼‘çœ çŠ¶æ€ $ sudo systemctl hybrid-sleep # å¯åŠ¨è¿›å…¥æ•‘æ´çŠ¶æ€ï¼ˆå•ç”¨æˆ·çŠ¶æ€ï¼‰ $ sudo systemctl rescue systemd-analyze\nsystemd-analyzeå‘½ä»¤ç”¨äºæŸ¥çœ‹å¯åŠ¨è€—æ—¶ã€‚\n# æŸ¥çœ‹å¯åŠ¨è€—æ—¶ $ systemd-analyze # æŸ¥çœ‹æ¯ä¸ªæœåŠ¡çš„å¯åŠ¨è€—æ—¶ $ systemd-analyze blame # æ˜¾ç¤ºç€‘å¸ƒçŠ¶çš„å¯åŠ¨è¿‡ç¨‹æµ$ $ systemd-analyze critical-chain # æ˜¾ç¤ºæŒ‡å®šæœåŠ¡çš„å¯åŠ¨æµ $ systemd-analyze critical-chain atd.service hostnamectl\nhostnamectlå‘½ä»¤ç”¨äºæŸ¥çœ‹å½“å‰ä¸»æœºçš„ä¿¡æ¯ã€‚\n# æ˜¾ç¤ºå½“å‰ä¸»æœºçš„ä¿¡æ¯ $ hostnamectl # è®¾ç½®ä¸»æœºåã€‚ $ sudo hostnamectl set-hostname rhel7 localectl\nlocalectlå‘½ä»¤ç”¨äºæŸ¥çœ‹æœ¬åœ°åŒ–è®¾ç½®ã€‚\n# æŸ¥çœ‹æœ¬åœ°åŒ–è®¾ç½® $ localectl # è®¾ç½®æœ¬åœ°åŒ–å‚æ•°ã€‚ $ sudo localectl set-locale LANG=en_GB.utf8 $ sudo localectl set-keymap en_GB timedatectl\ntimedatectlå‘½ä»¤ç”¨äºæŸ¥çœ‹å½“å‰æ—¶åŒºè®¾ç½®ã€‚\n# æŸ¥çœ‹å½“å‰æ—¶åŒºè®¾ç½® $ timedatectl # æ˜¾ç¤ºæ‰€æœ‰å¯ç”¨çš„æ—¶åŒº $ timedatectl list-timezones # è®¾ç½®å½“å‰æ—¶åŒº $ sudo timedatectl set-timezone America/New_York $ sudo timedatectl set-time YYYY-MM-DD $ sudo timedatectl set-time HH:MM:SS loginctl\nloginctlå‘½ä»¤ç”¨äºæŸ¥çœ‹å½“å‰ç™»å½•çš„ç”¨æˆ·ã€‚\n# åˆ—å‡ºå½“å‰session $ loginctl list-sessions # åˆ—å‡ºå½“å‰ç™»å½•ç”¨æˆ· $ loginctl list-users # åˆ—å‡ºæ˜¾ç¤ºæŒ‡å®šç”¨æˆ·çš„ä¿¡æ¯ $ loginctl show-user ruanyf Unit å«ä¹‰\nSystemd å¯ä»¥ç®¡ç†æ‰€æœ‰ç³»ç»Ÿèµ„æºã€‚ä¸åŒçš„èµ„æºç»Ÿç§°ä¸º Unitï¼ˆå•å…ƒï¼‰ã€‚ç®€å•è¯´ï¼Œå•å…ƒå°±æ˜¯ Systemd çš„æœ€å°åŠŸèƒ½å•ä½ï¼Œæ˜¯å•ä¸ªè¿›ç¨‹çš„æè¿°ã€‚ä¸€ä¸ªä¸ªå°çš„å•å…ƒäº’ç›¸è°ƒç”¨å’Œä¾èµ–ï¼Œç»„æˆä¸€ä¸ªåºå¤§çš„ä»»åŠ¡ç®¡ç†ç³»ç»Ÿï¼Œè¿™å°±æ˜¯ Systemd çš„åŸºæœ¬æ€æƒ³ã€‚\nç”±äº Systemd è¦åšçš„äº‹æƒ…å¤ªå¤šï¼Œå¯¼è‡´å•å…ƒæœ‰å¾ˆå¤šä¸åŒçš„ç§ç±»ï¼Œå¤§æ¦‚ä¸€å…±æœ‰12ç§ã€‚\n Service unitï¼šç³»ç»ŸæœåŠ¡ Target unitï¼šå¤šä¸ª Unit æ„æˆçš„ä¸€ä¸ªç»„ Device Unitï¼šç¡¬ä»¶è®¾å¤‡ Mount Unitï¼šæ–‡ä»¶ç³»ç»Ÿçš„æŒ‚è½½ç‚¹ Automount Unitï¼šè‡ªåŠ¨æŒ‚è½½ç‚¹ Path Unitï¼šæ–‡ä»¶æˆ–è·¯å¾„ Scope Unitï¼šä¸æ˜¯ç”± Systemd å¯åŠ¨çš„å¤–éƒ¨è¿›ç¨‹ Slice Unitï¼šè¿›ç¨‹ç»„ï¼Œèµ„æºåˆ†é… Snapshot Unitï¼šSystemd å¿«ç…§ï¼Œå¯ä»¥åˆ‡å›æŸä¸ªå¿«ç…§ Socket Unitï¼šè¿›ç¨‹é—´é€šä¿¡çš„ socket Swap Unitï¼šswap æ–‡ä»¶ Timer Unitï¼šå®šæ—¶å™¨  systemctl list-unitså‘½ä»¤å¯ä»¥æŸ¥çœ‹å½“å‰ç³»ç»Ÿçš„æ‰€æœ‰ Unit ã€‚\n# åˆ—å‡ºæ­£åœ¨è¿è¡Œçš„ Unit $ systemctl list-units # åˆ—å‡ºæ‰€æœ‰Unitï¼ŒåŒ…æ‹¬æ²¡æœ‰æ‰¾åˆ°é…ç½®æ–‡ä»¶çš„æˆ–è€…å¯åŠ¨å¤±è´¥çš„ $ systemctl list-units --all # åˆ—å‡ºæ‰€æœ‰æ²¡æœ‰è¿è¡Œçš„ Unit $ systemctl list-units --all --state=inactive # åˆ—å‡ºæ‰€æœ‰åŠ è½½å¤±è´¥çš„ Unit $ systemctl list-units --failed # åˆ—å‡ºæ‰€æœ‰æ­£åœ¨è¿è¡Œçš„ã€ç±»å‹ä¸º service çš„ Unit $ systemctl list-units --type=service Unit çš„çŠ¶æ€\nsystemctl statuså‘½ä»¤ç”¨äºæŸ¥çœ‹ç³»ç»ŸçŠ¶æ€å’Œå•ä¸ª Unit çš„çŠ¶æ€ã€‚\n# æ˜¾ç¤ºç³»ç»ŸçŠ¶æ€ $ systemctl status # æ˜¾ç¤ºå•ä¸ª Unit çš„çŠ¶æ€ $ sysystemctl status bluetooth.service # æ˜¾ç¤ºè¿œç¨‹ä¸»æœºçš„æŸä¸ª Unit çš„çŠ¶æ€ $ systemctl -H root@rhel7.example.com status httpd.service ä¾‹å¦‚æŸ¥çœ‹ httpd çŠ¶æ€\n$ sudo systemctl status httpd httpd.service - The Apache HTTP Server Loaded: loaded (/usr/lib/systemd/system/httpd.service; enabled) Active: active (running) since é‡‘ 2014-12-05 12:18:22 JST; 7min ago Main PID: 4349 (httpd) Status: \u0026#34;Total requests: 1; Current requests/sec: 0; Current traffic: 0 B/sec\u0026#34; CGroup: /system.slice/httpd.service â”œâ”€4349 /usr/sbin/httpd -DFOREGROUND â”œâ”€4350 /usr/sbin/httpd -DFOREGROUND â”œâ”€4351 /usr/sbin/httpd -DFOREGROUND â”œâ”€4352 /usr/sbin/httpd -DFOREGROUND â”œâ”€4353 /usr/sbin/httpd -DFOREGROUND â””â”€4354 /usr/sbin/httpd -DFOREGROUND 12æœˆ 05 12:18:22 localhost.localdomain systemd[1]: Starting The Apache HTTP Server... 12æœˆ 05 12:18:22 localhost.localdomain systemd[1]: Started The Apache HTTP Server. 12æœˆ 05 12:22:40 localhost.localdomain systemd[1]: Started The Apache HTTP Server. ä¸Šé¢çš„è¾“å‡ºç»“æœå«ä¹‰å¦‚ä¸‹ã€‚\n Loadedè¡Œï¼šé…ç½®æ–‡ä»¶çš„ä½ç½®ï¼Œæ˜¯å¦è®¾ä¸ºå¼€æœºå¯åŠ¨ Activeè¡Œï¼šè¡¨ç¤ºæ­£åœ¨è¿è¡Œ Main PIDè¡Œï¼šä¸»è¿›ç¨‹ID Statusè¡Œï¼šç”±åº”ç”¨æœ¬èº«ï¼ˆè¿™é‡Œæ˜¯ httpd ï¼‰æä¾›çš„è½¯ä»¶å½“å‰çŠ¶æ€ CGroupå—ï¼šåº”ç”¨çš„æ‰€æœ‰å­è¿›ç¨‹ æ—¥å¿—å—ï¼šåº”ç”¨çš„æ—¥å¿—  é™¤äº†statuså‘½ä»¤ï¼Œsystemctlè¿˜æä¾›äº†ä¸‰ä¸ªæŸ¥è¯¢çŠ¶æ€çš„ç®€å•æ–¹æ³•ï¼Œä¸»è¦ä¾›è„šæœ¬å†…éƒ¨çš„åˆ¤æ–­è¯­å¥ä½¿ç”¨ã€‚\n# æ˜¾ç¤ºæŸä¸ª Unit æ˜¯å¦æ­£åœ¨è¿è¡Œ $ systemctl is-active application.service # æ˜¾ç¤ºæŸä¸ª Unit æ˜¯å¦å¤„äºå¯åŠ¨å¤±è´¥çŠ¶æ€ $ systemctl is-failed application.service # æ˜¾ç¤ºæŸä¸ª Unit æœåŠ¡æ˜¯å¦å»ºç«‹äº†å¯åŠ¨é“¾æ¥ $ systemctl is-enabled application.service Unit ç®¡ç†\nå¯¹äºç”¨æˆ·æ¥è¯´ï¼Œæœ€å¸¸ç”¨çš„æ˜¯ä¸‹é¢è¿™äº›å‘½ä»¤ï¼Œç”¨äºå¯åŠ¨å’Œåœæ­¢ Unitï¼ˆä¸»è¦æ˜¯ serviceï¼‰ã€‚\n# ç«‹å³å¯åŠ¨ä¸€ä¸ªæœåŠ¡ $ sudo systemctl start apache.service # ç«‹å³åœæ­¢ä¸€ä¸ªæœåŠ¡ $ sudo systemctl stop apache.service # é‡å¯ä¸€ä¸ªæœåŠ¡ $ sudo systemctl restart apache.service # æ€æ­»ä¸€ä¸ªæœåŠ¡çš„æ‰€æœ‰å­è¿›ç¨‹ $ sudo systemctl kill apache.service # é‡æ–°åŠ è½½ä¸€ä¸ªæœåŠ¡çš„é…ç½®æ–‡ä»¶ $ sudo systemctl reload apache.service # é‡è½½æ‰€æœ‰ä¿®æ”¹è¿‡çš„é…ç½®æ–‡ä»¶ $ sudo systemctl daemon-reload # æ˜¾ç¤ºæŸä¸ª Unit çš„æ‰€æœ‰åº•å±‚å‚æ•° $ systemctl show httpd.service # æ˜¾ç¤ºæŸä¸ª Unit çš„æŒ‡å®šå±æ€§çš„å€¼ $ systemctl show -p CPUShares httpd.service # è®¾ç½®æŸä¸ª Unit çš„æŒ‡å®šå±æ€§ $ sudo systemctl set-property httpd.service CPUShares=500 æœ‰æ—¶å€™ï¼Œè¯¥å‘½ä»¤å¯èƒ½æ²¡æœ‰å“åº”ï¼Œæ‰§è¡Œsystemctl stopæœåŠ¡åœä¸ä¸‹æ¥ã€‚è¿™æ—¶å€™å°±ä¸å¾—ä¸\u0026quot;æ€è¿›ç¨‹\u0026quot;äº†ï¼Œå‘æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹å‘å‡ºkillä¿¡å·ï¼Œæ‰§è¡Œsystemctl killã€‚\nä¾èµ–å…³ç³»\nUnit ä¹‹é—´å­˜åœ¨ä¾èµ–å…³ç³»ï¼šA ä¾èµ–äº Bï¼Œå°±æ„å‘³ç€ Systemd åœ¨å¯åŠ¨ A çš„æ—¶å€™ï¼ŒåŒæ—¶ä¼šå»å¯åŠ¨ Bã€‚\nsystemctl list-dependencieså‘½ä»¤åˆ—å‡ºä¸€ä¸ª Unit çš„æ‰€æœ‰ä¾èµ–ã€‚\n$ systemctl list-dependencies nginx.service ä¸Šé¢å‘½ä»¤çš„è¾“å‡ºç»“æœä¹‹ä¸­ï¼Œæœ‰äº›ä¾èµ–æ˜¯ Target ç±»å‹ï¼ˆè¯¦è§ä¸‹æ–‡ï¼‰ï¼Œé»˜è®¤ä¸ä¼šå±•å¼€æ˜¾ç¤ºã€‚å¦‚æœè¦å±•å¼€ Targetï¼Œå°±éœ€è¦ä½¿ç”¨--allå‚æ•°ã€‚\n$ systemctl list-dependencies --all nginx.service Unit çš„é…ç½®æ–‡ä»¶ æ¦‚è¿°\næ¯ä¸€ä¸ª Unit éƒ½æœ‰ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œå‘Šè¯‰ Systemd æ€ä¹ˆå¯åŠ¨è¿™ä¸ª Unit ã€‚\né™¤äº†ç³»ç»Ÿé»˜è®¤çš„å•å…ƒæ–‡ä»¶/lib/systemd/systemï¼ŒSystemd é»˜è®¤ä»ç›®å½•/etc/systemd/system/è¯»å–é…ç½®æ–‡ä»¶ã€‚ä½†æ˜¯ï¼Œé‡Œé¢å­˜æ”¾çš„å¤§éƒ¨åˆ†æ–‡ä»¶éƒ½æ˜¯ç¬¦å·é“¾æ¥ï¼ŒæŒ‡å‘ç›®å½•/usr/lib/systemd/system/ã€‚é‚£äº›æ”¯æŒ Systemd çš„è½¯ä»¶ï¼Œå®‰è£…çš„æ—¶å€™ï¼Œä¹Ÿä¼šè‡ªåŠ¨åœ¨/usr/lib/systemd/systemç›®å½•æ·»åŠ ä¸€ä¸ªé…ç½®æ–‡ä»¶ã€‚\nsystemctl enableå‘½ä»¤ç”¨äºåœ¨/etc/systemd/system/å’Œ/usr/lib/systemd/systemä¹‹é—´ï¼Œå»ºç«‹ç¬¦å·é“¾æ¥å…³ç³»ã€‚\n$ sudo systemctl enable clamd@scan.service # ç­‰åŒäº $ sudo ln -s \u0026#39;/usr/lib/systemd/system/clamd@scan.service\u0026#39; \u0026#39;/etc/systemd/system/multi-user.target.wants/clamd@scan.service\u0026#39; å¦‚æœé…ç½®æ–‡ä»¶é‡Œé¢è®¾ç½®äº†å¼€æœºå¯åŠ¨ï¼Œsystemctl enableå‘½ä»¤ç›¸å½“äºæ¿€æ´»å¼€æœºå¯åŠ¨ã€‚\nä¸ä¹‹å¯¹åº”çš„ï¼Œsystemctl disableå‘½ä»¤ç”¨äºåœ¨ä¸¤ä¸ªç›®å½•ä¹‹é—´ï¼Œæ’¤é”€ç¬¦å·é“¾æ¥å…³ç³»ï¼Œç›¸å½“äºæ’¤é”€å¼€æœºå¯åŠ¨ã€‚\n$ sudo systemctl disable clamd@scan.service é…ç½®æ–‡ä»¶çš„åç¼€åï¼Œå°±æ˜¯è¯¥ Unit çš„ç§ç±»ï¼Œæ¯”å¦‚sshd.socketã€‚å¦‚æœçœç•¥ï¼ŒSystemd é»˜è®¤åç¼€åä¸º.serviceï¼Œæ‰€ä»¥sshdä¼šè¢«ç†è§£æˆsshd.serviceã€‚\nè®¾ç½®å¼€æœºå¯åŠ¨ä»¥åï¼Œè½¯ä»¶å¹¶ä¸ä¼šç«‹å³å¯åŠ¨ï¼Œå¿…é¡»ç­‰åˆ°ä¸‹ä¸€æ¬¡å¼€æœºã€‚å¦‚æœæƒ³ç°åœ¨å°±è¿è¡Œè¯¥è½¯ä»¶ï¼Œé‚£ä¹ˆè¦æ‰§è¡Œsystemctl startå‘½ä»¤ã€‚\né…ç½®æ–‡ä»¶çš„çŠ¶æ€\nsystemctl list-unit-fileså‘½ä»¤ç”¨äºåˆ—å‡ºæ‰€æœ‰é…ç½®æ–‡ä»¶ã€‚\n# åˆ—å‡ºæ‰€æœ‰é…ç½®æ–‡ä»¶ $ systemctl list-unit-files # åˆ—å‡ºæŒ‡å®šç±»å‹çš„é…ç½®æ–‡ä»¶ $ systemctl list-unit-files --type=service è¿™ä¸ªå‘½ä»¤ä¼šè¾“å‡ºä¸€ä¸ªåˆ—è¡¨ã€‚\n$ systemctl list-unit-filesUNIT FILE STATEchronyd.service enabledclamd@.service staticclamd@scan.service disabled è¿™ä¸ªåˆ—è¡¨æ˜¾ç¤ºæ¯ä¸ªé…ç½®æ–‡ä»¶çš„çŠ¶æ€ï¼Œä¸€å…±æœ‰å››ç§ã€‚\n enabledï¼šå·²å»ºç«‹å¯åŠ¨é“¾æ¥ disabledï¼šæ²¡å»ºç«‹å¯åŠ¨é“¾æ¥ staticï¼šè¯¥é…ç½®æ–‡ä»¶æ²¡æœ‰[Install]éƒ¨åˆ†ï¼ˆæ— æ³•æ‰§è¡Œï¼‰ï¼Œåªèƒ½ä½œä¸ºå…¶ä»–é…ç½®æ–‡ä»¶çš„ä¾èµ– maskedï¼šè¯¥é…ç½®æ–‡ä»¶è¢«ç¦æ­¢å»ºç«‹å¯åŠ¨é“¾æ¥  æ³¨æ„ï¼Œä»é…ç½®æ–‡ä»¶çš„çŠ¶æ€æ— æ³•çœ‹å‡ºï¼Œè¯¥ Unit æ˜¯å¦æ­£åœ¨è¿è¡Œã€‚è¿™å¿…é¡»æ‰§è¡Œå‰é¢æåˆ°çš„systemctl statuså‘½ä»¤ã€‚\n$ systemctl status bluetooth.service ä¸€æ—¦ä¿®æ”¹é…ç½®æ–‡ä»¶ï¼Œå°±è¦è®© Systemd é‡æ–°åŠ è½½é…ç½®æ–‡ä»¶ï¼Œç„¶åé‡æ–°å¯åŠ¨ï¼Œå¦åˆ™ä¿®æ”¹ä¸ä¼šç”Ÿæ•ˆã€‚\n$ sudo systemctl daemon-reload $ sudo systemctl restart httpd.service é…ç½®æ–‡ä»¶çš„æ ¼å¼\né…ç½®æ–‡ä»¶å°±æ˜¯æ™®é€šçš„æ–‡æœ¬æ–‡ä»¶ï¼Œå¯ä»¥ç”¨æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ã€‚\nsystemctl catå‘½ä»¤å¯ä»¥æŸ¥çœ‹é…ç½®æ–‡ä»¶çš„å†…å®¹ã€‚\n$ systemctl cat sshd.service [Unit] Description=OpenSSH server daemon Documentation=man:sshd(8) man:sshd_config(5) After=network.target sshd-keygen.service Wants=sshd-keygen.service [Service] EnvironmentFile=/etc/sysconfig/sshd ExecStart=/usr/sbin/sshd -D $OPTIONS ExecReload=/bin/kill -HUP $MAINPID Type=simpleKill Mode=process Restart=on-failure RestartSec=42s [Install] WantedBy=multi-user.target ä»ä¸Šé¢çš„è¾“å‡ºå¯ä»¥çœ‹åˆ°ï¼Œé…ç½®æ–‡ä»¶åˆ†æˆå‡ ä¸ªåŒºå—ã€‚æ¯ä¸ªåŒºå—çš„ç¬¬ä¸€è¡Œï¼Œæ˜¯ç”¨æ–¹æ‹¬å·è¡¨ç¤ºçš„åŒºåˆ«åï¼Œæ¯”å¦‚[Unit]ã€‚æ³¨æ„ï¼Œé…ç½®æ–‡ä»¶çš„åŒºå—åå’Œå­—æ®µåï¼Œéƒ½æ˜¯å¤§å°å†™æ•æ„Ÿçš„ã€‚\næ¯ä¸ªåŒºå—å†…éƒ¨æ˜¯ä¸€äº›ç­‰å·è¿æ¥çš„é”®å€¼å¯¹ã€‚\n[Section] Directive1=value Directive2=value . . . æ³¨æ„ï¼Œé”®å€¼å¯¹çš„ç­‰å·ä¸¤ä¾§ä¸èƒ½æœ‰ç©ºæ ¼ã€‚\né…ç½®æ–‡ä»¶çš„åŒºå—\n[Unit]åŒºå—é€šå¸¸æ˜¯é…ç½®æ–‡ä»¶çš„ç¬¬ä¸€ä¸ªåŒºå—ï¼Œç”¨æ¥å®šä¹‰ Unit çš„å…ƒæ•°æ®ï¼Œä»¥åŠé…ç½®ä¸å…¶ä»– Unit çš„å…³ç³»ã€‚å®ƒçš„ä¸»è¦å­—æ®µå¦‚ä¸‹ã€‚\n  Descriptionï¼šå½“å‰æœåŠ¡çš„ç®€å•æè¿°\n  Documentationï¼šæ–‡æ¡£åœ°å€\n  å¯åŠ¨é¡ºåº\n Beforeï¼šå¦‚æœè¯¥å­—æ®µæŒ‡å®šçš„ Unit ä¹Ÿè¦å¯åŠ¨ï¼Œé‚£ä¹ˆå¿…é¡»åœ¨å½“å‰ Unit ä¹‹åå¯åŠ¨ Afterï¼šå¦‚æœè¯¥å­—æ®µæŒ‡å®šçš„ Unit ä¹Ÿè¦å¯åŠ¨ï¼Œé‚£ä¹ˆå¿…é¡»åœ¨å½“å‰ Unit ä¹‹å‰å¯åŠ¨ã€‚å¦‚network.targetæˆ–sshd-keygen.serviceéœ€è¦å¯åŠ¨ï¼Œé‚£ä¹ˆsshd.serviceåº”è¯¥åœ¨å®ƒä»¬ä¹‹åå¯åŠ¨ã€‚    ä¾èµ–å…³ç³»ï¼š\nä¸¾ä¾‹æ¥è¯´ï¼ŒæŸ Web åº”ç”¨éœ€è¦ postgresql æ•°æ®åº“å‚¨å­˜æ•°æ®ã€‚åœ¨é…ç½®æ–‡ä»¶ä¸­ï¼ŒBeforeã€After åªå®šä¹‰è¦åœ¨ postgresql ä¹‹åå¯åŠ¨ï¼Œè€Œæ²¡æœ‰å®šä¹‰ä¾èµ– postgresql ã€‚ä¸Šçº¿åï¼Œç”±äºæŸç§åŸå› ï¼Œpostgresql éœ€è¦é‡æ–°å¯åŠ¨ï¼Œåœ¨åœæ­¢æœåŠ¡æœŸé—´ï¼Œè¯¥ Web åº”ç”¨å°±ä¼šæ— æ³•å»ºç«‹æ•°æ®åº“è¿æ¥ã€‚\næ³¨æ„ï¼ŒWantså­—æ®µä¸Requireså­—æ®µåªæ¶‰åŠä¾èµ–å…³ç³»ï¼Œä¸å¯åŠ¨é¡ºåºæ— å…³ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯åŒæ—¶å¯åŠ¨çš„ã€‚\n Wantsï¼šä¸å½“å‰ Unit é…åˆçš„å…¶ä»– Unitï¼Œå¦‚æœå®ƒä»¬æ²¡æœ‰è¿è¡Œï¼Œå½“å‰ Unit ä¸ä¼šå¯åŠ¨å¤±è´¥ã€‚å¦‚sshd.serviceä¸sshd-keygen.serviceä¹‹é—´å­˜åœ¨\u0026quot;å¼±ä¾èµ–\u0026quot;å…³ç³»ï¼Œå³å¦‚æœ\u0026quot;sshd-keygen.service\u0026quot;å¯åŠ¨å¤±è´¥æˆ–åœæ­¢è¿è¡Œï¼Œä¸å½±å“sshd.serviceç»§ç»­æ‰§è¡Œã€‚ Requiresï¼šå½“å‰ Unit ä¾èµ–çš„å…¶ä»– Unitï¼Œå¦‚æœå®ƒä»¬æ²¡æœ‰è¿è¡Œï¼Œå½“å‰ Unit ä¼šå¯åŠ¨å¤±è´¥ã€‚Requireså­—æ®µåˆ™è¡¨ç¤º\u0026quot;å¼ºä¾èµ–\u0026quot;å…³ç³»ï¼Œå³å¦‚æœè¯¥æœåŠ¡å¯åŠ¨å¤±è´¥æˆ–å¼‚å¸¸é€€å‡ºï¼Œé‚£ä¹ˆsshd.serviceä¹Ÿå¿…é¡»é€€å‡ºã€‚    BindsToï¼šä¸Requiresç±»ä¼¼ï¼Œå®ƒæŒ‡å®šçš„ Unit å¦‚æœé€€å‡ºï¼Œä¼šå¯¼è‡´å½“å‰ Unit åœæ­¢è¿è¡Œ\n  Conflictsï¼šè¿™é‡ŒæŒ‡å®šçš„ Unit ä¸èƒ½ä¸å½“å‰ Unit åŒæ—¶è¿è¡Œ\n  Condition...ï¼šå½“å‰ Unit è¿è¡Œå¿…é¡»æ»¡è¶³çš„æ¡ä»¶ï¼Œå¦åˆ™ä¸ä¼šè¿è¡Œ\n  Assert...ï¼šå½“å‰ Unit è¿è¡Œå¿…é¡»æ»¡è¶³çš„æ¡ä»¶ï¼Œå¦åˆ™ä¼šæŠ¥å¯åŠ¨å¤±è´¥\n  StartLimitIntervalSec=interval, StartLimitBurst=burstï¼šè®¾ç½®å•å…ƒçš„å¯åŠ¨é¢‘ç‡é™åˆ¶ã€‚ ä¹Ÿå°±æ˜¯è¯¥å•å…ƒåœ¨ interval æ—¶é—´å†…æœ€å¤šå…è®¸å¯åŠ¨ burst æ¬¡ã€‚\n   [Service]åŒºå—ç”¨æ¥å®šä¹‰å¦‚ä½•å¯åŠ¨å½“å‰æœåŠ¡ï¼Œåªæœ‰ Service ç±»å‹çš„ Unit æ‰æœ‰è¿™ä¸ªåŒºå—ã€‚å®ƒçš„ä¸»è¦å­—æ®µå¦‚ä¸‹ã€‚\n EnvironmentFileå­—æ®µï¼šæŒ‡å®šå½“å‰æœåŠ¡çš„ç¯å¢ƒå‚æ•°æ–‡ä»¶ã€‚è¯¥æ–‡ä»¶å†…éƒ¨çš„key=valueé”®å€¼å¯¹ï¼Œå¯ä»¥ç”¨$keyçš„å½¢å¼ï¼Œåœ¨å½“å‰é…ç½®æ–‡ä»¶ä¸­è·å–ã€‚sshd çš„ç¯å¢ƒå‚æ•°æ–‡ä»¶æ˜¯/etc/sysconfig/sshdã€‚ ExecStartå­—æ®µï¼šå®šä¹‰å¯åŠ¨è¿›ç¨‹æ—¶æ‰§è¡Œçš„å‘½ä»¤ã€‚æ˜¯é…ç½®æ–‡ä»¶é‡Œé¢æœ€é‡è¦çš„å­—æ®µã€‚ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå¯åŠ¨sshdï¼Œæ‰§è¡Œçš„å‘½ä»¤æ˜¯/usr/sbin/sshd -D $OPTIONSï¼Œå…¶ä¸­çš„å˜é‡$OPTIONSå°±æ¥è‡ªEnvironmentFileå­—æ®µæŒ‡å®šçš„ç¯å¢ƒå‚æ•°æ–‡ä»¶ã€‚ä¸ä¹‹ä½œç”¨ç›¸ä¼¼çš„ï¼Œè¿˜æœ‰å¦‚ä¸‹è¿™äº›å­—æ®µã€‚  ExecReloadå­—æ®µï¼šé‡å¯æœåŠ¡æ—¶æ‰§è¡Œçš„å‘½ä»¤ ExecStopå­—æ®µï¼šåœæ­¢æœåŠ¡æ—¶æ‰§è¡Œçš„å‘½ä»¤ ExecStartPreå­—æ®µï¼šå¯åŠ¨æœåŠ¡ä¹‹å‰æ‰§è¡Œçš„å‘½ä»¤ ExecStartPostå­—æ®µï¼šå¯åŠ¨æœåŠ¡ä¹‹åæ‰§è¡Œçš„å‘½ä»¤ ExecStopPostå­—æ®µï¼šåœæ­¢æœåŠ¡ä¹‹åæ‰§è¡Œçš„å‘½ä»¤   Typeï¼šå­—æ®µå®šä¹‰å¯åŠ¨ç±»å‹ã€‚å®ƒå¯ä»¥è®¾ç½®çš„å€¼å¦‚ä¸‹ã€‚  simpleï¼ˆé»˜è®¤å€¼ï¼‰ï¼šExecStartå­—æ®µå¯åŠ¨çš„è¿›ç¨‹ä¸ºä¸»è¿›ç¨‹ forkingï¼šExecStartå­—æ®µå°†ä»¥fork()æ–¹å¼å¯åŠ¨ï¼Œæ­¤æ—¶çˆ¶è¿›ç¨‹å°†ä¼šé€€å‡ºï¼Œå­è¿›ç¨‹å°†æˆä¸ºä¸»è¿›ç¨‹ oneshotï¼šç±»ä¼¼äºsimpleï¼Œä½†åªæ‰§è¡Œä¸€æ¬¡ï¼ŒSystemd ä¼šç­‰å®ƒæ‰§è¡Œå®Œï¼Œæ‰å¯åŠ¨å…¶ä»–æœåŠ¡ dbusï¼šç±»ä¼¼äºsimpleï¼Œä½†ä¼šç­‰å¾… D-Bus ä¿¡å·åå¯åŠ¨ notifyï¼šç±»ä¼¼äºsimpleï¼Œå¯åŠ¨ç»“æŸåä¼šå‘å‡ºé€šçŸ¥ä¿¡å·ï¼Œç„¶å Systemd å†å¯åŠ¨å…¶ä»–æœåŠ¡ idleï¼šç±»ä¼¼äºsimpleï¼Œä½†æ˜¯è¦ç­‰åˆ°å…¶ä»–ä»»åŠ¡éƒ½æ‰§è¡Œå®Œï¼Œæ‰ä¼šå¯åŠ¨è¯¥æœåŠ¡ã€‚ä¸€ç§ä½¿ç”¨åœºåˆæ˜¯ä¸ºè®©è¯¥æœåŠ¡çš„è¾“å‡ºï¼Œä¸ä¸å…¶ä»–æœåŠ¡çš„è¾“å‡ºç›¸æ··åˆ   KillModeå­—æ®µï¼šå®šä¹‰ Systemd å¦‚ä½•åœæ­¢æœåŠ¡ã€‚  control-groupï¼ˆé»˜è®¤å€¼ï¼‰ï¼šå½“å‰æ§åˆ¶ç»„é‡Œé¢çš„æ‰€æœ‰å­è¿›ç¨‹ï¼Œéƒ½ä¼šè¢«æ€æ‰ processï¼šåªæ€ä¸»è¿›ç¨‹ã€‚æ¯”å¦‚sshdçš„KillModeè®¾ä¸ºprocessï¼Œå­è¿›ç¨‹æ‰“å¼€çš„ SSH session ä»ç„¶ä¿æŒè¿æ¥ã€‚ mixedï¼šä¸»è¿›ç¨‹å°†æ”¶åˆ° SIGTERM ä¿¡å·ï¼Œå­è¿›ç¨‹æ”¶åˆ° SIGKILL ä¿¡å· noneï¼šæ²¡æœ‰è¿›ç¨‹ä¼šè¢«æ€æ‰ï¼Œåªæ˜¯æ‰§è¡ŒæœåŠ¡çš„ stop å‘½ä»¤ã€‚   Restartï¼šRestartå­—æ®µï¼šå®šä¹‰äº†æœåŠ¡é€€å‡ºåï¼ŒSystemd é‡å¯è¯¥æœåŠ¡çš„æ–¹å¼ã€‚  noï¼ˆé»˜è®¤å€¼ï¼‰ï¼šé€€å‡ºåä¸ä¼šé‡å¯ on-successï¼šåªæœ‰æ­£å¸¸é€€å‡ºæ—¶ï¼ˆé€€å‡ºçŠ¶æ€ç ä¸º0ï¼‰ï¼Œæ‰ä¼šé‡å¯ on-failureï¼šéæ­£å¸¸é€€å‡ºæ—¶ï¼ˆé€€å‡ºçŠ¶æ€ç é0ï¼‰ï¼ŒåŒ…æ‹¬è¢«ä¿¡å·ç»ˆæ­¢å’Œè¶…æ—¶ï¼Œæ‰ä¼šé‡å¯ã€‚æ¯”å¦‚sshdä»»ä½•æ„å¤–çš„å¤±è´¥ï¼Œéƒ½å°†é‡å¯sshdï¼›å¦‚æœ sshd æ­£å¸¸åœæ­¢ï¼ˆæ¯”å¦‚æ‰§è¡Œsystemctl stopå‘½ä»¤ï¼‰ï¼Œå®ƒå°±ä¸ä¼šé‡å¯ã€‚å¯¹äºå®ˆæŠ¤è¿›ç¨‹ï¼Œæ¨èè®¾ä¸ºon-failureã€‚ on-abnormalï¼šåªæœ‰è¢«ä¿¡å·ç»ˆæ­¢å’Œè¶…æ—¶ï¼Œæ‰ä¼šé‡å¯ã€‚å¯¹äºé‚£äº›å…è®¸å‘ç”Ÿé”™è¯¯é€€å‡ºçš„æœåŠ¡ï¼Œå¯ä»¥è®¾ä¸ºon-abnormalã€‚ on-abortï¼šåªæœ‰åœ¨æ”¶åˆ°æ²¡æœ‰æ•æ‰åˆ°çš„ä¿¡å·ç»ˆæ­¢æ—¶ï¼Œæ‰ä¼šé‡å¯ on-watchdogï¼šè¶…æ—¶é€€å‡ºï¼Œæ‰ä¼šé‡å¯ alwaysï¼šä¸ç®¡æ˜¯ä»€ä¹ˆé€€å‡ºåŸå› ï¼Œæ€»æ˜¯é‡å¯   RestartSecå­—æ®µï¼šè¡¨ç¤º Systemd é‡å¯æœåŠ¡ä¹‹å‰ï¼Œéœ€è¦ç­‰å¾…çš„ç§’æ•°ã€‚ TimeoutSecï¼šå®šä¹‰ Systemd åœæ­¢å½“å‰æœåŠ¡ä¹‹å‰ç­‰å¾…çš„ç§’æ•°  æ‰€æœ‰çš„å¯åŠ¨è®¾ç½®ä¹‹å‰ï¼Œéƒ½å¯ä»¥åŠ ä¸Šä¸€ä¸ªè¿è¯å·ï¼ˆ-ï¼‰ï¼Œè¡¨ç¤º\u0026quot;æŠ‘åˆ¶é”™è¯¯\u0026quot;ï¼Œå³å‘ç”Ÿé”™è¯¯çš„æ—¶å€™ï¼Œä¸å½±å“å…¶ä»–å‘½ä»¤çš„æ‰§è¡Œã€‚æ¯”å¦‚ï¼ŒEnvironmentFile=-/etc/sysconfig/sshdï¼ˆæ³¨æ„ç­‰å·åé¢çš„é‚£ä¸ªè¿è¯å·ï¼‰ï¼Œå°±è¡¨ç¤ºå³ä½¿/etc/sysconfig/sshdæ–‡ä»¶ä¸å­˜åœ¨ï¼Œä¹Ÿä¸ä¼šæŠ›å‡ºé”™è¯¯ã€‚\n [Install]é€šå¸¸æ˜¯é…ç½®æ–‡ä»¶çš„æœ€åä¸€ä¸ªåŒºå—ï¼Œå®šä¹‰å¦‚ä½•å®‰è£…è¿™ä¸ªé…ç½®æ–‡ä»¶ï¼Œå³æ€æ ·åšåˆ°å¼€æœºå¯åŠ¨ã€‚å®ƒçš„ä¸»è¦å­—æ®µå¦‚ä¸‹ã€‚\n WantedByå­—æ®µï¼šè¡¨ç¤ºè¯¥æœåŠ¡æ‰€åœ¨çš„ Targetï¼Œå®ƒçš„å€¼æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ª Targetã€‚Targetçš„å«ä¹‰æ˜¯æœåŠ¡ç»„ï¼Œè¡¨ç¤ºä¸€ç»„æœåŠ¡ã€‚WantedBy=multi-user.targetæŒ‡çš„æ˜¯ï¼Œsshd æ‰€åœ¨çš„ Target æ˜¯multi-user.targetã€‚å½“å‰ Unit æ¿€æ´»æ—¶ï¼ˆenableï¼‰ç¬¦å·é“¾æ¥ä¼šæ”¾å…¥/etc/systemd/systemç›®å½•ä¸‹é¢ [Target å].wantså­ç›®å½•ä¸­ï¼Œå¦‚multi-user.target.wantså­ç›®å½•ã€‚ RequiredByï¼šå®ƒçš„å€¼æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ª Targetï¼Œå½“å‰ Unit æ¿€æ´»æ—¶ï¼Œç¬¦å·é“¾æ¥ä¼šæ”¾å…¥/etc/systemd/systemç›®å½•ä¸‹é¢ä»¥ Target å + .requiredåç¼€æ„æˆçš„å­ç›®å½•ä¸­ Aliasï¼šå½“å‰ Unit å¯ç”¨äºå¯åŠ¨çš„åˆ«å Alsoï¼šå½“å‰ Unit æ¿€æ´»ï¼ˆenableï¼‰æ—¶ï¼Œä¼šè¢«åŒæ—¶æ¿€æ´»çš„å…¶ä»– Unit  Unit é…ç½®æ–‡ä»¶çš„å®Œæ•´å­—æ®µæ¸…å•ï¼Œè¯·å‚è€ƒå®˜æ–¹æ–‡æ¡£ã€‚\nTarget å¯åŠ¨è®¡ç®—æœºçš„æ—¶å€™ï¼Œéœ€è¦å¯åŠ¨å¤§é‡çš„ Unitã€‚å¦‚æœæ¯ä¸€æ¬¡å¯åŠ¨ï¼Œéƒ½è¦ä¸€ä¸€å†™æ˜æœ¬æ¬¡å¯åŠ¨éœ€è¦å“ªäº› Unitï¼Œæ˜¾ç„¶éå¸¸ä¸æ–¹ä¾¿ã€‚Systemd çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯ Targetã€‚\nç®€å•è¯´ï¼ŒTarget å°±æ˜¯ä¸€ä¸ª Unit ç»„ï¼ŒåŒ…å«è®¸å¤šç›¸å…³çš„ Unit ã€‚å¯åŠ¨æŸä¸ª Target çš„æ—¶å€™ï¼ŒSystemd å°±ä¼šå¯åŠ¨é‡Œé¢æ‰€æœ‰çš„ Unitã€‚ä»è¿™ä¸ªæ„ä¹‰ä¸Šè¯´ï¼ŒTarget è¿™ä¸ªæ¦‚å¿µç±»ä¼¼äº\u0026quot;çŠ¶æ€ç‚¹\u0026quot;ï¼Œå¯åŠ¨æŸä¸ª Target å°±å¥½æ¯”å¯åŠ¨åˆ°æŸç§çŠ¶æ€ã€‚\nä¼ ç»Ÿçš„initå¯åŠ¨æ¨¡å¼é‡Œé¢ï¼Œæœ‰ RunLevel çš„æ¦‚å¿µï¼Œè·Ÿ Target çš„ä½œç”¨å¾ˆç±»ä¼¼ã€‚ä¸åŒçš„æ˜¯ï¼ŒRunLevel æ˜¯äº’æ–¥çš„ï¼Œä¸å¯èƒ½å¤šä¸ª RunLevel åŒæ—¶å¯åŠ¨ï¼Œä½†æ˜¯å¤šä¸ª Target å¯ä»¥åŒæ—¶å¯åŠ¨ã€‚\n# æŸ¥çœ‹å½“å‰ç³»ç»Ÿçš„æ‰€æœ‰ Target $ systemctl list-unit-files --type=target # æŸ¥çœ‹ä¸€ä¸ª Target åŒ…å«çš„æ‰€æœ‰ Unit $ systemctl list-dependencies multi-user.target # æŸ¥çœ‹å¯åŠ¨æ—¶çš„é»˜è®¤ Targetï¼Œåœ¨è¿™ä¸ªç»„é‡Œçš„æ‰€æœ‰æœåŠ¡ï¼Œéƒ½å°†å¼€æœºå¯åŠ¨ã€‚ $ systemctl get-default # è®¾ç½®å¯åŠ¨æ—¶çš„é»˜è®¤ Target $ sudo systemctl set-default multi-user.target # åˆ‡æ¢ Target æ—¶ï¼Œé»˜è®¤ä¸å…³é—­å‰ä¸€ä¸ª Target å¯åŠ¨çš„è¿›ç¨‹ï¼Œ # systemctl isolate å‘½ä»¤æ”¹å˜è¿™ç§è¡Œä¸ºï¼Œ # å…³é—­å‰ä¸€ä¸ª Target é‡Œé¢æ‰€æœ‰ä¸å±äºåä¸€ä¸ª Target çš„è¿›ç¨‹ $ sudo systemctl isolate multi-user.target Target ä¸ ä¼ ç»Ÿ RunLevel çš„å¯¹åº”å…³ç³»å¦‚ä¸‹ã€‚\nTraditional runlevel New target name Symbolically linked to... Runlevel 0 | runlevel0.target -\u0026gt; poweroff.target Runlevel 1 | runlevel1.target -\u0026gt; rescue.target Runlevel 2 | runlevel2.target -\u0026gt; multi-user.target Runlevel 3 | runlevel3.target -\u0026gt; multi-user.target Runlevel 4 | runlevel4.target -\u0026gt; multi-user.target Runlevel 5 | runlevel5.target -\u0026gt; graphical.target Runlevel 6 | runlevel6.target -\u0026gt; reboot.target å®ƒä¸initè¿›ç¨‹çš„ä¸»è¦å·®åˆ«å¦‚ä¸‹ã€‚\nï¼ˆ1ï¼‰é»˜è®¤çš„ RunLevelï¼ˆåœ¨/etc/inittabæ–‡ä»¶è®¾ç½®ï¼‰ç°åœ¨è¢«é»˜è®¤çš„ Target å–ä»£ï¼Œä½ç½®æ˜¯/etc/systemd/system/default.targetï¼Œé€šå¸¸ç¬¦å·é“¾æ¥åˆ°graphical.targetï¼ˆå›¾å½¢ç•Œé¢ï¼‰æˆ–è€…multi-user.targetï¼ˆå¤šç”¨æˆ·å‘½ä»¤è¡Œï¼‰ã€‚\nï¼ˆ2ï¼‰å¯åŠ¨è„šæœ¬çš„ä½ç½®ï¼Œä»¥å‰æ˜¯/etc/init.dç›®å½•ï¼Œç¬¦å·é“¾æ¥åˆ°ä¸åŒçš„ RunLevel ç›®å½• ï¼ˆæ¯”å¦‚/etc/rc3.dã€/etc/rc5.dç­‰ï¼‰ï¼Œç°åœ¨åˆ™å­˜æ”¾åœ¨/lib/systemd/systemå’Œ/etc/systemd/systemç›®å½•ã€‚\nï¼ˆ3ï¼‰é…ç½®æ–‡ä»¶çš„ä½ç½®ï¼Œä»¥å‰initè¿›ç¨‹çš„é…ç½®æ–‡ä»¶æ˜¯/etc/inittabï¼Œå„ç§æœåŠ¡çš„é…ç½®æ–‡ä»¶å­˜æ”¾åœ¨/etc/sysconfigç›®å½•ã€‚ç°åœ¨çš„é…ç½®æ–‡ä»¶ä¸»è¦å­˜æ”¾åœ¨/lib/systemdç›®å½•ï¼Œåœ¨/etc/systemdç›®å½•é‡Œé¢çš„ä¿®æ”¹å¯ä»¥è¦†ç›–åŸå§‹è®¾ç½®ã€‚\næ—¥å¿—ç®¡ç† Systemd ç»Ÿä¸€ç®¡ç†æ‰€æœ‰ Unit çš„å¯åŠ¨æ—¥å¿—ã€‚å¸¦æ¥çš„å¥½å¤„å°±æ˜¯ï¼Œå¯ä»¥åªç”¨journalctlä¸€ä¸ªå‘½ä»¤ï¼ŒæŸ¥çœ‹æ‰€æœ‰æ—¥å¿—ï¼ˆå†…æ ¸æ—¥å¿—å’Œåº”ç”¨æ—¥å¿—ï¼‰ã€‚æ—¥å¿—çš„é…ç½®æ–‡ä»¶æ˜¯/etc/systemd/journald.confã€‚\njournalctlåŠŸèƒ½å¼ºå¤§ï¼Œç”¨æ³•éå¸¸å¤šã€‚\n# æŸ¥çœ‹æ‰€æœ‰æ—¥å¿—ï¼ˆé»˜è®¤æƒ…å†µä¸‹ ï¼Œåªä¿å­˜æœ¬æ¬¡å¯åŠ¨çš„æ—¥å¿—ï¼‰ $ sudo journalctl # æŸ¥çœ‹å†…æ ¸æ—¥å¿—ï¼ˆä¸æ˜¾ç¤ºåº”ç”¨æ—¥å¿—ï¼‰ $ sudo journalctl -k # æŸ¥çœ‹ç³»ç»Ÿæœ¬æ¬¡å¯åŠ¨çš„æ—¥å¿— $ sudo journalctl -b $ sudo journalctl -b -0 # æŸ¥çœ‹ä¸Šä¸€æ¬¡å¯åŠ¨çš„æ—¥å¿—ï¼ˆéœ€æ›´æ”¹è®¾ç½®ï¼‰ $ sudo journalctl -b -1 # æŸ¥çœ‹æŒ‡å®šæ—¶é—´çš„æ—¥å¿— $ sudo journalctl --since=\u0026#34;2012-10-30 18:17:16\u0026#34; $ sudo journalctl --since \u0026#34;20 min ago\u0026#34; $ sudo journalctl --since yesterday $ sudo journalctl --since \u0026#34;2015-01-10\u0026#34; --until \u0026#34;2015-01-11 03:00\u0026#34; $ sudo journalctl --since 09:00 --until \u0026#34;1 hour ago\u0026#34; # æ˜¾ç¤ºå°¾éƒ¨çš„æœ€æ–°10è¡Œæ—¥å¿— $ sudo journalctl -n # æ˜¾ç¤ºå°¾éƒ¨æŒ‡å®šè¡Œæ•°çš„æ—¥å¿— $ sudo journalctl -n 20 # å®æ—¶æ»šåŠ¨æ˜¾ç¤ºæœ€æ–°æ—¥å¿— $ sudo journalctl -f # æŸ¥çœ‹æŒ‡å®šæœåŠ¡çš„æ—¥å¿— $ sudo journalctl /usr/lib/systemd/systemd # æŸ¥çœ‹æŒ‡å®šè¿›ç¨‹çš„æ—¥å¿— $ sudo journalctl _PID=1 # æŸ¥çœ‹æŸä¸ªè·¯å¾„çš„è„šæœ¬çš„æ—¥å¿— $ sudo journalctl /bin/bash # æŸ¥çœ‹æŒ‡å®šç”¨æˆ·çš„æ—¥å¿— $ sudo journalctl _UID=33 --since today # æŸ¥çœ‹æŸä¸ª Unit çš„æ—¥å¿— $ sudo journalctl -u nginx.service $ sudo journalctl -u nginx.service --since today # å®æ—¶æ»šåŠ¨æ˜¾ç¤ºæŸä¸ª Unit çš„æœ€æ–°æ—¥å¿— $ sudo journalctl -u nginx.service -f # åˆå¹¶æ˜¾ç¤ºå¤šä¸ª Unit çš„æ—¥å¿— $ journalctl -u nginx.service -u php-fpm.service --since today # æŸ¥çœ‹æŒ‡å®šä¼˜å…ˆçº§ï¼ˆåŠå…¶ä»¥ä¸Šçº§åˆ«ï¼‰çš„æ—¥å¿—ï¼Œå…±æœ‰8çº§ # 0: emerg # 1: alert # 2: crit # 3: err # 4: warning # 5: notice # 6: info # 7: debug $ sudo journalctl -p err -b # æ—¥å¿—é»˜è®¤åˆ†é¡µè¾“å‡ºï¼Œ--no-pager æ”¹ä¸ºæ­£å¸¸çš„æ ‡å‡†è¾“å‡º $ sudo journalctl --no-pager # ä»¥ JSON æ ¼å¼ï¼ˆå•è¡Œï¼‰è¾“å‡º $ sudo journalctl -b -u nginx.service -o json # ä»¥ JSON æ ¼å¼ï¼ˆå¤šè¡Œï¼‰è¾“å‡ºï¼Œå¯è¯»æ€§æ›´å¥½ $ sudo journalctl -b -u nginx.serviceqq -o json-pretty # æ˜¾ç¤ºæ—¥å¿—å æ®çš„ç¡¬ç›˜ç©ºé—´ $ sudo journalctl --disk-usage # æŒ‡å®šæ—¥å¿—æ–‡ä»¶å æ®çš„æœ€å¤§ç©ºé—´ $ sudo journalctl --vacuum-size=1G # æŒ‡å®šæ—¥å¿—æ–‡ä»¶ä¿å­˜å¤šä¹… $ sudo journalctl --vacuum-time=1years å®šæ—¶å™¨ç¤ºä¾‹ é‚®ä»¶è„šæœ¬ å…ˆå†™ä¸€ä¸ªå‘é‚®ä»¶çš„è„šæœ¬mail.shã€‚\n#!/usr/bin/env bash echo \u0026#34;This is the body\u0026#34; | /usr/bin/mail -s \u0026#34;Subject\u0026#34; someone@example.com ä¸Šé¢ä»£ç çš„someone@example.comï¼Œè¯·æ›¿æ¢æˆä½ çš„é‚®ç®±åœ°å€ã€‚\nç„¶åï¼Œæ‰§è¡Œè¿™ä¸ªè„šæœ¬ã€‚\n$ bash mail.sh æ‰§è¡Œåï¼Œä½ åº”è¯¥å°±ä¼šæ”¶åˆ°ä¸€å°é‚®ä»¶ï¼Œæ ‡é¢˜ä¸ºSubjectã€‚\nå¦‚æœä½ çš„ Linux ç³»ç»Ÿä¸èƒ½å‘é‚®ä»¶ï¼Œå»ºè®®å®‰è£… ssmtp æˆ–è€… msmtpã€‚å¦å¤–ï¼Œmailå‘½ä»¤çš„ç”¨æ³•ï¼Œå¯ä»¥å‚è€ƒè¿™é‡Œã€‚\nService å•å…ƒ Service å•å…ƒå°±æ˜¯æ‰€è¦æ‰§è¡Œçš„ä»»åŠ¡ï¼Œæ¯”å¦‚å‘é€é‚®ä»¶å°±æ˜¯ä¸€ç§ Serviceã€‚\næ–°å»º Service éå¸¸ç®€å•ï¼Œå°±æ˜¯åœ¨/usr/lib/systemd/systemç›®å½•é‡Œé¢æ–°å»ºä¸€ä¸ªæ–‡ä»¶ï¼Œæ¯”å¦‚mytimer.serviceæ–‡ä»¶ï¼Œä½ å¯ä»¥å†™å…¥ä¸‹é¢çš„å†…å®¹ã€‚\n[Unit] Description=MyTimer [Service] ExecStart=/bin/bash /path/to/mail.sh æ³¨æ„ï¼Œå®šä¹‰çš„æ—¶å€™ï¼Œæ‰€æœ‰è·¯å¾„éƒ½è¦å†™æˆç»å¯¹è·¯å¾„ï¼Œæ¯”å¦‚bashè¦å†™æˆ/bin/bashï¼Œå¦åˆ™ Systemd ä¼šæ‰¾ä¸åˆ°ã€‚\nç°åœ¨ï¼Œå¯åŠ¨è¿™ä¸ª Serviceã€‚\n$ sudo systemctl start mytimer.service å¦‚æœä¸€åˆ‡æ­£å¸¸ï¼Œä½ åº”è¯¥å°±ä¼šæ”¶åˆ°ä¸€å°é‚®ä»¶ã€‚\nTimer å•å…ƒ Service å•å…ƒåªæ˜¯å®šä¹‰äº†å¦‚ä½•æ‰§è¡Œä»»åŠ¡ï¼Œè¦å®šæ—¶æ‰§è¡Œè¿™ä¸ª Serviceï¼Œè¿˜å¿…é¡»å®šä¹‰ Timer å•å…ƒã€‚\n/usr/lib/systemd/systemç›®å½•é‡Œé¢ï¼Œæ–°å»ºä¸€ä¸ªmytimer.timeræ–‡ä»¶ï¼Œå†™å…¥ä¸‹é¢çš„å†…å®¹ã€‚\n[Unit] Description=Runs mytimer every hour [Timer] OnUnitActiveSec=1h Unit=mytimer.service [Install] WantedBy=multi-user.target è¿™ä¸ª Timer å•å…ƒæ–‡ä»¶åˆ†æˆå‡ ä¸ªéƒ¨åˆ†ã€‚\n[Timer]éƒ¨åˆ†å®šåˆ¶å®šæ—¶å™¨ã€‚Systemd æä¾›ä»¥ä¸‹ä¸€äº›å­—æ®µã€‚\n OnActiveSecï¼šå®šæ—¶å™¨ç”Ÿæ•ˆåï¼Œå¤šå°‘æ—¶é—´å¼€å§‹æ‰§è¡Œä»»åŠ¡ OnBootSecï¼šç³»ç»Ÿå¯åŠ¨åï¼Œå¤šå°‘æ—¶é—´å¼€å§‹æ‰§è¡Œä»»åŠ¡ OnStartupSecï¼šSystemd è¿›ç¨‹å¯åŠ¨åï¼Œå¤šå°‘æ—¶é—´å¼€å§‹æ‰§è¡Œä»»åŠ¡ OnUnitActiveSecï¼šè¯¥å•å…ƒä¸Šæ¬¡æ‰§è¡Œåï¼Œç­‰å¤šå°‘æ—¶é—´å†æ¬¡æ‰§è¡Œ OnUnitInactiveSecï¼š å®šæ—¶å™¨ä¸Šæ¬¡å…³é—­åå¤šå°‘æ—¶é—´ï¼Œå†æ¬¡æ‰§è¡Œ OnCalendarï¼šåŸºäºç»å¯¹æ—¶é—´ï¼Œè€Œä¸æ˜¯ç›¸å¯¹æ—¶é—´æ‰§è¡Œ AccuracySecï¼šå¦‚æœå› ä¸ºå„ç§åŸå› ï¼Œä»»åŠ¡å¿…é¡»æ¨è¿Ÿæ‰§è¡Œï¼Œæ¨è¿Ÿçš„æœ€å¤§ç§’æ•°ï¼Œé»˜è®¤æ˜¯60ç§’ Unitï¼šçœŸæ­£è¦æ‰§è¡Œçš„ä»»åŠ¡ï¼Œé»˜è®¤æ˜¯åŒåçš„å¸¦æœ‰.serviceåç¼€çš„å•å…ƒ Persistentï¼šå¦‚æœè®¾ç½®äº†è¯¥å­—æ®µï¼Œå³ä½¿å®šæ—¶å™¨åˆ°æ—¶æ²¡æœ‰å¯åŠ¨ï¼Œä¹Ÿä¼šè‡ªåŠ¨æ‰§è¡Œç›¸åº”çš„å•å…ƒ WakeSystemï¼šå¦‚æœç³»ç»Ÿä¼‘çœ ï¼Œæ˜¯å¦è‡ªåŠ¨å”¤é†’ç³»ç»Ÿ  ä¸Šé¢çš„è„šæœ¬é‡Œé¢ï¼ŒOnUnitActiveSec=1hè¡¨ç¤ºä¸€å°æ—¶æ‰§è¡Œä¸€æ¬¡ä»»åŠ¡ã€‚å…¶ä»–çš„å†™æ³•è¿˜æœ‰OnCalendar=*-*-* 02:00:00è¡¨ç¤ºæ¯å¤©å‡Œæ™¨ä¸¤ç‚¹æ‰§è¡Œï¼ŒOnCalendar=Mon *-*-* 02:00:00è¡¨ç¤ºæ¯å‘¨ä¸€å‡Œæ™¨ä¸¤ç‚¹æ‰§è¡Œï¼Œå…·ä½“è¯·å‚è€ƒä¸­æ–‡æ‰‹å†Œã€‚\nSystem time ä¸€ä¸ªæ“ä½œç³»ç»Ÿé€šè¿‡å¦‚ä¸‹å†…å®¹ç¡®å®šæ—¶é—´ï¼šæ—¶é—´æ•°å€¼ã€æ—¶é—´æ ‡å‡†ã€æ—¶åŒºå’Œå¤ä»¤æ—¶è°ƒèŠ‚(ä¸­å›½å·²ç»åºŸæ­¢)ã€‚æœ¬æ–‡åˆ†åˆ«ä»‹ç»å„ä¸ªéƒ¨åˆ†çš„å®šä¹‰åŠå¦‚ä½•è®¾ç½®ä»–ä»¬ã€‚è¦ç»´æŠ¤å‡†ç¡®çš„ç³»ç»Ÿæ—¶é—´ï¼Œè¯·å‚è€ƒ ç½‘ç»œæ—¶é—´åè®® ä¸€æ–‡ã€‚\nç¡¬ä»¶æ—¶é’Ÿå’Œç³»ç»Ÿæ—¶é’Ÿ ç³»ç»Ÿç”¨ä¸¤ä¸ªæ—¶é’Ÿä¿å­˜æ—¶é—´ï¼šç¡¬ä»¶æ—¶é’Ÿå’Œç³»ç»Ÿæ—¶é’Ÿã€‚\nç¡¬ä»¶æ—¶é’Ÿ(å³å®æ—¶æ—¶é’Ÿ RTC æˆ– CMOS æ—¶é’Ÿ)ä»…èƒ½ä¿å­˜ï¼šå¹´ã€æœˆã€æ—¥ã€æ—¶ã€åˆ†ã€ç§’è¿™äº›æ—¶é—´æ•°å€¼ï¼Œæ— æ³•ä¿å­˜æ—¶é—´æ ‡å‡†(UTC æˆ– localtime)å’Œæ˜¯å¦ä½¿ç”¨å¤ä»¤æ—¶è°ƒèŠ‚ã€‚\nç³»ç»Ÿæ—¶é’Ÿ(å³è½¯ä»¶æ—¶é—´) ä¸ç¡¬ä»¶æ—¶é—´åˆ†åˆ«ç»´æŠ¤ï¼Œä¿å­˜äº†ï¼šæ—¶é—´ã€æ—¶åŒºå’Œå¤ä»¤æ—¶è®¾ç½®ã€‚Linux å†…æ ¸ä¿å­˜ä¸ºè‡ª UTC æ—¶é—´ 1970 å¹´1æœˆ1æ—¥ç»è¿‡çš„ç§’æ•°ã€‚åˆå§‹ç³»ç»Ÿæ—¶é’Ÿæ˜¯ä»ç¡¬ä»¶æ—¶é—´è®¡ç®—å¾—æ¥ï¼Œè®¡ç®—æ—¶ä¼šè€ƒè™‘/etc/adjtimeçš„è®¾ç½®ã€‚ç³»ç»Ÿå¯åŠ¨ä¹‹åï¼Œç³»ç»Ÿæ—¶é’Ÿä¸ç¡¬ä»¶æ—¶é’Ÿç‹¬ç«‹è¿è¡Œï¼ŒLinux é€šè¿‡æ—¶é’Ÿä¸­æ–­è®¡æ•°ç»´æŠ¤ç³»ç»Ÿæ—¶é’Ÿã€‚\nå¦‚æœç³»ç»Ÿæ—¶é—´æ˜¯æŒ‰ 32 ä½æ•´æ•°ä¿å­˜çš„ï¼Œæœ€å¤§åªèƒ½è®°åˆ° 2038 å¹´ï¼Œæ‰€ä»¥ 32 ä½ Linux ç³»ç»Ÿå°†åœ¨ 2038 å¹´åœæ­¢å·¥ä½œã€‚\nå¤§éƒ¨åˆ†æ“ä½œç³»ç»Ÿçš„æ—¶é—´ç®¡ç†åŒ…æ‹¬å¦‚ä¸‹æ–¹é¢ï¼š\n å¯åŠ¨æ—¶æ ¹æ®ç¡¬ä»¶æ—¶é’Ÿè®¾ç½®ç³»ç»Ÿæ—¶é—´ è¿è¡Œæ—¶é€šè¿‡æ—¶é—´åŒæ­¥è”ç½‘æ ¡æ­£æ—¶é—´ å…³æœºæ—¶æ ¹æ®ç³»ç»Ÿæ—¶é—´è®¾ç½®ç¡¬ä»¶æ—¶é—´  è¯»å–æ—¶é—´ ä¸‹é¢å‘½ä»¤å¯ä»¥è·å¾—ç¡¬ä»¶æ—¶é—´å’Œç³»ç»Ÿæ—¶é—´(ç¡¬ä»¶æ—¶é’ŸæŒ‰ localtime æ˜¾ç¤º):\n$ timedatectl Local time: Thu 2022-01-27 10:35:26 CST Universal time: Thu 2022-01-27 02:35:26 UTC RTC time: Thu 2022-01-27 02:35:26 Time zone: Asia/Shanghai (CST, +0800) System clock synchronized: yes NTP service: active RTC in local TZ: no åè¯è§£é‡Šï¼š\n CSTï¼š(China Standard Time,UTC+8:00) ä¸­å›½æ²¿æµ·æ—¶é—´(åŒ—äº¬æ—¶é—´) UTCï¼š(Universal Time Coordinated,UTC) ä¸–ç•Œåè°ƒæ—¶é—´ GMTï¼š(Greenwich Mean Time ,GMTï¼‰æ ¼æ—å¨æ²»æ—¶é—´ LTï¼š(locale timeï¼‰æœ¬åœ°æ—¶é—´  è®¾ç½®æ—¶é—´ è®¾ç½®ç³»ç»Ÿæ—¶é—´çš„æœ¬åœ°æ—¶é—´ï¼š\n# timedatectl set-time \u0026#34;yyyy-MM-dd hh:mm:ss\u0026#34; ä¾‹å¦‚:\n# timedatectl set-time \u0026#34;2014-05-26 11:13:54\u0026#34; è®¾ç½®æ—¶é—´ä¸º2014å¹´ï¼Œ5æœˆ26æ—¥ï¼Œ11æ—¶13åˆ†54ç§’ã€‚\næ—¶é—´æ ‡å‡† æ—¶é—´è¡¨ç¤ºæœ‰ä¸¤ä¸ªæ ‡å‡†ï¼šlocaltime å’Œ UTC(Coordinated Universal Time) ã€‚UTC æ˜¯ä¸æ—¶åŒºæ— å…³çš„å…¨çƒæ—¶é—´æ ‡å‡†ã€‚å°½ç®¡æ¦‚å¿µä¸Šæœ‰å·®åˆ«ï¼ŒUTC å’Œ GMT (æ ¼æ—å¨æ²»æ—¶é—´) æ˜¯ä¸€æ ·çš„ã€‚localtime æ ‡å‡†åˆ™ä¾èµ–äºå½“å‰æ—¶åŒºã€‚\næ—¶é—´æ ‡å‡†ç”±æ“ä½œç³»ç»Ÿè®¾å®šï¼ŒWindows é»˜è®¤ä½¿ç”¨ localtimeï¼ŒMac OS é»˜è®¤ä½¿ç”¨ UTCï¼Œè€Œ UNIX ç³»åˆ—çš„æ“ä½œç³»ç»Ÿä¸¤è€…éƒ½æœ‰ã€‚ä½¿ç”¨ Linux æ—¶ï¼Œæœ€å¥½å°†ç¡¬ä»¶æ—¶é’Ÿè®¾ç½®ä¸º UTC æ ‡å‡†ï¼Œå¹¶åœ¨æ‰€æœ‰æ“ä½œç³»ç»Ÿä¸­ä½¿ç”¨ã€‚è¿™æ · Linux ç³»ç»Ÿå°±å¯ä»¥è‡ªåŠ¨è°ƒæ•´å¤ä»¤æ—¶è®¾ç½®ï¼Œè€Œå¦‚æœä½¿ç”¨ localtime æ ‡å‡†é‚£ä¹ˆç³»ç»Ÿæ—¶é—´ä¸ä¼šæ ¹æ®å¤ä»¤æ—¶è‡ªåŠ¨è°ƒæ•´ã€‚\né€šè¿‡å¦‚ä¸‹å‘½ä»¤å¯ä»¥æ£€æŸ¥å½“å‰è®¾ç½®ï¼Œsystemd é»˜è®¤ç¡¬ä»¶æ—¶é’Ÿä¸ºåè°ƒä¸–ç•Œæ—¶ï¼ˆUTCï¼‰ã€‚\n$ timedatectl status | grep local RTC in local TZ: no ç¡¬ä»¶æ—¶é—´å¯ä»¥ç”¨ hwclock å‘½ä»¤è®¾ç½®ï¼Œå°†ç¡¬ä»¶æ—¶é—´è®¾ç½®ä¸º localtimeï¼š\n# timedatectl set-local-rtc 1 ç¡¬ä»¶æ—¶é—´è®¾ç½®æˆ UTCï¼š\n# timedatectl set-local-rtc 0 ä¸Šè¿°å‘½ä»¤ä¼šè‡ªåŠ¨ç”Ÿæˆ/etc/adjtimeï¼Œæ— éœ€å•ç‹¬è®¾ç½®ã€‚\næ³¨æ„ï¼š å¦‚æœä¸å­˜åœ¨ /etc/adjtimeï¼Œsystemd ä¼šå‡å®šç¡¬ä»¶æ—¶é—´æŒ‰ UTC è®¾ç½®ã€‚\nç³»ç»Ÿå¯åŠ¨è£…å…¥ rtc é©±åŠ¨æ—¶å¯èƒ½ä¼šæ ¹æ®ç³»ç»Ÿæ—¶é’Ÿè®¾ç½®ç¡¬ä»¶æ—¶é’Ÿã€‚æ˜¯å¦è®¾ç½®ä¾èµ–äºå¹³å°ã€å†…æ ¸ç‰ˆæœ¬å’Œå†…æ ¸ç¼–è¯‘é€‰é¡¹ã€‚å¦‚æœè¿›è¡Œäº†è®¾ç½®ï¼Œæ­¤æ—¶ä¼šå‡å®šç¡¬ä»¶æ—¶é’Ÿä¸º UTC æ ‡å‡†ï¼Œ/sys/class/rtc/rtcN/hctosys(N=0,1,2,..) ä¼šè®¾ç½®æˆ 1ã€‚åé¢ systemd ä¼šæ ¹æ®/etc/adjtimeé‡æ–°è®¾ç½®ã€‚\nå¦‚æœè®¾ç½®æˆæœ¬åœ°æ—¶é—´ï¼Œå¤„ç†å¤ä»¤æ—¶æœ‰äº›éº»çƒ¦ã€‚å¦‚æœå¤ä»¤æ—¶è°ƒæ•´å‘ç”Ÿåœ¨å…³æœºæ—¶ï¼Œä¸‹æ¬¡å¯åŠ¨æ—¶æ—¶é—´ä¼šå‡ºç°é—®é¢˜ï¼ˆæ›´å¤šä¿¡æ¯ï¼‰ã€‚æœ€æ–°çš„å†…æ ¸ç›´æ¥ä»å®æ—¶æ—¶é’ŸèŠ¯ç‰‡ï¼ˆRTCï¼‰è¯»å–æ—¶é—´ï¼Œä¸ä½¿ç”¨ hwclockï¼Œå†…æ ¸æŠŠä» RTC è¯»å–çš„æ—¶é—´å½“ä½œ UTC å¤„ç†ã€‚æ‰€ä»¥å¦‚æœç¡¬ä»¶æ—¶é—´æ˜¯åœ°æ–¹æ—¶ï¼Œç³»ç»Ÿå¯åŠ¨ä¸€å¼€å§‹è¯†åˆ«çš„æ—¶é—´æ˜¯é”™è¯¯çš„ï¼Œä¹‹åå¾ˆå¿«ä¼šè¿›è¡ŒçŸ«æ­£ã€‚è¿™å¯èƒ½å¯¼è‡´ä¸€äº›é—®é¢˜ï¼ˆå°¤å…¶æ˜¯æ—¶é—´å€’é€€æ—¶ï¼‰ã€‚\nWindows ç³»ç»Ÿä½¿ç”¨ UTC å¦‚æœåŒæ—¶å®‰è£…äº† Windows æ“ä½œç³»ç»Ÿï¼ˆé»˜è®¤ä½¿ç”¨åœ°æ–¹æ—¶ï¼‰ï¼Œé‚£ä¹ˆä¸€èˆ¬ RTC ä¼šè¢«è®¾ç½®ä¸ºåœ°æ–¹æ—¶ã€‚Windows å…¶å®ä¹Ÿèƒ½å¤„ç† UTCï¼Œéœ€è¦ä¿®æ”¹æ³¨å†Œè¡¨ã€‚å»ºè®®è®© Windows ä½¿ç”¨ UTCï¼Œè€Œéè®© Linux ä½¿ç”¨åœ°æ–¹æ—¶ã€‚Windows ä½¿ç”¨ UTC åï¼Œè¯·è®°å¾—ç¦ç”¨ Windows çš„æ—¶é—´åŒæ­¥åŠŸèƒ½ï¼Œä»¥é˜² Windows é”™è¯¯è®¾ç½®ç¡¬ä»¶æ—¶é—´ã€‚å¦‚ä¸Šæ–‡æ‰€è¯´ï¼ŒLinux å¯ä»¥ä½¿ç”¨NTPæœåŠ¡æ¥åœ¨çº¿åŒæ­¥ç¡¬ä»¶æ—¶é’Ÿã€‚\nä½¿ç”¨ regedit,æ–°å»ºå¦‚ä¸‹ DWORD å€¼ï¼Œå¹¶å°†å…¶å€¼è®¾ä¸ºåå…­è¿›åˆ¶çš„ 1ã€‚\nHKEY_LOCAL_MACHINE\\SYSTEM\\CurrentControlSet\\Control\\TimeZoneInformation\\RealTimeIsUniversal ä¹Ÿå¯ä»¥ç”¨ç®¡ç†å‘˜æƒé™å¯åŠ¨å‘½ä»¤è¡Œæ¥å®Œæˆï¼š\nreg add \u0026#34;HKEY_LOCAL_MACHINE\\System\\CurrentControlSet\\Control\\TimeZoneInformation\u0026#34; /v RealTimeIsUniversal /d 1 /t REG_DWORD /f å¦‚æœä»¥ä¸Šæ“ä½œä¸èµ·ä½œç”¨ï¼Œå¹¶ä¸”ä½ ä½¿ç”¨çš„æ˜¯ Windows 64ä½ç³»ç»Ÿï¼Œå°† DWORD ä¿®æ”¹ä¸º QWORDã€‚\nå¦‚æœ Windows è¦æ±‚æ ¹æ®å¤ä»¤æ—¶æ›´æ–°æ—¶é’Ÿï¼Œå¯ä»¥å…è®¸ã€‚æ—¶é’Ÿä»ç„¶æ˜¯ UTCï¼Œä»…æ˜¯æ˜¾ç¤ºæ—¶é—´ä¼šæ”¹å˜ã€‚\nè®¾ç½®æ—¶é—´æ ‡å‡†åéœ€è¦é‡æ–°è®¾ç½®ç¡¬ä»¶æ—¶é—´å’Œç³»ç»Ÿæ—¶é—´ã€‚\nå¦‚æœä½ æœ‰æ—¶é—´åç§»é—®é¢˜ï¼Œå†æ¬¡è®¾ç½®ä½ çš„æ—¶åŒº:\n# timedatectl set-timezone Asia/Shanghai UTC åœ¨Ubuntuçš„è®¾ç½® UbuntuåŠå…¶è¡ç”Ÿå‘è¡Œç‰ˆä¼šåœ¨å®‰è£…æ—¶æ£€æµ‹è®¡ç®—æœºä¸Šæ˜¯å¦å­˜åœ¨Windowsï¼Œè‹¥å­˜åœ¨åˆ™ä¼šé»˜è®¤ä½¿ç”¨localtimeã€‚è¿™æ˜¯ä¸ºäº†è®©Windowsç”¨æˆ·èƒ½å¤Ÿåœ¨ä¸ä¿®æ”¹æ³¨å†Œè¡¨çš„æƒ…å†µä¸‹ï¼Œåœ¨Ubuntuå†…çœ‹åˆ°æ­£ç¡®çš„æ—¶é—´ã€‚\nè¦æ”¹å˜è¿™ç§è¡Œä¸ºï¼Œè¯·å‚è§ä¸Šé¢çš„å†…å®¹ã€‚\næ—¶åŒº æ£€æŸ¥å½“å‰æ—¶åŒºï¼š\n$ timedatectl status æ˜¾ç¤ºå¯ç”¨æ—¶åŒºï¼š\n$ timedatectl list-timezones ä¿®æ”¹æ—¶åŒºï¼š\n# timedatectl set-timezone \u0026lt;Zone\u0026gt;/\u0026lt;SubZone\u0026gt; ä¾‹å¦‚ï¼š\n# timedatectl set-timezone Asia/Shanghai æ­¤å‘½ä»¤ä¼šåˆ›å»ºä¸€ä¸ª/etc/localtimeè½¯é“¾æ¥ï¼ŒæŒ‡å‘/usr/share/zoneinfo/ä¸­çš„æ—¶åŒºæ–‡ä»¶ï¼Œå¦‚æœæ‰‹åŠ¨åˆ›å»ºæ­¤é“¾æ¥è¯·ç¡®ä¿æ˜¯ç›¸å¯¹é“¾æ¥è€Œä¸æ˜¯ç»å¯¹é“¾æ¥ã€‚\næ³¨æ„ï¼š å¦‚æœpre-systemdé…ç½®çš„/etc/timezoneä»ç„¶å­˜åœ¨äºä½ çš„ç³»ç»Ÿï¼Œä½ å¯ä»¥æ”¾å¿ƒåœ°å°†å…¶åˆ é™¤ï¼Œå› ä¸ºå®ƒä¸å†ä½¿ç”¨ã€‚\næ—¶é’Ÿåç§» æœ€èƒ½ä»£è¡¨â€œçœŸå®æ—¶é—´â€çš„æ˜¯å›½é™…åŸå­æ—¶é’Ÿ)ï¼Œæ‰€æœ‰çš„æ—¶é’Ÿéƒ½æ˜¯æœ‰è¯¯å·®çš„ã€‚ç”µå­æ—¶é’Ÿçš„æ—¶é—´æ˜¯ä¸å‡†çš„ï¼Œä½†æ˜¯ä¸€èˆ¬æœ‰å›ºå®šçš„åç§»ã€‚è¿™ç§äºåŸºå€¼çš„å·®ç§°ä¸ºâ€œtime skewâ€æˆ–â€œæ—¶é—´åç§»â€ã€‚ç”¨ hwclock è®¾ç½®ç¡¬ä»¶æ—¶é—´æ—¶ï¼Œä¼šè®¡ç®—æ¯å¤©åç§»çš„ç§’æ•°ã€‚åç§»å€¼æ˜¯åŸç¡¬ä»¶æ—¶é—´ä¸æ–°è®¾ç½®ç¡¬ä»¶æ—¶é—´çš„å·®ï¼Œå¹¶ä¸”è€ƒè™‘ä¸Šæ¬¡ç¡¬ä»¶æ—¶é—´è®¾ç½®æ—¶çš„åç§»ã€‚æ–°çš„åç§»å€¼ä¼šåœ¨è®¾ç½®æ—¶é’Ÿæ—¶å†™åˆ°æ–‡ä»¶ /etc/adjtime ã€‚\næ³¨æ„ï¼š å¦‚æœç¡¬ä»¶æ—¶é—´å€¼ä¸åŸå€¼çš„å·®å°äº 24 å°æ—¶ï¼Œåç§»é‡ä¸ä¼šé‡æ–°è®¡ç®—ï¼Œå› ä¸ºæ—¶é—´è¿‡çŸ­ï¼Œæ— æ³•ç²¾ç¡®è®¾ç½®åç§»ã€‚\nå¦‚æœç¡¬ä»¶æ—¶é’Ÿæ€»æ˜¯è¿‡å¿«æˆ–è¿‡æ…¢ï¼Œå¯èƒ½æ˜¯è®¡ç®—äº†é”™è¯¯çš„åç§»å€¼ã€‚ç¡¬ä»¶æ—¶é’Ÿè®¾ç½®é”™è¯¯æˆ–è€…æ—¶é—´æ ‡å‡†ä¸å…¶ä»–æ“ä½œç³»ç»Ÿä¸ä¸€è‡´å¯¼è‡´ã€‚åˆ é™¤æ–‡ä»¶ /etc/adjtime å¯ä»¥åˆ é™¤åç§»å€¼ï¼Œç„¶åè®¾ç½®æ­£ç¡®çš„ç¡¬ä»¶æ—¶é’Ÿå’Œç³»ç»Ÿæ—¶é’Ÿï¼Œå¹¶æ£€æŸ¥æ—¶é—´æ ‡å‡†æ˜¯ä¸æ˜¯è®¾ç½®æ­£ç¡®ã€‚\næ³¨æ„ï¼š ä½¿ç”¨ Systemd æ—¶ï¼Œè¦ä½¿ç”¨ /etc/adjtimeä¸­çš„ drift å€¼(å³æ— æ³•æˆ–ä¸æƒ³ä½¿ç”¨ NTP æ—¶); éœ€è¦æ¯æ¬¡è°ƒç”¨ hwclock --adjustå‘½ä»¤ï¼Œå¯ä»¥é€šè¿‡ cron ä»»åŠ¡å®ç°ã€‚\næé«˜ç³»ç»Ÿæ—¶é—´ç²¾åº¦çš„æ–¹æ³•æœ‰ï¼š\nNTP å¯ä»¥é€šè¿‡ç½‘ç»œæ—¶é—´åè®®åŒæ­¥ Linux ç³»ç»Ÿçš„æ—¶é—´ã€‚NTP ä¹Ÿä¼šä¿®æ­£ä¸­æ–­é¢‘ç‡å’Œæ¯ç§’æ»´ç­”æ•°ä»¥å‡å°‘æ—¶é—´åç§»ã€‚å¹¶ä¸”æ¯éš” 11 åˆ†é’ŸåŒæ­¥ä¸€æ¬¡ç¡¬ä»¶æ—¶é’Ÿã€‚\næ—¶é’ŸåŒæ­¥ ç½‘ç»œæ—¶é—´åè®® (NTP) æ˜¯ä¸€ä¸ªé€šè¿‡åŒ…äº¤æ¢å’Œå¯å˜å»¶è¿Ÿç½‘ç»œæ¥åŒæ­¥è®¡ç®—æœºç³»ç»Ÿæ—¶é—´çš„åè®®ã€‚ä¸‹åˆ—ä¸ºè¿™ä¸ªåè®®çš„å®ç°ï¼š\n NTP å®ˆæŠ¤è¿›ç¨‹æ˜¯è¿™ä¸ªåè®®çš„å‚è€ƒå®ç°ï¼Œæ¨èç”¨äºæ—¶é—´æœåŠ¡å™¨ã€‚å®ƒä¹Ÿå¯ä»¥è°ƒèŠ‚ä¸­æ–­é¢‘ç‡å’Œæ¯ç§’æ»´ç­”æ¬¡æ•°ä»¥å‡å°‘ç³»ç»Ÿæ—¶é’Ÿè¯¯å·®ï¼Œä½¿å¾—ç¡¬ä»¶æ—¶é’Ÿæ¯éš”11ç§’é‡æ–°åŒæ­¥ä¸€æ¬¡ã€‚ sntp æ˜¯ä¸€ä¸ª SNTP å®¢æˆ·ç«¯ã€‚å®ƒå–ä»£äº† ntpdate ï¼Œå¹¶è¢«æ¨èç”¨äºéæœåŠ¡å™¨ç¯å¢ƒã€‚ systemd-timesyncd æ˜¯ä¸€ä¸ªç®€å•çš„ SNTP å®ˆæŠ¤è¿›ç¨‹ã€‚å®ƒåªå®ç°äº†å®¢æˆ·ç«¯ï¼Œä¸“ç”¨äºä»è¿œç¨‹æœåŠ¡å™¨æŸ¥è¯¢æ—¶é—´ï¼Œæ›´é€‚ç”¨äºç»å¤§éƒ¨åˆ†å®‰è£…çš„æƒ…å½¢ã€‚ OpenNTPD æ˜¯ OpenBSD é¡¹ç›®çš„ä¸€éƒ¨åˆ†ï¼ŒåŒæ—¶å®ç°äº†å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ã€‚ Chrony æ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ï¼Œæ›´é€‚åˆæ¼«æ¸¸ï¼Œæ˜¯ä¸ºä¸èƒ½å§‹ç»ˆä¿æŒåœ¨çº¿çš„ç³»ç»Ÿè€Œç‰¹åˆ«è®¾è®¡ã€‚ ntpclient æ˜¯ç®€å•çš„å‘½ä»¤è¡Œ NTP å®¢æˆ·ç«¯  é˜²ç«å¢™ ä¿éšœæ•°æ®çš„å®‰å…¨æ€§æ˜¯ç»§ä¿éšœæ•°æ®çš„å¯ç”¨æ€§ä¹‹åæœ€ä¸ºé‡è¦çš„ä¸€é¡¹å·¥ä½œã€‚é˜²ç«å¢™ä½œä¸ºå…¬ç½‘ä¸å†…ç½‘ä¹‹é—´çš„ä¿æŠ¤å±éšœï¼Œåœ¨ä¿éšœæ•°æ®çš„å®‰å…¨æ€§æ–¹é¢èµ·ç€è‡³å…³é‡è¦çš„ä½œç”¨ã€‚\né˜²ç«å¢™ç®¡ç†å·¥å…· ä¼—æ‰€å‘¨çŸ¥ï¼Œç›¸è¾ƒäºä¼ä¸šå†…ç½‘ï¼Œå¤–éƒ¨çš„å…¬ç½‘ç¯å¢ƒæ›´åŠ æ¶åŠ£ï¼Œç½ªæ¶ä¸›ç”Ÿã€‚åœ¨å…¬ç½‘ä¸ä¼ä¸šå†…ç½‘ä¹‹é—´å……å½“ä¿æŠ¤å±éšœçš„é˜²ç«å¢™è™½ç„¶æœ‰è½¯ä»¶æˆ–ç¡¬ä»¶ä¹‹åˆ†ï¼Œä½†ä¸»è¦åŠŸèƒ½éƒ½æ˜¯ä¾æ®ç­–ç•¥å¯¹ç©¿è¶Šé˜²ç«å¢™è‡ªèº«çš„æµé‡è¿›è¡Œè¿‡æ»¤ã€‚å°±åƒå®¶é‡Œå®‰è£…çš„é˜²ç›—é—¨ä¸€æ ·ï¼Œç›®çš„æ˜¯ä¿æŠ¤äº²äººå’Œè´¢äº§å®‰å…¨ã€‚é˜²ç«å¢™ç­–ç•¥å¯ä»¥åŸºäºæµé‡çš„æºç›®åœ°å€ã€ç«¯å£å·ã€åè®®ã€åº”ç”¨ç­‰ä¿¡æ¯æ¥å®šåˆ¶ï¼Œç„¶åé˜²ç«å¢™ä½¿ç”¨é¢„å…ˆå®šåˆ¶çš„ç­–ç•¥è§„åˆ™ç›‘æ§å‡ºå…¥çš„æµé‡ï¼Œè‹¥æµé‡ä¸æŸä¸€æ¡ç­–ç•¥è§„åˆ™ç›¸åŒ¹é…ï¼Œåˆ™æ‰§è¡Œç›¸åº”çš„å¤„ç†ï¼Œåä¹‹åˆ™ä¸¢å¼ƒã€‚è¿™æ ·ä¸€æ¥ï¼Œå°±èƒ½å¤Ÿä¿è¯ä»…æœ‰åˆæ³•çš„æµé‡åœ¨ä¼ä¸šå†…ç½‘å’Œå¤–éƒ¨å…¬ç½‘ä¹‹é—´æµåŠ¨äº†ã€‚\nä»RHEL 7ç³»ç»Ÿå¼€å§‹ï¼Œfirewalldé˜²ç«å¢™æ­£å¼å–ä»£äº†iptablesé˜²ç«å¢™ã€‚å¯¹äºæ¥è§¦Linuxç³»ç»Ÿæ¯”è¾ƒæ—©æˆ–å­¦ä¹ è¿‡RHEL 5/6ç³»ç»Ÿçš„è¯»è€…æ¥è¯´ï¼Œå½“ä»–ä»¬å‘ç°æ›¾ç»æŒæ¡çš„çŸ¥è¯†åœ¨RHEL 7/8ä¸­ä¸å†é€‚ç”¨ï¼Œéœ€è¦å…¨æ–°å­¦ä¹ firewalldæ—¶ï¼Œéš¾å…ä¼šæœ‰æŠµè§¦å¿ƒç†ã€‚å…¶å®ï¼Œiptablesä¸firewalldéƒ½ä¸æ˜¯çœŸæ­£çš„é˜²ç«å¢™ï¼Œå®ƒä»¬éƒ½åªæ˜¯ç”¨æ¥å®šä¹‰é˜²ç«å¢™ç­–ç•¥çš„é˜²ç«å¢™ç®¡ç†å·¥å…·è€Œå·²ï¼›æˆ–è€…è¯´ï¼Œå®ƒä»¬åªæ˜¯ä¸€ç§æœåŠ¡ã€‚iptablesæœåŠ¡ä¼šæŠŠé…ç½®å¥½çš„é˜²ç«å¢™ç­–ç•¥äº¤ç”±å†…æ ¸å±‚é¢çš„netfilterç½‘ç»œè¿‡æ»¤å™¨æ¥å¤„ç†ï¼Œè€ŒfirewalldæœåŠ¡åˆ™æ˜¯æŠŠé…ç½®å¥½çš„é˜²ç«å¢™ç­–ç•¥äº¤ç”±å†…æ ¸å±‚é¢çš„nftablesåŒ…è¿‡æ»¤æ¡†æ¶æ¥å¤„ç†ã€‚æ¢å¥è¯è¯´ï¼Œå½“å‰åœ¨Linuxç³»ç»Ÿä¸­å…¶å®å­˜åœ¨å¤šä¸ªé˜²ç«å¢™ç®¡ç†å·¥å…·ï¼Œæ—¨åœ¨æ–¹ä¾¿è¿ç»´äººå‘˜ç®¡ç†Linuxç³»ç»Ÿä¸­çš„é˜²ç«å¢™ç­–ç•¥ï¼Œæˆ‘ä»¬åªéœ€è¦é…ç½®å¦¥å½“å…¶ä¸­çš„ä¸€ä¸ªå°±è¶³å¤Ÿäº†ã€‚\nè™½ç„¶è¿™äº›å·¥å…·å„æœ‰ä¼˜åŠ£ï¼Œä½†å®ƒä»¬åœ¨é˜²ç«å¢™ç­–ç•¥çš„é…ç½®æ€è·¯ä¸Šæ˜¯ä¿æŒä¸€è‡´çš„ã€‚å¤§å®¶ç”šè‡³å¯ä»¥ä¸ç”¨å®Œå…¨æŒæ¡æœ¬ç« ä»‹ç»çš„å†…å®¹ï¼Œåªè¦åœ¨è¿™å¤šä¸ªé˜²ç«å¢™ç®¡ç†å·¥å…·ä¸­ä»»é€‰ä¸€æ¬¾å¹¶å°†å…¶å­¦é€ï¼Œå°±è¶³ä»¥æ»¡è¶³æ—¥å¸¸çš„å·¥ä½œéœ€æ±‚äº†ã€‚\nIptables åœ¨æ—©æœŸçš„Linuxç³»ç»Ÿä¸­ï¼Œé»˜è®¤ä½¿ç”¨çš„æ˜¯iptablesé˜²ç«å¢™ç®¡ç†æœåŠ¡æ¥é…ç½®é˜²ç«å¢™ã€‚å°½ç®¡æ–°å‹çš„firewalldé˜²ç«å¢™ç®¡ç†æœåŠ¡å·²ç»è¢«æŠ•å…¥ä½¿ç”¨å¤šå¹´ï¼Œä½†æ˜¯å¤§é‡çš„ä¼ä¸šåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¾ç„¶å‡ºäºå„ç§åŸå› è€Œç»§ç»­ä½¿ç”¨iptablesã€‚\nç­–ç•¥ä¸è§„åˆ™é“¾ é˜²ç«å¢™ä¼šæŒ‰ç…§ä»ä¸Šåˆ°ä¸‹çš„é¡ºåºæ¥è¯»å–é…ç½®çš„ç­–ç•¥è§„åˆ™ï¼Œåœ¨æ‰¾åˆ°åŒ¹é…é¡¹åå°±ç«‹å³ç»“æŸåŒ¹é…å·¥ä½œå¹¶å»æ‰§è¡ŒåŒ¹é…é¡¹ä¸­å®šä¹‰çš„è¡Œä¸ºï¼ˆå³æ”¾è¡Œæˆ–é˜»æ­¢ï¼‰ã€‚å¦‚æœåœ¨è¯»å–å®Œæ‰€æœ‰çš„ç­–ç•¥è§„åˆ™ä¹‹åæ²¡æœ‰åŒ¹é…é¡¹ï¼Œå°±å»æ‰§è¡Œé»˜è®¤çš„ç­–ç•¥ã€‚ä¸€èˆ¬è€Œè¨€ï¼Œé˜²ç«å¢™ç­–ç•¥è§„åˆ™çš„è®¾ç½®æœ‰ä¸¤ç§ï¼šâ€œé€šâ€ï¼ˆå³æ”¾è¡Œï¼‰å’Œâ€œå µâ€ï¼ˆå³é˜»æ­¢ï¼‰ã€‚å½“é˜²ç«å¢™çš„é»˜è®¤ç­–ç•¥ä¸ºæ‹’ç»æ—¶ï¼ˆå µï¼‰ï¼Œå°±è¦è®¾ç½®å…è®¸è§„åˆ™ï¼ˆé€šï¼‰ï¼Œå¦åˆ™è°éƒ½è¿›ä¸æ¥ï¼›å¦‚æœé˜²ç«å¢™çš„é»˜è®¤ç­–ç•¥ä¸ºå…è®¸ï¼Œå°±è¦è®¾ç½®æ‹’ç»è§„åˆ™ï¼Œå¦åˆ™è°éƒ½èƒ½è¿›æ¥ï¼Œé˜²ç«å¢™ä¹Ÿå°±å¤±å»äº†é˜²èŒƒçš„ä½œç”¨ã€‚\niptablesæœåŠ¡æŠŠç”¨äºå¤„ç†æˆ–è¿‡æ»¤æµé‡çš„ç­–ç•¥æ¡ç›®ç§°ä¹‹ä¸ºè§„åˆ™ï¼Œå¤šæ¡è§„åˆ™å¯ä»¥ç»„æˆä¸€ä¸ªè§„åˆ™é“¾ï¼Œè€Œè§„åˆ™é“¾åˆ™ä¾æ®æ•°æ®åŒ…å¤„ç†ä½ç½®çš„ä¸åŒè¿›è¡Œåˆ†ç±»ï¼Œå…·ä½“å¦‚ä¸‹ï¼š\n åœ¨è¿›è¡Œè·¯ç”±é€‰æ‹©å‰å¤„ç†æ•°æ®åŒ…ï¼ˆPREROUTINGï¼‰ï¼› å¤„ç†æµå…¥çš„æ•°æ®åŒ…ï¼ˆINPUTï¼‰ï¼› å¤„ç†æµå‡ºçš„æ•°æ®åŒ…ï¼ˆOUTPUTï¼‰ï¼› å¤„ç†è½¬å‘çš„æ•°æ®åŒ…ï¼ˆFORWARDï¼‰ï¼› åœ¨è¿›è¡Œè·¯ç”±é€‰æ‹©åå¤„ç†æ•°æ®åŒ…ï¼ˆPOSTROUTINGï¼‰ã€‚  ä¸€èˆ¬æ¥è¯´ï¼Œä»å†…ç½‘å‘å¤–ç½‘å‘é€çš„æµé‡ä¸€èˆ¬éƒ½æ˜¯å¯æ§ä¸”è‰¯æ€§çš„ï¼Œå› æ­¤ä½¿ç”¨æœ€å¤šçš„å°±æ˜¯INPUTè§„åˆ™é“¾ï¼Œè¯¥è§„åˆ™é“¾å¯ä»¥å¢å¤§é»‘å®¢äººå‘˜ä»å¤–ç½‘å…¥ä¾µå†…ç½‘çš„éš¾åº¦ã€‚\næ¯”å¦‚åœ¨æ‚¨å±…ä½çš„ç¤¾åŒºå†…ï¼Œç‰©ä¸šç®¡ç†å…¬å¸æœ‰ä¸¤æ¡è§„å®šï¼šç¦æ­¢å°å•†å°è´©è¿›å…¥ç¤¾åŒºï¼›å„ç§è½¦è¾†åœ¨è¿›å…¥ç¤¾åŒºæ—¶éƒ½è¦ç™»è®°ã€‚æ˜¾è€Œæ˜“è§ï¼Œè¿™ä¸¤æ¡è§„å®šåº”è¯¥æ˜¯ç”¨äºç¤¾åŒºçš„æ­£é—¨çš„ï¼ˆæµé‡å¿…é¡»ç»è¿‡çš„åœ°æ–¹ï¼‰ï¼Œè€Œä¸æ˜¯æ¯å®¶æ¯æˆ·çš„é˜²ç›—é—¨ä¸Šã€‚æ ¹æ®å‰é¢æåˆ°çš„é˜²ç«å¢™ç­–ç•¥çš„åŒ¹é…é¡ºåºï¼Œå¯èƒ½ä¼šå­˜åœ¨å¤šç§æƒ…å†µã€‚æ¯”å¦‚ï¼Œæ¥è®¿äººå‘˜æ˜¯å°å•†å°è´©ï¼Œåˆ™ç›´æ¥ä¼šè¢«ç‰©ä¸šå…¬å¸çš„ä¿å®‰æ‹’ä¹‹é—¨å¤–ï¼Œä¹Ÿå°±æ— é¡»å†å¯¹è½¦è¾†è¿›è¡Œç™»è®°ã€‚å¦‚æœæ¥è®¿äººå‘˜ä¹˜åä¸€è¾†æ±½è½¦è¿›å…¥ç¤¾åŒºæ­£é—¨ï¼Œåˆ™â€œç¦æ­¢å°å•†å°è´©è¿›å…¥ç¤¾åŒºâ€çš„ç¬¬ä¸€æ¡è§„åˆ™å°±æ²¡æœ‰è¢«åŒ¹é…åˆ°ï¼Œå› æ­¤æŒ‰ç…§é¡ºåºåŒ¹é…ç¬¬äºŒæ¡ç­–ç•¥ï¼Œå³éœ€è¦å¯¹è½¦è¾†è¿›è¡Œç™»è®°ã€‚å¦‚æœæ˜¯ç¤¾åŒºå±…æ°‘è¦è¿›å…¥æ­£é—¨ï¼Œåˆ™è¿™ä¸¤æ¡è§„å®šéƒ½ä¸ä¼šåŒ¹é…åˆ°ï¼Œå› æ­¤ä¼šæ‰§è¡Œé»˜è®¤çš„æ”¾è¡Œç­–ç•¥ã€‚\nä½†æ˜¯ï¼Œä»…æœ‰ç­–ç•¥è§„åˆ™è¿˜ä¸èƒ½ä¿è¯ç¤¾åŒºçš„å®‰å…¨ï¼Œä¿å®‰è¿˜åº”è¯¥çŸ¥é“é‡‡ç”¨ä»€ä¹ˆæ ·çš„åŠ¨ä½œæ¥å¤„ç†è¿™äº›åŒ¹é…çš„æµé‡ï¼Œæ¯”å¦‚â€œå…è®¸â€â€œæ‹’ç»â€â€œç™»è®°â€â€œä¸ç†å®ƒâ€ã€‚è¿™äº›åŠ¨ä½œå¯¹åº”åˆ°iptablesæœåŠ¡çš„æœ¯è¯­ä¸­åˆ†åˆ«æ˜¯ACCEPTï¼ˆå…è®¸æµé‡é€šè¿‡ï¼‰ã€REJECTï¼ˆæ‹’ç»æµé‡é€šè¿‡ï¼‰ã€LOGï¼ˆè®°å½•æ—¥å¿—ä¿¡æ¯ï¼‰ã€DROPï¼ˆæ‹’ç»æµé‡é€šè¿‡ï¼‰ã€‚â€œå…è®¸æµé‡é€šè¿‡â€å’Œâ€œè®°å½•æ—¥å¿—ä¿¡æ¯â€éƒ½æ¯”è¾ƒå¥½ç†è§£ï¼Œè¿™é‡Œéœ€è¦ç€é‡è®²è§£çš„æ˜¯REJECTå’ŒDROPçš„ä¸åŒç‚¹ã€‚å°±DROPæ¥è¯´ï¼Œå®ƒæ˜¯ç›´æ¥å°†æµé‡ä¸¢å¼ƒè€Œä¸”ä¸å“åº”ï¼›REJECTåˆ™ä¼šåœ¨æ‹’ç»æµé‡åå†å›å¤ä¸€æ¡â€œä¿¡æ¯å·²ç»æ”¶åˆ°ï¼Œä½†æ˜¯è¢«æ‰”æ‰äº†â€ä¿¡æ¯ï¼Œä»è€Œè®©æµé‡å‘é€æ–¹æ¸…æ™°åœ°çœ‹åˆ°æ•°æ®è¢«æ‹’ç»çš„å“åº”ä¿¡æ¯ã€‚\nä¸‹é¢ä¸¾ä¸€ä¸ªä¾‹å­ï¼Œè®©å„ä½è¯»è€…æ›´ç›´è§‚åœ°ç†è§£è¿™ä¸¤ä¸ªæ‹’ç»åŠ¨ä½œçš„ä¸åŒä¹‹å¤„ã€‚æ¯”å¦‚æœ‰ä¸€å¤©æ‚¨æ­£åœ¨å®¶é‡Œçœ‹ç”µè§†ï¼Œçªç„¶å¬åˆ°æœ‰äººæ•²é—¨ï¼Œæ‚¨é€è¿‡é˜²ç›—é—¨çš„çŒ«çœ¼ä¸€çœ‹æ˜¯æ¨é”€å•†å“çš„ï¼Œä¾¿ä¼šåœ¨ä¸éœ€è¦çš„æƒ…å†µä¸‹å¼€é—¨å¹¶æ‹’ç»ä»–ä»¬ï¼ˆREJECTï¼‰ã€‚ä½†å¦‚æœçœ‹åˆ°çš„æ˜¯å€ºä¸»å¸¦äº†åå‡ ä¸ªå°å¼Ÿæ¥è®¨å€ºï¼Œæ­¤æ—¶ä¸ä»…è¦æ‹’ç»å¼€é—¨ï¼Œè¿˜è¦é»˜ä¸ä½œå£°ï¼Œä¼ªè£…æˆè‡ªå·±ä¸åœ¨å®¶çš„æ ·å­ï¼ˆDROPï¼‰ã€‚\nå½“æŠŠLinuxç³»ç»Ÿä¸­çš„é˜²ç«å¢™ç­–ç•¥è®¾ç½®ä¸ºREJECTåŠ¨ä½œåï¼Œæµé‡å‘é€æ–¹ä¼šçœ‹åˆ°ç«¯å£ä¸å¯è¾¾çš„å“åº”ï¼š\n[root@linuxprobe ~]# ping -c 4 192.168.10.10 PING 192.168.10.10 (192.168.10.10) 56(84) bytes of data. From 192.168.10.10 icmp_seq=1 Destination Port Unreachable From 192.168.10.10 icmp_seq=2 Destination Port Unreachable From 192.168.10.10 icmp_seq=3 Destination Port Unreachable From 192.168.10.10 icmp_seq=4 Destination Port Unreachable --- 192.168.10.10 ping statistics --- 4 packets transmitted, 0 received, +4 errors, 100 packet loss, time 3002ms è€ŒæŠŠLinuxç³»ç»Ÿä¸­çš„é˜²ç«å¢™ç­–ç•¥ä¿®æ”¹æˆDROPåŠ¨ä½œåï¼Œæµé‡å‘é€æ–¹ä¼šçœ‹åˆ°å“åº”è¶…æ—¶çš„æé†’ã€‚ä½†æ˜¯æµé‡å‘é€æ–¹æ— æ³•åˆ¤æ–­æµé‡æ˜¯è¢«æ‹’ç»ï¼Œè¿˜æ˜¯æ¥æ”¶æ–¹ä¸»æœºå½“å‰ä¸åœ¨çº¿ï¼š\n[root@linuxprobe ~]# ping -c 4 192.168.10.10 PING 192.168.10.10 (192.168.10.10) 56(84) bytes of data. --- 192.168.10.10 ping statistics --- 4 packets transmitted, 0 received, 100 packet loss, time 3000ms åŸºæœ¬çš„å‘½ä»¤å‚æ•° iptablesæ˜¯ä¸€æ¬¾åŸºäºå‘½ä»¤è¡Œçš„é˜²ç«å¢™ç­–ç•¥ç®¡ç†å·¥å…·ï¼Œå…·æœ‰å¤§é‡çš„å‚æ•°ï¼Œå­¦ä¹ éš¾åº¦è¾ƒå¤§ã€‚å¥½åœ¨å¯¹äºæ—¥å¸¸çš„é˜²ç«å¢™ç­–ç•¥é…ç½®æ¥è®²ï¼Œå¤§å®¶æ— é¡»æ·±å…¥äº†è§£è¯¸å¦‚â€œå››è¡¨äº”é“¾â€çš„ç†è®ºæ¦‚å¿µï¼Œåªéœ€è¦æŒæ¡å¸¸ç”¨çš„å‚æ•°å¹¶åšåˆ°çµæ´»æ­é…å³å¯ï¼Œè¿™å°±è¶³ä»¥åº”å¯¹æ—¥å¸¸å·¥ä½œäº†ã€‚\næ ¹æ®OSIä¸ƒå±‚æ¨¡å‹çš„å®šä¹‰ï¼Œiptableså±äºæ•°æ®é“¾è·¯å±‚çš„æœåŠ¡ï¼Œæ‰€ä»¥å¯ä»¥æ ¹æ®æµé‡çš„æºåœ°å€ã€ç›®çš„åœ°å€ã€ä¼ è¾“åè®®ã€æœåŠ¡ç±»å‹ç­‰ä¿¡æ¯è¿›è¡ŒåŒ¹é…ï¼›ä¸€æ—¦åŒ¹é…æˆåŠŸï¼Œiptableså°±ä¼šæ ¹æ®ç­–ç•¥è§„åˆ™æ‰€é¢„è®¾çš„åŠ¨ä½œæ¥å¤„ç†è¿™äº›æµé‡ã€‚å¦å¤–ï¼Œå†æ¬¡æé†’ä¸€ä¸‹ï¼Œé˜²ç«å¢™ç­–ç•¥è§„åˆ™çš„åŒ¹é…é¡ºåºæ˜¯ä»ä¸Šåˆ°ä¸‹çš„ï¼Œå› æ­¤è¦æŠŠè¾ƒä¸ºä¸¥æ ¼ã€ä¼˜å…ˆçº§è¾ƒé«˜çš„ç­–ç•¥è§„åˆ™æ”¾åˆ°å‰é¢ï¼Œä»¥å…å‘ç”Ÿé”™è¯¯ã€‚è¡¨8-1æ€»ç»“å½’çº³äº†å¸¸ç”¨çš„iptableså‘½ä»¤å‚æ•°ã€‚å†æ¬¡å¼ºè°ƒï¼Œæ— é¡»æ­»è®°ç¡¬èƒŒè¿™äº›å‚æ•°ï¼Œåªéœ€å€ŸåŠ©ä¸‹é¢çš„å®éªŒæ¥ç†è§£æŒæ¡å³å¯ã€‚\nå‘½ä»¤æ ¼å¼ iptables [-t table] COMMAND chain CRETIRIA -j ACTION  -t table ï¼šfilter/nat/mangle COMMANDï¼šå®šä¹‰å¦‚ä½•å¯¹è§„åˆ™è¿›è¡Œç®¡ç† chainï¼šæŒ‡å®šä½ æ¥ä¸‹æ¥çš„è§„åˆ™åˆ°åº•æ˜¯åœ¨å“ªä¸ªé“¾ä¸Šæ“ä½œçš„ï¼Œå½“å®šä¹‰ç­–ç•¥çš„æ—¶å€™ï¼Œæ˜¯å¯ä»¥çœç•¥çš„ CRETIRIA:æŒ‡å®šåŒ¹é…æ ‡å‡† -j ACTION :æŒ‡å®šå¦‚ä½•è¿›è¡Œå¤„ç†  å‚æ•°è¯´æ˜    å‚æ•° è¯´æ˜ ç¤ºä¾‹     -F æ¸…ç©ºè§„åˆ™é“¾ iptables -F   -L æŸ¥çœ‹è§„åˆ™é“¾ iptables -L   -A è¿½åŠ è§„åˆ™ iptables -A INPUT   -D åˆ é™¤è§„åˆ™ iptables -D INPUT 1   -R ä¿®æ”¹è§„åˆ™ iptable -R INPUT 1 -s 192.168.120.0 -j DROP   -I åœ¨å¤´éƒ¨æ’å…¥è§„åˆ™ iptables -I INPUT 1 \u0026ndash;dport 80 -j ACCEPT   -L æŸ¥çœ‹è§„åˆ™ iptables -L INPUT   -N æ–°çš„è§„åˆ™ iptables -N allowed   -V æŸ¥çœ‹iptablesç‰ˆæœ¬ iptables -V   -p åè®®ï¼ˆtcp/udp/icmpï¼‰ iptables -A INPUT -p tcp   -s åŒ¹é…åŸåœ°å€ï¼ŒåŠ \u0026quot; ! \u0026ldquo;è¡¨ç¤ºé™¤è¿™ä¸ªIPå¤– iptables -A INPUT -s 192.168.1.1   -d åŒ¹é…ç›®çš„åœ°å€ iptables -A INPUT -d 192.168.12.1   \u0026ndash;sport åŒ¹é…æºç«¯å£æµå…¥çš„æ•°æ® iptables -A INPUT -p tcp \u0026ndash;sport 22   \u0026ndash;dport åŒ¹é…ç›®çš„ç«¯å£æµå‡ºçš„æ•°æ® iptables -A INPUT -p tcp \u0026ndash;dport 22   -i åŒ¹é…å…¥å£ç½‘å¡æµå…¥çš„æ•°æ® iptables -A INPUT -i eth0   -o åŒ¹é…å‡ºå£ç½‘å¡æµå‡ºçš„æ•°æ® iptables -A FORWARD -o eth0   -j è¦è¿›è¡Œçš„å¤„ç†åŠ¨ä½œ:DROP(ä¸¢å¼ƒ)ï¼ŒREJECT(æ‹’ç»)ï¼ŒACCEPT(æ¥å—)ï¼ŒSANT(åŸºäºåŸåœ°å€çš„è½¬æ¢) iptable -A INPUT 1 -s 192.168.120.0 -j DROP   \u0026ndash;to-source æŒ‡å®šSANTè½¬æ¢åçš„åœ°å€ iptables -t nat -A POSTROUTING -s 192.168.10.0/24 -j SANT \u0026ndash;to-source 172.16.100.1   -t è¡¨å(rawã€mangleã€natã€filter) iptables -t nat   -m ä½¿ç”¨æ‰©å±•æ¨¡å—æ¥è¿›è¡Œæ•°æ®åŒ…çš„åŒ¹é…(multiport/tcp/state/addrtype) iptables -m multiport    åŠ¨ä½œè¯´æ˜ å¤„ç†åŠ¨ä½œé™¤äº† ACCEPTã€REJECTã€DROPã€REDIRECT å’Œ MASQUERADE ä»¥å¤–ï¼Œè¿˜å¤šå‡º LOGã€ULOGã€DNATã€SNATã€MIRRORã€QUEUEã€RETURNã€TOSã€TTLã€MARK ç­‰ï¼Œå…¶ä¸­æŸäº›å¤„ç†åŠ¨ä½œä¸ä¼šä¸­æ–­è¿‡æ»¤ç¨‹åºï¼ŒæŸäº›å¤„ç†åŠ¨ä½œåˆ™ä¼šä¸­æ–­åŒä¸€è§„åˆ™é“¾çš„è¿‡æ»¤ï¼Œå¹¶ä¾ç…§å‰è¿°æµç¨‹ç»§ç»­è¿›è¡Œä¸‹ä¸€ä¸ªè§„åˆ™é“¾çš„è¿‡æ»¤ï¼Œä¸€ç›´åˆ°å †æ ˆä¸­çš„è§„åˆ™æ£€æŸ¥å®Œæ¯•ä¸ºæ­¢ã€‚é€è¿‡è¿™ç§æœºåˆ¶æ‰€å¸¦æ¥çš„å¥½å¤„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œå¤æ‚ã€å¤šé‡çš„å°åŒ…è¿‡æ»¤ï¼Œç®€å•çš„è¯´ï¼Œiptables å¯ä»¥è¿›è¡Œçºµæ¨ªäº¤é”™å¼çš„è¿‡æ»¤ï¼ˆtablesï¼‰è€Œéé“¾çŠ¶è¿‡æ»¤ï¼ˆchainsï¼‰ã€‚\n   åŠ¨ä½œ è¯´æ˜ ç¤ºä¾‹     ACCEPT å°†å°åŒ…æ”¾è¡Œï¼Œè¿›è¡Œå®Œæ­¤å¤„ç†åŠ¨ä½œåï¼Œå°†ä¸å†æ¯”å¯¹å…¶å®ƒè§„åˆ™ï¼Œç›´æ¥è·³å¾€ä¸‹ä¸€ä¸ªè§„åˆ™é“¾ï¼ˆnat:postroutingï¼‰    REJECT æ‹¦é˜»è¯¥å°åŒ…ï¼Œå¹¶ä¼ é€å°åŒ…é€šçŸ¥å¯¹æ–¹ï¼Œå¯ä»¥ä¼ é€çš„å°åŒ…æœ‰å‡ ä¸ªé€‰æ‹©ï¼šICMP port-unreachableã€ICMP echo-reply æˆ–æ˜¯ tcp-resetï¼ˆè¿™ä¸ªå°åŒ…ä¼šè¦æ±‚å¯¹æ–¹å…³é—­è”æœºï¼‰ï¼Œè¿›è¡Œå®Œæ­¤å¤„ç†åŠ¨ä½œåï¼Œå°†ä¸å†æ¯”å¯¹å…¶å®ƒè§„åˆ™ï¼Œç›´æ¥ ä¸­æ–­è¿‡æ»¤ç¨‹åºã€‚ iptables -A FORWARD -p TCP \u0026ndash;dport 22 -j REJECT \u0026ndash;reject-with tcp-reset   DROP ä¸¢å¼ƒå°åŒ…ä¸äºˆå¤„ç†ï¼Œè¿›è¡Œå®Œæ­¤å¤„ç†åŠ¨ä½œåï¼Œå°†ä¸å†æ¯”å¯¹å…¶å®ƒè§„åˆ™ï¼Œç›´æ¥ä¸­æ–­è¿‡æ»¤ç¨‹åºã€‚    REDIRECT å°†å°åŒ…é‡æ–°å¯¼å‘åˆ°å¦ä¸€ä¸ªç«¯å£ï¼ˆPNATï¼‰ï¼Œè¿›è¡Œå®Œæ­¤å¤„ç†åŠ¨ä½œåï¼Œå°† ä¼šç»§ç»­æ¯”å¯¹å…¶å®ƒè§„åˆ™ã€‚ è¿™ä¸ªåŠŸèƒ½å¯ä»¥ç”¨æ¥å®ä½œé€šé€å¼ porxy æˆ–ç”¨æ¥ä¿æŠ¤ web æœåŠ¡å™¨ã€‚ iptables -t nat -A PREROUTING -p tcp \u0026ndash;dport 80 -j REDIRECT \u0026ndash;to-ports 8080   MASQUERADE æ”¹å†™å°åŒ…æ¥æº IP ä¸ºé˜²ç«å¢™ NIC IPï¼Œå¯ä»¥æŒ‡å®š port å¯¹åº”çš„èŒƒå›´ï¼Œè¿›è¡Œå®Œæ­¤å¤„ç†åŠ¨ä½œåï¼Œç›´æ¥è·³å¾€ä¸‹ä¸€ä¸ªè§„åˆ™é“¾ï¼ˆmangle:postroutingï¼‰ã€‚è¿™ä¸ªåŠŸèƒ½ä¸ SNAT ç•¥æœ‰ä¸åŒï¼Œå½“è¿›è¡Œ IP ä¼ªè£…æ—¶ï¼Œä¸éœ€æŒ‡å®šè¦ä¼ªè£…æˆå“ªä¸ª IPï¼ŒIP ä¼šä»ç½‘å¡ç›´æ¥è¯»å–ï¼Œå½“ä½¿ç”¨æ‹¨æ¥è¿çº¿æ—¶ï¼ŒIP é€šå¸¸æ˜¯ç”± ISP å…¬å¸çš„ DHCP æœåŠ¡å™¨æŒ‡æ´¾çš„ï¼Œè¿™ä¸ªæ—¶å€™ MASQUERADE ç‰¹åˆ«æœ‰ç”¨ã€‚ iptables -t nat -A POSTROUTING -p TCP -j MASQUERADE \u0026ndash;to-ports 1024-31000   LOG å°†å°åŒ…ç›¸å…³è®¯æ¯çºªå½•åœ¨ /var/log ä¸­ï¼Œè¯¦ç»†ä½ç½®è¯·æŸ¥é˜… /etc/syslog.conf ç»„æ€æ¡£ï¼Œè¿›è¡Œå®Œæ­¤å¤„ç†åŠ¨ä½œåï¼Œå°†ä¼šç»§ç»­æ¯”å¯¹å…¶å®ƒè§„åˆ™ã€‚ iptables -A INPUT -p tcp -j LOG \u0026ndash;log-prefix \u0026ldquo;INPUT packets\u0026rdquo;   SNAT æ”¹å†™å°åŒ…æ¥æº IP ä¸ºæŸç‰¹å®š IP æˆ– IP èŒƒå›´ï¼Œå¯ä»¥æŒ‡å®š port å¯¹åº”çš„èŒƒå›´ï¼Œè¿›è¡Œå®Œæ­¤å¤„ç†åŠ¨ä½œåï¼Œå°†ç›´æ¥è·³å¾€ä¸‹ä¸€ä¸ªè§„åˆ™é“¾ï¼ˆmangle:postroutingï¼‰ã€‚ iptables -t nat -A POSTROUTING -p tcp-o eth0 -j SNAT \u0026ndash;to-source 194.236.50.155-194.236.50.160:1024-32000   DNAT æ”¹å†™å°åŒ…ç›®çš„åœ° IP ä¸ºæŸç‰¹å®š IP æˆ– IP èŒƒå›´ï¼Œå¯ä»¥æŒ‡å®š port å¯¹åº”çš„èŒƒå›´ï¼Œè¿›è¡Œå®Œæ­¤å¤„ç†åŠ¨ä½œåï¼Œå°†ä¼šç›´æ¥è·³å¾€ä¸‹ä¸€ä¸ªè§„åˆ™é“¾ï¼ˆfilter:input æˆ– filter:forwardï¼‰ã€‚ iptables -t nat -A PREROUTING -p tcp -d 15.45.23.67 \u0026ndash;dport 80 -j DNAT \u0026ndash;to-destination 192.168.1.1-192.168.1.10:80-100   MIRROR é•œå°„å°åŒ…ï¼Œä¹Ÿå°±æ˜¯å°†æ¥æº IP ä¸ç›®çš„åœ° IP å¯¹è°ƒåï¼Œå°†å°åŒ…é€å›ï¼Œè¿›è¡Œå®Œæ­¤å¤„ç†åŠ¨ä½œåï¼Œå°†ä¼šä¸­æ–­è¿‡æ»¤ç¨‹åºã€‚    QUEUE ä¸­æ–­è¿‡æ»¤ç¨‹åºï¼Œå°†å°åŒ…æ”¾å…¥é˜Ÿåˆ—ï¼Œäº¤ç»™å…¶å®ƒç¨‹åºå¤„ç†ã€‚é€è¿‡è‡ªè¡Œå¼€å‘çš„å¤„ç†ç¨‹åºï¼Œå¯ä»¥è¿›è¡Œå…¶å®ƒåº”ç”¨ï¼Œä¾‹å¦‚ï¼šè®¡ç®—è”æœºè´¹ç”¨â€¦â€¦ç­‰ã€‚    RETURN ç»“æŸåœ¨ç›®å‰è§„åˆ™é“¾ä¸­çš„è¿‡æ»¤ç¨‹åºï¼Œè¿”å›ä¸»è§„åˆ™é“¾ç»§ç»­è¿‡æ»¤ï¼Œå¦‚æœæŠŠè‡ªè®¢è§„åˆ™é“¾çœ‹æˆæ˜¯ä¸€ä¸ªå­ç¨‹åºï¼Œé‚£ä¹ˆè¿™ä¸ªåŠ¨ä½œï¼Œå°±ç›¸å½“äºææ—©ç»“æŸå­ç¨‹åºå¹¶è¿”å›åˆ°ä¸»ç¨‹åºä¸­ã€‚    MARK å°†å°åŒ…æ ‡ä¸ŠæŸä¸ªä»£å·ï¼Œä»¥ä¾¿æä¾›ä½œä¸ºåç»­è¿‡æ»¤çš„æ¡ä»¶åˆ¤æ–­ä¾æ®ï¼Œè¿›è¡Œå®Œæ­¤å¤„ç†åŠ¨ä½œåï¼Œå°†ä¼šç»§ç»­æ¯”å¯¹å…¶å®ƒè§„åˆ™ã€‚ iptables -t mangle -A PREROUTING -p tcp \u0026ndash;dport 22 -j MARK \u0026ndash;set-mark 2    ä¾‹å­ 1ï¼åœ¨iptableså‘½ä»¤åæ·»åŠ -Lå‚æ•°æŸ¥çœ‹å·²æœ‰çš„é˜²ç«å¢™è§„åˆ™é“¾ã€‚\n[root@linuxprobe ~]# iptables -L Chain INPUT (policy ACCEPT) target prot opt source destination ACCEPT udp -- anywhere anywhere udp dpt:domain ACCEPT tcp -- anywhere anywhere tcp dpt:domain ACCEPT udp -- anywhere anywhere udp dpt:bootps ACCEPT tcp -- anywhere anywhere tcp dpt:bootps Chain FORWARD (policy ACCEPT) target prot opt source destination ACCEPT all -- anywhere 192.168.122.0/24 ctstate RELATED,ESTABLISHED ACCEPT all -- 192.168.122.0/24 anywhere ACCEPT all -- anywhere anywhere REJECT all -- anywhere anywhere reject-with icmp-port-unreachable REJECT all -- anywhere anywhere reject-with icmp-port-unreachable Chain OUTPUT (policy ACCEPT) target prot opt source destination ACCEPT udp -- anywhere anywhere udp dpt:bootpc 2ï¼åœ¨iptableså‘½ä»¤åæ·»åŠ -Få‚æ•°æ¸…ç©ºå·²æœ‰çš„é˜²ç«å¢™è§„åˆ™é“¾ã€‚\n[root@linuxprobe ~]# iptables -F [root@linuxprobe ~]# iptables -L Chain INPUT (policy ACCEPT) target prot opt source destination Chain FORWARD (policy ACCEPT) target prot opt source destination Chain OUTPUT (policy ACCEPT) target prot opt source destination 3ï¼æŠŠINPUTè§„åˆ™é“¾çš„é»˜è®¤ç­–ç•¥è®¾ç½®ä¸ºæ‹’ç»ã€‚\n[root@linuxprobe ~]# iptables -P INPUT DROP [root@linuxprobe ~]# iptables -L Chain INPUT (policy DROP) target prot opt source destination Chain FORWARD (policy ACCEPT) target prot opt source destination Chain OUTPUT (policy ACCEPT) target prot opt source destination å‰æ–‡æåˆ°ï¼Œé˜²ç«å¢™ç­–ç•¥è§„åˆ™çš„è®¾ç½®æ— éæœ‰ä¸¤ç§æ–¹å¼ï¼šâ€œé€šâ€å’Œâ€œå µâ€ã€‚å½“æŠŠINPUTé“¾è®¾ç½®ä¸ºé»˜è®¤æ‹’ç»åï¼Œå°±è¦å¾€é‡Œé¢å†™å…¥å…è®¸ç­–ç•¥äº†ï¼Œå¦åˆ™æ‰€æœ‰æµå…¥çš„æ•°æ®åŒ…éƒ½ä¼šè¢«é»˜è®¤æ‹’ç»æ‰ã€‚åŒå­¦ä»¬éœ€è¦ç•™æ„çš„æ˜¯ï¼Œè§„åˆ™é“¾çš„é»˜è®¤ç­–ç•¥æ‹’ç»åŠ¨ä½œåªèƒ½æ˜¯DROPï¼Œè€Œä¸èƒ½æ˜¯REJECTã€‚\n4ï¼å‘INPUTé“¾ä¸­æ·»åŠ å…è®¸ICMPæµé‡è¿›å…¥çš„ç­–ç•¥è§„åˆ™ã€‚\nåœ¨æ—¥å¸¸è¿ç»´å·¥ä½œä¸­ï¼Œç»å¸¸ä¼šä½¿ç”¨pingå‘½ä»¤æ¥æ£€æŸ¥å¯¹æ–¹ä¸»æœºæ˜¯å¦åœ¨çº¿ï¼Œè€Œå‘é˜²ç«å¢™çš„INPUTè§„åˆ™é“¾ä¸­æ·»åŠ ä¸€æ¡å…è®¸ICMPæµé‡è¿›å…¥çš„ç­–ç•¥è§„åˆ™å°±é»˜è®¤å…è®¸äº†è¿™ç§pingå‘½ä»¤æ£€æµ‹è¡Œä¸ºã€‚\n[root@linuxprobe ~]# iptables -I INPUT -p icmp -j ACCEPT [root@linuxprobe ~]# ping -c 4 192.168.10.10 PING 192.168.10.10 (192.168.10.10) 56(84) bytes of data. 64 bytes from 192.168.10.10: icmp_seq=1 ttl=64 time=0.154 ms 64 bytes from 192.168.10.10: icmp_seq=2 ttl=64 time=0.041 ms 64 bytes from 192.168.10.10: icmp_seq=3 ttl=64 time=0.038 ms 64 bytes from 192.168.10.10: icmp_seq=4 ttl=64 time=0.046 ms --- 192.168.10.10 ping statistics --- 4 packets transmitted, 4 received, 0 packet loss, time 104ms rtt min/avg/max/mdev = 0.038/0.069/0.154/0.049 ms 5ï¼åˆ é™¤INPUTè§„åˆ™é“¾ä¸­åˆšåˆšåŠ å…¥çš„é‚£æ¡ç­–ç•¥ï¼ˆå…è®¸ICMPæµé‡ï¼‰ï¼Œå¹¶æŠŠé»˜è®¤ç­–ç•¥è®¾ç½®ä¸ºå…è®¸ã€‚\nä½¿ç”¨-Få‚æ•°ä¼šæ¸…ç©ºå·²æœ‰çš„æ‰€æœ‰é˜²ç«å¢™ç­–ç•¥ï¼›ä½¿ç”¨-Då‚æ•°å¯ä»¥åˆ é™¤æŸä¸€æ¡æŒ‡å®šçš„ç­–ç•¥ï¼Œå› æ­¤æ›´åŠ å®‰å…¨å’Œå‡†ç¡®ã€‚\n[root@linuxprobe ~]# iptables -D INPUT 1 [root@linuxprobe ~]# iptables -P INPUT ACCEPT [root@linuxprobe ~]# iptables -L Chain INPUT (policy ACCEPT) target prot opt source destination Chain FORWARD (policy ACCEPT) target prot opt source destination Chain OUTPUT (policy ACCEPT) target prot opt source destination 6ï¼å°†INPUTè§„åˆ™é“¾è®¾ç½®ä¸ºåªå…è®¸æŒ‡å®šç½‘æ®µçš„ä¸»æœºè®¿é—®æœ¬æœºçš„22ç«¯å£ï¼Œæ‹’ç»æ¥è‡ªå…¶ä»–æ‰€æœ‰ä¸»æœºçš„æµé‡ã€‚\nè¦å¯¹æŸå°ä¸»æœºè¿›è¡ŒåŒ¹é…ï¼Œå¯ç›´æ¥å†™å‡ºå®ƒçš„IPåœ°å€ï¼›å¦‚éœ€å¯¹ç½‘æ®µè¿›è¡ŒåŒ¹é…ï¼Œåˆ™éœ€è¦å†™ä¸ºå­ç½‘æ©ç çš„å½¢å¼ï¼ˆæ¯”å¦‚192.168.10.0/24ï¼‰ã€‚\n[root@linuxprobe ~]# iptables -I INPUT -s 192.168.10.0/24 -p tcp --dport 22 -j ACCEPT [root@linuxprobe ~]# iptables -A INPUT -p tcp --dport 22 -j REJECT [root@linuxprobe ~]# iptables -L Chain INPUT (policy ACCEPT) target prot opt source destination ACCEPT tcp -- 192.168.10.0/24 anywhere tcp dpt:ssh REJECT tcp -- anywhere anywhere tcp dpt:ssh reject-with icmp-port-unreachable â€¦â€¦â€¦â€¦â€¦â€¦çœç•¥éƒ¨åˆ†è¾“å‡ºä¿¡æ¯â€¦â€¦â€¦â€¦â€¦â€¦ å†æ¬¡é‡ç”³ï¼Œé˜²ç«å¢™ç­–ç•¥è§„åˆ™æ˜¯æŒ‰ç…§ä»ä¸Šåˆ°ä¸‹çš„é¡ºåºåŒ¹é…çš„ï¼Œå› æ­¤ä¸€å®šè¦æŠŠå…è®¸åŠ¨ä½œæ”¾åˆ°æ‹’ç»åŠ¨ä½œå‰é¢ï¼Œå¦åˆ™æ‰€æœ‰çš„æµé‡å°±å°†è¢«æ‹’ç»æ‰ï¼Œä»è€Œå¯¼è‡´ä»»ä½•ä¸»æœºéƒ½æ— æ³•è®¿é—®æˆ‘ä»¬çš„æœåŠ¡ã€‚å¦å¤–ï¼Œè¿™é‡Œæåˆ°çš„22å·ç«¯å£æ˜¯sshæœåŠ¡ä½¿ç”¨çš„ã€‚\nåœ¨è®¾ç½®å®Œä¸Šè¿°INPUTè§„åˆ™é“¾ä¹‹åï¼Œä½¿ç”¨IPåœ°å€åœ¨192.168.10.0/24ç½‘æ®µå†…çš„ä¸»æœºè®¿é—®æœåŠ¡å™¨ï¼ˆå³å‰é¢æåˆ°çš„è®¾ç½®äº†INPUTè§„åˆ™é“¾çš„ä¸»æœºï¼‰çš„22ç«¯å£ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š\n[root@Client A ~]# ssh 192.168.10.10 The authenticity of host \u0026#39;192.168.10.10 (192.168.10.10)\u0026#39; can\u0026#39;t be established. ECDSA key fingerprint is SHA256:5d52kZi1la/FJK4v4jibLBZhLqzGqbJAskZiME6ZXpQ. Are you sure you want to continue connecting (yes/no)? yes Warning: Permanently added \u0026#39;192.168.10.10\u0026#39; (ECDSA) to the list of known hosts. root@192.168.10.10\u0026#39;s password: æ­¤å¤„è¾“å…¥æœåŠ¡å™¨å¯†ç  Activate the web console with: systemctl enable --now cockpit.socket Last login: Wed Jan 20 16:30:28 2021 from 192.168.10.1 ç„¶åï¼Œå†ä½¿ç”¨IPåœ°å€åœ¨192.168.20.0/24ç½‘æ®µå†…çš„ä¸»æœºè®¿é—®æœåŠ¡å™¨çš„22ç«¯å£ï¼ˆè™½ç½‘æ®µä¸åŒï¼Œä½†å·²ç¡®è®¤å¯ä»¥ç›¸äº’é€šä¿¡ï¼‰ï¼Œæ•ˆæœå¦‚ä¸‹ï¼š\n[root@Client B ~]# ssh 192.168.10.10 Connecting to 192.168.10.10:22... Could not connect to \u0026#39;192.168.10.10\u0026#39; (port 22): Connection failed. ç”±ä¸Šå¯ä»¥çœ‹åˆ°ï¼Œæç¤ºè¿æ¥è¯·æ±‚è¢«æ‹’ç»äº†ï¼ˆConnection failedï¼‰ã€‚\n7ï¼å‘INPUTè§„åˆ™é“¾ä¸­æ·»åŠ æ‹’ç»æ‰€æœ‰äººè®¿é—®æœ¬æœº12345ç«¯å£çš„ç­–ç•¥è§„åˆ™ã€‚\n[root@linuxprobe ~]# iptables -I INPUT -p tcp --dport 12345 -j REJECT [root@linuxprobe ~]# iptables -I INPUT -p udp --dport 12345 -j REJECT [root@linuxprobe ~]# iptables -L Chain INPUT (policy ACCEPT) target prot opt source destination REJECT udp -- anywhere anywhere udp dpt:italk reject-with icmp-port-unreachable REJECT tcp -- anywhere anywhere tcp dpt:italk reject-with icmp-port-unreachable ACCEPT tcp -- 192.168.10.0/24 anywhere tcp dpt:ssh REJECT tcp -- anywhere anywhere tcp dpt:ssh reject-with icmp-port-unreachable â€¦â€¦â€¦â€¦â€¦â€¦çœç•¥éƒ¨åˆ†è¾“å‡ºä¿¡æ¯â€¦â€¦â€¦â€¦â€¦â€¦ 8ï¼å‘INPUTè§„åˆ™é“¾ä¸­æ·»åŠ æ‹’ç»192.168.10.5ä¸»æœºè®¿é—®æœ¬æœº80ç«¯å£ï¼ˆWebæœåŠ¡ï¼‰çš„ç­–ç•¥è§„åˆ™ã€‚\n[root@linuxprobe ~]# iptables -I INPUT -p tcp -s 192.168.10.5 --dport 80 -j REJECT [root@linuxprobe ~]# iptables -L Chain INPUT (policy ACCEPT) target prot opt source destination REJECT tcp -- 192.168.10.5 anywhere tcp dpt:http reject-with icmp-port-unreachable REJECT udp -- anywhere anywhere udp dpt:italk reject-with icmp-port-unreachable REJECT tcp -- anywhere anywhere tcp dpt:italk reject-with icmp-port-unreachable ACCEPT tcp -- 192.168.10.0/24 anywhere tcp dpt:ssh REJECT tcp -- anywhere anywhere tcp dpt:ssh reject-with icmp-port-unreachable â€¦â€¦â€¦â€¦â€¦â€¦çœç•¥éƒ¨åˆ†è¾“å‡ºä¿¡æ¯â€¦â€¦â€¦â€¦â€¦â€¦ 9ï¼å‘INPUTè§„åˆ™é“¾ä¸­æ·»åŠ æ‹’ç»æ‰€æœ‰ä¸»æœºè®¿é—®æœ¬æœº1000ï½1024ç«¯å£çš„ç­–ç•¥è§„åˆ™ã€‚\nå‰é¢åœ¨æ·»åŠ é˜²ç«å¢™ç­–ç•¥æ—¶ï¼Œä½¿ç”¨çš„æ˜¯-Iå‚æ•°ï¼Œå®ƒé»˜è®¤ä¼šæŠŠè§„åˆ™æ·»åŠ åˆ°æœ€ä¸Šé¢çš„ä½ç½®ï¼Œå› æ­¤ä¼˜å…ˆçº§æ˜¯æœ€é«˜çš„ã€‚å¦‚æœå·¥ä½œä¸­éœ€è¦æ·»åŠ ä¸€æ¡æœ€åâ€œå…œåº•â€çš„è§„åˆ™ï¼Œé‚£å°±ç”¨-Aå‚æ•°å§ã€‚è¿™ä¸¤ä¸ªå‚æ•°çš„æ•ˆæœå·®åˆ«è¿˜æ˜¯å¾ˆå¤§çš„ï¼š\n[root@linuxprobe ~]# iptables -A INPUT -p tcp --dport 1000:1024 -j REJECT [root@linuxprobe ~]# iptables -A INPUT -p udp --dport 1000:1024 -j REJECT [root@linuxprobe ~]# iptables -L Chain INPUT (policy ACCEPT) target prot opt source destination REJECT tcp -- 192.168.10.5 anywhere tcp dpt:http reject-with icmp-port-unreachable REJECT udp -- anywhere anywhere udp dpt:italk reject-with icmp-port-unreachable REJECT tcp -- anywhere anywhere tcp dpt:italk reject-with icmp-port-unreachable ACCEPT tcp -- 192.168.10.0/24 anywhere tcp dpt:ssh REJECT tcp -- anywhere anywhere tcp dpt:ssh reject-with icmp-port-unreachable REJECT tcp -- anywhere anywhere tcp dpts:cadlock2:1024 reject-with icmp-port-unreachable REJECT udp -- anywhere anywhere udp dpts:cadlock2:1024 reject-with icmp-port-unreachable â€¦â€¦â€¦â€¦â€¦â€¦çœç•¥éƒ¨åˆ†è¾“å‡ºä¿¡æ¯â€¦â€¦â€¦â€¦â€¦â€¦ æœ‰å…³iptableså‘½ä»¤çš„çŸ¥è¯†è®²è§£åˆ°æ­¤å°±ç»“æŸäº†ï¼Œå¤§å®¶æ˜¯ä¸æ˜¯æ„çŠ¹æœªå°½ï¼Ÿè€ƒè™‘åˆ°Linuxé˜²ç«å¢™çš„å‘å±•è¶‹åŠ¿ï¼Œå¤§å®¶åªè¦èƒ½æŠŠä¸Šé¢çš„å®ä¾‹å¸æ”¶æ¶ˆåŒ–ï¼Œå°±å¯ä»¥å®Œå…¨æå®šæ—¥å¸¸çš„iptablesé…ç½®å·¥ä½œäº†ã€‚ä½†æ˜¯è¯·ç‰¹åˆ«æ³¨æ„ï¼Œä½¿ç”¨iptableså‘½ä»¤é…ç½®çš„é˜²ç«å¢™è§„åˆ™é»˜è®¤ä¼šåœ¨ç³»ç»Ÿä¸‹ä¸€æ¬¡é‡å¯æ—¶å¤±æ•ˆï¼Œå¦‚æœæƒ³è®©é…ç½®çš„é˜²ç«å¢™ç­–ç•¥æ°¸ä¹…ç”Ÿæ•ˆï¼Œè¿˜è¦æ‰§è¡Œä¿å­˜å‘½ä»¤ï¼š\n[root@linuxprobe ~]# iptables-save  # Generated by xtables-save v1.8.2 on Wed Jan 20 16:56:27 2021 â€¦â€¦â€¦â€¦â€¦â€¦çœç•¥éƒ¨åˆ†è¾“å‡ºä¿¡æ¯â€¦â€¦â€¦â€¦â€¦â€¦ å¯¹äº†ï¼Œå¦‚æœå…¬å¸æœåŠ¡å™¨æ˜¯5/6/7ç‰ˆæœ¬çš„è¯ï¼Œå¯¹åº”çš„ä¿å­˜å‘½ä»¤åº”è¯¥æ˜¯ï¼š\n[root@linuxprobe ~]# service iptables save iptables: Saving firewall rules to /etc/sysconfig/iptables: [ OK ] åŸºæœ¬æ¦‚å¿µ iptables æ˜¯ä¸€ä¸ªé…ç½® Linux å†…æ ¸ é˜²ç«å¢™ çš„å‘½ä»¤è¡Œå·¥å…·ï¼Œæ˜¯ Netfilter é¡¹ç›®çš„ä¸€éƒ¨åˆ†ã€‚æœ¯è¯­ iptables ä¹Ÿç»å¸¸ä»£æŒ‡è¯¥å†…æ ¸çº§é˜²ç«å¢™ã€‚iptables å¯ä»¥ç›´æ¥é…ç½®ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è®¸å¤š æ§åˆ¶å° å’Œ å›¾å½¢åŒ– å‰ç«¯é…ç½®ã€‚iptables ç”¨äº ipv4ï¼Œip6tables ç”¨äº IPv6ã€‚iptableså’Œip6tables æ‹¥æœ‰ç›¸åŒçš„è¯­æ³•ï¼Œä½†æ˜¯æœ‰äº›ç‰¹åˆ«çš„é€‰é¡¹ï¼Œå¯¹ IPv4 å’Œ IPv6 æœ‰äº›ä¸åŒçš„ã€‚\niptables å¯ä»¥æ£€æµ‹ã€ä¿®æ”¹ã€è½¬å‘ã€é‡å®šå‘å’Œä¸¢å¼ƒ IPv4 æ•°æ®åŒ…ã€‚è¿‡æ»¤ IPv4 æ•°æ®åŒ…çš„ä»£ç å·²ç»å†…ç½®äºå†…æ ¸ä¸­ï¼Œå¹¶ä¸”æŒ‰ç…§ä¸åŒçš„ç›®çš„è¢«ç»„ç»‡æˆ è¡¨ çš„é›†åˆã€‚è¡¨ ç”±ä¸€ç»„é¢„å…ˆå®šä¹‰çš„ é“¾ ç»„æˆï¼Œé“¾ åŒ…å«éå†é¡ºåºè§„åˆ™ã€‚æ¯ä¸€æ¡è§„åˆ™åŒ…å«ä¸€ä¸ªè°“è¯çš„æ½œåœ¨åŒ¹é…å’Œç›¸åº”çš„åŠ¨ä½œï¼ˆç§°ä¸º ç›®æ ‡ï¼‰ï¼Œå¦‚æœè°“è¯ä¸ºçœŸï¼Œè¯¥åŠ¨ä½œä¼šè¢«æ‰§è¡Œã€‚ä¹Ÿå°±æ˜¯è¯´æ¡ä»¶åŒ¹é…ã€‚iptables æ˜¯ç”¨æˆ·å·¥å…·ï¼Œå…è®¸ç”¨æˆ·ä½¿ç”¨ é“¾ å’Œ è§„åˆ™ã€‚å¾ˆå¤šæ–°æ‰‹é¢å¯¹å¤æ‚çš„ linux IP è·¯ç”±æ—¶æ€»æ˜¯æ„Ÿåˆ°æ°”é¦ï¼Œä½†æ˜¯ï¼Œå®é™…ä¸Šæœ€å¸¸ç”¨çš„ä¸€äº›åº”ç”¨æ¡ˆä¾‹ï¼ˆNAT æˆ–è€…åŸºæœ¬çš„ç½‘ç»œé˜²ç«å¢™ï¼‰å¹¶ä¸æ˜¯å¾ˆå¤æ‚ã€‚\nç†è§£ iptables å¦‚ä½•å·¥ä½œçš„å…³é”®æ˜¯ä¸Šé¢è¿™å¼ å›¾ã€‚å›¾ä¸­åœ¨ä¸Šé¢çš„å°å†™å­—æ¯ä»£è¡¨ è¡¨ï¼Œåœ¨ä¸‹é¢çš„å¤§å†™å­—æ¯ä»£è¡¨ é“¾ã€‚ä»ä»»ä½•ç½‘ç»œç«¯å£ è¿›æ¥çš„æ¯ä¸€ä¸ª IP æ•°æ®åŒ…éƒ½è¦ä»ä¸Šåˆ°ä¸‹çš„ç©¿è¿‡è¿™å¼ å›¾ã€‚ä¸€ç§å¸¸è§çš„é”™è¯¯è®¤çŸ¥æ˜¯è®¤ä¸º iptables å¯¹ä»å†…éƒ¨ç«¯å£è¿›å…¥çš„æ•°æ®åŒ…å’Œä»é¢å‘äº’è”ç½‘ç«¯å£è¿›å…¥çš„æ•°æ®åŒ…é‡‡å–ä¸åŒçš„å¤„ç†æ–¹å¼ï¼Œç›¸åï¼Œiptabales å¯¹ä»ä»»ä½•ç«¯å£è¿›å…¥çš„æ•°æ®åŒ…éƒ½ä¼šé‡‡å–ç›¸åŒçš„å¤„ç†æ–¹å¼ã€‚å¯ä»¥å®šä¹‰è§„åˆ™ä½¿ iptables é‡‡å–ä¸åŒçš„æ–¹å¼å¯¹å¾…ä»ä¸åŒç«¯å£è¿›å…¥çš„æ•°æ®åŒ…ã€‚å½“ç„¶ä¸€äº›æ•°æ®åŒ…æ˜¯ç”¨äºæœ¬åœ°è¿›ç¨‹çš„ï¼Œå› æ­¤åœ¨å›¾ä¸­è¡¨ç°ä¸ºä»é¡¶ç«¯è¿›å…¥ï¼Œåˆ° \u0026lt;Local Process\u0026gt; åœæ­¢ï¼Œè€Œå¦ä¸€äº›æ•°æ®åŒ…æ˜¯ç”±æœ¬åœ°è¿›ç¨‹ç”Ÿæˆçš„ï¼Œå› æ­¤åœ¨å›¾ä¸­è¡¨ç°ä¸ºä» \u0026lt;Local Process\u0026gt; å‘å‡ºï¼Œä¸€ç›´å‘ä¸‹ç©¿è¿‡è¯¥æµç¨‹å›¾ã€‚ä¸€ä»½å…³äºè¯¥æµç¨‹å›¾å¦‚ä½•å·¥ä½œçš„è¯¦ç»†è§£é‡Šè¯·å‚è€ƒè¿™é‡Œã€‚\nåœ¨å¤§å¤šæ•°ä½¿ç”¨æƒ…å†µä¸‹éƒ½ä¸ä¼šç”¨åˆ° rawï¼Œmangle å’Œ security è¡¨ã€‚\nè¡¨(Tables) ptables åŒ…å« 5 å¼ è¡¨ï¼ˆtablesï¼‰:\n raw ç”¨äºé…ç½®æ•°æ®åŒ…ï¼Œraw ä¸­çš„æ•°æ®åŒ…ä¸ä¼šè¢«ç³»ç»Ÿè·Ÿè¸ªã€‚ filter æ˜¯ç”¨äºå­˜æ”¾æ‰€æœ‰ä¸é˜²ç«å¢™ç›¸å…³æ“ä½œçš„é»˜è®¤è¡¨ã€‚ nat ç”¨äº ç½‘ç»œåœ°å€è½¬æ¢ï¼ˆä¾‹å¦‚ï¼šç«¯å£è½¬å‘ï¼‰ã€‚ mangle ç”¨äºå¯¹ç‰¹å®šæ•°æ®åŒ…çš„ä¿®æ”¹ï¼ˆå‚è€ƒ æŸåæ•°æ®åŒ…ï¼‰ã€‚ security ç”¨äº å¼ºåˆ¶è®¿é—®æ§åˆ¶ ç½‘ç»œè§„åˆ™ï¼ˆä¾‹å¦‚ï¼š SELinux \u0026ndash; è¯¦ç»†ä¿¡æ¯å‚è€ƒ è¯¥æ–‡ç« ï¼‰ã€‚  å¤§éƒ¨åˆ†æƒ…å†µä»…éœ€è¦ä½¿ç”¨ filter å’Œ natã€‚å…¶ä»–è¡¨ç”¨äºæ›´å¤æ‚çš„æƒ…å†µâ€”â€”åŒ…æ‹¬å¤šè·¯ç”±å’Œè·¯ç”±åˆ¤å®šâ€”â€”å·²ç»è¶…å‡ºäº†æœ¬æ–‡ä»‹ç»çš„èŒƒå›´ã€‚\né“¾(Chains) è¡¨ç”±é“¾ç»„æˆï¼Œé“¾æ˜¯ä¸€äº›æŒ‰é¡ºåºæ’åˆ—çš„è§„åˆ™çš„åˆ—è¡¨ã€‚é»˜è®¤çš„ filter è¡¨åŒ…å« INPUTï¼Œ OUTPUT å’Œ FORWARD 3æ¡å†…å»ºçš„é“¾ï¼Œè¿™3æ¡é“¾ä½œç”¨äºæ•°æ®åŒ…è¿‡æ»¤è¿‡ç¨‹ä¸­çš„ä¸åŒæ—¶é—´ç‚¹ï¼Œå¦‚è¯¥ä¸Šé¢æµç¨‹å›¾æ‰€ç¤ºã€‚nat è¡¨åŒ…å«PREROUTINGï¼Œ POSTROUTING å’Œ OUTPUT é“¾ã€‚\nä½¿ç”¨ iptables(8) æŸ¥çœ‹å…¶ä»–è¡¨ä¸­å†…å»ºé“¾çš„æè¿°ã€‚\né»˜è®¤æƒ…å†µä¸‹ï¼Œä»»ä½•é“¾ä¸­éƒ½æ²¡æœ‰è§„åˆ™ã€‚å¯ä»¥å‘é“¾ä¸­æ·»åŠ è‡ªå·±æƒ³ç”¨çš„è§„åˆ™ã€‚é“¾çš„é»˜è®¤è§„åˆ™é€šå¸¸è®¾ç½®ä¸º ACCEPTï¼Œå¦‚æœæƒ³ç¡®ä¿ä»»ä½•åŒ…éƒ½ä¸èƒ½é€šè¿‡è§„åˆ™é›†ï¼Œé‚£ä¹ˆå¯ä»¥é‡ç½®ä¸º DROPã€‚é»˜è®¤çš„è§„åˆ™æ€»æ˜¯åœ¨ä¸€æ¡é“¾çš„æœ€åç”Ÿæ•ˆï¼Œæ‰€ä»¥åœ¨é»˜è®¤è§„åˆ™ç”Ÿæ•ˆå‰æ•°æ®åŒ…éœ€è¦é€šè¿‡æ‰€æœ‰å­˜åœ¨çš„è§„åˆ™ã€‚\nç”¨æˆ·å¯ä»¥åŠ å…¥è‡ªå·±å®šä¹‰çš„é“¾ï¼Œä»è€Œä½¿è§„åˆ™é›†æ›´æœ‰æ•ˆå¹¶ä¸”æ˜“äºä¿®æ”¹ã€‚å¦‚ä½•ä½¿ç”¨è‡ªå®šä¹‰é“¾è¯·å‚è€ƒ Simple stateful firewallã€‚\nè§„åˆ™ (Rules) æ•°æ®åŒ…çš„è¿‡æ»¤åŸºäº è§„åˆ™ã€‚è§„åˆ™ç”±ä¸€ä¸ªç›®æ ‡ï¼ˆæ•°æ®åŒ…åŒ…åŒ¹é…æ‰€æœ‰æ¡ä»¶åçš„åŠ¨ä½œï¼‰å’Œå¾ˆå¤šåŒ¹é…ï¼ˆå¯¼è‡´è¯¥è§„åˆ™å¯ä»¥åº”ç”¨çš„æ•°æ®åŒ…æ‰€æ»¡è¶³çš„æ¡ä»¶ï¼‰æŒ‡å®šã€‚ä¸€ä¸ªè§„åˆ™çš„å…¸å‹åŒ¹é…äº‹é¡¹æ˜¯æ•°æ®åŒ…è¿›å…¥çš„ç«¯å£ï¼ˆä¾‹å¦‚ï¼šeth0 æˆ–è€… eth1ï¼‰ã€æ•°æ®åŒ…çš„ç±»å‹ï¼ˆICMP, TCP, æˆ–è€… UDPï¼‰å’Œæ•°æ®åŒ…çš„ç›®çš„ç«¯å£ã€‚\nç›®æ ‡ä½¿ç”¨ -j æˆ–è€… --jump é€‰é¡¹æŒ‡å®šã€‚ç›®æ ‡å¯ä»¥æ˜¯ç”¨æˆ·å®šä¹‰çš„é“¾ï¼ˆä¾‹å¦‚ï¼Œå¦‚æœæ¡ä»¶åŒ¹é…ï¼Œè·³è½¬åˆ°ä¹‹åçš„ç”¨æˆ·å®šä¹‰çš„é“¾ï¼Œç»§ç»­å¤„ç†ï¼‰ã€ä¸€ä¸ªå†…ç½®çš„ç‰¹å®šç›®æ ‡æˆ–è€…æ˜¯ä¸€ä¸ªç›®æ ‡æ‰©å±•ã€‚å†…ç½®ç›®æ ‡æ˜¯ ACCEPTï¼Œ DROPï¼Œ QUEUE å’Œ RETURNï¼Œç›®æ ‡æ‰©å±•æ˜¯ REJECT å’Œ LOGã€‚å¦‚æœç›®æ ‡æ˜¯å†…ç½®ç›®æ ‡ï¼Œæ•°æ®åŒ…çš„å‘½è¿ä¼šç«‹åˆ»è¢«å†³å®šå¹¶ä¸”åœ¨å½“å‰è¡¨çš„æ•°æ®åŒ…çš„å¤„ç†è¿‡ç¨‹ä¼šåœæ­¢ã€‚å¦‚æœç›®æ ‡æ˜¯ç”¨æˆ·å®šä¹‰çš„é“¾ï¼Œå¹¶ä¸”æ•°æ®åŒ…æˆåŠŸç©¿è¿‡ç¬¬äºŒæ¡é“¾ï¼Œç›®æ ‡å°†ç§»åŠ¨åˆ°åŸå§‹é“¾ä¸­çš„ä¸‹ä¸€ä¸ªè§„åˆ™ã€‚ç›®æ ‡æ‰©å±•å¯ä»¥è¢«ç»ˆæ­¢ï¼ˆåƒå†…ç½®ç›®æ ‡ä¸€æ ·ï¼‰æˆ–è€…ä¸ç»ˆæ­¢ï¼ˆåƒç”¨æˆ·å®šä¹‰é“¾ä¸€æ ·ï¼‰ã€‚è¯¦ç»†ä¿¡æ¯å‚é˜… iptables-extensions(8)ã€‚\néå†é“¾(Traversing Chains) è¯¥æµç¨‹å›¾æè¿°é“¾äº†åœ¨ä»»ä½•æ¥å£ä¸Šæ”¶åˆ°çš„ç½‘ç»œæ•°æ®åŒ…æ˜¯æŒ‰ç…§æ€æ ·çš„é¡ºåºç©¿è¿‡è¡¨çš„äº¤é€šç®¡åˆ¶é“¾ã€‚ç¬¬ä¸€ä¸ªè·¯ç”±ç­–ç•¥åŒ…æ‹¬å†³å®šæ•°æ®åŒ…çš„ç›®çš„åœ°æ˜¯æœ¬åœ°ä¸»æœºï¼ˆè¿™ç§æƒ…å†µä¸‹ï¼Œæ•°æ®åŒ…ç©¿è¿‡ INPUT é“¾ï¼‰ï¼Œè¿˜æ˜¯å…¶ä»–ä¸»æœºï¼ˆæ•°æ®åŒ…ç©¿è¿‡ FORWARD é“¾ï¼‰ï¼›ä¸­é—´çš„è·¯ç”±ç­–ç•¥åŒ…æ‹¬å†³å®šç»™ä¼ å‡ºçš„æ•°æ®åŒ…ä½¿ç”¨é‚£ä¸ªæºåœ°å€ã€åˆ†é…å“ªä¸ªæ¥å£ï¼›æœ€åä¸€ä¸ªè·¯ç”±ç­–ç•¥å­˜åœ¨æ˜¯å› ä¸ºå…ˆå‰çš„ mangle ä¸ nat é“¾å¯èƒ½ä¼šæ”¹å˜æ•°æ®åŒ…çš„è·¯ç”±ä¿¡æ¯ã€‚æ•°æ®åŒ…é€šè¿‡è·¯å¾„ä¸Šçš„æ¯ä¸€æ¡é“¾æ—¶ï¼Œé“¾ä¸­çš„æ¯ä¸€æ¡è§„åˆ™æŒ‰é¡ºåºåŒ¹é…ï¼›æ— è®ºä½•æ—¶åŒ¹é…äº†ä¸€æ¡è§„åˆ™ï¼Œç›¸åº”çš„ target/jump åŠ¨ä½œå°†ä¼šæ‰§è¡Œã€‚æœ€å¸¸ç”¨çš„3ä¸ª target æ˜¯ ACCEPT, DROP ,æˆ–è€… jump åˆ°ç”¨æˆ·è‡ªå®šä¹‰çš„é“¾ã€‚å†…ç½®çš„é“¾æœ‰é»˜è®¤çš„ç­–ç•¥ï¼Œä½†æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„é“¾æ²¡æœ‰é»˜è®¤çš„ç­–ç•¥ã€‚åœ¨ jump åˆ°çš„é“¾ä¸­ï¼Œè‹¥æ¯ä¸€æ¡è§„åˆ™éƒ½ä¸èƒ½æä¾›å®Œå…¨åŒ¹é…ï¼Œé‚£ä¹ˆæ•°æ®åŒ…åƒä¸‹é¢è¿™å¼ å›¾ç‰‡æè¿°çš„ä¸€æ ·è¿”å›åˆ°è°ƒç”¨é“¾ã€‚åœ¨ä»»ä½•æ—¶å€™ï¼Œè‹¥ DROP target çš„è§„åˆ™å®ç°å®Œå…¨åŒ¹é…ï¼Œé‚£ä¹ˆè¢«åŒ¹é…çš„æ•°æ®åŒ…ä¼šè¢«ä¸¢å¼ƒï¼Œä¸ä¼šè¿›è¡Œè¿›ä¸€æ­¥å¤„ç†ã€‚å¦‚æœä¸€ä¸ªæ•°æ®åŒ…åœ¨é“¾ä¸­è¢« ACCEPTï¼Œé‚£ä¹ˆå®ƒä¹Ÿä¼šè¢«æ‰€æœ‰çš„çˆ¶é“¾ ACCEPTï¼Œå¹¶ä¸”ä¸å†éå†å…¶ä»–çˆ¶é“¾ã€‚ç„¶è€Œï¼Œè¦æ³¨æ„çš„æ˜¯ï¼Œæ•°æ®åŒ…è¿˜ä¼šä»¥æ­£å¸¸çš„æ–¹å¼ç»§ç»­éå†å…¶ä»–è¡¨ä¸­çš„å…¶ä»–é“¾ã€‚\næ¨¡å—(Modules) æœ‰è®¸å¤šæ¨¡å—å¯ä»¥ç”¨æ¥æ‰©å±• iptablesï¼Œä¾‹å¦‚ connlimit, conntrack, limit å’Œ recentã€‚è¿™äº›æ¨¡å—å¢æ·»äº†åŠŸèƒ½ï¼Œå¯ä»¥è¿›è¡Œæ›´å¤æ‚çš„è¿‡æ»¤ã€‚\nFirewalld RHEL 8ç³»ç»Ÿä¸­é›†æˆäº†å¤šæ¬¾é˜²ç«å¢™ç®¡ç†å·¥å…·ï¼Œå…¶ä¸­firewalldï¼ˆDynamic Firewall Manager of Linux systemsï¼ŒLinuxç³»ç»Ÿçš„åŠ¨æ€é˜²ç«å¢™ç®¡ç†å™¨ï¼‰æœåŠ¡æ˜¯é»˜è®¤çš„é˜²ç«å¢™é…ç½®ç®¡ç†å·¥å…·ï¼Œå®ƒæ‹¥æœ‰åŸºäºCLIï¼ˆå‘½ä»¤è¡Œç•Œé¢ï¼‰å’ŒåŸºäºGUIï¼ˆå›¾å½¢ç”¨æˆ·ç•Œé¢ï¼‰çš„ä¸¤ç§ç®¡ç†æ–¹å¼ã€‚\nRHEL 8ç³»ç»Ÿä¸­é›†æˆäº†å¤šæ¬¾é˜²ç«å¢™ç®¡ç†å·¥å…·ï¼Œå…¶ä¸­firewalldï¼ˆDynamic Firewall Manager of Linux systemsï¼ŒLinuxç³»ç»Ÿçš„åŠ¨æ€é˜²ç«å¢™ç®¡ç†å™¨ï¼‰æœåŠ¡æ˜¯é»˜è®¤çš„é˜²ç«å¢™é…ç½®ç®¡ç†å·¥å…·ï¼Œå®ƒæ‹¥æœ‰åŸºäºCLIï¼ˆå‘½ä»¤è¡Œç•Œé¢ï¼‰å’ŒåŸºäºGUIï¼ˆå›¾å½¢ç”¨æˆ·ç•Œé¢ï¼‰çš„ä¸¤ç§ç®¡ç†æ–¹å¼ã€‚\nç›¸è¾ƒäºä¼ ç»Ÿçš„é˜²ç«å¢™ç®¡ç†é…ç½®å·¥å…·ï¼Œfirewalldæ”¯æŒåŠ¨æ€æ›´æ–°æŠ€æœ¯å¹¶åŠ å…¥äº†åŒºåŸŸï¼ˆzoneï¼‰çš„æ¦‚å¿µã€‚ç®€å•æ¥è¯´ï¼ŒåŒºåŸŸå°±æ˜¯firewalldé¢„å…ˆå‡†å¤‡äº†å‡ å¥—é˜²ç«å¢™ç­–ç•¥é›†åˆï¼ˆç­–ç•¥æ¨¡æ¿ï¼‰ï¼Œç”¨æˆ·å¯ä»¥æ ¹æ®ç”Ÿäº§åœºæ™¯çš„ä¸åŒè€Œé€‰æ‹©åˆé€‚çš„ç­–ç•¥é›†åˆï¼Œä»è€Œå®ç°é˜²ç«å¢™ç­–ç•¥ä¹‹é—´çš„å¿«é€Ÿåˆ‡æ¢ã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬æœ‰ä¸€å°ç¬”è®°æœ¬ç”µè„‘ï¼Œæ¯å¤©éƒ½è¦åœ¨åŠå…¬å®¤ã€å’–å•¡å…å’Œå®¶é‡Œä½¿ç”¨ã€‚æŒ‰å¸¸ç†æ¥è®²ï¼Œè¿™ä¸‰è€…çš„å®‰å…¨æ€§æŒ‰ç…§ç”±é«˜åˆ°ä½çš„é¡ºåºæ¥æ’åˆ—ï¼Œåº”è¯¥æ˜¯å®¶åº­ã€å…¬å¸åŠå…¬å®¤ã€å’–å•¡å…ã€‚å½“å‰ï¼Œæˆ‘ä»¬å¸Œæœ›ä¸ºè¿™å°ç¬”è®°æœ¬ç”µè„‘åˆ¶å®šå¦‚ä¸‹é˜²ç«å¢™ç­–ç•¥è§„åˆ™ï¼šåœ¨å®¶ä¸­å…è®¸è®¿é—®æ‰€æœ‰æœåŠ¡ï¼›åœ¨åŠå…¬å®¤å†…ä»…å…è®¸è®¿é—®æ–‡ä»¶å…±äº«æœåŠ¡ï¼›åœ¨å’–å•¡å…ä»…å…è®¸ä¸Šç½‘æµè§ˆã€‚åœ¨ä»¥å¾€ï¼Œæˆ‘ä»¬éœ€è¦é¢‘ç¹åœ°æ‰‹åŠ¨è®¾ç½®é˜²ç«å¢™ç­–ç•¥è§„åˆ™ï¼Œè€Œç°åœ¨åªéœ€è¦é¢„è®¾å¥½åŒºåŸŸé›†åˆï¼Œç„¶åè½»ç‚¹é¼ æ ‡å°±å¯ä»¥è‡ªåŠ¨åˆ‡æ¢äº†ï¼Œä»è€Œæå¤§åœ°æå‡äº†é˜²ç«å¢™ç­–ç•¥çš„åº”ç”¨æ•ˆç‡ã€‚firewalldä¸­å¸¸è§çš„åŒºåŸŸåç§°ï¼ˆé»˜è®¤ä¸ºpublicï¼‰ä»¥åŠç›¸åº”çš„ç­–ç•¥è§„åˆ™å¦‚è¡¨æ‰€ç¤ºã€‚\n   åŒºåŸŸ é»˜è®¤è§„åˆ™ç­–ç•¥     trusted å…è®¸æ‰€æœ‰çš„æ•°æ®åŒ…   home æ‹’ç»æµå…¥çš„æµé‡ï¼Œé™¤éä¸æµå‡ºçš„æµé‡ç›¸å…³ï¼›è€Œå¦‚æœæµé‡ä¸sshã€mdnsã€ipp-clientã€amba-clientä¸dhcpv6-clientæœåŠ¡ç›¸å…³ï¼Œåˆ™å…è®¸æµé‡   internal ç­‰åŒäºhomeåŒºåŸŸ   work æ‹’ç»æµå…¥çš„æµé‡ï¼Œé™¤éä¸æµå‡ºçš„æµé‡ç›¸å…³ï¼›è€Œå¦‚æœæµé‡ä¸sshã€ipp-clientä¸dhcpv6-clientæœåŠ¡ç›¸å…³ï¼Œåˆ™å…è®¸æµé‡   public æ‹’ç»æµå…¥çš„æµé‡ï¼Œé™¤éä¸æµå‡ºçš„æµé‡ç›¸å…³ï¼›è€Œå¦‚æœæµé‡ä¸sshã€dhcpv6-clientæœåŠ¡ç›¸å…³ï¼Œåˆ™å…è®¸æµé‡   external æ‹’ç»æµå…¥çš„æµé‡ï¼Œé™¤éä¸æµå‡ºçš„æµé‡ç›¸å…³ï¼›è€Œå¦‚æœæµé‡ä¸sshæœåŠ¡ç›¸å…³ï¼Œåˆ™å…è®¸æµé‡   dmz æ‹’ç»æµå…¥çš„æµé‡ï¼Œé™¤éä¸æµå‡ºçš„æµé‡ç›¸å…³ï¼›è€Œå¦‚æœæµé‡ä¸sshæœåŠ¡ç›¸å…³ï¼Œåˆ™å…è®¸æµé‡   block æ‹’ç»æµå…¥çš„æµé‡ï¼Œé™¤éä¸æµå‡ºçš„æµé‡ç›¸å…³   drop æ‹’ç»æµå…¥çš„æµé‡ï¼Œé™¤éä¸æµå‡ºçš„æµé‡ç›¸å…³    ç»ˆç«¯ç®¡ç†å·¥å…· å‘½ä»¤è¡Œç»ˆç«¯æ˜¯ä¸€ç§æå¯Œæ•ˆç‡çš„å·¥ä½œæ–¹å¼ï¼Œfirewall-cmdæ˜¯firewalldé˜²ç«å¢™é…ç½®ç®¡ç†å·¥å…·çš„CLIï¼ˆå‘½ä»¤è¡Œç•Œé¢ï¼‰ç‰ˆæœ¬ã€‚å®ƒçš„å‚æ•°ä¸€èˆ¬éƒ½æ˜¯ä»¥â€œé•¿æ ¼å¼â€æ¥æä¾›çš„ã€‚å¤§å®¶ä¸è¦ä¸€å¬åˆ°é•¿æ ¼å¼å°±å¤´å¤§ï¼Œå› ä¸ºRHEL 8ç³»ç»Ÿæ”¯æŒéƒ¨åˆ†å‘½ä»¤çš„å‚æ•°è¡¥é½ï¼Œå…¶ä¸­å°±åŒ…å«è¿™æ¡å‘½ä»¤ï¼ˆå¾ˆé…·å§ï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç°åœ¨é™¤äº†èƒ½ç”¨Tabé”®è‡ªåŠ¨è¡¥é½å‘½ä»¤æˆ–æ–‡ä»¶åç­‰å†…å®¹ä¹‹å¤–ï¼Œè¿˜å¯ä»¥ç”¨Tabé”®æ¥è¡¥é½è¡¨æ‰€ç¤ºçš„é•¿æ ¼å¼å‚æ•°ã€‚è¿™å¤ªæ£’äº†ï¼\n   å‚æ•° ä½œç”¨     \u0026ndash;get-default-zone æŸ¥è¯¢é»˜è®¤çš„åŒºåŸŸåç§°   \u0026ndash;set-default-zone=\u0026lt;åŒºåŸŸåç§°\u0026gt; è®¾ç½®é»˜è®¤çš„åŒºåŸŸï¼Œä½¿å…¶æ°¸ä¹…ç”Ÿæ•ˆ   \u0026ndash;get-zones æ˜¾ç¤ºå¯ç”¨çš„åŒºåŸŸ   \u0026ndash;get-services æ˜¾ç¤ºé¢„å…ˆå®šä¹‰çš„æœåŠ¡   \u0026ndash;get-active-zones æ˜¾ç¤ºå½“å‰æ­£åœ¨ä½¿ç”¨çš„åŒºåŸŸä¸ç½‘å¡åç§°   \u0026ndash;add-source= å°†æºè‡ªæ­¤IPæˆ–å­ç½‘çš„æµé‡å¯¼å‘æŒ‡å®šçš„åŒºåŸŸ   \u0026ndash;remove-source= ä¸å†å°†æºè‡ªæ­¤IPæˆ–å­ç½‘çš„æµé‡å¯¼å‘æŸä¸ªæŒ‡å®šåŒºåŸŸ   \u0026ndash;add-interface=\u0026lt;ç½‘å¡åç§°\u0026gt; å°†æºè‡ªè¯¥ç½‘å¡çš„æ‰€æœ‰æµé‡éƒ½å¯¼å‘æŸä¸ªæŒ‡å®šåŒºåŸŸ   \u0026ndash;change-interface=\u0026lt;ç½‘å¡åç§°\u0026gt; å°†æŸä¸ªç½‘å¡ä¸åŒºåŸŸè¿›è¡Œå…³è”   \u0026ndash;list-all æ˜¾ç¤ºå½“å‰åŒºåŸŸçš„ç½‘å¡é…ç½®å‚æ•°ã€èµ„æºã€ç«¯å£ä»¥åŠæœåŠ¡ç­‰ä¿¡æ¯   \u0026ndash;list-all-zones æ˜¾ç¤ºæ‰€æœ‰åŒºåŸŸçš„ç½‘å¡é…ç½®å‚æ•°ã€èµ„æºã€ç«¯å£ä»¥åŠæœåŠ¡ç­‰ä¿¡æ¯   \u0026ndash;add-service=\u0026lt;æœåŠ¡å\u0026gt; è®¾ç½®é»˜è®¤åŒºåŸŸå…è®¸è¯¥æœåŠ¡çš„æµé‡   \u0026ndash;add-port=\u0026lt;ç«¯å£å·/åè®®\u0026gt; è®¾ç½®é»˜è®¤åŒºåŸŸå…è®¸è¯¥ç«¯å£çš„æµé‡   \u0026ndash;remove-service=\u0026lt;æœåŠ¡å\u0026gt; è®¾ç½®é»˜è®¤åŒºåŸŸä¸å†å…è®¸è¯¥æœåŠ¡çš„æµé‡   \u0026ndash;remove-port=\u0026lt;ç«¯å£å·/åè®®\u0026gt; è®¾ç½®é»˜è®¤åŒºåŸŸä¸å†å…è®¸è¯¥ç«¯å£çš„æµé‡   \u0026ndash;reload è®©â€œæ°¸ä¹…ç”Ÿæ•ˆâ€çš„é…ç½®è§„åˆ™ç«‹å³ç”Ÿæ•ˆï¼Œå¹¶è¦†ç›–å½“å‰çš„é…ç½®è§„åˆ™   \u0026ndash;panic-on å¼€å¯åº”æ€¥çŠ¶å†µæ¨¡å¼   \u0026ndash;panic-off å…³é—­åº”æ€¥çŠ¶å†µæ¨¡å¼    ä¸Linuxç³»ç»Ÿä¸­å…¶ä»–çš„é˜²ç«å¢™ç­–ç•¥é…ç½®å·¥å…·ä¸€æ ·ï¼Œä½¿ç”¨firewalldé…ç½®çš„é˜²ç«å¢™ç­–ç•¥é»˜è®¤ä¸ºè¿è¡Œæ—¶ï¼ˆRuntimeï¼‰æ¨¡å¼ï¼Œåˆç§°ä¸ºå½“å‰ç”Ÿæ•ˆæ¨¡å¼ï¼Œè€Œä¸”ä¼šéšç€ç³»ç»Ÿçš„é‡å¯è€Œå¤±æ•ˆã€‚å¦‚æœæƒ³è®©é…ç½®ç­–ç•¥ä¸€ç›´å­˜åœ¨ï¼Œå°±éœ€è¦ä½¿ç”¨æ°¸ä¹…ï¼ˆPermanentï¼‰æ¨¡å¼äº†ï¼Œæ–¹æ³•å°±æ˜¯åœ¨ç”¨firewall-cmdå‘½ä»¤æ­£å¸¸è®¾ç½®é˜²ç«å¢™ç­–ç•¥æ—¶æ·»åŠ \u0026ndash;permanentå‚æ•°ï¼Œè¿™æ ·é…ç½®çš„é˜²ç«å¢™ç­–ç•¥å°±å¯ä»¥æ°¸ä¹…ç”Ÿæ•ˆäº†ã€‚ä½†æ˜¯ï¼Œæ°¸ä¹…ç”Ÿæ•ˆæ¨¡å¼æœ‰ä¸€ä¸ªâ€œä¸è¿‘äººæƒ…â€çš„ç‰¹ç‚¹ï¼Œå°±æ˜¯ä½¿ç”¨å®ƒè®¾ç½®çš„ç­–ç•¥åªæœ‰åœ¨ç³»ç»Ÿé‡å¯ä¹‹åæ‰èƒ½è‡ªåŠ¨ç”Ÿæ•ˆã€‚å¦‚æœæƒ³è®©é…ç½®çš„ç­–ç•¥ç«‹å³ç”Ÿæ•ˆï¼Œéœ€è¦æ‰‹åŠ¨æ‰§è¡Œfirewall-cmd \u0026ndash;reloadå‘½ä»¤ã€‚\næ¥ä¸‹æ¥çš„å®éªŒéƒ½å¾ˆç®€å•ï¼Œä½†æ˜¯æé†’å¤§å®¶ä¸€å®šè¦ä»”ç»†æŸ¥çœ‹ä½¿ç”¨çš„æ˜¯Runtimeæ¨¡å¼è¿˜æ˜¯Permanentæ¨¡å¼ã€‚å¦‚æœä¸å…³æ³¨è¿™ä¸ªç»†èŠ‚ï¼Œå°±ç®—æ­£ç¡®é…ç½®äº†é˜²ç«å¢™ç­–ç•¥ï¼Œä¹Ÿå¯èƒ½æ— æ³•è¾¾åˆ°é¢„æœŸçš„æ•ˆæœã€‚\n1ï¼æŸ¥çœ‹firewalldæœåŠ¡å½“å‰æ‰€ä½¿ç”¨çš„åŒºåŸŸã€‚\nè¿™æ˜¯ä¸€æ­¥éå¸¸é‡è¦çš„æ“ä½œã€‚åœ¨é…ç½®é˜²ç«å¢™ç­–ç•¥å‰ï¼Œå¿…é¡»æŸ¥çœ‹å½“å‰ç”Ÿæ•ˆçš„æ˜¯å“ªä¸ªåŒºåŸŸï¼Œå¦åˆ™é…ç½®çš„é˜²ç«å¢™ç­–ç•¥å°†ä¸ä¼šç«‹å³ç”Ÿæ•ˆã€‚\n[root@linuxprobe ~]# firewall-cmd --get-default-zone public 2ï¼æŸ¥è¯¢æŒ‡å®šç½‘å¡åœ¨firewalldæœåŠ¡ä¸­ç»‘å®šçš„åŒºåŸŸã€‚\nåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ï¼ŒæœåŠ¡å™¨å¤§å¤šä¸æ­¢æœ‰ä¸€å—ç½‘å¡ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œå……å½“ç½‘å…³çš„æœåŠ¡å™¨æœ‰ä¸¤å—ç½‘å¡ï¼Œä¸€å—å¯¹å…¬ç½‘ï¼Œå¦å¤–ä¸€å—å¯¹å†…ç½‘ï¼Œé‚£ä¹ˆè¿™ä¸¤å—ç½‘å¡åœ¨å®¡æŸ¥æµé‡æ—¶æ‰€ç”¨çš„ç­–ç•¥è‚¯å®šä¹Ÿæ˜¯ä¸ä¸€è‡´çš„ã€‚å› æ­¤ï¼Œå¯ä»¥æ ¹æ®ç½‘å¡é’ˆå¯¹çš„æµé‡æ¥æºï¼Œä¸ºç½‘å¡ç»‘å®šä¸åŒçš„åŒºåŸŸï¼Œå®ç°å¯¹é˜²ç«å¢™ç­–ç•¥çš„çµæ´»ç®¡æ§ã€‚\n[root@linuxprobe ~]# firewall-cmd --get-zone-of-interface=ens160 public 3ï¼æŠŠç½‘å¡é»˜è®¤åŒºåŸŸä¿®æ”¹ä¸ºexternalï¼Œå¹¶åœ¨ç³»ç»Ÿé‡å¯åç”Ÿæ•ˆã€‚\n[root@linuxprobe ~]# firewall-cmd --permanent --zone=external --change-interface=ens160 The interface is under control of NetworkManager, setting zone to \u0026#39;external\u0026#39;. success [root@linuxprobe ~]# firewall-cmd --permanent --get-zone-of-interface=ens160 external 4ï¼æŠŠfirewalldæœåŠ¡çš„é»˜è®¤åŒºåŸŸè®¾ç½®ä¸ºpublicã€‚\né»˜è®¤åŒºåŸŸä¹Ÿå«å…¨å±€é…ç½®ï¼ŒæŒ‡çš„æ˜¯å¯¹æ‰€æœ‰ç½‘å¡éƒ½ç”Ÿæ•ˆçš„é…ç½®ï¼Œä¼˜å…ˆçº§è¾ƒä½ã€‚åœ¨ä¸‹é¢çš„ä»£ç ä¸­å¯ä»¥çœ‹åˆ°ï¼Œå½“å‰é»˜è®¤åŒºåŸŸä¸ºpublicï¼Œè€Œens160ç½‘å¡çš„åŒºåŸŸä¸ºexternalã€‚æ­¤æ—¶ä¾¿æ˜¯ä»¥ç½‘å¡çš„åŒºåŸŸåç§°ä¸ºå‡†ã€‚\né€šä¿—æ¥è¯´ï¼Œé»˜è®¤åŒºåŸŸå°±æ˜¯ä¸€ç§é€šç”¨çš„æ”¿ç­–ã€‚ä¾‹å¦‚ï¼Œé£Ÿå ‚ä¸ºæ‰€æœ‰äººå‡†å¤‡äº†ä¸€æ¬¡æ€§é¤å…·ï¼Œè€Œç¯ä¿ä¸»ä¹‰è€…åˆ™ä¼šè‡ªå·±æºå¸¦ç¢—ç­·ã€‚å¦‚æœæ‚¨è‡ªå¸¦äº†ç¢—ç­·ï¼Œå°±å¯ä»¥ç”¨è‡ªå·±çš„ï¼›åä¹‹å°±ç”¨é£Ÿå ‚ç»Ÿä¸€æä¾›çš„ã€‚\n[root@linuxprobe ~]# firewall-cmd --set-default-zone=public Warning: ZONE_ALREADY_SET: public success [root@linuxprobe ~]# firewall-cmd --get-default-zone  public [root@linuxprobe ~]# firewall-cmd --get-zone-of-interface=ens160 external 5ï¼å¯åŠ¨å’Œå…³é—­firewalldé˜²ç«å¢™æœåŠ¡çš„åº”æ€¥çŠ¶å†µæ¨¡å¼ã€‚\nå¦‚æœæƒ³åœ¨1sçš„æ—¶é—´å†…é˜»æ–­ä¸€åˆ‡ç½‘ç»œè¿æ¥ï¼Œæœ‰ä»€ä¹ˆå¥½åŠæ³•å‘¢ï¼Ÿå¤§å®¶ä¸‹æ„è¯†åœ°ä¼šè¯´ï¼šâ€œæ‹”æ‰ç½‘çº¿ï¼â€è¿™æ˜¯ä¸€ä¸ªç‰©ç†çº§åˆ«çš„é«˜æ‹›ã€‚ä½†æ˜¯ï¼Œå¦‚æœäººåœ¨åŒ—äº¬ï¼ŒæœåŠ¡å™¨åœ¨å¼‚åœ°å‘¢ï¼Ÿpanicç´§æ€¥æ¨¡å¼åœ¨è¿™ä¸ªæ—¶å€™å°±æ´¾ä¸Šç”¨åœºäº†ã€‚ä½¿ç”¨\u0026ndash;panic-onå‚æ•°ä¼šç«‹å³åˆ‡æ–­ä¸€åˆ‡ç½‘ç»œè¿æ¥ï¼Œè€Œä½¿ç”¨\u0026ndash;panic-offåˆ™ä¼šæ¢å¤ç½‘ç»œè¿æ¥ã€‚åˆ‡è®°ï¼Œç´§æ€¥æ¨¡å¼ä¼šåˆ‡æ–­ä¸€åˆ‡ç½‘ç»œè¿æ¥ï¼Œå› æ­¤åœ¨è¿œç¨‹ç®¡ç†æœåŠ¡å™¨æ—¶ï¼Œåœ¨æŒ‰ä¸‹å›è½¦é”®å‰ä¸€å®šè¦ä¸‰æ€ã€‚\n[root@linuxprobe ~]# firewall-cmd --panic-on success [root@linuxprobe ~]# firewall-cmd --panic-off success 6ï¼æŸ¥è¯¢SSHå’ŒHTTPSåè®®çš„æµé‡æ˜¯å¦å…è®¸æ”¾è¡Œã€‚\nåœ¨å·¥ä½œä¸­å¯ä»¥ä¸ä½¿ç”¨\u0026ndash;zoneå‚æ•°æŒ‡å®šåŒºåŸŸåç§°ï¼Œfirewall-cmdå‘½ä»¤ä¼šè‡ªåŠ¨ä¾æ®é»˜è®¤åŒºåŸŸè¿›è¡ŒæŸ¥è¯¢ï¼Œä»è€Œå‡å°‘ç”¨æˆ·è¾“å…¥é‡ã€‚ä½†æ˜¯ï¼Œå¦‚æœé»˜è®¤åŒºåŸŸä¸ç½‘å¡æ‰€ç»‘å®šçš„ä¸ä¸€è‡´æ—¶ï¼Œå°±ä¼šå‘ç”Ÿå†²çªï¼Œå› æ­¤è§„èŒƒå†™æ³•çš„zoneå‚æ•°æ˜¯ä¸€å®šè¦åŠ çš„ã€‚\n[root@linuxprobe ~]# firewall-cmd --zone=public --query-service=ssh yes [root@linuxprobe ~]# firewall-cmd --zone=public --query-service=https no 7ï¼æŠŠHTTPSåè®®çš„æµé‡è®¾ç½®ä¸ºæ°¸ä¹…å…è®¸æ”¾è¡Œï¼Œå¹¶ç«‹å³ç”Ÿæ•ˆã€‚\né»˜è®¤æƒ…å†µä¸‹è¿›è¡Œçš„ä¿®æ”¹éƒ½å±äºRuntimeæ¨¡å¼ï¼Œå³å½“å‰ç”Ÿæ•ˆè€Œé‡å¯åå¤±æ•ˆï¼Œå› æ­¤åœ¨å·¥ä½œå’Œè€ƒè¯•ä¸­å°½é‡é¿å…ä½¿ç”¨ã€‚è€Œåœ¨ä½¿ç”¨\u0026ndash;permanentå‚æ•°æ—¶ï¼Œåˆ™æ˜¯å½“å‰ä¸ä¼šç«‹å³çœ‹åˆ°æ•ˆæœï¼Œè€Œåœ¨é‡å¯æˆ–é‡æ–°åŠ è½½åæ–¹å¯ç”Ÿæ•ˆã€‚äºæ˜¯ï¼Œåœ¨æ·»åŠ äº†å…è®¸æ”¾è¡ŒHTTPSæµé‡çš„ç­–ç•¥åï¼ŒæŸ¥è¯¢å½“å‰æ¨¡å¼ç­–ç•¥ï¼Œå‘ç°ä¾ç„¶æ˜¯ä¸å…è®¸æ”¾è¡ŒHTTPSåè®®çš„æµé‡ï¼š\n[root@linuxprobe ~]# firewall-cmd --permanent --zone=public --add-service=https success [root@linuxprobe ~]# firewall-cmd --zone=public --query-service=https no ä¸æƒ³é‡å¯æœåŠ¡å™¨çš„è¯ï¼Œå°±ç”¨\u0026ndash;reloadå‚æ•°å§ï¼š\n[root@linuxprobe ~]# firewall-cmd --reload success [root@linuxprobe ~]# firewall-cmd --zone=public --query-service=https yes 8ï¼æŠŠHTTPåè®®çš„æµé‡è®¾ç½®ä¸ºæ°¸ä¹…æ‹’ç»ï¼Œå¹¶ç«‹å³ç”Ÿæ•ˆã€‚\nç”±äºåœ¨é»˜è®¤æƒ…å†µä¸‹HTTPåè®®çš„æµé‡å°±æ²¡æœ‰è¢«å…è®¸ï¼Œæ‰€ä»¥ä¼šæœ‰â€œWarning: NOT_ENABLED: httpâ€è¿™æ ·çš„æç¤ºä¿¡æ¯ï¼Œå› æ­¤å¯¹å®é™…æ“ä½œæ²¡æœ‰å½±å“ã€‚\n[root@linuxprobe ~]# firewall-cmd --permanent --zone=public --remove-service=http Warning: NOT_ENABLED: http success [root@linuxprobe ~]# firewall-cmd --reload  success 9ï¼æŠŠè®¿é—®8080å’Œ8081ç«¯å£çš„æµé‡ç­–ç•¥è®¾ç½®ä¸ºå…è®¸ï¼Œä½†ä»…é™å½“å‰ç”Ÿæ•ˆã€‚\n[root@linuxprobe ~]# firewall-cmd --zone=public --add-port=8080-8081/tcp success [root@linuxprobe ~]# firewall-cmd --zone=public --list-ports 8080-8081/tcp 10ï¼æŠŠåŸæœ¬è®¿é—®æœ¬æœº888ç«¯å£çš„æµé‡è½¬å‘åˆ°22ç«¯å£ï¼Œè¦ä¸”æ±‚å½“å‰å’Œé•¿æœŸå‡æœ‰æ•ˆã€‚\nSSHè¿œç¨‹æ§åˆ¶åè®®æ˜¯åŸºäºTCP/22ç«¯å£ä¼ è¾“æ§åˆ¶æŒ‡ä»¤çš„ï¼Œå¦‚æœæƒ³è®©ç”¨æˆ·é€šè¿‡å…¶ä»–ç«¯å£å·ä¹Ÿèƒ½è®¿é—®sshæœåŠ¡ï¼Œå°±å¯ä»¥è¯•è¯•ç«¯å£è½¬å‘æŠ€æœ¯äº†ã€‚é€šè¿‡è¿™é¡¹æŠ€æœ¯ï¼Œæ–°çš„ç«¯å£å·åœ¨æ”¶åˆ°ç”¨æˆ·è¯·æ±‚åä¼šè‡ªåŠ¨è½¬å‘åˆ°åŸæœ¬æœåŠ¡çš„ç«¯å£ä¸Šï¼Œä½¿å¾—ç”¨æˆ·èƒ½å¤Ÿé€šè¿‡æ–°çš„ç«¯å£è®¿é—®åˆ°åŸæœ¬çš„æœåŠ¡ã€‚\næ¥ä¸¾ä¸ªä¾‹å­å¸®åŠ©å¤§å®¶ç†è§£ã€‚å‡è®¾å°å¼ºæ˜¯ç”µå­å‚çš„å·¥äººï¼Œä»–å–œæ¬¢ä¸Šäº†ä¸‰å·æµæ°´çº¿ä¸Šçš„å·¥äººå°èŠ±ï¼Œä½†ä¸å¥½æ„æ€è¡¨ç™½ï¼Œäºæ˜¯å†™äº†ä¸€å°æƒ…ä¹¦å¹¶äº¤ç»™é—¨å«å¼ å¤§çˆ·ï¼Œå¸Œæœ›ç”±å¼ å¤§çˆ·è½¬äº¤ç»™å°èŠ±ã€‚è¿™æ ·ä¸€æ¥ï¼Œæƒ…ä¹¦ï¼ˆä¿¡æ¯ï¼‰çš„ä¼ è¾“ç”±ä»å°å¼ºåˆ°å°èŠ±ï¼Œå˜æˆäº†å°å¼ºåˆ°å¼ å¤§çˆ·å†åˆ°å°èŠ±ï¼Œæƒ…ä¹¦ï¼ˆä¿¡æ¯ï¼‰ä¾ç„¶èƒ½é¡ºåˆ©é€è¾¾ã€‚\nä½¿ç”¨firewall-cmdå‘½ä»¤å®ç°ç«¯å£è½¬å‘çš„æ ¼å¼æœ‰ç‚¹é•¿ï¼Œè¿™é‡Œä¸ºå¤§å®¶æ€»ç»“å¥½äº†ï¼š\nfirewall-cmd --permanent --zone=\u0026lt;åŒºåŸŸ\u0026gt; --add-forward-port=port=\u0026lt;æºç«¯å£å·\u0026gt;:proto=\u0026lt;åè®®\u0026gt;:toport=\u0026lt;ç›®æ ‡ç«¯å£å·\u0026gt;:toaddr=\u0026lt;ç›®æ ‡IPåœ°å€\u0026gt; ä¸Šè¿°å‘½ä»¤ä¸­çš„ç›®æ ‡IPåœ°å€ä¸€èˆ¬æ˜¯æœåŠ¡å™¨æœ¬æœºçš„IPåœ°å€ï¼š\n[root@linuxprobe ~]# firewall-cmd --permanent --zone=public --add-forward-port=port=888:proto=tcp:toport=22:toaddr=192.168.10.10 success [root@linuxprobe ~]# firewall-cmd --reload success åœ¨å®¢æˆ·ç«¯ä½¿ç”¨sshå‘½ä»¤å°è¯•è®¿é—®192.168.10.10ä¸»æœºçš„888ç«¯å£ï¼Œè®¿é—®æˆåŠŸï¼š\n[root@client A ~]# ssh -p 888 192.168.10.10 The authenticity of host \u0026#39;[192.168.10.10]:888 ([192.168.10.10]:888)\u0026#39; can\u0026#39;t be established. ECDSA key fingerprint is b8:25:88:89:5c:05:b6:dd:ef:76:63:ff:1a:54:02:1a. Are you sure you want to continue connecting (yes/no)? yes Warning: Permanently added \u0026#39;[192.168.10.10]:888\u0026#39; (ECDSA) to the list of known hosts. root@192.168.10.10\u0026#39;s password:æ­¤å¤„è¾“å…¥è¿œç¨‹rootç®¡ç†å‘˜çš„å¯†ç  Last login: Sun Jul 19 21:43:48 2021 from 192.168.10.10 11ï¼å¯Œè§„åˆ™çš„è®¾ç½®ã€‚\nå¯Œè§„åˆ™ä¹Ÿå«å¤è§„åˆ™ï¼Œè¡¨ç¤ºæ›´ç»†è‡´ã€æ›´è¯¦ç»†çš„é˜²ç«å¢™ç­–ç•¥é…ç½®ï¼Œå®ƒå¯ä»¥é’ˆå¯¹ç³»ç»ŸæœåŠ¡ã€ç«¯å£å·ã€æºåœ°å€å’Œç›®æ ‡åœ°å€ç­‰è¯¸å¤šä¿¡æ¯è¿›è¡Œæ›´æœ‰é’ˆå¯¹æ€§çš„ç­–ç•¥é…ç½®ã€‚å®ƒçš„ä¼˜å…ˆçº§åœ¨æ‰€æœ‰çš„é˜²ç«å¢™ç­–ç•¥ä¸­ä¹Ÿæ˜¯æœ€é«˜çš„ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨firewalldæœåŠ¡ä¸­é…ç½®ä¸€æ¡å¯Œè§„åˆ™ï¼Œä½¿å…¶æ‹’ç»192.168.10.0/24ç½‘æ®µçš„æ‰€æœ‰ç”¨æˆ·è®¿é—®æœ¬æœºçš„sshæœåŠ¡ï¼ˆ22ç«¯å£ï¼‰ï¼š\n[root@linuxprobe ~]# firewall-cmd --permanent --zone=public --add-rich-rule=\u0026#34;rule family=\u0026#34;ipv4\u0026#34; source address=\u0026#34;192.168.10.0/24\u0026#34; service name=\u0026#34;ssh\u0026#34; reject\u0026#34; success [root@linuxprobe ~]# firewall-cmd --reload success åœ¨å®¢æˆ·ç«¯ä½¿ç”¨sshå‘½ä»¤å°è¯•è®¿é—®192.168.10.10ä¸»æœºçš„sshæœåŠ¡ï¼ˆ22ç«¯å£ï¼‰ï¼š\n[root@client A ~]# ssh 192.168.10.10 Connecting to 192.168.10.10:22... Could not connect to \u0026#39;192.168.10.10\u0026#39; (port 22): Connection failed. å›¾å½¢ç®¡ç†å·¥å…· åœ¨å„ç§ç‰ˆæœ¬çš„Linuxç³»ç»Ÿä¸­ï¼Œå‡ ä¹æ²¡æœ‰èƒ½è®©åˆ˜é„è€å¸ˆæ¬£æ…°å¹¶æ¨èçš„å›¾å½¢åŒ–å·¥å…·ï¼Œä½†æ˜¯firewall-configåšåˆ°äº†ã€‚å®ƒæ˜¯firewalldé˜²ç«å¢™é…ç½®ç®¡ç†å·¥å…·çš„GUIï¼ˆå›¾å½¢ç”¨æˆ·ç•Œé¢ï¼‰ç‰ˆæœ¬ï¼Œå‡ ä¹å¯ä»¥å®ç°æ‰€æœ‰ä»¥å‘½ä»¤è¡Œæ¥æ‰§è¡Œçš„æ“ä½œã€‚æ¯«ä¸å¤¸å¼ åœ°è¯´ï¼Œå³ä½¿è¯»è€…æ²¡æœ‰æ‰å®çš„Linuxå‘½ä»¤åŸºç¡€ï¼Œä¹Ÿå®Œå…¨å¯ä»¥é€šè¿‡å®ƒæ¥å¦¥å–„é…ç½®RHEL 8ä¸­çš„é˜²ç«å¢™ç­–ç•¥ã€‚\næˆåŠŸ firewall-config å®‰è£…åï¼Œå…¶å·¥å…·çš„ç•Œé¢å¦‚å›¾æ‰€ç¤ºï¼š\nå…¶åŠŸèƒ½å…·ä½“å¦‚ä¸‹ã€‚\n1ï¼šé€‰æ‹©è¿è¡Œæ—¶ï¼ˆRuntimeï¼‰æˆ–æ°¸ä¹…ï¼ˆPermanentï¼‰æ¨¡å¼çš„é…ç½®ã€‚\n2ï¼šå¯é€‰çš„ç­–ç•¥é›†åˆåŒºåŸŸåˆ—è¡¨ã€‚\n3ï¼šå¸¸ç”¨çš„ç³»ç»ŸæœåŠ¡åˆ—è¡¨ã€‚\n4ï¼šä¸»æœºåœ°å€çš„é»‘ç™½åå•ã€‚\n5ï¼šå½“å‰æ­£åœ¨ä½¿ç”¨çš„åŒºåŸŸã€‚\n6ï¼šç®¡ç†å½“å‰è¢«é€‰ä¸­åŒºåŸŸä¸­çš„æœåŠ¡ã€‚\n7ï¼šç®¡ç†å½“å‰è¢«é€‰ä¸­åŒºåŸŸä¸­çš„ç«¯å£ã€‚\n8ï¼šè®¾ç½®å…è®¸è¢«è®¿é—®çš„åè®®ã€‚\n9ï¼šè®¾ç½®å…è®¸è¢«è®¿é—®çš„ç«¯å£ã€‚\n10ï¼šå¼€å¯æˆ–å…³é—­SNATï¼ˆæºç½‘ç»œåœ°å€è½¬æ¢ï¼‰æŠ€æœ¯ã€‚\n11ï¼šè®¾ç½®ç«¯å£è½¬å‘ç­–ç•¥ã€‚\n12ï¼šæ§åˆ¶è¯·æ±‚icmpæœåŠ¡çš„æµé‡ã€‚\n13ï¼šç®¡ç†é˜²ç«å¢™çš„å¯Œè§„åˆ™ã€‚\n14ï¼šè¢«é€‰ä¸­åŒºåŸŸçš„æœåŠ¡ï¼Œè‹¥å‹¾é€‰äº†ç›¸åº”æœåŠ¡å‰é¢çš„å¤é€‰æ¡†ï¼Œåˆ™è¡¨ç¤ºå…è®¸ä¸ä¹‹ç›¸å…³çš„æµé‡ã€‚\n15ï¼šfirewall-configå·¥å…·çš„è¿è¡ŒçŠ¶æ€ã€‚\né™¤äº†å›¾ä¸­åˆ—å‡ºçš„åŠŸèƒ½ï¼Œè¿˜æœ‰ç”¨äºå°†ç½‘å¡ä¸åŒºåŸŸç»‘å®šçš„Interfacesé€‰é¡¹ï¼Œä»¥åŠç”¨äºå°†IPåœ°å€ä¸åŒºåŸŸç»‘å®šçš„Sourcesé€‰é¡¹ã€‚å¦å¤–å†å•°å”†ä¸€å¥ã€‚åœ¨ä½¿ç”¨firewall-configå·¥å…·é…ç½®å®Œé˜²ç«å¢™ç­–ç•¥ä¹‹åï¼Œæ— é¡»è¿›è¡ŒäºŒæ¬¡ç¡®è®¤ï¼Œå› ä¸ºåªè¦æœ‰ä¿®æ”¹å†…å®¹ï¼Œå®ƒå°±è‡ªåŠ¨è¿›è¡Œä¿å­˜ã€‚\nä¸‹é¢è¿›è¡ŒåŠ¨æ‰‹å®è·µç¯èŠ‚ã€‚\nå…ˆå°†å½“å‰åŒºåŸŸä¸­è¯·æ±‚httpæœåŠ¡çš„æµé‡è®¾ç½®ä¸ºå…è®¸æ”¾è¡Œï¼Œä½†ä»…é™å½“å‰ç”Ÿæ•ˆã€‚å…·ä½“é…ç½®å¦‚å›¾æ‰€ç¤ºï¼š\nå°è¯•æ·»åŠ ä¸€æ¡é˜²ç«å¢™ç­–ç•¥è§„åˆ™ï¼Œä½¿å…¶æ”¾è¡Œè®¿é—®8080ï½8088ç«¯å£ï¼ˆTCPåè®®ï¼‰çš„æµé‡ï¼Œå¹¶å°†å…¶è®¾ç½®ä¸ºæ°¸ä¹…ç”Ÿæ•ˆï¼Œä»¥è¾¾åˆ°ç³»ç»Ÿé‡å¯åé˜²ç«å¢™ç­–ç•¥ä¾ç„¶ç”Ÿæ•ˆçš„ç›®çš„ã€‚åœ¨æŒ‰ç…§ä¸‹å›¾æ‰€ç¤ºçš„ç•Œé¢é…ç½®å®Œæ¯•ä¹‹åï¼Œè¿˜éœ€è¦åœ¨Optionsèœå•ä¸­å•å‡»Reload Firewalldå‘½ä»¤ï¼Œè®©é…ç½®çš„é˜²ç«å¢™ç­–ç•¥ç«‹å³ç”Ÿæ•ˆã€‚è¿™ä¸åœ¨å‘½ä»¤è¡Œä¸­ä½¿ç”¨\u0026ndash;reloadå‚æ•°çš„æ•ˆæœä¸€æ ·ã€‚\næ”¾è¡Œè®¿é—®8080ï½8088ç«¯å£çš„æµé‡ï¼š\nè®©é…ç½®çš„é˜²ç«å¢™ç­–ç•¥è§„åˆ™ç«‹å³ç”Ÿæ•ˆï¼š\nå‰é¢åœ¨è®²è§£firewall-configå·¥å…·çš„åŠŸèƒ½æ—¶ï¼Œæ›¾ç»æåˆ°äº†SNATï¼ˆSource Network Address Translationï¼Œæºç½‘ç»œåœ°å€è½¬æ¢ï¼‰æŠ€æœ¯ã€‚SNATæ˜¯ä¸€ç§ä¸ºäº†è§£å†³IPåœ°å€åŒ®ä¹è€Œè®¾è®¡çš„æŠ€æœ¯ï¼Œå®ƒå¯ä»¥ä½¿å¾—å¤šä¸ªå†…ç½‘ä¸­çš„ç”¨æˆ·é€šè¿‡åŒä¸€ä¸ªå¤–ç½‘IPæ¥å…¥Internetã€‚è¯¥æŠ€æœ¯çš„åº”ç”¨éå¸¸å¹¿æ³›ï¼Œç”šè‡³å¯ä»¥è¯´æˆ‘ä»¬æ¯å¤©éƒ½åœ¨ä½¿ç”¨ï¼Œåªä¸è¿‡æ²¡æœ‰å¯Ÿè§‰åˆ°ç½¢äº†ã€‚æ¯”å¦‚ï¼Œå½“é€šè¿‡å®¶ä¸­çš„ç½‘å…³è®¾å¤‡ï¼ˆæ— çº¿è·¯ç”±å™¨ï¼‰è®¿é—®æœ¬ä¹¦é…å¥—ç«™ç‚¹www.linuxprobe.comæ—¶ï¼Œå°±ç”¨åˆ°äº†SNATæŠ€æœ¯ã€‚\nå¤§å®¶å¯ä»¥çœ‹ä¸€ä¸‹åœ¨ç½‘ç»œä¸­ä¸ä½¿ç”¨SNATæŠ€æœ¯å’Œä½¿ç”¨SNATæŠ€æœ¯æ—¶çš„æƒ…å†µã€‚åœ¨æ²¡æœ‰ä½¿ç”¨SNATæŠ€æœ¯çš„å±€åŸŸç½‘ä¸­æœ‰å¤šå°PCï¼Œå¦‚æœç½‘å…³æœåŠ¡å™¨æ²¡æœ‰åº”ç”¨SNATæŠ€æœ¯ï¼Œåˆ™äº’è”ç½‘ä¸­çš„ç½‘ç«™æœåŠ¡å™¨åœ¨æ”¶åˆ°PCçš„è¯·æ±‚æ•°æ®åŒ…ï¼Œå¹¶å›é€å“åº”æ•°æ®åŒ…æ—¶ï¼Œå°†æ— æ³•åœ¨ç½‘ç»œä¸­æ‰¾åˆ°è¿™ä¸ªç§æœ‰ç½‘ç»œçš„IPåœ°å€ï¼Œæ‰€ä»¥PCä¹Ÿå°±æ”¶ä¸åˆ°å“åº”æ•°æ®åŒ…äº†ã€‚åœ¨ä½¿ç”¨SNATæŠ€æœ¯å¤„ç†è¿‡çš„å±€åŸŸç½‘ä¸­ï¼Œç”±äºç½‘å…³æœåŠ¡å™¨åº”ç”¨äº†SNATæŠ€æœ¯ï¼Œæ‰€ä»¥äº’è”ç½‘ä¸­çš„ç½‘ç«™æœåŠ¡å™¨ä¼šå°†å“åº”æ•°æ®åŒ…å‘ç»™ç½‘å…³æœåŠ¡å™¨ï¼Œå†ç”±åè€…è½¬å‘ç»™å±€åŸŸç½‘ä¸­çš„PCã€‚\næ²¡æœ‰ä½¿ç”¨SNATæŠ€æœ¯çš„ç½‘ç»œï¼š\nä½¿ç”¨SNATæŠ€æœ¯å¤„ç†è¿‡çš„ç½‘ç»œï¼š\nä½¿ç”¨iptableså‘½ä»¤å®ç°SNATæŠ€æœ¯æ˜¯ä¸€ä»¶å¾ˆéº»çƒ¦çš„äº‹æƒ…ï¼Œä½†æ˜¯åœ¨firewall-configä¸­å´æ˜¯å°èœä¸€ç¢Ÿäº†ã€‚ç”¨æˆ·åªéœ€æŒ‰ç…§ä¸‹å›¾è¿›è¡Œé…ç½®ï¼Œå¹¶é€‰ä¸­Masquerade zoneå¤é€‰æ¡†ï¼Œå°±è‡ªåŠ¨å¼€å¯äº†SNATæŠ€æœ¯ã€‚\nä¸ºäº†è®©å¤§å®¶ç›´è§‚æŸ¥çœ‹ä¸åŒå·¥å…·åœ¨å®ç°ç›¸åŒåŠŸèƒ½æ—¶çš„åŒºåˆ«ï¼Œé’ˆå¯¹å‰é¢ä½¿ç”¨firewall-cmdé…ç½®çš„é˜²ç«å¢™ç­–ç•¥è§„åˆ™ï¼Œè¿™é‡Œä½¿ç”¨firewall-configå·¥å…·è¿›è¡Œäº†é‡æ–°æ¼”ç¤ºï¼šå°†æœ¬æœº888ç«¯å£çš„æµé‡è½¬å‘åˆ°22ç«¯å£ï¼Œä¸”è¦æ±‚å½“å‰å’Œé•¿æœŸå‡æœ‰æ•ˆï¼Œå…·ä½“å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\né…ç½®æœ¬åœ°çš„ç«¯å£è½¬å‘ï¼š\nè®©é˜²ç«å¢™æ•ˆç­–ç•¥è§„åˆ™ç«‹å³ç”Ÿæ•ˆï¼š\nç”¨å‘½ä»¤é…ç½®å¯Œè§„åˆ™å¯çœŸè¾›è‹¦ï¼Œå¹¸å¥½æˆ‘ä»¬ç°åœ¨æœ‰äº†å›¾å½¢ç”¨æˆ·ç•Œé¢çš„å·¥å…·ã€‚è®©192.168.10.20ä¸»æœºè®¿é—®æœ¬æœºçš„1234ç«¯å£å·ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚å…¶ä¸­Elementé€‰é¡¹èƒ½å¤Ÿæ ¹æ®æœåŠ¡åç§°ã€ç«¯å£å·ã€åè®®ç­‰ä¿¡æ¯è¿›è¡ŒåŒ¹é…ï¼›Sourceä¸Destinationé€‰é¡¹åçš„invertedå¤é€‰æ¡†ä»£è¡¨åé€‰åŠŸèƒ½ï¼Œå°†å…¶é€‰ä¸­åˆ™ä»£è¡¨å¯¹å·²å¡«å†™ä¿¡æ¯è¿›è¡Œåé€‰ï¼Œå³é€‰ä¸­å¡«å†™ä¿¡æ¯ä»¥å¤–çš„ä¸»æœºåœ°å€ï¼›Logå¤é€‰æ¡†åœ¨é€‰ä¸­åï¼Œæ—¥å¿—ä¸ä»…ä¼šè¢«è®°å½•åˆ°æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œè€Œä¸”è¿˜å¯ä»¥åœ¨è®¾ç½®æ—¥å¿—çš„çº§åˆ«ï¼ˆLevelï¼‰åï¼Œå†å°†æ—¥å¿—è®°å½•åˆ°æ—¥å¿—æ–‡ä»¶ä¸­ï¼Œä»¥æ–¹ä¾¿åç»­çš„ç­›æŸ¥ã€‚\nå¦‚æœç”Ÿäº§ç¯å¢ƒä¸­çš„æœåŠ¡å™¨æœ‰å¤šå—ç½‘å¡åœ¨åŒæ—¶æä¾›æœåŠ¡ï¼ˆè¿™ç§æƒ…å†µå¾ˆå¸¸è§ï¼‰ï¼Œåˆ™å¯¹å†…ç½‘å’Œå¯¹å¤–ç½‘æä¾›æœåŠ¡çš„ç½‘å¡è¦é€‰æ‹©çš„é˜²ç«å¢™ç­–ç•¥åŒºåŸŸä¹Ÿæ˜¯ä¸ä¸€æ ·çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥æŠŠç½‘å¡ä¸é˜²ç«å¢™ç­–ç•¥åŒºåŸŸè¿›è¡Œç»‘å®šï¼Œè¿™æ ·å°±å¯ä»¥ä½¿ç”¨ä¸åŒçš„é˜²ç«å¢™åŒºåŸŸç­–ç•¥ï¼Œå¯¹æºè‡ªä¸åŒç½‘å¡çš„æµé‡è¿›è¡Œæœ‰é’ˆå¯¹æ€§çš„ç›‘æ§ï¼Œæ•ˆæœä¼šæ›´å¥½ã€‚\næŠŠç½‘å¡ä¸é˜²ç«å¢™ç­–ç•¥åŒºåŸŸè¿›è¡Œç»‘å®šï¼š\nç½‘å¡ä¸ç­–ç•¥åŒºåŸŸç»‘å®šå®Œæˆï¼š\næœ€åå†æä¸€å¥ï¼Œfirewall-configå·¥å…·çœŸçš„éå¸¸å®ç”¨ï¼Œå¾ˆå¤šåŸæœ¬å¤æ‚çš„é•¿å‘½ä»¤è¢«å›¾å½¢åŒ–æŒ‰é’®æ›¿ä»£ï¼Œè®¾ç½®è§„åˆ™ä¹Ÿç®€å•æ˜äº†ï¼Œè¶³ä»¥åº”å¯¹æ—¥å¸¸å·¥ä½œã€‚æ‰€ä»¥å†æ¬¡å‘å¤§å®¶å¼ºè°ƒé…ç½®é˜²ç«å¢™ç­–ç•¥çš„åŸåˆ™â€”åªè¦èƒ½å®ç°æ‰€éœ€çš„åŠŸèƒ½ï¼Œç”¨ä»€ä¹ˆå·¥å…·è¯·éšå›ä¾¿ã€‚\næœåŠ¡çš„è®¿é—®æ§åˆ¶åˆ—è¡¨ TCP Wrapperæ˜¯RHEL 6/7ç³»ç»Ÿä¸­é»˜è®¤å¯ç”¨çš„ä¸€æ¬¾æµé‡ç›‘æ§ç¨‹åºï¼Œå®ƒèƒ½å¤Ÿæ ¹æ®æ¥è®¿ä¸»æœºçš„åœ°å€ä¸æœ¬æœºçš„ç›®æ ‡æœåŠ¡ç¨‹åºåšå‡ºå…è®¸æˆ–æ‹’ç»çš„æ“ä½œã€‚åœ¨RHEL 8ç‰ˆæœ¬ä¸­ï¼Œå®ƒå·²ç»è¢«firewalldæ­£å¼æ›¿ä»£ã€‚æ¢å¥è¯è¯´ï¼ŒLinuxç³»ç»Ÿä¸­å…¶å®æœ‰ä¸¤ä¸ªå±‚é¢çš„é˜²ç«å¢™ï¼Œç¬¬ä¸€ç§æ˜¯å‰é¢è®²åˆ°çš„åŸºäºTCP/IPåè®®çš„æµé‡è¿‡æ»¤å·¥å…·ï¼Œè€ŒTCP WrapperæœåŠ¡åˆ™æ˜¯èƒ½å…è®¸æˆ–ç¦æ­¢Linuxç³»ç»Ÿæä¾›æœåŠ¡çš„é˜²ç«å¢™ï¼Œä»è€Œåœ¨æ›´é«˜å±‚é¢ä¿æŠ¤äº†Linuxç³»ç»Ÿçš„å®‰å…¨è¿è¡Œã€‚\nTCP WrapperæœåŠ¡çš„é˜²ç«å¢™ç­–ç•¥ç”±ä¸¤ä¸ªæ§åˆ¶åˆ—è¡¨æ–‡ä»¶æ‰€æ§åˆ¶ï¼Œç”¨æˆ·å¯ä»¥ç¼–è¾‘å…è®¸æ§åˆ¶åˆ—è¡¨æ–‡ä»¶æ¥æ”¾è¡Œå¯¹æœåŠ¡çš„è¯·æ±‚æµé‡ï¼Œä¹Ÿå¯ä»¥ç¼–è¾‘æ‹’ç»æ§åˆ¶åˆ—è¡¨æ–‡ä»¶æ¥é˜»æ­¢å¯¹æœåŠ¡çš„è¯·æ±‚æµé‡ã€‚æ§åˆ¶åˆ—è¡¨æ–‡ä»¶ä¿®æ”¹åä¼šç«‹å³ç”Ÿæ•ˆï¼Œç³»ç»Ÿå°†ä¼šå…ˆæ£€æŸ¥å…è®¸æ§åˆ¶åˆ—è¡¨æ–‡ä»¶ï¼ˆ/etc/hosts.allowï¼‰ï¼Œå¦‚æœåŒ¹é…åˆ°ç›¸åº”çš„å…è®¸ç­–ç•¥åˆ™æ”¾è¡Œæµé‡ï¼›å¦‚æœæ²¡æœ‰åŒ¹é…ï¼Œåˆ™ä¼šè¿›ä¸€æ­¥åŒ¹é…æ‹’ç»æ§åˆ¶åˆ—è¡¨æ–‡ä»¶ï¼ˆ/etc/hosts.denyï¼‰ï¼Œè‹¥æ‰¾åˆ°åŒ¹é…é¡¹åˆ™æ‹’ç»è¯¥æµé‡ã€‚å¦‚æœè¿™ä¸¤ä¸ªæ–‡ä»¶éƒ½æ²¡æœ‰åŒ¹é…åˆ°ï¼Œåˆ™é»˜è®¤æ”¾è¡Œæµé‡ã€‚\nç”±äºRHEL 8ç‰ˆæœ¬å·²ç»ä¸å†æ”¯æŒTCP WrapperæœåŠ¡ç¨‹åºï¼Œå› æ­¤æˆ‘ä»¬æ¥ä¸‹æ¥é€‰æ‹©åœ¨ä¸€å°è€ç‰ˆæœ¬çš„æœåŠ¡å™¨ä¸Šè¿›è¡Œå®éªŒã€‚TCP WrapperæœåŠ¡çš„æ§åˆ¶åˆ—è¡¨æ–‡ä»¶é…ç½®èµ·æ¥å¹¶ä¸å¤æ‚ï¼Œå¸¸ç”¨çš„å‚æ•°å¦‚è¡¨æ‰€ç¤ºã€‚\n   å®¢æˆ·ç«¯ç±»å‹ ç¤ºä¾‹ æ»¡è¶³ç¤ºä¾‹çš„å®¢æˆ·ç«¯åˆ—è¡¨     å•ä¸€ä¸»æœº 192.168.10.10 IPåœ°å€ä¸º192.168.10.10çš„ä¸»æœº   æŒ‡å®šç½‘æ®µ 192.168.10. IPæ®µä¸º192.168.10.0/24çš„ä¸»æœº   æŒ‡å®šç½‘æ®µ 192.168.10.0/255.255.255.0 IPæ®µä¸º192.168.10.0/24çš„ä¸»æœº   æŒ‡å®šDNSåç¼€ .linuxprobe.com æ‰€æœ‰DNSåç¼€ä¸º.linuxprobe.comçš„ä¸»æœº   æŒ‡å®šä¸»æœºåç§° www.linuxprobe.com ä¸»æœºåç§°ä¸ºwww.linuxprobe.comçš„ä¸»æœº   æŒ‡å®šæ‰€æœ‰å®¢æˆ·ç«¯ ALL æ‰€æœ‰ä¸»æœºå…¨éƒ¨åŒ…æ‹¬åœ¨å†…    åœ¨é…ç½®TCP WrapperæœåŠ¡æ—¶éœ€è¦éµå¾ªä¸¤ä¸ªåŸåˆ™ï¼š\n ç¼–å†™æ‹’ç»ç­–ç•¥è§„åˆ™æ—¶ï¼Œå¡«å†™çš„æ˜¯æœåŠ¡åç§°ï¼Œè€Œéåè®®åç§°ï¼› å»ºè®®å…ˆç¼–å†™æ‹’ç»ç­–ç•¥è§„åˆ™ï¼Œå†ç¼–å†™å…è®¸ç­–ç•¥è§„åˆ™ï¼Œä»¥ä¾¿ç›´è§‚åœ°çœ‹åˆ°ç›¸åº”çš„æ•ˆæœã€‚  ä¸‹é¢ç¼–å†™æ‹’ç»ç­–ç•¥è§„åˆ™æ–‡ä»¶ï¼Œç¦æ­¢è®¿é—®æœ¬æœºsshdæœåŠ¡çš„æ‰€æœ‰æµé‡ï¼ˆæ— é¡»ä¿®æ”¹/etc/hosts.denyæ–‡ä»¶ä¸­åŸæœ‰çš„æ³¨é‡Šä¿¡æ¯ï¼‰ï¼š\n[root@linuxprobe ~]# vim /etc/hosts.deny # # hosts.deny This file contains access rules which are used to # deny connections to network services that either use # the tcp_wrappers library or that have been # started through a tcp_wrappers-enabled xinetd. # # The rules in this file can also be set up in # /etc/hosts.allow with a \u0026#39;deny\u0026#39; option instead. # # See \u0026#39;man 5 hosts_options\u0026#39; and \u0026#39;man 5 hosts_access\u0026#39; # for information on rule syntax. # See \u0026#39;man tcpd\u0026#39; for information on tcp_wrappers sshd:* [root@linuxprobe ~]# ssh 192.168.10.10 ssh_exchange_identification: read: Connection reset by peer æ¥ä¸‹æ¥ï¼Œåœ¨å…è®¸ç­–ç•¥è§„åˆ™æ–‡ä»¶ä¸­æ·»åŠ ä¸€æ¡è§„åˆ™ï¼Œä½¿å…¶æ”¾è¡Œæºè‡ª192.168.10.0/24ç½‘æ®µï¼Œä¸”è®¿é—®æœ¬æœºsshdæœåŠ¡çš„æ‰€æœ‰æµé‡ã€‚å¯ä»¥çœ‹åˆ°ï¼ŒæœåŠ¡å™¨ç«‹åˆ»å°±æ”¾è¡Œäº†è®¿é—®sshdæœåŠ¡çš„æµé‡ï¼Œæ•ˆæœéå¸¸ç›´è§‚ï¼š\n[root@linuxprobe ~]# vim /etc/hosts.allow # # hosts.allow This file contains access rules which are used to # allow or deny connections to network services that # either use the tcp_wrappers library or that have been # started through a tcp_wrappers-enabled xinetd. # # See \u0026#39;man 5 hosts_options\u0026#39; and \u0026#39;man 5 hosts_access\u0026#39; # for information on rule syntax. # See \u0026#39;man tcpd\u0026#39; for information on tcp_wrappers sshd:192.168.10. [root@linuxprobe ~]# ssh 192.168.10.10 The authenticity of host \u0026#39;192.168.10.10 (192.168.10.10)\u0026#39; can\u0026#39;t be established. ECDSA key fingerprint is 70:3b:5d:37:96:7b:2e:a5:28:0d:7e:dc:47:6a:fe:5c. Are you sure you want to continue connecting (yes/no)? yes Warning: Permanently added \u0026#39;192.168.10.10\u0026#39; (ECDSA) to the list of known hosts. root@192.168.10.10\u0026#39;s password: Last login: Wed May 4 07:56:29 2021 [root@linuxprobe ~]#  Cockpit é©¾é©¶èˆ±ç®¡ç†å·¥å…· é¦–å…ˆï¼ŒCockpitæ˜¯ä¸€ä¸ªè‹±æ–‡å•è¯ï¼Œå³â€œï¼ˆé£æœºã€èˆ¹æˆ–èµ›è½¦çš„ï¼‰é©¾é©¶èˆ±ã€é©¾é©¶åº§â€ï¼Œå®ƒç”¨åå­—ä¼ è¾¾å‡ºäº†åŠŸèƒ½ä¸°å¯Œçš„ç‰¹æ€§ã€‚å…¶æ¬¡ï¼ŒCockpitæ˜¯ä¸€ä¸ªåŸºäºWebçš„å›¾å½¢åŒ–æœåŠ¡ç®¡ç†å·¥å…·ï¼Œå¯¹ç”¨æˆ·ç›¸å½“å‹å¥½ï¼Œå³ä¾¿æ˜¯æ–°æ‰‹ä¹Ÿå¯ä»¥è½»æ¾ä¸Šæ‰‹ã€‚è€Œä¸”å®ƒå¤©ç„¶å…·å¤‡å¾ˆå¥½çš„è·¨å¹³å°æ€§ï¼Œå› æ­¤è¢«å¹¿æ³›åº”ç”¨äºæœåŠ¡å™¨ã€å®¹å™¨ã€è™šæ‹Ÿæœºç­‰å¤šç§ç®¡ç†åœºæ™¯ã€‚æœ€åï¼Œçº¢å¸½å…¬å¸å¯¹Cockpitä¹Ÿååˆ†çœ‹é‡ï¼Œç›´æ¥å°†å®ƒé»˜è®¤å®‰è£…åˆ°äº†RHEL 8ç³»ç»Ÿä¸­ï¼Œç”±æ­¤è¡ç”Ÿçš„CentOSå’ŒFedoraä¹Ÿéƒ½æ ‡é…æœ‰Cockpitã€‚\nCockpitåœ¨é»˜è®¤æƒ…å†µä¸‹å°±å·²ç»è¢«å®‰è£…åˆ°ç³»ç»Ÿä¸­ã€‚ä¸‹é¢æ‰§è¡Œdnfå‘½ä»¤å¯¹æ­¤è¿›è¡Œç¡®è®¤ï¼š\n[root@linuxprobe ~]# dnf install cockpit Updating Subscription Management repositories. Unable to read consumer identity This system is not registered to Red Hat Subscription Management. You can use subscription-manager to register. AppStream 3.1 MB/s | 3.2 kB 00:00 BaseOS 2.7 MB/s | 2.7 kB 00:00 Package cockpit-185-2.el8.x86_64 is already installed. Dependencies resolved. Nothing to do. Complete! ä½†æ˜¯ï¼ŒCockpitæœåŠ¡ç¨‹åºåœ¨RHEL 8ç‰ˆæœ¬ä¸­æ²¡æœ‰è‡ªåŠ¨è¿è¡Œï¼Œä¸‹é¢å°†å®ƒå¼€å¯å¹¶åŠ å…¥åˆ°å¼€æœºå¯åŠ¨é¡¹ä¸­ï¼š\n[root@linuxprobe ~]# systemctl start cockpit [root@linuxprobe ~]# systemctl enable cockpit.socket Created symlink /etc/systemd/system/sockets.target.wants/cockpit.socket â†’ /usr/lib/systemd/system/cockpit.socket. åœ¨CockpitæœåŠ¡å¯åŠ¨åï¼Œæ‰“å¼€ç³»ç»Ÿè‡ªå¸¦çš„æµè§ˆå™¨ï¼Œåœ¨åœ°å€æ ä¸­è¾“å…¥â€œæœ¬æœºåœ°å€:9090â€å³å¯è®¿é—®ã€‚ç”±äºè®¿é—®Cockpitçš„æµé‡ä¼šä½¿ç”¨HTTPSè¿›è¡ŒåŠ å¯†ï¼Œè€Œè¯ä¹¦åˆæ˜¯åœ¨æœ¬åœ°ç­¾å‘çš„ï¼Œå› æ­¤è¿˜éœ€è¦è¿›è¡Œæ·»åŠ å¹¶ä¿¡ä»»æœ¬åœ°è¯ä¹¦çš„æ“ä½œã€‚\næ·»åŠ é¢å¤–å…è®¸çš„è¯ä¹¦ï¼š\nç¡®è®¤ä¿¡ä»»æœ¬åœ°è¯ä¹¦ï¼š\nè¿›å…¥Cockpitçš„ç™»å½•ç•Œé¢åï¼Œè¾“å…¥rootç®¡ç†å‘˜çš„è´¦å·ä¸ç³»ç»Ÿå¯†ç ï¼Œå•å‡»Log InæŒ‰é’®åå³å¯è¿›å…¥ï¼š\nè¿›å…¥Cockpitçš„Webç•Œé¢ï¼Œå‘ç°é‡Œé¢å¯è°“â€œåˆ«æœ‰æ´å¤©â€ã€‚Cockpitæ€»å…±åˆ†ä¸º13ä¸ªåŠŸèƒ½æ¨¡å—ï¼šç³»ç»ŸçŠ¶æ€ï¼ˆSystemï¼‰ã€æ—¥å¿—ä¿¡æ¯ï¼ˆLogsï¼‰ã€ç¡¬ç›˜å­˜å‚¨ï¼ˆStorageï¼‰ã€ç½‘å¡ç½‘ç»œï¼ˆNetworkingï¼‰ã€è´¦æˆ·å®‰å…¨ï¼ˆAccountsï¼‰ã€æœåŠ¡ç¨‹åºï¼ˆServicesï¼‰ã€è½¯ä»¶ä»“åº“ï¼ˆApplicationsï¼‰ã€æŠ¥å‘Šåˆ†æï¼ˆDiagnostic Reportsï¼‰ã€å†…æ ¸æ’é”™ï¼ˆKernel Dumpï¼‰ã€SElinuxã€æ›´æ–°è½¯ä»¶ï¼ˆSoftware Updatesï¼‰ã€è®¢é˜…æœåŠ¡ï¼ˆSubscriptionsï¼‰ã€ç»ˆç«¯ç•Œé¢ï¼ˆTerminalï¼‰ã€‚ä¸‹é¢é€ä¸€è¿›è¡Œè®²è§£ã€‚\n1ï¼System\nè¿›å…¥Cockpitç•Œé¢åé»˜è®¤æ˜¾ç¤ºçš„ä¾¿æ˜¯Systemï¼ˆç³»ç»Ÿï¼‰ç•Œé¢ï¼Œåœ¨è¯¥ç•Œé¢ä¸­èƒ½å¤Ÿçœ‹åˆ°ç³»ç»Ÿæ¶æ„ã€ç‰ˆæœ¬ã€ä¸»æœºåä¸æ—¶é—´ç­‰ä¿¡æ¯ï¼Œè¿˜èƒ½å¤ŸåŠ¨æ€åœ°å±•ç°å‡ºCPUã€ç¡¬ç›˜ã€å†…å­˜å’Œç½‘ç»œçš„å¤æ‚æƒ…å†µï¼Œè¿™æœ‰ç‚¹ç±»ä¼¼äºWebç‰ˆçš„â€œWinodwsç³»ç»Ÿä»»åŠ¡ç®¡ç†å™¨â€ï¼Œå±å®å¥½ç”¨ã€‚\nç³»ç»ŸçŠ¶æ€ç•Œé¢ï¼š\n2ï¼Logs\nè¿™ä¸ªæ¨¡å—èƒ½å¤Ÿæä¾›ç³»ç»Ÿçš„å…¨éƒ¨æ—¥å¿—ï¼Œä½†æ˜¯åŒå­¦ä»¬å¯èƒ½ä¼šå¥½å¥‡ï¼Œâ€œä¸ºä»€ä¹ˆä¸‹å›¾ä¸­çš„å†…å®¹è¿™ä¹ˆæœ‰é™å‘¢â€ï¼ŸåŸå› å‡ºåœ¨å›¾ä¸­çš„ä¸¤ä¸ªé€‰é¡¹ä¸­ï¼šæ—¶é—´å’Œæ—¥å¿—çº§åˆ«ã€‚é€šè¿‡è¿™ä¸¤ä¸ªé€‰é¡¹å¯ä»¥è®©ç”¨æˆ·æ›´å¿«åœ°æ‰¾åˆ°æ‰€éœ€ä¿¡æ¯ï¼Œè€Œä¸æ˜¯åƒ/var/log/messageæ–‡ä»¶é‚£æ ·ä¸€è‚¡è„‘å„¿åœ°éƒ½æŠ›ç»™ç”¨æˆ·ã€‚\næ—¥å¿—ä¿¡æ¯ç•Œé¢ï¼š\n3ï¼Storage\nè¿™ä¸ªåŠŸèƒ½æ¨¡å—æ˜¯åŒå­¦ä»¬æœ€å–œæ¬¢çš„ä¸€ä¸ªæ¨¡å—ï¼ŒåŸå› ä¸æ˜¯è¿™ä¸ªæ¨¡å—æ˜¾ç¤ºäº†ç¡¬ç›˜çš„I/Oè¯»å†™è´Ÿè½½æƒ…å†µï¼Œè€Œæ˜¯å¯ä»¥è®©ç”¨æˆ·é€šè¿‡è¯¥ç•Œé¢ï¼Œç”¨é¼ æ ‡åˆ›å»ºå‡ºRAIDã€LVMã€VDOå’ŒiSCSIç­‰å­˜å‚¨è®¾å¤‡ã€‚æ˜¯çš„ï¼Œæ‚¨æ²¡æœ‰çœ‹é”™ï¼ŒRAIDå’ŒLVMéƒ½å¯ä»¥ç”¨é¼ æ ‡è¿›è¡Œåˆ›å»ºäº†ï¼Œæ˜¯ä¸æ˜¯å¾ˆå¼€å¿ƒå‘¢ï¼Ÿ\nç¡¬ç›˜å­˜å‚¨ç•Œé¢ï¼š\n4ï¼Networking\næ—¢ç„¶åä¸ºNetworkingæ¨¡å—ï¼Œé‚£ä¹ˆåŠ¨æ€çœ‹ç½‘å¡çš„è¾“å‡ºå’Œæ¥æ”¶å€¼è‚¯å®šæ˜¯è¿™ä¸ªæ¨¡å—çš„æ ‡é…åŠŸèƒ½äº†ã€‚æˆ‘ä»¬ä¸ä»…å¯ä»¥åœ¨è¿™é‡Œè¿›è¡Œç½‘å¡çš„ç»‘å®šï¼ˆBondingï¼‰å’Œèšåˆï¼ˆTeamï¼‰ï¼Œè¿˜å¯ä»¥åˆ›å»ºæ¡¥æ¥ç½‘å¡åŠæ·»åŠ VLANã€‚æœ€ä¸‹æ–¹ä¼šå•ç‹¬åˆ—å‡ºä¸ç½‘å¡ç›¸å…³çš„æ—¥å¿—ä¿¡æ¯ã€‚\nç½‘å¡ç½‘ç»œç•Œé¢ï¼š\n**5ï¼**Accounts\nå¤§å®¶åƒä¸‡åˆ«å°çœ‹Accountsæ¨¡å—ï¼Œè™½ç„¶å®ƒçš„è´¦æˆ·å®‰å…¨ç•Œé¢æœ‰äº›ç®€é™‹ï¼Œåªæœ‰ä¸€ä¸ªç”¨äºåˆ›å»ºè´¦æˆ·çš„æŒ‰é’®ï¼Œä½†åªè¦ç‚¹å‡»è¿›å…¥æŸä¸ªç”¨æˆ·çš„ç®¡ç†ç•Œé¢ä¸­ï¼Œé©¬ä¸Šä¼šå‘ç°â€œåˆ«æœ‰æ´å¤©â€â€”â€”è´¦æˆ·ç®¡ç†ç•Œé¢ï¼Œè¿™ä¸ªç•Œé¢ä¸­çš„åŠŸèƒ½éå¸¸ä¸°å¯Œï¼Œæˆ‘ä»¬åœ¨è¿™é‡Œå¯ä»¥å¯¹ç”¨æˆ·è¿›è¡Œé‡å‘½åï¼Œè®¾ç½®ç”¨æˆ·çš„æƒé™ï¼Œè¿˜å¯ä»¥é”å®šã€ä¿®æ”¹å¯†ç ä»¥åŠåˆ›å»ºSSHå¯†é’¥ä¿¡æ¯ã€‚\nè´¦æˆ·å®‰å…¨ç•Œé¢ï¼š\nè´¦æˆ·ç®¡ç†ç•Œé¢ï¼š\n6ï¼Services\nåœ¨ServicesåŠŸèƒ½æ¨¡å—çš„ç•Œé¢ä¸­ï¼Œå¯ä»¥æŸ¥çœ‹ç³»ç»Ÿä¸­å·²æœ‰çš„æœåŠ¡åˆ—è¡¨å’Œè¿è¡ŒçŠ¶æ€ã€‚å•å‡»æŸä¸€æœåŠ¡ï¼Œè¿›å…¥è¯¥æœåŠ¡çš„ç®¡ç†ç•Œé¢åï¼Œå¯ä»¥å¯¹å…·ä½“çš„æœåŠ¡è¿›è¡Œå¼€å¯ã€å…³é—­æ“ä½œã€‚åœ¨ServicesåŠŸèƒ½æ¨¡å—ä¸­è®¾ç½®äº†æœåŠ¡å¹¶å°†å…¶åŠ å…¥åˆ°å¼€æœºå¯åŠ¨é¡¹åï¼Œåœ¨ç³»ç»Ÿé‡å¯åä¹Ÿä¾ç„¶ä¼šä¸ºç”¨æˆ·æä¾›æœåŠ¡ã€‚\næœåŠ¡ç¨‹åºç•Œé¢ï¼š\næœåŠ¡ç®¡ç†ç•Œé¢ï¼š\n7ï¼Applications\nåæœŸé‡‡ç”¨Cockpitæˆ–çº¢å¸½è®¢é˜…æœåŠ¡å®‰è£…çš„è½¯ä»¶éƒ½ä¼šæ˜¾ç¤ºåœ¨è¿™ä¸ªåŠŸèƒ½æ¨¡å—ä¸­ã€‚\nè½¯ä»¶ä»“åº“ç•Œé¢ï¼š\n8ï¼Diagnostic Report\nDiagnostic Reportæ¨¡å—çš„åŠŸèƒ½æ˜¯å¸®åŠ©ç”¨æˆ·æ”¶é›†åŠåˆ†æç³»ç»Ÿçš„ä¿¡æ¯ï¼Œæ‰¾åˆ°ç³»ç»Ÿå‡ºç°é—®é¢˜çš„åŸå› ã€‚å•å‡»Create ReportæŒ‰é’®åå¤§çº¦ä¸¤åˆ†é’Ÿå·¦å³ï¼Œä¼šå‡ºç°æŠ¥å‘Šç”Ÿæˆå®Œæ¯•çš„å¼¹çª—ã€‚å¥½å§ï¼Œæ‘Šç‰Œäº†ï¼Œè¿™ä¸ªåŠŸèƒ½å…¶å®å¾ˆé¸¡è‚‹ï¼Œå°±æ˜¯å°†sosreportå‘½ä»¤åšæˆäº†ä¸€ä¸ªç½‘é¡µæŒ‰é’®ã€‚\næŠ¥å‘Šåˆ†æç•Œé¢ï¼š\næŠ¥å‘Šç”Ÿæˆå®Œæ¯•ï¼š\n9ï¼Kernel Dump\nKernel Dumpï¼ˆKdumpï¼‰æ˜¯ä¸€ä¸ªåœ¨ç³»ç»Ÿå´©æºƒã€æ­»é”æˆ–æ­»æœºæ—¶ç”¨æ¥æ”¶é›†å†…æ ¸å‚æ•°çš„ä¸€ä¸ªæœåŠ¡ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå¦‚æœæœ‰ä¸€å¤©ç³»ç»Ÿå´©æºƒäº†ï¼Œè¿™æ—¶KdumpæœåŠ¡å°±ä¼šå¼€å§‹å·¥ä½œï¼Œå°†ç³»ç»Ÿçš„è¿è¡ŒçŠ¶æ€å’Œå†…æ ¸æ•°æ®æ”¶é›†åˆ°ä¸€ä¸ªåä¸ºdump coreçš„æ–‡ä»¶ä¸­ï¼Œä»¥ä¾¿åç»­è®©è¿ç»´äººå‘˜åˆ†æå¹¶æ‰¾å‡ºé—®é¢˜æ‰€åœ¨ã€‚ç”±äºæˆ‘ä»¬åœ¨å®‰è£…ç³»ç»Ÿæ—¶æ²¡æœ‰å¯åŠ¨è¯¥æœåŠ¡ï¼Œæ‰€ä»¥å¯ä»¥ç­‰åˆ°åç»­ä½¿ç”¨æ—¶å†å¼€å¯è¯¥åŠŸèƒ½ç•Œé¢ã€‚\nå†…æ ¸æ’é”™ç•Œé¢ï¼š\n10ï¼SElinux\nä¸‹å›¾æ‰€ç¤ºä¸ºSELinuxæœåŠ¡çš„æ§åˆ¶æŒ‰é’®å’Œè­¦å‘Šä¿¡æ¯ç•Œé¢ã€‚\nSElinuxç®¡ç†ç•Œé¢ï¼š\n11ï¼Software Updates\nè¿™é‡Œæåˆ°çš„Software Updateså¹¶ä¸æ˜¯æˆ‘ä»¬ç”¨æ¥æ›´æ–°å…¶ä»–å¸¸è§„è½¯ä»¶çš„ä¸€ä¸ªç•Œé¢ï¼Œè€Œæ˜¯ç”¨æ¥å¯¹çº¢å¸½å®¢æˆ·è®¢é˜…çš„æœåŠ¡è¿›è¡Œæ›´æ–°çš„ç•Œé¢ã€‚ç”¨æˆ·åªæœ‰åœ¨è´­ä¹°äº†çº¢å¸½ç¬¬ä¸‰æ–¹æœåŠ¡åæ‰èƒ½ä½¿ç”¨è¿™é‡Œé¢çš„åŠŸèƒ½ã€‚åœ¨è´­ä¹°äº†çº¢å¸½è®¢é˜…æœåŠ¡åï¼Œç”¨æˆ·ä¾¿å¯ä»¥åœ¨è¿™é‡Œä¸‹è½½åˆ°ç›¸åº”æœåŠ¡ç¨‹åºçš„æœ€æ–°ç‰ˆæœ¬å’Œç¨³å®šç‰ˆæœ¬ã€‚\næ›´æ–°è½¯ä»¶ç•Œé¢ï¼š\n12ï¼Subscriptions\nè¿™é‡Œä¾ç„¶æ˜¯ä¸€åˆ™çº¢å¸½å…¬å¸çš„â€œå°å¹¿å‘Šâ€â€”å¦‚æœæƒ³æˆä¸ºå°Šè´µçš„çº¢å¸½æœåŠ¡ç”¨æˆ·ï¼Œè¦ä»˜è´¹è´­ä¹°è®¢é˜…æœåŠ¡ã€‚ä¸ªäººç”¨æˆ·æ— é¡»è´­ä¹°ï¼Œè€Œä¸”è¿™å¯¹æˆ‘ä»¬çš„åç»­å®éªŒæ²¡æœ‰ä»»ä½•å½±å“ã€‚\nè®¢é˜…æœåŠ¡ç•Œé¢ï¼š\n12ï¼Terminal\nå‹è½´çš„æ€»æ˜¯åœ¨æœ€åã€‚CockpitæœåŠ¡æä¾›äº†Shellç»ˆç«¯çš„åœ¨çº¿æ§åˆ¶å¹³å°ï¼Œå¯æ–¹ä¾¿ç”¨æˆ·é€šè¿‡ç½‘é¡µä¸Šçš„ç»ˆç«¯åŠŸèƒ½ç®¡ç†æœåŠ¡å™¨ã€‚è¿™ä¸ªåŠŸèƒ½æ·±å—è¿ç»´äººå‘˜å–œçˆ±ã€‚\nç»ˆç«¯ç®¡ç†ç•Œé¢\nè‡³æ­¤ï¼Œç›¸ä¿¡å„ä½è¯»è€…å·²ç»å……åˆ†æŒæ¡äº†é˜²ç«å¢™çš„ç®¡ç†èƒ½åŠ›ã€‚é˜²ç«å¢™ç®¡ç†å·¥å…·æœ‰å¾ˆå¤šç§ï¼Œæˆ‘ä»¬ä»»é€‰å…¶ä¸€å³å¯ã€‚åœ¨é…ç½®åç»­çš„æœåŠ¡å‰ï¼Œå¤§å®¶è¦è®°å¾—æ£€æŸ¥ç½‘ç»œå’Œé˜²ç«å¢™çš„çŠ¶æ€ï¼Œä»¥é¿å…å‡ºç°æœåŠ¡æ˜æ˜é…ç½®æ­£ç¡®ï¼Œä½†æ— æ³•ä»å¤–éƒ¨è®¿é—®çš„æƒ…å†µï¼Œæœ€ç»ˆå½±å“å®éªŒæ•ˆæœã€‚\nåœ¨ Ubuntu ä¸Šä½¿ç”¨ UFW\u0026amp;GUFW Ubuntu 20.04 éšé™„äº†ä¸€ä¸ªç§°ä¸ºUFWï¼ˆéå¤æ‚é˜²ç«å¢™ï¼‰çš„é˜²ç«å¢™é…ç½®å·¥å…·ã€‚ å®ƒæ˜¯ç”¨äºç®¡ç†iptablesé˜²ç«å¢™è§„åˆ™çš„ç”¨æˆ·å‹å¥½å‹å‰ç«¯ã€‚ å®ƒçš„ä¸»è¦ç›®æ ‡æ˜¯ä½¿é˜²ç«å¢™çš„ç®¡ç†å˜å¾—æ›´å®¹æ˜“ï¼Œæˆ–è€…é¡¾åæ€ä¹‰ï¼Œå˜å¾—ç®€å•ã€‚è€ŒGUFWæ˜¯UFWçš„å›¾å½¢ä»‹é¢ã€‚\næ£€æŸ¥UFWçŠ¶æ€ UFWé»˜è®¤æƒ…å†µä¸‹å¤„äºç¦ç”¨çŠ¶æ€ã€‚ æ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥UFWæœåŠ¡çš„çŠ¶æ€ï¼š\n$ sudo ufw status verbose è¾“å‡ºå°†æ˜¾ç¤ºé˜²ç«å¢™çŠ¶æ€ä¸ºéæ´»åŠ¨ï¼š\nStatus: inactive å¦‚æœUFWå·²æ¿€æ´»ï¼Œåˆ™è¾“å‡ºå°†ç±»ä¼¼äºä»¥ä¸‹å†…å®¹ï¼š\nStatus: active UFWé»˜è®¤ç­–ç•¥ UFWé˜²ç«å¢™çš„é»˜è®¤è¡Œä¸ºæ˜¯é˜»æ­¢æ‰€æœ‰ä¼ å…¥å’Œè½¬å‘æµé‡ï¼Œå¹¶å…è®¸æ‰€æœ‰å‡ºç«™æµé‡ã€‚ è¿™æ„å‘³ç€é™¤éæ‚¨ä¸“é—¨æ‰“å¼€ç«¯å£ï¼Œå¦åˆ™ä»»ä½•å°è¯•è®¿é—®æ‚¨çš„æœåŠ¡å™¨çš„äººéƒ½å°†æ— æ³•è¿æ¥ã€‚ æœåŠ¡å™¨ä¸Šè¿è¡Œçš„åº”ç”¨ç¨‹åºå’ŒæœåŠ¡å°†å¯ä»¥è®¿é—®å¤–ç•Œã€‚\né»˜è®¤ç­–ç•¥åœ¨/etc/default/ufwæ–‡ä»¶ä¸­å®šä¹‰ï¼Œå¯ä»¥é€šè¿‡æ‰‹åŠ¨ä¿®æ”¹æ–‡ä»¶æˆ–ä½¿ç”¨sudo ufw default \u0026lt;policy\u0026gt; \u0026lt;chain\u0026gt;å‘½ä»¤æ¥æ›´æ”¹ã€‚\né˜²ç«å¢™ç­–ç•¥æ˜¯å»ºç«‹æ›´å¤æ‚å’Œç”¨æˆ·å®šä¹‰çš„è§„åˆ™çš„åŸºç¡€ã€‚ é€šå¸¸ï¼Œæœ€åˆçš„UFWé»˜è®¤ç­–ç•¥æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„èµ·ç‚¹ã€‚\nåº”ç”¨é…ç½®æ–‡ä»¶ åº”ç”¨ç¨‹åºé…ç½®æ–‡ä»¶æ˜¯INIæ ¼å¼çš„æ–‡æœ¬æ–‡ä»¶ï¼Œæè¿°äº†æœåŠ¡å¹¶åŒ…å«è¯¥æœåŠ¡çš„é˜²ç«å¢™è§„åˆ™ã€‚ åœ¨å®‰è£…è½¯ä»¶åŒ…æœŸé—´ï¼Œä¼šåœ¨/etc/ufw/applications.dç›®å½•ä¸­åˆ›å»ºåº”ç”¨ç¨‹åºé…ç½®æ–‡ä»¶ã€‚\næ‚¨å¯ä»¥é€šè¿‡é”®å…¥ä»¥ä¸‹å†…å®¹åˆ—å‡ºæœåŠ¡å™¨ä¸Šæ‰€æœ‰å¯ç”¨çš„åº”ç”¨ç¨‹åºé…ç½®æ–‡ä»¶ï¼š\n$ sudo ufw app list Available applications: Nginx Full Nginx HTTP Nginx HTTPS OpenSSH è¦æŸ¥æ‰¾æœ‰å…³ç‰¹å®šé…ç½®æ–‡ä»¶å’ŒåŒ…å«çš„è§„åˆ™çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\n$ sudo ufw app info \u0026#39;Nginx Full\u0026#39; Profile: Nginx Full Title: Web Server (Nginx, HTTP + HTTPS) Description: Small, but very powerful and efficient web server Ports: 80,443/tcp è¾“å‡ºæ˜¾ç¤ºâ€œ Nginx Fullâ€é…ç½®æ–‡ä»¶æ‰“å¼€äº†ç«¯å£80å’Œ443ã€‚\næ‚¨ä¹Ÿå¯ä»¥ä¸ºåº”ç”¨åˆ›å»ºè‡ªå®šä¹‰é…ç½®æ–‡ä»¶ã€‚\nå¯ç”¨UFW å¦‚æœè¦ä»è¿œç¨‹ä½ç½®è¿æ¥åˆ°Ubuntuï¼Œåˆ™åœ¨å¯ç”¨UFWé˜²ç«å¢™ä¹‹å‰ï¼Œå¿…é¡»æ˜ç¡®å…è®¸ä¼ å…¥çš„SSHè¿æ¥ã€‚ å¦åˆ™ï¼Œæ‚¨å°†æ— æ³•è¿æ¥åˆ°è®¡ç®—æœºã€‚\nè¦å°†æ‚¨çš„UFWé˜²ç«å¢™é…ç½®ä¸ºå…è®¸ä¼ å…¥çš„SSHè¿æ¥ï¼Œè¯·é”®å…¥ä»¥ä¸‹å‘½ä»¤ï¼š\n$ sudo ufw allow ssh Rules updated Rules updated (v6) å¦‚æœSSHåœ¨éæ ‡å‡†ç«¯å£ä¸Šè¿è¡Œï¼Œåˆ™éœ€è¦æ‰“å¼€è¯¥ç«¯å£ã€‚\nä¾‹å¦‚ï¼Œå¦‚æœæ‚¨çš„sshå®ˆæŠ¤ç¨‹åºä¾¦å¬ç«¯å£7722ï¼Œè¯·è¾“å…¥ä»¥ä¸‹å‘½ä»¤ä»¥å…è®¸è¯¥ç«¯å£ä¸Šçš„è¿æ¥ï¼š\n$ sudo ufw allow 7722/tcp ç°åœ¨å·²å°†é˜²ç«å¢™é…ç½®ä¸ºå…è®¸ä¼ å…¥çš„SSHè¿æ¥ï¼Œæ‚¨å¯ä»¥é€šè¿‡é”®å…¥ä»¥ä¸‹å†…å®¹æ¥å¯ç”¨å®ƒï¼š\n$ sudo ufw enable Command may disrupt existing ssh connections. Proceed with operation (y|n)? y Firewall is active and enabled on system startup å°†è­¦å‘Šæ‚¨å¯ç”¨é˜²ç«å¢™å¯èƒ½ä¼šç ´åç°æœ‰çš„sshè¿æ¥ï¼Œåªéœ€é”®å…¥yå¹¶å•å‡»Enterã€‚\næ‰“å¼€ç«¯å£ æ ¹æ®ç³»ç»Ÿä¸Šè¿è¡Œçš„åº”ç”¨ç¨‹åºï¼Œæ‚¨å¯èƒ½è¿˜éœ€è¦æ‰“å¼€å…¶ä»–ç«¯å£ã€‚ æ‰“å¼€ç«¯å£çš„ä¸€èˆ¬è¯­æ³•å¦‚ä¸‹ï¼š\n$ ufw allow port_number/protocol ä»¥ä¸‹æ˜¯æœ‰å…³å¦‚ä½•å…è®¸HTTPè¿æ¥çš„å‡ ç§æ–¹æ³•ã€‚\nç¬¬ä¸€ç§é€‰æ‹©æ˜¯ä½¿ç”¨æœåŠ¡åç§°ã€‚ UFWæ£€æŸ¥/etc/servicesæ–‡ä»¶ä¸­æŒ‡å®šæœåŠ¡çš„ç«¯å£å’Œåè®®ï¼š\n$ sudo ufw allow http æ‚¨è¿˜å¯ä»¥æŒ‡å®šç«¯å£å·å’Œåè®®ï¼š\n$ sudo ufw allow 80/tcp å¦‚æœæœªç»™å‡ºåè®®ï¼Œåˆ™UFWä¼šåŒæ—¶ä¸ºtcpå’Œudpåˆ›å»ºè§„åˆ™ã€‚\nå¦ä¸€ä¸ªé€‰æ‹©æ˜¯ä½¿ç”¨åº”ç”¨ç¨‹åºé…ç½®æ–‡ä»¶ï¼› åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œâ€œ Nginx HTTPâ€ï¼š\n$ sudo ufw allow \u0026#39;Nginx HTTP\u0026#39; UFWè¿˜æ”¯æŒä½¿ç”¨protoå…³é”®å­—æŒ‡å®šåè®®çš„å¦ä¸€ç§è¯­æ³•ï¼š\n$ sudo ufw allow proto tcp to any port 80 ç«¯å£èŒƒå›´\nUFWè¿˜å…è®¸æ‚¨æ‰“å¼€ç«¯å£èŒƒå›´ã€‚ èµ·å§‹ç«¯å£å’Œç»“æŸç«¯å£ç”¨å†’å·ï¼ˆ:ï¼‰åˆ†éš”ï¼Œå¹¶ä¸”æ‚¨å¿…é¡»æŒ‡å®šåè®®tcpæˆ–udpã€‚\nä¾‹å¦‚ï¼Œå¦‚æœè¦åŒæ—¶åœ¨tcpå’Œudpä¸Šå…è®¸ç«¯å£ä»7100åˆ°7200ï¼Œåˆ™å¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š\n$ sudo ufw allow 7100:7200/tcp ç‰¹å®šçš„IPåœ°å€å’Œç«¯å£\nè¦å…è®¸æ¥è‡ªç»™å®šæºIPçš„æ‰€æœ‰ç«¯å£ä¸Šçš„è¿æ¥ï¼Œè¯·ä½¿ç”¨fromå…³é”®å­—ï¼Œåè·Ÿæºåœ°å€ã€‚\nä»¥ä¸‹æ˜¯å°†IPåœ°å€åˆ—å…¥ç™½åå•çš„ç¤ºä¾‹ï¼š\n$ sudo ufw allow from 64.63.62.61 å¦‚æœè¦ä»…å…è®¸ç»™å®šIPåœ°å€è®¿é—®ç‰¹å®šç«¯å£ï¼Œè¯·ä½¿ç”¨to any portå…³é”®å­—ï¼Œåè·Ÿç«¯å£å·ã€‚\nä¾‹å¦‚ï¼Œè¦å…è®¸IPåœ°å€ä¸º64.63.62.61çš„è®¡ç®—æœºè®¿é—®ç«¯å£22ï¼Œè¯·è¾“å…¥ï¼š\n$ sudo ufw allow from 64.63.62.61 to any port 22 å­ç½‘\nå…è®¸è¿æ¥åˆ°IPåœ°å€å­ç½‘çš„è¯­æ³•ä¸ä½¿ç”¨å•ä¸ªIPåœ°å€æ—¶çš„è¯­æ³•ç›¸åŒã€‚ å”¯ä¸€çš„åŒºåˆ«æ˜¯æ‚¨éœ€è¦æŒ‡å®šå­ç½‘æ©ç ã€‚\nä¸‹é¢æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œæ˜¾ç¤ºäº†å¦‚ä½•å…è®¸è®¿é—®ä»192.168.1.1åˆ°192.168.1.254çš„IPåœ°å€åˆ°ç«¯å£3360ï¼ˆMySQL ï¼‰ï¼š\n$ sudo ufw allow from 192.168.1.0/24 to any port 3306 ç‰¹å®šç½‘ç»œæ¥å£\nè¦å…è®¸åœ¨ç‰¹å®šçš„ç½‘ç»œæ¥å£ä¸Šè¿›è¡Œè¿æ¥ï¼Œè¯·ä½¿ç”¨in onå…³é”®å­—ï¼Œåè·Ÿç½‘ç»œæ¥å£(ç½‘å¡)çš„åç§°ï¼š\n$ sudo ufw allow in on eth2 to any port 3306 æ‹’ç»è¿æ¥ æ‰€æœ‰ä¼ å…¥è¿æ¥çš„é»˜è®¤ç­–ç•¥å‡è®¾ç½®ä¸ºdenyï¼Œå¦‚æœæ‚¨æœªæ›´æ”¹é»˜è®¤ç­–ç•¥ï¼Œé™¤éæ‚¨ä¸“é—¨æ‰“å¼€è¿æ¥ï¼Œå¦åˆ™UFWä¼šé˜»æ­¢æ‰€æœ‰ä¼ å…¥è¿æ¥ã€‚\næ’°å†™æ‹’ç»è§„åˆ™ä¸æ’°å†™å…è®¸è§„åˆ™ç›¸åŒï¼› æ‚¨åªéœ€è¦ä½¿ç”¨denyå…³é”®å­—è€Œä¸æ˜¯allowã€‚\nå‡è®¾æ‚¨æ‰“å¼€äº†ç«¯å£80å’Œ443ï¼Œå¹¶ä¸”æœåŠ¡å™¨å—åˆ°23.24.25.0/24ç½‘ç»œçš„æ”»å‡»ã€‚ è¦æ‹’ç»æ¥è‡ª23.24.25.0/24çš„æ‰€æœ‰è¿æ¥ï¼Œæ‚¨å¯ä»¥è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š\n$ sudo ufw deny from 23.24.25.0/24 ä»¥ä¸‹æ˜¯æ‹’ç»è®¿é—®23.24.25.0/24ä¸­çš„ç«¯å£80å’Œ443çš„ç¤ºä¾‹ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\n$ sudo ufw deny proto tcp from 23.24.25.0/24 to any port 80,443 åˆ é™¤UFWè§„åˆ™ æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥é€šè¿‡è§„åˆ™ç¼–å·å’ŒæŒ‡å®šå®é™…è§„åˆ™æ¥åˆ é™¤UFWè§„åˆ™ã€‚\næŒ‰è§„åˆ™å·åˆ é™¤è§„åˆ™æ¯”è¾ƒå®¹æ˜“ï¼Œå°¤å…¶æ˜¯å½“æ‚¨ä¸ç†Ÿæ‚‰UFWæ—¶ã€‚ è¦é¦–å…ˆé€šè¿‡è§„åˆ™ç¼–å·åˆ é™¤è§„åˆ™ï¼Œæ‚¨éœ€è¦æ‰¾åˆ°è¦åˆ é™¤çš„è§„åˆ™çš„ç¼–å·ã€‚ è¦è·å–ç¼–å·è§„åˆ™çš„åˆ—è¡¨ï¼Œè¯·ä½¿ç”¨ufw status numberedå‘½ä»¤ï¼š\n$ sudo ufw status numbered Status: active To Action From -- ------ ---- [ 1] 22/tcp ALLOW IN Anywhere [ 2] 80/tcp ALLOW IN Anywhere [ 3] 8080/tcp ALLOW IN Anywhere è¦åˆ é™¤è§„åˆ™å·3ï¼Œè¯¥è§„åˆ™å·å…è®¸è¿æ¥åˆ°ç«¯å£8080ï¼Œè¯·è¾“å…¥ï¼š\n$ sudo ufw delete 3 ç¬¬äºŒç§æ–¹æ³•æ˜¯é€šè¿‡æŒ‡å®šå®é™…è§„åˆ™æ¥åˆ é™¤è§„åˆ™ã€‚ ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æ·»åŠ äº†æ‰“å¼€ç«¯å£8069çš„è§„åˆ™ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å°†å…¶åˆ é™¤ï¼š\n$ sudo ufw delete allow 8069 ç¦ç”¨UFW å¦‚æœå‡ºäºä»»ä½•åŸå› è¦åœæ­¢UFWå¹¶åœç”¨æ‰€æœ‰è§„åˆ™ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ï¼š\n$ sudo ufw disable ä»¥åï¼Œå¦‚æœæ‚¨æƒ³é‡æ–°å¯ç”¨UTFå¹¶æ¿€æ´»æ‰€æœ‰è§„åˆ™ï¼Œåªéœ€é”®å…¥ï¼š\n$ sudo ufw enable é‡è®¾UFW é‡ç½®UFWå°†ç¦ç”¨UFWï¼Œå¹¶åˆ é™¤æ‰€æœ‰æ´»åŠ¨è§„åˆ™ã€‚ å¦‚æœæ‚¨æƒ³è¿˜åŸæ‰€æœ‰æ›´æ”¹å¹¶é‡æ–°å¼€å§‹ï¼Œè¿™å°†å¾ˆæœ‰å¸®åŠ©ã€‚\nè¦é‡ç½®UFWï¼Œè¯·è¾“å…¥ä»¥ä¸‹å‘½ä»¤ï¼š\n$ sudo ufw reset IPä¼ªè£… IPä¼ªè£…æ˜¯Linuxå†…æ ¸ä¸­NATï¼ˆç½‘ç»œåœ°å€è½¬æ¢ï¼‰çš„ä¸€ç§å˜ä½“ï¼Œå®ƒé€šè¿‡é‡å†™æºIPåœ°å€å’Œç›®æ ‡IPåœ°å€å’Œç«¯å£æ¥è½¬æ¢ç½‘ç»œæµé‡ã€‚ å€ŸåŠ©IPä¼ªè£…ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ä¸€å°å……å½“ç½‘å…³çš„Linuxè®¡ç®—æœºï¼Œå…è®¸ä¸“ç”¨ç½‘ç»œä¸­çš„ä¸€å°æˆ–å¤šå°è®¡ç®—æœºä¸Interneté€šä¿¡ã€‚\nä½¿ç”¨UFWé…ç½®IPä¼ªè£…æ¶‰åŠå‡ ä¸ªæ­¥éª¤ã€‚\né¦–å…ˆï¼Œæ‚¨éœ€è¦å¯ç”¨IPè½¬å‘ã€‚ ä¸ºæ­¤ï¼Œè¯·æ‰“å¼€/etc/ufw/sysctl.confæ–‡ä»¶ï¼ŒæŸ¥æ‰¾å¹¶å–æ¶ˆæ³¨é‡Šä»¥ä¸‹è¡Œï¼šnet.ipv4.ip_forward = 1ï¼š\n$ sudo nano /etc/ufw/sysctl.conf net/ipv4/ip_forward=1 æ¥ä¸‹æ¥ï¼Œæ‚¨éœ€è¦é…ç½®UFWä»¥å…è®¸è½¬å‘æ•°æ®åŒ…ã€‚ æ‰“å¼€UFWé…ç½®æ–‡ä»¶ï¼Œæ‰¾åˆ°DEFAULT_FORWARD_POLICYé”®ï¼Œç„¶åå°†å€¼ä»DROPæ›´æ”¹ä¸ºACCEPTï¼š\n$ sudo nano /etc/default/ufw DEFAULT_FORWARD_POLICY=\u0026#34;ACCEPT\u0026#34; ç°åœ¨ï¼Œæ‚¨éœ€è¦åœ¨natè¡¨ä¸­è®¾ç½®POSTROUTINGé“¾çš„é»˜è®¤ç­–ç•¥å’Œä¼ªè£…è§„åˆ™ã€‚ ä¸ºæ­¤ï¼Œè¯·æ‰“å¼€/etc/ufw/before.rulesæ–‡ä»¶ï¼Œé™„åŠ ä»¥ä¸‹å‡ è¡Œï¼š\n$ sudo nano /etc/ufw/before.rules #NAT table rules *nat :POSTROUTING ACCEPT [0:0] # Forward traffic through eth0 - Change to public network interface -A POSTROUTING -s 10.8.0.0/16 -o eth0 -j MASQUERADE # don\u0026#39;t delete the \u0026#39;COMMIT\u0026#39; line or these rules won\u0026#39;t be processed COMMIT åˆ«å¿˜äº†åœ¨-A POSTROUTINGè¡Œä¸­æ›¿æ¢eth0ä»¥åŒ¹é…å…¬å…±ç½‘ç»œæ¥å£çš„åç§°ï¼š\nå®Œæˆåï¼Œä¿å­˜å¹¶å…³é—­æ–‡ä»¶ã€‚\næœ€åï¼Œé€šè¿‡ç¦ç”¨å’Œé‡æ–°å¯ç”¨UFWé‡æ–°åŠ è½½UFWè§„åˆ™ï¼š\n$ sudo ufw disable $ sudo ufw e udev å¦‚æœä½ ä½¿ç”¨Linuxæ¯”è¾ƒé•¿æ—¶é—´äº†ï¼Œé‚£ä½ å°±çŸ¥é“ï¼Œåœ¨å¯¹å¾…è®¾å¤‡æ–‡ä»¶è¿™å—ï¼ŒLinuxæ”¹å˜äº†å‡ æ¬¡ç­–ç•¥ã€‚åœ¨Linuxæ—©æœŸï¼Œè®¾å¤‡æ–‡ä»¶ä»…ä»…æ˜¯æ˜¯ä¸€äº›å¸¦æœ‰é€‚å½“çš„å±æ€§é›†çš„æ™®é€šæ–‡ä»¶ï¼Œå®ƒç”±mknodå‘½ä»¤åˆ›å»ºï¼Œæ–‡ä»¶å­˜æ”¾åœ¨/devç›®å½•ä¸‹ã€‚åæ¥ï¼Œé‡‡ç”¨äº†devfs, ä¸€ä¸ªåŸºäºå†…æ ¸çš„åŠ¨æ€è®¾å¤‡æ–‡ä»¶ç³»ç»Ÿï¼Œä»–é¦–æ¬¡å‡ºç°åœ¨2.3.46å†…æ ¸ä¸­ã€‚Mandrakeï¼ŒGentooç­‰Linuxåˆ†å‘ç‰ˆæœ¬é‡‡ç”¨äº†è¿™ç§æ–¹å¼ã€‚devfsåˆ›å»º çš„è®¾å¤‡æ–‡ä»¶æ˜¯åŠ¨æ€çš„ã€‚ä½†æ˜¯devfsæœ‰ä¸€äº›ä¸¥é‡çš„é™åˆ¶ï¼Œä»2.6.13ç‰ˆæœ¬åç§»èµ°äº†ã€‚ç›®å‰å–ä»£ä»–çš„ä¾¿æ˜¯æ–‡æœ¬è¦æåˆ°çš„udevï¼ï¼ä¸€ä¸ªç”¨æˆ·ç©ºé—´ç¨‹åºã€‚\nç›®å‰å¾ˆå¤šçš„Linuxåˆ†å‘ç‰ˆæœ¬é‡‡çº³äº†udevçš„æ–¹å¼ï¼Œå› ä¸ºå®ƒåœ¨Linuxè®¾å¤‡è®¿é—®ï¼Œç‰¹åˆ«æ˜¯é‚£äº›å¯¹è®¾å¤‡æœ‰æç«¯éœ€æ±‚çš„ç«™ç‚¹(æ¯”å¦‚éœ€è¦æ§åˆ¶ä¸Šåƒä¸ªç¡¬ç›˜)å’Œçƒ­æ’æ‹”è®¾å¤‡(æ¯”å¦‚USBæ‘„åƒå¤´å’ŒMP3æ’­æ”¾å™¨)ä¸Šè§£å†³äº†å‡ ä¸ªé—®é¢˜ã€‚ä¸‹é¢æˆ‘æˆ‘ä»¬æ¥çœ‹çœ‹å¦‚ä½•ç®¡ç†udevè®¾å¤‡ã€‚\nå®é™…ä¸Šï¼Œå¯¹äºé‚£äº›ä¸ºç£ç›˜ï¼Œç»ˆç«¯è®¾å¤‡ç­‰å‡†å¤‡çš„æ ‡å‡†é…ç½®æ–‡ä»¶è€Œè¨€ï¼Œä½ ä¸éœ€è¦ä¿®æ”¹ä»€ä¹ˆã€‚ä½†æ˜¯ï¼Œä½ éœ€è¦äº†è§£udevé…ç½®æ¥ä½¿ç”¨æ–°çš„æˆ–è€…å¤–æ¥è®¾å¤‡ï¼Œå¦‚æœä¸ä¿®æ”¹é…ç½®ï¼Œ è¿™äº›è®¾å¤‡å¯èƒ½æ— æ³•è®¿é—®ï¼Œæˆ–è€…è¯´Linuxå¯èƒ½ä¼šé‡‡ç”¨ä¸æ°å½“çš„åå­—ï¼Œå±ç»„æˆ–æƒé™æ¥åˆ›å»ºè¿™äº›è®¾å¤‡æ–‡ä»¶ã€‚ä½ å¯èƒ½ä¹Ÿæƒ³çŸ¥é“å¦‚ä½•ä¿®æ”¹RSï¼232ä¸²å£ï¼ŒéŸ³é¢‘è®¾å¤‡ç­‰æ–‡ä»¶çš„å±ç»„æˆ–è€…æƒé™ã€‚è¿™ç‚¹åœ¨å®é™…çš„Linuxå®æ–½ä¸­æ˜¯ä¼šé‡åˆ°çš„ã€‚\nä¸ºä»€ä¹ˆä½¿ç”¨udev åœ¨æ­¤ä¹‹å‰çš„è®¾å¤‡æ–‡ä»¶ç®¡ç†æ–¹æ³•(é™æ€æ–‡ä»¶å’Œdevfs)æœ‰å‡ ä¸ªç¼ºç‚¹ï¼š\n ä¸ç¡®å®šçš„è®¾å¤‡æ˜ å°„ã€‚ç‰¹åˆ«æ˜¯é‚£äº›åŠ¨æ€è®¾å¤‡ï¼Œæ¯”å¦‚USBè®¾å¤‡ï¼Œè®¾å¤‡æ–‡ä»¶åˆ°å®é™…è®¾å¤‡çš„æ˜ å°„å¹¶ä¸å¯é å’Œç¡®å®šã€‚ä¸¾ä¸€ä¸ªä¾‹å­ï¼šå¦‚æœä½ æœ‰ä¸¤ä¸ªUSBæ‰“å°æœºã€‚ä¸€ä¸ªå¯èƒ½ç§° ä¸º/dev/usb/lp0,å¦å¤–ä¸€ä¸ªä¾¿æ˜¯/dev/usb/lp1ã€‚ä½†æ˜¯åˆ°åº•å“ªä¸ªæ˜¯å“ªä¸ªå¹¶ä¸æ¸…æ¥šï¼Œlp0,lp1å’Œå®é™…çš„è®¾å¤‡æ²¡æœ‰ä¸€ä¸€å¯¹åº”çš„å…³ç³»ï¼Œå› ä¸º ä»–å¯èƒ½å› ä¸ºå‘ç°è®¾å¤‡çš„é¡ºåºï¼Œæ‰“å°æœºæœ¬èº«å…³é—­ç­‰åŸå› è€Œå¯¼è‡´è¿™ç§æ˜ å°„å¹¶ä¸ç¡®å®šã€‚ç†æƒ³çš„æ–¹å¼åº”è¯¥æ˜¯ï¼šä¸¤ä¸ªæ‰“å°æœºåº”è¯¥é‡‡ç”¨åŸºäºä»–ä»¬çš„åºåˆ—å·æˆ–è€…å…¶ä»–æ ‡è¯†ä¿¡æ¯çš„å”¯ä¸€ è®¾å¤‡æ–‡ä»¶æ¥æ˜ å°„ã€‚ä½†æ˜¯é™æ€æ–‡ä»¶å’Œdevfséƒ½æ— æ³•åšåˆ°è¿™ç‚¹ã€‚ æ²¡æœ‰è¶³å¤Ÿçš„ä¸»/è¾…è®¾å¤‡å·ã€‚æˆ‘ä»¬çŸ¥é“ï¼Œæ¯ä¸€ä¸ªè®¾å¤‡æ–‡ä»¶æ˜¯æœ‰ä¸¤ä¸ª8ä½çš„æ•°å­—ï¼šä¸€ä¸ªæ˜¯ä¸»è®¾å¤‡å· ï¼Œå¦å¤–ä¸€ä¸ªæ˜¯è¾…è®¾å¤‡å·æ¥åˆ†é…çš„ã€‚è¿™ä¸¤ä¸ª8ä½çš„æ•°å­—åŠ ä¸Šè®¾å¤‡ç±»å‹(å—è®¾å¤‡æˆ–è€…å­—ç¬¦è®¾å¤‡)æ¥å”¯ä¸€æ ‡è¯†ä¸€ä¸ªè®¾å¤‡ã€‚ä¸å¹¸çš„æ˜¯ï¼Œå…³è”è¿™äº›èº«è¾¹çš„çš„æ•°å­—å¹¶ä¸è¶³å¤Ÿã€‚ /devç›®å½•ä¸‹æ–‡ä»¶å¤ªå¤šã€‚ä¸€ä¸ªç³»ç»Ÿé‡‡ç”¨é™æ€è®¾å¤‡æ–‡ä»¶å…³è”çš„æ–¹å¼ï¼Œé‚£ä¹ˆè¿™ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶å¿…ç„¶æ˜¯è¶³å¤Ÿå¤šã€‚è€ŒåŒæ—¶ä½ åˆä¸çŸ¥é“åœ¨ä½ çš„ç³»ç»Ÿä¸Šåˆ°åº•æœ‰é‚£äº›è®¾å¤‡æ–‡ä»¶æ˜¯æ¿€æ´»çš„ã€‚ å‘½åä¸å¤Ÿçµæ´»ã€‚å°½ç®¡devfsè§£å†³äº†ä»¥å‰çš„ä¸€äº›é—®é¢˜ï¼Œä½†æ˜¯å®ƒè‡ªèº«åˆå¸¦æ¥äº†ä¸€äº›é—®é¢˜ã€‚å…¶ä¸­ä¸€ä¸ªå°±æ˜¯å‘½åä¸å¤Ÿçµæ´»ï¼›ä½ åˆ«æƒ³éå¸¸ç®€å•çš„å°±èƒ½ä¿®æ”¹è®¾å¤‡æ–‡ä»¶çš„åå­—ã€‚ç¼ºçœçš„devfså‘½ä»¤æœºåˆ¶æœ¬èº«ä¹Ÿå¾ˆå¥‡æ€ªï¼Œä»–éœ€è¦ä¿®æ”¹å¤§é‡çš„é…ç½®æ–‡ä»¶å’Œç¨‹åºã€‚ å†…æ ¸å†…å­˜ä½¿ç”¨ï¼Œdevfsç‰¹æœ‰çš„å¦å¤–ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œä½œä¸ºå†…æ ¸é©±åŠ¨æ¨¡å—ï¼Œdevfséœ€è¦æ¶ˆè€—å¤§é‡çš„å†…å­˜ï¼Œç‰¹åˆ«å½“ç³»ç»Ÿä¸Šæœ‰å¤§é‡çš„è®¾å¤‡æ—¶(æ¯”å¦‚ä¸Šé¢æˆ‘ä»¬æåˆ°çš„ç³»ç»Ÿä¸€ä¸ªä¸Šæœ‰å¥½å‡ åƒç£ç›˜æ—¶)  udevçš„ç›®æ ‡æ˜¯æƒ³è§£å†³ä¸Šé¢æåˆ°çš„è¿™äº›é—®é¢˜ï¼Œä»–é€šé‡‡ç”¨ç”¨æˆ·ç©ºé—´(user-space)å·¥å…·æ¥ç®¡ç†/dev/ç›®å½•æ ‘ï¼Œä»–å’Œæ–‡ä»¶ç³»ç»Ÿåˆ†å¼€ã€‚çŸ¥é“å¦‚ä½•æ”¹å˜ç¼ºçœé…ç½®èƒ½è®©ä½ ä¹‹å¤§å¦‚ä½•å®šåˆ¶è‡ªå·±çš„ç³»ç»Ÿï¼Œæ¯”å¦‚åˆ›å»ºè®¾å¤‡å­—ç¬¦è¿æ¥ï¼Œæ”¹å˜è®¾å¤‡æ–‡ä»¶å±ç»„ï¼Œæƒé™ç­‰ã€‚\nudevé…ç½®æ–‡ä»¶ ä¸»è¦çš„udevé…ç½®æ–‡ä»¶æ˜¯/etc/udev/udev.confã€‚è¿™ä¸ªæ–‡ä»¶é€šå¸¸å¾ˆçŸ­ï¼Œä»–å¯èƒ½åªæ˜¯åŒ…å«å‡ è¡Œ#å¼€å¤´çš„æ³¨é‡Šï¼Œç„¶åæœ‰å‡ è¡Œé€‰é¡¹ï¼š\nudev_root=â€œ/dev/â€ udev_rules=â€œ/etc/udev/rules.d/â€ udev_log=â€œerrâ€œ ä¸Šé¢çš„ç¬¬äºŒè¡Œéå¸¸é‡è¦ï¼Œå› ä¸ºä»–è¡¨ç¤ºudevè§„åˆ™å­˜å‚¨çš„ç›®å½•ï¼Œè¿™ä¸ªç›®å½•å­˜å‚¨çš„æ˜¯ä»¥.rulesç»“æŸçš„æ–‡ä»¶ã€‚æ¯ä¸€ä¸ªæ–‡ä»¶å¤„ç†ä¸€ç³»åˆ—è§„åˆ™æ¥å¸®åŠ©udevåˆ†é…åå­—ç»™è®¾å¤‡æ–‡ä»¶ä»¥ä¿è¯èƒ½è¢«å†…æ ¸è¯†åˆ«ã€‚\nä½ çš„/etc/udev/rules.dä¸‹é¢å¯èƒ½æœ‰å¥½å‡ ä¸ªudevè§„åˆ™æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶ä¸€éƒ¨åˆ†æ˜¯udevåŒ…å®‰è£…çš„ï¼Œå¦å¤–ä¸€éƒ¨åˆ†åˆ™æ˜¯å¯èƒ½æ˜¯åˆ«çš„ç¡¬ä»¶æˆ–è€…è½¯ä»¶åŒ… ç”Ÿæˆçš„ã€‚æ¯”å¦‚åœ¨Fedora Core 5ç³»ç»Ÿä¸Šï¼Œsane-backendsåŒ…å°±ä¼šå®‰è£…60-libsane.rulesæ–‡ä»¶ï¼Œå¦å¤–initscriptsåŒ…ä¼šå®‰è£…60-net.rulesæ–‡ ä»¶ã€‚è¿™äº›è§„åˆ™æ–‡ä»¶çš„æ–‡ä»¶åé€šå¸¸æ˜¯ä¸¤ä¸ªæ•°å­—å¼€å¤´ï¼Œå®ƒè¡¨ç¤ºç³»ç»Ÿåº”ç”¨è¯¥è§„åˆ™çš„é¡ºåºã€‚\nè§„åˆ™æ–‡ä»¶é‡Œçš„è§„åˆ™æœ‰ä¸€ç³»åˆ—çš„é”®/å€¼å¯¹ç»„æˆï¼Œé”®/å€¼å¯¹ä¹‹é—´ç”¨é€—å·(,)åˆ†å‰²ã€‚æ¯ä¸€ä¸ªé”®æˆ–è€…æ˜¯ç”¨æˆ·åŒ¹é…é”®ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªèµ‹å€¼é”®ã€‚åŒ¹é…é”®ç¡®å®šè§„åˆ™æ˜¯å¦è¢«åº”ç”¨ï¼Œè€Œèµ‹ å€¼é”®è¡¨ç¤ºåˆ†é…æŸå€¼ç»™è¯¥é”®ã€‚è¿™äº›å€¼å°†å½±å“udevåˆ›å»ºçš„è®¾å¤‡æ–‡ä»¶ã€‚åŒ¹é…é”®å’Œèµ‹å€¼é”®æ“ä½œç¬¦è§£é‡Šè§ä¸‹è¡¨ï¼š\n   æ“ä½œç¬¦ åŒ¹é…æˆ–èµ‹å€¼ è§£é‡Š     == åŒ¹é… ç›¸ç­‰æ¯”è¾ƒ   != åŒ¹é… ä¸ç­‰æ¯”è¾ƒ   = èµ‹å€¼ åˆ†é…ä¸€ä¸ªç‰¹å®šçš„å€¼ç»™è¯¥é”®ï¼Œä»–å¯ä»¥è¦†ç›–ä¹‹å‰çš„èµ‹å€¼ã€‚   += èµ‹å€¼ è¿½åŠ ç‰¹å®šçš„å€¼ç»™å·²ç»å­˜åœ¨çš„é”®   := èµ‹å€¼ åˆ†é…ä¸€ä¸ªç‰¹å®šçš„å€¼ç»™è¯¥é”®ï¼Œåé¢çš„è§„åˆ™ä¸å¯èƒ½è¦†ç›–å®ƒã€‚    è¿™æœ‰ç‚¹ç±»ä¼¼æˆ‘ä»¬å¸¸è§çš„ç¼–ç¨‹è¯­è¨€ï¼Œæ¯”å¦‚Cè¯­è¨€ã€‚åªæ˜¯è¿™é‡Œçš„é”®ä¸€æ¬¡å¯ä»¥å¤„ç†å¤šä¸ªå€¼ã€‚æœ‰ä¸€äº›é”®åœ¨udevè§„åˆ™æ–‡ä»¶é‡Œç»å¸¸å‡ºç°ï¼Œè¿™äº›é”®çš„å€¼å¯ä»¥ä½¿ç”¨é€šé…ç¬¦(*,?,ç”šè‡³èŒƒå›´ï¼Œæ¯”å¦‚[0-9])ï¼Œè¿™äº›å¸¸ç”¨é”®åˆ—ä¸¾å¦‚ä¸‹ï¼š\n   é”® å«ä¹‰     ACTION ä¸€ä¸ªæ—¶é—´æ´»åŠ¨çš„åå­—ï¼Œæ¯”å¦‚addï¼Œå½“è®¾å¤‡å¢åŠ çš„æ—¶å€™   KERNEL åœ¨å†…æ ¸é‡Œçœ‹åˆ°çš„è®¾å¤‡åå­—ï¼Œæ¯”å¦‚sd*è¡¨ç¤ºä»»æ„SCSIç£ç›˜è®¾å¤‡   DEVPATH å†…æ ¸è®¾å¤‡è·¯å¾„ï¼Œæ¯”å¦‚/devices/*   SUBSYSTEM å­ç³»ç»Ÿåå­—ï¼Œæ¯”å¦‚sound,net   BUS æ€»çº¿çš„åå­—ï¼Œæ¯”å¦‚IDE,USB   DRIVER è®¾å¤‡é©±åŠ¨çš„åå­—ï¼Œæ¯”å¦‚ide-cdromID ç‹¬ç«‹äºå†…æ ¸åå­—çš„è®¾å¤‡åå­—   SYSFS{ value} sysfså±æ€§å€¼ï¼Œä»–å¯ä»¥è¡¨ç¤ºä»»æ„   ENV{ key} ç¯å¢ƒå˜é‡ï¼Œå¯ä»¥è¡¨ç¤ºä»»æ„   PROGRAM å¯æ‰§è¡Œçš„å¤–éƒ¨ç¨‹åºï¼Œå¦‚æœç¨‹åºè¿”å›0å€¼ï¼Œè¯¥é”®åˆ™è®¤ä¸ºä¸ºçœŸ(true)   RESULT ä¸Šä¸€ä¸ªPROGRAMè°ƒç”¨è¿”å›çš„æ ‡å‡†è¾“å‡ºã€‚   NAME æ ¹æ®è¿™ä¸ªè§„åˆ™åˆ›å»ºçš„è®¾å¤‡æ–‡ä»¶çš„æ–‡ä»¶åã€‚æ³¨æ„ï¼šä»…ä»…ç¬¬ä¸€è¡Œçš„NAMEæè¿°æ˜¯æœ‰æ•ˆçš„ï¼Œåé¢çš„å‡å¿½ç•¥ã€‚ å¦‚æœä½ æƒ³ä½¿ç”¨ä½¿ç”¨ä¸¤ä¸ªä»¥ä¸Šçš„åå­—æ¥è®¿é—®ä¸€ä¸ªè®¾å¤‡çš„è¯ï¼Œå¯ä»¥è€ƒè™‘SYMLINKé”®ã€‚   SYMLINK æ ¹æ®è§„åˆ™åˆ›å»ºçš„å­—ç¬¦è¿æ¥å   OWNER è®¾å¤‡æ–‡ä»¶çš„å±ç»„   GROUP è®¾å¤‡æ–‡ä»¶æ‰€åœ¨çš„ç»„ã€‚   MODE è®¾å¤‡æ–‡ä»¶çš„æƒé™ï¼Œé‡‡ç”¨8è¿›åˆ¶   RUN ä¸ºè®¾å¤‡è€Œæ‰§è¡Œçš„ç¨‹åºåˆ—è¡¨   LABEL åœ¨é…ç½®æ–‡ä»¶é‡Œä¸ºå†…éƒ¨æ§åˆ¶è€Œé‡‡ç”¨çš„åå­—æ ‡ç­¾(ä¸‹ä¸‹é¢çš„GOTOæœåŠ¡)   GOTO è·³åˆ°åŒ¹é…çš„è§„åˆ™ï¼ˆé€šè¿‡LABELæ¥æ ‡è¯†ï¼‰ï¼Œæœ‰ç‚¹ç±»ä¼¼ç¨‹åºè¯­è¨€ä¸­çš„GOTO   IMPORT{ type} å¯¼å…¥ä¸€ä¸ªæ–‡ä»¶æˆ–è€…ä¸€ä¸ªç¨‹åºæ‰§è¡Œåè€Œç”Ÿæˆçš„è§„åˆ™é›†åˆ°å½“å‰æ–‡ä»¶   WAIT_FOR_SYSFS ç­‰å¾…ä¸€ä¸ªç‰¹å®šçš„è®¾å¤‡æ–‡ä»¶çš„åˆ›å»ºã€‚ä¸»è¦æ˜¯ç”¨ä½œæ—¶åºå’Œä¾èµ–é—®é¢˜ã€‚   PTIONS ç‰¹å®šçš„é€‰é¡¹ï¼š last_rule å¯¹è¿™ç±»è®¾å¤‡ç»ˆç«¯è§„åˆ™æ‰§è¡Œï¼› ignore_device å¿½ç•¥å½“å‰è§„åˆ™ï¼› ignore_remove å¿½ç•¥æ¥ä¸‹æ¥çš„å¹¶ç§»èµ°è¯·æ±‚ã€‚all_partitions ä¸ºæ‰€æœ‰çš„ç£ç›˜åˆ†åŒºåˆ›å»ºè®¾å¤‡æ–‡ä»¶ã€‚    æˆ‘ä»¬ç»™å‡ºä¸€ä¸ªåˆ—å­æ¥è§£é‡Šå¦‚ä½•ä½¿ç”¨è¿™äº›é”®ã€‚ä¸‹é¢çš„ä¾‹å­æ¥è‡ªFedora Core 5ç³»ç»Ÿçš„æ ‡å‡†é…ç½®æ–‡ä»¶ã€‚\nKERNEL==\u0026#34;*\u0026#34;, OWNER=\u0026#34;root\u0026#34; GROUP=\u0026#34;root\u0026#34;, MODE=\u0026#34;0600\u0026#34; KERNEL==\u0026#34;tty\u0026#34;, NAME=\u0026#34;%k\u0026#34;, GROUP=\u0026#34;tty\u0026#34;, MODE=\u0026#34;0666\u0026#34;, OPTIONS=\u0026#34;last_rule\u0026#34; KERNEL==\u0026#34;scd[0-9]*\u0026#34;, SYMLINK+=\u0026#34;cdrom cdrom-%k\u0026#34; KERNEL==\u0026#34;hd[a-z]\u0026#34;, BUS==\u0026#34;ide\u0026#34;, SYSFS{removable}==\u0026#34;1\u0026#34;, SYSFS{device/media}==\u0026#34;cdrom\u0026#34;, SYMLINK+=\u0026#34;cdrom cdrom-%k\u0026#34; ACTION==\u0026#34;add\u0026#34;, SUBSYSTEM==\u0026#34;scsi_device\u0026#34;, RUN+=\u0026#34;/sbin/modprobe sg\u0026#34; ä¸Šé¢çš„ä¾‹å­ç»™å‡ºäº†5ä¸ªè§„åˆ™ï¼Œæ¯ä¸€ä¸ªéƒ½æ˜¯KERNELæˆ–è€…ACTIONé”®å¼€å¤´ï¼š\n ç¬¬ä¸€ä¸ªè§„åˆ™æ˜¯ç¼ºçœçš„ï¼Œä»–åŒ¹é…ä»»æ„è¢«å†…æ ¸è¯†åˆ«åˆ°çš„è®¾å¤‡ï¼Œç„¶åè®¾å®šè¿™äº›è®¾å¤‡çš„å±ç»„æ˜¯rootï¼Œç»„æ˜¯rootï¼Œè®¿é—®æƒé™æ¨¡å¼æ˜¯0600(-rwâ€”â€”-)ã€‚è¿™ä¹Ÿæ˜¯ä¸€ä¸ªå®‰å…¨çš„ç¼ºçœè®¾ç½®ä¿è¯æ‰€æœ‰çš„è®¾å¤‡åœ¨é»˜è®¤æƒ…å†µä¸‹åªæœ‰rootå¯ä»¥è¯»å†™ ç¬¬äºŒä¸ªè§„åˆ™ä¹Ÿæ˜¯æ¯”è¾ƒå…¸å‹çš„è§„åˆ™äº†ã€‚å®ƒåŒ¹é…ç»ˆç«¯è®¾å¤‡(tty)ï¼Œç„¶åè®¾ç½®æ–°çš„æƒé™ä¸º0600ï¼Œæ‰€åœ¨çš„ç»„æ˜¯ttyã€‚å®ƒä¹Ÿè®¾ç½®äº†ä¸€ä¸ªç‰¹åˆ«çš„è®¾å¤‡æ–‡ä»¶å:%Kã€‚åœ¨è¿™é‡Œä¾‹å­é‡Œï¼Œ%kä»£è¡¨è®¾å¤‡çš„å†…æ ¸åå­—ã€‚é‚£ä¹Ÿå°±æ„å‘³ç€å†…æ ¸è¯†åˆ«å‡ºè¿™äº›è®¾å¤‡æ˜¯ä»€ä¹ˆåå­—ï¼Œå°±åˆ›å»ºä»€ä¹ˆæ ·çš„è®¾å¤‡æ–‡ä»¶åã€‚ ç¬¬ä¸‰è¡Œå¼€å§‹çš„KERNEL==â€scd[0-9]*â€,è¡¨ç¤º SCSI CD-ROM é©±åŠ¨. å®ƒåˆ›å»ºä¸€å¯¹è®¾å¤‡ç¬¦å·è¿æ¥ï¼šcdromå’Œcdrom-%kã€‚ ç¬¬å››è¡Œï¼Œå¼€å§‹çš„ KERNEL==â€hd[a-z]â€œ, è¡¨ç¤ºATA CDROMé©±åŠ¨å™¨ã€‚è¿™ä¸ªè§„åˆ™åˆ›å»ºå’Œä¸Šé¢çš„è§„åˆ™ç›¸åŒçš„ç¬¦å·è¿æ¥ã€‚ATA CDROMé©±åŠ¨å™¨éœ€è¦sysfså€¼ä»¥æ¥åŒºåˆ«åˆ«çš„ATAè®¾å¤‡ï¼Œå› ä¸ºSCSI CDROMå¯ä»¥è¢«å†…æ ¸å”¯ä¸€è¯†åˆ«ã€‚. ç¬¬äº”è¡Œä»¥ ACTION==â€addâ€å¼€å§‹ï¼Œå®ƒå‘Šè¯‰udevå¢åŠ  /sbin/modprobe sg åˆ°å‘½ä»¤åˆ—è¡¨ï¼Œå½“ä»»æ„SCSIè®¾å¤‡å¢åŠ åˆ°ç³»ç»Ÿåï¼Œè¿™äº›å‘½ä»¤å°†æ‰§è¡Œã€‚å…¶æ•ˆæœå°±æ˜¯è®¡ç®—æœºåº”è¯¥ä¼šå¢åŠ sgå†…æ ¸æ¨¡å—æ¥ä¾¦æµ‹æ–°çš„SCSIè®¾å¤‡ã€‚  å½“ç„¶ï¼Œä¸Šé¢ä»…ä»…æ˜¯ä¸€å°éƒ¨åˆ†ä¾‹å­ï¼Œå¦‚æœä½ çš„ç³»ç»Ÿé‡‡ç”¨äº†udevæ–¹å¼ï¼Œé‚£ä½ åº”è¯¥å¯ä»¥çœ‹åˆ°æ›´å¤šçš„è§„åˆ™ã€‚å¦‚æœä½ æƒ³ä¿®æ”¹è®¾å¤‡çš„æƒé™æˆ–è€…åˆ›å»ºä¿¡çš„ç¬¦å·è¿æ¥ï¼Œé‚£ä¹ˆä½ éœ€è¦ç†Ÿè¯»è¿™äº›è§„åˆ™ï¼Œç‰¹åˆ«æ˜¯è¦ä»”ç»†æ³¨æ„ä½ ä¿®æ”¹çš„é‚£äº›ä¸ä¹‹ç›¸å…³çš„è®¾å¤‡ã€‚\nä¿®æ”¹ä½ çš„udevé…ç½® åœ¨ä¿®æ”¹udevé…ç½®ä¹‹å‰ï¼Œæˆ‘ä»¬ä¸€å®šè¦ä»”ç»†ï¼Œé€šå¸¸çš„è€ƒè™‘æ˜¯ï¼šä½ æœ€å¥½ä¸è¦ä¿®æ”¹ç³»ç»Ÿé¢„ç½®çš„é‚£äº›è§„åˆ™ï¼Œç‰¹åˆ«ä¸è¦æŒ‡å®šå½±å“éå¸¸å¹¿æ³›çš„é…ç½®ï¼Œæ¯”å¦‚ä¸Šé¢ä¾‹å­ä¸­çš„ç¬¬ä¸€è¡Œã€‚ä¸æ­£ç¡®çš„é…ç½®å¯èƒ½ä¼šå¯¼è‡´ä¸¥é‡çš„ç³»ç»Ÿé—®é¢˜æˆ–è€…ç³»ç»Ÿæ ¹æœ¬å°±æ— æ³•è¿™ä¸ªæ­£ç¡®çš„è®¿é—®è®¾å¤‡ã€‚\nè€Œæˆ‘ä»¬æ­£ç¡®çš„åšæ³•åº”è¯¥æ˜¯åœ¨/etc/udev/rules.d/ä¸‹åˆ›å»ºä¸€ä¸ªæ–°çš„è§„åˆ™æ–‡ä»¶ã€‚ç¡®å®šä½ ç»™å‡ºçš„æ–‡ä»¶çš„åç¼€æ˜¯rulesæ–‡ä»¶åç»™å‡ºçš„æ•°å­—åºåˆ—åº”è¯¥æ¯”æ ‡å‡†é…ç½®æ–‡ä»¶é«˜ã€‚æ¯”å¦‚ï¼Œä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªåä¸º99-my-udev.rulesçš„è§„åˆ™æ–‡ä»¶ã€‚åœ¨ä½ çš„è§„åˆ™æ–‡ä»¶ä¸­ï¼Œä½ å¯ä»¥æŒ‡å®šä»»ä½•ä½ æƒ³ä¿®æ”¹çš„é…ç½®ï¼Œæ¯”å¦‚ï¼Œå‡è®¾ä½  ä¿®æ”¹ä¿®æ”¹floppyè®¾å¤‡çš„æ‰€åœ¨ç»„ï¼Œè¿˜å‡†å¤‡åˆ›å»ºä¸€ä¸ªæ–°çš„ç¬¦å·è¿æ¥/dev/floppyï¼Œé‚£ä½ å¯ä»¥è¿™ä¹ˆå†™ï¼š\nKERNEL==â€fd[0-9]*â€œ, GROUP=â€œusersâ€œ, SYMLINK+=â€œfloppyâ€œ æœ‰äº›å‘è¡Œç‰ˆæœ¬ï¼Œæ¯”å¦‚Fedoraï¼Œé‡‡ç”¨äº†å¤–éƒ¨è„šæœ¬æ¥ä¿®æ”¹æŸäº›ç‰¹å®šè®¾å¤‡çš„å±ç»„ï¼Œç»„å…³ç³»å’Œæƒé™ã€‚å› æ­¤ä¸Šé¢çš„æ”¹åŠ¨å¯èƒ½å¹¶ä¸è§å¾—ç”Ÿæ•ˆã€‚å¦‚æœä½ é‡åˆ°äº†è¿™ä¸ªé—®é¢˜ï¼Œä½ å°±éœ€è¦è·Ÿè¸ªå’Œä¿®æ”¹è¿™ä¸ªè„šæœ¬æ¥è¾¾åˆ°ä½ çš„ç›®çš„ã€‚æˆ–è€…ä½ å¯ä»¥ä¿®æ”¹PROGRAMæˆ–RUNé”®çš„å€¼æ¥åšåˆ°è¿™ç‚¹ã€‚\næŸäº›è§„åˆ™çš„ä¿®æ”¹å¯èƒ½éœ€è¦æ›´æ·±çš„æŒ–æ˜ã€‚æ¯”å¦‚ï¼Œä½ å¯èƒ½æƒ³åœ¨ä¸€ä¸ªè®¾å¤‡ä¸Šä½¿ç”¨sysfsä¿¡æ¯æ¥å”¯ä¸€æ ‡è¯†ä¸€ä¸ªè®¾å¤‡ã€‚è¿™äº›ä¿¡æ¯æœ€å¥½é€šè¿‡udevinfoå‘½ä»¤æ¥è·å–ã€‚\n$ udevinfo â€“a â€“p $(udevinfo â€“q path â€“n /dev/hda) ä¸Šé¢çš„å‘½ä»¤ä¸¤æ¬¡ä½¿ç”¨udevinfoï¼šä¸€æ¬¡æ˜¯è¿”å›sysfsè®¾å¤‡è·¯å¾„(ä»–é€šå¸¸å’Œæˆ‘ä»¬çœ‹åˆ°çš„Linuxè®¾å¤‡æ–‡ä»¶åæ‰€åœ¨è·¯å¾„ï¼ï¼/dev/hdaï¼ï¼ä¸åŒ)ï¼›ç¬¬ äºŒæ¬¡æ‰æ˜¯æŸ¥è¯¢è¿™ä¸ªè®¾å¤‡è·¯å¾„ï¼Œç»“æœå°†æ˜¯éå¸¸å¸¸çš„syfsä¿¡æ¯æ±‡æ€»ã€‚ä½ å¯ä»¥æ‰¾åˆ°æœ€å¤Ÿçš„ä¿¡æ¯æ¥å”¯ä¸€æ ‡å¿—ä½ çš„è®¾å¤‡ï¼Œä½ å¯ä»¥é‡‡ç”¨é€‚å½“çš„æ›¿æ¢udevé…ç½®æ–‡ä»¶ä¸­çš„ SYSFSé€‰é¡¹ã€‚ä¸‹é¢çš„ç»“æœå°±æ˜¯ä¸Šé¢çš„å‘½ä»¤è¾“å‡º\n[root@localhost rules.d]# udevinfo -a -p $(udevinfo -q path -n /dev/hda1) Udevinfo starts with the device specified by the devpath and then walks up the chain of parent devices. It prints for every device found,all possible attributes in the udev rules key format. A rule to match, can be composed by the attributes of the device and the attributes from one single parent device. looking at device \u0026#39;/block/hda/hda1\u0026#39;: KERNEL==\u0026#34;hda1\u0026#34; SUBSYSTEM==\u0026#34;block\u0026#34; DRIVER==\u0026#34;\u0026#34; ATTR{stat}==\u0026#34; 1133 2268 2 4\u0026#34; ATTR{size}==\u0026#34;208782\u0026#34; ATTR{start}==\u0026#34;63\u0026#34; ATTR{dev}==\u0026#34;3:1\u0026#34; looking at parent device \u0026#39;/block/hda\u0026#39;: KERNELS==\u0026#34;hda\u0026#34; SUBSYSTEMS==\u0026#34;block\u0026#34; DRIVERS==\u0026#34;\u0026#34; ATTRS{stat}==\u0026#34;28905 18814 1234781 302540 34087 133247 849708 981336 0 218340 1283968\u0026#34; ATTRS{size}==\u0026#34;117210240\u0026#34; ATTRS{removable}==\u0026#34;0\u0026#34; ATTRS{range}==\u0026#34;64\u0026#34; ATTRS{dev}==\u0026#34;3:0\u0026#34; looking at parent device \u0026#39;/devices/pci0000:00/0000:00:1f.1/ide0/0.0\u0026#39;: KERNELS==\u0026#34;0.0\u0026#34; SUBSYSTEMS==\u0026#34;ide\u0026#34; DRIVERS==\u0026#34;ide-disk\u0026#34; ATTRS{modalias}==\u0026#34;ide:m-disk\u0026#34; ATTRS{drivename}==\u0026#34;hda\u0026#34; ATTRS{media}==\u0026#34;disk\u0026#34; looking at parent device \u0026#39;/devices/pci0000:00/0000:00:1f.1/ide0\u0026#39;: KERNELS==\u0026#34;ide0\u0026#34; SUBSYSTEMS==\u0026#34;\u0026#34; DRIVERS==\u0026#34;\u0026#34; looking at parent device \u0026#39;/devices/pci0000:00/0000:00:1f.1\u0026#39;: KERNELS==\u0026#34;0000:00:1f.1\u0026#34; SUBSYSTEMS==\u0026#34;pci\u0026#34; DRIVERS==\u0026#34;PIIX_IDE\u0026#34; ATTRS{broken_parity_status}==\u0026#34;0\u0026#34; ATTRS{enable}==\u0026#34;1\u0026#34; ATTRS{modalias}==\u0026#34;pci:v00008086d000024CAsv0000144Dsd0000C009bc01sc01i8a\u0026#34; ATTRS{local_cpus}==\u0026#34;1\u0026#34; ATTRS{irq}==\u0026#34;11\u0026#34; ATTRS{class}==\u0026#34;0x01018a\u0026#34; ATTRS{subsystem_device}==\u0026#34;0xc009\u0026#34; ATTRS{subsystem_vendor}==\u0026#34;0x144d\u0026#34; ATTRS{device}==\u0026#34;0x24ca\u0026#34; ATTRS{vendor}==\u0026#34;0x8086\u0026#34; looking at parent device \u0026#39;/devices/pci0000:00\u0026#39;: KERNELS==\u0026#34;pci0000:00\u0026#34; SUBSYSTEMS==\u0026#34;\u0026#34; DRIVERS==\u0026#34;\u0026#34; ä¸¾ä¸€ä¸ªä¾‹å­ï¼šå‡è®¾ä½ æƒ³ä¿®æ”¹USBæ‰«æä»ªçš„é…ç½®ã€‚é€šè¿‡ä¸€ç³»åˆ—çš„å°è¯•ï¼Œä½ å·²ç»ä¸ºè¿™ä¸ªæ‰«æä»ªæ ‡è¯†äº†Linuxè®¾å¤‡æ–‡ä»¶(æ¯æ¬¡æ‰“å¼€æ‰«æä»ªæ—¶ï¼Œåå­—éƒ½ä¼šå˜)ã€‚ä½ å¯ä»¥ä½¿ ç”¨ä¸Šé¢çš„å‘½ä»¤æ›¿æ¢è¿™ä¸ªæ­£ç¡®çš„Linuxè®¾å¤‡æ–‡ä»¶åï¼Œç„¶åå®šä½è¾“å‡ºçš„é‡‡ç”¨SYSFS{idVendor}è¡Œå’ŒSYSFS{idProduct}è¡Œã€‚æœ€åä½ å¯ ä»¥ä½¿ç”¨è¿™äº›ä¿¡æ¯æ¥ä¸ºè¿™ä¸ªæ‰«æä»ªåˆ›å»ºæ–°çš„é€‰é¡¹ã€‚\nSYSFS{idVendor}==\u0026#34;0686\u0026#34;, SYSFS{idProduct}==\u0026#34;400e\u0026#34;, SYMLINK+=\u0026#34;scanner\u0026#34;, MODE=\u0026#34;0664\u0026#34;, group=\u0026#34;scanner\u0026#34; ä¸Šé¢çš„ä¾‹å­è¡¨ç¤ºå°†æ‰«æä»ªçš„ç»„è®¾ç½®ä¸ºscannerï¼Œè®¿é—®æƒé™è®¾ç½®ä¸º0664,åŒæ—¶åˆ›å»ºä¸€ä¸ª/dev/scannerçš„ç¬¦å·è¿æ¥ã€‚\nMounting usb automatically \u0026amp; having usb\u0026rsquo;s label as mountpoint Note for Ubuntu Server 11.10: This script fails on Ubuntu Server 11.10 due to the obsolete vol_id command. vol_id has been superseded by blkid. To fix the script, replace \u0026ldquo;vol_id\u0026rdquo; by \u0026ldquo;blkid -o udev\u0026rdquo; in the udev-auto-mount.sh script.\nI\u0026rsquo;ve been banging my head around this for a while now, and I think I\u0026rsquo;ve found a working solution. This is developed and tested on a Debian-based system, so it should work on Ubuntu. I\u0026rsquo;ll point out the assumptions it makes so it can be adapted to other systems as well.\n It will automatically mount USB drives on plugin, and shouldn\u0026rsquo;t take much to adapt for Firewire. It uses UDEV, so no monkeying with HAL/DeviceKit/GNOME-Anything. It automagically creates a /media/LABEL directory to mount the device to. However, it may interfere with other automounters; I can\u0026rsquo;t test for that. I expect that, with Gnome-VFS active, both may try to do the mount \u0026hellip; if Gnome-VFS fails the mount, it might not configure a desktop icon. Unmounting from Gnome should be possible, but might require gksudo or similar.  I have not tested this on system boot, but the only reason I can see that it might not work is if it tries to mount the USB drive before the system is ready for mounts. If that\u0026rsquo;s the case, you\u0026rsquo;ll probably need one additional tweak to the mount script. (I\u0026rsquo;m checking with ServerFault to see if there\u0026rsquo;s any advice, but not much interest in it over there.)\nOn to it, then.\nUDEV references  Writing udev Rules (the reference for udev rules) man udev (see your system for the latest version) man udevadm (udev admin tool; again see your system for latest) Backup to USB drive on mount (completely different problem, but helpful for understanding the solution)  Background (UDEV? Whuzzat?) UDEV is the kernel\u0026rsquo;s hotplug system. It\u0026rsquo;s what automagically configures the proper devices and device symlinks (eg /dev/disk/by-label/\u0026lt;LABEL\u0026gt;), both at boot time and for devices added while the system is running.\nD-Bus and HAL are used for sending hardware events to listeners like Desktop Environments. So when you log into GNOME and insert a CD or plug in a USB drive, that event follows this chain:\nkernel -\u0026gt; udev -\u0026gt; dbus -\u0026gt; hal -\u0026gt; gnome-vfs/nautilus (mount) And presto, your drive gets mounted. But in a headless system, we don\u0026rsquo;t want to have to log in to get the benefits of automounting.\nUdev Rules Since UDEV lets us write rules and run programs on device insertion, this is an ideal choice. We\u0026rsquo;re going to take advantage of Debian/Ubuntu\u0026rsquo;s existing rules, let them setup the /dev/disk/by-label/\u0026lt;LABEL\u0026gt; symlink for us, and add another rule that will mount the device for us.\nUDEV\u0026rsquo;s rules are kept in /etc/udev/rules.d (and /lib/udev/rules.d on Karmic), and are processed in numerical order. Any file not starting with a number gets processed after the numbered files. On my system, HAL rules are in a file called 90-hal.rules, so I put my rules in 89-local.rules so they get processed before they get to HAL. Primarily, you need to make sure these rules happen after the 60-persistent-storage.rules. local.rules may be good enough.\nPut this in your new rules file:\n# /etc/udev/rules.d/local.rules # /etc/udev/rules.d/89-local.rules # ADD rule: if we have a valid ID_FS_LABEL_ENC, and it's USB, mkdir and mount ENV{ID_FS_LABEL_ENC}==\u0026quot;?*\u0026quot;, ACTION==\u0026quot;add\u0026quot;, SUBSYSTEMS==\u0026quot;usb\u0026quot;, \\ RUN+=\u0026quot;/usr/local/sbin/udev-automounter.sh %k\u0026quot;  Make sure there\u0026rsquo;s no spaces after the \\, just a newline (\\n). Change SUBSYSTEMS==\u0026quot;usb\u0026quot; to SUBSYSTEMS==\u0026quot;usb|ieee1394\u0026quot; for Firewire support. If you want the device to always be owned by a particular user, add an OWNER=\u0026quot;username\u0026quot; clause. If you just need the files owned by a particular user, tweak the mount script instead.  Reading the Rule\nThis adds a program to run to the device\u0026rsquo;s list of programs to run. It identifies USB partition devices by \u0026lt;LABEL\u0026gt;, then passes this information to a script that performs the mount. Specifically, this rule is matching:\n  ENV{ID_FS_LABEL_ENC}==\u0026quot;?\\*\u0026quot; \u0026ndash; an environment variable set by an earlier system rule. Doesn\u0026rsquo;t exist for non-filesystems, so that\u0026rsquo;s why we check for it. We actually want to use ID_FS_LABEL for the mount point, but I haven\u0026rsquo;t convinced UDEV to escape it for me, so we\u0026rsquo;ll let the mount script handle that.\nThis and other environment variables are obtained by udev using the vol_id command (deprecated). It\u0026rsquo;s a handy tool to see nice quick details on a partition:\n$ sudo vol_id /dev/sdc1 ID_FS_TYPE=ext2 ID_FS_UUID=a40d282a-4a24-4593-a0ab-6f2600f920dd ID_FS_LABEL=Travel Dawgs ID_FS_LABEL_ENC=Travel\\x20Dawgs ID_FS_LABEL_SAFE=Travel_Dawgs   ACTION==\u0026quot;add\u0026quot; \u0026ndash; only match add events\u0026hellip;\n  SUBSYSTEMS==\u0026quot;usb\u0026quot; \u0026ndash; only match devices that are on the USB bus. We use SUBSYSTEMS here because this matches against our device\u0026rsquo;s parents; the device we\u0026rsquo;re interested in will actually be SUBSYSTEM==\u0026ldquo;scsi\u0026rdquo;. Matching against a parent USB device avoids adding our program to the internal drives.\n  RUN+=\u0026quot;...\u0026quot; \u0026ndash; not a match, but an action: add this program to the list of programs to run. In the program\u0026rsquo;s arguments, %k gets expanded to the device name (eg sdc1, not /dev/sdc1) and $env{FOO} gets the contents of environment variable FOO.\n  Testing the Rule\nThe first reference link (above) is an excellent UDEV tutorial, but it\u0026rsquo;s slightly out of date. The programs it runs for testing your rules (udevtest in particular) have been replaced by the catch-all udevadm utility.\nAfter you\u0026rsquo;ve added the rule, plug in your device. Give it a few seconds, then check to see what device it\u0026rsquo;s been assigned to with:\n$ ls -l /dev/disk/by-label/* lrwxrwxrwx 1 root root 10 2009-10-25 07:27 label_Foo -\u0026gt; ../../sda1 lrwxrwxrwx 1 root root 10 2009-10-25 07:27 label_Bar -\u0026gt; ../../sdb1 lrwxrwxrwx 1 root root 10 2009-10-25 07:27 label_Baz -\u0026gt; ../../sdc1 If your removeable drive contains label_Baz, it\u0026rsquo;s on device sdc1. Run this and look at the output towards the end:\n$ sudo udevadm test /sys/block/sdc/sdc1 parse_file: reading (...) (many lines about files it reads) import_uevent_var: import into environment: (...) (many lines about env variables) (...) (many lines tracing rule matches \u0026amp; programs run) update_link: found 1 devices with name 'disk/by-label/LABEL_BAZ' update_link: found '/block/sdc/sdc1' for 'disk/by-label/LABEL_BAZ' update_link: compare (our own) priority of '/block/sdc/sdc1' 0 \u0026gt;= 0 update_link: 'disk/by-label/LABEL_BAZ' with target 'sdc1' has the highest priority 0, create it udevtest: run: '/usr/local/sbin/udev-automounter.sh sdc1 LABEL_BAZ' udevtest: run: 'socket:/org/freedesktop/hal/udev_event' udevtest: run: 'socket:@/org/kernel/udev/monitor' Look for the script name from our RUN+= rule in the last few lines (3rd from the bottom in this example). You can see the arguments that would be used for this device. You can run that command now to check that the arguments are sound; if it works on your commandline, it should work automatically when a device is inserted.\nYou can also monitor UDEV events in realtime: run sudo udevadm monitor (see man udevadm for details on the switches). Then just plug in a new device and watch events scroll by. (Probably overkill unless you\u0026rsquo;re into really low-level details\u0026hellip;)\nReloading the Rules\nOnce you\u0026rsquo;ve verified the rule is getting read properly, you need to tell UDEV to reload its rules so the new one takes effect. Use any of these methods (if the first doesn\u0026rsquo;t work, the second should\u0026hellip; but try the first first):\n run sudo udevadm control --reload-rules run sudo /etc/init.d/udev reload reboot  Script! Actually, 2 Scripts\u0026hellip; Here\u0026rsquo;s the first script. Since the program we run needs to complete quickly, this just spins the second script off in the background. Put this in /usr/local/sbin/udev-automounter.sh:\n#!/bin/sh # # USAGE: usb-automounter.sh DEVICE # DEVICE is the actual device node at /dev/DEVICE /usr/local/sbin/udev-auto-mount.sh ${1} \u0026amp; Here\u0026rsquo;s the second script. This does a bit more input checking. Put this in /usr/local/sbin/udev-auto-mount.sh. You may want to tweak the mount options below. This script now handles finding the partition LABEL on its own; UDEV only sends the DEVICE name.\nIf there\u0026rsquo;s a problem mounting drives at boot-time, you can put a nice long sleep 60 in this script, to give the system time to come all the way up before the script attempts to mount the drive.\nI\u0026rsquo;ve given a suggestion in the comments for how to check (run ps to see if a webserver is running), but you\u0026rsquo;ll want to tweak that for your system. I think most any network servers you might be using would suffice for this purpose \u0026ndash; nfsd, smbd, apache, etc. The risk, of course, is that the mount script will fail if the service isn\u0026rsquo;t running, so maybe testing a particular file\u0026rsquo;s existence would be a better solution.\n#!/bin/sh # # USAGE: udev-auto-mount.sh DEVICE # DEVICE is the actual device node at /dev/DEVICE # # This script takes a device name, looks up the partition label and # type, creates /media/LABEL and mounts the partition. Mount options # are hard-coded below. DEVICE=$1 # check input if [ -z \u0026quot;$DEVICE\u0026quot; ]; then exit 1 fi # test that this device isn't already mounted device_is_mounted=`grep ${DEVICE} /etc/mtab` if [ -n \u0026quot;$device_is_mounted\u0026quot; ]; then echo \u0026quot;error: seems /dev/${DEVICE} is already mounted\u0026quot; exit 1 fi # If there's a problem at boot-time, this is where we'd put # some test to check that we're booting, and then run # sleep 60 # so the system is ready for the mount below. # # An example to experiment with: # Assume the system is \u0026quot;booted enough\u0026quot; if the HTTPD server is running. # If it isn't, sleep for half a minute before checking again. # # The risk: if the server fails for some reason, this mount script # will just keep waiting for it to show up. A better solution would # be to check for some file that exists after the boot process is complete. # # HTTPD_UP=`ps -ax | grep httpd | grep -v grep` # while [ -z \u0026quot;$HTTPD_UP\u0026quot; ]; do # sleep 30 # HTTPD_UP=`ps -ax | grep httpd | grep -v grep` # done # pull in useful variables from vol_id, quote everything Just In Case eval `/sbin/vol_id /dev/${DEVICE} | sed 's/^/export /; s/=/=\u0026quot;/; s/$/\u0026quot;/'` if [ -z \u0026quot;$ID_FS_LABEL\u0026quot; ] || [ -z \u0026quot;$ID_FS_TYPE\u0026quot; ]; then echo \u0026quot;error: ID_FS_LABEL is empty! did vol_id break? tried /dev/${DEVICE}\u0026quot; exit 1 fi # test mountpoint - it shouldn't exist if [ ! -e \u0026quot;/media/${ID_FS_LABEL}\u0026quot; ]; then # make the mountpoint mkdir \u0026quot;/media/${ID_FS_LABEL}\u0026quot; # mount the device # # If expecting thumbdrives, you probably want # mount -t auto -o sync,noatime [...] # # If drive is VFAT/NFTS, this mounts the filesystem such that all files # are owned by a std user instead of by root. Change to your user's UID # (listed in /etc/passwd). You may also want \u0026quot;gid=1000\u0026quot; and/or \u0026quot;umask=022\u0026quot;, eg: # mount -t auto -o uid=1000,gid=1000 [...] # # case \u0026quot;$ID_FS_TYPE\u0026quot; in vfat) mount -t vfat -o sync,noatime,uid=1000 /dev/${DEVICE} \u0026quot;/media/${ID_FS_LABEL}\u0026quot; ;; # I like the locale setting for ntfs ntfs) mount -t auto -o sync,noatime,uid=1000,locale=en_US.UTF-8 /dev/${DEVICE} \u0026quot;/media/${ID_FS_LABEL}\u0026quot; ;; # ext2/3/4 don't like uid option ext*) mount -t auto -o sync,noatime /dev/${DEVICE} \u0026quot;/media/${ID_FS_LABEL}\u0026quot; ;; esac # all done here, return successful exit 0 fi exit 1 Super Bonus Cleanup Script! One more script. All this does is unmount the device and remove the mountpoint directories. It assumes it has privs to do this, so you\u0026rsquo;ll need to run it with sudo. This script now takes the full mountpoint on the commandline, eg:\n$ /usr/local/sbin/udev-unmounter.sh \u0026quot;/media/My Random Disk\u0026quot; Put this in /usr/local/sbin/udev-unmounter.sh:\n#!/bin/sh # # USAGE: udev-unmounter.sh MOUNTPT # MOUNTPT is a mountpoint we want to unmount and delete. MOUNTPT=\u0026quot;$1\u0026quot; if [ -z \u0026quot;$MOUNTPT\u0026quot; ]; then exit 1 fi # test mountpoint - it should exist if [ -e \u0026quot;${MOUNTPT}\u0026quot; ]; then # very naive; just run and pray umount -l \u0026quot;${MOUNTPT}\u0026quot; \u0026amp;\u0026amp; rmdir \u0026quot;${MOUNTPT}\u0026quot; \u0026amp;\u0026amp; exit 0 echo \u0026quot;error: ${MOUNTPT} failed to unmount.\u0026quot; exit 1 fi echo \u0026quot;error: ${MOUNTPT} does not exist\u0026quot; exit 1 GPG å‰ä¸¤ç¯‡æ–‡ç« ï¼Œæˆ‘ä»‹ç»äº†RSAç®—æ³•ã€‚\nä»Šå¤©ï¼Œå°±æ¥ç€æ¥çœ‹ï¼Œç°å®ä¸­æ€ä¹ˆä½¿ç”¨è¿™ä¸ªç®—æ³•ï¼Œå¯¹ä¿¡æ¯åŠ å¯†å’Œè§£å¯†ã€‚è¿™è¦ç”¨åˆ°GnuPGè½¯ä»¶ï¼ˆç®€ç§°GPGï¼‰ï¼Œå®ƒæ˜¯ç›®å‰æœ€æµè¡Œã€æœ€å¥½ç”¨çš„åŠ å¯†å·¥å…·ä¹‹ä¸€ã€‚\nä»€ä¹ˆæ˜¯GPG è¦äº†è§£ä»€ä¹ˆæ˜¯GPGï¼Œå°±è¦å…ˆäº†è§£PGPã€‚\n1991å¹´ï¼Œç¨‹åºå‘˜Phil Zimmermannä¸ºäº†é¿å¼€æ”¿åºœç›‘è§†ï¼Œå¼€å‘äº†åŠ å¯†è½¯ä»¶PGPã€‚è¿™ä¸ªè½¯ä»¶éå¸¸å¥½ç”¨ï¼Œè¿…é€Ÿæµä¼ å¼€æ¥ï¼Œæˆäº†è®¸å¤šç¨‹åºå‘˜çš„å¿…å¤‡å·¥å…·ã€‚ä½†æ˜¯ï¼Œå®ƒæ˜¯å•†ä¸šè½¯ä»¶ï¼Œä¸èƒ½è‡ªç”±ä½¿ç”¨ã€‚æ‰€ä»¥ï¼Œè‡ªç”±è½¯ä»¶åŸºé‡‘ä¼šå†³å®šï¼Œå¼€å‘ä¸€ä¸ªPGPçš„æ›¿ä»£å“ï¼Œå–åä¸ºGnuPGã€‚è¿™å°±æ˜¯GPGçš„ç”±æ¥ã€‚\nGnuPG æ˜¯å®Œæ•´å®ç°äº† RFC4880 ï¼ˆå³PGPï¼‰ æ‰€å®šä¹‰çš„ OpenPGP æ ‡å‡†çš„è‡ªç”±è½¯ä»¶ã€‚\nGnuPG å¯ä»¥åŠ å¯†å’Œç­¾åä½ çš„æ•°æ®å’Œé€šè®¯ä¿¡æ¯ï¼ŒåŒ…å«ä¸€ä¸ªé€šç”¨çš„å¯†é’¥ç®¡ç†ç³»ç»Ÿä»¥åŠç”¨äºå„ç§å…¬é’¥ç›®å½•çš„è®¿é—®æ¨¡å—ã€‚\nGnuPG æ˜¯ä¸€ä¸ªæ˜“äºä¸å…¶å®ƒç¨‹åºæ•´åˆçš„å‘½ä»¤è¡Œå·¥å…·ï¼Œæ‹¥æœ‰å¾ˆå¤šå‰ç«¯ç¨‹åºå’Œå‡½æ•°åº“ã€‚\nGnuPG è¿˜æ”¯æŒ S/MIME å’Œ Secure Shell (ssh)ã€‚\nGPGæœ‰è®¸å¤šç”¨é€”ï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç»æ–‡ä»¶åŠ å¯†ã€‚è‡³äºé‚®ä»¶çš„åŠ å¯†ï¼Œä¸åŒçš„é‚®ä»¶å®¢æˆ·ç«¯æœ‰ä¸åŒçš„è®¾ç½®ï¼Œè¯·å‚è€ƒUbuntuç½‘ç«™çš„ä»‹ç»ã€‚\næœ¬æ–‡çš„ä½¿ç”¨ç¯å¢ƒä¸ºLinuxå‘½ä»¤è¡Œã€‚å¦‚æœæŒæ¡äº†å‘½ä»¤è¡Œï¼ŒWindows æˆ– Mac OS å®¢æˆ·ç«¯ï¼Œå°±éå¸¸å®¹æ˜“æŒæ¡ã€‚GPGå¹¶ä¸éš¾å­¦ï¼Œå­¦ä¼šäº†å®ƒï¼Œä»æ­¤å°±èƒ½è½»æ¾ä¼ é€’åŠ å¯†ä¿¡æ¯ã€‚å»ºè®®è¯»è€…ä¸€æ­¥æ­¥è·Ÿç€æ•™ç¨‹åšï¼Œå¯¹æ¯æ¡å‘½ä»¤éƒ½è‡ªè¡Œæµ‹è¯•ã€‚\nå®‰è£… GPGæœ‰ä¸¤ç§å®‰è£…æ–¹å¼ã€‚å¯ä»¥ä¸‹è½½æºç ï¼Œè‡ªå·±ç¼–è¯‘å®‰è£…ã€‚\n$ ./configure $ make $ make install ä¹Ÿå¯ä»¥å®‰è£…ç¼–è¯‘å¥½çš„äºŒè¿›åˆ¶åŒ…ã€‚\n$ sudo apt-get install gnupg å®‰è£…å®Œæˆåï¼Œé”®å…¥ä¸‹é¢çš„å‘½ä»¤ï¼š\n$ gpg --help å¦‚æœå±å¹•æ˜¾ç¤ºGPGçš„å¸®åŠ©ï¼Œå°±è¡¨ç¤ºå®‰è£…æˆåŠŸã€‚\né…ç½® ç›®å½•ä½ç½® GnuPG ç”¨ç¯å¢ƒå˜é‡ $GNUPGHOME å®šä½é…ç½®æ–‡ä»¶çš„ä½ç½®ï¼Œé»˜è®¤æƒ…å†µä¸‹æ­¤å˜é‡å¹¶æœªè¢«è®¾ç½®ï¼Œä¼šç›´æ¥ä½¿ç”¨ $HOMEï¼Œæ‰€ä»¥é»˜è®¤çš„é…ç½®ç›®å½•æ˜¯ ~/.gnupgã€‚\nè¦æ”¹å˜é»˜è®¤ä½ç½®ï¼Œæ‰§è¡Œ $ gpg --homedir path/to/file æˆ–åœ¨ startup files ä¸­è®¾ç½® GNUPGHOMEã€‚\né…ç½®æ–‡ä»¶ é»˜è®¤çš„é…ç½®æ–‡ä»¶æ˜¯ ~/.gnupg/gpg.conf å’Œ ~/.gnupg/dirmngr.conf.\ngnupg ç›®å½•çš„é»˜è®¤ æƒé™ æ˜¯ 700ï¼Œå…¶ä¸­æ–‡ä»¶çš„æƒé™æ˜¯ 600. ä»…ç›®å½•çš„æ‰€æœ‰è€…æœ‰æƒè¯»å†™ï¼Œè®¿é—®è¿™äº›æ–‡ä»¶ã€‚è¿™æ˜¯åŸºäºå®‰å…¨è€ƒè™‘ï¼Œè¯·ä¸è¦å˜æ›´ã€‚å¦‚æœä¸ä½¿ç”¨è¿™æ ·çš„å®‰å…¨æƒé™è®¾ç½®ï¼Œä¼šæ”¶åˆ°ä¸å®‰å…¨æ–‡ä»¶çš„è­¦å‘Šã€‚\nåœ¨æ–‡ä»¶ä¸­é™„åŠ éœ€è¦çš„æ–‡ä»¶ï¼š/usr/share/gnupg åŒ…å«åŸºæœ¬æ¶æ„æ–‡ä»¶. gpgï¼Œç¬¬ä¸€æ¬¡è¿è¡Œæ—¶ï¼Œå¦‚æœé…ç½®æ–‡ä»¶ä¸å­˜åœ¨ï¼Œä¼šè‡ªåŠ¨å¤åˆ¶æ–‡ä»¶åˆ° ~/.gnupgã€‚\næ–°ç”¨æˆ·çš„é»˜è®¤é€‰é¡¹ è¦ç»™æ–°å»ºç”¨æˆ·è®¾å®šä¸€äº›é»˜è®¤é€‰é¡¹ï¼ŒæŠŠé…ç½®æ–‡ä»¶æ”¾åˆ° /etc/skel/.gnupg/ã€‚ç³»ç»Ÿåˆ›å»ºæ–°ç”¨æˆ·æ—¶ï¼Œå°±ä¼šæŠŠæ–‡ä»¶å¤åˆ¶åˆ° GnuPG ç›®å½•ã€‚è¿˜æœ‰ä¸€ä¸ª addgnupghome å‘½ä»¤å¯ä»¥ä¸ºå·²æœ‰ç”¨æˆ·åˆ›å»ºæ–° GnuPG ä¸»ç›®å½•ï¼š\n# addgnupghome user1 user2 æ­¤å‘½ä»¤ä¼šå°†å¯¹æ£€æŸ¥ /home/user1/.gnupg å’Œ /home/user2/.gnupgï¼Œå¦‚æœç”¨æˆ·çš„ GnuPG ä¸»ç›®å½•ä¸å­˜åœ¨ï¼Œå°±ä¼šä» skeleton ç›®å½•å¤åˆ¶æ–‡ä»¶è¿‡å»ã€‚\nç”Ÿæˆå¯†é’¥ å®‰è£…æˆåŠŸåï¼Œä½¿ç”¨ --full-generate-key å‚æ•°ç”Ÿæˆè‡ªå·±çš„å¯†é’¥ã€‚\n$ gpg --full-generate-key æˆ–ç”¨ gpg --gen-key å¿«é€Ÿç”Ÿæˆã€‚ä»¥ä¸‹ä½¿ç”¨ gpg2 --full-generate-key æ¼”ç¤ºã€‚\nå›è½¦ä»¥åï¼Œä¼šè·³å‡ºä¸€å¤§æ®µæ–‡å­—ï¼š\ngpg (GnuPG) 2.2.19; Copyright (C) 2019 Free Software Foundation, Inc. This is free software: you are free to change and redistribute it. There is NO WARRANTY, to the extent permitted by law. Please select what kind of key you want: (1) RSA and RSA (default) (2) DSA and Elgamal (3) DSA (sign only) (4) RSA (sign only) (14) Existing key from card Your selection? ç¬¬ä¸€æ®µæ˜¯ç‰ˆæƒå£°æ˜ï¼Œç„¶åè®©ç”¨æˆ·è‡ªå·±é€‰æ‹©åŠ å¯†ç®—æ³•ã€‚é»˜è®¤é€‰æ‹©ç¬¬ä¸€ä¸ªé€‰é¡¹ï¼Œè¡¨ç¤ºåŠ å¯†å’Œç­¾åéƒ½ä½¿ç”¨RSAç®—æ³•ã€‚\nç„¶åï¼Œç³»ç»Ÿå°±ä¼šé—®ä½ å¯†é’¥çš„é•¿åº¦ã€‚\nRSA keys may be between 1024 and 4096 bits long. What keysize do you want? (3072) å¯†é’¥è¶Šé•¿è¶Šå®‰å…¨ã€‚\næ¥ç€ï¼Œè®¾å®šå¯†é’¥çš„æœ‰æ•ˆæœŸã€‚\nPlease specify how long the key should be valid. 0 = key does not expire \u0026lt;n\u0026gt; = key expires in n days \u0026lt;n\u0026gt;w = key expires in n weeks \u0026lt;n\u0026gt;m = key expires in n months \u0026lt;n\u0026gt;y = key expires in n years Key is valid for? (0) å¦‚æœå¯†é’¥åªæ˜¯ä¸ªäººä½¿ç”¨ï¼Œå¹¶ä¸”ä½ å¾ˆç¡®å®šå¯ä»¥æœ‰æ•ˆä¿ç®¡ç§é’¥ï¼Œå»ºè®®é€‰æ‹©ç¬¬ä¸€ä¸ªé€‰é¡¹ï¼Œå³æ°¸ä¸è¿‡æœŸã€‚å›ç­”å®Œä¸Šé¢ä¸‰ä¸ªé—®é¢˜ä»¥åï¼Œç³»ç»Ÿè®©ä½ ç¡®è®¤ã€‚\nIs this correct? (y/N) è¾“å…¥yï¼Œç³»ç»Ÿå°±è¦æ±‚ä½ æä¾›ä¸ªäººä¿¡æ¯ã€‚\nGnuPG needs to construct a user ID to identify your key. Real name: Email address Comment: \u0026ldquo;çœŸå®å§“å\u0026quot;å¡«å…¥ä½ å§“åçš„è‹±æ–‡å†™æ³•ï¼Œ\u0026ldquo;ç”µå­é‚®ä»¶åœ°å€\u0026quot;å¡«å…¥ä½ çš„é‚®ä»¶åœ°å€ï¼Œ\u0026ldquo;æ³¨é‡Š\u0026quot;è¿™ä¸€æ å¯ä»¥ç©ºç€ã€‚\nç„¶åï¼Œä½ çš„\u0026quot;ç”¨æˆ·ID\u0026quot;ç”Ÿæˆäº†ã€‚\nYou selected this USER-ID: \u0026#34;Vane Hsiung \u0026lt;1664548605@qq.com\u0026gt;\u0026#34; ç³»ç»Ÿä¼šè®©ä½ æœ€åç¡®è®¤ä¸€æ¬¡ã€‚\nChange (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? è¾“å…¥Oè¡¨ç¤º\u0026quot;ç¡®å®š\u0026rdquo;ã€‚\næ¥ç€ï¼Œç³»ç»Ÿä¼šè¦æ±‚ä½ åšä¸€äº›éšæœºçš„ä¸¾åŠ¨ï¼Œä»¥ç”Ÿæˆä¸€ä¸ªéšæœºæ•°ã€‚åŒæ—¶ç³»ç»Ÿä¼šè®©ä½ è®¾å®šä¸€ä¸ªç§é’¥çš„å¯†ç ã€‚è¿™æ˜¯ä¸ºäº†é˜²æ­¢è¯¯æ“ä½œï¼Œæˆ–è€…ç³»ç»Ÿè¢«ä¾µå…¥æ—¶æœ‰äººæ“…è‡ªåŠ¨ç”¨ç§é’¥ã€‚\nWe need to generate a lot of random bytes. It is a good idea to performsome other action (type on the keyboard, move the mouse, utilize thedisks) during the prime generation; this gives the random numbergenerator a better chance to gain enough entropy. ç„¶åï¼Œç³»ç»Ÿå°±å¼€å§‹ç”Ÿæˆå¯†é’¥äº†ï¼Œ\nå‡ åˆ†é’Ÿä»¥åï¼Œç³»ç»Ÿæç¤ºå¯†é’¥å·²ç»ç”Ÿæˆäº†ã€‚\ngpg: key B893B73ABC92D2CA marked as ultimately trusted gpg: revocation certificate stored as \u0026#39;\u0026#39;public and secret key created and signed. è¯·æ³¨æ„ä¸Šé¢çš„å­—ç¬¦ä¸²\u0026quot;B893B73ABC92D2CA\u0026rdquo;ï¼Œè¿™æ˜¯\u0026quot;ç”¨æˆ·ID\u0026quot;çš„Hashå­—ç¬¦ä¸²ï¼Œå¯ä»¥ç”¨æ¥æ›¿ä»£\u0026quot;ç”¨æˆ·ID\u0026rdquo;ã€‚\nè¿™æ—¶ï¼Œæœ€å¥½å†ç”Ÿæˆä¸€å¼ \u0026quot;æ’¤é”€è¯ä¹¦\u0026rdquo;ï¼Œä»¥å¤‡ä»¥åå¯†é’¥ä½œåºŸæ—¶ï¼Œå¯ä»¥è¯·æ±‚å¤–éƒ¨çš„å…¬é’¥æœåŠ¡å™¨æ’¤é”€ä½ çš„å…¬é’¥ã€‚\n$ gpg --gen-revoke [ç”¨æˆ·ID] ä¸Šé¢çš„\u0026quot;ç”¨æˆ·ID\u0026quot;éƒ¨åˆ†ï¼Œå¯ä»¥å¡«å…¥ä½ çš„é‚®ä»¶åœ°å€æˆ–è€…Hashå­—ç¬¦ä¸²ï¼ˆä»¥ä¸‹åŒï¼‰ã€‚\nå¯†é’¥ç®¡ç† åˆ—å‡ºå¯†é’¥\nlist-keyså‚æ•°åˆ—å‡ºç³»ç»Ÿä¸­å·²æœ‰çš„å¯†é’¥ï¼\n$ gpg --list-keys æ˜¾ç¤ºç»“æœå¦‚ä¸‹ï¼š\ngpg: checking the trustdb gpg: marginals needed: 3 completes needed: 1 trust model: pgp gpg: depth: 0 valid: 1 signed: 0 trust: 0-, 0q, 0n, 0m, 0f, 1u /home/vane/.gnupg/pubring.kbx ----------------------------- pub rsa3072 2021-10-17 [SC] BC158F7500033355B5324CF14C701F8BF2E03463 uid [ultimate] Vane Hsiung \u0026lt;1664548605@qq.com\u0026gt; sub rsa3072 2021-10-17 [E] ç¬¬ä¸€è¡Œæ˜¾ç¤ºå…¬é’¥æ–‡ä»¶åï¼ˆpubring.gpgï¼‰ï¼Œç¬¬äºŒè¡Œæ˜¾ç¤ºå…¬é’¥ç‰¹å¾ï¼ˆ4096ä½ï¼ŒHashå­—ç¬¦ä¸²å’Œç”Ÿæˆæ—¶é—´ï¼‰ï¼Œç¬¬ä¸‰è¡Œæ˜¾ç¤º\u0026quot;ç”¨æˆ·ID\u0026quot;ï¼Œç¬¬å››è¡Œæ˜¾ç¤ºç§é’¥ç‰¹å¾ã€‚\nå¦‚æœä½ è¦ä»å¯†é’¥åˆ—è¡¨ä¸­åˆ é™¤æŸä¸ªå¯†é’¥ï¼Œå¯ä»¥ä½¿ç”¨å¦‚ä¸‹å‚æ•°ã€‚\n$ gpg --delete-secret-keys [ç”¨æˆ·ID] $ gpg --delete-key [ç”¨æˆ·ID] è¾“å‡ºå¯†é’¥\nå…¬é’¥æ–‡ä»¶ï¼ˆ.gnupg/pubring.gpgï¼‰ä»¥äºŒè¿›åˆ¶å½¢å¼å‚¨å­˜ï¼Œarmorå‚æ•°å¯ä»¥å°†å…¶è½¬æ¢ä¸ºASCIIç æ˜¾ç¤ºã€‚\n$ gpg --armor --output public-key.txt --export [ç”¨æˆ·ID] \u0026ldquo;ç”¨æˆ·ID\u0026quot;æŒ‡å®šå“ªä¸ªç”¨æˆ·çš„å…¬é’¥ï¼Œoutputå‚æ•°æŒ‡å®šè¾“å‡ºæ–‡ä»¶åï¼ˆpublic-key.txtï¼‰ã€‚\nç±»ä¼¼åœ°ï¼Œexport-secret-keyså‚æ•°å¯ä»¥è½¬æ¢ç§é’¥ã€‚\n$ gpg --armor --output private-key.txt --export-secret-keys ä¸Šä¼ å…¬é’¥\nå…¬é’¥æœåŠ¡å™¨æ˜¯ç½‘ç»œä¸Šä¸“é—¨å‚¨å­˜ç”¨æˆ·å…¬é’¥çš„æœåŠ¡å™¨ã€‚send-keyså‚æ•°å¯ä»¥å°†å…¬é’¥ä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚\n$ gpg --send-keys [ç”¨æˆ·ID] --keyserver hkp://subkeys.pgp.net ä½¿ç”¨ä¸Šé¢çš„å‘½ä»¤ï¼Œä½ çš„å…¬é’¥å°±è¢«ä¼ åˆ°äº†æœåŠ¡å™¨subkeys.pgp.netï¼Œç„¶åé€šè¿‡äº¤æ¢æœºåˆ¶ï¼Œæ‰€æœ‰çš„å…¬é’¥æœåŠ¡å™¨æœ€ç»ˆéƒ½ä¼šåŒ…å«ä½ çš„å…¬é’¥ã€‚\nç”±äºå…¬é’¥æœåŠ¡å™¨æ²¡æœ‰æ£€æŸ¥æœºåˆ¶ï¼Œä»»ä½•äººéƒ½å¯ä»¥ç”¨ä½ çš„åä¹‰ä¸Šä¼ å…¬é’¥ï¼Œæ‰€ä»¥æ²¡æœ‰åŠæ³•ä¿è¯æœåŠ¡å™¨ä¸Šçš„å…¬é’¥çš„å¯é æ€§ã€‚é€šå¸¸ï¼Œä½ å¯ä»¥åœ¨ç½‘ç«™ä¸Šå…¬å¸ƒä¸€ä¸ªå…¬é’¥æŒ‡çº¹ï¼Œè®©å…¶ä»–äººæ ¸å¯¹ä¸‹è½½åˆ°çš„å…¬é’¥æ˜¯å¦ä¸ºçœŸã€‚fingerprintå‚æ•°ç”Ÿæˆå…¬é’¥æŒ‡çº¹ã€‚\n$ gpg --fingerprint [ç”¨æˆ·ID] è¾“å…¥å¯†é’¥\né™¤äº†ç”Ÿæˆè‡ªå·±çš„å¯†é’¥ï¼Œè¿˜éœ€è¦å°†ä»–äººçš„å…¬é’¥æˆ–è€…ä½ çš„å…¶ä»–å¯†é’¥è¾“å…¥ç³»ç»Ÿã€‚è¿™æ—¶å¯ä»¥ä½¿ç”¨importå‚æ•°ã€‚\n$ gpg --import [å¯†é’¥æ–‡ä»¶] ä¸ºäº†è·å¾—ä»–äººçš„å…¬é’¥ï¼Œå¯ä»¥è®©å¯¹æ–¹ç›´æ¥å‘ç»™ä½ ï¼Œæˆ–è€…åˆ°å…¬é’¥æœåŠ¡å™¨ä¸Šå¯»æ‰¾ã€‚\n$ gpg --keyserver hkp://subkeys.pgp.net --search-keys [ç”¨æˆ·ID] æ­£å¦‚å‰é¢æåˆ°çš„ï¼Œæˆ‘ä»¬æ— æ³•ä¿è¯æœåŠ¡å™¨ä¸Šçš„å…¬é’¥æ˜¯å¦å¯é ï¼Œä¸‹è½½åè¿˜éœ€è¦ç”¨å…¶ä»–æœºåˆ¶éªŒè¯ï¼\nåŠ å¯†å’Œè§£å¯† åŠ å¯†\nå‡å®šæœ‰ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶demo.txtï¼Œæ€æ ·å¯¹å®ƒåŠ å¯†å‘¢ï¼Ÿ\nencryptå‚æ•°ç”¨äºåŠ å¯†ã€‚\n$ gpg --recipient [ç”¨æˆ·ID] --output demo.en.txt --encrypt demo.txt recipientå‚æ•°æŒ‡å®šæ¥æ”¶è€…çš„å…¬é’¥ï¼Œoutputå‚æ•°æŒ‡å®šåŠ å¯†åçš„æ–‡ä»¶åï¼Œencryptå‚æ•°æŒ‡å®šæºæ–‡ä»¶ã€‚è¿è¡Œä¸Šé¢çš„å‘½ä»¤åï¼Œdemo.en.txtå°±æ˜¯å·²åŠ å¯†çš„æ–‡ä»¶ï¼Œå¯ä»¥æŠŠå®ƒå‘ç»™å¯¹æ–¹ã€‚\nè§£å¯†\nå¯¹æ–¹æ”¶åˆ°åŠ å¯†æ–‡ä»¶ä»¥åï¼Œå°±ç”¨è‡ªå·±çš„ç§é’¥è§£å¯†ã€‚\n$ gpg --output demo.de.txt --decrypt demo.en.txt output æŒ‡å®šè§£å¯†åç”Ÿæˆçš„æ–‡ä»¶ï¼Œdecryptå‚æ•°æŒ‡å®šéœ€è¦è§£å¯†çš„æ–‡ä»¶ã€‚è¿è¡Œä¸Šé¢çš„å‘½ä»¤ï¼Œdemo.de.txtå°±æ˜¯è§£å¯†åçš„æ–‡ä»¶ã€‚\nGPGå…è®¸çœç•¥decryptå‚æ•°ã€‚\n$ gpg demo.en.txt ç­¾å å¯¹æ–‡ä»¶ç­¾å\næœ‰æ—¶ï¼Œæˆ‘ä»¬ä¸éœ€è¦åŠ å¯†æ–‡ä»¶ï¼Œåªéœ€è¦å¯¹æ–‡ä»¶ç­¾åï¼Œè¡¨ç¤ºè¿™ä¸ªæ–‡ä»¶ç¡®å®æ˜¯æˆ‘æœ¬äººå‘å‡ºçš„ã€‚signå‚æ•°ç”¨æ¥ç­¾åã€‚\n$ gpg --sign demo.txt è¿è¡Œä¸Šé¢çš„å‘½ä»¤åï¼Œå½“å‰ç›®å½•ä¸‹ç”Ÿæˆdemo.txt.gpgæ–‡ä»¶ï¼Œè¿™å°±æ˜¯ç­¾ååçš„æ–‡ä»¶ã€‚è¿™ä¸ªæ–‡ä»¶é»˜è®¤é‡‡ç”¨äºŒè¿›åˆ¶å‚¨å­˜ï¼Œå¦‚æœæƒ³ç”ŸæˆASCIIç çš„ç­¾åæ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨clearsignå‚æ•°ã€‚\n$ gpg --clearsign demo.txt è¿è¡Œä¸Šé¢çš„å‘½ä»¤å ï¼Œå½“å‰ç›®å½•ä¸‹ç”Ÿæˆdemo.txt.ascæ–‡ä»¶ï¼Œåç¼€åascè¡¨ç¤ºè¯¥æ–‡ä»¶æ˜¯ASCIIç å½¢å¼çš„ã€‚\nå¦‚æœæƒ³ç”Ÿæˆå•ç‹¬çš„ç­¾åæ–‡ä»¶ï¼Œä¸æ–‡ä»¶å†…å®¹åˆ†å¼€å­˜æ”¾ï¼Œå¯ä»¥ä½¿ç”¨detach-signå‚æ•°ã€‚ã€€$ gpg --detach-sign demo.txt è¿è¡Œä¸Šé¢çš„å‘½ä»¤åï¼Œå½“å‰ç›®å½•ä¸‹ç”Ÿæˆä¸€ä¸ªå•ç‹¬çš„ç­¾åæ–‡ä»¶demo.txt.sigã€‚è¯¥æ–‡ä»¶æ˜¯äºŒè¿›åˆ¶å½¢å¼çš„ï¼Œå¦‚æœæƒ³é‡‡ç”¨ASCIIç å½¢å¼ï¼Œè¦åŠ ä¸Šarmorå‚æ•°ã€‚ã€€$ gpg --armor --detach-sign demo.txt ç­¾å+åŠ å¯†\nä¸Šä¸€èŠ‚çš„å‚æ•°ï¼Œéƒ½æ˜¯åªç­¾åä¸åŠ å¯†ã€‚å¦‚æœæƒ³åŒæ—¶ç­¾åå’ŒåŠ å¯†ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ã€‚\n$ gpg --local-user [å‘ä¿¡è€…ID] --recipient [æ¥æ”¶è€…ID] --armor --sign --encrypt demo.txt local-userå‚æ•°æŒ‡å®šç”¨å‘ä¿¡è€…çš„ç§é’¥ç­¾åï¼Œrecipientå‚æ•°æŒ‡å®šç”¨æ¥æ”¶è€…çš„å…¬é’¥åŠ å¯†ï¼Œarmorå‚æ•°è¡¨ç¤ºé‡‡ç”¨ASCIIç å½¢å¼æ˜¾ç¤ºï¼Œsignå‚æ•°è¡¨ç¤ºéœ€è¦ç­¾åï¼Œencryptå‚æ•°è¡¨ç¤ºæŒ‡å®šæºæ–‡ä»¶ã€‚\néªŒè¯ç­¾å\næˆ‘ä»¬æ”¶åˆ°åˆ«äººç­¾ååçš„æ–‡ä»¶ï¼Œéœ€è¦ç”¨å¯¹æ–¹çš„å…¬é’¥éªŒè¯ç­¾åæ˜¯å¦ä¸ºçœŸã€‚verifyå‚æ•°ç”¨æ¥éªŒè¯ã€‚\n$ gpg --verify demo.txt.asc demo.txt ä¸¾ä¾‹æ¥è¯´ï¼Œopenvpnç½‘ç«™å°±æä¾›æ¯ä¸€ä¸ªä¸‹è½½åŒ…çš„gpgç­¾åæ–‡ä»¶ã€‚ä½ å¯ä»¥æ ¹æ®å®ƒçš„è¯´æ˜ï¼ŒéªŒè¯è¿™äº›ä¸‹è½½åŒ…æ˜¯å¦ä¸ºçœŸã€‚\nLinux Kernel æ¥è‡ª Wikipedia:\n å†…æ ¸æ˜¯è®¡ç®—æœºæ“ä½œç³»ç»Ÿçš„æ ¸å¿ƒç»„ä»¶ï¼Œå¯¹ç³»ç»Ÿæœ‰å®Œå…¨çš„æ§åˆ¶ã€‚å¼€æœºæ—¶æœ€å…ˆå¯åŠ¨ï¼Œç„¶åè´Ÿè´£åç»­çš„å¯åŠ¨å·¥ä½œã€‚å®ƒè´Ÿè´£å¤„ç†å…¶å®ƒè½¯ä»¶çš„è¯·æ±‚ï¼Œå°†è¿™äº›è¯·æ±‚è½¬åŒ–ä¸ºä¸­å¤®å¤„ç†å™¨çš„æ•°æ®å¤„ç†è¯·æ±‚ã€‚å†…æ ¸è¿˜è´Ÿè´£ç®¡ç†å†…å­˜ï¼Œç®¡ç†ç³»ç»Ÿå’Œå…¶å®ƒæ‰“å°æœºã€æ‰¬å£°å™¨ç­‰å¤–å›´è®¾å¤‡çš„é€šè®¯ï¼Œæ˜¯æ“ä½œç³»ç»Ÿæœ€åŸºç¡€çš„éƒ¨åˆ†ã€‚\n å†…æ ¸åŒ…å®‰è£…åœ¨/boot/ä¸‹çš„æ–‡ä»¶ç³»ç»Ÿä¸Šã€‚ä¸ºäº†èƒ½å¤Ÿå¼•å¯¼åˆ°å†…æ ¸ï¼Œå¿…é¡»é€‚å½“é…ç½®å¯åŠ¨åŠ è½½å™¨ã€‚\nKernel module å†…æ ¸æ¨¡å—æ˜¯å¯ä»¥æŒ‰éœ€åŠ è½½æˆ–å¸è½½çš„å†…æ ¸ä»£ç ï¼Œå¯ä»¥ä¸é‡å¯ç³»ç»Ÿå°±æ‰©å……å†…æ ¸çš„åŠŸèƒ½ã€‚\nè¦åˆ›å»ºå†…æ ¸æ¨¡å—ï¼Œè¯·é˜…è¯»æ­¤æŒ‡å—ã€‚æ¨¡å—å¯ä»¥è®¾ç½®æˆå†…ç½®æˆ–è€…åŠ¨æ€åŠ è½½ï¼Œè¦ç¼–è¯‘æˆå¯åŠ¨æ€åŠ è½½ï¼Œéœ€è¦åœ¨å†…æ ¸é…ç½®æ—¶å°†æ¨¡å—é…ç½®ä¸º M (æ¨¡å—)ã€‚\nè·å–ä¿¡æ¯ æ¨¡å—ä¿å­˜åœ¨ /lib/modules/kernel_release (ä½¿ç”¨ uname -r å‘½ä»¤æ˜¾ç¤ºå½“å‰å†…æ ¸ç‰ˆæœ¬)ã€‚\næ³¨æ„ï¼š æ¨¡å—åé€šå¸¸ä½¿ç”¨ (_) æˆ– - è¿æ¥ï¼Œä½†æ˜¯è¿™äº›ç¬¦å·åœ¨ modprobe å‘½ä»¤å’Œ /etc/modprobe.d/ é…ç½®æ–‡ä»¶ä¸­éƒ½æ˜¯å¯ä»¥ç›¸äº’æ›¿æ¢çš„ã€‚\næ˜¾ç¤ºå½“å‰è£…å…¥çš„å†…æ ¸æ¨¡å—ï¼š\n$ lsmod åœ¨ä¸Šé¢çš„è¾“å‡ºä¸­ï¼š\n Module æ˜¾ç¤ºæ¯ä¸ªæ¨¡å—çš„åç§° Size æ˜¾ç¤ºæ¯ä¸ªæ¨¡å—çš„å¤§å°ï¼ˆå¹¶ä¸æ˜¯å®ƒä»¬å çš„å†…å­˜å¤§å°ï¼‰ Used by æ˜¾ç¤ºæ¯ä¸ªæ¨¡å—è¢«ä½¿ç”¨çš„æ¬¡æ•°å’Œä½¿ç”¨å®ƒä»¬çš„æ¨¡å—  æ˜¾ç„¶ï¼Œè¿™é‡Œæœ‰å¾ˆå¤šæ¨¡å—ã€‚åŠ è½½çš„æ¨¡å—æ•°é‡å–å†³äºä½ çš„ç³»ç»Ÿå’Œç‰ˆæœ¬ä»¥åŠæ­£åœ¨è¿è¡Œçš„å†…å®¹ã€‚æˆ‘ä»¬å¯ä»¥è¿™æ ·è®¡æ•°ï¼š\n$ lsmod | wc -l 67 modules.builtin æ–‡ä»¶ä¸­åˆ—å‡ºäº†æ‰€æœ‰æ„å»ºåœ¨å†…æ ¸ä¸­çš„æ¨¡å—\n$ more /lib/modules/$(uname -r)/modules.builtin | head -10 kernel/arch/x86/crypto/crc32c-intel.ko kernel/arch/x86/events/intel/intel-uncore.ko kernel/arch/x86/platform/intel/iosf_mbi.ko kernel/mm/zpool.ko kernel/mm/zbud.ko kernel/mm/zsmalloc.ko kernel/fs/binfmt_script.ko kernel/fs/mbcache.ko kernel/fs/configfs/configfs.ko kernel/fs/crypto/fscrypto.ko æ˜¾ç¤ºæ¨¡å—ä¿¡æ¯ï¼š\n$ modinfo module_name æ˜¾ç¤ºæ‰€æœ‰æ¨¡å—çš„é…ç½®ä¿¡æ¯ï¼š\n$ modprobe -c | less æ˜¾ç¤ºæŸä¸ªæ¨¡å—çš„é…ç½®ä¿¡æ¯ï¼š\n$ modprobe -c | grep module_name æ˜¾ç¤ºä¸€ä¸ªè£…å…¥æ¨¡å—ä½¿ç”¨çš„é€‰é¡¹ï¼š\n$ systool -v -m module_name æ˜¾ç¤ºæ¨¡å—çš„ä¾èµ–å…³ç³»ï¼š\n$ modprobe --show-depends module_name ä½¿ç”¨systemdè‡ªåŠ¨åŠ è½½æ¨¡å— ç›®å‰ï¼Œæ‰€æœ‰å¿…è¦æ¨¡å—çš„åŠ è½½å‡ç”± udev è‡ªåŠ¨å®Œæˆã€‚æ‰€ä»¥ï¼Œå¦‚æœä¸éœ€è¦ä½¿ç”¨ä»»ä½•é¢å¤–çš„æ¨¡å—ï¼Œå°±æ²¡æœ‰å¿…è¦åœ¨ä»»ä½•é…ç½®æ–‡ä»¶ä¸­æ·»åŠ å¯åŠ¨æ—¶åŠ è½½çš„æ¨¡å—ã€‚ä½†æ˜¯ï¼Œæœ‰äº›æƒ…å†µä¸‹å¯èƒ½éœ€è¦åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶åŠ è½½æŸä¸ªé¢å¤–çš„æ¨¡å—ï¼Œæˆ–è€…å°†æŸä¸ªæ¨¡å—åˆ—å…¥é»‘åå•ä»¥ä¾¿ä½¿ç³»ç»Ÿæ­£å¸¸è¿è¡Œã€‚\nå†…æ ¸æ¨¡å—å¯ä»¥åœ¨/etc/modules-load.d/ ä¸‹çš„æ–‡ä»¶ä¸­æ˜ç¡®åˆ—å‡ºï¼Œä»¥ä¾¿systemdåœ¨å¼•å¯¼è¿‡ç¨‹ä¸­åŠ è½½å®ƒä»¬ã€‚ æ¯ä¸ªé…ç½®æ–‡ä»¶éƒ½ä»¥ /etc/modules-load.d/\u0026lt;program\u0026gt;.confçš„æ ·å¼å‘½åã€‚ é…ç½®æ–‡ä»¶ä»…åŒ…å«è¦åŠ è½½çš„å†…æ ¸æ¨¡å—åç§°åˆ—è¡¨ï¼Œä»¥æ¢è¡Œç¬¦åˆ†éš”ã€‚ ç©ºè¡Œå’Œç¬¬ä¸€ä¸ªéç©ºç™½å­—ç¬¦ä¸º#æˆ–;çš„è¡Œè¢«å¿½ç•¥ã€‚\n$ cat /etc/modules-load.d/virtio-net.conf # Load virtio_net.ko at boot virtio_net å¦è§modules-load.d(5)ã€‚\næ‰‹åŠ¨åŠ è½½å¸è½½ æ§åˆ¶å†…æ ¸æ¨¡å—è½½å…¥/ç§»é™¤çš„å‘½ä»¤æ˜¯kmod è½¯ä»¶åŒ…æä¾›çš„, è¦æ‰‹åŠ¨è£…å…¥æ¨¡å—çš„è¯ï¼Œæ‰§è¡Œ:\n# modprobe module_name æŒ‰æ–‡ä»¶ååŠ è½½æ¨¡å—:\n# insmod filename [args] æ³¨æ„ï¼š å¦‚æœå‡çº§äº†å†…æ ¸ä½†æ˜¯æ²¡æœ‰é‡å¯ï¼Œè·¯å¾„ /usr/lib/modules/$(uname -r)/ å·²ç»ä¸å­˜åœ¨ã€‚modprobe ä¼šè¿”å›é”™è¯¯ 1ï¼Œæ²¡æœ‰é¢å¤–çš„é”™è¯¯ä¿¡æ¯ã€‚å¦‚æœå‡ºç° modprobe åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ¨¡å—è·¯å¾„ä»¥ç¡®è®¤æ˜¯å¦æ˜¯è¿™ä¸ªé—®é¢˜å¯¼è‡´ã€‚\nå¦‚æœè¦ç§»é™¤ä¸€ä¸ªæ¨¡å—ï¼š\n# modprobe -r module_name æˆ–è€…:\n# rmmod module_name é…ç½®æ¨¡å—å‚æ•° æ‰‹åŠ¨åŠ è½½æ—¶è®¾ç½® ä¼ é€’å‚æ•°çš„åŸºæœ¬æ–¹å¼æ˜¯ä½¿ç”¨ modprobe é€‰é¡¹ï¼Œæ ¼å¼æ˜¯ key=valueï¼š\n# modprobe module_name parameter_name=parameter_value ä½¿ç”¨ /etc/modprobe.d/ä¸­çš„æ–‡ä»¶ è¦é€šè¿‡é…ç½®æ–‡ä»¶ä¼ é€’å‚æ•°ï¼Œåœ¨ /etc/modprobe.d/ ä¸­æ”¾å…¥ä»»æ„åç§° .conf æ–‡ä»¶ï¼ŒåŠ å…¥:\n$ sudo gedit /etc/modprobe.d/myfilename.conf options modname parametername=parametercontents ä¾‹å¦‚\n$ sudo gedit /etc/modprobe.d/thinkfan.conf # On thinkpads, this lets the thinkfan daemon control fan speed options thinkpad_acpi fan_control=1 æ³¨æ„ï¼š å¦‚æœè¦åœ¨å¯åŠ¨æ—¶å°±ä¿®æ”¹å†…æ ¸å‚æ•°(ä» init ramdisk å¼€å§‹)ï¼Œéœ€è¦å°†ç›¸åº”çš„.conf-æ–‡ä»¶åŠ å…¥ mkinitcpio.conf çš„ FILES å‚æ•°ä¸­ã€‚\nä½¿ç”¨å†…æ ¸å‘½ä»¤è¡Œ å¦‚æœæ¨¡å—ç›´æ¥ç¼–è¯‘è¿›å†…æ ¸ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å¯åŠ¨ç®¡ç†å™¨(GRUB, LILO æˆ– Syslinux)çš„å†…æ ¸è¡ŒåŠ å…¥å‚æ•°ï¼š\nmodname.parametername=parametercontents ä¾‹å¦‚:\nthinkpad_acpi.fan_control=1 åˆ«å $ cat /etc/modprobe.d/myalias.conf # Lets you use \u0026#39;mymod\u0026#39; in MODULES, instead of \u0026#39;really_long_module_name\u0026#39; alias mymod really_long_module_name æœ‰äº›æ¨¡å—å…·æœ‰åˆ«åï¼Œä»¥æ–¹ä¾¿å…¶å®ƒç¨‹åºè‡ªåŠ¨è£…å…¥æ¨¡å—ã€‚ç¦ç”¨è¿™äº›åˆ«åå¯ä»¥é˜»æ­¢è‡ªåŠ¨è£…å…¥ï¼Œä½†æ˜¯ä»ç„¶å¯ä»¥æ‰‹åŠ¨è£…å…¥ã€‚\n$ cat /etc/modprobe.d/modprobe.conf # Prevent autoload of bluetooth alias net-pf-31 off # Prevent autoload of ipv6 alias net-pf-10 off é»‘åå• ç¦ç”¨å†…æ ¸æ¨¡å— å¯¹å†…æ ¸æ¨¡å—æ¥è¯´ï¼Œé»‘åå•æ˜¯æŒ‡ç¦æ­¢æŸä¸ªæ¨¡å—è£…å…¥çš„æœºåˆ¶ã€‚å½“å¯¹åº”çš„ç¡¬ä»¶ä¸å­˜åœ¨æˆ–è€…è£…å…¥æŸä¸ªæ¨¡å—ä¼šå¯¼è‡´é—®é¢˜æ—¶å¾ˆæœ‰ç”¨ã€‚\næœ‰äº›æ¨¡å—ä½œä¸º initramfs çš„ä¸€éƒ¨åˆ†è£…å…¥ã€‚\nmkinitcpio -M ä¼šæ˜¾ç¤ºæ‰€æœ‰è‡ªåŠ¨æ£€æµ‹åˆ°åˆ°æ¨¡å—ï¼šè¦é˜»æ­¢ initramfs è£…å…¥æŸäº›æ¨¡å—ï¼Œå¯ä»¥åœ¨ /etc/modprobe.dä¸­å°†å®ƒä»¬åŠ å…¥é»‘åå•ã€‚å¹¶åº”åœ¨æ˜ åƒç”Ÿæˆè¿‡ç¨‹ä¸­é€šè¿‡modconfæŒ‚é’©å°†å…¶æ·»åŠ ã€‚\nè¿è¡Œ mkinitcpio -v ä¼šæ˜¾ç¤ºå„ç§é’©å­(ä¾‹å¦‚ filesystem é’©å­, SCSI é’©å­ç­‰)è£…å…¥çš„æ¨¡å—ã€‚å¦‚æœæ‚¨çš„HOOKS æ•°ç»„ä¸­æ²¡æœ‰ modconf é’©å­ï¼ˆä¾‹å¦‚ï¼Œå’Œé»˜è®¤é…ç½®ä¸åŒï¼‰åˆ™è¯·å°†è¯¥\u0026rdquo;.conf\u0026quot;æ–‡ä»¶æ·»åŠ åˆ°/etc/mkinitcpio.confä¸­çš„FILESæ•°ç»„ä¸­ã€‚ä¸€æ—¦æ‚¨å°†å…¶åˆ—å…¥é»‘åå•ï¼Œè¯·é‡æ–°ç”Ÿæˆ initramfsï¼Œç„¶åé‡æ–°å¯åŠ¨ã€‚\nä½¿ç”¨ /etc/modprobe.d/ ä¸­çš„æ–‡ä»¶ åœ¨ /etc/modprobe.d/ ä¸­åˆ›å»º .conf æ–‡ä»¶ï¼Œä½¿ç”¨ blacklist å…³é”®å­—å±è”½ä¸éœ€è¦çš„æ¨¡å—ï¼Œä¾‹å¦‚å¦‚æœä¸æƒ³è£…å…¥ pcspkr æ¨¡å—ï¼š\n$ sudo gedit /etc/modprobe.d/nobeep.conf # Do not load the pcspkr module on boot blacklist pcspkr æ³¨æ„ï¼š blacklist å‘½ä»¤å°†å±è”½ä¸€ä¸ªæ¨¡æ¿ï¼Œæ‰€ä»¥ä¸ä¼šè‡ªåŠ¨è£…å…¥ï¼Œä½†æ˜¯å¦‚æœå…¶å®ƒéå±è”½æ¨¡å—éœ€è¦è¿™ä¸ªæ¨¡å—ï¼Œç³»ç»Ÿä¾ç„¶ä¼šè£…å…¥å®ƒã€‚\nè¦é¿å…è¿™ä¸ªè¡Œä¸ºï¼Œå¯ä»¥è®© modprobe ä½¿ç”¨è‡ªå®šä¹‰çš„ install å‘½ä»¤ï¼Œè€Œä¸æ˜¯åƒå¾€å¸¸ä¸€æ ·å°†æ¨¡å—æ’å…¥å†…æ ¸ï¼Œå› æ­¤æ‚¨å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼å¼ºåˆ¶æ¨¡å—å§‹ç»ˆæ— æ³•åŠ è½½ï¼š\n$ sudo gedit /etc/modprobe.d/blacklist.conf ... install MODULE /bin/true ... è¿™æ ·å°±å¯ä»¥ \u0026ldquo;å±è”½\u0026rdquo; æ¨¡å—åŠæ‰€æœ‰ä¾èµ–å®ƒçš„æ¨¡å—ã€‚\nä½¿ç”¨å†…æ ¸å‘½ä»¤è¡Œ æç¤ºï¼š å¦‚æœæ¨¡å—æŸåå¯¼è‡´æ— æ³•å¼•å¯¼ç³»ç»Ÿï¼Œè¿™å°†éå¸¸æœ‰ç”¨ã€‚\næ‚¨ä¹Ÿå¯ä»¥ä»å¼•å¯¼åŠ è½½ç¨‹åºä¸­å°†æ¨¡å—åˆ—å…¥é»‘åå•ã€‚\nå¦‚Kernelå‚æ•°.ä¸­æ‰€è¿°ï¼Œåªéœ€å°†module_blacklist=modname1,modname2,modname3 æ·»åŠ åˆ°å¼•å¯¼åŠ è½½ç¨‹åºçš„å†…æ ¸è¡Œä¸­å³å¯ã€‚\næ³¨æ„ï¼š å°†å¤šä¸ªæ¨¡å—åˆ—å…¥é»‘åå•æ—¶ï¼Œè¯·æ³¨æ„ï¼Œå®ƒä»¬ä¹‹é—´ä»…ç”¨é€—å·åˆ†éš”ã€‚ ç©ºæ ¼æˆ–å…¶ä»–å†…å®¹å¯èƒ½ä¼šç ´åè¯­æ³•ã€‚\nKernel parameters ä¸€å…±æœ‰ä¸‰ç§åŠæ³•ï¼Œå¯ä»¥ç»™å†…æ ¸ä¼ é€’å‚æ•°ï¼Œç”¨äºæ§åˆ¶å…¶è¡Œä¸ºæ–¹å¼ï¼š\n åœ¨ç¼–è¯‘å†…æ ¸æ—¶ï¼ˆè¿™ä¸ªæœ€æ ¹æœ¬ï¼Œä¼šå†³å®šåé¢ä¸¤ç§æ–¹æ³•ï¼‰ å†…æ ¸å¯åŠ¨æ—¶(é€šå¸¸æ˜¯åœ¨ä¸€ä¸ªå¯åŠ¨ç®¡ç†å™¨é‡Œè®¾ç½®). åœ¨è¿è¡Œæ—¶ (é€šè¿‡ä¿®æ”¹åœ¨ /proc å’Œ /sysä¸­çš„æ–‡ä»¶).  æœ¬é¡µé¢ä¸»è¦æ˜¯è®²ç¬¬äºŒç§æ–¹æ³•ã€‚\né…ç½® å†…æ ¸å‚æ•°å¯ä»¥åœ¨å¯åŠ¨æ—¶ä¸´æ—¶ä¿®æ”¹ï¼Œä¹Ÿå¯ä»¥æ°¸ä¹…æ€§å†™åˆ°å¯åŠ¨ç®¡ç†å™¨çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œæ°¸è¿œèµ·ä½œç”¨ã€‚\nä¸‹é¢ç¤ºä¾‹æŠŠå‚æ•°quiet å’Œ splash åŠ åˆ°å¯åŠ¨ç®¡ç†å™¨ã€‚\nsystemd-boot   å½“å¯åŠ¨èœå•å‡ºç°æ—¶ æŒ‰ eè¿›å…¥ç¼–è¾‘ç•Œé¢:\ninitrd=\\initramfs-linux.img root=/dev/sda2 quiet splash   å¦‚æœæƒ³æ°¸ä¹…åŠ å…¥å‚æ•°ï¼Œç¼–è¾‘ /boot/loader/entries/arch.conf (å‡è®¾ä½ å·²ç»è®¾ç½®å¥½äº† EFI system partition) çš„options è¡Œ:\n  æ³¨æ„ï¼š\n å¦‚æœæ²¡æœ‰è®¾ç½®æ˜¾ç¤ºå¯åŠ¨èœå•, ä½ éœ€è¦æŒ‰ä½Spaceå¯åŠ¨ç”µè„‘æ¥è¿›å…¥å¯åŠ¨èœå• ã€‚ å¦‚æœä¸èƒ½å¤Ÿä»å¯åŠ¨èœå•ä¸Šè¿›è¡Œç¼–è¾‘ï¼Œä¿®æ”¹ /boot/loader/loader.conf åŠ å…¥ editor 1 æ¥å¼€å¯ç¼–è¾‘åŠŸèƒ½ã€‚  æ›´å¤šä¿¡æ¯è¯·å‚è§ systemd-boot .\nGRUB   åœ¨èœå•å‡ºç°åæŒ‰ e ç„¶åå°†å®ƒä»¬æ·»åŠ è‡³ linux è¡Œï¼š\nlinux /boot/vmlinuz-linux root=UUID=978e3e81-8048-4ae1-8a06-aa727458e8ff ro quiet splash æŒ‰ b ä»¥ä¾¿ç”¨è¿™äº›å‚æ•°å¯åŠ¨ã€‚\n  è¦ä½¿æ”¹å˜åœ¨é‡å¯åä»ç”Ÿæ•ˆï¼Œæ‚¨å¯ä»¥æ‰‹åŠ¨ç¼–è¾‘ /boot/grub/grub.cfg ä¸­çš„å¦‚ä¸Šå†…å®¹ã€‚å¯¹äºåˆå­¦è€…ï¼Œå»ºè®®ç¼–è¾‘ /etc/default/grub å¹¶å°†æ‚¨çš„å†…æ ¸é€‰é¡¹æ·»åŠ è‡³ GRUB_CMDLINE_LINUX_DEFAULT è¡Œï¼š\nGRUB_CMDLINE_LINUX_DEFAULT=\u0026quot;quiet splash\u0026quot; ç„¶åé‡æ–°ç”Ÿæˆ grub.cfg æ–‡ä»¶ï¼š\n# grub-mkconfig -o /boot/grub/grub.cfg   æœ‰å…³é…ç½®GRUBçš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚é˜… GRUB ã€‚\nå‘å¸ƒæ—¶é—´è¡¨ å†…æ ¸å‘å¸ƒæ—¶é—´è¡¨ï¼šæœ‰å—ï¼Ÿ çŸ­çš„å›ç­”æ˜¯ï¼Œæ¯ä¸¤åˆ°ä¸‰ä¸ªæœˆå°±æœ‰ä¸€ä¸ªæ–°çš„å†…æ ¸ç‰ˆæœ¬å‘å¸ƒã€‚é•¿çš„å›ç­”æ˜¯ï¼Œè¿™ä¸æ˜¯ä¸€ä¸ªç¡¬æ€§è§„å®šã€‚\nè¿™ä¸ªæ„æ€æ˜¯ï¼Œä½ ç»å¸¸ä¼šçœ‹åˆ°æ¯ä¸¤åˆ°ä¸‰ä¸ªæœˆå°±æœ‰ä¸€ä¸ªæ–°çš„å†…æ ¸ç‰ˆæœ¬å‘å¸ƒã€‚è¿™æ˜¯å†…æ ¸ç»´æŠ¤è€…å›¢é˜Ÿçš„ç›®æ ‡ï¼Œä½†å¹¶æ²¡æœ‰è§„å®šæ–°ç‰ˆæœ¬å¿…é¡»åœ¨å‰ä¸€ä¸ªç‰ˆæœ¬çš„ 8 å‘¨åå‡†æ—¶å‘å¸ƒçš„æœŸé™ã€‚\næ–°çš„å†…æ ¸ç‰ˆæœ¬ï¼ˆé€šå¸¸ï¼‰æ˜¯ç”± Linus Torvalds åœ¨å®ƒå‡†å¤‡å¥½çš„æ—¶å€™å‘å¸ƒçš„ã€‚é€šå¸¸æ˜¯æ¯ 2 åˆ° 3 ä¸ªæœˆå‘å¸ƒä¸€æ¬¡ã€‚è¯¥ç‰ˆæœ¬è¢«å®£å¸ƒä¸ºâ€œç¨³å®šâ€ï¼Œä¸€èˆ¬ä»¥ X.Y çš„æ ¼å¼ç¼–å·ã€‚\nä½†è¿™å¹¶ä¸æ˜¯ X.Y å¼€å‘çš„ç»“æŸã€‚ç¨³å®šç‰ˆä¼šæœ‰æ›´å¤šçš„å°ç‰ˆæœ¬ä»¥è¿›è¡Œé”™è¯¯çš„ä¿®å¤ã€‚è¿™äº›å°ç‰ˆæœ¬åœ¨ç¨³å®šç‰ˆçš„å†…æ ¸ä¸Šåˆå¢åŠ äº†ä¸€ä¸ªç‚¹ï¼Œå°±åƒæ˜¯ X.Y.Zã€‚\nè™½ç„¶ X.Yï¼ˆé€šå¸¸ï¼‰æ˜¯ç”± Linux åˆ›é€ è€… Linus Torvalds å‘å¸ƒçš„ï¼Œä½†æ˜¯ç»´æŠ¤ç¨³å®šçš„ X.Y å†…æ ¸ã€åˆå¹¶é”™è¯¯ä¿®å¤å’Œå‘å¸ƒ X.Y.Z ç‰ˆæœ¬çš„è´£ä»»æ˜¯ç”±å¦å¤–çš„å†…æ ¸å¼€å‘è€…è´Ÿè´£çš„ã€‚\nä¸€ä¸ªå†…æ ¸ç‰ˆæœ¬æ”¯æŒå¤šé•¿æ—¶é—´ï¼Ÿ å’Œå‘å¸ƒä¸€æ ·ï¼Œä¸€ä¸ªå†…æ ¸ç‰ˆæœ¬æ”¯æŒå¤šé•¿æ—¶é—´ä¹Ÿæ²¡æœ‰å›ºå®šçš„æ—¥æœŸå’Œæ—¶é—´è¡¨ã€‚\nä¸€ä¸ªæ™®é€šçš„ç¨³å®šå†…æ ¸ç‰ˆæœ¬é€šå¸¸ä¼šè¢«æ”¯æŒä¸¤ä¸ªåŠæœˆåˆ°ä¸‰ä¸ªæœˆï¼Œè¿™å–å†³äºä¸‹ä¸€ä¸ªç¨³å®šå†…æ ¸ç‰ˆæœ¬çš„å‘å¸ƒæ—¶é—´ã€‚\nä¾‹å¦‚ï¼Œç¨³å®šç‰ˆå†…æ ¸ 5.14 ä¼šåœ¨ç¨³å®šç‰ˆå†…æ ¸ 5.15 å‘å¸ƒåçš„å‡ å‘¨å†…è¾¾åˆ°ç”Ÿå‘½æœ«æœŸã€‚ç»“æŸæ”¯æŒæ˜¯ç”±è¯¥ç¨³å®šå†…æ ¸ç‰ˆæœ¬çš„ç»´æŠ¤è€…åœ¨ Linux å†…æ ¸é‚®ä»¶åˆ—è¡¨ä¸­å®£å¸ƒçš„ã€‚ç”¨æˆ·å’Œè´¡çŒ®è€…ä¼šè¢«è¦æ±‚åˆ‡æ¢åˆ°æ–°å‘å¸ƒçš„ç¨³å®šç‰ˆæœ¬ã€‚\nä½†è¿™åªé€‚ç”¨äºæ­£å¸¸çš„ç¨³å®šå†…æ ¸ç‰ˆæœ¬ï¼Œè¿˜æœ‰ LTSï¼ˆé•¿æœŸæ”¯æŒï¼‰å†…æ ¸ç‰ˆæœ¬ï¼Œå®ƒä»¬çš„æ”¯æŒæœŸè¦æ¯” 3 ä¸ªæœˆé•¿å¾—å¤šã€‚\nLTS å†…æ ¸ï¼šå®ƒæ”¯æŒå¤šé•¿æ—¶é—´ï¼Ÿ LTS å†…æ ¸ä¹Ÿæ²¡æœ‰å›ºå®šçš„å‘å¸ƒæ—¶é—´è¡¨ã€‚é€šå¸¸ï¼Œæ¯å¹´éƒ½æœ‰ä¸€ä¸ª LTS å†…æ ¸ç‰ˆæœ¬ï¼Œä¸€èˆ¬æ˜¯å½“å¹´çš„æœ€åä¸€ä¸ªç‰ˆæœ¬ï¼Œå®ƒè‡³å°‘ä¼šè¢«æ”¯æŒä¸¤å¹´ã€‚ä½†åŒæ ·ï¼Œè¿™é‡Œä¹Ÿæ²¡æœ‰å›ºå®šçš„è§„åˆ™ã€‚\nLTS å†…æ ¸çš„ç»´æŠ¤è€…å¯ä»¥åŒæ„æŸä¸ª LTS å†…æ ¸çš„ç»´æŠ¤æ—¶é—´è¶…è¿‡é€šå¸¸çš„ä¸¤å¹´ã€‚è¿™ä¸ªåè®®æ˜¯æ ¹æ®å¿…è¦æ€§å’Œå‚ä¸çš„äººå‘˜æ¥è¾¾æˆçš„ã€‚\nè¿™ç§æƒ…å†µç»å¸¸å‘ç”Ÿåœ¨ Android é¡¹ç›®ä¸­ã€‚ç”±äºä¸¤å¹´çš„æ—¶é—´ä¸è¶³ä»¥è®©åˆ¶é€ å•†ç»“æŸå¯¹ä»–ä»¬çš„ç¡¬ä»¶å’Œè½¯ä»¶åŠŸèƒ½çš„æ”¯æŒï¼Œä½ ç»å¸¸ä¼šå‘ç°ä¸€äº› LTS å†…æ ¸ä¼šè¢«æ”¯æŒå…­å¹´ä¹‹ä¹…ã€‚\nä½ å¯ä»¥ åœ¨ Linux å†…æ ¸ç½‘ç«™ä¸Š æ‰¾åˆ°è¿™ä¸ªä¿¡æ¯ã€‚\nä½ çš„å‘è¡Œç‰ˆå¯èƒ½æ²¡æœ‰è·Ÿéšé€šå¸¸çš„ Linux å†…æ ¸ç‰ˆæœ¬ å¦‚æœä½ æ£€æŸ¥ä½ çš„ Linux å†…æ ¸ç‰ˆæœ¬ï¼Œä½ å¯èƒ½ä¼šå‘ç° ä½ çš„å‘è¡Œç‰ˆä½¿ç”¨äº†ä¸€ä¸ªæ—§çš„å†…æ ¸ã€‚ä¹Ÿæœ‰å¯èƒ½è¯¥å‘è¡Œç‰ˆæä¾›çš„å†…æ ¸å·²ç»åœ¨å†…æ ¸ç½‘ç«™ä¸Šè¢«æ ‡è®°ä¸ºåˆ°è¾¾äº†ç”Ÿå‘½æœ«æœŸã€‚\nä¸è¦æƒŠæ…Œã€‚ä½ çš„å‘è¡Œç‰ˆä¼šè´Ÿè´£ä¿®è¡¥å†…æ ¸çš„é”™è¯¯å’Œæ¼æ´ã€‚é™¤éä½ çœŸçš„åœ¨ä½¿ç”¨ä¸€ä¸ªä¸çŸ¥åçš„ Linux å‘è¡Œç‰ˆï¼Œå¦åˆ™ä½ å¯ä»¥ç›¸ä¿¡ä½ çš„å‘è¡Œç‰ˆä¼šä¿æŒå®ƒçš„å®‰å…¨å’Œå¥å…¨ã€‚\nå¦‚æœä½ æœ‰è¶³å¤Ÿçš„ç†ç”±ï¼Œæ¯”å¦‚ä¸ºäº†æ”¯æŒæ›´æ–°çš„ç¡¬ä»¶ï¼Œä½ å¯ä»¥è‡ªç”±åœ°åœ¨ä½ ä½¿ç”¨çš„ä»»ä½•å‘è¡Œç‰ˆæˆ– Ubuntu ä¸­å®‰è£…æœ€æ–°çš„ Linux å†…æ ¸ ã€‚\nå¦‚æœä½ æƒ³äº†è§£æ›´å¤šç»†èŠ‚ï¼Œæˆ‘å·²ç» åœ¨è¿™é‡Œè§£é‡Šäº†ä¸ºä»€ä¹ˆä½ çš„å‘è¡Œç‰ˆä½¿ç”¨è¿‡æ—¶çš„ Linux å†…æ ¸ã€‚\nå®‰è£…å†…æ ¸ dpkg\nä» kernel.ubuntu.com ç½‘ç«™æ‰‹åŠ¨ä¸‹è½½å¯ç”¨çš„æœ€æ–° Linux å†…æ ¸ï¼š\n linux-image-X.Y.Z-generic-.deb linux-modules-X.Y.Z-generic-.deb  æ‰‹åŠ¨å®‰è£…å†…æ ¸ï¼š\n$ sudo dpkg --install *.deb é‡å¯ç³»ç»Ÿï¼Œä½¿ç”¨æ–°å†…æ ¸ï¼š\n$ sudo reboot æ£€æŸ¥æ˜¯å¦å¦‚ä½ æ‰€æ„¿ï¼š\n$ uname -r apt-get\nä¸åŒäºä¸Šä¸€ä¸ªæ–¹æ³•ï¼Œè¿™ç§æ–¹æ³•ä¼šä» Ubuntu å®˜æ–¹ä»“åº“ä¸‹è½½ã€å®‰è£…å†…æ ¸ç‰ˆæœ¬ï¼š\nè¿è¡Œï¼š\n$ sudo apt-get upgrade linux-image-generic XanMod Kernel æœ€æ–°å†…æ ¸é›†æˆçš„ä¸€äº›æ–°ç‰¹æ€§çš„ç¡®æ˜¯å¯ä»¥æå‡æ€§èƒ½çš„ã€‚xanmod å†…æ ¸çš„å®‰è£…å¯ä»¥å»å®ƒä»¬çš„å®˜æ–¹ç½‘ç«™æ¥æŸ¥è¯¢ï¼Œxanmod å†…æ ¸çš„ç‰¹æ€§å¾ˆå¤šåœ°æ–¹éƒ½æœ‰ï¼Œå®˜æ–¹ä¹Ÿå†™çš„æœ‰å¾ˆå¤šï¼Œä¸è¿‡å¤§å¤šæ•°è¿˜æ˜¯ä»¥ä¸‹å‡ ç‚¹ï¼š\n æ”¹å–„äº† CPU è°ƒåº¦èƒ½åŠ› æ”¹å–„äº† I/O çš„è°ƒåº¦èƒ½åŠ› å¢åŠ äº†ä¸€äº›å’Œæ€§èƒ½æœ‰å…³çš„ç¬¬ä¸‰æ–¹è¡¥ä¸ ä½¿ç”¨äº†æœ€æ–°çš„ GCC è¿›è¡Œç¼–è¯‘ ä½¿ç”¨äº†æœ€æ–°çš„ MicroCode  å®‰è£…çš„æ–¹å¼ä¹Ÿæ¯”è¾ƒç®€å•ï¼Œæ·»åŠ æºå¹¶ä¸”æ›´æ–°å®‰è£…å°±è¡Œäº†ï¼š\n$ echo \u0026#39;deb http://deb.xanmod.org releases main\u0026#39; | sudo tee /etc/apt/sources.list.d/xanmod-kernel.list \u0026amp;\u0026amp; wget -qO - https://dl.xanmod.org/gpg.key | sudo apt-key add - ç„¶åå®‰è£…ï¼Œæˆ‘ä¸ªäººå®‰è£…çš„æ˜¯æœ€æ–°çš„ 5.8.1 çš„ edgeï¼š\n$ sudo apt update \u0026amp;\u0026amp; sudo apt install linux-xanmod-edge å®‰è£…å®Œæ¯•åè¿˜å¯ä»¥å®‰è£…æœ€æ–°çš„å¾®ç ï¼š\n$ sudo apt update \u0026amp;\u0026amp; sudo apt install linux-xanmod é‡å¯ä»¥åº”ç”¨\n$ sudo reboot Zen/Liquorix Kernel  ä¸€äº›å†…æ ¸é»‘å®¢åˆä½œçš„ç»“æœï¼Œæ˜¯é€‚åˆæ—¥å¸¸ä½¿ç”¨çš„ä¼˜ç§€å†…æ ¸ ä»¥ååé‡å’ŒåŠŸè€—ä¸ºä»£ä»·æ¥æ¢å–æ€§èƒ½ ç›¸å¯¹ linux å†…æ ¸åŠ å…¥äº† Fsync åŠŸèƒ½ã€‚Fsync æ˜¯ç»´å°”ç¦å…¬å¸å‘å¸ƒçš„ä¸€ä¸ªå¯ä»¥å¸®åŠ©æå‡å¤§é‡å¤šçº¿ç¨‹åº”ç”¨è¿è¡Œå¸§ç‡çš„ç‰¹æ®Šå†…æ ¸è¡¥ä¸ï¼Œè¿™å¯¹æ”¹å–„æ¸¸æˆæ€§èƒ½æœ‰å¾ˆå¤§å¸®åŠ©ã€‚åœ¨ä¸€äº›é‡‡ç”¨ .Net çš„ wine æ¸¸æˆä¸­ä¼šæœ‰ æ˜æ˜¾çš„æ€§èƒ½æå‡ å¦‚æœä½ ä½¿ç”¨è‹±ä¼Ÿè¾¾æ˜¾å¡ï¼Œè®°å¾—æ›´æ¢é©±åŠ¨ä¸ºç›¸åº”çš„ dkms ç‰ˆæœ¬ã€‚ä¸€èˆ¬æ¥è¯´è¾ƒæ–°çš„æ˜¾å¡å®‰è£… nvidia-dkms å³å¯ã€‚DKMSï¼Œå³ Dynamic Kernel Module Systemã€‚å¯ä»¥ä½¿å†…æ ¸å˜æ›´ï¼ˆå¦‚å‡çº§ï¼‰åè‡ªåŠ¨ç¼–è¯‘æ¨¡å—ï¼Œé€‚é…æ–°å†…æ ¸ã€‚  Questions about: I\u0026rsquo;m not a kernel expert, but my understanding is that there are different ways for the kernel to prioritize tasks to be processed by the CPU. Priority on a server or workstation is different from a gaming PC. The Zen (and Liquorix) kernel alters the way this is done to optimise for gaming and multimedia. From what I can tell, the difference between the Zen and Liquorix kernels is the scheduler used, but are otherwise the same. There\u0026rsquo;s more info here.\nUbuntu Prerequisites:\n$ sudo add-apt-repository ppa:damentz/liquorix \u0026amp;\u0026amp; sudo apt-get update The Liquorix kernel can be installed by way of meta-packages. This will guarantee that the latest kernel is installed on every upgrade.\n64-bit:\n$ sudo apt-get install linux-image-liquorix-amd64 linux-headers-liquorix-amd64 å¯é€‰å†…æ ¸ åˆ‡æ›å†…æ ¸ å¯ä»¥é€šè¿‡ä¿®æ”¹ /etc/default/grub ä¸­çš„ GRUB_DEFAULT å€¼æ¥æ”¹å˜é»˜è®¤å¯åŠ¨é¡¹ã€‚\næŸ¥çœ‹ grub menu ç›®å‰çš„é¸é … ï¼š\n$ grep -A100 submenu /boot/grub/grub.cfg |grep menuentry submenu \u0026#39;Advanced options for Ubuntu\u0026#39; $menuentry_id_option \u0026#39;gnulinux-advanced-4a67ec61-9cd5-4a26-b00f-9391a34c8a29\u0026#39; { menuentry \u0026#39;Ubuntu, with Linux 4.4.0-1062-aws\u0026#39; --class ubuntu --class gnu-linux --class gnu --class os $menuentry_id_option \u0026#39;gnulinux-4.4.0-1062-aws-advanced-4a67ec61-9cd5-4a26-b00f-9391a34c8a29\u0026#39; { menuentry \u0026#39;Ubuntu, with Linux 4.4.0-1062-aws (recovery mode)\u0026#39; --class ubuntu --class gnu-linux --class gnu --class os $menuentry_id_option \u0026#39;gnulinux-4.4.0-1062-aws-recovery-4a67ec61-9cd5-4a26-b00f-9391a34c8a29\u0026#39; { menuentry \u0026#39;Ubuntu, with Linux 4.4.0-1061-aws\u0026#39; --class ubuntu --class gnu-linux --class gnu --class os $menuentry_id_option \u0026#39;gnulinux-4.4.0-1061-aws-advanced-4a67ec61-9cd5-4a26-b00f-9391a34c8a29\u0026#39; { menuentry \u0026#39;Ubuntu, with Linux 4.4.0-1061-aws (recovery mode)\u0026#39; --class ubuntu --class gnu-linux --class gnu --class os $menuentry_id_option \u0026#39;gnulinux-4.4.0-1061-aws-recovery-4a67ec61-9cd5-4a26-b00f-9391a34c8a29\u0026#39; { æ¥ä¸‹ä¾†ä¿®æ”¹ grub config æª”æ¡ˆï¼š\n$ sudo nano /etc/default/grup æ‰¾åˆ° GRUB_DEFAULT=0 ï¼Œå°‡æ•¸å­— 0 æ”¹æˆæƒ³ç”¨ä¾†é–‹æ©Ÿçš„ kernelï¼Œä»¥é€™å€‹ä¾‹å­ä¾†èªªï¼š\n 0 = \u0026lsquo;Ubuntu, with Linux 4.4.0-1062-aws\u0026rsquo; = \u0026lsquo;gnulinux-4.4.0-1062-aws-advanced-4a67ec61-9cd5-4a26-b00f-9391a34c8a29\u0026rsquo; 1 = \u0026lsquo;Ubuntu, with Linux 4.4.0-1062-aws (recovery mode)\u0026rsquo; = \u0026lsquo;gnulinux-4.4.0-1062-aws-recovery-4a67ec61-9cd5-4a26-b00f-9391a34c8a29\u0026rsquo; 2 = \u0026lsquo;Ubuntu, with Linux 4.4.0-1061-aws\u0026rsquo; = \u0026lsquo;gnulinux-4.4.0-1061-aws-advanced-4a67ec61-9cd5-4a26-b00f-9391a34c8a29\u0026rsquo; 3 = \u0026lsquo;Ubuntu, with Linux 4.4.0-1061-aws (recovery mode)\u0026rsquo; = \u0026lsquo;gnulinux-4.4.0-1061-aws-recovery-4a67ec61-9cd5-4a26-b00f-9391a34c8a29\u0026rsquo;  GRUB å¯åŠ¨é¡¹åºå·ä» 0 å¼€å§‹è®¡æ•°ï¼Œ0 ä»£è¡¨ç¬¬ä¸€ä¸ªå¯åŠ¨é¡¹ï¼Œä¹Ÿæ˜¯ä¸Šè¿°é€‰é¡¹çš„é»˜è®¤å€¼ï¼Œ1 è¡¨ç¤ºç¬¬äºŒä¸ªå¯åŠ¨é¡¹ï¼Œä»¥æ­¤ç±»æ¨ã€‚ä¸»èœå•å’Œå­èœå•é¡¹ä¹‹é—´ç”¨ \u0026gt; éš”å¼€ã€‚\nä¸‹é¢çš„ä¾‹å­å¯åŠ¨çš„æ˜¯ä¸»èœå•é¡¹ \u0026lsquo;Advanced options for Arch Linux\u0026rsquo; ä¸‹å­èœå•çš„ç¬¬ä¸‰é¡¹ï¼š\n  ä½¿ç”¨æ•°å­—ç¼–å·ï¼š\nGRUB_DEFAULT=2 # or GRUB_DEFAULT=\u0026#34;1\u0026gt;2\u0026#34;   ä½¿ç”¨èœå•æ ‡é¢˜ï¼š\nGRUB_DEFAULT=\u0026#34;Advanced options for Ubuntu\u0026gt;Ubuntu, with Linux 4.4.0-1061-aws\u0026#34;   è¿˜å¯ä»¥è¿™æ ·ï¼š\nGRUB_DEFAULT=\u0026#34;gnulinux-advanced-4a67ec61-9cd5-4a26-b00f-9391a34c8a29\u0026gt;gnulinux-4.4.0-1061-aws-advanced-4a67ec61-9cd5-4a26-b00f-9391a34c8a29\u0026#34;   æ›´æ–° grup è¨­å®šï¼š\n$ sudo update-grub $ sudo reboot   åˆ é™¤æ—§å†…æ ¸ éšç€æ—¶é—´çš„æµé€ï¼ŒæŒç»­çš„å†…æ ¸æ›´æ–°ä¼šåœ¨ç³»ç»Ÿä¸­ç§¯èšå¤§é‡çš„ä¸å†ä½¿ç”¨çš„å†…æ ¸ï¼Œæµªè´¹ä½ çš„ç£ç›˜ç©ºé—´ã€‚æ¯ä¸ªå†…æ ¸é•œåƒå’Œå…¶ç›¸å…³è”çš„æ¨¡å—/å¤´æ–‡ä»¶ä¼šå ç”¨200-400MBçš„ç£ç›˜ç©ºé—´ï¼Œå› æ­¤ç”±ä¸å†ä½¿ç”¨çš„å†…æ ¸è€Œæµªè´¹çš„ç£ç›˜ç©ºé—´ä¼šå¿«é€Ÿåœ°å¢åŠ ã€‚\nGRUBç®¡ç†å™¨ä¸ºæ¯ä¸ªæ—§å†…æ ¸éƒ½ç»´æŠ¤äº†ä¸€ä¸ªGRUBå…¥å£ï¼Œä»¥å¤‡ä½ æƒ³è¦ä½¿ç”¨å®ƒä»¬ã€‚\nä½œä¸ºç£ç›˜æ¸…ç†çš„ä¸€éƒ¨åˆ†ï¼Œå¦‚æœä½ ä¸å†ä½¿ç”¨è¿™äº›ï¼Œä½ å¯ä»¥è€ƒè™‘æ¸…ç†æ‰è¿™äº›é•œåƒã€‚\nåœ¨åˆ é™¤æ—§å†…æ ¸ä¹‹å‰ï¼Œè®°ä½æœ€å¥½ç•™æœ‰2ä¸ªæœ€è¿‘çš„å†…æ ¸ï¼ˆæœ€æ–°çš„å’Œä¸Šä¸€ä¸ªç‰ˆæœ¬ï¼‰ï¼Œä»¥é˜²ä¸»è¦çš„ç‰ˆæœ¬å‡ºé”™ã€‚\nåœ¨Ubuntuå†…æ ¸é•œåƒåŒ…å«äº†ä»¥ä¸‹çš„åŒ…ã€‚\n linux-image-: å†…æ ¸é•œåƒ linux-image-extra-: é¢å¤–çš„å†…æ ¸æ¨¡å— linux-headers-: å†…æ ¸å¤´æ–‡ä»¶  é¦–å…ˆæ£€æŸ¥ç³»ç»Ÿä¸­å®‰è£…çš„å†…æ ¸é•œåƒã€‚\n$ dpkg --list | grep linux-image $ dpkg --list | grep linux-headers åœ¨åˆ—å‡ºçš„å†…æ ¸é•œåƒä¸­ï¼Œä½ å¯ä»¥ç§»é™¤ä¸€ä¸ªç‰¹å®šçš„ç‰ˆæœ¬ã€‚\n$ sudo apt-get purge linux-image-3.19.0-15 $ sudo apt-get purge linux-headers-3.19.0-15 ä¸Šé¢çš„å‘½ä»¤ä¼šåˆ é™¤å†…æ ¸é•œåƒå’Œå®ƒç›¸å…³è”çš„å†…æ ¸æ¨¡å—å’Œå¤´æ–‡ä»¶ã€‚\næ³¨æ„å¦‚æœä½ è¿˜æ²¡æœ‰å‡çº§å†…æ ¸é‚£ä¹ˆåˆ é™¤æ—§å†…æ ¸ä¼šè‡ªåŠ¨è§¦å‘å®‰è£…æ–°å†…æ ¸ã€‚è¿™æ ·åœ¨åˆ é™¤æ—§å†…æ ¸ä¹‹åï¼ŒGRUBé…ç½®ä¼šè‡ªåŠ¨å‡çº§æ¥ç§»é™¤GRUBèœå•ä¸­ç›¸å…³GRUBå…¥å£ã€‚\nå¦‚æœä½ æœ‰å¾ˆå¤šæ²¡ç”¨çš„å†…æ ¸ï¼Œä½ å¯ä»¥ç”¨shellè¡¨è¾¾å¼æ¥ä¸€æ¬¡æ€§åœ°åˆ é™¤å¤šä¸ªå†…æ ¸ã€‚æ³¨æ„è¿™ä¸ªæ‹¬å·è¡¨è¾¾å¼åªåœ¨bashæˆ–è€…å…¼å®¹çš„shellä¸­æ‰æœ‰æ•ˆã€‚\n$ sudo apt-get purge linux-image-3.19.0-{18,20,21,25} $ sudo apt-get purge linux-headers-3.19.0-{18,20,21,25} ä¸Šé¢çš„å‘½ä»¤ä¼šåˆ é™¤4ä¸ªå†…æ ¸é•œåƒï¼š3.19.0-18ã€3.19.0-20ã€3.19.0-21 å’Œ 3.19.0-25ã€‚\nå¦‚æœGRUBé…ç½®ç”±äºä»»ä½•åŸå› åœ¨åˆ é™¤æ—§å†…æ ¸åæ²¡æœ‰æ­£ç¡®å‡çº§ï¼Œä½ å¯ä»¥å°è¯•æ‰‹åŠ¨ç”¨update-grub2å‘½ä»¤æ¥æ›´æ–°é…ç½®ã€‚\n$ sudo update-grub2 ç°åœ¨å°±é‡å¯æ¥éªŒè¯GRUBèœå•æ˜¯å¦å·²ç»æ­£ç¡®æ¸…ç†äº†ã€‚\nç¼–å†™ç¬¬ä¸€ä¸ªå†…æ ¸æ¨¡å— å®¹å™¨ Namespace æ¦‚å¿µ **namespace æ˜¯ Linux å†…æ ¸ç”¨æ¥éš”ç¦»å†…æ ¸èµ„æºçš„æ–¹å¼ã€‚**é€šè¿‡ namespace å¯ä»¥è®©ä¸€äº›è¿›ç¨‹åªèƒ½çœ‹åˆ°ä¸è‡ªå·±ç›¸å…³çš„ä¸€éƒ¨åˆ†èµ„æºï¼Œè€Œå¦å¤–ä¸€äº›è¿›ç¨‹ä¹Ÿåªèƒ½çœ‹åˆ°ä¸å®ƒä»¬è‡ªå·±ç›¸å…³çš„èµ„æºï¼Œè¿™ä¸¤æ‹¨è¿›ç¨‹æ ¹æœ¬å°±æ„Ÿè§‰ä¸åˆ°å¯¹æ–¹çš„å­˜åœ¨ã€‚å…·ä½“çš„å®ç°æ–¹å¼æ˜¯æŠŠä¸€ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹çš„ç›¸å…³èµ„æºæŒ‡å®šåœ¨åŒä¸€ä¸ª namespace ä¸­ã€‚\nLinux namespaces æ˜¯å¯¹å…¨å±€ç³»ç»Ÿèµ„æºçš„ä¸€ç§å°è£…éš”ç¦»ï¼Œä½¿å¾—å¤„äºä¸åŒ namespace çš„è¿›ç¨‹æ‹¥æœ‰ç‹¬ç«‹çš„å…¨å±€ç³»ç»Ÿèµ„æºï¼Œæ”¹å˜ä¸€ä¸ª namespace ä¸­çš„ç³»ç»Ÿèµ„æºåªä¼šå½±å“å½“å‰ namespace é‡Œçš„è¿›ç¨‹ï¼Œå¯¹å…¶ä»– namespace ä¸­çš„è¿›ç¨‹æ²¡æœ‰å½±å“ã€‚\nç”¨é€” å®é™…ä¸Šï¼ŒLinux å†…æ ¸å®ç° namespace çš„ä¸€ä¸ªä¸»è¦ç›®çš„å°±æ˜¯å®ç°è½»é‡çº§è™šæ‹ŸåŒ–(å®¹å™¨)æœåŠ¡ã€‚åœ¨åŒä¸€ä¸ª namespace ä¸‹çš„è¿›ç¨‹å¯ä»¥æ„ŸçŸ¥å½¼æ­¤çš„å˜åŒ–ï¼Œè€Œå¯¹å¤–ç•Œçš„è¿›ç¨‹ä¸€æ— æ‰€çŸ¥ã€‚è¿™æ ·å°±å¯ä»¥è®©å®¹å™¨ä¸­çš„è¿›ç¨‹äº§ç”Ÿé”™è§‰ï¼Œè®¤ä¸ºè‡ªå·±ç½®èº«äºä¸€ä¸ªç‹¬ç«‹çš„ç³»ç»Ÿä¸­ï¼Œä»è€Œè¾¾åˆ°éš”ç¦»çš„ç›®çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ linux å†…æ ¸æä¾›çš„ namespace æŠ€æœ¯ä¸º docker ç­‰å®¹å™¨æŠ€æœ¯çš„å‡ºç°å’Œå‘å±•æä¾›äº†åŸºç¡€æ¡ä»¶ã€‚\næˆ‘ä»¬å¯ä»¥ä» docker å®ç°è€…çš„è§’åº¦è€ƒè™‘è¯¥å¦‚ä½•å®ç°ä¸€ä¸ªèµ„æºéš”ç¦»çš„å®¹å™¨ã€‚æ¯”å¦‚æ˜¯ä¸æ˜¯å¯ä»¥é€šè¿‡ chroot å‘½ä»¤åˆ‡æ¢æ ¹ç›®å½•çš„æŒ‚è½½ç‚¹ï¼Œä»è€Œéš”ç¦»æ–‡ä»¶ç³»ç»Ÿã€‚ä¸ºäº†åœ¨åˆ†å¸ƒå¼çš„ç¯å¢ƒä¸‹è¿›è¡Œé€šä¿¡å’Œå®šä½ï¼Œå®¹å™¨å¿…é¡»è¦æœ‰ç‹¬ç«‹çš„ IPã€ç«¯å£å’Œè·¯ç”±ç­‰ï¼Œè¿™å°±éœ€è¦å¯¹ç½‘ç»œè¿›è¡Œéš”ç¦»ã€‚åŒæ—¶å®¹å™¨è¿˜éœ€è¦ä¸€ä¸ªç‹¬ç«‹çš„ä¸»æœºåä»¥ä¾¿åœ¨ç½‘ç»œä¸­æ ‡è¯†è‡ªå·±ã€‚æ¥ä¸‹æ¥è¿˜éœ€è¦è¿›ç¨‹é—´çš„é€šä¿¡ã€ç”¨æˆ·æƒé™ç­‰çš„éš”ç¦»ã€‚æœ€åï¼Œè¿è¡Œåœ¨å®¹å™¨ä¸­çš„åº”ç”¨éœ€è¦æœ‰è¿›ç¨‹å·(PID)ï¼Œè‡ªç„¶ä¹Ÿéœ€è¦ä¸å®¿ä¸»æœºä¸­çš„ PID è¿›è¡Œéš”ç¦»ã€‚ä¹Ÿå°±æ˜¯è¯´è¿™å…­ç§éš”ç¦»èƒ½åŠ›æ˜¯å®ç°ä¸€ä¸ªå®¹å™¨çš„åŸºç¡€ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹ linux å†…æ ¸çš„ namespace ç‰¹æ€§ä¸ºæˆ‘ä»¬æä¾›äº†ä»€ä¹ˆæ ·çš„éš”ç¦»èƒ½åŠ›ï¼š\nä¸Šè¡¨ä¸­çš„å‰å…­ç§ namespace æ­£æ˜¯å®ç°å®¹å™¨å¿…é¡»çš„éš”ç¦»æŠ€æœ¯ï¼Œè‡³äºæ–°è¿‘æä¾›çš„ Cgroup namespace ç›®å‰è¿˜æ²¡æœ‰è¢« docker é‡‡ç”¨ã€‚ç›¸ä¿¡åœ¨ä¸ä¹…çš„å°†æ¥å„ç§å®¹å™¨ä¹Ÿä¼šæ·»åŠ å¯¹ Cgroup namespace çš„æ”¯æŒã€‚\nå‘å±•å†å² Linux åœ¨å¾ˆæ—©çš„ç‰ˆæœ¬ä¸­å°±å®ç°äº†éƒ¨åˆ†çš„ namespaceï¼Œæ¯”å¦‚å†…æ ¸ 2.4 å°±å®ç°äº† mount namespaceã€‚å¤§å¤šæ•°çš„ namespace æ”¯æŒæ˜¯åœ¨å†…æ ¸ 2.6 ä¸­å®Œæˆçš„ï¼Œæ¯”å¦‚ IPCã€Networkã€PIDã€å’Œ UTSã€‚è¿˜æœ‰ä¸ªåˆ«çš„ namespace æ¯”è¾ƒç‰¹æ®Šï¼Œæ¯”å¦‚ Userï¼Œä»å†…æ ¸ 2.6 å°±å¼€å§‹å®ç°äº†ï¼Œä½†åœ¨å†…æ ¸ 3.8 ä¸­æ‰å®£å¸ƒå®Œæˆã€‚åŒæ—¶ï¼Œéšç€ Linux è‡ªèº«çš„å‘å±•ä»¥åŠå®¹å™¨æŠ€æœ¯æŒç»­å‘å±•å¸¦æ¥çš„éœ€æ±‚ï¼Œä¹Ÿä¼šæœ‰æ–°çš„ namespace è¢«æ”¯æŒï¼Œæ¯”å¦‚åœ¨å†…æ ¸ 4.6 ä¸­å°±æ·»åŠ äº† Cgroup namespaceã€‚\nLinux æä¾›äº†å¤šä¸ª API ç”¨æ¥æ“ä½œ namespaceï¼Œå®ƒä»¬æ˜¯ clone()ã€setns() å’Œ unshare() å‡½æ•°ï¼Œä¸ºäº†ç¡®å®šéš”ç¦»çš„åˆ°åº•æ˜¯å“ªé¡¹ namespaceï¼Œåœ¨ä½¿ç”¨è¿™äº› API æ—¶ï¼Œé€šå¸¸éœ€è¦æŒ‡å®šä¸€äº›è°ƒç”¨å‚æ•°ï¼šCLONE_NEWIPCã€CLONE_NEWNETã€CLONE_NEWNSã€CLONE_NEWPIDã€CLONE_NEWUSERã€CLONE_NEWUTS å’Œ CLONE_NEWCGROUPã€‚å¦‚æœè¦åŒæ—¶éš”ç¦»å¤šä¸ª namespaceï¼Œå¯ä»¥ä½¿ç”¨ | (æŒ‰ä½æˆ–)ç»„åˆè¿™äº›å‚æ•°ã€‚åŒæ—¶æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ /proc ä¸‹é¢çš„ä¸€äº›æ–‡ä»¶æ¥æ“ä½œ namespaceã€‚\næŸ¥çœ‹è¿›ç¨‹æ‰€å±çš„ namespace\nä»ç‰ˆæœ¬å·ä¸º 3.8 çš„å†…æ ¸å¼€å§‹ï¼Œ/proc/[pid]/ns ç›®å½•ä¸‹ä¼šåŒ…å«è¿›ç¨‹æ‰€å±çš„ namespace ä¿¡æ¯ï¼Œä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å¯ä»¥æŸ¥çœ‹å½“å‰è¿›ç¨‹æ‰€å±çš„ namespace ä¿¡æ¯ï¼š\n$ ll /proc/$$/ns total 0 lrwxrwxrwx 1 kurome kurome 0 Mar 3 11:33 cgroup -\u0026gt; \u0026#39;cgroup:[4026531835]\u0026#39; lrwxrwxrwx 1 kurome kurome 0 Mar 3 11:33 ipc -\u0026gt; \u0026#39;ipc:[4026531839]\u0026#39; lrwxrwxrwx 1 kurome kurome 0 Mar 3 11:33 mnt -\u0026gt; \u0026#39;mnt:[4026531840]\u0026#39; lrwxrwxrwx 1 kurome kurome 0 Mar 3 11:33 net -\u0026gt; \u0026#39;net:[4026532008]\u0026#39; lrwxrwxrwx 1 kurome kurome 0 Mar 3 11:33 pid -\u0026gt; \u0026#39;pid:[4026531836]\u0026#39; lrwxrwxrwx 1 kurome kurome 0 Mar 3 11:33 pid_for_children -\u0026gt; \u0026#39;pid:[4026531836]\u0026#39; lrwxrwxrwx 1 kurome kurome 0 Mar 3 11:33 time -\u0026gt; \u0026#39;time:[4026531834]\u0026#39; lrwxrwxrwx 1 kurome kurome 0 Mar 3 11:33 time_for_children -\u0026gt; \u0026#39;time:[4026531834]\u0026#39; lrwxrwxrwx 1 kurome kurome 0 Mar 3 11:33 user -\u0026gt; \u0026#39;user:[4026531837]\u0026#39; lrwxrwxrwx 1 kurome kurome 0 Mar 3 11:33 uts -\u0026gt; \u0026#39;uts:[4026531838]\u0026#39; é¦–å…ˆï¼Œè¿™äº› namespace æ–‡ä»¶éƒ½æ˜¯é“¾æ¥æ–‡ä»¶ã€‚é“¾æ¥æ–‡ä»¶çš„å†…å®¹çš„æ ¼å¼ä¸º xxx:[inode number]ã€‚å…¶ä¸­çš„ xxx ä¸º namespace çš„ç±»å‹ï¼Œinode number åˆ™ç”¨æ¥æ ‡è¯†ä¸€ä¸ª namespaceï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥æŠŠå®ƒç†è§£ä¸º namespace çš„ IDã€‚å¦‚æœä¸¤ä¸ªè¿›ç¨‹çš„æŸä¸ª namespace æ–‡ä»¶æŒ‡å‘åŒä¸€ä¸ªé“¾æ¥æ–‡ä»¶ï¼Œè¯´æ˜å…¶ç›¸å…³èµ„æºåœ¨åŒä¸€ä¸ª namespace ä¸­ã€‚\nå…¶æ¬¡ï¼Œåœ¨ /proc/[pid]/ns é‡Œæ”¾ç½®è¿™äº›é“¾æ¥æ–‡ä»¶çš„å¦å¤–ä¸€ä¸ªä½œç”¨æ˜¯ï¼Œä¸€æ—¦è¿™äº›é“¾æ¥æ–‡ä»¶è¢«æ‰“å¼€ï¼Œåªè¦æ‰“å¼€çš„æ–‡ä»¶æè¿°ç¬¦(fd)å­˜åœ¨ï¼Œé‚£ä¹ˆå°±ç®—è¯¥ namespace ä¸‹çš„æ‰€æœ‰è¿›ç¨‹éƒ½å·²ç»“æŸï¼Œè¿™ä¸ª namespace ä¹Ÿä¼šä¸€ç›´å­˜åœ¨ï¼Œåç»­çš„è¿›ç¨‹è¿˜å¯ä»¥å†åŠ å…¥è¿›æ¥ã€‚\né™¤äº†æ‰“å¼€æ–‡ä»¶çš„æ–¹å¼ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡æ–‡ä»¶æŒ‚è½½çš„æ–¹å¼é˜»æ­¢ namespace è¢«åˆ é™¤ã€‚æ¯”å¦‚æˆ‘ä»¬å¯ä»¥æŠŠå½“å‰è¿›ç¨‹ä¸­çš„ uts æŒ‚è½½åˆ° ~/uts æ–‡ä»¶ï¼š\n$ touch ~/uts $ sudo mount --bind /proc/$$/ns/uts ~/uts ä½¿ç”¨ stat å‘½ä»¤æ£€æŸ¥ä¸‹ç»“æœï¼š\n$ stat ~/uts å¾ˆç¥å¥‡å§ï¼Œ~/uts çš„ inode å’Œé“¾æ¥æ–‡ä»¶ä¸­çš„ inode number æ˜¯ä¸€æ ·çš„ï¼Œå®ƒä»¬æ˜¯åŒä¸€ä¸ªæ–‡ä»¶ã€‚\nclone() å‡½æ•° æˆ‘ä»¬å¯ä»¥é€šè¿‡ clone() åœ¨åˆ›å»ºæ–°è¿›ç¨‹çš„åŒæ—¶åˆ›å»º namespaceã€‚clone() åœ¨ C è¯­è¨€åº“ä¸­çš„å£°æ˜å¦‚ä¸‹ï¼š\n/* Prototype for the glibc wrapper function */ #define _GNU_SOURCE #include \u0026lt;sched.h\u0026gt;int clone(int (*fn)(void *), void *child_stack, int flags, void *arg); å®é™…ä¸Šï¼Œclone() æ˜¯åœ¨ C è¯­è¨€åº“ä¸­å®šä¹‰çš„ä¸€ä¸ªå°è£…(wrapper)å‡½æ•°ï¼Œå®ƒè´Ÿè´£å»ºç«‹æ–°è¿›ç¨‹çš„å †æ ˆå¹¶ä¸”è°ƒç”¨å¯¹ç¼–ç¨‹è€…éšè—çš„ clone() ç³»ç»Ÿè°ƒç”¨ã€‚Clone() å…¶å®æ˜¯ linux ç³»ç»Ÿè°ƒç”¨ fork() çš„ä¸€ç§æ›´é€šç”¨çš„å®ç°æ–¹å¼ï¼Œå®ƒå¯ä»¥é€šè¿‡ flags æ¥æ§åˆ¶ä½¿ç”¨å¤šå°‘åŠŸèƒ½ã€‚ä¸€å…±æœ‰ 20 å¤šç§ CLONE_ å¼€å¤´çš„ falg(æ ‡å¿—ä½) å‚æ•°ç”¨æ¥æ§åˆ¶ clone è¿›ç¨‹çš„æ–¹æ–¹é¢é¢(æ¯”å¦‚æ˜¯å¦ä¸çˆ¶è¿›ç¨‹å…±äº«è™šæ‹Ÿå†…å­˜ç­‰)ï¼Œä¸‹é¢æˆ‘ä»¬åªä»‹ç»ä¸ namespace ç›¸å…³çš„ 4 ä¸ªå‚æ•°ï¼š\n fnï¼šæŒ‡å®šä¸€ä¸ªç”±æ–°è¿›ç¨‹æ‰§è¡Œçš„å‡½æ•°ã€‚å½“è¿™ä¸ªå‡½æ•°è¿”å›æ—¶ï¼Œå­è¿›ç¨‹ç»ˆæ­¢ã€‚è¯¥å‡½æ•°è¿”å›ä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤ºå­è¿›ç¨‹çš„é€€å‡ºä»£ç ã€‚ child_stackï¼šä¼ å…¥å­è¿›ç¨‹ä½¿ç”¨çš„æ ˆç©ºé—´ï¼Œä¹Ÿå°±æ˜¯æŠŠç”¨æˆ·æ€å †æ ˆæŒ‡é’ˆèµ‹ç»™å­è¿›ç¨‹çš„ esp å¯„å­˜å™¨ã€‚è°ƒç”¨è¿›ç¨‹(æŒ‡è°ƒç”¨ clone() çš„è¿›ç¨‹)åº”è¯¥æ€»æ˜¯ä¸ºå­è¿›ç¨‹åˆ†é…æ–°çš„å †æ ˆã€‚ flagsï¼šè¡¨ç¤ºä½¿ç”¨å“ªäº› CLONE_ å¼€å¤´çš„æ ‡å¿—ä½ï¼Œä¸ namespace ç›¸å…³çš„æœ‰CLONE_NEWIPCã€CLONE_NEWNETã€CLONE_NEWNSã€CLONE_NEWPIDã€CLONE_NEWUSERã€CLONE_NEWUTS å’Œ CLONE_NEWCGROUPã€‚ argï¼šæŒ‡å‘ä¼ é€’ç»™ fn() å‡½æ•°çš„å‚æ•°ã€‚  setns() å‡½æ•° é€šè¿‡ setns() å‡½æ•°å¯ä»¥å°†å½“å‰è¿›ç¨‹åŠ å…¥åˆ°å·²æœ‰çš„ namespace ä¸­ã€‚setns() åœ¨ C è¯­è¨€åº“ä¸­çš„å£°æ˜å¦‚ä¸‹ï¼š\n#define _GNU_SOURCE #include \u0026lt;sched.h\u0026gt;int setns(int fd, int nstype); å’Œ clone() å‡½æ•°ä¸€æ ·ï¼ŒC è¯­è¨€åº“ä¸­çš„ setns() å‡½æ•°ä¹Ÿæ˜¯å¯¹ setns() ç³»ç»Ÿè°ƒç”¨çš„å°è£…ï¼š\n fdï¼šè¡¨ç¤ºè¦åŠ å…¥ namespace çš„æ–‡ä»¶æè¿°ç¬¦ã€‚å®ƒæ˜¯ä¸€ä¸ªæŒ‡å‘ /proc/[pid]/ns ç›®å½•ä¸­æ–‡ä»¶çš„æ–‡ä»¶æè¿°ç¬¦ï¼Œå¯ä»¥é€šè¿‡ç›´æ¥æ‰“å¼€è¯¥ç›®å½•ä¸‹çš„é“¾æ¥æ–‡ä»¶æˆ–è€…æ‰“å¼€ä¸€ä¸ªæŒ‚è½½äº†è¯¥ç›®å½•ä¸‹é“¾æ¥æ–‡ä»¶çš„æ–‡ä»¶å¾—åˆ°ã€‚ nstypeï¼šå‚æ•° nstype è®©è°ƒç”¨è€…å¯ä»¥æ£€æŸ¥ fd æŒ‡å‘çš„ namespace ç±»å‹æ˜¯å¦ç¬¦åˆå®é™…è¦æ±‚ã€‚è‹¥æŠŠè¯¥å‚æ•°è®¾ç½®ä¸º 0 è¡¨ç¤ºä¸æ£€æŸ¥ã€‚  å‰é¢æˆ‘ä»¬æåˆ°ï¼šå¯ä»¥é€šè¿‡æŒ‚è½½çš„æ–¹å¼æŠŠ namespace ä¿ç•™ä¸‹æ¥ã€‚ä¿ç•™ namespace çš„ç›®çš„æ˜¯ä¸ºä»¥åæŠŠè¿›ç¨‹åŠ å…¥è¿™ä¸ª namespace åšå‡†å¤‡ã€‚åœ¨ docker ä¸­ï¼Œä½¿ç”¨ docker exec å‘½ä»¤åœ¨å·²ç»è¿è¡Œç€çš„å®¹å™¨ä¸­æ‰§è¡Œæ–°çš„å‘½ä»¤å°±éœ€è¦ç”¨åˆ° setns() å‡½æ•°ã€‚ä¸ºäº†æŠŠæ–°åŠ å…¥çš„ namespace åˆ©ç”¨èµ·æ¥ï¼Œè¿˜éœ€è¦å¼•å…¥ execve() ç³»åˆ—çš„å‡½æ•°ï¼Œè¯¥å‡½æ•°å¯ä»¥æ‰§è¡Œç”¨æˆ·çš„å‘½ä»¤ï¼Œæ¯”è¾ƒå¸¸è§çš„ç”¨æ³•æ˜¯è°ƒç”¨ /bin/bash å¹¶æ¥å—å‚æ•°è¿è¡Œèµ·ä¸€ä¸ª shellã€‚\nunshare() å‡½æ•° é€šè¿‡ unshare å‡½æ•°å¯ä»¥åœ¨åŸè¿›ç¨‹ä¸Šè¿›è¡Œ namespace éš”ç¦»ã€‚ä¹Ÿå°±æ˜¯åˆ›å»ºå¹¶åŠ å…¥æ–°çš„ namespace ã€‚unshare() åœ¨ C è¯­è¨€åº“ä¸­çš„å£°æ˜å¦‚ä¸‹ï¼š\n#define _GNU_SOURCE #include \u0026lt;sched.h\u0026gt;int unshare(int flags); å’Œå‰é¢ä¸¤ä¸ªå‡½æ•°ä¸€æ ·ï¼ŒC è¯­è¨€åº“ä¸­çš„ unshare() å‡½æ•°ä¹Ÿæ˜¯å¯¹ unshare() ç³»ç»Ÿè°ƒç”¨çš„å°è£…ã€‚è°ƒç”¨ unshare() çš„ä¸»è¦ä½œç”¨å°±æ˜¯ï¼šä¸å¯åŠ¨æ–°çš„è¿›ç¨‹å°±å¯ä»¥èµ·åˆ°èµ„æºéš”ç¦»çš„æ•ˆæœï¼Œç›¸å½“äºè·³å‡ºåŸå…ˆçš„ namespace è¿›è¡Œæ“ä½œã€‚\nç³»ç»Ÿè¿˜é»˜è®¤æä¾›äº†ä¸€ä¸ªå« unshare çš„å‘½ä»¤ï¼Œå…¶å®å°±æ˜¯åœ¨è°ƒç”¨ unshare() ç³»ç»Ÿè°ƒç”¨ã€‚ä¸‹é¢çš„ demo ä½¿ç”¨ unshare å‘½ä»¤æŠŠå½“å‰è¿›ç¨‹çš„ user namespace è®¾ç½®æˆäº† rootï¼š\n$ whoami nick $ unshare --map-root-user --user sh -c whoami root æ§åˆ¶ç»„ ç®€ä»‹ è¯´å®è¯ï¼Œä¸€äº›æœªçŸ¥çš„è½¯ä»¶åº”ç”¨å¯èƒ½éœ€è¦è¢«æ§åˆ¶æˆ–é™åˆ¶â€”â€”è‡³å°‘æ˜¯ä¸ºäº†ç¨³å®šæ€§æˆ–è€…æŸç§ç¨‹åº¦ä¸Šçš„å®‰å…¨æ€§ã€‚å¾ˆå¤šæ—¶å€™ï¼Œä¸€ä¸ªbugæˆ–è€…ä»…ä»…åªæ˜¯çƒ‚ä»£ç å°±æœ‰å¯èƒ½ç ´åæ‰æ•´ä¸ªæœºå™¨ç”šè‡³å¯èƒ½å‰Šå¼±æ•´ä¸ªç”Ÿæ€ã€‚å¹¸è¿çš„æ˜¯ï¼Œæœ‰ä¸€ç§æ–¹å¼å¯ä»¥æ§åˆ¶åº”ç”¨ç¨‹åºï¼ŒLinuxæ§åˆ¶ç»„ï¼ˆcgroupsï¼‰æ˜¯ä¸€ä¸ªå†…æ ¸åŠŸèƒ½ï¼Œç”¨äºé™åˆ¶ã€è®°å½•å’Œéš”ç¦»ä¸€ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹å¯¹CPUã€å†…å­˜ã€ç£ç›˜I/O ä»¥åŠç½‘ç»œçš„è®¿é—®åŠä½¿ç”¨ã€‚\nå³ï¼Œcgroups(Control Groups) æ˜¯ linux å†…æ ¸æä¾›çš„ä¸€ç§æœºåˆ¶ï¼Œè¿™ç§æœºåˆ¶å¯ä»¥æ ¹æ®éœ€æ±‚æŠŠä¸€ç³»åˆ—ç³»ç»Ÿä»»åŠ¡åŠå…¶å­ä»»åŠ¡æ•´åˆ(æˆ–åˆ†éš”)åˆ°æŒ‰èµ„æºåˆ’åˆ†ç­‰çº§çš„ä¸åŒç»„å†…ï¼Œä»è€Œä¸ºç³»ç»Ÿèµ„æºç®¡ç†æä¾›ä¸€ä¸ªç»Ÿä¸€çš„æ¡†æ¶ã€‚ç®€å•è¯´ï¼Œcgroups å¯ä»¥é™åˆ¶ã€è®°å½•ä»»åŠ¡ç»„æ‰€ä½¿ç”¨çš„ç‰©ç†èµ„æºã€‚æœ¬è´¨ä¸Šæ¥è¯´ï¼Œcgroups æ˜¯å†…æ ¸é™„åŠ åœ¨ç¨‹åºä¸Šçš„ä¸€ç³»åˆ—é’©å­(hook)ï¼Œé€šè¿‡ç¨‹åºè¿è¡Œæ—¶å¯¹èµ„æºçš„è°ƒåº¦è§¦å‘ç›¸åº”çš„é’©å­ä»¥è¾¾åˆ°èµ„æºè¿½è¸ªå’Œé™åˆ¶çš„ç›®çš„ã€‚\næ§åˆ¶ç»„æŠ€æœ¯æœ€åˆæ˜¯ç”±è°·æ­Œå¼€å‘çš„ï¼Œæœ€ç»ˆåœ¨2.6.24ç‰ˆæœ¬ï¼ˆ2008å¹´1æœˆï¼‰ä¸­å¹¶å…¥Linuxå†…æ ¸ä¸»çº¿ã€‚è¿™é¡¹æŠ€æœ¯è¢«éƒ¨åˆ†é‡æ–°è®¾è®¡ï¼Œæ·»åŠ äº†kernfsï¼ˆç”¨äºåˆ†å‰²ä¸€äº›sysfsé€»è¾‘ï¼‰ï¼Œè¿™äº›æ”¹å˜è¢«åˆå¹¶åˆ°3.15å’Œ3.16ç‰ˆæœ¬çš„å†…æ ¸ä¸­ã€‚\nå®ç° cgroups çš„ä¸»è¦ç›®çš„æ˜¯ä¸ºä¸åŒç”¨æˆ·å±‚é¢çš„èµ„æºç®¡ç†æä¾›ä¸€ä¸ªç»Ÿä¸€åŒ–çš„æ¥å£ã€‚ä»å•ä¸ªä»»åŠ¡çš„èµ„æºæ§åˆ¶åˆ°æ“ä½œç³»ç»Ÿå±‚é¢çš„è™šæ‹ŸåŒ–ï¼ˆLinux å®¹å™¨æˆ–è€…LXCï¼‰ï¼Œcgroups æä¾›äº†å››å¤§åŠŸèƒ½ï¼š\n èµ„æºé™åˆ¶ï¼šä¸€ä¸ªæ§åˆ¶ç»„å¯ä»¥é…ç½®æˆä¸èƒ½è¶…è¿‡æŒ‡å®šçš„å†…å­˜é™åˆ¶æˆ–æ˜¯ä¸èƒ½ä½¿ç”¨è¶…è¿‡ä¸€å®šæ•°é‡çš„å¤„ç†å™¨æˆ–é™åˆ¶ä½¿ç”¨ç‰¹å®šçš„å¤–å›´è®¾å¤‡ã€‚ ä¼˜å…ˆçº§ï¼šä¸€ä¸ªæˆ–è€…å¤šä¸ªæ§åˆ¶ç»„å¯ä»¥é…ç½®æˆä½¿ç”¨æ›´å°‘æˆ–è€…æ›´å¤šçš„CPU æ—¶é—´ç‰‡æ•°é‡æˆ–è€…ç£ç›˜ IO å¸¦å®½ï¼Œå®é™…ä¸Šå°±ç­‰åŒäºæ§åˆ¶äº†ä»»åŠ¡è¿è¡Œçš„ä¼˜å…ˆçº§ã€‚ è®°å½•ï¼šä¸€ä¸ªæ§åˆ¶ç»„çš„èµ„æºä½¿ç”¨æƒ…å†µä¼šè¢«ç›‘ç£ä»¥åŠæµ‹é‡ã€‚ æ§åˆ¶ï¼šè¿›ç¨‹ç»„å¯ä»¥è¢«å†»ç»“ï¼Œæš‚åœæˆ–è€…é‡å¯ã€‚  æ¦‚å¿µ Task(ä»»åŠ¡) åœ¨ linux ç³»ç»Ÿä¸­ï¼Œå†…æ ¸æœ¬èº«çš„è°ƒåº¦å’Œç®¡ç†å¹¶ä¸å¯¹è¿›ç¨‹å’Œçº¿ç¨‹è¿›è¡ŒåŒºåˆ†ï¼Œåªæ˜¯æ ¹æ® clone æ—¶ä¼ å…¥çš„å‚æ•°çš„ä¸åŒæ¥ä»æ¦‚å¿µä¸ŠåŒºåˆ†è¿›ç¨‹å’Œçº¿ç¨‹ã€‚è¿™é‡Œä½¿ç”¨ task æ¥è¡¨ç¤ºç³»ç»Ÿçš„ä¸€ä¸ªè¿›ç¨‹æˆ–çº¿ç¨‹ã€‚\nCgroup(æ§åˆ¶ç»„) cgroups ä¸­çš„èµ„æºæ§åˆ¶ä»¥ cgroup ä¸ºå•ä½å®ç°ã€‚Cgroup è¡¨ç¤ºæŒ‰æŸç§èµ„æºæ§åˆ¶æ ‡å‡†åˆ’åˆ†è€Œæˆçš„ä»»åŠ¡ç»„ï¼ŒåŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå­ç³»ç»Ÿã€‚ä¸€ä¸ªä»»åŠ¡å¯ä»¥åŠ å…¥æŸä¸ª cgroupï¼Œä¹Ÿå¯ä»¥ä»æŸä¸ª cgroup è¿ç§»åˆ°å¦ä¸€ä¸ª cgroupã€‚\nSubsystem(å­ç³»ç»Ÿ) cgroups ä¸­çš„å­ç³»ç»Ÿå°±æ˜¯ä¸€ä¸ªèµ„æºè°ƒåº¦æ§åˆ¶å™¨(åˆå« controllers)ã€‚æ¯”å¦‚ CPU å­ç³»ç»Ÿå¯ä»¥æ§åˆ¶ CPU çš„æ—¶é—´åˆ†é…ï¼Œå†…å­˜å­ç³»ç»Ÿå¯ä»¥é™åˆ¶å†…å­˜çš„ä½¿ç”¨é‡ã€‚å†…æ ¸ç‰ˆæœ¬ 4.10.0ï¼Œæ”¯æŒçš„ subsystem å¦‚ä¸‹( cat /proc/cgroups)ï¼š\n blkio å¯¹å—è®¾å¤‡çš„ IO è¿›è¡Œé™åˆ¶ã€‚ cpu é™åˆ¶ CPU æ—¶é—´ç‰‡çš„åˆ†é…ï¼Œä¸ cpuacct æŒ‚è½½åœ¨åŒä¸€ç›®å½•ã€‚ cpuacct ç”Ÿæˆ cgroup ä¸­çš„ä»»åŠ¡å ç”¨ CPU èµ„æºçš„æŠ¥å‘Šï¼Œä¸ cpu æŒ‚è½½åœ¨åŒä¸€ç›®å½•ã€‚ cpuset ç»™ cgroup ä¸­çš„ä»»åŠ¡åˆ†é…ç‹¬ç«‹çš„ CPU(å¤šå¤„ç†å™¨ç³»ç»Ÿ) å’Œå†…å­˜èŠ‚ç‚¹ã€‚ devices å…è®¸æˆ–ç¦æ­¢ cgroup ä¸­çš„ä»»åŠ¡è®¿é—®è®¾å¤‡ã€‚ freezer æš‚åœ/æ¢å¤ cgroup ä¸­çš„ä»»åŠ¡ã€‚ hugetlb é™åˆ¶ä½¿ç”¨çš„å†…å­˜é¡µæ•°é‡ã€‚ memory å¯¹ cgroup ä¸­çš„ä»»åŠ¡çš„å¯ç”¨å†…å­˜è¿›è¡Œé™åˆ¶ï¼Œå¹¶è‡ªåŠ¨ç”Ÿæˆèµ„æºå ç”¨æŠ¥å‘Šã€‚ net_cls ä½¿ç”¨ç­‰çº§è¯†åˆ«ç¬¦ï¼ˆclassidï¼‰æ ‡è®°ç½‘ç»œæ•°æ®åŒ…ï¼Œè¿™è®© Linux æµé‡æ§åˆ¶å™¨ï¼ˆtc æŒ‡ä»¤ï¼‰å¯ä»¥è¯†åˆ«æ¥è‡ªç‰¹å®š cgroup ä»»åŠ¡çš„æ•°æ®åŒ…ï¼Œå¹¶è¿›è¡Œç½‘ç»œé™åˆ¶ã€‚ net_prio å…è®¸åŸºäº cgroup è®¾ç½®ç½‘ç»œæµé‡(netowork traffic)çš„ä¼˜å…ˆçº§ã€‚ perf_event å…è®¸ä½¿ç”¨ perf å·¥å…·æ¥ç›‘æ§ cgroupã€‚ pids é™åˆ¶ä»»åŠ¡çš„æ•°é‡ã€‚  Hierarchy(å±‚çº§) å±‚çº§æœ‰ä¸€ç³»åˆ— cgroup ä»¥ä¸€ä¸ªæ ‘çŠ¶ç»“æ„æ’åˆ—è€Œæˆï¼Œæ¯ä¸ªå±‚çº§é€šè¿‡ç»‘å®šå¯¹åº”çš„å­ç³»ç»Ÿè¿›è¡Œèµ„æºæ§åˆ¶ã€‚å±‚çº§ä¸­çš„ cgroup èŠ‚ç‚¹å¯ä»¥åŒ…å«é›¶ä¸ªæˆ–å¤šä¸ªå­èŠ‚ç‚¹ï¼Œå­èŠ‚ç‚¹ç»§æ‰¿çˆ¶èŠ‚ç‚¹æŒ‚è½½çš„å­ç³»ç»Ÿã€‚ä¸€ä¸ªæ“ä½œç³»ç»Ÿä¸­å¯ä»¥æœ‰å¤šä¸ªå±‚çº§ã€‚\næ¥å£ ï¼ˆä»¥ä¸‹ä¸º Ubuntu 20.04ï¼Œå†…æ ¸ 5.13.0-30-genericï¼‰\ncgroups ä»¥æ–‡ä»¶çš„æ–¹å¼æä¾›åº”ç”¨æ¥å£ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ mount å‘½ä»¤æ¥æŸ¥çœ‹ cgroups é»˜è®¤çš„æŒ‚è½½ç‚¹ï¼š\n$ mount | grep cgroup tmpfs on /sys/fs/cgroup type tmpfs (ro,nosuid,nodev,noexec,mode=755,inode64) cgroup on /sys/fs/cgroup/systemd type cgroup (rw,nosuid,nodev,noexec,relatime,xattr,name=systemd) ... cgroup on /sys/fs/cgroup/cpuset type cgroup (rw,nosuid,nodev,noexec,relatime,cpuset) ç¬¬ä¸€è¡Œçš„ tmpfs è¯´æ˜ /sys/fs/cgroup ç›®å½•ä¸‹çš„æ–‡ä»¶éƒ½æ˜¯å­˜åœ¨äºå†…å­˜ä¸­çš„ä¸´æ—¶æ–‡ä»¶ã€‚\nç¬¬äºŒè¡Œçš„æŒ‚è½½ç‚¹ /sys/fs/cgroup/systemd ç”¨äº systemd ç³»ç»Ÿå¯¹ cgroups çš„æ”¯æŒã€‚\nå…¶ä½™çš„æŒ‚è½½ç‚¹åˆ™æ˜¯å†…æ ¸æ”¯æŒçš„å„ä¸ªå­ç³»ç»Ÿçš„æ ¹çº§å±‚çº§ç»“æ„ã€‚\néœ€è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨ä½¿ç”¨ systemd ç³»ç»Ÿçš„æ“ä½œç³»ç»Ÿä¸­ï¼Œ/sys/fs/cgroup ç›®å½•éƒ½æ˜¯ç”± systemd åœ¨ç³»ç»Ÿå¯åŠ¨çš„è¿‡ç¨‹ä¸­æŒ‚è½½çš„ï¼Œå¹¶ä¸”æŒ‚è½½ä¸ºåªè¯»çš„ç±»å‹ã€‚æ¢å¥è¯è¯´ï¼Œç³»ç»Ÿæ˜¯ä¸å»ºè®®æˆ‘ä»¬åœ¨ /sys/fs/cgroup ç›®å½•ä¸‹åˆ›å»ºæ–°çš„ç›®å½•å¹¶æŒ‚è½½å…¶å®ƒå­ç³»ç»Ÿçš„ã€‚è¿™ä¸€ç‚¹ä¸ä¹‹å‰çš„æ“ä½œç³»ç»Ÿä¸å¤ªä¸€æ ·ã€‚\nä¸‹é¢è®©æˆ‘ä»¬æ¥æ¢ç´¢ä¸€ä¸‹ /sys/fs/cgroup ç›®å½•åŠå…¶å­ç›®å½•ä¸‹éƒ½æ˜¯äº›ä»€ä¹ˆï¼š\n$ ls /sys/fs/cgroup blkio cpu,cpuacct freezer misc net_prio rdma cpu cpuset hugetlb net_cls perf_event systemd cpuacct devices memory net_cls,net_prio pids unified /sys/fs/cgroup ç›®å½•ä¸‹æ˜¯å„ä¸ªå­ç³»ç»Ÿçš„æ ¹ç›®å½•ã€‚æˆ‘ä»¬ä»¥ memory å­ç³»ç»Ÿä¸ºä¾‹ï¼Œçœ‹çœ‹ memory ç›®å½•ä¸‹éƒ½æœ‰ä»€ä¹ˆï¼Ÿ\n$ ls /sys/fs/cgroup/memory cgroup.clone_children memory.memsw.limit_in_bytes cgroup.event_control memory.memsw.max_usage_in_bytes cgroup.procs memory.memsw.usage_in_bytes cgroup.sane_behavior memory.move_charge_at_immigrate memory.failcnt memory.numa_stat memory.force_empty memory.oom_control memory.kmem.failcnt memory.pressure_level memory.kmem.limit_in_bytes memory.soft_limit_in_bytes memory.kmem.max_usage_in_bytes memory.stat memory.kmem.slabinfo memory.swappiness memory.kmem.tcp.failcnt memory.usage_in_bytes memory.kmem.tcp.limit_in_bytes memory.use_hierarchy memory.kmem.tcp.max_usage_in_bytes notify_on_release memory.kmem.tcp.usage_in_bytes release_agent memory.kmem.usage_in_bytes system.slice memory.limit_in_bytes tasks memory.max_usage_in_bytes user.slice memory.memsw.failcnt è¿™äº›æ–‡ä»¶å°±æ˜¯ cgroups çš„ memory å­ç³»ç»Ÿä¸­çš„æ ¹çº§è®¾ç½®ã€‚æ¯”å¦‚ memory.limit_in_bytes ä¸­çš„æ•°å­—ç”¨æ¥é™åˆ¶è¿›ç¨‹çš„æœ€å¤§å¯ç”¨å†…å­˜ï¼Œmemory.swappiness ä¸­ä¿å­˜ç€ä½¿ç”¨ swap çš„æƒé‡ç­‰ç­‰ã€‚\næ‰‹åŠ¨æ–¹æ³• ä½ å¯ä»¥ç›´æ¥æˆ–è€…é—´æ¥ï¼ˆé€šè¿‡LXCã€libvirtæˆ–è€…Dockerï¼‰è®¿é—®åŠç®¡ç†æ§åˆ¶ç»„ï¼Œè¿™é‡Œæˆ‘é¦–å…ˆä»‹ç»ä½¿ç”¨sysfsä»¥åŠlibgroupsåº“ã€‚æ¥ä¸‹æ¥çš„ç¤ºä¾‹éœ€è¦ä½ é¢„å…ˆå®‰è£…ä¸€ä¸ªå¿…é¡»çš„åŒ…ã€‚\n$ sudo apt-get install libcgroup1 cgroup-tools æˆ‘å°†ä½¿ç”¨ä¸€ä¸ªç®€å•çš„shellè„šæœ¬æ–‡ä»¶test.shä½œä¸ºç¤ºä¾‹åº”ç”¨ç¨‹åºï¼Œå®ƒå°†ä¼šåœ¨æ— é™whileå¾ªç¯ä¸­è¿è¡Œä»¥ä¸‹ä¸¤ä¸ªå‘½ä»¤ã€‚\n$ cat test.sh !/bin/shwhile [ 1 ]; do echo \u0026#34;hello world\u0026#34; sleep 60 done å®‰è£…å¿…è¦çš„åŒ…åï¼Œä½ å¯ä»¥ç›´æ¥é€šè¿‡sysfsçš„ç›®å½•ç»“æ„æ¥é…ç½®ä½ çš„æ§åˆ¶ç»„ï¼Œä¾‹å¦‚ï¼Œè¦åœ¨å†…å­˜å­ç³»ç»Ÿä¸­åˆ›å»ºä¸€ä¸ªå«åšfooçš„æ§åˆ¶ç»„ï¼Œåªéœ€è¦åœ¨/sys/fs/cgroup/memoryåº•ä¸‹æ–°å»ºä¸€ä¸ªå«åšfooçš„ç›®å½•ï¼š\n$ sudo mkdir /sys/fs/cgroup/memory/foo åœ¨æˆ‘ä»¬ä½¿ç”¨ cgroups æ—¶ï¼Œæœ€å¥½ä¸è¦ç›´æ¥åœ¨å„ä¸ªå­ç³»ç»Ÿçš„æ ¹ç›®å½•ä¸‹ç›´æ¥ä¿®æ”¹å…¶é…ç½®æ–‡ä»¶ã€‚æ¨èçš„æ–¹å¼æ˜¯ä¸ºä¸åŒçš„éœ€æ±‚åœ¨å­ç³»ç»Ÿæ ‘ä¸­å®šä¹‰ä¸åŒçš„èŠ‚ç‚¹ã€‚\ncgroups çš„æ–‡ä»¶ç³»ç»Ÿä¼šåœ¨åˆ›å»ºæ–‡ä»¶ç›®å½•çš„æ—¶å€™è‡ªåŠ¨åˆ›å»ºé…ç½®æ–‡ä»¶ï¼š\n$ ls /sys/fs/cgroup/memory/foo cgroup.clone_children memory.memsw.failcnt cgroup.event_control memory.memsw.limit_in_bytes cgroup.procs memory.memsw.max_usage_in_bytes memory.failcnt memory.memsw.usage_in_bytes memory.force_empty memory.move_charge_at_immigrate memory.kmem.failcnt memory.numa_stat memory.kmem.limit_in_bytes memory.oom_control memory.kmem.max_usage_in_bytes memory.pressure_level memory.kmem.slabinfo memory.soft_limit_in_bytes memory.kmem.tcp.failcnt memory.stat memory.kmem.tcp.limit_in_bytes memory.swappiness memory.kmem.tcp.max_usage_in_bytes memory.usage_in_bytes memory.kmem.tcp.usage_in_bytes memory.use_hierarchy memory.kmem.usage_in_bytes notify_on_release memory.limit_in_bytes tasks memory.max_usage_in_bytes é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯ä¸ªæ–°å»ºçš„æ§åˆ¶ç»„å°†ä¼šç»§æ‰¿å¯¹ç³»ç»Ÿæ•´ä¸ªå†…å­˜æ± çš„è®¿é—®æƒé™ã€‚ä½†å¯¹äºæŸäº›åº”ç”¨ç¨‹åºï¼Œè¿™äº›ç¨‹åºæ‹’ç»é‡Šæ”¾å·²åˆ†é…çš„å†…å­˜å¹¶ç»§ç»­åˆ†é…æ›´å¤šå†…å­˜ï¼Œè¿™ç§é»˜è®¤ç»§æ‰¿æ–¹å¼æ˜¾ç„¶ä¸æ˜¯ä¸ªå¥½ä¸»æ„ã€‚è¦ä½¿ç¨‹åºçš„å†…å­˜é™åˆ¶å˜å¾—æ›´ä¸ºåˆç†ï¼Œä½ éœ€è¦æ›´æ–°æ–‡ä»¶memory.limit_in_bytesã€‚\né™åˆ¶æ§åˆ¶ç»„fooä¸‹è¿è¡Œçš„ä»»ä½•åº”ç”¨çš„å†…å­˜ä¸Šé™ä¸º50MBï¼š\n$ echo 50000000 | sudo tee /sys/fs/cgroup/memory/foo/memory.limit_in_bytes éªŒè¯è®¾ç½®ï¼š\n$ sudo cat memory.limit_in_bytes 49999872 è¯·æ³¨æ„ï¼Œå›è¯»çš„å€¼å§‹ç»ˆæ˜¯å†…æ ¸é¡µé¢å¤§å°çš„å€æ•°ï¼ˆå³4096å­—èŠ‚æˆ–4KBï¼‰ã€‚è¿™ä¸ªå€¼æ˜¯å†…å­˜çš„æœ€å°å¯åˆ†é…å¤§å°ã€‚\nå¯åŠ¨åº”ç”¨ç¨‹åºtest.shï¼š\n$ sh ~/test.sh ä½¿ç”¨è¿›ç¨‹IDï¼ˆPIDï¼‰ï¼Œå°†åº”ç”¨ç¨‹åºç§»åŠ¨åˆ°å†…å­˜æ§åˆ¶å™¨åº•ä¸‹çš„æ§åˆ¶ç»„fooï¼š\n$ echo 2152 | sudo tee /sys/fs/cgroup/memory/foo/cgroup.procs ä½¿ç”¨ç›¸åŒçš„PIDï¼Œåˆ—å‡ºæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹å¹¶éªŒè¯å®ƒæ˜¯å¦åœ¨æ­£ç¡®çš„æ§åˆ¶ç»„ä¸‹è¿è¡Œï¼š\n$ ps -o cgroup 2152 CGROUP 5:devices:/user.slice,4:pids:/user.slice/user-1000.slice/user@1000.service,3:m... æˆ–è€…é€šè¿‡ /proc/[pid]/cgroup æ¥æŸ¥çœ‹æŒ‡å®šè¿›ç¨‹å±äºå“ªäº› cgroupï¼š\n$ cat /proc/2152/cgroup 13:cpuset:/ 12:blkio:/ 11:misc:/ 10:rdma:/ 9:freezer:/ 8:cpu,cpuacct:/ 7:perf_event:/ 6:hugetlb:/ 5:devices:/user.slice 4:pids:/user.slice/user-1000.slice/user@1000.service 3:memory:/foo #here 2:net_cls,net_prio:/ 1:name=systemd:/user.slice/user-1000.slice/user@1000.service/gnome\\x2dsession\\x2dmanager.slice/gnome-session-manager@ubuntu.service 0::/user.slice/user-1000.slice/user@1000.service/gnome\\x2dsession\\x2dmanager.slice/gnome-session-manager@ubuntu.service æ¯ä¸€è¡ŒåŒ…å«ç”¨å†’å·éš”å¼€çš„ä¸‰åˆ—ï¼Œä»–ä»¬çš„å«ä¹‰åˆ†åˆ«æ˜¯ï¼š\n cgroup æ ‘çš„ IDï¼Œ å’Œ /proc/cgroups æ–‡ä»¶ä¸­çš„ ID ä¸€ä¸€å¯¹åº”ã€‚ å’Œ cgroup æ ‘ç»‘å®šçš„æ‰€æœ‰ subsystemï¼Œå¤šä¸ª subsystem ä¹‹é—´ç”¨é€—å·éš”å¼€ã€‚è¿™é‡Œ name=systemd è¡¨ç¤ºæ²¡æœ‰å’Œä»»ä½• subsystem ç»‘å®šï¼Œåªæ˜¯ç»™ä»–èµ·äº†ä¸ªåå­—å« systemdã€‚ è¿›ç¨‹åœ¨ cgroup æ ‘ä¸­çš„è·¯å¾„ï¼Œå³è¿›ç¨‹æ‰€å±çš„ cgroupï¼Œè¿™ä¸ªè·¯å¾„æ˜¯ç›¸å¯¹äºæŒ‚è½½ç‚¹çš„ç›¸å¯¹è·¯å¾„ã€‚  ä½ è¿˜å¯ä»¥é€šè¿‡è¯»å–æ–‡ä»¶æ¥ç›‘æ§æ§åˆ¶ç»„æ­£åœ¨ä½¿ç”¨çš„èµ„æºã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¯ä»¥æŸ¥çœ‹ä½ çš„è¿›ç¨‹ï¼ˆä»¥åŠç”Ÿæˆçš„å­è¿›ç¨‹ï¼‰è¢«åˆ†é…çš„å†…å­˜å¤§å°ã€‚\n$ cat /sys/fs/cgroup/memory/foo/memory.usage_in_bytes 188416 å½“è¿›ç¨‹â€œè¿·è·¯â€æ—¶ ç°åœ¨è®©æˆ‘ä»¬é‡æ–°åˆ›å»ºç›¸åŒçš„åœºæ™¯ï¼Œä½†è¿™æ¬¡æˆ‘ä»¬å°†æ§åˆ¶ç»„fooçš„å†…å­˜é™åˆ¶ä»50MBæ”¹ä¸º500 bytesï¼š\n$ echo 500 | sudo tee /sys/fs/cgroup/memory/foo/memory.limit_in_bytes æ³¨æ„ï¼šå¦‚æœä»»åŠ¡è¶…å‡ºå…¶å®šä¹‰çš„é™åˆ¶ï¼Œå†…æ ¸å°†è¿›è¡Œå¹²é¢„ï¼Œå¹¶åœ¨æŸäº›æƒ…å†µä¸‹ç»ˆæ­¢è¯¥ä»»åŠ¡ã€‚\nåŒæ ·ï¼Œå½“æ‚¨é‡æ–°è¯»å–å€¼æ—¶ï¼Œå®ƒå°†å§‹ç»ˆæ˜¯å†…æ ¸é¡µé¢å¤§å°çš„å€æ•°ã€‚å› æ­¤ï¼Œè™½ç„¶æ‚¨å°†å…¶è®¾ç½®ä¸º500å­—èŠ‚ï¼Œä½†å®ƒå®é™…ä¸Šè¢«è®¾ç½®ä¸º4 KBï¼š\n$ cat /sys/fs/cgroup/memory/foo/memory.limit_in_bytes 4096 å¯åŠ¨åº”ç”¨ç¨‹åºtest.shï¼Œå°†å…¶ç§»åŠ¨åˆ°æ§åˆ¶ç»„ä¸‹å¹¶ç›‘è§†ç³»ç»Ÿæ—¥å¿—ï¼š\n$ sudo tail -f /var/log/messages ... è¯·æ³¨æ„ï¼Œå†…æ ¸çš„Out-Of-Mempry Killerï¼ˆä¹Ÿå«åšoom-killer å†…å­˜ä¸è¶³æ€æ‰‹ï¼‰åœ¨åº”ç”¨ç¨‹åºè¾¾åˆ°4KBé™åˆ¶æ—¶å°±ä¼šä»‹å…¥ã€‚å®ƒä¼šæ€æ­»åº”ç”¨ç¨‹åºï¼Œåº”ç”¨ç¨‹åºå°†ä¸å†è¿è¡Œï¼Œä½ å¯ä»¥é€šè¿‡è¾“å…¥ä»¥ä¸‹å‘½ä»¤è¿›è¡ŒéªŒè¯ï¼š\n$ ps -o cgroup 2152 ä½¿ç”¨libcgroup ä¹‹å‰æè¿°çš„è®¸å¤šæ—©æœŸæ­¥éª¤éƒ½å¯ä»¥é€šè¿‡libcgroupåŒ…ä¸­æä¾›çš„ç®¡ç†å·¥å…·è¿›è¡Œç®€åŒ–ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨cgcreateäºŒè¿›åˆ¶æ–‡ä»¶çš„å•ä¸ªå‘½ä»¤å³å¯åˆ›å»ºsysfsæ¡ç›®å’Œæ–‡ä»¶ã€‚\nè¾“å…¥ä»¥ä¸‹å‘½ä»¤å³å¯åœ¨å†…å­˜å­ç³»ç»Ÿä¸‹åˆ›å»ºä¸€ä¸ªå«åšfooçš„æ§åˆ¶ç»„ï¼š\n$ sudo cgcreate -g memory:foo æ³¨æ„ï¼šlibcgroupæä¾›äº†ä¸€ç§ç®¡ç†æ§åˆ¶ç»„ä¸­ä»»åŠ¡çš„æœºåˆ¶ã€‚\nä½¿ç”¨ä¸ä¹‹å‰ç›¸åŒçš„æ–¹æ³•ï¼Œä½ å°±å¯ä»¥å¼€å§‹è®¾ç½®å†…å­˜é˜ˆå€¼ï¼š\n$ echo 50000000 | sudo tee /sys/fs/cgroup/memory/foo/memory.limit_in_bytes éªŒè¯æ–°é…ç½®çš„è®¾ç½®ï¼š\n$ sudo cat memory.limit_in_bytes 50003968 ä½¿ç”¨cgexecäºŒè¿›åˆ¶æ–‡ä»¶åœ¨æ§åˆ¶ç»„fooä¸­è¿è¡Œåº”ç”¨ç¨‹åºï¼š\n$ sudo cgexec -g memory:foo ~/test.sh ä½¿ç”¨å®ƒçš„è¿›ç¨‹ID - PIDæ¥éªŒè¯åº”ç”¨ç¨‹åºæ˜¯å¦åœ¨æ§åˆ¶ç»„å’Œå­ç³»ç»Ÿï¼ˆå†…å­˜ï¼‰ä¸‹è¿è¡Œï¼š\n$ ps -o cgroup 2945 CGROUP 6:memory:/foo,1:name=systemd:/user.slice/user-0.slice/session-1.scope å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºä¸å†è¿è¡Œï¼Œå¹¶ä¸”æ‚¨æƒ³è¦æ¸…ç†å¹¶åˆ é™¤æ§åˆ¶ç»„ï¼Œåˆ™å¯ä»¥ä½¿ç”¨äºŒè¿›åˆ¶æ–‡ä»¶cgdeleteæ¥æ‰§è¡Œæ­¤æ“ä½œã€‚è¦ä»å†…å­˜æ§åˆ¶å™¨ä¸‹åˆ é™¤æ§åˆ¶ç»„fooï¼Œè¯·è¾“å…¥ï¼š\n$ sudo cgdelete memory:foo æŒä¹…ç»„ æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡ä¸€ä¸ªç®€å•çš„é…ç½®æ–‡ä»¶å’ŒæœåŠ¡çš„å¯åŠ¨æ¥å®Œæˆä¸Šè¿°æ‰€æœ‰æ“ä½œã€‚æ‚¨å¯ä»¥åœ¨/etc/cgconfig.confæ–‡ä»¶ä¸­å®šä¹‰æ‰€æœ‰æ§åˆ¶ç»„åç§°å’Œå±æ€§ã€‚ä»¥ä¸‹ä¸ºfooç»„æ·»åŠ äº†ä¸€äº›å±æ€§ï¼š\n$ cat /etc/cgconfig.conf group foo { cpu { cpu.shares = 100; } memory { memory.limit_in_bytes = 5000000; } } cpu.sharesé€‰é¡¹å®šä¹‰äº†è¯¥ç»„çš„CPUä¼˜å…ˆçº§ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰€æœ‰ç»„éƒ½ç»§æ‰¿1024 sharesï¼ˆCPU shareæŒ‡çš„æ˜¯æ§åˆ¶ç»„ä¸­çš„ä»»åŠ¡è¢«åˆ†é…åˆ°çš„CPUçš„ timeçš„ä¼˜å…ˆçº§ï¼Œå³å€¼è¶Šå¤§ï¼Œåˆ†é…åˆ°çš„CPU timeè¶Šå¤šï¼Œè¿™ä¸ªå€¼éœ€å¤§äºç­‰äº2ï¼‰ï¼Œå³100%çš„CPU timeï¼ˆCPU timeæ˜¯CPUç”¨äºå¤„ç†ä¸€ä¸ªç¨‹åºæ‰€èŠ±è´¹çš„æ—¶é—´ï¼‰ã€‚é€šè¿‡å°†cpu.sharesçš„å€¼é™ä½åˆ°æ›´ä¿å®ˆçš„å€¼ï¼ˆå¦‚100ï¼‰ï¼Œè¿™ä¸ªç»„å°†ä¼šè¢«é™åˆ¶åªèƒ½ä½¿ç”¨å¤§æ¦‚10%çš„CPU timeã€‚\nå°±å¦‚ä¹‹å‰è®¨è®ºçš„ï¼Œåœ¨æ§åˆ¶ç»„ä¸­è¿è¡Œçš„è¿›ç¨‹ä¹Ÿå¯ä»¥è¢«é™åˆ¶å®ƒèƒ½è®¿é—®çš„CPUsï¼ˆå†…æ ¸ï¼‰çš„æ•°é‡ã€‚å°†ä»¥ä¸‹éƒ¨åˆ†æ·»åŠ åˆ°åŒä¸€ä¸ªé…ç½®æ–‡ä»¶cgconfig.confä¸­ç»„ååº•ä¸‹ã€‚\ncpuset { cpuset.cpus=\u0026quot;0-5\u0026quot;; } æœ‰äº†è¿™ä¸ªé™åˆ¶ï¼Œè¿™ä¸ªæ§åˆ¶ç»„ä¼šå°†åº”ç”¨ç¨‹åºç»‘å®šåˆ°åˆ°0æ ¸åˆ°5æ ¸â€”â€”ä¹Ÿå°±æ˜¯è¯´ï¼Œå®ƒåªèƒ½è®¿é—®ç³»ç»Ÿä¸Šçš„å‰6ä¸ªCPUæ ¸ã€‚\næ¥ä¸‹æ¥ï¼Œæ‚¨éœ€è¦ä½¿ç”¨cgconfigæœåŠ¡åŠ è½½æ­¤é…ç½®ã€‚é¦–å…ˆï¼Œå¯ç”¨cgconfigä»¥åœ¨ç³»ç»Ÿå¯åŠ¨æ—¶èƒ½å¤ŸåŠ è½½ä¸Šè¿°é…ç½®ï¼š\n$ sudo systemctl enable cgconfig Create symlink from /etc/systemd/system/sysinit.target.wants/cgconfig.service to /usr/lib/systemd/system/cgconfig.service. ç°åœ¨ï¼Œå¯åŠ¨cgconfigæœåŠ¡å¹¶æ‰‹åŠ¨åŠ è½½ç›¸åŒçš„é…ç½®æ–‡ä»¶ï¼ˆæˆ–è€…æ‚¨å¯ä»¥è·³è¿‡æ­¤æ­¥éª¤ç›´æ¥é‡å¯ç³»ç»Ÿï¼‰ï¼š\n$ sudo systemctl start cgconfig åœ¨æ§åˆ¶ç»„fooä¸‹å¯åŠ¨è¯¥åº”ç”¨ç¨‹åºå¹¶å°†å…¶ç»‘å®šåˆ°æ‚¨è®¾ç½®çš„å†…å­˜å’ŒCPUé™åˆ¶ï¼š\n$ sudo cgexec -g memory,cpu,cpuset:foo ~/test.sh \u0026amp; é™¤äº†å°†åº”ç”¨ç¨‹åºå¯åŠ¨åˆ°é¢„å®šä¹‰çš„æ§åˆ¶ç»„ä¹‹å¤–ï¼Œå…¶ä½™æ‰€æœ‰å†…å®¹éƒ½å°†åœ¨ç³»ç»Ÿé‡æ–°å¯åŠ¨åæŒç»­å­˜åœ¨ã€‚ä½†æ˜¯ï¼Œæ‚¨å¯ä»¥é€šè¿‡å®šä¹‰ä¾èµ–äºcgconfigæœåŠ¡çš„å¯åŠ¨åˆå§‹è„šæœ¬æ¥å¯åŠ¨è¯¥åº”ç”¨ç¨‹åºï¼Œè‡ªåŠ¨æ‰§è¡Œè¯¥è¿‡ç¨‹ã€‚\næ€»ç»“ é€šå¸¸æ¥è¯´ï¼Œé™åˆ¶ä¸€ä¸ªæœºå™¨ä¸Šä¸€ä¸ªæˆ–è€…å¤šä¸ªä»»åŠ¡çš„æƒé™æ˜¯å¿…è¦çš„ã€‚æ§åˆ¶ç»„æä¾›äº†è¿™é¡¹åŠŸèƒ½ï¼Œé€šè¿‡ä½¿ç”¨å®ƒï¼Œæ‚¨å¯ä»¥å¯¹ä¸€äº›ç‰¹åˆ«é‡è¦æˆ–æ— æ³•æ§åˆ¶çš„åº”ç”¨ç¨‹åºå®æ–½ä¸¥æ ¼çš„ç¡¬ä»¶å’Œè½¯ä»¶é™åˆ¶ã€‚å¦‚æœä¸€ä¸ªåº”ç”¨ç¨‹åºæ²¡æœ‰è®¾ç½®ä¸Šé™é˜ˆå€¼æˆ–é™åˆ¶å®ƒå¯ä»¥åœ¨ç³»ç»Ÿä¸Šæ¶ˆè€—çš„å†…å­˜é‡ï¼Œcgroupså¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚å¦‚æœå¦ä¸€ä¸ªåº”ç”¨ç¨‹åºæ²¡æœ‰CPUä¸Šçš„é™åˆ¶ï¼Œé‚£ä¹ˆcgroupså¯ä»¥å†ä¸€æ¬¡è§£å†³æ‚¨çš„é—®é¢˜ã€‚æ‚¨å¯ä»¥é€šè¿‡cgroupå®Œæˆè¿™ä¹ˆå¤šå·¥ä½œï¼Œåªéœ€èŠ±ä¸€ç‚¹æ—¶é—´ï¼Œæ‚¨å°±å¯ä»¥ä½¿ç”¨ä½ çš„æ“ä½œç³»ç»Ÿç¯å¢ƒæ¢å¤ç¨³å®šæ€§ï¼Œå®‰å…¨æ€§å’Œå¥å…¨æ€§ã€‚\nä½¿ç”¨ Systemd å½“ Linux çš„ init ç³»ç»Ÿå‘å±•åˆ° systemd ä¹‹åï¼Œsystemd ä¸ cgroups å‘ç”Ÿäº†èåˆ(æˆ–è€…è¯´ systemd æä¾›äº† cgroups çš„ä½¿ç”¨å’Œç®¡ç†æ¥å£)ã€‚\nSystemd ä¾èµ– cgroups\nè¦ç†è§£ systemd ä¸ cgroups çš„å…³ç³»ï¼Œæˆ‘ä»¬éœ€è¦å…ˆåŒºåˆ† cgroups çš„ä¸¤ä¸ªæ–¹é¢ï¼šå±‚çº§ç»“æ„(A)å’Œèµ„æºæ§åˆ¶(B)ã€‚é¦–å…ˆ cgroups æ˜¯ä»¥å±‚çº§ç»“æ„ç»„ç»‡å¹¶æ ‡è¯†è¿›ç¨‹çš„ä¸€ç§æ–¹å¼ï¼ŒåŒæ—¶å®ƒä¹Ÿæ˜¯åœ¨è¯¥å±‚çº§ç»“æ„ä¸Šæ‰§è¡Œèµ„æºé™åˆ¶çš„ä¸€ç§æ–¹å¼ã€‚æˆ‘ä»¬ç®€å•çš„æŠŠ cgroups çš„å±‚çº§ç»“æ„ç§°ä¸º Aï¼ŒæŠŠ cgrpups çš„èµ„æºæ§åˆ¶èƒ½åŠ›ç§°ä¸º Bã€‚\nå¯¹äº systemd æ¥è¯´ï¼ŒA æ˜¯å¿…é¡»çš„ï¼Œå¦‚æœæ²¡æœ‰ Aï¼Œsystemd å°†ä¸èƒ½å¾ˆå¥½çš„å·¥ä½œã€‚è€Œ B åˆ™æ˜¯å¯é€‰çš„ï¼Œå¦‚æœä½ ä¸éœ€è¦å¯¹èµ„æºè¿›è¡Œæ§åˆ¶ï¼Œé‚£ä¹ˆåœ¨ç¼–è¯‘ Linux å†…æ ¸æ—¶å®Œå…¨å¯ä»¥å»æ‰ B ç›¸å…³çš„ç¼–è¯‘é€‰é¡¹ã€‚\nSystemd é»˜è®¤æŒ‚è½½çš„ cgroups ç³»ç»Ÿ\nåœ¨ç³»ç»Ÿçš„å¼€æœºé˜¶æ®µï¼Œsystemd ä¼šæŠŠæ”¯æŒçš„ controllers (subsystem å­ç³»ç»Ÿ)æŒ‚è½½åˆ°é»˜è®¤çš„ /sys/fs/cgroup/ ç›®å½•ä¸‹é¢ï¼Œé™¤äº† systemd ç›®å½•å¤–ï¼Œå…¶å®ƒç›®å½•éƒ½æ˜¯å¯¹åº”çš„ subsystemã€‚\n/sys/fs/cgroup/systemd ç›®å½•æ˜¯ systemd ç»´æŠ¤çš„è‡ªå·±ä½¿ç”¨çš„é subsystem çš„ cgroups å±‚çº§ç»“æ„ã€‚æ¢å¥è¯è¯´å°±æ˜¯ï¼Œå¹¶ä¸å…è®¸å…¶å®ƒçš„ç¨‹åºåŠ¨è¿™ä¸ªç›®å½•ä¸‹çš„å†…å®¹ã€‚å…¶å® /sys/fs/cgroup/systemd ç›®å½•å¯¹åº”çš„ cgroups å±‚çº§ç»“æ„å°±æ˜¯ systemd ç”¨æ¥ä½¿ç”¨ cgoups ä¸­ feature A çš„ã€‚\nCgroup çš„é»˜è®¤å±‚çº§\nè¿‡å°† cgroup å±‚çº§ç³»ç»Ÿä¸ systemd unit æ ‘ç»‘å®šï¼Œsystemd å¯ä»¥æŠŠèµ„æºç®¡ç†çš„è®¾ç½®ä»è¿›ç¨‹çº§åˆ«ç§»è‡³åº”ç”¨ç¨‹åºçº§åˆ«ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ systemctl æŒ‡ä»¤ï¼Œæˆ–è€…é€šè¿‡ä¿®æ”¹ systemd unit çš„é…ç½®æ–‡ä»¶æ¥ç®¡ç† unit ç›¸å…³çš„èµ„æºã€‚\né»˜è®¤æƒ…å†µä¸‹ï¼Œsystemd ä¼šè‡ªåŠ¨åˆ›å»º sliceã€scope å’Œ service unit çš„å±‚çº§æ¥ä¸º cgroup æ ‘æä¾›ç»Ÿä¸€çš„å±‚çº§ç»“æ„ã€‚\nç³»ç»Ÿä¸­è¿è¡Œçš„æ‰€æœ‰è¿›ç¨‹ï¼Œéƒ½æ˜¯ systemd init è¿›ç¨‹çš„å­è¿›ç¨‹ã€‚åœ¨èµ„æºç®¡æ§æ–¹é¢ï¼Œsystemd æä¾›äº†ä¸‰ç§ unit ç±»å‹ï¼š\n serviceï¼š ä¸€ä¸ªæˆ–ä¸€ç»„è¿›ç¨‹ï¼Œç”± systemd ä¾æ® unit é…ç½®æ–‡ä»¶å¯åŠ¨ã€‚service å¯¹æŒ‡å®šè¿›ç¨‹è¿›è¡Œå°è£…ï¼Œè¿™æ ·è¿›ç¨‹å¯ä»¥ä½œä¸ºä¸€ä¸ªæ•´ä½“è¢«å¯åŠ¨æˆ–ç»ˆæ­¢ã€‚ scopeï¼šä¸€ç»„å¤–éƒ¨åˆ›å»ºçš„è¿›ç¨‹ã€‚ç”±è¿›ç¨‹é€šè¿‡ fork() å‡½æ•°å¯åŠ¨å’Œç»ˆæ­¢ã€ä¹‹åè¢« systemd åœ¨è¿è¡Œæ—¶æ³¨å†Œçš„è¿›ç¨‹ï¼Œscope ä¼šå°†å…¶å°è£…ã€‚ä¾‹å¦‚ï¼šç”¨æˆ·ä¼šè¯ã€ å®¹å™¨å’Œè™šæ‹Ÿæœºè¢«è®¤ä¸ºæ˜¯ scopeã€‚ sliceï¼š ä¸€ç»„æŒ‰å±‚çº§æ’åˆ—çš„ unitã€‚slice å¹¶ä¸åŒ…å«è¿›ç¨‹ï¼Œä½†ä¼šç»„å»ºä¸€ä¸ªå±‚çº§ï¼Œå¹¶å°† scope å’Œ service éƒ½æ”¾ç½®å…¶ä¸­ã€‚çœŸæ­£çš„è¿›ç¨‹åŒ…å«åœ¨ scope æˆ– service ä¸­ã€‚åœ¨è¿™ä¸€è¢«åˆ’åˆ†å±‚çº§çš„æ ‘ä¸­ï¼Œæ¯ä¸€ä¸ª slice å•ä½çš„åå­—å¯¹åº”é€šå‘å±‚çº§ä¸­ä¸€ä¸ªä½ç½®çš„è·¯å¾„ã€‚  ä»¥é€šè¿‡ systemd-cgls å‘½ä»¤æ¥æŸ¥çœ‹ cgroups çš„å±‚çº§ç»“æ„\nControl group /: -.slice â”œâ”€419 bpfilter_umh â”œâ”€user.slice â”‚ â”œâ”€user-125.slice â”‚ â”‚ â”œâ”€session-c1.scope â”‚ â”‚ â”‚ â”œâ”€1101 gdm-session-worker [pam/gdm-launch-environment] â”‚ â”‚ â”‚ â”œâ”€1158 /usr/lib/gdm3/gdm-x-session dbus-run-session -- gnome-session -\u0026gt; â”‚ â”‚ â”‚ â”œâ”€1160 /usr/lib/xorg/Xorg vt1 -displayfd 3 -auth /run/user/125/gdm/Xau\u0026gt; â”‚ â”‚ â”‚ â”œâ”€1347 dbus-run-session -- gnome-session --autostart /usr/share/gdm/gr\u0026gt; â”‚ â”‚ â”‚ â”œâ”€1348 dbus-daemon --nofork --print-address 4 --session â”‚ â”‚ â”‚ â”œâ”€1349 /usr/libexec/gnome-session-binary --systemd --autostart /usr/sh\u0026gt; â”‚ â”‚ â”‚ â”œâ”€1352 /usr/libexec/at-spi-bus-launcher â”‚ â”‚ â”‚ â”œâ”€1357 /usr/bin/dbus-daemon --config-file=/usr/share/defaults/at-spi2/\u0026gt; â”‚ â”‚ â”‚ â”œâ”€1378 /usr/bin/gnome-shell â”‚ â”‚ â”‚ â”œâ”€1432 ibus-daemon --panel disable --xim â”‚ â”‚ â”‚ â”œâ”€1435 /usr/libexec/ibus-dconf â”‚ â”‚ â”‚ â”œâ”€1438 /usr/libexec/ibus-x11 --kill-daemon â”‚ â”‚ â”‚ â”œâ”€1440 /usr/libexec/ibus-portal â”‚ â”‚ â”‚ â”œâ”€1451 /usr/libexec/at-spi2-registryd --use-gnome-session serviceã€scope å’Œ slice unit è¢«ç›´æ¥æ˜ å°„åˆ° cgroup æ ‘ä¸­çš„å¯¹è±¡ã€‚å½“è¿™äº› unit è¢«æ¿€æ´»æ—¶ï¼Œå®ƒä»¬ä¼šç›´æ¥ä¸€ä¸€æ˜ å°„åˆ°ç”± unit åå»ºç«‹çš„ cgroup è·¯å¾„ä¸­ã€‚ä¾‹å¦‚ï¼Œcron.service å±äº system.sliceï¼Œä¼šç›´æ¥æ˜ å°„åˆ° cgroup system.slice/cron.service/ ä¸­ã€‚ æ³¨æ„ï¼Œæ‰€æœ‰çš„ç”¨æˆ·ä¼šè¯ã€è™šæ‹Ÿæœºå’Œå®¹å™¨è¿›ç¨‹ä¼šè¢«è‡ªåŠ¨æ”¾ç½®åœ¨ä¸€ä¸ªå•ç‹¬çš„ scope å•å…ƒä¸­ã€‚\né»˜è®¤æƒ…å†µä¸‹ï¼Œç³»ç»Ÿä¼šåˆ›å»ºå››ç§ sliceï¼š\n -.sliceï¼šæ ¹ slice system.sliceï¼šæ‰€æœ‰ç³»ç»Ÿ service çš„é»˜è®¤ä½ç½® user.sliceï¼šæ‰€æœ‰ç”¨æˆ·ä¼šè¯çš„é»˜è®¤ä½ç½® machine.sliceï¼šæ‰€æœ‰è™šæ‹Ÿæœºå’Œ Linux å®¹å™¨çš„é»˜è®¤ä½ç½®  åˆ›å»ºä¸´æ—¶çš„ cgroup\nå¯¹èµ„æºç®¡ç†çš„è®¾ç½®å¯ä»¥æ˜¯ transient(ä¸´æ—¶çš„)ï¼Œä¹Ÿå¯ä»¥æ˜¯ persistent (æ°¸ä¹…çš„)ã€‚æˆ‘ä»¬å…ˆæ¥ä»‹ç»å¦‚ä½•åˆ›å»ºä¸´æ—¶çš„ cgroupã€‚\néœ€è¦ä½¿ç”¨ systemd-run å‘½ä»¤åˆ›å»ºä¸´æ—¶çš„ cgroupï¼Œå®ƒå¯ä»¥åˆ›å»ºå¹¶å¯åŠ¨ä¸´æ—¶çš„ service æˆ– scope unitï¼Œå¹¶åœ¨æ­¤ unit ä¸­è¿è¡Œç¨‹åºã€‚systemd-run å‘½ä»¤é»˜è®¤åˆ›å»º service ç±»å‹çš„ unitï¼Œæ¯”å¦‚æˆ‘ä»¬åˆ›å»ºåç§°ä¸º toptest çš„ service è¿è¡Œ top å‘½ä»¤ï¼š\n$ sudo systemd-run --unit=toptest --slice=test top -b ç„¶åæŸ¥çœ‹ä¸€ä¸‹ test.slice çš„çŠ¶æ€ï¼š\n$ sudo systemctl status test.slice åˆ›å»ºäº†ä¸€ä¸ª test.slice/toptest.service cgroup å±‚çº§å…³ç³»ã€‚å†çœ‹çœ‹ toptest.service çš„çŠ¶æ€ï¼š\n$ sudo systemctl status toptest.service top å‘½ä»¤è¢«åŒ…è£…æˆä¸€ä¸ª service è¿è¡Œåœ¨åå°äº†ï¼\næ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ systemctl å‘½ä»¤æ¥é™åˆ¶ toptest.service çš„èµ„æºäº†ã€‚åœ¨é™åˆ¶å‰è®©æˆ‘ä»¬å…ˆæ¥çœ‹ä¸€çœ‹ top è¿›ç¨‹çš„ cgroup ä¿¡æ¯ï¼š\n$ cat /proc/2850/cgroup æ¯”å¦‚æˆ‘ä»¬é™åˆ¶ toptest.service çš„ CPUShares ä¸º 600ï¼Œå¯ç”¨å†…å­˜çš„ä¸Šé™ä¸º 550Mï¼š\n$ sudo systemctl set-property toptest.service CPUShares=600 MemoryLimit=500M å†æ¬¡æ£€æŸ¥ top è¿›ç¨‹çš„ cgroup ä¿¡æ¯ï¼š\n$ cat /proc/2850/cgroup åœ¨ CPU å’Œ memory å­ç³»ç»Ÿä¸­éƒ½å‡ºç°äº† toptest.service çš„åå­—ã€‚åŒæ—¶å»æŸ¥çœ‹ /sys/fs/cgroup/memory/test.slice å’Œ /sys/fs/cgroup/cpu/test.slice ç›®å½•ï¼Œè¿™ä¸¤ä¸ªç›®å½•ä¸‹éƒ½å¤šå‡ºäº†ä¸€ä¸ª toptest.service ç›®å½•ã€‚æˆ‘ä»¬è®¾ç½®çš„ CPUShares=600 MemoryLimit=500M è¢«åˆ†åˆ«å†™å…¥äº†è¿™äº›ç›®å½•ä¸‹çš„å¯¹åº”æ–‡ä»¶ä¸­ã€‚\nä¸´æ—¶ cgroup çš„ç‰¹å¾æ˜¯ï¼Œæ‰€åŒ…å«çš„è¿›ç¨‹ä¸€æ—¦ç»“æŸï¼Œä¸´æ—¶ cgroup å°±ä¼šè¢«è‡ªåŠ¨é‡Šæ”¾ã€‚æ¯”å¦‚æˆ‘ä»¬ kill æ‰ top è¿›ç¨‹ï¼Œç„¶åå†æŸ¥çœ‹ /sys/fs/cgroup/memory/test.slice å’Œ /sys/fs/cgroup/cpu/test.slice ç›®å½•ï¼Œåˆšæ‰çš„ toptest.service ç›®å½•å·²ç»ä¸è§äº†ã€‚\né€šè¿‡é…ç½®æ–‡ä»¶ä¿®æ”¹ cgroup\næ‰€æœ‰è¢« systemd ç›‘ç®¡çš„ persistent cgroup(æŒä¹…çš„ cgroup)éƒ½åœ¨ /usr/lib/systemd/system/ ç›®å½•ä¸­æœ‰ä¸€ä¸ª unit é…ç½®æ–‡ä»¶ã€‚æ¯”å¦‚æˆ‘ä»¬å¸¸è§çš„ service ç±»å‹ unit çš„é…ç½®æ–‡ä»¶ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡è®¾ç½® unit é…ç½®æ–‡ä»¶æ¥æ§åˆ¶åº”ç”¨ç¨‹åºçš„èµ„æºï¼Œpersistent cgroup çš„ç‰¹ç‚¹æ˜¯å³ä¾¿ç³»ç»Ÿé‡å¯ï¼Œç›¸å…³é…ç½®ä¹Ÿä¼šè¢«ä¿ç•™ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œscope unit ä¸èƒ½ä»¥æ­¤æ–¹å¼åˆ›å»ºã€‚ä¸‹é¢è®©æˆ‘ä»¬ä¸º cron.service æ·»åŠ  CPU å’Œå†…å­˜ç›¸å…³çš„ä¸€äº›é™åˆ¶ï¼Œç¼–è¾‘ /lib/systemd/system/cron.service æ–‡ä»¶ï¼š\n$ sudo vim /lib/systemd/system/cron.service [Service] CPUShares=600 MemoryLimit=500M EnviromentFile=-/etc/default/cron ExecStart=/usr/sbin/cron -f $EXTRA_OPTS IgnoreSIGPIPE=false KillMode=process ç„¶åé‡æ–°åŠ è½½é…ç½®æ–‡ä»¶å¹¶é‡å¯ cron.serviceï¼š\n$ sudo systemctl daemon-reload $ sudo systemctl restart cron.service ç°åœ¨å»æŸ¥çœ‹ /sys/fs/cgroup/memory/system.slice/cron.service/memory.limit_in_bytes å’Œ /sys/fs/cgroup/cpu/system.slice/cron.service/cpu.shares æ–‡ä»¶ï¼Œæ˜¯ä¸æ˜¯å·²ç»åŒ…å«æˆ‘ä»¬é…ç½®çš„å†…å®¹äº†ï¼\né€šè¿‡ systemctl å‘½ä»¤ä¿®æ”¹ cgroup\né™¤äº†ç¼–è¾‘ unit çš„é…ç½®æ–‡ä»¶ï¼Œè¿˜å¯ä»¥é€šè¿‡ systemctl set-property å‘½ä»¤æ¥ä¿®æ”¹ cgroupï¼Œè¿™ç§æ–¹å¼ä¿®è¯¥çš„é…ç½®ä¹Ÿä¼šåœ¨é‡å¯ç³»ç»Ÿæ—¶ä¿å­˜ä¸‹æ¥ã€‚ç°åœ¨æˆ‘ä»¬æŠŠ cron.service çš„ CPUShares æ”¹ä¸º 700ï¼š\n$ sudo systemctl set-property cron.service CPUShares=700 æŸ¥çœ‹ /sys/fs/cgroup/cpu/system.slice/cron.service/cpu.shares æ–‡ä»¶çš„å†…å®¹åº”è¯¥æ˜¯ 700ï¼Œé‡å¯ç³»ç»Ÿåè¯¥æ–‡ä»¶çš„å†…å®¹è¿˜æ˜¯ 700ã€‚\nSystemd-cgtop å‘½ä»¤\nç±»ä¼¼äº top å‘½ä»¤ï¼Œsystemd-cgtop å‘½ä»¤æ˜¾ç¤º cgoups çš„å®æ—¶èµ„æºæ¶ˆè€—æƒ…å†µã€‚\né€šè¿‡å®ƒæˆ‘ä»¬å°±å¯ä»¥åˆ†æåº”ç”¨ä½¿ç”¨èµ„æºçš„æƒ…å†µã€‚\nLXC LXCï¼ˆLinuxå®¹å™¨ï¼ŒLinux Containerï¼‰ç›¸å½“äºä½ è¿è¡Œäº†ä¸€ä¸ªæ¥è¿‘äºè£¸æœºçš„è™šæ‹Ÿæœºã€‚è¿™é¡¹æŠ€æœ¯å§‹äº2008å¹´ï¼ŒLXCçš„å¤§éƒ¨åˆ†åŠŸèƒ½æ¥è‡ªäºSolariså®¹å™¨ï¼ˆåˆå«åšSolaries Zonesï¼‰ä»¥åŠä¹‹å‰çš„FreeBSD jailsæŠ€æœ¯ã€‚ LXCå¹¶ä¸æ˜¯åˆ›å»ºä¸€ä¸ªæˆç†Ÿçš„è™šæ‹Ÿæœºï¼Œè€Œæ˜¯åˆ›å»ºäº†ä¸€ä¸ªæ‹¥æœ‰è‡ªå·±è¿›ç¨‹ç¨‹å’Œç½‘ç»œç©ºé—´çš„è™šæ‹Ÿç¯å¢ƒï¼Œä½¿ç”¨å‘½åç©ºé—´æ¥å¼ºåˆ¶è¿›ç¨‹éš”ç¦»å¹¶åˆ©ç”¨å†…æ ¸çš„æ§åˆ¶ç»„ï¼ˆcgroupsï¼‰åŠŸèƒ½ï¼Œè¯¥åŠŸèƒ½å¯ä»¥é™åˆ¶ï¼Œè®¡ç®—å’Œéš”ç¦»ä¸€ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹çš„CPUï¼Œå†…å­˜ï¼Œç£ç›˜I / Oå’Œç½‘ç»œä½¿ç”¨æƒ…å†µã€‚ æ‚¨å¯ä»¥å°†è¿™ç§ç”¨æˆ·ç©ºé—´æ¡†æ¶æƒ³åƒæˆæ˜¯chrootçš„é«˜çº§å½¢å¼ã€‚\n chroot æ˜¯ä¸€ä¸ªæ”¹å˜å½“å‰è¿è¡Œè¿›ç¨‹ä»¥åŠå…¶å­è¿›ç¨‹çš„æ ¹ç›®å½•çš„æ“ä½œã€‚ä¸€ä¸ªè¿è¡Œåœ¨è¿™ç§ç¯å¢ƒçš„ç¨‹åºæ— æ³•è®¿é—®æ ¹ç›®å½•å¤–çš„æ–‡ä»¶å’Œå‘½ä»¤ã€‚\n æ³¨æ„ï¼šLXCä½¿ç”¨å‘½åç©ºé—´æ¥å¼ºåˆ¶è¿›ç¨‹éš”ç¦»ï¼ŒåŒæ—¶åˆ©ç”¨å†…æ ¸çš„æ§åˆ¶ç»„æ¥è®¡ç®—ä»¥åŠé™åˆ¶ä¸€ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹çš„CPUï¼Œå†…å­˜ï¼Œç£ç›˜I / Oå’Œç½‘ç»œä½¿ç”¨ã€‚\nä½†å®¹å™¨ç©¶ç«Ÿæ˜¯ä»€ä¹ˆï¼Ÿç®€çŸ­çš„ç­”æ¡ˆæ˜¯å®¹å™¨å°†è½¯ä»¶åº”ç”¨ç¨‹åºä¸æ“ä½œç³»ç»Ÿåˆ†ç¦»ï¼Œä¸ºç”¨æˆ·æä¾›å¹²å‡€ä¸”æœ€å°çš„Linuxç¯å¢ƒï¼Œä¸æ­¤åŒæ—¶åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªéš”ç¦»çš„â€œå®¹å™¨â€ä¸­è¿è¡Œå…¶ä»–æ‰€æœ‰å†…å®¹ã€‚å®¹å™¨çš„ç›®çš„æ˜¯å¯åŠ¨ä¸€ç»„æœ‰é™æ•°é‡çš„åº”ç”¨ç¨‹åºæˆ–æœåŠ¡ï¼ˆé€šå¸¸ç§°ä¸ºå¾®æœåŠ¡ï¼‰ï¼Œå¹¶ä½¿å®ƒä»¬åœ¨ç‹¬ç«‹çš„æ²™ç›’ç¯å¢ƒä¸­è¿è¡Œã€‚\nè¿™ç§éš”ç¦»å¯é˜²æ­¢åœ¨ç»™å®šå®¹å™¨å†…è¿è¡Œçš„è¿›ç¨‹ç›‘è§†æˆ–å½±å“åœ¨å¦ä¸€ä¸ªå®¹å™¨ä¸­è¿è¡Œçš„è¿›ç¨‹ã€‚æ­¤å¤–ï¼Œè¿™äº›é›†è£…ç®±åŒ–æœåŠ¡ä¸ä¼šå½±å“æˆ–å¹²æ‰°ä¸»æœºã€‚èƒ½å¤Ÿå°†åˆ†æ•£åœ¨å¤šä¸ªç‰©ç†æœåŠ¡å™¨ä¸Šçš„è®¸å¤šæœåŠ¡åˆå¹¶ä¸ºä¸€ä¸ªçš„æƒ³æ³•æ˜¯æ•°æ®ä¸­å¿ƒé€‰æ‹©é‡‡ç”¨è¯¥æŠ€æœ¯çš„ä¼—å¤šåŸå› ä¹‹ä¸€ã€‚\nå®¹å™¨æœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š\n å®‰å…¨æ€§ï¼šå®¹å™¨é‡Œå¯ä»¥è¿è¡Œç½‘ç»œæœåŠ¡ï¼Œè¿™å¯ä»¥é™åˆ¶å®‰å…¨æ¼æ´æˆ–è¿è§„è¡Œä¸ºé€ æˆçš„æŸå®³ã€‚é‚£äº›æˆåŠŸåˆ©ç”¨é‚£ä¸ªå®¹å™¨çš„ä¸€ä¸ªæˆ–å¤šä¸ªåº”ç”¨çš„å®‰å…¨æ¼æ´çš„å…¥ä¾µè€…å°†ä¼šè¢«é™åˆ¶åœ¨åªèƒ½åœ¨é‚£ä¸ªå®¹å™¨ä¸­åšä¸€äº›æ“ä½œã€‚ éš”ç¦»æ€§ï¼šå®¹å™¨å…è®¸åœ¨åŒä¸€ç‰©ç†æœºå™¨ä¸Šéƒ¨ç½²ä¸€ä¸ªæˆ–å¤šä¸ªåº”ç”¨ç¨‹åºï¼Œå³ä½¿è¿™äº›åº”ç”¨ç¨‹åºå¿…é¡»åœ¨ä¸åŒçš„åŸŸä¸‹è¿è¡Œï¼Œæ¯ä¸ªåŸŸéƒ½éœ€è¦ç‹¬å è®¿é—®å…¶å„è‡ªçš„èµ„æºã€‚ä¾‹å¦‚ï¼Œé€šè¿‡å°†æ¯ä¸ªå®¹å™¨å…³è”çš„ä¸åŒIPåœ°å€ï¼Œåœ¨ä¸åŒå®¹å™¨ä¸­è¿è¡Œçš„å¤šä¸ªåº”ç”¨ç¨‹åºå¯ä»¥ç»‘å®šåˆ°åŒä¸€ç‰©ç†ç½‘ç»œæ¥å£ã€‚ è™šæ‹ŸåŒ–å’Œé€æ˜æ€§ï¼šå®¹å™¨ä¸ºç³»ç»Ÿæä¾›è™šæ‹ŸåŒ–ç¯å¢ƒï¼Œè¿™ä¸ªç¯å¢ƒå¯ä»¥éšè—æˆ–é™åˆ¶ç³»ç»Ÿåº•å±‚çš„ç‰©ç†è®¾å¤‡æˆ–ç³»ç»Ÿé…ç½®çš„å¯è§æ€§ã€‚å®¹å™¨èƒŒåçš„ä¸€èˆ¬åŸåˆ™æ˜¯é¿å…æ›´æ”¹è¿è¡Œåº”ç”¨ç¨‹åºçš„ç¯å¢ƒï¼Œä½†è§£å†³å®‰å…¨æ€§æˆ–éš”ç¦»é—®é¢˜é™¤å¤–ã€‚  ä½¿ç”¨LXCçš„å·¥å…· å¯¹äºå¤§å¤šæ•°ç°ä»£Linuxå‘è¡Œç‰ˆï¼Œå†…æ ¸éƒ½å¯ç”¨äº†æ§åˆ¶ç»„ï¼Œä½†æ‚¨å¾ˆå¯èƒ½ä»éœ€è¦å®‰è£…LXCå·¥å…·ã€‚\nå¯¹äºUbuntuæˆ–Debianï¼Œåªéœ€é”®å…¥ï¼š\n$ sudo apt-get install lxc ç°åœ¨ï¼Œåœ¨å¼€å§‹ä½¿ç”¨è¿™äº›å·¥å…·ä¹‹å‰ï¼Œæ‚¨éœ€è¦é…ç½®æ‚¨çš„ç¯å¢ƒã€‚åœ¨æ­¤ä¹‹å‰ï¼Œæ‚¨éœ€è¦éªŒè¯å½“å‰ç”¨æˆ·æ˜¯å¦åŒæ—¶åœ¨/etc/subuidå’Œ/etc/subgidä¸­å®šä¹‰äº†uidå’Œgidï¼š\n$ cat /etc/subuid petros:100000:65536 $ cat /etc/subgid petros:100000:65536 å¦‚æœ~/.config/lxcä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºè¯¥ç›®å½•ï¼Œå¹¶ä¸”æŠŠé…ç½®æ–‡ä»¶/etc/lxc/default.confå¤åˆ¶åˆ°~/.config/lxc/default.conf.ï¼Œå°†ä»¥ä¸‹ä¸¤è¡Œæ·»åŠ åˆ°æ–‡ä»¶æœ«å°¾ï¼š\nlxc.id_map = u 0 100000 65536 lxc.id_map = g 0 100000 65536 ç»“æœå¦‚ä¸‹ï¼š\n$ cat ~/.config/lxc/default.conf lxc.network.type = veth lxc.network.link = lxcbr0 lxc.network.flags = up lxc.network.hwaddr = 00:16:3e:xx:xx:xx lxc.id_map = u 0 100000 65536 lxc.id_map = g 0 100000 65536 å°†ä»¥ä¸‹å‘½ä»¤æ·»åŠ åˆ°/etc/lxc/lxc-usernetæ–‡ä»¶æœ«å°¾ï¼ˆæŠŠç¬¬ä¸€åˆ—æ¢æˆä½ çš„usernameï¼‰ï¼š\npetros veth lxcbr0 10 æœ€å¿«ä½¿è¿™äº›é…ç½®ç”Ÿæ•ˆçš„æ–¹æ³•æ˜¯é‡å¯æˆ–è€…å°†ç”¨æˆ·ç™»å‡ºå†ç™»å…¥ã€‚\né‡æ–°ç™»å½•åï¼Œè¯·éªŒè¯å½“å‰æ˜¯å¦å·²åŠ è½½vethç½‘ç»œé©±åŠ¨ç¨‹åºï¼š\n$ lsmod | grep veth veth 16384 0 å¦‚æœæ²¡æœ‰ï¼Œè¯·è¾“å…¥ï¼š\n$ sudo modprobe veth ç°åœ¨æ‚¨å¯ä»¥ä½¿ç”¨LXCå·¥å…·é›†æ¥ä¸‹è½½ï¼Œè¿è¡Œï¼Œç®¡ç†Linuxå®¹å™¨ã€‚\næ¥ä¸‹æ¥ï¼Œä¸‹è½½å®¹å™¨é•œåƒå¹¶å°†å…¶å‘½åä¸ºâ€œexample-containerâ€ã€‚å½“æ‚¨é”®å…¥ä»¥ä¸‹å‘½ä»¤æ—¶ï¼Œæ‚¨å°†çœ‹åˆ°ä¸€é•¿ä¸²è®¸å¤šLinuxå‘è¡Œç‰ˆå’Œç‰ˆæœ¬æ”¯æŒçš„å®¹å™¨ï¼š\n$ sudo lxc-create -t download -n example-container å°†ä¼šæœ‰ä¸‰ä¸ªå¼¹å‡ºæ¡†è®©æ‚¨åˆ†åˆ«é€‰æ‹©å‘è¡Œç‰ˆåç§°ï¼ˆdistributionï¼‰ï¼Œç‰ˆæœ¬å·ï¼ˆreleaseï¼‰ä»¥åŠæ¶æ„ï¼ˆarchitectureï¼‰ã€‚è¯·é€‰æ‹©ä»¥ä¸‹ä¸‰ä¸ªé€‰é¡¹ï¼š\nDistribution: ubuntu Release: xenial Architecture: amd64 é€‰æ‹©åç‚¹å‡»Enterï¼Œrootfså°†åœ¨æœ¬åœ°ä¸‹è½½å¹¶é…ç½®ã€‚å‡ºäºå®‰å…¨åŸå› ï¼Œæ¯ä¸ªå®¹å™¨ä¸é™„å¸¦OpenSSHæœåŠ¡å™¨æˆ–ç”¨æˆ·å¸æˆ·ã€‚åŒæ—¶ä¹Ÿä¸ä¼šæä¾›é»˜è®¤çš„rootå¯†ç ã€‚è¦æ›´æ”¹rootå¯†ç å¹¶ç™»å½•ï¼Œå¿…é¡»åœ¨å®¹å™¨ç›®å½•è·¯å¾„ä¸­è¿è¡Œlxc-attachæˆ–chrootï¼ˆåœ¨å¯åŠ¨ä¹‹åï¼‰ã€‚\nå¯åŠ¨å®¹å™¨ï¼š\n$ sudo lxc-start -n example-container -d -dé€‰é¡¹è¡¨ç¤ºéšè—å®¹å™¨ï¼Œå®ƒä¼šåœ¨åå°è¿è¡Œã€‚å¦‚æœæ‚¨æƒ³è¦è§‚å¯Ÿbootçš„è¿‡ç¨‹ï¼Œåªéœ€è¦å°†-dæ¢æˆ-Fã€‚é‚£ä¹ˆå®ƒå°†åœ¨å‰å°è¿è¡Œï¼Œç™»å½•æ¡†å‡ºç°æ—¶ç»“æŸã€‚\nä½ å¯èƒ½ä¼šé‡åˆ°å¦‚ä¸‹é”™è¯¯ï¼š\n$ sudo lxc-start -n example-container -d lxc-start: tools/lxc_start.c: main: 366 The container failed to start. lxc-start: tools/lxc_start.c: main: 368 To get more details, run the container in foreground mode. lxc-start: tools/lxc_start.c: main: 370 Additional information can be obtained by setting the --logfile and --logpriority options. å¦‚æœä½ é‡åˆ°äº†ï¼Œæ‚¨éœ€è¦é€šè¿‡åœ¨å‰å°è¿è¡Œlxc-startæœåŠ¡æ¥è°ƒè¯•å®ƒï¼š\n$ sudo lxc-start -n example-container -F lxc-start: conf.c: instantiate_veth: 2685 failed to create veth pair (vethQ4NS0B and vethJMHON2): Operation not supported lxc-start: conf.c: lxc_create_network: 3029 failed to create netdev lxc-start: start.c: lxc_spawn: 1103 Failed to create the network. lxc-start: start.c: __lxc_start: 1358 Failed to spawn container \u0026#34;example-container\u0026#34;. lxc-start: tools/lxc_start.c: main: 366 The container failed to start. lxc-start: tools/lxc_start.c: main: 370 Additional information can be obtained by setting the --logfile and --logpriority options. ä»ä»¥ä¸Šç¤ºä¾‹ï¼Œä½ å¯ä»¥çœ‹åˆ°æ¨¡å—vethæ²¡æœ‰è¢«å¼•å…¥ï¼Œåœ¨å¼•å…¥ä¹‹åï¼Œå°†ä¼šè§£å†³è¿™ä¸ªé—®é¢˜ã€‚\nä¹‹åï¼Œæ‰“å¼€ç¬¬äºŒä¸ªterminalçª—å£ï¼ŒéªŒè¯å®¹å™¨çš„çŠ¶æ€ã€‚\n$ sudo lxc-info -n example-container Name: example-container State: RUNNING PID: 1356 IP: 10.0.3.28 CPU use: 0.29 seconds BlkIO use: 16.80 MiB Memory use: 29.02 MiB KMem use: 0 bytes Link: vethPRK7YU TX bytes: 1.34 KiB RX bytes: 2.09 KiB Total bytes: 3.43 KiB ä¹Ÿå¯ä»¥é€šè¿‡å¦ä¸€ç§æ–¹å¼æ¥æŸ¥çœ‹æ‰€æœ‰å®‰è£…çš„å®¹å™¨ï¼Œè¿è¡Œå‘½ä»¤ï¼š\n$ sudo lxc-ls -f NAME STATE AUTOSTART GROUPS IPV4 IPV6 example-container RUNNING 0 - 10.0.3.28 - ä½†æ˜¯é—®é¢˜æ˜¯ä½ ä»ç„¶ä¸èƒ½ç™»å½•è¿›å»ï¼Œä½ åªéœ€è¦ç›´æ¥attachåˆ°æ­£åœ¨è¿è¡Œçš„å®¹å™¨ï¼Œåˆ›å»ºä½ çš„ç”¨æˆ·ï¼Œä½¿ç”¨passwdå‘½ä»¤æ”¹å˜ç›¸å…³çš„å¯†ç ã€‚\n$ sudo lxc-attach -n example-container root@example-container:/# root@example-container:/# useradd petros root@example-container:/# passwd petros Enter new UNIX password: Retype new UNIX password: passwd: password updated successfully æ›´æ”¹å¯†ç åï¼Œæ‚¨å°†èƒ½å¤Ÿä»æ§åˆ¶å°ç›´æ¥ç™»å½•åˆ°å®¹å™¨ï¼Œè€Œæ— éœ€ä½¿ç”¨lxc-attachå‘½ä»¤ï¼š\n$ sudo lxc-console -n example-container å¦‚æœè¦é€šè¿‡ç½‘ç»œè¿æ¥åˆ°æ­¤è¿è¡Œå®¹å™¨ï¼Œè¯·å®‰è£…OpenSSHæœåŠ¡å™¨ï¼š\n# apt-get install openssh-server æŠ“å–å®¹å™¨çš„æœ¬åœ°IPåœ°å€ï¼š\n# ip addr show eth0|grep inet inet 10.0.3.25/24 brd 10.0.3.255 scope global eth0 inet6 fe80::216:3eff:fed8:53b4/64 scope link ç„¶ååœ¨ä¸»æœºçš„æ–°çš„æ§åˆ¶å°çª—å£ä¸­é”®å…¥ï¼š\n$ ssh 10.0.3.25 ç§ï¼æ‚¨ç°åœ¨å¯ä»¥SSHåˆ°æ­£åœ¨è¿è¡Œçš„å®¹å™¨å¹¶é”®å…¥æ‚¨çš„ç”¨æˆ·åå’Œå¯†ç ã€‚\nåœ¨ä¸»æœºç³»ç»Ÿä¸Šï¼Œè€Œä¸æ˜¯åœ¨å®¹å™¨å†…ï¼Œå¯ä»¥è§‚å¯Ÿåœ¨å¯åŠ¨å®¹å™¨åå¯åŠ¨å’Œè¿è¡Œçš„LXCè¿›ç¨‹ï¼š\n$ ps aux | grep lxc | grep -v grep ... è¦åœæ­¢å®¹å™¨ï¼Œè¯·é”®å…¥ï¼ˆåœ¨ä¸»æœºï¼‰ï¼š\n$ sudo lxc-stop -n example-container åœæ­¢åï¼ŒéªŒè¯å®¹å™¨çš„çŠ¶æ€ï¼š\n$ sudo lxc-ls -f NAME STATE AUTOSTART GROUPS IPV4 IPV6 example-container STOPPED 0 - - - $ sudo lxc-info -n example-container Name: example-container State: STOPPED è¦å½»åº•é”€æ¯å®¹å™¨ - å³ä»ä¸»æœºsystemâ€”typeæ¸…é™¤å®ƒï¼š\n$ sudo lxc-destroy -n example-container Destroyed container example-container é”€æ¯åï¼Œå¯ä»¥éªŒè¯æ˜¯å¦å·²å°†å…¶åˆ é™¤ï¼š\n$ sudo lxc-info -n example-container example-container doesn\u0026#39;t exist $ sudo lxc-ls -f æ³¨æ„ï¼šå¦‚æœæ‚¨å°è¯•é”€æ¯æ­£åœ¨è¿è¡Œçš„å®¹å™¨ï¼Œè¯¥å‘½ä»¤å°†å¤±è´¥å¹¶å‘ŠçŸ¥æ‚¨å®¹å™¨ä»åœ¨è¿è¡Œï¼š\n$ sudo lxc-destroy -n example-container example-container is running åœ¨é”€æ¯å®¹å™¨å‰å¿…é¡»å…ˆåœæ­¢å®ƒã€‚\né«˜çº§é…ç½® æœ‰æ—¶ï¼Œå¯èƒ½éœ€è¦é…ç½®ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨æ¥å®Œæˆä¸€ä¸ªæˆ–å¤šä¸ªä»»åŠ¡ã€‚ LXCé€šè¿‡è®©ç®¡ç†å‘˜ä¿®æ”¹ä½äº/var/lib/lxcä¸­çš„å®¹å™¨é…ç½®æ–‡ä»¶æ¥ç®€åŒ–è¿™ä¸€è¿‡ç¨‹ï¼š\n$ sudo su # cd /var/lib/lxc # ls example-container å®¹å™¨çš„çˆ¶ç›®å½•å°†åŒ…å«è‡³å°‘ä¸¤ä¸ªæ–‡ä»¶ï¼š1ï¼‰å®¹å™¨é…ç½®æ–‡ä»¶å’Œ 2ï¼‰å®¹å™¨çš„æ•´ä¸ªrootfsï¼š\n# cd example-container/ # ls config rootfs å‡è®¾æ‚¨æƒ³è¦åœ¨ä¸»æœºç³»ç»Ÿå¯åŠ¨æ—¶è‡ªåŠ¨å¯åŠ¨åç§°ä¸ºexample-containerçš„å®¹å™¨ã€‚é‚£ä¹ˆæ‚¨éœ€è¦å°†ä»¥ä¸‹è¡Œæ·»åŠ åˆ°å®¹å™¨çš„é…ç½®æ–‡ä»¶/var/lib/lxc/example-container/configçš„å°¾éƒ¨ï¼š\n# Enable autostart lxc.start.auto = 1 é‡æ–°å¯åŠ¨å®¹å™¨æˆ–é‡æ–°å¯åŠ¨ä¸»æœºç³»ç»Ÿåï¼Œæ‚¨åº”è¯¥çœ‹åˆ°å¦‚ä¸‹å†…å®¹ï¼š\n$ sudo lxc-ls -f NAME STATE AUTOSTART GROUPS IPV4 IPV6 example-container RUNNING 1 - 10.0.3.25 - æ³¨æ„ AUTOSTART å­—æ®µç°åœ¨è¢«è®¾ç½®ä¸ºâ€œ1â€ã€‚\nå¦‚æœåœ¨å®¹å™¨å¯åŠ¨æ—¶ï¼Œæ‚¨å¸Œæœ›å®¹å™¨ç»‘å®šè£…è½½ä¸»æœºä¸Šçš„ç›®å½•è·¯å¾„ï¼Œè¯·å°†ä»¥ä¸‹è¡Œæ·»åŠ åˆ°åŒä¸€æ–‡ä»¶çš„å°¾éƒ¨ï¼š\n# å°†æŒ‚è½½ç³»ç»Ÿè·¯å¾„ç»‘å®šåˆ°æœ¬åœ°è·¯å¾„ lxc.mount.entry = /mnt mnt none bind 0 0 é€šè¿‡ä¸Šé¢çš„ç¤ºä¾‹ï¼Œå½“å®¹å™¨é‡æ–°å¯åŠ¨æ—¶ï¼Œæ‚¨å°†çœ‹åˆ°å®¹å™¨æœ¬åœ°çš„ / mntç›®å½•å¯è®¿é—®çš„ä¸»æœº/ mntç›®å½•çš„å†…å®¹ã€‚\nç‰¹æƒä¸éç‰¹æƒå®¹å™¨ æ‚¨ç»å¸¸ä¼šå‘ç°åœ¨ä¸LXCç›¸å…³çš„å†…å®¹ä¸­è®¨è®ºç‰¹æƒå®¹å™¨å’Œéç‰¹æƒå®¹å™¨çš„æ¦‚å¿µã€‚ä½†å®ƒä»¬ç©¶ç«Ÿæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿè¿™ä¸ªæ¦‚å¿µéå¸¸ç®€å•ï¼Œå¹¶ä¸”LXCå®¹å™¨å¯ä»¥åœ¨ä»»ä¸€é…ç½®ä¸‹è¿è¡Œã€‚\næ ¹æ®è®¾è®¡ï¼Œæ— ç‰¹æƒå®¹å™¨è¢«è®¤ä¸ºæ¯”ç‰¹æƒå®¹å™¨æ›´å®‰å…¨ï¼Œæ›´ä¿å¯†ã€‚æ— ç‰¹æƒå®¹å™¨è¿è¡Œæ—¶ï¼Œå®¹å™¨çš„root UIDæ˜ å°„åˆ°ä¸»æœºç³»ç»Ÿä¸Šçš„éroot UIDã€‚è¿™ä½¿å¾—æ”»å‡»è€…å³ä½¿ç ´è§£äº†å®¹å™¨ï¼Œä¹Ÿéš¾ä»¥è·å¾—å¯¹åº•å±‚ä¸»æœºçš„rootæƒé™ã€‚ç®€è€Œè¨€ä¹‹ï¼Œå¦‚æœæ”»å‡»è€…è®¾æ³•é€šè¿‡å·²çŸ¥çš„è½¯ä»¶æ¼æ´ç ´åäº†æ‚¨çš„å®¹å™¨ï¼Œä»–ä»¬ä¼šç«‹å³å‘ç°è‡ªå·±æ— æ³•è·å–ä»»ä½•ä¸»æœºæƒé™ã€‚\nç‰¹æƒå®¹å™¨å¯èƒ½ä½¿ç³»ç»Ÿæš´éœ²äºæ­¤ç±»æ”»å‡»ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬æœ€å¥½åœ¨ç‰¹æƒæ¨¡å¼ä¸‹è¿è¡Œå°½é‡å°‘çš„å®¹å™¨ã€‚ç¡®å®šéœ€è¦ç‰¹æƒè®¿é—®çš„å®¹å™¨ï¼Œå¹¶ç¡®ä¿ä»˜å‡ºé¢å¤–çš„åŠªåŠ›æ¥å®šæœŸæ›´æ–°å¹¶ä»¥å…¶ä»–æ–¹å¼é”å®šå®ƒä»¬ã€‚\nç„¶è€Œï¼ŒDockeråˆæ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ æˆ‘èŠ±äº†ç›¸å½“å¤šçš„æ—¶é—´è°ˆè®ºLinuxå®¹å™¨ï¼Œä½†æ˜¯Dockerå‘¢ï¼Ÿå®ƒæ˜¯ç”Ÿäº§ä¸­éƒ¨ç½²æœ€å¤šçš„å®¹å™¨è§£å†³æ–¹æ¡ˆã€‚è‡ªé¦–æ¬¡æ¨å‡ºä»¥æ¥ï¼ŒDockerå·²ç»é£é¡Linuxè®¡ç®—ä¸–ç•Œã€‚ Dockeræ˜¯ä¸€ç§Apacheè®¸å¯çš„å¼€æºå®¹å™¨åŒ–æŠ€æœ¯ï¼Œæ—¨åœ¨è‡ªåŠ¨åŒ–åœ¨å®¹å™¨å†…åˆ›å»ºå’Œéƒ¨ç½²å¾®æœåŠ¡è¿™ç±»é‡å¤æ€§ä»»åŠ¡ã€‚ Dockerå°†å®¹å™¨è§†ä¸ºéå¸¸è½»é‡çº§å’Œæ¨¡å—åŒ–çš„è™šæ‹Ÿæœºã€‚æœ€åˆï¼ŒDockeræ˜¯åœ¨LXCä¹‹ä¸Šæ„å»ºçš„ï¼Œä½†å®ƒå·²ç»è¿œç¦»äº†è¿™ç§ä¾èµ–ï¼Œä»è€Œå¸¦æ¥äº†æ›´å¥½çš„å¼€å‘äººå‘˜å’Œç”¨æˆ·ä½“éªŒã€‚ä¸LXCéå¸¸ç›¸ä¼¼ï¼ŒDockerç»§ç»­ä½¿ç”¨å†…æ ¸cgroupå­ç³»ç»Ÿã€‚è¯¥æŠ€æœ¯ä¸ä»…ä»…æ˜¯è¿è¡Œå®¹å™¨ï¼Œè¿˜ç®€åŒ–äº†åˆ›å»ºå®¹å™¨ï¼Œæ„å»ºæ˜ åƒï¼Œå…±äº«æ„å»ºçš„æ˜ åƒä»¥åŠå¯¹å…¶è¿›è¡Œç‰ˆæœ¬æ§åˆ¶çš„è¿‡ç¨‹ã€‚\nDockerä¸»è¦å…³æ³¨äºï¼š\n å¯ç§»æ¤æ€§ï¼šDockeræä¾›åŸºäºé•œåƒçš„éƒ¨ç½²æ¨¡å‹ã€‚è¿™ç§ç±»å‹çš„å¯ç§»æ¤æ€§å…è®¸æ›´ç®€å•çš„æ–¹å¼åœ¨å¤šä¸ªç¯å¢ƒä¸­å…±äº«åº”ç”¨ç¨‹åºæˆ–æœåŠ¡é›†åˆï¼ˆä»¥åŠå®ƒä»¬çš„æ‰€æœ‰ä¾èµ–ï¼‰ã€‚ ç‰ˆæœ¬æ§åˆ¶ï¼šå•ä¸ªDockeré•œåƒç”±ä¸€ç³»åˆ—ç»„åˆå±‚ç»„æˆã€‚æ¯å½“é•œåƒè¢«æ›´æ”¹æ—¶ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°å±‚ã€‚ä¾‹å¦‚ï¼Œæ¯æ¬¡ç”¨æˆ·æŒ‡å®šå‘½ä»¤ï¼ˆä¾‹å¦‚è¿è¡Œæˆ–å¤åˆ¶ï¼‰æ—¶ï¼Œéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ–°å±‚ã€‚ Dockerå°†é‡ç”¨è¿™äº›å±‚ç”¨äºæ–°çš„å®¹å™¨æ„å»ºã€‚åˆ†å±‚åˆ°Dockeræ˜¯å®ƒè‡ªå·±çš„ç‰ˆæœ¬æ§åˆ¶æ–¹æ³•ã€‚ å›æ»šï¼šå†æ¬¡ï¼Œæ¯ä¸ªDockeré•œåƒéƒ½æœ‰å¾ˆå¤šå±‚ã€‚å¦‚æœæ‚¨ä¸æƒ³ä½¿ç”¨å½“å‰è¿è¡Œçš„å±‚ï¼Œåˆ™å¯ä»¥å›æ»šåˆ°ä»¥å‰çš„ç‰ˆæœ¬ã€‚è¿™ç§æ•æ·æ€§ä½¿è½¯ä»¶å¼€å‘äººå‘˜å¯ä»¥æ›´è½»æ¾åœ°æŒç»­é›†æˆå’Œéƒ¨ç½²ä»–ä»¬çš„è½¯ä»¶æŠ€æœ¯ã€‚ å¿«é€Ÿéƒ¨ç½²ï¼šé…ç½®æ–°ç¡¬ä»¶é€šå¸¸éœ€è¦æ•°å¤©æ—¶é—´ã€‚å¹¶ä¸”ï¼Œå®‰è£…å’Œé…ç½®å®ƒçš„å·¥ä½œé‡å’Œå¼€é”€æ˜¯éå¸¸ç¹é‡çš„ã€‚ä½¿ç”¨Dockerï¼Œæ‚¨å¯ä»¥åœ¨å‡ ç§’é’Ÿå°†é•œåƒå¯åŠ¨å¹¶è¿è¡Œï¼Œç›¸æ¯”äºä¹‹å‰ï¼ŒèŠ‚çœäº†å¤§é‡çš„æ—¶é—´ã€‚å½“ä½ ä½¿ç”¨å®Œä¸€ä¸ªå®¹å™¨æ—¶ï¼Œä½ å¯ä»¥è½»æ¾åœ°é”€æ¯å®ƒã€‚  ä»æœ¬è´¨ä¸Šè¯´ï¼ŒDockerå’ŒLXCéƒ½éå¸¸ç›¸ä¼¼ã€‚å®ƒä»¬éƒ½æ˜¯ç”¨æˆ·ç©ºé—´å’Œè½»é‡çº§è™šæ‹ŸåŒ–å¹³å°ï¼Œå®ƒä»¬åˆ©ç”¨cgroupå’Œå‘½åç©ºé—´æ¥ç®¡ç†èµ„æºéš”ç¦»ã€‚ä½†æ˜¯ï¼Œä¸¤è€…ä¹‹é—´ä¹Ÿå­˜åœ¨è®¸å¤šæ˜æ˜¾çš„å·®å¼‚ã€‚\nè¿›ç¨‹ç®¡ç† Dockerå°†å®¹å™¨é™åˆ¶ä¸ºå•ä¸ªè¿›ç¨‹è¿è¡Œã€‚å¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºåŒ…å«Xä¸ªå¹¶å‘è¿›ç¨‹ï¼ŒDockerå°†è¦æ±‚æ‚¨è¿è¡ŒXä¸ªå®¹å™¨ï¼Œæ¯ä¸ªå®¹å™¨éƒ½æœ‰è‡ªå·±å•ç‹¬çš„è¿›ç¨‹ã€‚ LXCä¸æ˜¯è¿™æ ·ï¼ŒLXCè¿è¡Œå…·æœ‰ä¼ ç»Ÿinitè¿›ç¨‹çš„å®¹å™¨ï¼Œåè¿‡æ¥ï¼Œå¯ä»¥åœ¨åŒä¸€å®¹å™¨å†…æ‰˜ç®¡å¤šä¸ªè¿›ç¨‹ã€‚ä¾‹å¦‚ï¼Œå¦‚æœè¦æ‰˜ç®¡LAMPï¼ˆLinux + Apache + MySQL + PHPï¼‰æœåŠ¡å™¨ï¼Œæ¯ä¸ªåº”ç”¨ç¨‹åºçš„æ¯ä¸ªè¿›ç¨‹éƒ½éœ€è¦è·¨è¶Šå¤šä¸ªDockerå®¹å™¨ã€‚\nçŠ¶æ€ç®¡ç† Dockerè¢«è®¾è®¡ä¸ºæ— çŠ¶æ€ï¼Œæ„å‘³ç€å®ƒä¸æ”¯æŒæŒä¹…å­˜å‚¨ã€‚æœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†åŒæ ·ï¼Œåªæœ‰åœ¨è¿›ç¨‹éœ€è¦æ—¶æ‰éœ€è¦å®ƒã€‚åˆ›å»ºDockeré•œåƒæ—¶ï¼Œå®ƒå°†åŒ…å«åªè¯»å±‚ã€‚è¿™ä¸ä¼šæ”¹å˜ã€‚åœ¨è¿è¡Œæ—¶ï¼Œå¦‚æœå®¹å™¨çš„è¿›ç¨‹å¯¹å…¶å†…éƒ¨çŠ¶æ€è¿›è¡Œä»»ä½•æ›´æ”¹ï¼Œåˆ™å°†ä¿æŒå†…éƒ¨çŠ¶æ€å’Œé•œåƒçš„å½“å‰çŠ¶æ€ä¹‹é—´çš„å·®å¼‚ï¼Œç›´åˆ°å¯¹Dockeré•œåƒè¿›è¡Œæäº¤ï¼ˆåˆ›å»ºæ–°å±‚ï¼‰æˆ–ç›´åˆ°å®¹å™¨è¢«åˆ é™¤ï¼Œå·®å¼‚ä¹Ÿä¼šæ¶ˆå¤±ã€‚\nå¯ç§»æ¤æ€§ åœ¨è®¨è®ºDockeræ—¶ï¼Œè¿™ä¸ªè¯å¾€å¾€è¢«è¿‡åº¦ä½¿ç”¨â€”â€”å› ä¸ºå®ƒæ˜¯Dockerç›¸å¯¹äºLXCçš„æœ€é‡è¦çš„ä¼˜åŠ¿ã€‚ Dockerä»åº”ç”¨ç¨‹åºä¸­æŠ½è±¡å‡ºç½‘ç»œï¼Œå­˜å‚¨å’Œæ“ä½œç³»ç»Ÿç»†èŠ‚æ–¹é¢åšå¾—æ›´å¥½ã€‚è¿™æ ·å°±å½¢æˆäº†ä¸€ä¸ªçœŸæ­£ç‹¬ç«‹äºé…ç½®çš„åº”ç”¨ç¨‹åºï¼Œä¿è¯åº”ç”¨ç¨‹åºçš„ç¯å¢ƒå§‹ç»ˆä¿æŒä¸å˜ï¼Œæ— è®ºå¯ç”¨å®ƒçš„æœºå™¨é…ç½®ç¯å¢ƒå¦‚ä½•ã€‚\nDockeræ—¨åœ¨ä½¿å¼€å‘äººå‘˜å’Œç³»ç»Ÿç®¡ç†å‘˜éƒ½å—ç›Šã€‚å®ƒå·²æˆä¸ºè®¸å¤šDevOpsï¼ˆå¼€å‘äººå‘˜+ç»´æŠ¤äººå‘˜ï¼‰å·¥å…·é“¾ä¸­ä¸å¯æˆ–ç¼ºçš„ä¸€éƒ¨åˆ†ã€‚å¼€å‘äººå‘˜å¯ä»¥ä¸“æ³¨äºç¼–å†™ä»£ç ï¼Œè€Œæ— éœ€æ‹…å¿ƒæœ€ç»ˆæ‰˜ç®¡å®ƒçš„ç³»ç»Ÿæ˜¯ä»€ä¹ˆã€‚ä½¿ç”¨Dockerï¼Œæ— éœ€å®‰è£…å’Œé…ç½®å¤æ‚æ•°æ®åº“ï¼Œä¹Ÿæ— éœ€æ‹…å¿ƒåœ¨ä¸å…¼å®¹çš„è¯­è¨€å·¥å…·é“¾ç‰ˆæœ¬ä¹‹é—´åˆ‡æ¢ã€‚ Dockerä¸ºç»´æŠ¤äººå‘˜æä¾›äº†æ›´å¤šçš„çµæ´»æ€§ï¼Œé€šå¸¸å¯ä»¥å‡å°‘æ‰˜ç®¡ä¸€äº›è¾ƒå°å’Œæ›´åŸºæœ¬çš„åº”ç”¨ç¨‹åºæ‰€éœ€çš„ç‰©ç†ç³»ç»Ÿæ•°é‡ã€‚ Dockerç®€åŒ–äº†è½¯ä»¶äº¤ä»˜ã€‚æ–°åŠŸèƒ½å’Œé”™è¯¯/å®‰å…¨ä¿®å¤ç¨‹åºå¯ä»¥å¿«é€Ÿåˆ°è¾¾å®¢æˆ·ï¼Œæ— éœ€ä»»ä½•éº»çƒ¦ï¼Œæ„å¤–æˆ–åœæœºã€‚\næ€»ç»“ ä¸ºäº†åŸºç¡€è®¾æ–½å®‰å…¨æ€§å’Œç³»ç»Ÿç¨³å®šæ€§è€Œéš”ç¦»è¿›ç¨‹å¹¶ä¸åƒå¬èµ·æ¥é‚£ä¹ˆç—›è‹¦ã€‚ Linuxå†…æ ¸æä¾›äº†æ‰€æœ‰å¿…è¦çš„å·¥å…·ï¼Œä½¿ç®€å•æ˜“ç”¨çš„ç”¨æˆ·ç©ºé—´åº”ç”¨ç¨‹åºã€å¦‚LXCï¼ˆç”šè‡³Dockerï¼‰ã€‘èƒ½å¤Ÿåœ¨éš”ç¦»çš„æ²™ç›’ç¯å¢ƒä¸­ç®¡ç†æ“ä½œç³»ç»Ÿçš„å¾®å®ä¾‹åŠå…¶æœ¬åœ°æœåŠ¡ã€‚\næ²™ç®± åœ¨è®¡ç®—æœºå®‰å…¨é¢†åŸŸï¼Œæ²™ç®±(Sandbox)æ˜¯ä¸€ç§ç¨‹åºçš„éš”ç¦»è¿è¡Œæœºåˆ¶ï¼Œå…¶ç›®çš„æ˜¯é™åˆ¶ä¸å¯ä¿¡è¿›ç¨‹çš„æƒé™ã€‚æ²™ç®±æŠ€æœ¯ç»å¸¸è¢«ç”¨äºæ‰§è¡Œæœªç»æµ‹è¯•çš„æˆ–ä¸å¯ä¿¡çš„å®¢æˆ·ç¨‹åºã€‚ä¸ºäº†é¿å…ä¸å¯ä¿¡ç¨‹åºå¯èƒ½ç ´åå…¶å®ƒç¨‹åºçš„è¿è¡Œï¼Œæ²™ç®±æŠ€æœ¯é€šè¿‡ä¸ºä¸å¯ä¿¡å®¢æˆ·ç¨‹åºæä¾›è™šæ‹ŸåŒ–çš„ç£ç›˜ã€å†…å­˜ä»¥åŠç½‘ç»œèµ„æºï¼Œè€Œè¿™ç§è™šæ‹ŸåŒ–æ‰‹æ®µå¯¹å®¢æˆ·ç¨‹åºæ¥è¯´æ˜¯é€æ˜çš„ã€‚ç”±äºæ²™ç®±é‡Œçš„èµ„æºè¢«è™šæ‹ŸåŒ–ï¼ˆæˆ–è¢«é—´æ¥åŒ–ï¼‰ï¼Œæ‰€ä»¥æ²™ç®±é‡Œçš„ä¸å¯ä¿¡ç¨‹åºçš„æ¶æ„è¡Œä¸ºå¾€å¾€ä¼šè¢«é™åˆ¶åœ¨æ²™ç®±ä¸­ã€‚\næ²™ç®±æŠ€æœ¯ä¸€ç›´æ˜¯ç³»ç»Ÿå®‰å…¨é¢†åŸŸçš„æŒ‘æˆ˜ï¼Œä¸å­˜åœ¨è¯´å“ªä¸€ç§æ–¹æ¡ˆæ˜¯è¶³å¤Ÿå®‰å…¨çš„ã€‚æ²™ç®±æŠ€æœ¯æ–¹æ¡ˆé€šå¸¸æ˜¯éœ€è¦ç»“åˆå¤šç§ç³»ç»Ÿå®‰å…¨æŠ€æœ¯æ¥å®ç°ï¼Œé‡‡ç”¨é˜²å¾¡çºµæ·±(Defence in Depth)çš„è®¾è®¡åŸåˆ™ï¼Œç­‘å»ºå¤šé“é˜²å¾¡å±éšœï¼Œå°½å¯èƒ½åœ°å°†å®‰å…¨é£é™©å°†ä¸ºæœ€ä½ã€‚ä¸‹é¢æˆ‘ä»¬ä¸»è¦è®¨è®ºå¦‚ä½•åˆ©ç”¨Linux kernelæ‰€æä¾›çš„å®‰å…¨åŠŸèƒ½æ¥å»ºç«‹æœ‰æ•ˆçš„æ²™ç®±æŠ€æœ¯ã€‚\nåœ¨è®¨è®ºä¹‹å‰ï¼Œæˆ‘ä»¬ç®€å•å›é¡¾ä¸€ä¸‹Linuxå®‰å…¨æ¨¡å‹ç›¸å…³çš„å†…å®¹ï¼ˆå‡è®¾è¯»è€…å·²ç»éå¸¸ç†Ÿæ‚‰ï¼‰ï¼š\n(1) æ¯ä¸ªè¿›ç¨‹éƒ½æœ‰è‡ªå·±çš„åœ°å€ç©ºé—´ï¼›\n(2) MMUç¡¬ä»¶æœºåˆ¶æ¥ä¿è¯åœ°å€ç©ºé—´çš„éš”ç¦»ï¼›\n(3) Kernelæ˜¯ç³»ç»Ÿçš„TCB(Trusted Computing Base)ï¼Œæ˜¯å®‰å…¨ç­–ç•¥çš„åˆ¶å®šè€…å’Œæ‰§è¡Œè€…ï¼›\n(4) è¿›ç¨‹æ˜¯æœ€å°çš„æƒé™è¾¹ç•Œï¼›\n(5) rootå…·æœ‰æœ€é«˜æƒé™ï¼Œå®ƒèƒ½æ§åˆ¶ä¸€åˆ‡ï¼›\n(6) å…¶å®ƒç”¨æˆ·å—DAC(Discretionary Access Control)é™åˆ¶ï¼Œå¦‚æ–‡ä»¶ç³»ç»Ÿçš„UGOæƒé™æ§åˆ¶ã€‚\nè¿›ç¨‹æ˜¯æœ€å°çš„æƒé™è¾¹ç•Œï¼Œå…¶æ ¹æœ¬åŸå› æ˜¯MMUèƒ½ä¿è¯è¿›ç¨‹åœ°å€ç©ºé—´çš„éš”ç¦»ã€‚\nLinux Kernelè¿˜æä¾›äº†ä¸è¿›ç¨‹é™æƒ(drop privilege)ç›¸å…³çš„ä¸€äº›åŠŸèƒ½ï¼š\n setuid POSIX.1e capability chroot jail Quota control (eg, cgroup, namespace) Linux Container Linux Security Module (LSM)  ä¸‹é¢æˆ‘ä»¬ä¼šä»‹ç»å¦‚ä½•åœ¨å®è·µä¸­åˆ©ç”¨è¿™äº›è¯€çªæ¥æ„å»ºä¸€ä¸ªæœ‰æ•ˆçš„sandbox.\næƒé™ ugo Linux ç³»ç»Ÿä¸­æ–‡ä»¶çš„ ugo æƒé™æ˜¯ Linux è¿›è¡Œæƒé™ç®¡ç†çš„åŸºæœ¬æ–¹å¼ã€‚\næ‰€æœ‰è€…å’Œç»„ Linux æ–‡ä»¶çš„ ugo æƒé™æŠŠå¯¹æ–‡ä»¶çš„è®¿é—®è€…åˆ’åˆ†ä¸ºä¸‰ä¸ªç±»åˆ«ï¼šæ–‡ä»¶çš„æ‰€æœ‰è€…ã€ç»„å’Œå…¶ä»–äººã€‚æ‰€è°“çš„ ugo å°±æ˜¯æŒ‡ user(ä¹Ÿç§°ä¸º owner)ã€group å’Œ other ä¸‰ä¸ªå•è¯çš„é¦–å­—æ¯ç»„åˆã€‚\nç”¨æˆ·å’Œç»„çš„ä¿¡æ¯åˆ†åˆ«è®°å½•åœ¨ /etc/passwdã€/etc/group æ–‡ä»¶ä¸­ï¼Œè¿™ä¸¤ä¸ªæ–‡ä»¶çš„å†…å®¹æ˜¯ä»»ä½•äººéƒ½æœ‰æƒæŸ¥çœ‹çš„ï¼Œå¯ä»¥ç›´æ¥ä»¥è¯»å–æ–‡æœ¬æ–‡ä»¶çš„æ–¹å¼æŸ¥çœ‹å…¶å†…å®¹ï¼Œå…¶ä¸­çš„æ¯ä¸€è¡Œä»£è¡¨ä¸€ä¸ªç”¨æˆ·ã€‚\næ–‡ä»¶çš„æ‰€æœ‰è€…\næ–‡ä»¶çš„æ‰€æœ‰è€…ä¸€èˆ¬æ˜¯åˆ›å»ºè¯¥æ–‡ä»¶çš„ç”¨æˆ·ï¼Œå¯¹è¯¥æ–‡ä»¶å…·æœ‰å®Œå…¨çš„æƒé™ã€‚åœ¨ä¸€å°å…è®¸å¤šä¸ªç”¨æˆ·è®¿é—®çš„ Linux ä¸»æœºä¸Šï¼Œå¯ä»¥é€šè¿‡æ–‡ä»¶çš„æ‰€æœ‰è€…æ¥åŒºåˆ†ä¸€ä¸ªæ–‡ä»¶å±äºæŸä¸ªç”¨æˆ·ã€‚å½“ç„¶ï¼Œä¸€ä¸ªç”¨æˆ·ä¹Ÿæ— æƒæŸ¥çœ‹æˆ–æ›´æ”¹å…¶å®ƒç”¨æˆ·çš„æ–‡ä»¶ã€‚\næ–‡ä»¶æ‰€å±çš„ç»„\nå‡å¦‚æœ‰å‡ ä¸ªç”¨æˆ·åˆä½œå¼€å‘åŒä¸€ä¸ªé¡¹ç›®ï¼Œå¦‚æœæ¯ä¸ªç”¨æˆ·åªèƒ½æŸ¥çœ‹å’Œä¿®æ”¹è‡ªå·±åˆ›å»ºçš„æ–‡ä»¶å°±å¤ªä¸æ–¹ä¾¿äº†ï¼Œä¹Ÿå°±è°ˆä¸ä¸Šä»€ä¹ˆåˆä½œäº†ã€‚æ‰€ä»¥éœ€è¦ä¸€ä¸ªæœºåˆ¶å…è®¸ä¸€ä¸ªç”¨æˆ·æŸ¥çœ‹å’Œä¿®æ”¹å…¶å®ƒç”¨æˆ·çš„æ–‡ä»¶ï¼Œæ­¤æ—¶å°±ç”¨åˆ°ç»„çš„æ¦‚å¿µçš„ã€‚æˆ‘ä»¬å¯ä»¥åˆ›å»ºä¸€ä¸ªç»„ï¼Œç„¶åæŠŠéœ€è¦åˆä½œçš„ç”¨æˆ·éƒ½æ·»åŠ éƒ½è¿™ä¸ªç»„ä¸­ã€‚åœ¨è®¾ç½®æ–‡ä»¶çš„è®¿é—®æƒé™æ—¶ï¼Œå…è®¸è¿™ä¸ªç»„ä¸­çš„ç”¨æˆ·å¯¹è¯¥æ–‡ä»¶è¿›è¡Œè¯»å–å’Œä¿®æ”¹ã€‚\nå…¶ä»–äºº\nå¦‚æœæˆ‘æƒ³æŠŠä¸€ä¸ªæ–‡ä»¶å…±äº«ç»™ç³»ç»Ÿä¸­çš„æ‰€æœ‰ç”¨æˆ·è¯¥æ€ä¹ˆåŠï¼Ÿé€šè¿‡ç»„çš„æ–¹å¼æ˜¾ç„¶æ˜¯ä¸åˆé€‚çš„ï¼Œå› ä¸ºéœ€è¦æŠŠç³»ç»Ÿä¸­çš„æ‰€æœ‰ç”¨æˆ·éƒ½æ·»åŠ åˆ°ä¸€ä¸ªç»„ä¸­ã€‚å¹¶ä¸”ç³»ç»Ÿä¸­æ·»åŠ äº†æ–°ç”¨æˆ·è¯¥æ€ä¹ˆåŠï¼Œæ¯æ·»åŠ ä¸€ä¸ªæ–°ç”¨æˆ·å°±æŠŠä»–æ·»åŠ åˆ°è¿™ä¸ªç»„ä¸­å—ï¼Ÿè¿™ä¸ªé—®é¢˜å¯ä»¥é€šè¿‡å…¶ä»–äººçš„æ¦‚å¿µè§£å†³ã€‚åœ¨è®¾ç½®æ–‡ä»¶çš„è®¿é—®æƒé™æ—¶ï¼Œå…è®¸å…¶ä»–äººæˆ·å¯¹è¯¥æ–‡ä»¶è¿›è¡Œè¯»å–å’Œä¿®æ”¹ã€‚\næ–‡ä»¶å±æ€§ ä½¿ç”¨ ll å‘½ä»¤å¯ä»¥æŸ¥çœ‹æ–‡ä»¶çš„å±æ€§ä¿¡æ¯ï¼š\n$ ll Desktop drwxr-xr-x 2 nick nick 4.0K Mar 2 15:06 Desktop  drwxr-xr-x æŒ‡æ˜æ–‡ä»¶çš„ç±»å‹å’Œ ugo æƒé™ä¿¡æ¯ã€‚ 2 æ˜¯å¯¹æ–‡ä»¶çš„å¼•ç”¨è®¡æ•°ã€‚ nick æ˜¯æ–‡ä»¶çš„æ‰€æœ‰è€…ï¼Œæ–‡ä»¶çš„æ‰€æœ‰è€…ä¸€èˆ¬æ˜¯åˆ›å»ºè¯¥æ–‡ä»¶çš„ç”¨æˆ·ï¼Œå¯¹è¯¥æ–‡ä»¶å…·æœ‰å®Œå…¨çš„æƒé™ã€‚ nick æ˜¯æ–‡ä»¶æ‰€å±çš„ç»„ï¼Œæˆ‘ä»¬é€šè¿‡ adduser å‘½ä»¤åˆ›å»ºç”¨æˆ·æ—¶ä¸€èˆ¬ä¼šåˆ›å»ºä¸€ä¸ªåŒåçš„ç»„ï¼Œè¯¥ç”¨æˆ·å°±å±äºä¸ä»–åŒåçš„ç»„(æ¯”å¦‚ç¬”è€…æœºå™¨ä¸Šçš„ç”¨æˆ· nick å°±å±äº nick ç»„)ã€‚å½“æˆ‘ä»¬åˆ›å»ºæ–‡ä»¶å’Œç›®å½•æ—¶ï¼Œå…¶é»˜è®¤æ‰€å±çš„ç»„å°±æ˜¯æ‰€æœ‰è€…æ‰€åœ¨çš„ç»„ã€‚  å…¶å®ƒçš„ä¿¡æ¯æˆ‘ä»¬æš‚æ—¶å¿½ç•¥ã€‚\næ–‡ä»¶ç±»å‹\ndrwxr-xr-x çš„ç¬¬ä¸€ä¸ªå­—ç¬¦æè¿°æ–‡ä»¶çš„ç±»å‹ï¼Œå¸¸è§çš„ç±»å‹æœ‰å¦‚ä¸‹å‡ ç§ï¼š\n d è¡¨ç¤ºç›®å½• - è¡¨ç¤ºæ™®é€šæ–‡ä»¶ l è¡¨ç¤ºé“¾æ¥æ–‡ä»¶ b è¡¨ç¤ºå—è®¾å¤‡æ–‡ä»¶ c è¡¨ç¤ºå­—ç¬¦è®¾å¤‡æ–‡ä»¶ s è¡¨ç¤º socket æ–‡ä»¶  ugo æƒé™ä¿¡æ¯\n10 ä¸ªå­—ç¬¦ï¼Œé™¤å»ç¬¬ä¸€ä¸ªè¡¨ç¤ºæ–‡ä»¶ç±»å‹çš„å­—ç¬¦ï¼Œå…¶å®ƒ 9 ä¸ªå­—ç¬¦è¡¨ç¤ºæ–‡ä»¶çš„ ugo æƒé™ä¿¡æ¯\nè¿™ 9 ä¸ªå­—ç¬¦ä»¥ä¸‰ä¸ªä¸ºä¸€ç»„ï¼Œéƒ½æ˜¯ rwx æˆ– - çš„ç»„åˆã€‚å…¶ä¸­ï¼Œr ä»£è¡¨å¯è¯»(read)ã€ w ä»£è¡¨å¯å†™(write)ã€ x ä»£è¡¨å¯æ‰§è¡Œ(execute)ã€‚ è¿™ä¸‰ä¸ªæƒé™çš„ä½ç½®ä¸ä¼šæ”¹å˜ï¼Œå¦‚æœæ²¡æœ‰å¯¹åº”çš„æƒé™ï¼Œå°±ä¼šä»¥ -(å‡å·)ä»£æ›¿ã€‚\n*ç¬¬ä¸€ç»„ä¸ºæ–‡ä»¶æ‰€æœ‰è€…çš„æƒé™ï¼Œç¬¬äºŒç»„ä¸ºæ–‡ä»¶æ‰€å±ç»„çš„æƒé™ï¼Œç¬¬ä¸‰ç»„ä¸ºå…¶ä»–äººçš„æƒé™ã€‚*å…¶è¡¨ç¤ºçš„å…·ä½“å«ä¹‰ä¸ºï¼šæ–‡ä»¶æ‰€æœ‰è€…å…·æœ‰å¯¹æ–‡ä»¶çš„è¯»å†™æƒé™ï¼Œæ–‡ä»¶æ‰€å±ç»„çš„ç”¨æˆ·å…·æœ‰å¯¹æ–‡ä»¶è¯»å†™çš„æƒé™ï¼Œè€Œå…¶ä»–äººåªæœ‰è¯»å–æ–‡ä»¶çš„æƒé™ã€‚\nä¸‹é¢è¯¦ç»†çš„è§£é‡Šä¸€ä¸‹æ–‡ä»¶è¯»å†™æ‰§è¡Œçš„æƒé™ï¼š\n r (read)ï¼šå¯ä»¥è¯»å–æ–‡ä»¶çš„å®é™…å†…å®¹ï¼Œæ¯”å¦‚è¯»å–æ–‡æœ¬æ–‡ä»¶å†…çš„æ–‡å­—ç­‰ã€‚ w (write)ï¼šå¯ä»¥ç¼–è¾‘ã€å¢åŠ ã€åˆ é™¤æ–‡ä»¶çš„å†…å®¹(ä½†ä¸å«åˆ é™¤è¯¥æ–‡ä»¶)ã€‚ x (execute)ï¼šè¯¥æ–‡ä»¶å…·æœ‰å¯ä»¥è¢«ç³»ç»Ÿæ‰§è¡Œçš„æƒé™ã€‚  å¯ä»¥çœ‹å‡ºï¼Œå¯¹äºæ–‡ä»¶æ¥è¯´ï¼Œrwx ä¸»è¦é’ˆå¯¹çš„æ˜¯æ–‡ä»¶çš„å†…å®¹ã€‚\nå¯¹ç›®å½•è€Œè¨€ï¼Œç›®å½•ä¸­å­˜å‚¨çš„ä¸»è¦æ˜¯ç›®å½•ä¸‹æ–‡ä»¶åç§°çš„åˆ—è¡¨ï¼Œè¿™ä¸æ™®é€šæ–‡ä»¶æ˜¯æœ‰äº›ä¸åŒçš„ï¼š\n r (read contents in directory) è¡¨ç¤ºå…·æœ‰è¯»å–ç›®å½•ä¸‹æ–‡ä»¶åç§°çš„æƒé™ï¼Œä¹Ÿå°±æ˜¯è¯´ä½ å¯ä»¥é€šè¿‡ ls å‘½ä»¤æŠŠç›®å½•ä¸‹çš„æ–‡ä»¶åˆ—è¡¨æŸ¥è¯¢å‡ºæ¥ã€‚ w (modify contents of directory) å…·æœ‰ w æƒé™è¡¨æ˜ä½ å¯ä»¥åœ¨è¯¥ç›®å½•ä¸‹æ‰§è¡Œå¦‚ä¸‹çš„æ“ä½œï¼š  åˆ›å»ºæ–°çš„æ–‡ä»¶å’Œç›®å½• åˆ é™¤å·²ç»å­˜åœ¨çš„æ–‡ä»¶ä¸ç›®å½•(ä¸è®ºè¯¥æ–‡ä»¶çš„æƒé™ä¸ºä½•!) é‡å‘½åå·²å­˜åœ¨çš„æ–‡ä»¶æˆ–ç›®å½• ç§»åŠ¨è¯¥ç›®å½•å†…æ–‡ä»¶ã€ç›®å½•çš„ä½ç½®   x (access directory) ç›®å½•è™½ç„¶ä¸èƒ½è¢«æ‰§è¡Œï¼Œä½†æ˜¯å´å…·æœ‰å¯ä»¥æ‰§è¡Œçš„æƒé™ã€‚ç›®å½•çš„ x æƒé™è¡¨ç¤ºç”¨æˆ·æ˜¯å¦å¯ä»¥è¿›å…¥è¯¥ç›®æ ‡å¹¶æˆä¸ºå½“å‰çš„å·¥ä½œç›®å½•ã€‚æ³¨æ„ï¼Œå¦‚æœç”¨æˆ·å¯¹ç›®å½•æ²¡æœ‰ x æƒé™ï¼Œåˆ™æ— æ³•æŸ¥çœ‹è¯¥ç›®å½•ä¸‹çš„æ–‡ä»¶çš„å†…å®¹(æ³¨æ„ä¸ r æƒé™çš„åŒºåˆ«)ã€‚  ç»¼ä¸Šï¼Œå¦‚æœè¦å…è®¸ç›®å½•è¢«å…¶ä»–äººæµè§ˆæ—¶ï¼Œè‡³å°‘è¦ç»™äºˆ r å’Œ x çš„æƒé™ã€‚\næ”¹å˜æƒé™ åœ¨æ–°å»ºæ–‡ä»¶æ—¶ä¼šæ ¹æ®åˆ›å»ºè€…çš„èº«ä»½å’Œå…¶å®ƒçš„ä¸€äº›è®¾ç½®ä¸ºæ–‡ä»¶ç”Ÿæˆé»˜è®¤çš„æƒé™ã€‚\næ¥ä¸‹æ¥æˆ‘ä»¬ä»‹ç»å¦‚ä½•é€šè¿‡å‘½ä»¤ä¿®æ”¹æ–‡ä»¶æƒé™ç›¸å…³çš„ä¿¡æ¯ã€‚\næ”¹å˜æ–‡ä»¶æ‰€æœ‰è€…\né€šè¿‡ chown å‘½ä»¤å¯ä»¥æ”¹å˜æ–‡ä»¶çš„æ‰€æœ‰è€…ï¼š\n$ sudo chown tester testfile æ”¹å˜æ–‡ä»¶æ‰€å±çš„ç»„\né€šè¿‡ chgrp å‘½ä»¤å¯ä»¥æ”¹å˜æ–‡ä»¶æ‰€å±çš„ç»„ï¼š\n$ sudo chgrp tester testfile æ”¹å˜æ–‡ä»¶çš„æƒé™\né€šè¿‡ chmod å‘½ä»¤å¯ä»¥æ”¹å˜æ–‡ä»¶çš„æƒé™ã€‚å¯¹äºæ–‡ä»¶çš„ rwx æƒé™ï¼Œæœ‰ä¸¤ç§è¡¨ç¤ºæ–¹æ³•ï¼Œæ•°å­—è¡¨ç¤ºæ³•å’Œå­—ç¬¦è¡¨ç¤ºæ³•ã€‚\nä»¥æ•°å­—è¡¨ç¤ºæƒé™çš„æ–¹å¼å¦‚ä¸‹ï¼š\n r: 4 w: 2 x: 1  å¦‚æœæ˜¯ rwx æƒé™å°±æ˜¯ 4 + 2 + 1 = 7 ï¼Œr-x å°±æ˜¯ 4 + 1 = 5 ï¼Œ\u0026mdash; åˆ™ä¸º 0ã€‚æ‰€ä»¥ rw-rw-r\u0026ndash; å°±å¯ä»¥ç”¨ 664 æ¥è¡¨ç¤ºã€‚å¦‚æœæˆ‘ä»¬æƒ³æŠŠæ–‡ä»¶çš„æƒé™ä¿®æ”¹ä¸º rwxrwxrwxï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤ï¼š\n$ chmod 777 testfile ä»¥å­—ç¬¦è¡¨ç¤ºæƒé™çš„æ–¹å¼å¦‚ä¸‹ï¼šç”¨å­—ç¬¦ u, g, o åˆ†åˆ«ä»£è¡¨æ–‡ä»¶æ‰€æœ‰è€…(user)ã€æ–‡ä»¶æ‰€å±çš„ç»„(group)å’Œå…¶ä»–äºº(other)ï¼Œè¿™å°±æ˜¯ ugo æƒé™å«æ³•çš„ç”±æ¥ã€‚åªä¸è¿‡è¿˜æœ‰ä¸€ä¸ª a å¯ä»¥è¡¨ç¤ºå…¨éƒ¨çš„èº«ä»½(all)ã€‚å…·ä½“æ›´æ”¹æƒé™çš„è¯­æ³•å¦‚ä¸‹ï¼š\nchmod [ugoa][+-=][rwx] æ–‡ä»¶/ç›®å½• æ¯”å¦‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æŠŠ testfile çš„æƒé™è®¾ä¸º rw-rw-r\u0026ndash;ï¼š\n$ chmod ug=rw,o=r testfile å¦‚æœæƒ³å»æ‰ç»„çš„ w æƒé™å¹¶ç»™å…¶ä»–äººæ·»åŠ  x æƒé™å¯ä»¥æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š\n$ chmod g-w,o+x testfile æˆ‘ä»¬è¿˜å¯é€šè¿‡ a ä¸ºå…¨éƒ¨èº«ä»½è®¾ç½®æƒé™ï¼Œæ¯”å¦‚ rwxï¼š\n$ chmod a=rwx testfile ç‰¹æ®Šæƒé™ setuid å’Œ setgid åˆ†åˆ«æ˜¯ set uid ID upon execution å’Œ set group ID upon execution çš„ç¼©å†™ã€‚æˆ‘ä»¬ä¸€èˆ¬ä¼šå†æ¬¡æŠŠå®ƒä»¬ç¼©å†™ä¸º suid å’Œ sgidã€‚å®ƒä»¬æ˜¯æ§åˆ¶æ–‡ä»¶è®¿é—®çš„æƒé™æ ‡å¿—(flag)ï¼Œå®ƒä»¬åˆ†åˆ«å…è®¸ç”¨æˆ·ä»¥å¯æ‰§è¡Œæ–‡ä»¶çš„ owner æˆ– owner group çš„æƒé™è¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶ã€‚\nSUID åœ¨ Linux ä¸­ï¼Œæ‰€æœ‰è´¦å·çš„å¯†ç è®°å½•åœ¨ /etc/shadow è¿™ä¸ªæ–‡ä»¶ä¸­ï¼Œå¹¶ä¸”åªæœ‰ root å¯ä»¥è¯»å†™å…¥è¿™ä¸ªæ–‡ä»¶ï¼š\n$ ll /etc/shadow -rw-r----- 1 root shadow 1.5K Feb 25 12:46 /etc/shadow å¦‚æœå¦ä¸€ä¸ªæ™®é€šè´¦å· tester éœ€è¦ä¿®æ”¹è‡ªå·±çš„å¯†ç ï¼Œå°±è¦è®¿é—® /etc/shadow è¿™ä¸ªæ–‡ä»¶ã€‚ä½†æ˜¯æ˜æ˜åªæœ‰ root æ‰èƒ½è®¿é—® /etc/shadow è¿™ä¸ªæ–‡ä»¶ï¼Œè¿™ç©¶ç«Ÿæ˜¯å¦‚ä½•åšåˆ°çš„å‘¢ï¼Ÿäº‹å®ä¸Šï¼Œtester ç”¨æˆ·æ˜¯å¯ä»¥ä¿®æ”¹ /etc/shadow è¿™ä¸ªæ–‡ä»¶å†…çš„å¯†ç çš„ï¼Œå°±æ˜¯é€šè¿‡ SUID çš„åŠŸèƒ½ã€‚è®©æˆ‘ä»¬çœ‹çœ‹ passwd ç¨‹åºæ–‡ä»¶çš„æƒé™ä¿¡æ¯ï¼š\n$ ll /usr/bin/passwd -rwsr-xr-x 1 root root 67K Jul 15 2021 /usr/bin/passwd ä¸Šå›¾çº¢æ¡†ä¸­çš„æƒé™ä¿¡æ¯æœ‰äº›å¥‡æ€ªï¼Œowner çš„ä¿¡æ¯ä¸º rws è€Œä¸æ˜¯ rwxã€‚å½“ s å‡ºç°åœ¨æ–‡ä»¶æ‹¥æœ‰è€…çš„ x æƒé™ä¸Šæ—¶ï¼Œå°±è¢«ç§°ä¸º SETUID BITS æˆ– SETUID ï¼Œå…¶ç‰¹ç‚¹å¦‚ä¸‹ï¼š\n SUID æƒé™ä»…å¯¹äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶æœ‰æ•ˆ å¦‚æœæ‰§è¡Œè€…å¯¹äºè¯¥äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶å…·æœ‰ x çš„æƒé™ï¼Œæ‰§è¡Œè€…å°†å…·æœ‰è¯¥æ–‡ä»¶çš„æ‰€æœ‰è€…çš„æƒé™ æœ¬æƒé™ä»…åœ¨æ‰§è¡Œè¯¥äºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶çš„è¿‡ç¨‹ä¸­æœ‰æ•ˆ  ä¸‹é¢æˆ‘ä»¬æ¥çœ‹ tester ç”¨æˆ·æ˜¯å¦‚ä½•åˆ©ç”¨ SUID æƒé™å®Œæˆå¯†ç ä¿®æ”¹çš„ï¼š\n tester ç”¨æˆ·å¯¹äº /usr/bin/passwd è¿™ä¸ªç¨‹åºå…·æœ‰æ‰§è¡Œæƒé™ï¼Œå› æ­¤å¯ä»¥æ‰§è¡Œ passwd ç¨‹åº passwd ç¨‹åºçš„æ‰€æœ‰è€…ä¸º root tester ç”¨æˆ·æ‰§è¡Œ passwd ç¨‹åºçš„è¿‡ç¨‹ä¸­ä¼šæš‚æ—¶è·å¾— root æƒé™ å› æ­¤ tester ç”¨æˆ·åœ¨æ‰§è¡Œ passwd ç¨‹åºçš„è¿‡ç¨‹ä¸­å¯ä»¥ä¿®æ”¹ /etc/shadow æ–‡ä»¶  ä½†æ˜¯å¦‚æœç”± tester ç”¨æˆ·æ‰§è¡Œ cat å‘½ä»¤å»è¯»å– /etc/shadow æ–‡ä»¶ç¡®æ˜¯ä¸è¡Œçš„ï¼š\n$ ll /bin/cat -rwxr-xr-x 1 root root 43K Sep 5 2019 /bin/cat åŸå› å¾ˆæ¸…æ¥šï¼Œtester ç”¨æˆ·æ²¡æœ‰è¯» /etc/shadow æ–‡ä»¶çš„æƒé™ï¼ŒåŒæ—¶ cat ç¨‹åºä¹Ÿæ²¡æœ‰è¢«è®¾ç½® SUIDã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹å›¾æ¥ç†è§£è¿™ä¸¤ç§æƒ…å†µï¼š\nSGID å½“ s æ ‡å¿—å‡ºç°åœ¨ç”¨æˆ·ç»„çš„ x æƒé™æ—¶ç§°ä¸º SGIDã€‚SGID çš„ç‰¹ç‚¹ä¸ SUID ç›¸åŒï¼Œæˆ‘ä»¬é€šè¿‡ /usr/bin/mlocate ç¨‹åºæ¥æ¼”ç¤ºå…¶ç”¨æ³•ã€‚mlocate ç¨‹åºé€šè¿‡æŸ¥è¯¢æ•°æ®åº“æ–‡ä»¶ /var/lib/mlocate/mlocate.db å®ç°å¿«é€Ÿçš„æ–‡ä»¶æŸ¥æ‰¾ã€‚ mlocate ç¨‹åºçš„æƒé™å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\n$ ll /usr/bin/mlocate -rwxr-sr-x 1 root mlocate 39520 Nov 18 2014 /usr/bin/mlocate* å¾ˆæ˜æ˜¾ï¼Œå®ƒè¢«è®¾ç½®äº† SGID æƒé™ã€‚ä¸‹é¢æ˜¯æ•°æ®åº“æ–‡ä»¶ /var/lib/mlocate/mlocate.db çš„æƒé™ä¿¡æ¯ï¼š\n$ ll /var/lib/mlocate/mlocate.db -rw-r----- 1 root mlocate 12101109 Aug 13 07:35 /var/lib/mlocate/mlocate.db æ™®é€šç”¨æˆ· tester æ‰§è¡Œ mlocate å‘½ä»¤æ—¶ï¼Œtester å°±ä¼šè·å¾—ç”¨æˆ·ç»„ mlocate çš„æ‰§è¡Œæƒé™ï¼Œåˆç”±äºç”¨æˆ·ç»„ mlocate å¯¹ mlocate.db å…·æœ‰è¯»æƒé™ï¼Œæ‰€ä»¥ tester å°±å¯ä»¥è¯»å– mlocate.db äº†ã€‚ç¨‹åºçš„æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\né™¤äºŒè¿›åˆ¶ç¨‹åºå¤–ï¼ŒSGID ä¹Ÿå¯ä»¥ç”¨åœ¨ç›®å½•ä¸Šã€‚å½“ä¸€ä¸ªç›®å½•è®¾ç½®äº† SGID æƒé™åï¼Œå®ƒå…·æœ‰å¦‚ä¸‹åŠŸèƒ½ï¼š\n ç”¨æˆ·è‹¥å¯¹æ­¤ç›®å½•å…·æœ‰ r å’Œ x æƒé™ï¼Œè¯¥ç”¨æˆ·èƒ½å¤Ÿè¿›å…¥è¯¥ç›®å½• ç”¨æˆ·åœ¨æ­¤ç›®å½•ä¸‹çš„æœ‰æ•ˆç”¨æˆ·ç»„å°†å˜æˆè¯¥ç›®å½•çš„ç”¨æˆ·ç»„ è‹¥ç”¨æˆ·åœ¨æ­¤ç›®å½•ä¸‹æ‹¥æœ‰ w æƒé™ï¼Œåˆ™ç”¨æˆ·æ‰€åˆ›å»ºçš„æ–°æ–‡ä»¶çš„ç”¨æˆ·ç»„ä¸è¯¥ç›®å½•çš„ç”¨æˆ·ç»„ç›¸åŒ  SBIT å…¶å® SBIT ä¸ SUID å’Œ SGID çš„å…³ç³»å¹¶ä¸å¤§ã€‚SBIT æ˜¯ the restricted deletion flag or sticky bit çš„ç®€ç§°ã€‚\nSBIT ç›®å‰åªå¯¹ç›®å½•æœ‰æ•ˆï¼Œç”¨æ¥é˜»æ­¢éæ–‡ä»¶çš„æ‰€æœ‰è€…åˆ é™¤æ–‡ä»¶ã€‚æ¯”è¾ƒå¸¸è§çš„ä¾‹å­å°±æ˜¯ /tmp ç›®å½•ï¼š\n$ ls -ld /tmp drwxrwxrwt 22 root root 4096 Mar 2 20:57 /tmp æƒé™ä¿¡æ¯ä¸­æœ€åä¸€ä½ t è¡¨æ˜è¯¥ç›®å½•è¢«è®¾ç½®äº† SBIT æƒé™ã€‚SBIT å¯¹ç›®å½•çš„ä½œç”¨æ˜¯ï¼šå½“ç”¨æˆ·åœ¨è¯¥ç›®å½•ä¸‹åˆ›å»ºæ–°æ–‡ä»¶æˆ–ç›®å½•æ—¶ï¼Œä»…æœ‰è‡ªå·±å’Œ root æ‰æœ‰æƒåŠ›åˆ é™¤ã€‚\nè®¾ç½®æƒé™ ä»¥æ•°å­—çš„æ–¹å¼è®¾ç½®æƒé™\nSUIDã€SGIDã€SBIT æƒé™å¯¹åº”çš„æ•°å­—å¦‚ä¸‹ï¼š\nSUID-\u0026gt;4 SGID-\u0026gt;2 SBIT-\u0026gt;1 æ‰€ä»¥å¦‚æœè¦ä¸ºä¸€ä¸ªæ–‡ä»¶æƒé™ä¸º \u0026ldquo;-rwxr-xr-x\u0026rdquo; çš„æ–‡ä»¶è®¾ç½® SUID æƒé™ï¼Œéœ€è¦åœ¨åŸå…ˆçš„ 755 å‰é¢åŠ ä¸Š 4ï¼Œä¹Ÿå°±æ˜¯ 4755ï¼š\n$ chmod 4755 filename åŒæ ·ï¼Œå¯ä»¥ç”¨ 2 å’Œ 1 æ¥è®¾ç½® SGID å’Œ SBIT æƒé™ã€‚è®¾ç½®å®Œæˆååˆ†åˆ«ä¼šç”¨ s, s, t ä»£æ›¿æ–‡ä»¶æƒé™ä¸­çš„ xã€‚\nå…¶å®ï¼Œè¿˜å¯èƒ½å‡ºç° S å’Œ T çš„æƒ…å†µã€‚s å’Œ t æ˜¯æ›¿ä»£ x è¿™ä¸ªæƒé™çš„ï¼Œä½†æ˜¯ï¼Œå¦‚æœå®ƒæœ¬èº«æ²¡æœ‰ x è¿™ä¸ªæƒé™ï¼Œæ·»åŠ  SUIDã€SGIDã€SBIT æƒé™åå°±ä¼šæ˜¾ç¤ºä¸ºå¤§å†™ S æˆ–å¤§å†™ Tã€‚æ¯”å¦‚æˆ‘ä»¬ä¸ºä¸€ä¸ªæƒé™ä¸º 666 çš„æ–‡ä»¶æ·»åŠ  SUIDã€SGIDã€SBIT æƒé™ï¼š\n$ chmod 666 nickfile $ ll nickfile -rw-rw-rw- 1 nick nick 0 Mar 2 21:03 nickfile $ chmod 7666 nickfile $ ll nickfile -rwSrwSrwT 1 nick nick 0 Mar 2 21:03 nickfile é€šè¿‡ç¬¦å·ç±»å‹æ”¹å˜æƒé™\né™¤äº†ä½¿ç”¨æ•°å­—æ¥ä¿®æ”¹æƒé™ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ç¬¦å·ï¼š\n$ chmod u+s testfile # ä¸º testfile æ–‡ä»¶åŠ ä¸Š SUID æƒé™ã€‚ $ chmod g+s testdir # ä¸º testdir ç›®å½•åŠ ä¸Š SGID æƒé™ã€‚ $ chmod o+t testdir # ä¸º testdir ç›®å½•åŠ ä¸Š SBIT æƒé™ã€‚ umask é»˜è®¤æƒé™ ä¸ºäº†æŸ¥çœ‹ç”¨æˆ·åˆ›å»ºçš„æ–‡ä»¶å’Œç›®å½•çš„é»˜è®¤æƒé™ï¼Œæˆ‘ä»¬ç”¨ä¸€ä¸ªæ™®é€šçš„ç”¨æˆ·åˆ›å»ºæ–‡ä»¶ myfile å’Œç›®å½• mydir å¹¶æŸ¥çœ‹å®ƒä»¬çš„é»˜è®¤æƒé™ï¼š\n$ touch myfile $ mkdir mydir $ ll total 4.0K drwxrwxr-x 2 nick nick 4.0K Mar 2 21:09 mydir -rw-rw-r-- 1 nick nick 0 Mar 2 21:09 myfile ç›®å½•çš„æƒé™ä¸º 775ï¼Œæ–‡ä»¶çš„æƒé™ä¸º 664ã€‚é»˜è®¤æƒ…å†µä¸‹å¯¹äºç›®å½•æ¥è¯´æœ€å¤§çš„æƒé™æ˜¯ 777ï¼Œå¯¹äºæ–‡ä»¶æ¥è¯´æœ€å¤§çš„æƒé™ä¸€èˆ¬ä¸º 666(åªæœ‰å¯ä»¥æ‰§è¡Œçš„æ–‡ä»¶æ‰æ·»åŠ å¯æ‰§è¡Œæƒé™)ã€‚æ‰€ä»¥æˆ‘ä»¬åˆ›å»ºçš„æ–‡ä»¶å’Œç›®å½•çš„å…±åŒç‰¹ç‚¹æ˜¯ä»æœ€å¤§æƒé™ä¸­å‡å…¶ä»–ç”¨æˆ·çš„å†™æƒé™ã€‚è€Œè¿™ä¸ªè¢«å‡å»çš„å€¼å°±æ˜¯æˆ‘ä»¬å¸¸è¯´çš„ umaskã€‚umask è¿˜æ˜¯ bash çš„ä¸€ä¸ªå†…ç½®å‘½ä»¤ï¼Œé»˜è®¤è¾“å‡ºå½“å‰ç”¨æˆ·çš„ umask å€¼ï¼š\n$ umask 002 æ³¨æ„ï¼Œumask æ˜¾ç¤ºçš„å€¼ä¸ºä»é»˜è®¤çš„æœ€å¤§æƒé™ä¸­å‡å»çš„å€¼ã€‚\né»˜è®¤ç­–ç•¥ ç³»ç»Ÿåœ¨ç”¨æˆ·ç™»å½•æ—¶é€šè¿‡ login ç¨‹åºè°ƒç”¨ pam_umask æ¨¡å—è®¾ç½®ç”¨æˆ·é»˜è®¤çš„ umaskã€‚ä» login ç¨‹åºçš„é…ç½®æ–‡ä»¶ /etc/login.defs ä¸­æˆ‘ä»¬å¯ä»¥æ‰¾åˆ° umask ç›¸å…³çš„é…ç½®ï¼š\n... UMASK 022 ... USERGROUPS_ENAB yes ... ç”¨æˆ·çš„é»˜è®¤ umask åº”è¯¥æ˜¯ 022ï¼Œä½†å½“ USERGROUPS_ENAB è¢«è®¾ç½®ä¸º yes æ—¶(é»˜è®¤å€¼)ï¼Œå¯¹äº uid å’Œ gid ç›¸åŒä¸”ç”¨æˆ·åå’Œä¸»ç»„åç›¸åŒçš„ç”¨æˆ·ï¼Œç³»ç»Ÿä¼šæŠŠå…¶ umask æ”¹ä¸º 002ã€‚\näº root ç”¨æˆ·çš„ç‰¹æ®Šæ€§ï¼Œå®ƒé»˜è®¤çš„ umask ä¸å…¶å®ƒç”¨æˆ·æ˜¯ä¸åŒçš„ï¼Œå…¶å€¼ä¸º 022ï¼š\n# umask 0022 ç¬¬ä¸€ä¸ª 0 è¡¨ç¤º 8 è¿›åˆ¶ï¼Œè¿™é‡Œæˆ‘ä»¬å¯ä»¥æš‚æ—¶å¿½ç•¥å®ƒã€‚\nå‘½ä»¤ umask æ˜¯ bash çš„ä¸€ä¸ªå†…ç½®å‘½ä»¤ï¼Œç”¨æ¥æ˜¾ç¤ºæˆ–è®¾ç½®æ–°å»ºæ–‡ä»¶/ç›®å½•çš„æƒé™æ©ç (umask)ã€‚å‰é¢æˆ‘ä»¬ä»¥æ•°å­—çš„æ–¹å¼è¾“å‡ºäº†ç”¨æˆ·é»˜è®¤çš„ umask å€¼ï¼Œè¿™æ¬¡æˆ‘ä»¬ä»¥ç¬¦å·çš„æ–¹å¼è¿›è¡Œè¾“å‡ºï¼š\n$ umask -S u=rwx,g=rwx,o=rx ä»¥ç¬¦å·è¾“å‡ºçš„å°±æ˜¯ç”¨æˆ·åˆ›å»ºç›®å½•æ—¶çš„é»˜è®¤æƒé™ï¼Œä¹Ÿå°±æ˜¯ 775ã€‚\nä¸ºäº†æ”¹å˜ç”¨æˆ·åˆ›å»ºçš„æ–‡ä»¶/ç›®å½•çš„é»˜è®¤å€¼ï¼Œæˆ‘ä»¬å¯ä»¥æ”¹å˜ umask çš„é»˜è®¤å€¼ã€‚\nè®¾ç½® umask å€¼\næœ€ç®€å•çš„æ–¹å¼å°±æ˜¯ä¸º umask å‘½ä»¤æŒ‡å®šä¸€ä¸ªæ•°å­—ï¼š\n$ umask 026 026 çš„å«ä¹‰ä¸ºï¼šå»æ‰ group ä¸­çš„å†™æƒé™ï¼Œå»æ‰ other ä¸­çš„è¯»å†™æƒé™ã€‚\nè¿™æ—¶åˆ›å»ºçš„æ–‡ä»¶æƒé™ä¸º 640ï¼Œç›®å½•æƒé™ä¸º 751ã€‚æ³¨æ„ï¼Œä¿®æ”¹ umask ååªæœ‰æ–°å»ºçš„æ–‡ä»¶å’Œç›®å½•å—å½±å“ï¼Œå·²ç»å­˜åœ¨çš„æ–‡ä»¶å’Œç›®å½•çš„æƒé™ä¸ä¼šè¢«å½±å“ã€‚\nä»¥ç¬¦å·çš„æ–¹å¼è®¾ç½® umask å€¼\næ¯”å¦‚ä¸‹é¢çš„å‘½ä»¤ï¼š\n$ umask u=,g=w,o=rwx ä¸Šé¢çš„å‘½ä»¤è¡¨ç¤ºä» group ä¸­å»æ‰å†™æƒé™ï¼Œä» other ä¸­å»æ‰è¯»å†™æ‰§è¡Œçš„æƒé™ã€‚\næ³¨æ„ï¼š\u0026quot;=\u0026quot; å·åœ¨ umask å‘½ä»¤å’Œ chmod å‘½ä»¤ä¸­çš„ä½œç”¨æ°æ°ç›¸åã€‚åœ¨ chmod å‘½ä»¤ä¸­ï¼Œåˆ©ç”¨å®ƒæ¥è®¾ç½®æŒ‡å®šçš„æƒé™ï¼Œè€Œå…¶ä½™æƒé™åˆ™è¢«åˆ é™¤ã€‚ä½†æ˜¯åœ¨ umask å‘½ä»¤ä¸­ï¼Œå°†åœ¨åŸæœ‰æƒé™çš„åŸºç¡€ä¸Šåˆ é™¤æŒ‡å®šçš„æƒé™ã€‚\nåœ¨ ~/.bashrc æ–‡ä»¶ä¸­ä¸ºç”¨æˆ·è®¾ç½®é»˜è®¤çš„ umask\nå¦‚æœè®©ç”¨æˆ·æ¯æ¬¡ç™»é™†åéƒ½æ‰§è¡Œ umask å‘½ä»¤ä¿®æ”¹é»˜è®¤çš„ umask å€¼æ˜¯ä¸ç§‘å­¦çš„ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ç”¨æˆ·çš„ ~/.bashrc æ–‡ä»¶ä¸­æ‰§è¡Œ umask å‘½ä»¤ï¼Œè¿™æ ·ç”¨æˆ·ç™»å½•å umask çš„å€¼è‡ªåŠ¨å°±å˜æˆäº†è®¾ç½®çš„å€¼ã€‚æŠŠä¸‹é¢çš„å‘½ä»¤æ·»åŠ åˆ° ~/.bashrc æ–‡ä»¶çš„æœ€åä¸€è¡Œï¼š\numask 026 ä¸ ACL å¦‚æœä¸€ä¸ªç›®å½•æ²¡æœ‰è¢«è®¾ç½® default ACLï¼Œé‚£ä¹ˆå°†ç”± umask å†³å®šæ–°æ–‡ä»¶çš„ ACL æƒé™ã€‚è¿™ç§æƒ…å†µå…¶å®å°±æ˜¯æˆ‘ä»¬å¸¸è§çš„æ²¡æœ‰ ACL æƒé™æ—¶çš„æƒ…å†µã€‚æ¯”å¦‚æˆ‘ä»¬è®¾ç½® umask ä¸º 026ï¼Œé‚£ä¹ˆåˆ›å»ºçš„æ–‡ä»¶å’Œç›®å½•çš„æƒé™å°±æ˜¯ç”±å®ƒå†³å®šçš„ã€‚\nå¦‚æœä¸€ä¸ªç›®å½•è¢«è®¾ç½®äº† default ACLï¼Œé‚£ä¹ˆå°†ä¼šç”±æ–‡ä»¶åˆ›å»ºå‡½æ•°çš„ mode å‚æ•°å’Œç›®å½•çš„ default ACL å…±é€šå†³å®šæ–°æ–‡ä»¶çš„ ACL æƒé™ï¼Œæ­¤æ—¶ umask è¢«å¿½ç•¥ã€‚è¿˜ä»¥ umask 026 ä¸ºä¾‹ï¼Œæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç›®å½• dir2 å¹¶è®¾ç½® default ACL æƒé™ï¼š\n$ setfacl -m d:u:tester:rwx dir2 $ getfacl dir2 # file: dir2 # owner: nick # group: nick user::rwx group::r-x other::--x default:user::rwx default:user:tester:rwx default:group::rwx defaultğŸ˜·:rwx default:other::r-x ç„¶ååœ¨ dir2 ç›®å½•ä¸­åˆ›å»ºæ–‡ä»¶ testfileï¼š\n$ dir2 touch testfile $ dir2 ll testfile -rw-rw-r--+ 1 nick nick 0 Mar 2 21:26 testfile è¿™æ¬¡ testfile çš„æƒé™å·²ç»ä¸å— umask çš„å½±å“äº†ï¼\nACL ACLçš„å…¨ç§°æ˜¯ Access Control List (è®¿é—®æ§åˆ¶åˆ—è¡¨) ï¼Œä¸€ä¸ªé’ˆå¯¹æ–‡ä»¶/ç›®å½•çš„è®¿é—®æ§åˆ¶åˆ—è¡¨ã€‚å®ƒåœ¨UGOæƒé™ç®¡ç†çš„åŸºç¡€ä¸Šä¸ºæ–‡ä»¶ç³»ç»Ÿæä¾›ä¸€ä¸ªé¢å¤–çš„ã€æ›´çµæ´»çš„æƒé™ç®¡ç†æœºåˆ¶ã€‚å®ƒè¢«è®¾è®¡ä¸ºUNIXæ–‡ä»¶æƒé™ç®¡ç†çš„ä¸€ä¸ªè¡¥å……ã€‚ACLå…è®¸ä½ ç»™ä»»ä½•ç‰¹å®šçš„ç”¨æˆ·æˆ–ç”¨æˆ·ç»„è®¾ç½®ä»»ä½•æ–‡ä»¶/ç›®å½•çš„è®¿é—®æƒé™ã€‚\nACLéœ€è¦Linuxå†…æ ¸å’Œæ–‡ä»¶ç³»ç»Ÿçš„é…åˆæ‰èƒ½å·¥ä½œï¼Œå¤§å¤šæ•°Linuxå‘è¡Œç‰ˆæœ¬é»˜è®¤éƒ½æ˜¯æ”¯æŒçš„ã€‚ä½†æœ€å¥½è¿˜æ˜¯èƒ½å¤Ÿå…ˆæ£€æŸ¥ä¸€ä¸‹ï¼š\n$ sudo tune2fs -l /dev/sda1 | grep \u0026#34;Default mount options:\u0026#34; Default mount options: user_xattr acl è®¾ç½®æƒé™ å¯ä»¥ä½¿ç”¨setfaclå’Œgetfaclå‘½ä»¤æ¥è®¾ç½®æˆ–è§‚å¯Ÿæ–‡ä»¶/ç›®å½•çš„aclæƒé™ã€‚\nå½“å‰ç”¨æˆ·æ˜¯ nickï¼Œå†åˆ›å»ºä¸¤ä¸ªç”¨æˆ· tester å’Œ tester1 ç”¨æ¥è¿›è¡Œæµ‹è¯•ï¼š\n$ sudo adduser tester åˆ›å»ºæ–‡ä»¶ aclfileï¼Œæ£€æŸ¥å…¶é»˜è®¤çš„æƒé™ä¿¡æ¯ï¼š\n$ touch aclfile $ ll aclfile -rw-rw-r-- 1 nick nick 0 Mar 2 21:40 aclfile $ getfacl aclfile # file: aclfile # owner: nick # group: nick user::rw- group::rw- other::r-- æŠŠç”¨æˆ·åˆ‡æ¢ä¸º testerï¼Œå‘ç°æ²¡æœ‰å†™æ–‡ä»¶çš„æƒé™ï¼š\n$ echo \u0026#34;hello\u0026#34; \u0026gt;\u0026gt; aclfile bash: aclfile: Permission denied è¿™æ˜¯å› ä¸º other æ²¡æœ‰å†™ aclfile æ–‡ä»¶çš„æƒé™ã€‚\nä¸‹é¢æˆ‘ä»¬ä¸º tester ç”¨æˆ·èµ‹äºˆè¯»å†™ aclfile æ–‡ä»¶çš„æƒé™ï¼š\n$ setfacl -m u:tester:rw aclfile ä¿®æ”¹æˆåŠŸåå†æ¬¡ä»¥ tester ç”¨æˆ·çš„èº«ä»½å‘ aclfile æ–‡ä»¶å†™å…¥æ•°æ®ï¼Œè¿™æ¬¡å·²ç»å¯ä»¥æ­£å¸¸å†™å…¥äº†ã€‚æŸ¥çœ‹ aclfile æ–‡ä»¶çš„æƒé™ï¼š\n$ getfacl aclfile # file: aclfile # owner: nick # group: nick user::rw- user:tester:rw- group::rw- mask::rw- other::r-- å¤šå‡ºäº†ä¸€äº›ä¿¡æ¯ï¼Œå…¶ä¸­æ¯”è¾ƒé‡è¦çš„æ˜¯ user:tester:rw-ï¼Œå°±æ˜¯å®ƒè®©ç”¨æˆ· tester å…·æœ‰äº†è¯»å†™ aclfile çš„æƒé™ã€‚\né’ˆå¯¹ç”¨æˆ·ç»„æ¥è®¾ç½®æƒé™å’Œé’ˆå¯¹ç”¨æˆ·çš„è®¾ç½®å‡ ä¹ä¸€æ ·ï¼Œåªæ˜¯æŠŠå°å†™çš„ u æ¢æˆå°å†™çš„ g å°±è¡Œäº†ã€‚\nç»§æ‰¿æƒé™ acl èƒ½è®©åˆ›å»ºçš„å­æ–‡ä»¶æˆ–è€…å­æ–‡ä»¶å¤¹ç»§æ‰¿çˆ¶æ–‡ä»¶å¤¹çš„æƒé™è®¾ç½®ï¼\n$ mkdir mydir $ ll -d mydir drwxrwxr-x 2 nick nick 4.0K Mar 2 21:09 mydir $ setfacl -m d:u:tester:rwx mydir $ getfacl mydir # file: mydir # owner: nick # group: nick user::rwx group::rwx other::r-x default:user::rwx default:user:tester:rwx default:group::rwx defaultğŸ˜·:rwx default:other::r-x è¿™æ¬¡å¤šå‡ºäº†ä¸€äº›ä»¥ default å¼€å¤´çš„è¡Œï¼Œè¿™äº› default æƒé™ä¿¡æ¯åªèƒ½åœ¨ç›®å½•ä¸Šè®¾ç½®ï¼Œç„¶åä¼šè¢«ç›®å½•ä¸­åˆ›å»ºçš„æ–‡ä»¶å’Œç›®å½•ç»§æ‰¿ã€‚ä¸‹é¢åˆ†åˆ«åœ¨ mydir ç›®å½•ä¸‹åˆ›å»ºæ–‡ä»¶ testfile å’Œç›®å½• testdirï¼Œå¹¶æŸ¥çœ‹å®ƒä»¬çš„ acl æƒé™ï¼š\n$ touch testfile $ mkdir testdir $ getfacl testfile # file: testfile # owner: nick # group: nick user::rw- user:tester:rwx group::rwx mask::rw- other::r-- ä»ä¸Šé¢å¯ä»¥çœ‹åˆ°æ–‡ä»¶ testfile ç»§æ‰¿äº†çˆ¶ç›®å½•çš„ acl æƒé™ï¼Œå› æ­¤ç”¨æˆ· tester å¯¹å®ƒæœ‰è¯»å†™æƒé™ã€‚ä¸‹é¢å†çœ‹çœ‹ testdir ç›®å½•ï¼š\n$ getfacl testdir # file: testdir # owner: nick # group: nick user::rwx user:nick:rwx group::rwx mask::rwx other::r-x default:user::rwx default:user:tester:rwx default:group::rwx defaultğŸ˜·:rwx default:other::r-x ä»å›¾ä¸­å¯ä»¥çœ‹å‡ºï¼Œtestdir ç›®å½•ä¸ä»…ç»§æ‰¿äº† tester çš„è®¿é—®æƒé™ï¼Œè¿˜ç»§æ‰¿äº†çˆ¶ç›®å½•ä¸Šçš„ default æƒé™ã€‚ä¹Ÿå°±æ˜¯è¯´æˆ‘ä»¬é€šè¿‡è¿™ç§æ–¹å¼è®¾ç½®åœ¨ç›®å½•ä¸Šçš„æƒé™å¯ä»¥è¢«å­ç›®å½•é€’å½’çš„ç»§æ‰¿ä¸‹å»ã€‚\næ“ä½œæƒé™ æ›´æ”¹ -m é€‰é¡¹å…¶å®æ˜¯åœ¨æ›´æ”¹æ–‡ä»¶å’Œç›®å½•çš„ ACL æƒé™\n å½“ä¸€ä¸ªç”¨æˆ·æˆ–ç»„çš„ ACL æƒé™ä¸å­˜åœ¨æ—¶ï¼Œ-m é€‰é¡¹æ‰§è¡Œçš„æ˜¯æ·»åŠ æ“ä½œï¼Œ å¦‚æœä¸€ä¸ªç”¨æˆ·æˆ–ç»„çš„ ACL æƒé™å·²ç»å­˜åœ¨æ—¶ï¼Œ-m é€‰é¡¹æ‰§è¡Œçš„æ˜¯æ›´æ–°æ“ä½œã€‚  $ setfacl -m u:tester:rwx aclfile $ setfacl -m u:tester:rw aclfile -set é€‰é¡¹ä¼šå…ˆæ¸…é™¤æ‰åŸæœ‰çš„ ACL æƒé™ï¼Œç„¶åæ·»åŠ æ–°çš„æƒé™\n$ setfacl --set u::rw,u:tester:rwx,g::r,o::- aclfile $ getfacl aclfile # file: aclfile # owner: nick # group: nick user::rw- user:tester:rwx group::r-- mask::rwx other::--- éœ€è¦æ³¨æ„çš„æ˜¯ä¸€å®šè¦åŒ…å« UGO æƒé™çš„è®¾ç½®ï¼Œä¸èƒ½è±¡ -m ä¸€æ ·åªåŒ…å« ACL æƒé™ã€‚o::- æ˜¯å¦ä¸€ä¸ªéœ€è¦æ³¨æ„çš„åœ°æ–¹ï¼Œå…¶å®Œæ•´çš„å†™æ³•æ˜¯ other::-ï¼Œå°±åƒ u::rw çš„å®Œæ•´å†™æ³•æ˜¯ user::rw- ä¸€æ ·ã€‚é€šå¸¸æˆ‘ä»¬å¯ä»¥æŠŠ \u0026ldquo;-\u0026rdquo; çœç•¥ï¼Œä½†æ˜¯å½“æƒé™ä½åªåŒ…å« \u0026ldquo;-\u0026rdquo; æ—¶ï¼Œå°±è‡³å°‘è¦ä¿ç•™ä¸€ä¸ªã€‚å¦‚æœå†™æˆäº†o::ï¼Œå°±ä¼šæŠ¥é”™ã€‚\nåˆ é™¤ é€šè¿‡ setfacl å‘½ä»¤çš„ -x é€‰é¡¹æ¥åˆ é™¤æŒ‡å®šç”¨æˆ·æˆ–ç»„çš„ ACL æƒé™ï¼Œè¿˜å¯ä»¥é€šè¿‡ -b é€‰é¡¹æ¥æ¸…é™¤æ–‡ä»¶å’Œç›®å½•ä¸Šæ‰€æœ‰çš„ ACL æƒé™ã€‚\nä¸‹é¢é€šè¿‡ -x é€‰é¡¹åˆ é™¤ user tester çš„ ACL æƒé™ï¼Œæ³¨æ„å‘½ä»¤ä¸­åªæŒ‡å®šäº†ç”¨æˆ·çš„åç§°è€Œæ²¡æœ‰æŒ‡å®šæƒé™ä¿¡æ¯ï¼š\n$ getfacl aclfile # file: aclfile # owner: nick # group: nick user::rw- user:tester:rwx group::rw- mask::rwx other::r-- $ setfacl -x u:tester aclfile $ getfacl aclfile # file: aclfile # owner: nick # group: nick user::rw- group::rw- mask::rw- other::r-- ä¸‹é¢é€šè¿‡ -b é€‰é¡¹ä¸€æ¬¡æ€§åˆ é™¤ aclfile ä¸Šæ‰€æœ‰çš„ ACL æƒé™ï¼š\n$ setfacl -b aclfile getfacl aclfile # file: aclfile # owner: nick # group: nick user::rw- group::rw- other::r-- å¤‡ä»½å’Œæ¢å¤ å¸¸è§çš„æ–‡ä»¶æ“ä½œå‘½ä»¤ cp å’Œ mv ç­‰éƒ½æ”¯æŒ ACL æƒé™ï¼Œåªæ˜¯ cp å‘½ä»¤éœ€è¦åŠ ä¸Š -p å‚æ•°ã€‚ä½†æ˜¯ tar ç­‰å¸¸è§çš„å¤‡ä»½å·¥å…·ä¸ä¼šä¿ç•™ç›®å½•å’Œæ–‡ä»¶çš„ ACL æƒé™ä¿¡æ¯ã€‚å¦‚æœå¸Œæœ›å¤‡ä»½å’Œæ¢å¤å¸¦æœ‰ ACL æƒé™çš„æ–‡ä»¶å’Œç›®å½•ï¼Œå¯ä»¥å…ˆæŠŠ ACL æƒé™ä¿¡æ¯å¤‡ä»½åˆ°ä¸€ä¸ªæ–‡ä»¶é‡Œï¼Œç„¶åå†ç”¨ -restore é€‰é¡¹æ¥æ¢å¤è¿™äº›ä¿¡æ¯ã€‚\nä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤å¯¼å‡º acldir ç›®å½•çš„ ACL æƒé™ä¿¡æ¯å¹¶ä¿å­˜åˆ°æ–‡ä»¶ acldir.acl æ–‡ä»¶ä¸­ï¼š\n$ getfacl -R acldir \u0026gt; acldir.acl é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æŠŠå®ƒä»¬çš„ ACL æƒé™éƒ½æ¢å¤å›æ¥ï¼š\n$ setfacl --restore acldir.acl å®ç°åŸç† ACL æ¡ç›®\nè¿›ç¨‹æƒé™ ugo æƒé™ä¿¡æ¯æ˜¯æ–‡ä»¶çš„å±æ€§ï¼Œå®ƒæŒ‡æ˜äº†ç”¨æˆ·ä¸æ–‡ä»¶ä¹‹é—´çš„å…³ç³»ã€‚ä½†æ˜¯çœŸæ­£æ“ä½œæ–‡ä»¶çš„å´æ˜¯è¿›ç¨‹ï¼Œä¹Ÿå°±æ˜¯è¯´ç”¨æˆ·æ‰€æ‹¥æœ‰çš„æ–‡ä»¶è®¿é—®æƒé™æ˜¯é€šè¿‡è¿›ç¨‹æ¥ä½“ç°çš„ã€‚\næ¦‚å¿µï¼š\n  ç”¨æˆ· å¯¹äºæ”¯æŒå¤šä»»åŠ¡çš„ Linux ç³»ç»Ÿæ¥è¯´ï¼Œç”¨æˆ·å°±æ˜¯è·å–èµ„æºçš„å‡­è¯ã€‚\n  æƒé™ æƒé™ç”¨æ¥æ§åˆ¶ç”¨æˆ·å¯¹è®¡ç®—æœºèµ„æº(CPUã€å†…å­˜ã€æ–‡ä»¶ç­‰)çš„è®¿é—®ï¼Œä¸€èˆ¬ä¼šåˆ†ä¸ºè®¤è¯å’Œæˆæƒä¸¤æ­¥ã€‚æ¯”å¦‚ç”¨æˆ·å…ˆç»è¿‡è®¤è¯æœºåˆ¶(authentication)ç™»å½•ç³»ç»Ÿï¼Œç„¶åç”±æˆæƒç³»ç»Ÿ(authorization)å¯¹ç”¨æˆ·çš„æ“ä½œè¿›è¡Œæˆæƒã€‚\n  è¿›ç¨‹ è¿›ç¨‹æ˜¯ä»»ä½•æ”¯æŒå¤šé“ç¨‹åºè®¾è®¡çš„æ“ä½œç³»ç»Ÿä¸­çš„åŸºæœ¬æ¦‚å¿µã€‚é€šå¸¸æŠŠè¿›ç¨‹å®šä¹‰ä¸ºç¨‹åºæ‰§è¡Œæ—¶çš„ä¸€ä¸ªå®ä¾‹ã€‚å› æ­¤ï¼Œå¦‚æœæœ‰ 10 ä¸ªç”¨æˆ·åŒæ—¶è¿è¡Œ viï¼Œå°±ä¼šæœ‰ 10 ä¸ªç‹¬ç«‹çš„è¿›ç¨‹(å°½ç®¡å®ƒä»¬å…±äº«åŒä¸€ä»½å¯æ‰§è¡Œä»£ç )ã€‚\nå®é™…ä¸Šï¼Œæ˜¯è¿›ç¨‹åœ¨å¸®åŠ©æˆ‘ä»¬å®Œæˆå„ç§ä»»åŠ¡ã€‚è¿›ç¨‹å°±æ˜¯ç”¨æˆ·è®¿é—®è®¡ç®—æœºèµ„æºçš„ä»£ç†ï¼Œç”¨æˆ·æ‰§è¡Œçš„æ“ä½œå…¶å®æ˜¯å¸¦æœ‰ç”¨æˆ·èº«ä»½ä¿¡æ¯çš„è¿›ç¨‹æ‰§è¡Œçš„æ“ä½œã€‚\n  è¿›ç¨‹æƒé™ æ—¢ç„¶æ˜¯è¿›ç¨‹åœ¨ä¸ºç”¨æˆ·æ‰§è¡Œå…·ä½“çš„æ“ä½œï¼Œé‚£ä¹ˆå½“ç”¨æˆ·è¦è®¿é—®ç³»ç»Ÿçš„èµ„æºæ—¶å°±å¿…é¡»ç»™è¿›ç¨‹èµ‹äºˆæƒé™ã€‚ä¹Ÿå°±æ˜¯è¯´è¿›ç¨‹å¿…é¡»æºå¸¦å‘èµ·è¿™ä¸ªè¿›ç¨‹çš„ç”¨æˆ·çš„èº«ä»½ä¿¡æ¯æ‰èƒ½å¤Ÿè¿›è¡Œåˆæ³•çš„æ“ä½œã€‚\n  ç™»é™†è¿‡ç¨‹ åœ¨ Linux ç³»ç»Ÿå¯åŠ¨åï¼Œinit ç³»ç»Ÿä¼š fork å‡ºå­è¿›ç¨‹æ‰§è¡Œ /sbin/getty ç¨‹åºç­‰å¾…ç”¨æˆ·ç™»å½•ã€‚å½“ç”¨æˆ·è¿›è¡Œç™»å½•æ“ä½œæ—¶ï¼Œè¯¥å­è¿›ç¨‹é€šè¿‡ exec å‡½æ•°å¼€å§‹æ‰§è¡Œ /bin/login ç¨‹åº(æ­¤æ—¶è¯¥è¿›ç¨‹å·²ç»å˜æˆäº† login è¿›ç¨‹)ã€‚ç”± login è¿›ç¨‹éªŒè¯æˆ‘ä»¬çš„ç”¨æˆ·åå’Œå¯†ç å¹¶æŸ¥è¯¢ /etc/passwd å’Œ /etc/shadow ç¡®å®šå…¶åˆæ³•æ€§ã€‚å¦‚æœæ˜¯åˆæ³•çš„ç”¨æˆ·ï¼Œè¯¥è¿›ç¨‹å†æ¬¡é€šè¿‡ exec å‡½æ•°æ‰§è¡Œç”¨æˆ·çš„é»˜è®¤ shell ç¨‹åºï¼Œæ­¤æ—¶çš„ login è¿›ç¨‹å°±å˜æˆäº† shell è¿›ç¨‹(ç¬”è€…æœºå™¨ä¸Šæ˜¯ bash è¿›ç¨‹)ã€‚å¹¶ä¸”**è¯¥ shell è¿›ç¨‹çš„æœ‰æ•ˆèº«ä»½è¢«è®¾ç½®æˆä¸ºè¯¥ç”¨æˆ·çš„èº«ä»½ï¼Œä¹‹å fork æ­¤ shell è¿›ç¨‹çš„å­è¿›ç¨‹éƒ½ä¼šç»§æ‰¿è¯¥æœ‰æ•ˆèº«ä»½ã€‚**æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹å›¾æ¥ç†è§£ç”¨æˆ·ä» tty ç™»å½•ç³»ç»Ÿçš„è¿‡ç¨‹ï¼š\nç®€å•ç‚¹è¯´å°±æ˜¯ï¼šç”¨æˆ·ç™»å½•åï¼Œ shell è¿›ç¨‹çš„æœ‰æ•ˆç”¨æˆ·å°±æ˜¯è¯¥ç”¨æˆ·ã€‚\nuser id é€šè¿‡ cat /proc/\u0026lt;PID\u0026gt;/status å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥æŸ¥çœ‹åˆ°è¿›ç¨‹æ‰€å±çš„ç”¨æˆ·å’Œç»„ç›¸å…³çš„ä¿¡æ¯ï¼š\nUid:\t1000\t1000\t1000\t1000 Gid:\t1000\t1000\t1000\t1000 é€šè¿‡ man proc å¯ä»¥æŸ¥è¯¢åˆ°ç¬¬ä¸€è¡Œçš„å››ä¸ªæ•°å­—åˆ†åˆ«æ˜¯ real user id, effective user id, saved set user id å’Œ filesystem UIDï¼Œç¬¬äºŒè¡Œåˆ™æ˜¯å¯¹åº”çš„ç»„ IDã€‚\nreal user id\nreal user id æ˜¯æ‰§è¡Œè¿›ç¨‹è€…çš„ user idï¼Œä¸€èˆ¬æƒ…å†µä¸‹å°±æ˜¯ç”¨æˆ·ç™»å½•æ—¶çš„ user idã€‚å­è¿›ç¨‹çš„ real user id ä»çˆ¶è¿›ç»§æ‰¿ã€‚é€šå¸¸è¿™ä¸ªæ˜¯ä¸æ›´æ”¹çš„ï¼Œä¹Ÿä¸éœ€è¦æ›´æ”¹ã€‚æ¯”å¦‚æˆ‘ä»¥ç”¨æˆ· nick ç™»å½• Linux ç³»ç»Ÿï¼Œæˆ‘æ¥ä¸‹æ¥è¿è¡Œçš„æ‰€æœ‰å‘½ä»¤çš„è¿›ç¨‹çš„ real user id éƒ½æ˜¯ nick çš„ user idã€‚\neffective user id\nå¦‚æœè¦åˆ¤æ–­ä¸€ä¸ªè¿›ç¨‹æ˜¯å¦å¯¹æŸä¸ªæ–‡ä»¶æœ‰æ“ä½œæƒé™ï¼ŒéªŒè¯çš„æ˜¯è¿›ç¨‹çš„ effective user idï¼Œè€Œä¸æ˜¯ real user idã€‚\né€šå¸¸ä¸å»ºè®®ç›´æ¥ä½¿ç”¨ root ç”¨æˆ·è¿›è¡Œæ“ä½œçš„ï¼Œä½†æ˜¯åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œç¨‹åºå¯èƒ½éœ€è¦ç‰¹æ®Šçš„æƒé™ã€‚æ¯”å¦‚ passwd ç¨‹åºéœ€è¦ root æƒé™æ‰èƒ½å¤Ÿä¸ºæ™®é€šç”¨æˆ·ä¿®æ”¹å¯†ç ï¼Œä¸€äº› services ç¨‹åºçš„æ“ä½œä¹Ÿç»å¸¸éœ€è¦ç‰¹æ®Šçš„æƒé™ã€‚ä¸ºæ­¤ï¼ŒLinux ä¸­è®¾è®¡äº†ä¸€äº›ç‰¹æ®Šçš„æƒé™ï¼ˆSUID/SGID/SBITï¼‰ã€‚è¿™é‡Œæˆ‘ä»¬ä»¥ passwd ç¨‹åºä¸ºä¾‹ï¼Œä¸ºäºŒè¿›åˆ¶å¯æ‰§è¡Œæ–‡ä»¶ /usr/bin/passwd è®¾ç½® set-user-id bit=ONï¼Œè¿™ä¸ªå¯æ‰§è¡Œæ–‡ä»¶è¢«ç”¨ exec å¯åŠ¨ä¹‹åçš„è¿›ç¨‹çš„ effective user id å°±æ˜¯è¿™ä¸ªå¯æ‰§è¡Œæ–‡ä»¶çš„ owner idï¼Œè€Œå¹¶éçˆ¶è¿›ç¨‹çš„ real user idã€‚å¦‚æœ set-user-id bit=OFF çš„æ—¶å€™ï¼Œè¿™ä¸ªè¢« exec èµ·æ¥çš„è¿›ç¨‹çš„ effective user id åº”è¯¥æ˜¯ç­‰äºè¿›ç¨‹çš„ user id çš„ã€‚\nå…¶å®æˆ‘ä»¬é€šè¿‡ ps aux æŸ¥çœ‹çš„ç»“æœä¸­ï¼Œç¬¬ä¸€åˆ—æ˜¾ç¤ºçš„å°±æ˜¯è¿›ç¨‹çš„ effective userã€‚\nsaved set user id\nsaved set user id ç›¸å½“äºæ˜¯ä¸€ä¸ª bufferï¼Œåœ¨ exec å‡½æ•°å¯åŠ¨ä¹‹åï¼Œå®ƒä¼šæ‹·è´ effective user id ä½çš„ä¿¡æ¯è¦†ç›–è‡ªå·±ã€‚\nå¯¹äºé root ç”¨æˆ·æ¥è¯´ï¼Œå¯ä»¥åœ¨æœªæ¥ä½¿ç”¨ setuid() å‡½æ•°å°† effective user id è®¾ç½®æˆä¸º real user id æˆ– saved set user id ä¸­çš„ä»»ä½•ä¸€ä¸ªã€‚ä½†æ˜¯ä¸å…è®¸é root ç”¨æˆ·ç”¨ setuid() å‡½æ•°æŠŠ effective user id è®¾ç½®æˆä¸ºä»»ä½•ç¬¬ä¸‰ä¸ª user idã€‚\nå¯¹äº root ç”¨æˆ·æ¥è¯´ï¼Œè°ƒç”¨ setuid() çš„æ—¶å€™ï¼Œå°†ä¼šè®¾ç½®æ‰€æœ‰çš„è¿™ä¸‰ä¸ª user idã€‚\nå¤–éƒ¨å‘½ä»¤ åœ¨ shell ä¸­æ‰§è¡Œçš„å‘½ä»¤åˆ†ä¸ºå†…éƒ¨å‘½ä»¤å’Œå¤–éƒ¨å‘½ä»¤ä¸¤ç§ã€‚\n å†…éƒ¨å‘½ä»¤ï¼šå†…å»ºçš„ï¼Œç›¸å½“äº shell çš„å­å‡½æ•° å¤–éƒ¨å‘½ä»¤ï¼šåœ¨æ–‡ä»¶ç³»ç»Ÿçš„æŸä¸ªè·¯å¾„ä¸‹çš„ä¸€ä¸ªå¯æ‰§è¡Œæ–‡ä»¶  å¤–éƒ¨å‘½ä»¤çš„æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š\n Shell é€šè¿‡ fork() å‡½æ•°å»ºç«‹ä¸€ä¸ªæ–°çš„å­è¿›ç¨‹ï¼Œæ–°çš„å­è¿›ç¨‹ä¸ºå½“å‰ shell è¿›ç¨‹çš„ä¸€ä¸ªå‰¯æœ¬ã€‚ åœ¨æ–°çš„è¿›ç¨‹é‡Œï¼Œä» PATH å˜é‡æ‰€åˆ—å‡ºçš„ç›®å½•ä¸­å¯»æ‰¾æŒ‡å®šçš„å‘½ä»¤ç¨‹åºã€‚å½“å‘½ä»¤åç§°åŒ…å«æœ‰æ–œæ (/)ç¬¦å·æ—¶ï¼Œå°†ç•¥è¿‡è·¯å¾„æŸ¥æ‰¾æ­¥éª¤ã€‚ åœ¨æ–°çš„è¿›ç¨‹é‡Œï¼Œé€šè¿‡ exec ç³»åˆ—å‡½æ•°ï¼Œä»¥æ‰€æ‰¾åˆ°çš„æ–°ç¨‹åºæ›¿æ¢ shell ç¨‹åºå¹¶æ‰§è¡Œã€‚ å­è¿›ç¨‹é€€å‡ºåï¼Œæœ€åˆçš„ shell ä¼šæ¥ç€ä»ç»ˆç«¯è¯»å–å¹¶æ‰§è¡Œä¸‹ä¸€æ¡å‘½ä»¤ã€‚  æˆ‘ä»¬é€šè¿‡ä¸‹é¢çš„ä¾‹å­æ¥ç†è§£åœ¨ shell ä¸­æ‰§è¡Œå¤–éƒ¨å‘½ä»¤çš„è¿‡ç¨‹ï¼Œä¾‹å­å¾ˆç®€å•å°±æ˜¯é€šè¿‡ cat å‘½ä»¤æŸ¥çœ‹ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ test.logï¼š\n$ cat test.log æˆ‘ä»¬å…ˆæ¥æ£€æŸ¥ä¸€ä¸‹å½“å‰ç”¨æˆ·ä»¥åŠç›¸å…³æ–‡ä»¶çš„æƒé™ï¼š\n$ uid=1000(nick) gid=1000(nick) groups=1000(nick),4(adm),24(cdrom),27(sudo),30(dip),46(plugdev),120(lpadmin),132(lxd),133(sambashare) $ ll /bin/cat -rwxr-xr-x 1 root root 43K Sep 5 2019 /bin/cat $ ll test.log -rw-rw-r-- 1 nick nick 0 Mar 2 23:25 test.log å½“å‰ç”¨æˆ· nick çš„ real user id ä¸º 1000ï¼Œ/bin/cat æ–‡ä»¶çš„æ‰€æœ‰è€…ä¸º rootï¼Œä½†æ˜¯æ‰€æœ‰äººéƒ½æœ‰æ‰§è¡Œæƒé™ï¼Œtest.log æ–‡ä»¶çš„æ‰€æœ‰è€…ä¸º nickã€‚æˆ‘ä»¬ç»“åˆä¸‹å›¾æ¥ä»‹ç» cat test.log å‘½ä»¤çš„æ‰§è¡Œè¿‡ç¨‹ï¼š\nå½“æˆ‘ä»¬åœ¨ shell ä¸­æ‰§è¡Œä¸€ä¸ªå¤–éƒ¨ç¨‹åºçš„æ—¶å€™ï¼Œé»˜è®¤æƒ…å†µä¸‹è¿›ç¨‹çš„ effective user ID ç­‰äº real user IDï¼Œè¿›ç¨‹çš„ effective group ID ç­‰äº real group ID(æ¥ä¸‹æ¥çš„ä»‹ç»ä¸­çœç•¥ group ID)ã€‚å½“æˆ‘ä»¬ä»¥ç”¨æˆ· nick ç™»å½•ç³»ç»Ÿï¼Œå¹¶åœ¨ bash ä¸­é”®å…¥ cat test.log å‘½ä»¤å¹¶å›è½¦åã€‚Bash å…ˆé€šè¿‡ fork() å»ºç«‹ä¸€ä¸ªæ–°çš„å­è¿›ç¨‹ï¼Œè¿™ä¸ªæ–°çš„å­è¿›ç¨‹æ˜¯å½“å‰ bash è¿›ç¨‹çš„ä¸€ä¸ªå‰¯æœ¬ã€‚æ–°çš„è¿›ç¨‹åœ¨ PATH å˜é‡æŒ‡å®šçš„è·¯å¾„ä¸­æœç´¢ cat ç¨‹åºï¼Œæ‰¾åˆ° /bin/cat ç¨‹åºåæ£€æŸ¥å…¶æƒé™ã€‚/bin/cat ç¨‹åºçš„æ‰€æœ‰è€…ä¸º rootï¼Œä½†æ˜¯å…¶ä»–äººå…·æœ‰è¯»å’Œæ‰§è¡Œçš„æƒé™ï¼Œæ‰€ä»¥æ–°è¿›ç¨‹å¯ä»¥é€šè¿‡ exec å‡½æ•°ç”¨ cat ç¨‹åºçš„ä»£ç æ®µæ›¿æ¢å½“å‰è¿›ç¨‹ä¸­çš„ä»£ç æ®µ(æŠŠ /bin/cat ç¨‹åºåŠ è½½åˆ°äº†å†…å­˜ä¸­ï¼Œæ­¤æ—¶çš„è¿›ç¨‹å·²ç»å˜æˆäº† cat è¿›ç¨‹ï¼Œcat è¿›ç¨‹ä¼šä» _start å‡½æ•°å¼€å§‹æ‰§è¡Œ)ã€‚ç”±äº cat è¿›ç¨‹æ˜¯ç”±ç”¨æˆ· nick å¯åŠ¨çš„ï¼Œæ‰€ä»¥ cat è¿›ç¨‹çš„ effective user ID æ˜¯ 1000(nick)ã€‚åŒæ—¶ cat è¿›ç¨‹çš„ effective user ID å’Œ test.log æ–‡ä»¶çš„ owner ID ç›¸åŒ(éƒ½æ˜¯ 1000)ï¼Œæ‰€ä»¥ cat è¿›ç¨‹æ‹¥æœ‰å¯¹æ­¤æ–‡ä»¶çš„ rw- æƒé™ï¼Œé‚£ä¹ˆé¡ºç†æˆç« åœ°å°±å¯ä»¥è¯»å†™ test.log æ–‡ä»¶çš„å†…å®¹äº†ã€‚\nè„šæœ¬ åœ¨ shell ä¸­æ‰§è¡Œè„šæœ¬çš„æ–¹å¼å’Œæ‰§è¡Œå¤–éƒ¨å‘½ä»¤çš„æ–¹å¼å·®ä¸å¤šï¼Œæ¯”å¦‚æˆ‘ä»¬è¦æ‰§è¡Œä¸‹é¢çš„è„šæœ¬ï¼š\n$ /bin/bash ./test.sh è¿™æ—¶åŒæ ·ä¼š fork å‡ºä¸€ä¸ªå­è¿›ç¨‹ã€‚åªä¸è¿‡è„šæœ¬ä¸ç¨‹åºç›¸æ¯”æ²¡æœ‰ä»£ç æ®µï¼Œä¹Ÿæ²¡æœ‰ _start å‡½æ•°ï¼Œæ­¤æ—¶ exec å‡½æ•°å°±ä¼šæ‰§è¡Œå¦å¤–ä¸€å¥—æœºåˆ¶ã€‚æ¯”å¦‚æˆ‘ä»¬åœ¨ test.sh æ–‡ä»¶çš„ç¬¬ä¸€è¡Œé€šè¿‡ #!/bin/bash æŒ‡å®šäº†ä¸€ä¸ªè§£é‡Šå™¨ï¼Œé‚£ä¹ˆè§£é‡Šå™¨ç¨‹åºçš„ä»£ç æ®µä¼šç”¨æ¥æ›¿æ¢å½“å‰è¿›ç¨‹çš„ä»£ç æ®µï¼Œå¹¶ä¸”ä»è§£é‡Šå™¨çš„ _start å‡½æ•°å¼€å§‹æ‰§è¡Œï¼Œè€Œè¿™ä¸ªæ–‡æœ¬æ–‡ä»¶è¢«å½“ä½œå‘½ä»¤è¡Œå‚æ•°ä¼ ç»™è§£é‡Šå™¨ã€‚æ‰€ä»¥ä¸Šé¢çš„å‘½ä»¤æ‰§è¡Œè¿‡ç¨‹ä¸ºï¼šBash è¿›ç¨‹ fork/exec ä¸€ä¸ªå­ bash è¿›ç¨‹ç”¨äºæ‰§è¡Œè„šæœ¬ï¼Œå­ bash è¿›ç¨‹ç»§æ‰¿çˆ¶è¿›ç¨‹çš„ç¯å¢ƒå˜é‡ã€ç”¨æˆ·ä¿¡æ¯ç­‰å†…å®¹ï¼Œçˆ¶è¿›ç¨‹ç­‰å¾…å­ bash è¿›ç¨‹ç»ˆæ­¢ã€‚\n æƒé™ cgroub sudo fdisk è‡ªåŠ¨æ›´æ–° LVM è¿›ç¨‹  Capabilities ä¸ºäº†æ‰§è¡Œæƒé™æ£€æŸ¥ï¼ŒLinux åŒºåˆ†ä¸¤ç±»è¿›ç¨‹ï¼šç‰¹æƒè¿›ç¨‹(å…¶æœ‰æ•ˆç”¨æˆ·æ ‡è¯†ä¸º 0ï¼Œä¹Ÿå°±æ˜¯è¶…çº§ç”¨æˆ· root)å’Œéç‰¹æƒè¿›ç¨‹(å…¶æœ‰æ•ˆç”¨æˆ·æ ‡è¯†ä¸ºéé›¶)ã€‚ ç‰¹æƒè¿›ç¨‹ç»•è¿‡æ‰€æœ‰å†…æ ¸æƒé™æ£€æŸ¥ï¼Œè€Œéç‰¹æƒè¿›ç¨‹åˆ™æ ¹æ®è¿›ç¨‹å‡­è¯(é€šå¸¸ä¸ºæœ‰æ•ˆ UIDï¼Œæœ‰æ•ˆ GID å’Œè¡¥å……ç»„åˆ—è¡¨)è¿›è¡Œå®Œå…¨æƒé™æ£€æŸ¥ã€‚\nä»¥å¸¸ç”¨çš„ passwd å‘½ä»¤ä¸ºä¾‹ï¼Œä¿®æ”¹ç”¨æˆ·å¯†ç éœ€è¦å…·æœ‰ root æƒé™ï¼Œè€Œæ™®é€šç”¨æˆ·æ˜¯æ²¡æœ‰è¿™ä¸ªæƒé™çš„ã€‚ä½†æ˜¯å®é™…ä¸Šæ™®é€šç”¨æˆ·åˆå¯ä»¥ä¿®æ”¹è‡ªå·±çš„å¯†ç ï¼Œè¿™æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿåœ¨ Linux çš„æƒé™æ§åˆ¶æœºåˆ¶ä¸­ï¼Œæœ‰ä¸€ç±»æ¯”è¾ƒç‰¹æ®Šçš„æƒé™è®¾ç½®ï¼Œæ¯”å¦‚ SUID(Set User ID on execution)ã€‚å› ä¸ºç¨‹åºæ–‡ä»¶ /bin/passwd è¢«è®¾ç½®äº† SUID æ ‡è¯†ï¼Œæ‰€ä»¥æ™®é€šç”¨æˆ·åœ¨æ‰§è¡Œ passwd å‘½ä»¤æ—¶ï¼Œè¿›ç¨‹æ˜¯ä»¥ passwd çš„æ‰€æœ‰è€…ï¼Œä¹Ÿå°±æ˜¯ root ç”¨æˆ·çš„èº«ä»½è¿è¡Œï¼Œä»è€Œä¿®æ”¹å¯†ç ã€‚\nSUID è™½ç„¶å¯ä»¥è§£å†³é—®é¢˜ï¼Œå´å¸¦æ¥äº†å®‰å…¨éšæ‚£ã€‚å½“è¿è¡Œè®¾ç½®äº† SUID çš„å‘½ä»¤æ—¶ï¼Œé€šå¸¸åªæ˜¯éœ€è¦å¾ˆå°ä¸€éƒ¨åˆ†çš„ç‰¹æƒï¼Œä½†æ˜¯ SUID ç»™äº†å®ƒ root å…·æœ‰çš„å…¨éƒ¨æƒé™ã€‚å› æ­¤ä¸€æ—¦ è¢«è®¾ç½®äº† SUID çš„å‘½ä»¤å‡ºç°æ¼æ´ï¼Œå°±å¾ˆå®¹æ˜“è¢«åˆ©ç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´ SUID æœºåˆ¶åœ¨å¢å¤§äº†ç³»ç»Ÿçš„å®‰å…¨æ”»å‡»é¢ã€‚\nLinux å¼•å…¥äº† capabilities æœºåˆ¶å¯¹ root æƒé™è¿›è¡Œç»†ç²’åº¦çš„æ§åˆ¶ï¼Œå®ç°æŒ‰éœ€æˆæƒï¼Œä»è€Œå‡å°ç³»ç»Ÿçš„å®‰å…¨æ”»å‡»é¢ã€‚\nç®€ä»‹ ä»å†…æ ¸ 2.2 å¼€å§‹ï¼ŒLinux å°†ä¼ ç»Ÿä¸Šä¸è¶…çº§ç”¨æˆ· root å…³è”çš„ç‰¹æƒåˆ’åˆ†ä¸ºä¸åŒçš„å•å…ƒï¼Œç§°ä¸º capabilitesã€‚Capabilites ä½œä¸ºçº¿ç¨‹(Linux å¹¶ä¸çœŸæ­£åŒºåˆ†è¿›ç¨‹å’Œçº¿ç¨‹)çš„å±æ€§å­˜åœ¨ï¼Œæ¯ä¸ªå•å…ƒå¯ä»¥ç‹¬ç«‹å¯ç”¨å’Œç¦ç”¨ã€‚å¦‚æ­¤ä¸€æ¥ï¼Œæƒé™æ£€æŸ¥çš„è¿‡ç¨‹å°±å˜æˆäº†ï¼šåœ¨æ‰§è¡Œç‰¹æƒæ“ä½œæ—¶ï¼Œå¦‚æœè¿›ç¨‹çš„æœ‰æ•ˆèº«ä»½ä¸æ˜¯ rootï¼Œå°±å»æ£€æŸ¥æ˜¯å¦å…·æœ‰è¯¥ç‰¹æƒæ“ä½œæ‰€å¯¹åº”çš„ capabilitesï¼Œå¹¶ä»¥æ­¤å†³å®šæ˜¯å¦å¯ä»¥è¿›è¡Œè¯¥ç‰¹æƒæ“ä½œã€‚æ¯”å¦‚è¦å‘è¿›ç¨‹å‘é€ä¿¡å·(kill())ï¼Œå°±å¾—å…·æœ‰ capability CAP_KILLï¼›å¦‚æœè®¾ç½®ç³»ç»Ÿæ—¶é—´ï¼Œå°±å¾—å…·æœ‰ capability CAP_SYS_TIMEã€‚\nä¸‹é¢æ˜¯ä» capabilities man page ä¸­æ‘˜å–çš„ capabilites åˆ—è¡¨ï¼š\n   capability åç§° æè¿°     CAP_AUDIT_CONTROL å¯ç”¨å’Œç¦ç”¨å†…æ ¸å®¡è®¡ï¼›æ”¹å˜å®¡è®¡è¿‡æ»¤è§„åˆ™ï¼›æ£€ç´¢å®¡è®¡çŠ¶æ€å’Œè¿‡æ»¤è§„åˆ™   CAP_AUDIT_READ å…è®¸é€šè¿‡ multicast netlink å¥—æ¥å­—è¯»å–å®¡è®¡æ—¥å¿—   CAP_AUDIT_WRITE å°†è®°å½•å†™å…¥å†…æ ¸å®¡è®¡æ—¥å¿—   CAP_BLOCK_SUSPEND ä½¿ç”¨å¯ä»¥é˜»æ­¢ç³»ç»ŸæŒ‚èµ·çš„ç‰¹æ€§   CAP_CHOWN ä¿®æ”¹æ–‡ä»¶æ‰€æœ‰è€…çš„æƒé™   CAP_DAC_OVERRIDE å¿½ç•¥æ–‡ä»¶çš„ DAC è®¿é—®é™åˆ¶   CAP_DAC_READ_SEARCH å¿½ç•¥æ–‡ä»¶è¯»åŠç›®å½•æœç´¢çš„ DAC è®¿é—®é™åˆ¶   CAP_FOWNER å¿½ç•¥æ–‡ä»¶å±ä¸» ID å¿…é¡»å’Œè¿›ç¨‹ç”¨æˆ· ID ç›¸åŒ¹é…çš„é™åˆ¶   CAP_FSETID å…è®¸è®¾ç½®æ–‡ä»¶çš„ setuid ä½   CAP_IPC_LOCK å…è®¸é”å®šå…±äº«å†…å­˜ç‰‡æ®µ   CAP_IPC_OWNER å¿½ç•¥ IPC æ‰€æœ‰æƒæ£€æŸ¥   CAP_KILL å…è®¸å¯¹ä¸å±äºè‡ªå·±çš„è¿›ç¨‹å‘é€ä¿¡å·   CAP_LEASE å…è®¸ä¿®æ”¹æ–‡ä»¶é”çš„ FL_LEASE æ ‡å¿—   CAP_LINUX_IMMUTABLE å…è®¸ä¿®æ”¹æ–‡ä»¶çš„ IMMUTABLE å’Œ APPEND å±æ€§æ ‡å¿—   CAP_MAC_ADMIN å…è®¸ MAC é…ç½®æˆ–çŠ¶æ€æ›´æ”¹   CAP_MAC_OVERRIDE è¦†ç›– MAC(Mandatory Access Control)   CAP_MKNOD å…è®¸ä½¿ç”¨ mknod() ç³»ç»Ÿè°ƒç”¨   CAP_NET_ADMIN å…è®¸æ‰§è¡Œç½‘ç»œç®¡ç†ä»»åŠ¡   CAP_NET_BIND_SERVICE å…è®¸ç»‘å®šåˆ°å°äº 1024 çš„ç«¯å£   CAP_NET_BROADCAST å…è®¸ç½‘ç»œå¹¿æ’­å’Œå¤šæ’­è®¿é—®   CAP_NET_RAW å…è®¸ä½¿ç”¨åŸå§‹å¥—æ¥å­—   CAP_SETGID å…è®¸æ”¹å˜è¿›ç¨‹çš„ GID   CAP_SETFCAP å…è®¸ä¸ºæ–‡ä»¶è®¾ç½®ä»»æ„çš„ capabilities   CAP_SETPCAP å‚è€ƒ capabilities man page   CAP_SETUID å…è®¸æ”¹å˜è¿›ç¨‹çš„ UID   CAP_SYS_ADMIN å…è®¸æ‰§è¡Œç³»ç»Ÿç®¡ç†ä»»åŠ¡ï¼Œå¦‚åŠ è½½æˆ–å¸è½½æ–‡ä»¶ç³»ç»Ÿã€è®¾ç½®ç£ç›˜é…é¢ç­‰   CAP_SYS_BOOT å…è®¸é‡æ–°å¯åŠ¨ç³»ç»Ÿ   CAP_SYS_CHROOT å…è®¸ä½¿ç”¨ chroot() ç³»ç»Ÿè°ƒç”¨   CAP_SYS_MODULE å…è®¸æ’å…¥å’Œåˆ é™¤å†…æ ¸æ¨¡å—   CAP_SYS_NICE å…è®¸æå‡ä¼˜å…ˆçº§åŠè®¾ç½®å…¶ä»–è¿›ç¨‹çš„ä¼˜å…ˆçº§   CAP_SYS_PACCT å…è®¸æ‰§è¡Œè¿›ç¨‹çš„ BSD å¼å®¡è®¡   CAP_SYS_PTRACE å…è®¸è·Ÿè¸ªä»»ä½•è¿›ç¨‹   CAP_SYS_RAWIO å…è®¸ç›´æ¥è®¿é—® /devportã€/dev/memã€/dev/kmem åŠåŸå§‹å—è®¾å¤‡   CAP_SYS_RESOURCE å¿½ç•¥èµ„æºé™åˆ¶   CAP_SYS_TIME å…è®¸æ”¹å˜ç³»ç»Ÿæ—¶é’Ÿ   CAP_SYS_TTY_CONFIG å…è®¸é…ç½® TTY è®¾å¤‡   CAP_SYSLOG å…è®¸ä½¿ç”¨ syslog() ç³»ç»Ÿè°ƒç”¨   CAP_WAKE_ALARM å…è®¸è§¦å‘ä¸€äº›èƒ½å”¤é†’ç³»ç»Ÿçš„ä¸œè¥¿(æ¯”å¦‚ CLOCK_BOOTTIME_ALARM è®¡æ—¶å™¨)    ç¨‹åºæ–‡ä»¶çš„ capabilities\nåœ¨å¯æ‰§è¡Œæ–‡ä»¶çš„å±æ€§ä¸­æœ‰ä¸‰ä¸ªé›†åˆæ¥ä¿å­˜ä¸‰ç±» capabilitiesï¼Œå®ƒä»¬åˆ†åˆ«æ˜¯ï¼š\n Permitted Inheritable Effective  åœ¨è¿›ç¨‹æ‰§è¡Œæ—¶ï¼ŒPermitted é›†åˆä¸­çš„ capabilites è‡ªåŠ¨è¢«åŠ å…¥åˆ°è¿›ç¨‹çš„ Permitted é›†åˆä¸­ã€‚\nInheritable é›†åˆä¸­çš„ capabilites ä¼šä¸è¿›ç¨‹çš„ Inheritable é›†åˆæ‰§è¡Œé€»è¾‘ä¸æ“ä½œï¼Œä»¥ç¡®å®šè¿›ç¨‹åœ¨æ‰§è¡Œ execve å‡½æ•°åå“ªäº› capabilites è¢«ç»§æ‰¿ã€‚\nEffective åªæ˜¯ä¸€ä¸ª bitã€‚å¦‚æœè®¾ç½®ä¸ºå¼€å¯ï¼Œé‚£ä¹ˆåœ¨æ‰§è¡Œ execve å‡½æ•°åï¼ŒPermitted é›†åˆä¸­æ–°å¢çš„ capabilities ä¼šè‡ªåŠ¨å‡ºç°åœ¨è¿›ç¨‹çš„ Effective é›†åˆä¸­ã€‚\nè¿›ç¨‹çš„ capabilities\nè¿›ç¨‹ä¸­æœ‰äº”ç§ capabilities é›†åˆç±»å‹ï¼Œåˆ†åˆ«æ˜¯ï¼š\n Permitted Inheritable Effective Bounding Ambient  ç›¸æ¯”æ–‡ä»¶çš„ capabilitesï¼Œè¿›ç¨‹çš„ capabilities å¤šäº†ä¸¤ä¸ªé›†åˆï¼Œåˆ†åˆ«æ˜¯ Bounding å’Œ Ambientã€‚\n/proc/[pid]/status æ–‡ä»¶ä¸­åŒ…å«äº†è¿›ç¨‹çš„äº”ä¸ª capabilities é›†åˆçš„ä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½åæŸ¥çœ‹å½“å‰è¿›ç¨‹çš„ capabilities ä¿¡æ¯ï¼š\n$ cat /proc/$$/status | grep \u0026#39;Cap\u0026#39; CapInh:\t0000000000000000 CapPrm:\t0000000000000000 CapEff:\t0000000000000000 CapBnd:\t000003ffffffffff CapAmb:\t0000000000000000 ä½†æ˜¯è¿™ä¸­æ–¹å¼è·å¾—çš„ä¿¡æ¯æ— æ³•é˜…è¯»ï¼Œæˆ‘ä»¬éœ€è¦ä½¿ç”¨ capsh å‘½ä»¤æŠŠå®ƒä»¬è½¬ä¹‰ä¸ºå¯è¯»çš„æ ¼å¼ï¼š\n$ capsh --decode=0000003fffffffff ä½¿ç”¨ getcap å‘½ä»¤å’Œ setcap å‘½ä»¤åˆ†åˆ«ç”¨æ¥æŸ¥çœ‹å’Œè®¾ç½®ç¨‹åºæ–‡ä»¶çš„ capabilities å±æ€§ã€‚ä¸‹é¢æˆ‘ä»¬æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ capabilities ä»£æ›¿ ping å‘½ä»¤çš„ SUIDã€‚\nå› ä¸º ping å‘½ä»¤åœ¨æ‰§è¡Œæ—¶éœ€è¦è®¿é—®ç½‘ç»œï¼Œè¿™å°±éœ€è¦è·å¾— root æƒé™ï¼Œå¸¸è§„çš„åšæ³•æ˜¯é€šè¿‡ SUID å®ç°çš„(å’Œ passwd å‘½ä»¤ç›¸åŒ)ï¼š\n$ ll /bin/ping -rwsr-xr-x 1 root root 72K Jan 31 2020 /bin/ping $ ll /usr/bin/passwd -rwsr-xr-x 1 root root 67K Jul 15 2021 /usr/bin/passwd çº¢æ¡†ä¸­çš„ s è¯´æ˜åº”ç”¨ç¨‹åºæ–‡ä»¶è¢«è®¾ç½®äº† SUIDï¼Œè¿™æ ·æ™®é€šç”¨æˆ·å°±å¯ä»¥æ‰§è¡Œè¿™äº›å‘½ä»¤äº†ã€‚\nç§»é™¤ ping å‘½ä»¤æ–‡ä»¶ä¸Šçš„ SUID æƒé™ï¼š\n$ sudo chmod 755 /bin/ping $ ping baidu.com ping: socket: Operation not permitted åœ¨ç§»é™¤ SUID æƒé™åï¼Œæ™®é€šç”¨æˆ·åœ¨æ‰§è¡Œ ping å‘½ä»¤æ—¶ç¢°åˆ°äº† \u0026ldquo;ping: socket: Operation not permitted\u0026rdquo; é”™è¯¯ã€‚\nä¸º ping å‘½ä»¤æ–‡ä»¶æ·»åŠ  capabilities\næ‰§è¡Œ ping å‘½ä»¤æ‰€éœ€çš„ capabilities ä¸º cap_net_admin å’Œ cap_net_rawï¼Œé€šè¿‡ setcap å‘½ä»¤å¯ä»¥æ·»åŠ å®ƒä»¬ï¼š\n$ sudo setcap cap_net_admin,cap_net_raw+ep /bin/ping $ getcap /bin/ping /bin/ping = cap_net_admin,cap_net_raw+ep $ ping baidu.com PING baidu.com (220.181.38.148) 56(84) bytes of data. 64 bytes from 220.181.38.148 (220.181.38.148): icmp_seq=1 ttl=46 time=33.3 ms 64 bytes from 220.181.38.148 (220.181.38.148): icmp_seq=2 ttl=46 time=40.9 ms è¢«èµ‹äºˆåˆé€‚çš„ capabilities åï¼Œping å‘½ä»¤åˆå¯ä»¥æ­£å¸¸å·¥ä½œäº†ï¼Œç›¸æ¯” SUID å®ƒåªå…·æœ‰å¿…è¦çš„ç‰¹æƒï¼Œåœ¨æœ€å¤§ç¨‹åº¦ä¸Šå‡å°äº†ç³»ç»Ÿçš„å®‰å…¨æ”»å‡»é¢ã€‚\nå¦‚æœè¦ç§»é™¤åˆšæ‰æ·»åŠ çš„ capabilitiesï¼Œæ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š\n$ sudo setcap cap_net_admin,cap_net_raw-ep /bin/ping $ getcap /bin/ping /bin/ping = å‘½ä»¤ä¸­çš„ ep åˆ†åˆ«è¡¨ç¤º Effective å’Œ Permitted é›†åˆï¼Œ+ å·è¡¨ç¤ºæŠŠæŒ‡å®šçš„ capabilities æ·»åŠ åˆ°è¿™äº›é›†åˆä¸­ï¼Œ- å·è¡¨ç¤ºä»é›†åˆä¸­ç§»é™¤(å¯¹äº Effective æ¥è¯´æ˜¯è®¾ç½®æˆ–è€…æ¸…é™¤ä½)ã€‚\nè¿›ç¨‹ job control è¿›ç¨‹ç»„ æ‰§è¡Œä¸€ä¸ªå‘½ä»¤ä¼šåˆ›å»ºä¸€ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹ï¼Œè¿™äº›è¿›ç¨‹è¢«ç§°ä¸ºä¸€ä¸ªè¿›ç¨‹ç»„(process group)ã€‚è¿›ç¨‹ç»„ä¸­åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹ï¼Œæ¯ä¸ªè¿›ç¨‹éƒ½ä¼šå±äºä¸€ä¸ªè¿›ç¨‹ç»„ï¼Œè¿›ç¨‹ç»„ä¹Ÿå« jobã€‚\næ¯ä¸ªè¿›ç¨‹ç»„éƒ½æœ‰ä¸€ä¸ªé¢†å¤´è¿›ç¨‹(process group leader)ï¼Œé¢†å¤´è¿›ç¨‹çš„ PID å°±æ˜¯è¿›ç¨‹ç»„çš„ ID(process group IDï¼ŒPGID)ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ ps å‘½ä»¤æŸ¥çœ‹è¿›ç¨‹çš„ PGIDï¼š\n$ ps -o pid,ppid,pgid,comm | cat PID PPID PGID COMMAND 2646 2638 2646 zsh 16823 2646 16823 ps 16824 2646 16823 cat 16823 16824 ä¸¤ä¸ªè¿›ç¨‹å±äºåŒä¸€è¿›ç¨‹ç»„(é€šè¿‡ç®¡é“ç¬¦è¿æ¥çš„è¿›ç¨‹å±äºç›¸åŒçš„è¿›ç¨‹ç»„)ã€‚è¿™ä¸ªè¿›ç¨‹ç»„ä¸­çš„é¢†å¤´è¿›ç¨‹ä¸º 16823ï¼Œå› æ­¤å®ƒçš„ PID æˆäº†è¿›ç¨‹ç»„çš„ PGIDã€‚\né¢†å¤´è¿›ç¨‹å¯ä»¥å…ˆé€€å‡ºï¼Œè¿™æ—¶è¿›ç¨‹ç»„ä¾ç„¶å­˜åœ¨å¹¶ä¸” PGID ä¹Ÿä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚åœ¨è¿›ç¨‹ç»„ä¸­çš„æ‰€æœ‰è¿›ç¨‹éƒ½é€€å‡ºåï¼Œè¿›ç¨‹ç»„çš„ç”Ÿå‘½å‘¨æœŸç»“æŸã€‚\nå°†è¿›ç¨‹åˆ’åˆ†åˆ°è¿›ç¨‹ç»„ä¸­çš„ä¸»è¦åŸå› æ˜¯å¯ä»¥å¯¹å®ƒä»¬è¿›è¡Œç»Ÿä¸€çš„ç®¡ç†ï¼Œè¯´ç™½äº†å°±æ˜¯åŒæ—¶å‘ä¿¡å·ç»™ç»„å†…çš„æ‰€æœ‰è¿›ç¨‹ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬æ¥ä¸‹æ¥è¦ä»‹ç»çš„ job ç®¡ç†ã€‚\nç®¡ç† jobs å‘½ä»¤\nä½¿ç”¨ vim æ‰“å¼€æ–‡ä»¶ test.txtï¼Œç„¶åæŒ‰ä¸‹ ctrl + zï¼Œæ­¤æ—¶ vim è¿›å…¥äº†åå°ï¼š\n$ vim test.txt [1]+ Stopped vim test.txt è¾“å‡ºçš„ç¬¬ä¸€åˆ—æ–¹æ‹¬å·ä¸­çš„æ•°å­—è¡¨ç¤º jobIDï¼Œç¬¬äºŒåˆ— Stopped è¡¨ç¤º job å½“å‰çš„çŠ¶æ€ï¼Œç¬¬ä¸‰åˆ—åˆ™è¡¨ç¤ºè¯¥ job æ‰§è¡Œçš„å‘½ä»¤ã€‚ ä½¿ç”¨ jobs å‘½ä»¤å¯ä»¥æŸ¥çœ‹å½“å‰ä¼šè¯ä¸­çš„çš„æ‰€æœ‰ jobsï¼Œæ­¤æ—¶æ‰§è¡Œ jobs å‘½ä»¤ï¼Œè¾“å‡ºçš„ç»“æœå’Œä¸Šé¢ä¸€æ ·ï¼š\n$ jobs [1]+ Stopped vim test.txt \u0026amp; ç¬¦\nåœ¨å‘½ä»¤çš„åé¢åŠ ä¸Š \u0026amp; ç¬¦å·ï¼Œå¯ä»¥ç›´æ¥è®© job è¿è¡Œåœ¨åå°ï¼š\n$ sleep 1000 \u0026amp; [2] 26524 $ jobs [1]+ Stopped vim test.txt [2]- Running sleep 1000 \u0026amp; sleep å‘½ä»¤çš„ jobID ä¸º 2ï¼ŒçŠ¶æ€ä¸º Runningã€‚\nfg å‘½ä»¤\nfg å‘½ä»¤æ˜¯ foreground çš„ç¼©å†™ã€‚å‘½ä»¤æ ¼å¼ä¸º fg %nï¼Œå®ƒæŠŠå½“å‰æˆ–æŒ‡å®š ID çš„ job æ”¾åˆ°å‰å°ã€‚ä¸‹é¢æˆ‘ä»¬æ“ä½œä¸€æ¬¡ job 2ï¼š\n$ fg %2 sleep 1000 æ­¤æ—¶ sleep å‘½ä»¤è¿è¡Œåœ¨å‰å°ï¼Œé€šè¿‡ ctrl + z æˆ‘ä»¬å¯ä»¥å†æ¬¡æŠŠå®ƒé€å›åå°ï¼š\n$ fg %2 sleep 1000 ^Z [2]+ Stopped sleep 1000 è¯·æ³¨æ„æ­¤æ—¶ sleep å‘½ä»¤çš„çŠ¶æ€å·²ç»å˜æˆäº† Stoppedã€‚\nctrl + z\nä¸¥æ ¼æ¥è¯´ ctrl + z å¹¶ä¸æ˜¯ä¸€ä¸ª job ç®¡ç†å‘½ä»¤ï¼Œå®ƒåªæ˜¯å‘å½“å‰è¿›ç¨‹å‘é€ä¸€ä¸ª SIGSTOP ä¿¡å·ï¼Œè¯¥ä¿¡å·ä½¿è¿›ç¨‹è¿›å…¥æš‚åœ(stopped)çŠ¶æ€ï¼Œä¹Ÿå°±æ˜¯æŒ‚èµ·è¿›ç¨‹ï¼Œæ­¤çŠ¶æ€ä¸‹ï¼Œè¿›ç¨‹çŠ¶æ€ä¼šè¢«ç³»ç»Ÿä¿å­˜ï¼Œæ­¤è¿›ç¨‹ä¼šè¢«æ”¾ç½®åˆ°ä½œä¸šé˜Ÿåˆ—ä¸­å»ï¼Œä»è€Œè®©å‡ºç»ˆç«¯ã€‚ä½¿ç”¨ ctrl + z æˆ‘ä»¬å¯ä»¥æš‚åœæ­£åœ¨å ç”¨ç»ˆç«¯çš„è¿›ç¨‹è€Œä¸ç»“æŸå®ƒï¼Œç„¶åæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ç»ˆç«¯å‘½ä»¤æ¥æ“ä½œæ­¤è¿›ç¨‹ã€‚\nbg å‘½ä»¤\nbg å‘½ä»¤æ˜¯ background çš„ç¼©å†™ï¼Œå‘½ä»¤æ ¼å¼ä¸º bg %nï¼Œbg å‘½ä»¤å’Œ ctrl + z é…åˆå¯ä»¥æŠŠå‰å°å‘½ä»¤åˆ‡æ¢åˆ°åå°å»æ‰§è¡Œã€‚æ¯”å¦‚åˆšæ‰æˆ‘ä»¬é€šè¿‡ ctrl + z æŠŠ sleep å‘½ä»¤åˆ‡åˆ°äº†åå°ï¼Œä½†å˜æˆäº† Stopped çŠ¶æ€ï¼Œæ­¤æ—¶æ‰§è¡Œ bg %2 å‘½ä»¤å¯ä»¥è®© sleep å‘½ä»¤ç»§ç»­åœ¨åå°æ‰§è¡Œï¼š\n$ bg %2 [2]+ sleep 1000 \u0026amp; $ jobs [1]+ Stopped vim test.txt [2]- Running sleep 1000 \u0026amp; kill å‘½ä»¤\nkill å‘½ä»¤è´Ÿè´£å‘è¿›ç¨‹å‘é€ä¿¡å·ï¼Œå½“ç„¶å®ƒä¹Ÿå¯ä»¥å‘ job å‘é€ä¿¡å·ï¼Œåœ¨ jobID å‰é¢æ·»åŠ  % å°±å¯ä»¥äº†ã€‚æ¯”å¦‚ SIGCONT æ˜¯å”¤é†’ä¸€ä¸ªæŒ‚èµ·çš„è¿›ç¨‹ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‘½ä»¤æŠŠå¤„äº Stooped çŠ¶æ€çš„ sleep å‘½ä»¤å”¤é†’ï¼š\n$ jobs [1]+ Stopped sleep 1000 $ kill -SIGCONT %1 $ jobs [1]+ Running sleep 1000 \u0026amp; æ€æ­»è¿›ç¨‹\næœ‰æ—¶å€™ä½¿ç”¨ ctrl + c æ— æ³•æ€æ­»ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„å‰å°è¿›ç¨‹ï¼Œè¿™æ˜¯å› ä¸º ctrl + c çš„æœ¬è´¨æ˜¯å‘è¿›ç¨‹å‘é€ SIGINT ä¿¡å·ã€‚SIGINT æ˜¯ç”¨æ¥ç»ˆæ­¢è¿›ç¨‹çš„ï¼Œä½†æ˜¯è¿™æ˜¯ä¸€ä¸ªå¯ä»¥è¢«å¿½ç•¥çš„ä¿¡å·ï¼Œå¦‚æœç¨‹åºå¿½ç•¥äº†å®ƒï¼Œæˆ‘ä»¬å°±æ— æ³•é€šè¿‡ ctrl + c æ¥ç»ˆæ­¢è¯¥è¿›ç¨‹ã€‚\næ­¤æ—¶æˆ‘ä»¬å¯ä»¥å…ˆä½¿ç”¨ ctrl + z æŠŠè¿›ç¨‹åˆ‡æ¢åˆ°åå°ï¼Œç„¶åä½¿ç”¨ kill %n(n ä¸ºè¿›ç¨‹çš„ jobID)æ¥ç»ˆæ­¢è¿›ç¨‹ã€‚kill å‘½ä»¤é»˜è®¤å‘è¿›ç¨‹å‘é€ SIGTERM ä¿¡å·ï¼Œç¨‹åºä¸€èˆ¬ä¼šåœ¨ SIGTERM ä¿¡å·çš„å¤„ç†å‡½æ•°ä¸­æ­£å¸¸åœ°ç»ˆæ­¢ç¨‹åºå¹¶æ‰§è¡Œèµ„æºæ¸…ç†å·¥ä½œã€‚æ—¢ç„¶ SIGTERM ä¿¡å·èƒ½å¤Ÿè¢«ç¨‹åºå¤„ç†ï¼Œé‚£ä¹ˆå®ƒä¹Ÿèƒ½å¤Ÿè¢«å¿½ç•¥ï¼Œæ‰€ä»¥ä¹Ÿæ— æ³•é€šè¿‡è¿™ç§æ–¹å¼ç»“æŸé‚£äº›é¡½å›ºçš„è¿›ç¨‹ã€‚\næ€æ­»è¿›ç¨‹çš„ç»ˆææ‰‹æ®µæ˜¯ kill -SIGKILL PID(kill -9 PID)ã€‚SIGKILL ä¿¡å·æ˜¯ä¸èƒ½è¢«å¿½ç•¥çš„ï¼Œæ‰€ä»¥è¿™ä¸€æ‹›è‚¯å®šç®¡ç”¨ã€‚ä½†æ˜¯ç”±äºå®ƒè¿‡äºå¼ºç¡¬ï¼Œä½¿ç”¨è¿™ç§æ–¹å¼æ€æ­»è¿›ç¨‹åå¾€å¾€ä¼šæœ‰åé—ç—‡ï¼Œæ¯”å¦‚è¿›ç¨‹ä½¿ç”¨çš„èµ„æºæ²¡æœ‰åœ¨é€€å‡ºå‰æ¸…ç†å¹²å‡€ï¼Œå¸¸è§çš„ä¾‹å­æ˜¯ç”¨è¿™ç§æ–¹æ³•æ€æ­» vim è¿›ç¨‹åä¼šé—ç•™ä¸‹ .swp æ–‡ä»¶ã€‚\næš‚åœ tail å‘½ä»¤çš„è¾“å‡º\næˆ‘ä»¬ä¸€èˆ¬ä¼šä½¿ç”¨ tail -f å‘½ä»¤æŸ¥çœ‹å®æ—¶çš„æ—¥å¿—ï¼Œä½†å¾ˆå¤šç¨‹åºäº§ç”Ÿæ—¥å¿—çš„é€Ÿåº¦éå¸¸å¿«ä»¥è‡³äºæˆ‘ä»¬è·Ÿä¸ä¸ŠèŠ‚å¥ã€‚æ­¤æ—¶ä½¿ç”¨ ctrl + s å‘½ä»¤å¯ä»¥æš‚åœæ—¥å¿—è¾“å‡ºåˆ°ç»ˆç«¯ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥ä»”ç»†çš„åˆ†æå½“å‰ç»ˆç«¯ä¸­æ˜¾ç¤ºçš„æ—¥å¿—ã€‚å¦‚æœè¦æ¥ç€è¾“å‡ºæ—¥å¿—ï¼Œå¯ä»¥ä½¿ç”¨ ctrl + q å‘½ä»¤æ¢å¤æ—¥å¿—çš„è¾“å‡ºã€‚\nè¿™ä¸¤ä¸ªå‘½ä»¤çš„åŸç†æ˜¯ï¼šctrl + s ä¼šå‘Šè¯‰ç»ˆç«¯æš‚åœï¼Œé˜»å¡æ‰€æœ‰è¯»å†™æ“ä½œï¼Œå³ä¸è½¬å‘ä»»ä½•æ•°æ®ï¼Œåªæœ‰æŒ‰äº† ctrl + q åï¼Œæ‰ä¼šç»§ç»­ã€‚è¿™ä¸ªåŠŸèƒ½åº”è¯¥æ˜¯å†å²é—ç•™çš„äº§ç‰©ï¼Œä»¥å‰ç»ˆç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´æ²¡æœ‰æµé‡æ§åˆ¶åŠŸèƒ½ï¼Œæ‰€ä»¥æœ‰å¯èƒ½æœåŠ¡å™¨å‘é€æ•°æ®è¿‡å¿«ï¼Œå¯¼è‡´ç»ˆç«¯å¤„ç†ä¸è¿‡æ¥ï¼Œäºæ˜¯éœ€è¦è¿™æ ·ä¸€ä¸ªå‘½ä»¤å‘Šè¯‰æœåŠ¡å™¨ä¸è¦å†å‘äº†ï¼Œç­‰ç»ˆç«¯å¤„ç†å®Œäº†åå†é€šçŸ¥æœåŠ¡å™¨ç»§ç»­ã€‚\nsession Linux session ä¸€èˆ¬æ˜¯æŒ‡ shell sessionã€‚Shell session æ˜¯ç»ˆç«¯ä¸­å½“å‰çš„çŠ¶æ€ï¼Œåœ¨ç»ˆç«¯ä¸­åªèƒ½æœ‰ä¸€ä¸ª sessionã€‚å½“æˆ‘ä»¬æ‰“å¼€ä¸€ä¸ªæ–°çš„ç»ˆç«¯æ—¶ï¼Œæ€»ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ shell sessionã€‚\nå°±è¿›ç¨‹é—´çš„å…³ç³»æ¥è¯´ï¼Œsession ç”±ä¸€ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹ç»„ç»„æˆã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ¥è‡ªå•ä¸ªç™»å½•çš„æ‰€æœ‰è¿›ç¨‹éƒ½å±äºåŒä¸€ä¸ª sessionã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹å›¾æ¥ç†è§£è¿›ç¨‹ã€è¿›ç¨‹ç»„å’Œ session ä¹‹é—´çš„å…³ç³»ï¼š\nä¼šè¯æ˜¯ç”±ä¼šè¯ä¸­çš„ç¬¬ä¸€ä¸ªè¿›ç¨‹åˆ›å»ºçš„ï¼Œä¸€èˆ¬æƒ…å†µä¸‹æ˜¯æ‰“å¼€ç»ˆç«¯æ—¶åˆ›å»ºçš„ shell è¿›ç¨‹ã€‚è¯¥è¿›ç¨‹ä¹Ÿå« session çš„é¢†å¤´è¿›ç¨‹ã€‚Session ä¸­é¢†å¤´è¿›ç¨‹çš„ PID ä¹Ÿå°±æ˜¯ session çš„ SIDã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹ SIDï¼š\n$ ps -o pid,ppid,pgid,sid,tty,comm PID PPID PGID SID TT COMMAND 14244 29789 14244 29789 pts/2 ps Session ä¸­çš„æ¯ä¸ªè¿›ç¨‹ç»„è¢«ç§°ä¸ºä¸€ä¸ª jobï¼Œæœ‰ä¸€ä¸ª job ä¼šæˆä¸º session çš„å‰å° job(foreground)ï¼Œå…¶å®ƒçš„ job åˆ™æ˜¯åå° job(background)ã€‚æ¯ä¸ª session è¿æ¥ä¸€ä¸ªæ§åˆ¶ç»ˆç«¯(control terminal)ï¼Œæ§åˆ¶ç»ˆç«¯ä¸­çš„è¾“å…¥è¢«å‘é€ç»™å‰å° jobï¼Œä»å‰å° job äº§ç”Ÿçš„è¾“å‡ºä¹Ÿè¢«å‘é€åˆ°æ§åˆ¶ç»ˆç«¯ä¸Šã€‚åŒæ—¶ç”±æ§åˆ¶ç»ˆç«¯äº§ç”Ÿçš„ä¿¡å·ï¼Œæ¯”å¦‚ ctrl + z ç­‰éƒ½ä¼šä¼ é€’ç»™å‰å° jobã€‚\nä¸€èˆ¬æƒ…å†µä¸‹ session å’Œç»ˆç«¯æ˜¯ä¸€å¯¹ä¸€çš„å…³ç³»ï¼Œå½“æˆ‘ä»¬æ‰“å¼€å¤šä¸ªç»ˆç«¯çª—å£æ—¶ï¼Œå®é™…ä¸Šå°±åˆ›å»ºäº†å¤šä¸ª sessionã€‚\nSession çš„æ„ä¹‰åœ¨äºå¤šä¸ªå·¥ä½œ(job)åœ¨ä¸€ä¸ªç»ˆç«¯ä¸­è¿è¡Œï¼Œå…¶ä¸­çš„ä¸€ä¸ªä¸ºå‰å° jobï¼Œå®ƒç›´æ¥æ¥æ”¶è¯¥ç»ˆç«¯çš„è¾“å…¥å¹¶æŠŠç»“æœè¾“å‡ºåˆ°è¯¥ç»ˆç«¯ã€‚å…¶å®ƒçš„ job åˆ™åœ¨åå°è¿è¡Œã€‚\nè¯ç”Ÿä¸æ¶ˆäº¡ é€šå¸¸ï¼Œæ–°çš„ session ç”±ç³»ç»Ÿç™»å½•ç¨‹åºåˆ›å»ºï¼Œsession ä¸­çš„é¢†å¤´è¿›ç¨‹æ˜¯è¿è¡Œç”¨æˆ·ç™»å½• shell çš„è¿›ç¨‹ã€‚æ–°åˆ›å»ºçš„æ¯ä¸ªè¿›ç¨‹éƒ½ä¼šå±äºä¸€ä¸ªè¿›ç¨‹ç»„ï¼Œå½“åˆ›å»ºä¸€ä¸ªè¿›ç¨‹æ—¶ï¼Œå®ƒå’Œçˆ¶è¿›ç¨‹åœ¨åŒä¸€ä¸ªè¿›ç¨‹ç»„ã€session ä¸­ã€‚\nå°†è¿›ç¨‹æ”¾å…¥ä¸åŒ session çš„æƒŸä¸€æ–¹æ³•æ˜¯ä½¿ç”¨ setsid å‡½æ•°ä½¿å…¶æˆä¸ºæ–° session çš„é¢†å¤´è¿›ç¨‹ã€‚è¿™è¿˜ä¼šå°† session é¢†å¤´è¿›ç¨‹æ”¾å…¥ä¸€ä¸ªæ–°çš„è¿›ç¨‹ç»„ä¸­ã€‚\nå½“ session ä¸­çš„æ‰€æœ‰è¿›ç¨‹éƒ½ç»“æŸæ—¶ session ä¹Ÿå°±æ¶ˆäº¡äº†ã€‚å®é™…ä½¿ç”¨ä¸­æ¯”å¦‚ç½‘ç»œæ–­å¼€äº†ï¼Œsession è‚¯å®šæ˜¯è¦æ¶ˆäº¡çš„ã€‚å¦å¤–å°±æ˜¯æ­£å¸¸çš„æ¶ˆäº¡ï¼Œæ¯”å¦‚è®© session çš„é¢†å¤´è¿›ç¨‹é€€å‡ºã€‚ä¸€èˆ¬æƒ…å†µä¸‹ session çš„é¢†å¤´è¿›ç¨‹æ˜¯ shell è¿›ç¨‹ï¼Œå¦‚æœå®ƒå¤„äºå‰å°ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ exit å‘½ä»¤æˆ–è€…æ˜¯ ctrl + d è®©å®ƒé€€å‡ºã€‚æˆ–è€…æˆ‘ä»¬å¯ä»¥ç›´æ¥é€šè¿‡ kill å‘½ä»¤æ€æ­» session çš„é¢†å¤´è¿›ç¨‹ã€‚è¿™é‡Œé¢çš„åŸç†æ˜¯ï¼šå½“ç³»ç»Ÿæ£€æµ‹åˆ°æŒ‚æ–­(hangup)æ¡ä»¶æ—¶ï¼Œå†…æ ¸ä¸­çš„é©±åŠ¨ä¼šå°† SIGHUP ä¿¡å·å‘é€åˆ°æ•´ä¸ª sessionã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œè¿™ä¼šæ€æ­» session ä¸­çš„æ‰€æœ‰è¿›ç¨‹ã€‚\nsession ä¸ç»ˆç«¯çš„å…³ç³»\nå¦‚æœ session å…³è”çš„æ˜¯ä¼ªç»ˆç«¯ï¼Œè¿™ä¸ªä¼ªç»ˆç«¯æœ¬èº«å°±æ˜¯éšç€ session çš„å»ºç«‹è€Œåˆ›å»ºçš„ï¼Œsession ç»“æŸï¼Œé‚£ä¹ˆè¿™ä¸ªä¼ªç»ˆç«¯ä¹Ÿä¼šè¢«é”€æ¯ã€‚\nå¦‚æœ session å…³è”çš„æ˜¯ tty1-6ï¼Œtty åˆ™ä¸ä¼šè¢«é”€æ¯ã€‚å› ä¸ºè¯¥ç»ˆç«¯è®¾å¤‡æ˜¯åœ¨ç³»ç»Ÿåˆå§‹åŒ–çš„æ—¶å€™åˆ›å»ºçš„ï¼Œå¹¶ä¸æ˜¯ä¾èµ–è¯¥ä¼šè¯å»ºç«‹çš„ï¼Œæ‰€ä»¥å½“ session é€€å‡ºï¼Œtty ä»ç„¶å­˜åœ¨ã€‚åªæ˜¯ init ç³»ç»Ÿåœ¨ session ç»“æŸåï¼Œä¼šé‡å¯ getty æ¥ç›‘å¬è¿™ä¸ª ttyã€‚\nnohup å¦‚æœæˆ‘ä»¬åœ¨ session ä¸­æ‰§è¡Œäº† nohup ç­‰ç±»ä¼¼çš„å‘½ä»¤ï¼Œå½“ session æ¶ˆäº¡æ—¶ï¼Œç›¸å…³çš„è¿›ç¨‹å¹¶ä¸ä¼šéšç€ session ç»“æŸï¼ŒåŸå› æ˜¯è¿™äº›è¿›ç¨‹ä¸å†å— SIGHUP ä¿¡å·çš„å½±å“ã€‚æ¯”å¦‚æˆ‘ä»¬æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤ï¼š\n$ nohup sleep 1000 \u0026gt;/dev/null 2\u0026gt;\u0026amp;1 \u0026amp; $ ps -o pid,ppid,pgid,sid,tty,comm PID PPID PGID SID TT COMMAND 7837 7836 7837 7837 pts/0 zsh 7848 7837 7848 7837 pts/0 sleep 7858 7837 7858 7837 pts/0 ps æ­¤æ—¶ sleep è¿›ç¨‹çš„ sid å’Œå…¶å®ƒè¿›ç¨‹æ˜¯ç›¸åŒçš„ï¼Œè¿˜å¯ä»¥é€šè¿‡ pstree å‘½ä»¤çœ‹åˆ°è¿›ç¨‹é—´çš„çˆ¶å­å…³ç³»ã€‚\n$ pstree å¦‚æœæˆ‘ä»¬é€€å‡ºå½“å‰ session çš„é¢†å¤´è¿›ç¨‹(bash)ï¼Œsleep è¿›ç¨‹å¹¶ä¸ä¼šé€€å‡ºï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥æ”¾å¿ƒçš„ç­‰å¾…è¯¥è¿›ç¨‹è¿è¡Œç»“æœäº†ã€‚\nnohup å¹¶ä¸æ”¹å˜è¿›ç¨‹çš„ sidï¼ŒåŒæ—¶ä¹Ÿè¯´æ˜åœ¨è¿™ç§æƒ…å†µä¸­ï¼Œè™½ç„¶ session çš„é¢†å¤´è¿›ç¨‹é€€å‡ºäº†ï¼Œä½†æ˜¯ session ä¾ç„¶æ²¡æœ‰è¢«é”€æ¯(è‡³å°‘ sid è¿˜åœ¨è¢«å¼•ç”¨)ã€‚é‡æ–°å»ºç«‹è¿æ¥ï¼Œé€šè¿‡ä¸‹é¢çš„å‘½ä»¤æŸ¥çœ‹ sleep è¿›ç¨‹çš„ä¿¡æ¯ï¼Œå‘ç°è¿›ç¨‹çš„ sid ä¾ç„¶æ˜¯ 7837ï¼š\n$ ps -o pid,ppid,pgid,sid,tty,comm PID PPID PGID SID TT COMMAND 7848 1 7848 7837 ? sleep ä½†æ˜¯æ­¤æ—¶çš„ sleep å·²ç»è¢«ç³»ç»Ÿçš„ 1 å·è¿›ç¨‹ systemd æ”¶å…»äº†ã€‚\nsetsid setsid ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„ sessionï¼Œå®ƒçš„ç›®çš„æ˜¯è®©è¿›ç¨‹åœ¨åå°æ‰§è¡Œå‘½ä»¤ï¼Œå®ç°æ–¹å¼å°±æ˜¯è®©å‘½ä»¤è¿›ç¨‹è¿è¡Œåœ¨ä¸€ä¸ªæ–°çš„ä¸ç»ˆç«¯è„±ç¦»çš„ session ä¸­ã€‚çœ‹ä¸‹é¢çš„ç¤ºä¾‹ï¼š\n$ setsid sleep 1000 æŸ¥æ‰¾ä¹‹ä¸‹å±…ç„¶æ²¡æœ‰å‘ç° sleep è¿›ç¨‹çš„è¸ªè¿¹ï¼š\n$ ps -o pid,ppid,pgid,sid,tty,comm PID PPID PGID SID TT COMMAND 11162 11161 11162 11162 pts/1 bash 11451 11162 11451 11162 pts/1 ps é€šè¿‡ grep æŸ¥è¯¢ sleep è¿›ç¨‹çš„ PIDï¼š\n$ ps aux | grep sleep nick 11384 0.0 0.0 6176 840 ? Ss 09:00 0:00 sleep 1000 å»æŸ¥çœ‹ sleep è¿›ç¨‹æ‰€åœ¨çš„ sidï¼Œå‘ç°æ˜¯ä¸€ä¸ªæ–°çš„ session IDï¼Œå¹¶ä¸”æ²¡æœ‰å…³è”ç»ˆç«¯ï¼š\n$ ps -o pid,ppid,pgid,sid,tty,comm -p 11384 PID PPID PGID SID TT COMMAND 11384 1 11384 11384 ? sleep å½“ä¸€ä¸ªè¿›ç¨‹é€šè¿‡è°ƒç”¨ setsid æˆä¸ºä¸€ä¸ªæ–°çš„ session é¢†å¤´è¿›ç¨‹æ—¶ï¼Œå®ƒä¼šä¸æ§åˆ¶ç»ˆç«¯æ–­å¼€è¿æ¥ã€‚\næ­¤æ—¶é€šè¿‡ pstree æŸ¥çœ‹è¿›ç¨‹é—´çš„å…³ç³»ï¼Œå‘ç° sleep è¿›ç¨‹ç›´æ¥è¢«ç³»ç»Ÿçš„ 1 å·è¿›ç¨‹ systemd æ”¶å…»äº†ã€‚\næ§åˆ¶ç»ˆç«¯ **æ§åˆ¶ç»ˆç«¯æ˜¯è¿›ç¨‹çš„ä¸€ä¸ªå±æ€§ã€‚**é€šè¿‡ fork ç³»ç»Ÿè°ƒç”¨åˆ›å»ºçš„å­è¿›ç¨‹ä¼šä»çˆ¶è¿›ç¨‹é‚£é‡Œç»§æ‰¿æ§åˆ¶ç»ˆç«¯ã€‚è¿™æ ·ï¼Œsession ä¸­çš„æ‰€æœ‰è¿›ç¨‹éƒ½ä» session é¢†å¤´è¿›ç¨‹é‚£é‡Œç»§æ‰¿æ§åˆ¶ç»ˆç«¯ã€‚Session çš„é¢†å¤´è¿›ç¨‹ç§°ä¸ºç»ˆç«¯çš„æ§åˆ¶è¿›ç¨‹(controlling process)ã€‚ç®€å•ç‚¹è¯´å°±æ˜¯ï¼š**ä¸€ä¸ª session åªèƒ½ä¸ä¸€ä¸ªç»ˆç«¯å…³è”ï¼Œè¿™ä¸ªç»ˆç«¯è¢«ç§°ä¸º session çš„æ§åˆ¶ç»ˆç«¯(controlling terminal)ã€‚**åŒæ—¶åªèƒ½ç”± session çš„é¢†å¤´è¿›ç¨‹æ¥å»ºç«‹æˆ–è€…æ”¹å˜ç»ˆç«¯ä¸ session çš„è”ç³»ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ ps å‘½ä»¤æŸ¥çœ‹è¿›ç¨‹çš„æ§åˆ¶ç»ˆç«¯( pts/0 )ï¼š\n$ ps -o pid,ppid,pgid,sid,tty,comm PID PPID PGID SID TT COMMAND 17540 17539 17540 17540 pts/0 bash 17550 17540 17540 17540 pts/0 ps æ”¯æŒ job control çš„ shell å¿…é¡»èƒ½å¤Ÿæ§åˆ¶åœ¨æŸä¸€æ—¶åˆ»ç”±å“ªä¸ª job ä½¿ç”¨ç»ˆç«¯ã€‚å¦åˆ™ï¼Œå¯èƒ½ä¼šæœ‰å¤šä¸ª job è¯•å›¾åŒæ—¶ä»ç»ˆç«¯è¯»å–æ•°æ®ï¼Œè¿™ä¼šå¯¼è‡´è¿›ç¨‹åœ¨æ¥æ”¶ç”¨æˆ·è¾“å…¥æ—¶çš„æ··ä¹±ã€‚ä¸ºäº†é˜²æ­¢è¿™ç§æƒ…å†µå‘ç”Ÿï¼Œshell å¿…é¡»æŒ‰ç…§é¢„å®šçš„åè®®ä¸ç»ˆç«¯é©±åŠ¨ç¨‹åºåä½œã€‚\nshell ä¸€æ¬¡åªå…è®¸ä¸€ä¸ª job(è¿›ç¨‹ç»„)è®¿é—®æ§åˆ¶ç»ˆç«¯ã€‚æ¥è‡ªæ§åˆ¶ç»ˆç«¯çš„æŸäº›è¾“å…¥ä¼šå¯¼è‡´ä¿¡å·è¢«å‘é€åˆ°ä¸æ§åˆ¶ç»ˆç«¯å…³è”çš„ job(è¿›ç¨‹ç»„)ä¸­çš„æ‰€æœ‰è¿›ç¨‹ã€‚è¯¥ job è¢«ç§°ä¸ºæ§åˆ¶ç»ˆç«¯ä¸Šçš„å‰å° jobã€‚ç”± shell ç®¡ç†çš„å…¶ä»– job åœ¨ä¸è®¿é—®ç»ˆç«¯çš„æƒ…å†µä¸‹ï¼Œè¢«ç§°ä¸ºåå° jobã€‚\nShell çš„èŒè´£æ˜¯é€šçŸ¥ job ä½•æ—¶åœæ­¢ä½•æ—¶å¯åŠ¨ï¼Œè¿˜è¦æŠŠ job çš„ä¿¡æ¯é€šçŸ¥ç»™ç”¨æˆ·ï¼Œå¹¶æä¾›æœºåˆ¶å…è®¸ç”¨æˆ·ç»§ç»­æš‚åœçš„ jobã€åœ¨å‰å°å’Œåå°ä¹‹é—´åˆ‡æ¢ jobã€‚æ¯”å¦‚å‰å° job å¯ä»¥æ— é™åˆ¶çš„è‡ªç”±ä½¿ç”¨æ§åˆ¶ç»ˆç«¯ï¼Œè€Œåå° job åˆ™ä¸å¯ä»¥ã€‚å½“åå° job ä¸­çš„è¿›ç¨‹è¯•å›¾ä»å…¶æ§åˆ¶ç»ˆç«¯è¯»å–æ•°æ®æ—¶ï¼Œé€šå¸¸ä¼šå‘è¿›ç¨‹ç»„å‘é€ SIGTTIN ä¿¡å·ã€‚è¿™é€šå¸¸ä¼šå¯¼è‡´è¯¥ç»„ä¸­çš„æ‰€æœ‰è¿›ç¨‹åœæ­¢(å˜æˆ stopped çŠ¶æ€)ã€‚ç±»ä¼¼åœ°ï¼Œå½“åå° job ä¸­çš„è¿›ç¨‹è¯•å›¾å†™å…¥å…¶æ§åˆ¶ç»ˆç«¯æ—¶ï¼Œé»˜è®¤è¡Œä¸ºæ˜¯å‘è¿›ç¨‹ç»„å‘é€ SIGTTOU ä¿¡å·ï¼Œä½†æ˜¯å¦å…è®¸å†™å…¥çš„æ§åˆ¶ä¼šæ›´åŠ çš„å¤æ‚ã€‚\nTIPS BackupYourSystem Rsync ç›®çš„åœ¨äºæ¢å¤ç³»ç»Ÿå‡ºç°çš„é”™è¯¯ï¼Œç±»ä¼¼äºè™šæ‹Ÿæœºçš„å¿«ç…§ã€‚\nå¤‡ä»½\n#!/bin/bash  set -o errexit set -o nounset set -o pipefail readonly SOURCE_DIR=/ readonly BACKUP_DIR=/home/kurome/DataBackup readonly DATETIME=\u0026#34;$(date \u0026#39;+%Y-%m-%d_%H:%M:%S\u0026#39;)\u0026#34; readonly BACKUP_PATH=\u0026#34;${BACKUP_DIR}/${DATETIME}\u0026#34; readonly LATEST_LINK=\u0026#34;${BACKUP_DIR}/latest\u0026#34; rsync -av \\ \t--delete \u0026#34;${SOURCE_DIR}/\u0026#34; \\ \t--link-dest \u0026#34;${LATEST_LINK}\u0026#34; \\ \t--exclude={\u0026#34;dev\u0026#34;,\u0026#34;proc\u0026#34;,\u0026#34;sys\u0026#34;,\u0026#34;tmp\u0026#34;,\u0026#34;run\u0026#34;,\u0026#34;mnt\u0026#34;,\u0026#34;media\u0026#34;,\u0026#34;lost+found\u0026#34;,\u0026#34;Trash\u0026#34;,\u0026#34;Downloads/*\u0026#34;,\u0026#34;DataBackup/*\u0026#34;,\u0026#34;DataPool/*\u0026#34;} \\ \t\u0026#34;${BACKUP_PATH}\u0026#34; rm -rf \u0026#34;${LATEST_LINK}\u0026#34; ln -s \u0026#34;${BACKUP_PATH}\u0026#34; \u0026#34;${LATEST_LINK}\u0026#34; æ³¨æ„ï¼š\n ${SOURCE_DIR}/å¿…é¡»å¸¦åæ–œæ ï¼Œå¦åˆ™ä¼šå¤‡ä»½SOURCE_DIRè¿™ä¸ªç›®å½•ï¼Œè€Œä¸æ˜¯è¿™ä¸ªç›®å½•é‡Œçš„å†…å®¹ã€‚ --exclude=\u0026quot;Trash\u0026quot;ï¼ŒTrashè¢«è®¤ä¸ºä¸ºç›®å½•ï¼Œè€Œéæ–‡ä»¶æˆ–æ–‡ä»¶å’Œç›®å½•ï¼Œå¹¶ä¸”ï¼Œå®ƒä¸æ”¯æŒè·¯å¾„~/.local/share/Trash  æŸ¥çœ‹å¤‡ä»½å¤§å°\n$ sudo du -hs /backup/ 16G\t/backup/ æ•´ä¸ªå¤‡ä»½ä¸º16GBï¼Œæ‰€èŠ±æ—¶é—´ 12mã€‚\né€šè¿‡ crontab ä½¿ä¹‹æ¯å‘¨ä¸€12ç‚¹è‡ªåŠ¨å¤‡ä»½ï¼š\n$ sudo crontab -e 0 12 * * 1 /path/.backup.sh è¿˜åŸ\nè¿˜åŸçš„æ—¶å€™ï¼Œå¦‚æœå¸¦ --deleteï¼Œé‚£ä¹ˆå°±ä¼šåˆ é™¤å¤‡ä»½æ—¶ --exclude= ä¸åŒ…å«çš„å†…å®¹ã€‚è¿˜åŸçš„æ—¶å€™ï¼ŒåŒåæ–‡ä»¶å†…å®¹ä¼šæ¢å¤åˆ°å¤‡ä»½æ—¶å€™çš„çŠ¶æ€ã€‚\n$ rsync -av å¤‡ä»½ç›®å½• æºç›®å½• $ rsync -av /backup/latest/ / TAR ç›®çš„åœ¨äºè¿ç§»ç³»ç»Ÿåˆ°æ–°ç¡¬ç›˜ã€‚\nBackup\n$ cd / # THIS CD IS IMPORTANT THE FOLLOWING LONG COMMAND IS RUN FROM / $ tar -cvpzf backup.tar.gz \\ --exclude=/backup.tar.gz \\ --exclude=/proc \\ --exclude=/tmp \\ --exclude=/mnt \\ --exclude=/dev \\ --exclude=/sys \\ --exclude=/run \\  --exclude=/media \\  --exclude=/var/log \\ --exclude=/var/cache/apt/archives \\ --exclude=/usr/src/linux-headers* \\  --exclude=/home/*/.gvfs \\ --exclude=/home/*/.cache \\  --exclude=/home/*/.local/share/Trash / Restoring\n$ sudo tar -xvpzf /path/to/backup.tar.gz -C /media/whatever --numeric-owner $ cd /media/whatever $ mkdir /proc /sys /mnt /media For the system to boot, you will need to restore grub. To do this, you will need to reconfigure it in a chroot:\n$ sudo -s for f in dev dev/pts proc ; do mount --bind /$f /media/whatever/$f ; done $ chroot /media/whatever $ dpkg-reconfigure grub-pc You will get a menu asking you what drive(s) grub should be installed on. Choose whatever drive(s) the computer will be booting from.\nFor more information on repairing grub, see [GrubHowto](https://help.ubuntu.com/community/GrubHowto#Backup, Repairing and Reinstalling GRUB)\nOthers Does the UEFI partition either \u0026ldquo;MUST\u0026rdquo; or \u0026ldquo;SHOULD\u0026rdquo; be first for some reason? If so why?\nThe key words \u0026ldquo;SHOULD\u0026rdquo;, \u0026ldquo;MUST\u0026rdquo; and \u0026ldquo;MAY\u0026rdquo; (capitalised) in this answer are to be interpreted as described in RFC 2119.\nAn (U)EFI System Partition (ESP from now on):\n MAY reside at the beginning of the disk and SHOULD be FAT32 because of Windows compatibility.  The only official limit is:\n the ESP MUST reside in the first 2.2 Terabytes of the disk.  So, the ESP MUST reside anywhere in those first 2.2 TB of the disk, but there is absolutely no need for the ESP to be the first partition or reside on the beginning of the disk whatsoever. (It\u0026rsquo;s just that some large company in Redmond, WA advises system integrators differently)\u0026hellip;\nI would put it as the last partition on the disk (if \u0026lt; 2.2TB) as it\u0026rsquo;s only used to load other OSes, but that\u0026rsquo;s just a personal, totally subjective opinion!\nubuntu 20.04 é»˜è®¤ fstab\n# / was on /dev/sda2 during installation UUID=4b66082e-7982-4056-91c2-39cf9177b20f / ext4 errors=remount-ro 0 1 # /boot/efi was on /dev/sda1 during installation UUID=ACEE-47E4 /boot/efi vfat umask=0077 0 1 /swapfile none swap sw 0 0 /boot/efi æ˜¯ç‹¬ç«‹åˆ†åŒºï¼Œè€Œä¸æ˜¯ /boot/ï¼Œå¦‚æœæ˜¯ /boot/ ä½œä¸ºç‹¬ç«‹åˆ†åŒºï¼Œè¿˜åŸçš„æ—¶å€™ä¼šæŠ¥é”™ cannot create symbolic link \u0026lsquo;./initrd.img\u0026rsquo;: Operation not permitted\nAdd Boot Option Manually\nIn Boot Option Name, type Ubuntu, and in File Name select the file grubx64.efi and then Click on \u0026lsquo;OK\u0026rsquo;.\n13 ä¸ªå¼€æºå¤‡ä»½è§£å†³æ–¹æ¡ˆ\n  Cronopete\n  Deja Dup\n  Rclone\n  Rdiff-backup\n  Restic\n  Rsync\n  BorgBackupï¼šå¸¦æœ‰å‹ç¼©å’ŒåŠ å¯†ç‰¹æ€§ä»¥ç”¨å…·æœ‰æ•°æ®å»é‡åŠŸèƒ½çš„å¤‡ä»½è§£å†³æ–¹æ¡ˆã€‚å®ƒåŸºäº BSD è®¸å¯è¯ï¼Œæ”¯æŒ Linuxã€MacOS å’Œ BSDã€‚\n  UrBackupï¼šå®ƒå¯ä»¥åšé•œåƒå’Œæ–‡ä»¶çš„å®Œæ•´å’Œå¢é‡å¤‡ä»½ï¼›ä½ å¯ä»¥ä¿å­˜æ•´ä¸ªåˆ†åŒºæˆ–å•ä¸ªç›®å½•ã€‚å®ƒæœ‰ Windowsã€Linuxã€å’Œ MacOS å®¢æˆ·ç«¯ï¼Œå¹¶ä¸”é‡‡ç”¨ GNU Affero å…¬å…±è®¸å¯è¯ã€‚\n  LuckyBackupï¼šæ ¹æ®å…¶ç½‘ç«™ä»‹ç»ï¼Œâ€œå®ƒæ˜¯ä¸€ä¸ªæ˜“äºä½¿ç”¨ã€å¿«é€Ÿï¼ˆåªä¼ è¾“å˜åŒ–éƒ¨åˆ†ï¼Œè€Œä¸æ˜¯å…¨éƒ¨æ•°æ®ï¼‰ã€å®‰å…¨ï¼ˆåœ¨åšä»»ä½•æ•°æ®æ“ä½œä¹‹å‰ï¼Œå…ˆæ£€æŸ¥æ‰€æœ‰éœ€è¦å¤‡ä»½çš„ç›®å½•ï¼Œä»¥ç¡®ä¿æ•°æ®å®‰å…¨ï¼‰ã€å¯é å’Œå®Œå…¨å¯å®šåˆ¶çš„å¤‡ä»½è§£å†³æ–¹æ¡ˆã€‚å®ƒåœ¨ GPL è®¸å¯è¯ä¸‹å‘è¡Œã€‚\n  Casync ï¼šä¸€ä¸ªå¯å¯»å€å†…å®¹çš„åŒæ­¥è§£å†³æ–¹æ¡ˆ â€”â€” å®ƒè®¾è®¡ç”¨äºå¤‡ä»½ã€åŒæ­¥ã€å­˜å‚¨å’Œæ£€ç´¢å¤§æ–‡ä»¶ç³»ç»Ÿçš„å¤šä¸ªç›¸å…³ç‰ˆæœ¬ã€‚å®ƒä½¿ç”¨ GNU Lesser å…¬å…±è®¸å¯è¯ã€‚\n  Syncthingï¼šç”¨äºåœ¨ä¸¤å°è®¡ç®—æœºä¹‹é—´åŒæ­¥æ–‡ä»¶ã€‚å®ƒåŸºäº Mozilla å…¬å…±è®¸å¯è¯ä½¿ç”¨ï¼Œæ ¹æ®å…¶ç½‘ç«™ä»‹ç»ï¼Œå®ƒæ˜¯å®‰å…¨å’Œç§å¯†çš„ã€‚å®ƒå¯ä»¥å·¥ä½œäº MacOSã€Windowsã€Linuxã€FreeBSDã€Solaris å’Œ OpenBSDã€‚\n  Duplicatiï¼šä¸€ä¸ªå¯å·¥ä½œäº Windowsã€MacOS å’Œ Linux ä¸Šçš„ã€å¹¶ä¸”æ”¯æŒå¤šç§æ ‡å‡†åè®®ï¼ˆæ¯”å¦‚ FTPã€SSHã€WebDAV å’Œäº‘æœåŠ¡ï¼‰ã€å…è´¹çš„å¤‡ä»½è§£å†³æ–¹æ¡ˆã€‚å®ƒçš„ç‰¹æ€§æ˜¯å¼ºå¤§çš„åŠ å¯†åŠŸèƒ½ï¼Œå¹¶ä¸”å®ƒä½¿ç”¨ GPL è®¸å¯è¯ã€‚\n  Dirvish ï¼šä¸€ä¸ªåŸºäºç£ç›˜çš„è™šæ‹Ÿé•œåƒå¤‡ä»½ç³»ç»Ÿï¼Œå®ƒä½¿ç”¨ OSL-3.0 è®¸å¯è¯ã€‚å®ƒè¦æ±‚å¿…é¡»å®‰è£…æœ‰ Rsyncã€Perl5ã€SSHã€‚\n  Baculaï¼šå…è®¸ç³»ç»Ÿç®¡ç†å‘˜å»ç®¡ç†å¤‡ä»½ã€æ¢å¤ã€å’Œè·¨ç½‘ç»œçš„ä¸åŒç§ç±»è®¡ç®—æœºä¸Šçš„å¤šç§æ•°æ®çš„ä¸€å¥—è®¡ç®—æœºç¨‹åºï¼Œå®ƒæ”¯æŒåœ¨ Linuxã€FreeBSDã€Windowsã€MacOSã€OpenBSD å’Œ Solaris ä¸Šè¿è¡Œï¼Œå¹¶ä¸”å®ƒçš„å¤§éƒ¨åˆ†æºä»£ç éƒ½æ˜¯åŸºäº AGPLv3 è®¸å¯è¯çš„ã€‚\n  BackupPCï¼šä¸€ä¸ªé«˜æ€§èƒ½çš„ã€ä¼ä¸šçº§çš„ã€å¯ä»¥å¤‡ä»½ Linuxã€Windows å’Œ MacOS ç³»ç»Ÿçš„ PC å’Œç¬”è®°æœ¬ç”µè„‘ä¸Šçš„æ•°æ®åˆ°æœåŠ¡å™¨ç£ç›˜ä¸Šçš„å¤‡ä»½è§£å†³æ–¹æ¡ˆã€‚å®ƒæ˜¯åŸºäº GPLv3 è®¸å¯è¯çš„ã€‚\n  Amanda ï¼šä¸€ä¸ªä½¿ç”¨ C å’Œ Perl å†™çš„å¤‡ä»½ç³»ç»Ÿï¼Œå®ƒå…è®¸ç³»ç»Ÿç®¡ç†å‘˜å»å¤‡ä»½æ•´ä¸ªç½‘ç»œä¸­çš„å®¢æˆ·ç«¯åˆ°ä¸€å°æœåŠ¡å™¨ä¸Šçš„ç£å¸¦ã€ç£ç›˜æˆ–åŸºäºäº‘çš„ç³»ç»Ÿã€‚å®ƒæ˜¯ç”±é©¬é‡Œå…°å¤§å­¦äº 1991 å¹´å¼€å‘å¹¶æ‹¥æœ‰ç‰ˆæƒï¼Œå¹¶ä¸”å®ƒæœ‰ä¸€ä¸ª BSD å¼çš„è®¸å¯è¯ã€‚\n  Back in Time ï¼šä¸€ä¸ªä¸º Linux è®¾è®¡çš„ç®€å•çš„å¤‡ä»½å®ç”¨ç¨‹åºã€‚å®ƒæä¾›äº†å‘½ä»¤è¡Œå’Œå›¾å½¢ç”¨æˆ·ç•Œé¢ï¼Œå®ƒä»¬éƒ½æ˜¯ç”¨ Python å†™çš„ã€‚å»æ‰§è¡Œä¸€ä¸ªå¤‡ä»½ï¼Œåªéœ€è¦æŒ‡å®šå­˜å‚¨å¿«ç…§çš„ä½ç½®ã€éœ€è¦å¤‡ä»½çš„æ–‡ä»¶å¤¹ï¼Œå’Œå¤‡ä»½é¢‘ç‡å³å¯ã€‚å®ƒä½¿ç”¨çš„æ˜¯ GPLv2 è®¸å¯è¯ã€‚\n  Timeshift ï¼šä¸€ä¸ª Linux ä¸Šçš„å¤‡ä»½å®ç”¨ç¨‹åºï¼Œå®ƒç±»ä¼¼äº Windows ä¸Šçš„ç³»ç»Ÿæ¢å¤å’Œ MacOS ä¸Šçš„æ—¶é—´èƒ¶å›Šã€‚å®ƒçš„ GitHub ä»“åº“ä¸Šä»‹ç»è¯´ï¼šâ€œTimeshift é€šè¿‡å®šæœŸé€’å¢çš„æ–‡ä»¶ç³»ç»Ÿå¿«ç…§æ¥ä¿æŠ¤ä½ çš„ç³»ç»Ÿã€‚è¿™äº›å¿«ç…§å¯ä»¥åœ¨æ—¥åç”¨äºæ•°æ®æ¢å¤ï¼Œä»¥æ’¤é”€æŸäº›å¯¹æ–‡ä»¶ç³»ç»Ÿçš„ä¿®æ”¹ã€‚â€\n  Kup ï¼šä¸€ä¸ªèƒ½å¤Ÿå¸®åŠ©ç”¨æˆ·å¤‡ä»½å®ƒä»¬çš„æ–‡ä»¶åˆ° USB é©±åŠ¨å™¨ä¸Šçš„å¤‡ä»½è§£å†³æ–¹æ¡ˆï¼Œä½†å®ƒä¹Ÿå¯ä»¥ç”¨äºæ‰§è¡Œç½‘ç»œå¤‡ä»½ã€‚å®ƒçš„ GitHub ä»“åº“ä¸Šä»‹ç»è¯´ï¼šâ€å½“æ’å…¥ä½ çš„å¤–éƒ¨ç¡¬ç›˜æ—¶ï¼ŒKup å°†è‡ªåŠ¨å¯åŠ¨å¹¶å¤åˆ¶ä½ çš„æœ€æ–°çš„ä¿®æ”¹ã€‚â€œ\n  How to make a disk image and restore from it later?/Moving entire Linux installation to another drive\nIt\u0026rsquo;s Clonezilla Live: http://clonezilla.org/\nThe tutorial for Clonezilla can be found here.\nEasy backup/restore of installed system?\nYes you can use remastersys for that.You can see a complete tutorial here\næ¸…ç†ç³»ç»Ÿ åˆ é™¤ä¸å†éœ€è¦çš„åŒ… $ sudo apt autoremove APT cache # see the size of this cache $ sudo du -sh /var/cache/apt # remove only the outdated packages $ sudo apt-get autoclean # delete apt cache in its entirety $ sudo apt-get clean apt-get å’Œè½¯ä»¶ä¸­å¿ƒä¸‹è½½çš„è½¯ä»¶åŒ…ä¸€èˆ¬æ”¾åœ¨ /var/cache/apt/archives/ ç›®å½•ï¼Œä¸€èˆ¬éƒ½å®‰è£…åœ¨ /usr/\nJournal logs # check the log size $ journalctl --disk-usage # clear the logs that are older than a certain days $ journalctl --vacuum-time=3d Thumbnails cache # check the size of thumbnail cache $ du -sh ~/.cache/thumbnails $ rm -rf ~/.cache/thumbnails/* Duplicate files Find and remove duplicate filesï¼šYou can use a GUI tool like FSlint or a command line tool like FDUPES for this task\nOld Linux kernels Remove old Linux kernels\n# List all installed Linux kernels $ sudo dpkg --list \u0026#39;linux-image*\u0026#39; $ apt-get remove linux-image-VERSION æ¸…ç† Snap ä¸ snap æœ‰å…³çš„ç³»ç»Ÿæ–‡ä»¶éƒ½å­˜æ”¾åœ¨ /var/lib/snapd ç›®å½•ä¸‹ã€‚æ ¹æ®ä½ æ‰€å®‰è£…çš„ Snap åŒ…çš„æ•°é‡ï¼Œè¿™ä¸ªç›®å½•çš„å¤§å°å¯èƒ½åœ¨å‡  GBã€‚\n$ sudo du -sh /var/lib/snapd æ ¹æ®è®¾è®¡ï¼ŒSnap è‡³å°‘ä¼šåœ¨ä½ çš„ç³»ç»Ÿä¸Šä¿ç•™ä¸€ä¸ªä½ æ‰€å®‰è£…çš„è½¯ä»¶åŒ…çš„æ—§ç‰ˆæœ¬ã€‚ä½ å¯ä»¥é€šè¿‡ä½¿ç”¨ Snap å‘½ä»¤çœ‹åˆ°è¿™ç§è¡Œä¸ºï¼š\n$ snap list --all ä½ åº”è¯¥çœ‹åˆ°åŒä¸€ä¸ªè½¯ä»¶åŒ…è¢«åˆ—äº†ä¸¤æ¬¡ï¼Œè€Œä¸”ç‰ˆæœ¬å’Œä¿®è®¢å·éƒ½ä¸åŒã€‚\nä¸ºäº†é‡Šæ”¾ç£ç›˜ç©ºé—´ï¼Œä½ å¯ä»¥åˆ é™¤é¢å¤–çš„è½¯ä»¶åŒ…ç‰ˆæœ¬ã€‚ä½ æ€ä¹ˆçŸ¥é“è¦åˆ é™¤å“ªä¸€ä¸ªå‘¢ï¼Ÿä½ å¯ä»¥çœ‹åˆ°ï¼Œè¿™äº›è¾ƒæ—§çš„è½¯ä»¶åŒ…è¢«æ ‡è®°ä¸ºâ€œç¦ç”¨â€ã€‚\n#!/bin/bash # Removes old revisions of snaps # CLOSE ALL SNAPS BEFORE RUNNING THIS set -eu snap list --all | awk \u0026#39;/disabled/{print $1, $3}\u0026#39; | while read snapname revision; do snap remove \u0026#34;$snapname\u0026#34; --revision=\u0026#34;$revision\u0026#34; done å‘½ä»¤è¡ŒæŠ€å·§ Bash å¿«æ·é”® ç¼–è¾‘å‘½ä»¤\n Ctrl + a ï¼šç§»åˆ°å‘½ä»¤è¡Œé¦– Ctrl + e ï¼šç§»åˆ°å‘½ä»¤è¡Œå°¾ Ctrl + f ï¼šæŒ‰å­—ç¬¦å‰ç§»ï¼ˆå³å‘ï¼‰ Ctrl + b ï¼šæŒ‰å­—ç¬¦åç§»ï¼ˆå·¦å‘ï¼‰ Alt + f ï¼šæŒ‰å•è¯å‰ç§»ï¼ˆå³å‘ï¼‰ Alt + b ï¼šæŒ‰å•è¯åç§»ï¼ˆå·¦å‘ï¼‰ Ctrl + xxï¼šåœ¨å‘½ä»¤è¡Œé¦–å’Œå…‰æ ‡ä¹‹é—´ç§»åŠ¨ Ctrl + u ï¼šä»å…‰æ ‡å¤„åˆ é™¤è‡³å‘½ä»¤è¡Œé¦– Ctrl + k ï¼šä»å…‰æ ‡å¤„åˆ é™¤è‡³å‘½ä»¤è¡Œå°¾ Ctrl + w ï¼šä»å…‰æ ‡å¤„åˆ é™¤è‡³å­—é¦– Alt + d ï¼šä»å…‰æ ‡å¤„åˆ é™¤è‡³å­—å°¾ Ctrl + d ï¼šåˆ é™¤å…‰æ ‡å¤„çš„å­—ç¬¦ Ctrl + h ï¼šåˆ é™¤å…‰æ ‡å‰çš„å­—ç¬¦ Ctrl + y ï¼šç²˜è´´è‡³å…‰æ ‡å Alt + c ï¼šä»å…‰æ ‡å¤„æ›´æ”¹ä¸ºé¦–å­—æ¯å¤§å†™çš„å•è¯ Alt + u ï¼šä»å…‰æ ‡å¤„æ›´æ”¹ä¸ºå…¨éƒ¨å¤§å†™çš„å•è¯ Alt + l ï¼šä»å…‰æ ‡å¤„æ›´æ”¹ä¸ºå…¨éƒ¨å°å†™çš„å•è¯ Ctrl + t ï¼šäº¤æ¢å…‰æ ‡å¤„å’Œä¹‹å‰çš„å­—ç¬¦ Alt + t ï¼šäº¤æ¢å…‰æ ‡å¤„å’Œä¹‹å‰çš„å•è¯ Alt + Backspaceï¼šä¸ Ctrl + w ç±»ä¼¼ï¼Œåˆ†éš”ç¬¦æœ‰äº›å·®åˆ«  é‡æ–°æ‰§è¡Œå‘½ä»¤\n Ctrl + rï¼šé€†å‘æœç´¢å‘½ä»¤å†å² Ctrl + gï¼šä»å†å²æœç´¢æ¨¡å¼é€€å‡º Ctrl + pï¼šå†å²ä¸­çš„ä¸Šä¸€æ¡å‘½ä»¤ Ctrl + nï¼šå†å²ä¸­çš„ä¸‹ä¸€æ¡å‘½ä»¤ Alt + .ï¼šä½¿ç”¨ä¸Šä¸€æ¡å‘½ä»¤çš„æœ€åä¸€ä¸ªå‚æ•°  æ§åˆ¶å‘½ä»¤\n Ctrl + lï¼šæ¸…å± Ctrl + oï¼šæ‰§è¡Œå½“å‰å‘½ä»¤ï¼Œå¹¶é€‰æ‹©ä¸Šä¸€æ¡å‘½ä»¤ Ctrl + sï¼šé˜»æ­¢å±å¹•è¾“å‡º Ctrl + qï¼šå…è®¸å±å¹•è¾“å‡º Ctrl + cï¼šç»ˆæ­¢å‘½ä»¤ Ctrl + zï¼šæŒ‚èµ·å‘½ä»¤  Bang (!) å‘½ä»¤\n !!ï¼šæ‰§è¡Œä¸Šä¸€æ¡å‘½ä»¤ !blahï¼šæ‰§è¡Œæœ€è¿‘çš„ä»¥ blah å¼€å¤´çš„å‘½ä»¤ï¼Œå¦‚ !ls !blah:pï¼šä»…æ‰“å°è¾“å‡ºï¼Œè€Œä¸æ‰§è¡Œ !$ï¼šä¸Šä¸€æ¡å‘½ä»¤çš„æœ€åä¸€ä¸ªå‚æ•°ï¼Œä¸ Alt + . ç›¸åŒ !$:pï¼šæ‰“å°è¾“å‡º !$ çš„å†…å®¹ !*ï¼šä¸Šä¸€æ¡å‘½ä»¤çš„æ‰€æœ‰å‚æ•° !*:pï¼šæ‰“å°è¾“å‡º !* çš„å†…å®¹ ^blahï¼šåˆ é™¤ä¸Šä¸€æ¡å‘½ä»¤ä¸­çš„ blah ^blah^fooï¼šå°†ä¸Šä¸€æ¡å‘½ä»¤ä¸­çš„ blah æ›¿æ¢ä¸º foo ^blah^foo^ï¼šå°†ä¸Šä¸€æ¡å‘½ä»¤ä¸­æ‰€æœ‰çš„ blah éƒ½æ›¿æ¢ä¸º foo  ä½ å¯èƒ½ä¸çŸ¥é“çš„SHELL Shellä¹Ÿå«åšå‘½ä»¤è¡Œç•Œé¢ï¼Œå®ƒæ˜¯*nixæ“ä½œç³»ç»Ÿä¸‹ç”¨æˆ·å’Œè®¡ç®—æœºçš„äº¤äº’ç•Œé¢ã€‚Shellè¿™ä¸ªè¯æ˜¯æŒ‡æ“ä½œç³»ç»Ÿä¸­æä¾›è®¿é—®å†…æ ¸æœåŠ¡çš„ç¨‹åºã€‚\nè¿™ç¯‡æ–‡ç« å‘å¤§å®¶ä»‹ç»Shellä¸€äº›éå¹¿ä¸ºäººçŸ¥ã€ä½†å´å®ç”¨æœ‰è¶£çš„çŸ¥è¯†ï¼Œæƒå½“å“å°shellä¸»é£Ÿåçš„ç”œç‚¹å§ã€‚\nç§‘æ™®\nå…ˆç§‘æ™®å‡ ä¸ªä½ å¯èƒ½ä¸çŸ¥é“çš„äº‹å®ï¼š\n  Shellå‡ ä¹æ˜¯å’ŒUnixæ“ä½œç³»ç»Ÿä¸€èµ·è¯ç”Ÿï¼Œç¬¬ä¸€ä¸ªUnix Shellæ˜¯è‚¯Â·æ±¤æ™®é€Šï¼ˆKen Thompsonï¼‰ä»¥Multicsä¸Šçš„Shellä¸ºæ¨¡èŒƒåœ¨1971å¹´æ”¹å†™è€Œæˆï¼Œå¹¶å‘½åThompson shã€‚å³ä¾¿æ˜¯åæ¥æµè¡Œçš„bashï¼ˆshellçš„ä¸€ç§å˜ä½“ï¼‰ï¼Œå®ƒçš„å¹´é¾„å®é™…ä¸Šæ¯”å½“å‰æµè¡Œçš„æ‰€æœ‰çš„Linux kerneléƒ½å¤§ï¼Œå¯è°“åœ¨Linuxç³»ç»Ÿä¸Šæ˜¯å…ˆæœ‰Shellå†æœ‰Kernelã€‚\n  å½“å‰ç»å¤§éƒ¨åˆ†*nixå’ŒMacOSæ“ä½œç³»ç»Ÿé‡Œçš„é»˜è®¤çš„Shelléƒ½æ˜¯bashï¼Œbashç”±Brian Foxåœ¨1987å¹´åˆ›é€ ï¼Œå…¨ç§°Bourne Again shell ( bash)ã€‚\n  ä½ æˆ–è®¸å¬è¯´é™¤äº†bashä¹‹å¤–ï¼Œè¿˜æœ‰Bourne shell ( sh)ï¼ŒKorn shell ( ksh)ï¼ŒC shell ï¼ˆåŒ…æ‹¬ csh and tcshï¼‰ï¼Œä½†æ˜¯ä½ çŸ¥é“è¿™ä¸ªæ˜Ÿçƒä¸Šä¸€å…±å­˜åœ¨ç€å¤§çº¦50å¤šç§ä¸åŒçš„shellä¹ˆï¼Ÿæƒ³äº†è§£ä»–ä»¬ï¼Œè¯·å‚è€ƒ http://www.freebsd.org/ports/shells.htmlã€‚\n  ä¸€äº›å¼ºå¤§çš„å‘½ä»¤\n  åœ¨å‘½ä»¤è¡Œå‰åŠ ç©ºæ ¼ï¼Œè¯¥å‘½ä»¤ä¸ä¼šè¿›å…¥historyé‡Œã€‚\n  ctrl-x e\nå¿«é€Ÿå¯åŠ¨ä½ çš„é»˜è®¤ç¼–è¾‘å™¨ï¼ˆç”±å˜é‡$EDITORè®¾ç½®ï¼‰ã€‚\n  ä¸ºä»€ä¹ˆè¯´ zsh æ˜¯ shell ä¸­çš„æå“ï¼Ÿ è‰²å½©é«˜äº®\nå¹¶ä¸æ˜¯ä¼ ç»ŸåŸºäºæ­£åˆ™è¡¨è¾¾å¼çš„è‰²å½©é«˜äº®ï¼Œè€Œæ˜¯çœŸçš„ä¼šåˆ¤æ–­ä½ è¾“å…¥çš„æ˜¯å•¥çš„è‰²å½©é«˜äº®ã€‚\næ¯”å¦‚ä¸€ä¸ªä¸»é¢˜ç™½è‰²ä»£è¡¨æ™®é€šå‘½ä»¤æˆ–è€…ç¨‹åºï¼Œçº¢è‰²ä»£è¡¨é”™è¯¯å‘½ä»¤ï¼Œé’è‰²çš„ä»£è¡¨å†…å»ºå‘½ä»¤æˆ–è€… alias ï¼ˆecho å’Œ ls ï¼‰ï¼Œè¿™äº›éƒ½ä¸æ˜¯æ­£åˆ™åˆ¤æ–­å‡ºæ¥çš„ï¼Œæ˜¯çœŸçš„å»æ£€æŸ¥çš„ã€‚éé›¶çš„é”™è¯¯ç ï¼ˆä¸Šä¸€æ¡å‘½ä»¤é”™è¯¯ï¼‰ï¼Œä¹Ÿå¯ä»¥é«˜äº®æ˜¾ç¤ºã€‚\nå‘½ä»¤æç¤º\næ³¨æ„ï¼Œå‘½ä»¤æç¤ºå’Œè¡¥å…¨æ˜¯ä¸¤ä¸ªå®Œå…¨ä¸åŒçš„ç³»ç»Ÿï¼Œå¾ˆå¤šæ—¶å€™æç¤ºæ¯”è¡¥å…¨æ›´æœ‰ç”¨ã€‚ä½ è¾“å…¥å‘½ä»¤ï¼Œåé¢å°±ç”¨ç°è‰²ç»™ä½ æç¤ºå‘½ä»¤çš„å‚æ•°ï¼Œè€Œä¸”æ˜¯éšç€ä½ åŠ¨æ€è¾“å…¥å®Œæ¯ä¸€ä¸ªå­—æ¯ä¸æ–­ä¿®æ­£å˜åŒ–ã€‚\nè¿™ä¸ªå‘½ä»¤æç¤ºæ˜¯åŸºäºä½ çš„å†å²å‘½ä»¤æ•°æ®åº“è¿›è¡Œåˆ†æçš„ï¼Œéšç€ä½ è¾“å…¥çš„å‘½ä»¤è¶Šæ¥è¶Šå¤šï¼Œæç¤ºå°†ä¼šè¶Šæ¥è¶Šå‡†ç¡®å’Œé¡ºæ‰‹ã€‚\nå¦‚æœä½ è§‰å¾—å®ƒæç¤ºçš„æ­£ç¡®ï¼Œä½ å¯ä»¥ CTRL+F è¡¨ç¤ºé‡‡çº³ï¼Œåé¢å°±ä¼šè‡ªåŠ¨å¸®ä½ ä¸€æ¬¡æ€§å…¨éƒ¨è¾“å…¥å®Œäº†ã€‚\næ™ºèƒ½è¡¥å…¨\nç¼©å†™è·¯å¾„è¡¥å…¨ï¼š\n$ cd /v/w/h æ•²ä¸€ä¸ªTAB\n$ cd /var/www/html/ è¡¥å…¨ç›®å½•ã€å‘½ä»¤å‚æ•°è¡¥å…¨è¿æ•²ä¸¤æ¬¡TABè¿›å…¥é€‰æ‹©æ¨¡å¼ï¼Œé™¤äº† tab/shift+tab å¯ä»¥å‰ååˆ‡æ¢å¤–ï¼Œä½ è¿˜å¯ä»¥ä½¿ç”¨å…‰æ ‡é”®ä¸Šä¸‹å·¦å³ç§»åŠ¨ã€‚å›è½¦è¡¨ç¤ºç¡®è®¤é€‰æ‹©ï¼Œç”¨ CTRL+G è¡¨ç¤ºé€€å‡ºã€‚\nå¿«é€Ÿè·³è½¬\nè¾“å…¥ cd åé¢åŠ ä¸€ä¸ªå‡å·åï¼ŒæŒ‰ä¸€æ¬¡ tab é©¬ä¸Šå°±åˆ—å‡ºæœ¬æ¬¡ç™»é™†åå»è¿‡çš„æœ€è¿‘å‡ æ¬¡è·¯å¾„ï¼Œæ¥ç€æ ¹æ®ä¸‹é¢çš„æç¤ºè¾“å…¥æ•°å­—æŒ‰å›è½¦å°±è¿‡å»äº†ï¼Œæ¯”å¦‚è¾“å…¥ï¼š\n$ cd -5 \u0026lt;å›è½¦\u0026gt; å½“ç„¶ä½ è¿˜å¯ä»¥ä¸è¾“å…¥æ•°å­—ï¼Œè€Œæ˜¯å†æŒ‰ä¸€æ¬¡ tab è¿›å…¥é€‰æ‹©æ¨¡å¼ï¼Œä¸Šä¸‹é”®æˆ–è€… ctrl+n/p æ¥é€‰æ‹©ï¼Œå›è½¦ç¡®è®¤ï¼Œctrl+g è¿”å›ã€‚\nè‡ªåŠ¨è·³è½¬\næ•²å…¥ z å‘½ä»¤ï¼Œåˆ—å‡ºäº†è‡ªä»æˆ‘å¼€å§‹ç”¨zshè¿›å…¥è¿‡çš„ç›®å½•å’Œä»–ä»¬çš„æƒé‡ï¼Œè¿›å…¥æ¬¡æ•°è¶Šå¤šï¼Œæƒé‡è¶Šå¤§ã€‚z åé¢åŠ ä¸€ä¸ªå…³é”®è¯å°±èƒ½è·³è½¬åˆ°æ‰€æœ‰åŒ¹é…çš„å†å²è·¯å¾„ä¸­æƒé‡æœ€é«˜çš„é‚£ä¸ªäº†ã€‚ç©ºæ ¼åˆ†éš”å¤šä¸ªå…³é”®å­—ï¼Œzä¼šå…ˆåŒ¹é…å‡ºç¬¬ä¸€ä¸ªæ¥ï¼Œç„¶åå†åŒ¹é…ç¬¬äºŒä¸ª\u0026hellip;\nä½¿ç”¨ï¼šâ€œz -l foo\u0026quot; å¯ä»¥åˆ—å‡ºåŒ…å« foo çš„æ‰€æœ‰å†å²è·¯å¾„ã€‚\n# æŒ‰ä¸‹ALT+O å°±æ‰§è¡Œ cd .. å‘½ä»¤ bindkey -s \u0026#39;\\eo\u0026#39; \u0026#39;cd ..\\n\u0026#39; # æŒ‰ä¸‹ ALT+; å°±æ‰§è¡Œ ls -l å‘½ä»¤ bindkey -s \u0026#39;\\e;\u0026#39; \u0026#39;ls -l\\n\u0026#39; çƒ­é”®ç»‘å®š\nzsh é‡Œé¢ä½¿ç”¨ bindkey å‘½ä»¤å¯ä»¥è®¾ç½®ä¸€ç³»åˆ—çƒ­é”®ï¼Œç”¨æ¥è¿è¡ŒæŸä¸€ä¸ª zsh å†…éƒ¨å‘½ä»¤æˆ–è€…æŸä¸ª shell å‘½ä»¤ã€‚\nåº”è¯¥çŸ¥é“çš„LINUXæŠ€å·§ é¦–å…ˆï¼Œæˆ‘æƒ³å‘Šè¯‰å¤§å®¶ï¼Œåœ¨Unix/Linuxä¸‹ï¼Œæœ€æœ‰æ•ˆç‡æŠ€å·§çš„ä¸æ˜¯æ“ä½œå›¾å½¢ç•Œé¢ï¼Œè€Œæ˜¯å‘½ä»¤è¡Œæ“ä½œï¼Œå› ä¸ºå‘½ä»¤è¡Œæ„å‘³ç€è‡ªåŠ¨åŒ–ã€‚\næ—¥å¸¸\n  è¯·man bashåæŸ¥æ‰¾Readline Key Bindingsä¸€èŠ‚æ¥çœ‹çœ‹bashçš„é»˜è®¤çƒ­é”®ï¼Œæ¯”å¦‚ï¼šAlt-. æŠŠä¸Šä¸€æ¬¡å‘½ä»¤çš„æœ€åä¸€ä¸ªå‚æ•°æ‰“å‡ºæ¥ï¼Œè€ŒAlt-* åˆ™åˆ—å‡ºä½ å¯ä»¥è¾“å…¥çš„å‘½ä»¤ã€‚\n  å›åˆ°ä¸Šä¸€æ¬¡çš„å·¥ä½œç›®å½•ï¼š cd â€“ ï¼ˆå›åˆ°homeæ˜¯ cd ~ï¼‰\n  pstree -p å¯ä»¥å¸®ä½ æ˜¾ç¤ºè¿›ç¨‹æ ‘ã€‚\n  ä½¿ç”¨ pgrep å’Œ pkill æ¥æ‰¾åˆ°æˆ–æ˜¯kill æŸä¸ªåå­—çš„è¿›ç¨‹ã€‚ (-f é€‰é¡¹å¾ˆæœ‰ç”¨).\n  é€šè¿‡ \u0026lt;(some command) å¯ä»¥æŠŠæŸå‘½ä»¤å½“æˆä¸€ä¸ªæ–‡ä»¶ã€‚ç¤ºä¾‹ï¼šæ¯”è¾ƒä¸€ä¸ªæœ¬åœ°æ–‡ä»¶å’Œè¿œç¨‹æ–‡ä»¶ /etc/hostsï¼š diff /etc/hosts \u0026lt;(ssh somehost cat /etc/hosts)\n  åœ¨ bashä¸­ï¼Œä½¿ç”¨é‡å®šå‘åˆ°æ ‡å‡†è¾“å‡ºå’Œæ ‡å‡†é”™è¯¯ã€‚å¦‚ï¼š some-command \u0026gt;logfile 2\u0026gt;\u0026amp;1ã€‚\n  ä½¿ç”¨ man ascii æ¥æŸ¥çœ‹ ASCII è¡¨ã€‚\n  ç³»ç»Ÿè°ƒè¯•\n  å¦‚æœä½ æƒ³çŸ¥é“ç£ç›˜ã€CPUã€æˆ–ç½‘ç»œçŠ¶æ€ï¼Œä½ å¯ä»¥ä½¿ç”¨ iostat, netstat, top (æˆ–æ›´å¥½çš„ htop), è¿˜æœ‰ dstat å‘½ä»¤ã€‚ä½ å¯ä»¥å¾ˆå¿«åœ°çŸ¥é“ä½ çš„ç³»ç»Ÿå‘ç”Ÿäº†ä»€ä¹ˆäº‹ã€‚å…³äºè¿™æ–¹é¢çš„å‘½ä»¤ï¼Œè¿˜æœ‰iftop, iotopç­‰ã€‚\n  è¦äº†è§£å†…å­˜çš„çŠ¶æ€ï¼Œä½ å¯ä»¥ä½¿ç”¨freeå’Œvmstatå‘½ä»¤ã€‚å…·ä½“æ¥è¯´ï¼Œä½ éœ€è¦æ³¨æ„ â€œcachedâ€ çš„å€¼ï¼Œè¿™ä¸ªå€¼æ˜¯Linuxå†…æ ¸å ç”¨çš„å†…å­˜ã€‚è¿˜æœ‰freeçš„å€¼ã€‚\n  å¦‚æœä½ è¦æ‰¾åˆ°å“ªä¸ªsocketæˆ–è¿›ç¨‹åœ¨ä½¿ç”¨ç½‘ç»œå¸¦å®½ï¼Œä½ å¯ä»¥ä½¿ç”¨ iftop æˆ– nethogsã€‚\n  å¦‚æœä½ è¦æŠ“ç½‘ç»œåŒ…çš„è¯ï¼Œè¯•è¯• wireshark æˆ– tsharkã€‚\n  äº†è§£ strace å’Œ ltraceã€‚è¿™ä¸¤ä¸ªå‘½ä»¤å¯ä»¥è®©ä½ æŸ¥çœ‹è¿›ç¨‹çš„ç³»ç»Ÿè°ƒç”¨ï¼Œè¿™æœ‰åŠ©äºä½ åˆ†æè¿›ç¨‹çš„hangåœ¨å“ªäº†ï¼Œæ€ä¹ˆcrashå’Œfailedçš„ã€‚ä½ è¿˜å¯ä»¥ç”¨å…¶æ¥åšæ€§èƒ½profileï¼Œä½¿ç”¨ -c é€‰é¡¹ï¼Œä½ å¯ä»¥ä½¿ç”¨-pé€‰é¡¹æ¥attachä¸Šä»»æ„ä¸€ä¸ªè¿›ç¨‹ã€‚\n  äº†è§£ç”¨lddå‘½ä»¤æ¥æ£€æŸ¥ç›¸å…³çš„åŠ¨æ€é“¾æ¥åº“ã€‚æ³¨æ„ï¼šlddçš„å®‰å…¨é—®é¢˜\n  ä½¿ç”¨gdbæ¥è°ƒè¯•ä¸€ä¸ªæ­£åœ¨è¿è¡Œçš„è¿›ç¨‹æˆ–åˆ†æcore dumpæ–‡ä»¶ã€‚å‚çœ‹æˆ‘å†™çš„ã€ŠGDBä¸­åº”è¯¥çŸ¥é“çš„å‡ ä¸ªè°ƒè¯•æ–¹æ³•ã€‹\n  å­¦ä¼šåˆ° /proc ç›®å½•ä¸­æŸ¥çœ‹ä¿¡æ¯ã€‚è¿™æ˜¯ä¸€ä¸ªLinuxå†…æ ¸è¿è¡Œæ—¶è®°å½•çš„æ•´ä¸ªæ“ä½œç³»ç»Ÿçš„è¿è¡Œç»Ÿè®¡å’Œä¿¡æ¯ï¼Œæ¯”å¦‚ï¼š /proc/cpuinfo, /proc/xxx/cwd, /proc/xxx/exe, /proc/xxx/fd/, /proc/xxx/smaps.\n  å¦‚æœä½ è°ƒè¯•æŸä¸ªä¸œè¥¿ä¸ºä»€ä¹ˆå‡ºé”™æ—¶ï¼Œsarå‘½ä»¤ä¼šæœ‰ç”¨ã€‚å®ƒå¯ä»¥è®©ä½ çœ‹çœ‹ CPU, å†…å­˜, ç½‘ç»œ, ç­‰çš„ç»Ÿè®¡ä¿¡æ¯ã€‚\n  ä½¿ç”¨ dmesg æ¥æŸ¥çœ‹ä¸€äº›ç¡¬ä»¶æˆ–é©±åŠ¨ç¨‹åºçš„ä¿¡æ¯æˆ–é—®é¢˜ã€‚\n  powerline-shell ä¸æƒ³æ¯æ¬¡éƒ½å®‰è£… zsh ä¸ ohmyzshï¼Ÿ\n$ pip install powerline-shell Add the following to your .bashrc file:\nfunction _update_ps1() { PS1=$(powerline-shell $?) } if [[ $TERM != linux \u0026amp;\u0026amp; ! $PROMPT_COMMAND =~ _update_ps1 ]]; then PROMPT_COMMAND=\u0026#34;_update_ps1; $PROMPT_COMMAND\u0026#34; fi é»˜è®¤çš„è¯ï¼Œè·¯å¾„ä¼šå®Œæ•´æ˜¾ç¤ºï¼Œä¼šå¾ˆé•¿\ngenerate the default config at this location using:\n$ mkdir -p ~/.config/powerline-shell \u0026amp;\u0026amp; \\ powerline-shell --generate-config \u0026gt; ~/.config/powerline-shell/config.json Segment Configuration\n{ \u0026#34;segments\u0026#34;: [ \u0026#34;virtual_env\u0026#34;, \u0026#34;username\u0026#34;, \u0026#34;hostname\u0026#34;, \u0026#34;ssh\u0026#34;, \u0026#34;cwd\u0026#34;, \u0026#34;git\u0026#34;, \u0026#34;hg\u0026#34;, \u0026#34;jobs\u0026#34;, \u0026#34;root\u0026#34; ], + \u0026#34;cwd\u0026#34;: + { + \u0026#34;max_depth\u0026#34;: 1 +\t} } æ£€æµ‹ç¡¬ç›˜åé“å’Œåå— ç¡¬ç›˜åé“åˆ†ä¸ºç‰©ç†åé“å’Œé€»è¾‘åé“ã€‚\n ç‰©ç†åé“ï¼šå°±æ˜¯ç¡¬ç›˜å®ä½“æœ‰åçš„åœ°æ–¹ï¼Œç‰©ç†åé“æ¨èæ¢ç¡¬ç›˜ï¼Œå½“ç„¶ä¹Ÿæœ‰åŠæ³•é‡æ–°åˆ†åŒºæ¥éš”ç¦»åé“ï¼Œä¸è¿‡å¯èƒ½ä¹Ÿç”¨ä¸ä¹…ï¼Œæ‰€ä»¥ä¸æ¨èã€‚ é€»è¾‘åé“ï¼šæ˜¯ç£ç›˜ç£é“ä¸Šé¢çš„æ ¡éªŒä¿¡æ¯ï¼ˆECCï¼‰è·Ÿç£é“çš„æ•°æ®å¯¹ä¸ä¸Šå·æ‰€è‡´ã€‚å‡ºç°è¿™ä¸€æ•…éšœçš„åŸå› ï¼Œé€šå¸¸éƒ½æ˜¯å› ä¸ºä¸€äº›ç¨‹åºçš„é”™è¯¯æ“ä½œæˆ–æ˜¯è¯¥å¤„æ‰‡åŒºçš„ç£ä»‹è´¨å¼€å§‹å‡ºç°ä¸ç¨³å®šçš„å…ˆå…†ã€‚ç‰©ç†åé“ä¹Ÿæ˜¯é€»è¾‘åé“äº§ç”Ÿçš„ä¸€ç§åŸå› ã€‚  å‘ç° dmesgï¼šå½“æœ‰ç¡¬ç›˜åé“æ—¶ï¼Œé€šå¸¸åœ¨dmesgè¾“å‡ºçš„ä¿¡æ¯ä¸­ä¼šæœ‰ Buffer I/O Errorï¼Œæ‰€ä»¥ç»å¸¸æ£€æŸ¥dmesgçš„è¾“å‡ºå¯ä»¥åŠæ—¶å‘ç°æ˜¯å¦å­˜åœ¨ç¡¬ç›˜é—®é¢˜ã€‚\næ£€æµ‹ é€šè¿‡fdisk æŸ¥çœ‹æ˜¾ç¤ºæ‰€æœ‰ç£ç›˜æˆ–é—ªå­˜çš„ä¿¡æ¯\n$ sudo fdisk -l /dev/sd* ä½¿ç”¨ badlocksæ£€æŸ¥ linux ç¡¬ç›˜ä¸Šçš„åé“/åå—\n$ sudo badblocks -s -v /dev/sdb \u0026gt; badsectors.txt ä¿®å¤ æŸ¥çœ‹ä¸Šè¿°åˆ†åŒºæ£€æŸ¥å‡ºæ¥çš„åé“ä¿¡æ¯\n$ tail -f badsectors.txt å…ˆå¤‡ä»½æ•°æ®å†ä¿®å¤ç£ç›˜ã€‚ç¡¬ç›˜åœ¨ä½¿ç”¨æ—¶ä¸èƒ½ä¿®å¤ï¼Œå¦åˆ™å¯èƒ½å­˜åœ¨å†™å¹¶å‘çš„é—®é¢˜ï¼Œæ‰€ä»¥ä¿®å¤å‰éœ€è¦umountå¯¹åº”åˆ†åŒº,æˆ–ä½¿ç”¨ Live CD\n$ sudo umount MountPoint umount åˆ†åŒºæˆåŠŸåï¼Œä¿®å¤å‘½ä»¤å¦‚ä¸‹ï¼Œå…¶ä¸­-wè¡¨ç¤ºå†™å…¥ä¿®å¤çš„ï¼Œåé¢æ˜¯ç»“æŸï¼ˆENDï¼‰å’Œå¼€å§‹ï¼ˆSTARTï¼‰å—å·ï¼Œæ³¨æ„ENDåœ¨å‰ï¼ŒSTARTåœ¨åã€‚\n$ sudo badblocks -s -w /dev/sdb 205971590 205971595 ä¿®å¤åå†æ¬¡æ£€æŸ¥\n$ sudo badblocks -s -v /dev/sdb 205971590 205971595 å±è”½ æ‰§è¡Œe2fsckï¼ˆé’ˆå¯¹ ext2/ext3/ext4 æ–‡ä»¶ç³»ç»Ÿï¼‰æˆ–fsckå‘½ä»¤ï¼Œå‘½ä»¤ä¸­è¿˜éœ€è¦ç”¨åˆ° badsectors.txt æ–‡ä»¶å’Œè®¾å¤‡æ–‡ä»¶ã€‚\n# for ext2/ext3/ext4 $ sudo e2fsck -l badsectors.txt /dev/sdb # others $ sudo fsck -l badsectors.txt /dev/sdb å¦‚ä½•æ¢ç´¢ å¾ã€ŒæŒ‡ä»¤ã€æ‰¾åˆ°ã€Œä½¿ç”¨èªªæ˜ã€\næ‰¾ä½¿ç”¨èªªæ˜\n$ man -f ls é–±è®€ä½¿ç”¨èªªæ˜\n$ man ls $ man 1 ls # è‹¥æ˜¯ã€Œbashã€å…§å»ºçš„æŒ‡ä»¤ï¼Œå‰‡æ˜¯å¯ä»¥ä½¿ç”¨ã€Œhelpã€ $ help if ä¸Šé¢çš„ã€Œman 1 lsã€ï¼Œã€Œ1ã€æŒ‡çš„æ˜¯ã€ŒManpage Sectionsã€ã€‚\nåŸ·è¡Œä¸‹é¢æŒ‡ä»¤å¯ä»¥çœ‹åˆ°å„å€‹ã€ŒSectionã€çš„ç°¡ä»‹ã€‚\n$ whatis intro ç„¶å¾Œåˆ†åˆ¥åŸ·è¡Œä¸‹é¢çš„æŒ‡ä»¤ï¼Œå¯ä»¥é–±è®€æ›´è©³ç´°çš„èªªæ˜\n$ man 1 intro $ man 2 intro $ man 3 intro $ man 4 intro $ man 5 intro $ man 6 intro $ man 7 intro $ man 8 intro å¾ã€ŒæŒ‡ä»¤ã€æ‰¾åˆ°ã€Œæ‰€å±¬å¥—ä»¶ã€\nå…ˆé€éã€Œwhereisã€ä¾†æ‰¾åˆ°ã€Œlsã€æ‰€åœ¨çš„ç¢ºåˆ‡è·¯å¾‘ã€‚\n$ whereis ls ls: /bin/ls ç„¶å¾Œæ ¹æ“šé€™å€‹çµæœï¼Œå†åŸ·è¡Œä¸‹é¢çš„æŒ‡ä»¤\n$ rpm -qf /bin/ls $ dpkg -S /bin/ls coreutils-8.32-1.2.x86_64 æ‰¾ã€Œå·²å®‰è£å¥—ä»¶ã€çš„ã€Œæª”æ¡ˆåˆ—è¡¨ã€\n$ rpm -ql coreutils $ dpkg -L coreutils Transfer files between Linux and Android  Connect Using USB Cable Apps  KDE Connect/GSConnect Android File Transfer AirDroid   Bluetooth  Xorg vs Wayland Xå³X11ã€X Window Systemï¼Œæ˜¯ç”¨äºåœ¨ç±»UNIXçš„æ“ä½œç³»ç»Ÿä¸Šçš„ä½å›¾æ˜¾ç¤ºçš„çª—å£ç³»ç»Ÿï¼Œæä¾›äº†GUIç¯å¢ƒçš„åŸºæœ¬æ¡†æ¶ã€‚Xç”±X.Org Foundationç»´æŠ¤ï¼Œéµå®ˆMITåè®®ï¼Œå½“å‰å‚è€ƒå®ç°ä¸ºX.Org Serverã€‚åœ¨æ¶æ„æ–¹é¢ï¼ŒXä½¿ç”¨äº†C/Sæ¨¡å‹ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨å¯ä»¥åœ¨åŒä¸€ä¸ªæœºå™¨ä¸Šï¼Œä¹Ÿå¯ä»¥åœ¨ä¸åŒçš„æœºå™¨ä¸Šï¼ŒXä½œä¸ºServerä¸ºåº”ç”¨ç¨‹åºè¿™ä¸ªClientæä¾›æ˜¾ç¤ºå’ŒI/OæœåŠ¡ã€‚\nWaylandæ˜¯ä¸€ä¸ªæ˜¾ç¤ºæœåŠ¡åè®®ï¼ŒæœåŠ¡ç«¯ä¸ºWayland Compositorï¼ŒæŠŠXçš„X Serverå’ŒCompositoråˆäºŒä¸ºä¸€ï¼Œæ—¨åœ¨æ›¿æ¢Xï¼Œä½œä¸ºç±»Unixæ“ä½œç³»ç»Ÿä¸Šæ›´ç°ä»£ã€ç®€ä»‹çš„çª—å£ç³»ç»Ÿï¼Œéµå®ˆMITåè®®ï¼Œæä¾›äº†Wayland Compositorçš„å‚è€ƒCè¯­è¨€å®ç°Westonã€‚\næ—¶è‡³ä»Šæ—¥ï¼ŒåŸæœ¬åœ¨X Serverä¸­åšçš„äº‹å¾ˆå¤šå·²è¢«ç§»åˆ°kernelæˆ–è€…å•ç‹¬çš„åº“ä¸­ï¼Œå› æ­¤X Serverå°±æ˜¾å¾—æ¯”è¾ƒç´¯èµ˜äº†ã€‚Waylandåœ¨æ¶æ„ä¸Šå»æ‰äº†è¿™ä¸ªä¸­é—´å±‚ï¼Œå°†compositorä½œä¸ºdisplay serverï¼Œä½¿clientä¸compositorç›´æ¥é€šä¿¡ï¼Œä»è€Œåœ¨çµæ´»æ€§å’Œæ€§èƒ½ç­‰æ–¹é¢ä¸Šèƒ½å¤Ÿæ¯”å‰è¾ˆæ›´åŠ å‡ºè‰²ã€‚\næŸ¥çœ‹æ˜¯å¦ä½¿ç”¨ wayland\n$ echo $XDG_SESSION_TYPE Fedoraã€openSUSE ç¾¤è®¨è®º\nAppImageçš„åˆ¶é€ è€…å°±æ˜¯å…¶ä¸­ä¸€ä¸ªã€‚ä¸»è¦åå¯¹çš„æ˜¯Waylandå£°ç§°è‡ªå·±å–ä»£X11ï¼Œä½†åœ¨åŠŸèƒ½é›†åˆä¸ŠäºŒè€…å®Œå…¨ä¸åœ¨ä¸€ä¸ªå±‚é¢ï¼Œåè€…æ¯”å‰è€…å¼ºå¤ªå¤šäº†ã€‚\nè€Œä»–åå¯¹çº¢å¸½çš„ä¸œè¥¿ä¸»è¦æ˜¯å› ä¸ºçº¢å¸½ä¸€ç›´å°±æ˜¯Linuxæ¡Œé¢é¢†åŸŸæ¯”è¾ƒå¼ºæƒçš„é‚£ä¸ªä¼ä¸šï¼Œæ¯”å¦‚æ—©æœŸPulseAudioï¼Œæ¯”å¦‚SystemDï¼Œæ—©æœŸå¤šç¾å¤šéš¾åˆ¶é€ äº†å¾ˆå¤šéº»çƒ¦ã€‚\næ¨å‡ºä¸€ä¸ªæ–°æŠ€æœ¯ï¼Œåœ¨å…¶ä¸å®Œå–„çš„å‰æä¸‹å°±æƒ³ç€å–ä»£æ—§æŠ€æœ¯ï¼Œå¯¹äºæ—§æŠ€æœ¯å­˜åœ¨çš„ä½†æ–°æŠ€æœ¯ä¸å­˜åœ¨çš„åŠŸèƒ½å´å®Œå…¨ä¸è€ƒè™‘è¿‡æ¸¡æ–¹æ¡ˆï¼Œå¯¼è‡´æŠ€æœ¯è¿­ä»£çš„è¿‡ç¨‹ä¸­ç”¨æˆ·å°±ä¸€æ¬¡åˆä¸€æ¬¡åœ°è¢«æŠ›å¼ƒã€‚å°¤å…¶å’Œå¾®è½¯å¯¹æ¯”èµ·æ¥ï¼Œå¾®è½¯åœ¨ç æ‰å¾ˆé‡è¦çš„æ—§åŠŸèƒ½çš„æ—¶å€™ä¼šæœ‰å®Œå¤‡çš„è¿‡æ¸¡æ–¹æ¡ˆï¼Œå¹¶ä¸”å¯¹äºæ—§æŠ€æœ¯ä¾ç„¶ä¿æŒæé•¿çš„æ”¯æŒå‘¨æœŸã€‚ä¸è¿‡æ¯•ç«ŸWindows 8é‚£æ—¶å€™ç”¨æˆ·å•¥ååº”å¤§å®¶ä¹Ÿä¸æ˜¯ä¸çŸ¥é“ã€‚\nèƒ½ç†è§£ï¼Œå¹¶ä¸”æˆ‘æœ‰æ—¶å€™ä¹Ÿä¼šæœ‰åŒæ ·çš„æŠ±æ€¨ï¼Œåˆšå­¦ä¼šä¸€ä¸ªæ–°è½¯ä»¶ï¼Œç»“æœè¿‡åŠå¹´è¿™ä¸ªè½¯ä»¶å°±è¢«ä¸‹ä¸€æ¬¡æ›´æ–°æŠ›å¼ƒäº†ã€‚AppImageçš„åˆ¶é€ è€…å¯èƒ½æ˜¯å¸Œæœ›Linuxæ¡Œé¢èƒ½å­¦ä¹ ä¸€ä¸‹å¾®è½¯çš„ä¸€äº›ç­–ç•¥ã€‚\nè‡³äºä¸ºä»€ä¹ˆåå¯¹Flatpakï¼Œå› ä¸ºFlatpakæ˜¯çº¢å¸½éšåŒWaylandã€Gnomeä¸€èµ·å¼ºæ¨çš„æŠ€æœ¯ã€‚\nX11 ä¸ºä»€ä¹ˆå¼º?\nè¿œç¨‹åº”ç”¨ï¼ŒåªæŠŠè¿œç¨‹ç³»ç»Ÿçš„ä¸€ä¸ªåº”ç”¨ç¨‹åºåœ¨æœ¬æœºæ‰“å¼€ã€‚Xä¸‹é¢éå¸¸è½»æ¾ï¼Œè¿™å°±æ˜¯XåŠŸèƒ½çš„ä¸€éƒ¨åˆ†ã€‚å¾®è½¯çš„RDPä¹Ÿæœ‰åŒæ ·çš„åŠŸèƒ½ã€‚å¹¶ä¸”æ¸²æŸ“å·¥ä½œæ˜¯åœ¨å‘èµ·è¿œç¨‹è¿æ¥çš„é‚£ä¸€æ®µå®Œæˆçš„ã€‚Waylandä¸‹é¢ï¼Œæ²¡æœ‰ï¼Œå®Œå…¨ä¾èµ–çª—å£ç®¡ç†å™¨è‡ªå·±æä¾›çš„åŠŸèƒ½ï¼Œè€Œç›®å‰èƒ½åšåˆ°çš„æé™å°±æ˜¯ä¸ªVNCã€‚\nç»Ÿä¸€çš„å›¾å½¢åº“ï¼ŒXlibï¼ŒWindowsä¸‹ä¸ä¹‹å¯¹åº”çš„æ˜¯Win32çš„UIéƒ¨åˆ†ã€‚æ‰€æœ‰X11çš„çª—å£ç®¡ç†å™¨éƒ½æä¾›ç¨³å®šä¸”ç»Ÿä¸€çš„å›¾å½¢åº“ã€‚åœ¨Waylandä¸‹é¢ï¼Œæ²¡æœ‰ï¼Œåªèƒ½ç»™ä½ pushä¸€å †åƒç´ ç‚¹ï¼Œè¿™å°±æ„å‘³ç€Waylandçš„åº”ç”¨ç¨‹åºçš„å‘ä¸‹å…¼å®¹æ€§ä¼šæ¯”åŸå…ˆXçš„ç¨‹åºæ›´å·®ã€‚\nç»Ÿä¸€çš„çª—å£ç®¡ç†æ–¹å¼ï¼Œä¹Ÿæ˜¯XæœåŠ¡å™¨çš„æ ‡å‡†åŠŸèƒ½ä¹‹ä¸€ï¼Œåœ¨Windowsä¸‹é¢æˆ‘ä¹Ÿä¸çŸ¥é“å¯¹æ ‡å•¥ï¼Œä½†åªè¦ä¸€ä¸ªæ¡Œé¢ç¯å¢ƒç”¨äº†Xï¼Œé‚£ä¹ˆåº”ç”¨ç¨‹åºå°±èƒ½ç¡®ä¿è‡ªå·±ä½¿ç”¨ä¸€ä¸ªæ ‡å‡†çš„æ–¹æ³•å°±èƒ½ç®¡ç†ç¨‹åºçª—å£ï¼Œåœ¨Windowsä¸‹ä¹Ÿæœ‰åŒæ ·çš„ä¿éšœã€‚Waylandä¸‹é¢ï¼Œæ²¡æœ‰ï¼Œå®Œå…¨ä¾èµ–çª—å£ç®¡ç†å™¨æš´éœ²çš„APIæˆ–è€…æ— éšœç¢APIã€‚\næ¥ä¸Šè¿°ï¼Œç»Ÿä¸€çš„è‡ªåŠ¨åŒ–å·¥å…·å®ç°æ–¹å¼ã€‚Windowsä¸‹é¢çš„AutoHotkeyä¸çŸ¥é“å¤šå°‘äººç”¨è¿‡ï¼Œåœ¨X11ä¸‹é¢å¯¹åº”çš„è½¯ä»¶æ˜¯xdotoolã€‚åœ¨Waylandä¸‹é¢ï¼Œæ²¡æœ‰ã€‚ydotoolå…ˆä¸è¯´å®ƒå·²ç»è¢«åŠå¼ƒå‘äº†ï¼Œæœ€ä¸»è¦çš„æ˜¯ydotoolè°ƒç”¨uinputï¼Œåªèƒ½è¾“å…¥ä¸èƒ½è·å¾—çª—å£çŠ¶æ€ã€‚\nç¨‹åºçš„å¯é æ€§ã€‚åœ¨Xä¸‹é¢ï¼Œæ¡Œé¢ç¯å¢ƒæˆ–è€…æ¸²æŸ“å™¨å´©æºƒï¼Œåº”ç”¨ç¨‹åºä¾ç„¶å¥åœ¨ã€‚å¹¶ä¸”Windowsä¹Ÿæ˜¯å¦‚æ­¤çš„ã€‚Waylandä¸‹é¢å°±ä¸æ˜¯è¿™ä¹ˆä¸€å›äº‹äº†ï¼Œè‡³å°‘å¯¹äºGnomeæ¥è®²ï¼Œshellå´©æºƒå°±ä¼šè¿ç€æ‰€æœ‰ç¨‹åºå…¨éƒ¨å´©æºƒã€‚KDEçš„Kwinå®ç°äº†è‡ªå·±çš„ç¨‹åºç•™æ´»æœºåˆ¶ï¼Œä½†è¿™æ ·ä¾¿ä»â€œæ‰€æœ‰X11æ¡Œé¢éƒ½æ”¯æŒâ€å˜æˆäº†â€œåªæœ‰KDEæ”¯æŒâ€ã€‚\nWaylandæ²¡æœ‰ä¸Šè¿°æ‰€æœ‰åŠŸèƒ½çš„åŸå› å¾ˆç®€å•ï¼ŒWaylandä¸æ˜¯è½¯ä»¶ã€ä¸æ˜¯å…·ä½“å®ç°ï¼Œå®ƒåªæ˜¯ä¸ªæ ‡å‡†ï¼Œç”¨æ¥æ˜¾ç¤ºç”»é¢çš„æ ‡å‡†ã€‚\næ˜¯çš„ï¼Œæ²¡é”™ï¼Œè¿™äº›æœ¬æ¥ç¡®å®åº”è¯¥äº¤ç»™çª—å£ç®¡ç†å™¨å’Œæ¸²æŸ“å™¨å®Œæˆã€‚ä½†æ˜¯ï¼ŒWaylandåœ¨ä¸æ”¯æŒè¿™äº›åŠŸèƒ½çš„å‰æä¸‹å´è¡¨ç¤ºè‡ªå·±æ˜¯X11çš„æ›¿ä»£å“/å»¶ç»­å‘å±•ï¼Œè¿™å°±éå¸¸åœ°æœ‰é—®é¢˜ï¼Œå› ä¸ºWaylandå¹¶æ²¡æœ‰åšåˆ°åŠŸèƒ½ä¸Šçš„å»¶ç»­ã€‚\nè€Œä¸”ï¼ŒLinuxæ¡Œé¢ä¸‹é¢çš„å‘ä¸‹å…¼å®¹æ€§é—®é¢˜æåº¦ä¸¥é‡ï¼Œæˆ‘ä¸æƒ³åœ¨è¿™å†é‡å¤ä¸€éã€‚æ¡Œé¢åœ¨ç”¨X11çš„æ—¶å€™ï¼Œè‡³å°‘è¿˜èƒ½ç¡®ä¿Xçš„åŠŸèƒ½æ˜¯ä¸€è‡´çš„ï¼Œæ— è®ºè·‘åœ¨ä»€ä¹ˆæ¡Œé¢ç»„åˆä¸Šéƒ½ä¸ç”¨æ‹…å¿ƒå…¼å®¹æ€§é—®é¢˜ï¼ŒWaylandçš„å‡ºç°ï¼Œåªä¼šè®©åŸæœ¬ç¦»æ•£çš„æ¡Œé¢æ›´åŠ ç¦»æ•£ã€‚\nwlrootsè¢«ç§°ä½œæœ‰å¸Œæœ›ç»Ÿä¸€Waylandæ¸²æŸ“å™¨çš„å®ç°æ–¹å¼ï¼Œå¯æƒœåœ¨æ­¤ä¹‹å‰Gnomeå’ŒKDEå·²ç»å¼€å§‹åšè‡ªå·±çš„Waylandå®ç°äº†ï¼Œè¿™å°±æ„å‘³ç€ä»X11è½¬å‘Waylandï¼Œè‡³å°‘åˆ†è£‚æˆäº†Gnomeã€KDEå’Œwlrootsï¼Œå…¶å®ƒæ¡Œé¢ä¼šä¸ä¼šçªç„¶æƒ³ä¸å¼€è‡ªå·±åšWaylandå®ç°æˆ‘ä»¬ä¹Ÿä¸çŸ¥é“ã€‚è€Œä¸”ï¼Œä¸‰å®¶çš„åˆ†è£‚ï¼Œéš¾é“è¿˜ä¸å¤ŸæŠ˜ç£¨å—ï¼Ÿ\nçœ‹çœ‹Flameshotçš„Waylandæ”¯æŒï¼Œå› ä¸ºå‘ç°Gnomeå’ŒKDEçš„è¿è¡Œè¡¨ç°ä¸åŒï¼Œäºæ˜¯æ”¾å¼ƒäº†Portals APIæ‰“ç®—ç­‰å¾…wlrootsçš„æ ‡å‡†ï¼Œç„¶è€Œwlrootsçš„æ ‡å‡†å’ŒGnomeçš„ä¸äº’é€šï¼Œäºæ˜¯å®ƒçš„æ”¯æŒè®¡åˆ’è¢«å»¶æœŸï¼Œæ— ETAã€‚\nå†çœ‹çœ‹Barrierçš„Waylandæ”¯æŒï¼Œå®ƒforkçš„é¡¹ç›®æ˜¯symlessçš„synergyï¼Œè¿™æ˜¯ä¸ªå•†ä¸šå¼€æºè½¯ä»¶ã€‚Ubuntu 17.04çš„æ—¶å€™æ›¾ç»çŸ­æš‚åˆ‡æ¢åˆ°Waylandï¼Œé‚£æ—¶å€™symlesså°±è®¡åˆ’å¼€å§‹é€‚é…Waylandï¼Œä¹‹åUbuntuæ¢å›X11ï¼Œäºæ˜¯Waylandé€‚é…è®¡åˆ’å°±è¢«æ”¾å¼ƒã€‚å½“ä¸€éƒ¨åˆ†è½¯ä»¶åªè·Ÿç€ä¸€éƒ¨åˆ†å‘è¡Œç‰ˆèµ°ã€è€Œä¸è€ƒè™‘æ•´ä¸ªLinuxæ¡Œé¢ç”Ÿæ€çš„æ—¶å€™ï¼ŒLinuxæ¡Œé¢ä¾¿ä»äº‹å®ä¸Šæ¶ˆå¤±äº†ã€‚æ¥ä¸‹æ¥ä¾¿åªå‰©Ubuntuæ¡Œé¢ã€openSUSEæ¡Œé¢ã€Fedoraæ¡Œé¢äº†ï¼Œè‡³å°‘å¯¹äºISVæ¥è®²æ˜¯è¿™æ ·çš„ï¼Œå› ä¸ºä¸ç„¶çš„è¯æŒ‡æ•°çº§åˆ«çš„é€‚é…éš¾åº¦ä¼šæŠŠå¼€å‘è€…ç´¯æ­»ã€‚\næˆ‘å¹¶ä¸æ˜¯åœ¨å¹X11è¯‹æ¯Waylandã€‚åªæ˜¯æŒ‡å‡ºç°çŠ¶ã€‚æˆ‘çŸ¥é“è¿™ä¸æ˜¯Waylandè¯¥åšçš„äº‹æƒ…ï¼Œåªæ˜¯é—®é¢˜æ˜¯ï¼šæœ‰è°èƒ½æ¥åšï¼Ÿ\nç”¨æˆ·å…³å¿ƒçš„æ˜¯èƒ½ä¸èƒ½ç”¨ä¸Šå¯¹åº”çš„åŠŸèƒ½ï¼ŒWaylandä¹‹ååŠŸèƒ½å°‘äº†ï¼Œé‚£ç”¨æˆ·å°±ä¼šæŠŠé”…ç”©ç»™Waylandã€‚\nè¿™ä¹Ÿæ˜¯AppImageåˆ›é€ è€…ä¸€ç›´åæ„ŸWaylandçš„åŸå› ä¹‹ä¸€ã€‚\nä¸ºä»€ä¹ˆæ‰§è¡Œè‡ªå·±çš„ç¨‹åºè¦åœ¨å‰é¢åŠ ./ shellæ˜¯å¦‚ä½•è¿è¡Œç¨‹åºçš„ï¼šå¦‚æœä¸ç»™å‡ºç›¸å¯¹è·¯å¾„ï¼Œæˆ–è€…ç»å¯¹è·¯å¾„ï¼Œé‚£ä¹ˆå®ƒä¼šç»å†ä¸‹é¢çš„æŸ¥æ‰¾è¿‡ç¨‹ã€‚\n aliasä¸­æŸ¥æ‰¾ å†…ç½®å‘½ä»¤ä¸­æŸ¥æ‰¾ PATHä¸­æŸ¥æ‰¾  $ cd /temp $ ./ls_bak ç­‰åŒäº\n$ /temp/ls_bak shellé€šå¸¸å¯ä»¥æ‰§è¡Œä¸¤ç§ç¨‹åºï¼Œä¸€ç§æ˜¯äºŒè¿›åˆ¶ç¨‹åºï¼Œä¸€ç§æ˜¯è„šæœ¬ç¨‹åºã€‚å¦‚æœæ˜¯æ–‡æœ¬ç¨‹åºï¼Œä¸”å¼€å¤´æ²¡æœ‰æŒ‡å®šè§£é‡Šç¨‹åºï¼Œåˆ™æŒ‰ç…§shellè„šæœ¬å¤„ç†ï¼Œå¦‚æœæŒ‡å®šäº†è§£é‡Šç¨‹åºï¼Œåˆ™ä½¿ç”¨è§£é‡Šç¨‹åºæ¥è§£é‡Šè¿è¡Œï¼›å¯¹äºäºŒè¿›åˆ¶ç¨‹åºï¼Œåˆ™ç›´æ¥åˆ›å»ºæ–°çš„è¿›ç¨‹å³å¯ã€‚\nLTS There is a new release every 6 months (in April and October), with the version number being year.month (e.g.: 16.04 was released in April 2016). Every two years, the April release is a Long Term Support version.\nLTS releases are the â€˜enterprise gradeâ€™ releases of Ubuntu and are used the most. An estimated 95% of all Ubuntu installations are LTS releases.\nInterim releases (normal releases) will introduce new capabilities from Canonical and upstream open source projects, they serve as a proving ground for these new capabilities.\n All Interim releases (13.04 and later) are only supported for 9 months. All LTS releases (12.04 and later) are supported for five years (now is ten years) on both the desktop and the server.  Now, support means:\n Updates for potential security problems and bugs (not new versions of software) Availability of Commercial support contracts from Canonical Support by Landscape, Canonical\u0026rsquo;s enterprise oriented server management tool set  Ubuntu releases additional versions of the last LTS between releasesâ€”such as 14.04.1, that incorporate all of the updates up to this point. This is called a Point-Release (or sometimes snapshot). Those are released every quarter to half year, as needed.\nThe most important thing (for most people) is how long you get to use an install without having to do a release upgrade. A non-LTS version of Ubuntu only gets updates for 9 months from its release so to stay up-to-date â€”which is critically importantâ€” you need to upgrade twice a year; you need to upgrade through every Ubuntu versionâ€¦\nConversely an Ubuntu LTS release is supported for 5 years and you can upgrade directly from LTS to LTS. This gives you long-lived, solid base to target and test on that makes it super-easy to release-upgrade when you decide to. It\u0026rsquo;s therefore ideal for mass deployment, high-availability systems, and just people who don\u0026rsquo;t like doing release-upgrades.\nè®¾è®¡shellè„šæœ¬é€‰é¡¹ getopt å†™shellè„šæœ¬çš„æ—¶å€™ï¼Œé€šè¿‡whileã€caseã€shiftæ¥è®¾è®¡è„šæœ¬çš„å‘½ä»¤è¡Œé€‰é¡¹æ˜¯ä¸€ä»¶æ¯”è¾ƒéº»çƒ¦çš„äº‹ï¼Œå› ä¸ºUnixå‘½ä»¤è¡Œçš„é€‰é¡¹å’Œå‚æ•°è‡ªç”±åº¦å¾ˆé«˜ï¼Œæ”¯æŒçŸ­é€‰é¡¹å’Œé•¿é€‰é¡¹ï¼Œå‚æ•°å¯èƒ½æ˜¯å¯é€‰çš„ï¼Œé€‰é¡¹é¡ºåºå¯èƒ½æ˜¯æ— æ‰€è°“çš„ï¼Œç­‰ç­‰ã€‚\nbashä¸‹çš„getoptå‘½ä»¤å¯ä»¥è§£æå‘½ä»¤è¡Œçš„é€‰é¡¹å’Œå‚æ•°ï¼Œå°†æ•£ä¹±ã€è‡ªç”±çš„å‘½ä»¤è¡Œé€‰é¡¹å’Œå‚æ•°è¿›è¡Œæ”¹é€ ï¼Œå¾—åˆ°ä¸€ä¸ªå®Œæ•´çš„ã€è§„èŒƒåŒ–çš„å‚æ•°åˆ—è¡¨ï¼Œè¿™æ ·å†ä½¿ç”¨whileã€caseå’Œshiftè¿›è¡Œå¤„ç†å°±ç®€å•çš„å¤ªå¤šäº†ã€‚\ngetoptæœ‰ä¸åŒçš„ç‰ˆæœ¬ï¼Œæœ¬æ–‡ä»‹ç»çš„æ˜¯å®ƒçš„å¢å¼ºç‰ˆ(enhanced)ï¼Œç›¸æ¯”ä¼ ç»Ÿçš„getopt(ä¹Ÿç§°ä¸ºå…¼å®¹ç‰ˆæœ¬çš„getopt)ï¼Œå®ƒæä¾›äº†å¼•å·ä¿æŠ¤çš„èƒ½åŠ›ã€‚å¦å¤–ï¼Œé™¤äº†ä¸åŒç‰ˆæœ¬çš„getoptï¼Œbashè¿˜æœ‰ä¸€ä¸ªå†…ç½®å‘½ä»¤getopts(æ³¨æ„ï¼Œæœ‰ä¸ªå°¾éšçš„å­—ç¬¦s)ï¼Œä¹Ÿç”¨æ¥è§£æå‘½ä»¤è¡Œé€‰é¡¹ï¼Œä½†åªèƒ½è§£æçŸ­é€‰é¡¹ã€‚\nè¦éªŒè¯å®‰è£…çš„getoptæ˜¯å¢å¼ºç‰ˆçš„è¿˜æ˜¯ä¼ ç»Ÿç‰ˆçš„ï¼Œä½¿ç”¨getopt -Tåˆ¤æ–­å³å¯ã€‚å¦‚æœå®ƒä»€ä¹ˆéƒ½ä¸è¾“å‡ºï¼Œåˆ™æ˜¯å¢å¼ºç‰ˆï¼Œæ­¤æ—¶å®ƒçš„é€€å‡ºçŠ¶æ€ç ä¸º4ã€‚å¦‚æœè¾“å‡º\u0026quot;\u0026ndash;\u0026quot;ï¼Œåˆ™æ˜¯ä¼ ç»Ÿç‰ˆçš„getoptï¼Œæ­¤æ—¶å®ƒçš„é€€å‡ºçŠ¶æ€ç ä¸º0ã€‚å¦‚æœæƒ³åœ¨è„šæœ¬ä¸­è¿›è¡Œç‰ˆæœ¬æ£€æŸ¥ï¼Œå¯ä»¥å‚è€ƒå¦‚ä¸‹ä»£ç ï¼š\n$ getopt -T \u0026amp;\u0026gt;/dev/null;[ $? -ne 4 ] \u0026amp;\u0026amp; { echo \u0026#34;not enhanced version\u0026#34;;exit 1; } \u0026hellip;\nåœ¨ä¸­æ–‡ä»‹é¢ä¸‹ï¼Œå¦‚ä½•åªç”¨è‹±æ–‡ç›®éŒ„åç¨±ï¼Ÿ  å…ˆåˆ‡åˆ°è‹±æ–‡ä»‹é¢å†é‡æ–°é–‹æ©Ÿï¼Œæ­¤æ™‚ Fedora æœƒå•ä½ è¦ä¸è¦å°‡å­ç›®éŒ„æ›ç‚ºè‹±æ–‡åç¨±ï¼ˆé¸ Yesï¼‰ï¼Œå†åˆ‡å›ä¸­æ–‡ä»‹é¢é‡æ–°é–‹æ©Ÿï¼ŒFedora æœƒå†å•ä½ ä¸€æ¬¡è¦ä¸è¦æ›´æ”¹å­ç›®éŒ„ç‚ºä¸­æ–‡åç¨±ï¼ˆé¸ Noï¼‰ï¼Œæ”¶å·¥ï¼ LANG=C xdg-user-dirs-gtk-update # åŒæ„æ›´æ–° xdg-user-dirs-gtk-update # ä¿ç•™ä¸”ä¸å†å• æ‰‹å‹•ä¿®æ­£é…ç½®æ–‡ä»¶~/.config/user-dirs.dirs ,ç„¶å¾Œåœ¨ä¸»ç›®éŒ„ä¸‹å‰µå»ºå°æ‡‰ç›®éŒ„,é‡å•Ÿå³å¯è§£æ±º.  dd åˆ¶ä½œUç›˜å¯åŠ¨ç›˜ $ dd bs=4M if=fileName.iso of=/dev/sdx status=progress \u0026amp;\u0026amp; sync Windows ä¸‹ç”¨ Rufus ä¸” dd å†™å…¥æ¨¡å¼\nä¸ºä»€ä¹ˆ Linux è¦ç”¨ tar.gzï¼Œå¾ˆå°‘ç”¨ 7Z æˆ– ZIPï¼Ÿ å› ä¸º 7z å’Œ zip å‹ç¼©æ ¼å¼éƒ½ä¸èƒ½ä¿ç•™ unix é£æ ¼çš„æ–‡ä»¶æƒé™ï¼Œæ¯”å¦‚è§£å‹å‡ºä¸ªå¯æ‰§è¡Œæ–‡ä»¶è¦é‡æ–° chmod chown æ‰èƒ½æ¢å¤æ­£å¸¸ã€‚è€Œ tar æ ¼å¼å¯ä»¥ã€‚è€Œ tar æœ¬èº«ä¸æä¾›å‹ç¼©ï¼Œæ— éå°±æ˜¯æŠŠåŒ…æ‹¬æ‰€æœ‰æ–‡ä»¶çš„å…§å®¹å’Œæƒé™æ‹¼æˆä¸€ä¸ªæ–‡ä»¶è€Œå·±ï¼Œæ‰€ä»¥ç”¨å¦å¤–å¦‚ gzip æ ¼å¼å‹ç¼©ã€‚ä¸ºä»€ä¹ˆæ˜¯ gzipï¼Œå› ä¸ºå‡ ä¹æ‰€æœ‰ linux éƒ½æ”¯æŒè€Œå·²ã€‚\nç½®é»˜è®¤ç¼–è¾‘å™¨ visudo ç­‰æ“ä½œä¼šæ‰“å¼€é»˜è®¤ç¼–è¾‘å™¨ï¼Œåœ¨linuxä¸­é»˜è®¤ç¼–è¾‘å™¨è¯»å–EDITORç¯å¢ƒå˜é‡ï¼Œå¯é€šè¿‡ä¸€ä¸‹å‘½ä»¤è®¾ç½®\nexport EDITOR=nano å¯å°†å…¶åŠ å…¥~/.bashrcæ–‡ä»¶ï¼Œä½¿å¾—æ¯æ¬¡ç™»å½•éƒ½å¯ä½¿ç”¨\n$ nano ~/.bashrc export EDITOR=nano $ . ~/.bashrc debianç³»ç»Ÿæä¾›äº†ä¸€ä¸ªç®¡ç†å·¥å…·æ¥è®¾ç½®é»˜è®¤ç¼–è¾‘å™¨\n$ sudo update-alternatives --config editor æœ‰ä¸¤ä¸ªç›¸ä¼¼é€‰é¡¹\n /usr/bin/vim.basic /usr/bin/vim.tiny  å®ƒä»¬çš„åŒºåˆ«ï¼š\nim.basic is just plain vanilla Vim (as you can check with apt-file vim.basic or dpkg -S /usr/bin/vim.basic).\nWhile vim.tiny, as the name implies, is a trimmed-down version of Vim (this question explains it further).\n$ vim.tiny --version é€šè¿‡Linuxç³»ç»Ÿè¿›å…¥ BIOS $ sudo systemctl reboot --firmware-setup 5 Ways to Check CPU Info in Linux  lscpu /proc/cpuinfo lshw hwinfo dmidecodes hardinfo: gui  exFAT æ–‡ä»¶ç³»ç»Ÿ\næ‰€è°“æ–‡ä»¶ç³»ç»Ÿï¼Œå°±æ˜¯æ–‡ä»¶çš„å‚¨å­˜æ–¹å¼ã€‚é€šè¿‡æ–‡ä»¶ç³»ç»Ÿå¯ä»¥å‡†ç¡®æ‰¾åˆ°å­˜å‚¨åœ¨ç¡¬ç›˜ä¸­çš„æ•°æ®ã€‚å‚¨å­˜è®¾å¤‡éƒ½éœ€è¦æŒ‡å®šæ–‡ä»¶ç³»ç»Ÿï¼Œè®¡ç®—æœºæ‰èƒ½è¯»å†™ã€‚\nWindows çš„æ–‡ä»¶ç³»ç»Ÿ\n  FAT32ï¼šæ˜¯æœ€è€çš„æ–‡ä»¶ç³»ç»Ÿï¼Œæ‰€æœ‰æ“ä½œç³»ç»Ÿéƒ½æ”¯æŒï¼Œå…¼å®¹æ€§æœ€å¥½ã€‚ä½†æ˜¯ï¼Œå®ƒæ˜¯ä¸º 32 ä½è®¡ç®—æœºè®¾è®¡çš„ï¼Œæ–‡ä»¶ä¸èƒ½è¶…è¿‡ 232 - 1 ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯ä¸èƒ½è¶…è¿‡ 4GBï¼Œåˆ†åŒºä¸èƒ½è¶…è¿‡ 8TBã€‚\n  NTFSï¼šæ˜¯ Windows çš„é»˜è®¤æ–‡ä»¶ç³»ç»Ÿï¼Œç”¨æ¥æ›¿æ¢ FAT32ã€‚Linux ä¸‹æœ‰å¦‚ä¸‹æ–¹æ³•åˆ›å»º NTFS æ–‡ä»¶ç³»ç»Ÿ\n# gparted $ sudo apt-get install gparted # mkntfs $ sudo apt-get install ntfs-3g $ sudo mkntfs --fast --label myUsbDrive /dev/sdb1 # mkfs $ mkfs.ntfs -f -L DiskLabel /dev/sdb1   exFATï¼šæ˜¯ FAT32 çš„ 64ä½å‡çº§ç‰ˆï¼Œex å°±æ˜¯ extended çš„ç¼©å†™ï¼ˆè¡¨ç¤º\u0026quot;æ‰©å±•çš„ FAT32\u0026quot;ï¼‰ï¼ŒåŠŸèƒ½ä¸å¦‚ NTFSï¼Œä½†æ˜¯è§£å†³äº†æ–‡ä»¶å’Œåˆ†åŒºçš„å¤§å°é—®é¢˜ï¼Œä¸¤è€…æœ€å¤§éƒ½å¯ä»¥åˆ° 128PBã€‚\n  Linux çš„ exFAT æ ¼å¼åŒ–\n$ sudo mkfs.exfat /dev/sdX1 åˆ†åŒºè¡¨\næ‰€è°“ç¡¬ç›˜åˆ†åŒºï¼Œå°±æ˜¯æŒ‡ä¸€å—ç¡¬ç›˜ä¸Šé¢ï¼ŒåŒæ—¶å­˜åœ¨å¤šä¸ªæ–‡ä»¶ç³»ç»Ÿã€‚æ¯ä¸ªæ–‡ä»¶ç³»ç»Ÿç®¡ç†çš„åŒºåŸŸï¼Œå°±ç§°ä¸ºä¸€ä¸ªåˆ†åŒºï¼ˆpartitionï¼‰ã€‚\nåˆ†åŒºå¤§å°ã€èµ·å§‹ä½ç½®ã€ç»“æŸä½ç½®ã€æ–‡ä»¶ç³»ç»Ÿç­‰ä¿¡æ¯ï¼Œéƒ½å‚¨å­˜åœ¨åˆ†åŒºè¡¨é‡Œé¢ã€‚\nåˆ†åŒºè¡¨ä¹Ÿåˆ†æˆä¸¤ç§æ ¼å¼ï¼šMBR å’Œ GPTã€‚å‰è€…æ˜¯ä¼ ç»Ÿæ ¼å¼ï¼Œå…¼å®¹æ€§å¥½ï¼›åè€…æ›´ç°ä»£ï¼ŒåŠŸèƒ½æ›´å¼ºå¤§ã€‚\nLogging in as Root in Ubuntu with Live CD $ sudo passwd root How To Download A Large File Faster From Google Drive? Step 1: Fetching Your File ID\n Open your browser and go to your google drive, open login with the account that has the file you wish to download. Locate the file that you wish to download and select it. Right click the file and click on â€œget shareable linkâ€ You donâ€™t need to copy the entire link here; you only need the file ID that we will be using later.  The link will look like this: https://drive.google.com/file/d/XXXXX/view?usp=sharing\nIn this link, you only need to pay attention to the alphanumeric file ID, displayed by XXXXX here.\nStep 2: Getting an OAuth Code\n Visit OAuth 2.0 Playground by clicking here. On the developerâ€™s webpage, in the â€œSelect \u0026amp; authorize APIsâ€ click on the â€œDrive API v3â€ option, and select the: https://www.googleapis.com/auth/drive.readonly option from the available options. Once selected click Authorize APIs button on the bottom right corner of the tab. After you click on the Authorize APIs button you will be transferred to the google account login screen. Select the same google account in which you have your file stored. Allow Google OAuth 2.0 to access your drive if asked. When you get redirected back to the OAuth 2.0 playground screen click on the â€œExchange Authorization Code for Tokensâ€ button as shown. Copy the newly generated Access Token and save it on your notepad. You will be needing this in the next step.  Step 3: Downloading The File Using A Command Line Script\n$ curl -H \u0026#34;Authorization: Bearer YYYYY\u0026#34; https://www.googleapis.com/drive/v3/files/XXXXX?alt=media -o ZZZZZ In your command, replace â€œXXXXXâ€ with the file ID from above, â€œYYYYYâ€ with the access token from above, and â€œZZZZZâ€ with the file name that will be saved (for example, â€œmyFile.mp4â€ if youâ€™re downloading an mp4 file).\nPress Enter and let the download begin.\nUSBæ’æ§½é¬†å‹•æ€éº¼è¾¦  æ‰‹æœº  å……ç”µå®  ç¬”è®°æœ¬  ç¬”è®°æœ¬  nmcheck.gnome.org nmcheck.gnome.org is not malware. It is the gnome network manager connectivity check (for captive portals/hotspots). Click the link and you will see a single text file with a text in it. It should be \u0026ldquo;NetworkManager is online\u0026rdquo;.\nCheck /etc/NetworkManager/NetworkManager.conf. There probably is a section with this in it:\n[Connectivity] uri=http://nmcheck.gnome.org/check_network_status.txt on Ubuntu 20.04 no [Connectivity]  line like accepted answer in /etc/NetworkManager/NetworkManager.conf.\nBut you can disable the auto connectivity check by:\n Go to Settings app Go to Privacy menu On Connectivity tab, uncheck Connectivity Checking  XDG_TEMPLATES_DIR If you drop any files in \u0026ldquo;Templates\u0026rdquo; folder. Then when you right-click and create a new document, you can select any of these files as a basis for the new file.\nIf you have deleted the folder and need to restore this functionality:\n$ gedit ~/.config/user-dirs.dirs Check that there is a line containing the following - if not, add this line.\nXDG_TEMPLATES_DIR=\u0026quot;$HOME/Templates\u0026quot; è½¯ä»¶çš„ç¨³å®šæ€§ è½¯ä»¶çš„ç¨³å®šæ€§å…¶å®å¾€å¾€æ¥æºäºï¼šè¶³å¤Ÿå¤šçš„ä½¿ç”¨è€…ä¸è¶³å¤Ÿå¤šçš„åé¦ˆè·Ÿæ”¹è¿›ã€‚\nLinuxç³»ç»Ÿï¼Œåœ¨æœåŠ¡å™¨ç«¯çš„å¤§å¤šæ•°å¸¸ç”¨è½¯ä»¶éƒ½æœ‰è¶³å¤Ÿå¤šçš„ä½¿ç”¨è€…ï¼Œæ‰€ä»¥å°±è¶³å¤Ÿç¨³å®šï¼Œç”±äºå®ƒåœ¨æœåŠ¡å™¨ç«¯å¸‚åœºå æœ‰ç‡è¿œé«˜äºå¾®è½¯ï¼Œæ‰€ä»¥æœåŠ¡å™¨ç«¯å°±æ˜¯æ¯”å¾®è½¯ç¨³å®šï¼Œå¾ˆæ­£å¸¸çš„äº‹ã€‚\nåœ¨æ¡Œé¢ç«¯ï¼Œå¸‚åœºå ç”¨ç‡è¿œä½äºå¾®è½¯ï¼Œä¸ç¨³å®šä¹Ÿæ˜¯è‡ªç„¶çš„ã€‚\nä¸ºä»€ä¹ˆLinuxä¸‹å‘½ä»¤è¡Œç¨‹åºå¾€å¾€åˆå¥½ç”¨åˆç¨³å®šï¼Ÿæ˜¯å› ä¸ºç”¨æˆ·å–œæ¬¢è£…é€¼å—ï¼Ÿä¸æ˜¯ï¼Œå› ä¸ºå‘½ä»¤è¡Œç¨‹åºæ˜¯æœåŠ¡å™¨ç«¯è·Ÿæ¡Œé¢ç«¯é€šç”¨çš„ï¼Œè€ŒæœåŠ¡å™¨ç«¯ç¨‹åºç»è¿‡äº†è¶³å¤Ÿå¤šç”¨æˆ·çš„ä½¿ç”¨ï¼Œç»è¿‡äº†è¶³å¤Ÿçš„åé¦ˆå¼€å‘è¿­ä»£ï¼Œæ‰€ä»¥ç¨³å®šã€‚è€Œå›¾å½¢ç•Œé¢åªæœ‰æ¡Œé¢ç”¨æˆ·ç”¨ï¼Œæ¡Œé¢å æœ‰ç‡é‚£ä¹ˆä½ï¼Œè¿™äº›ç¨‹åºå¾€å¾€ç¼ºä¹è¶³å¤Ÿçš„æµ‹è¯•äººåŠ›ä¹Ÿç¼ºä¹è¶³å¤Ÿçš„å¼€å‘ç»´æŠ¤äººåŠ›ï¼Œæ‰€ä»¥å¹¶ä¸ä¼šéå¸¸ç¨³å®šã€‚\né‚£ä¹ˆï¼Œä½ è¦æƒ³ä½“éªŒLinuxç¨³å®šï¼Œæ€ä¹ˆåŠï¼Ÿç­”æ¡ˆå°±æ˜¯åªä½¿ç”¨å¸‚åœºå æœ‰ç‡é«˜ï¼Œç”¨æˆ·é‡å¤§ï¼Œå› è€Œè·å¾—äº†å……åˆ†æµ‹è¯•çš„è½¯ä»¶ï¼Œè¿™å°±ç¨³å®šäº†ã€‚æ¯”æ–¹è¯´åªä½¿ç”¨æœåŠ¡å™¨ç«¯ã€‚æˆ–è€…æ¡Œé¢ç«¯åªä½¿ç”¨æœ€å¸¸ç”¨çš„é‚£äº›ï¼Œä¾‹å¦‚ç»ˆç«¯ä»¿çœŸå™¨ï¼Œæµè§ˆå™¨ï¼Œè¾“å…¥æ³•ï¼Œgccç¼–è¯‘å™¨ä¹‹ç±»ï¼Œè‚¯å®šæ˜¯ç¨³å®šçš„ã€‚\nä½ çœ‹æˆ‘å°±ç”¨æµè§ˆå™¨ï¼Œè¾“å…¥æ³•ï¼Œxtermï¼Œscreenï¼Œç¼–ç¨‹ideï¼Œvimï¼Œä»¥åŠä¸€å †å‘½ä»¤è¡Œçš„ä¸œè¥¿ï¼Œç¨³å®šå¾—å¾ˆå•Šï¼Œå…­ä¸ªæœˆæ‰é‡å¯ä¸€æ¬¡ç”µè„‘ï¼Œé‡å¯çš„é‚£ä¸€æ¬¡è¿˜æ˜¯å› ä¸ºubuntuå‡çº§ã€‚\nå¦‚ä½•å°†Googleæœç´¢é™åˆ¶ä¸ºç‰¹å®šè¯­è¨€çš„ç»“æœ åªæ˜¯æƒ³åœ¨Googleæœç´¢ä¸­æ·»åŠ æœ‰å…³è¯­è¨€å‚æ•°çš„æ›´å…¨é¢çš„ç­”æ¡ˆã€‚\næœ‰4ç§ä¸è¯­è¨€ç›¸å…³çš„é€‰é¡¹ã€‚\nWebç•Œé¢è¯­è¨€ï¼š hl=\nä¾‹ï¼š www.google.com/search?q=vilnius\u0026amp;hl=lt\nWeb Interface Language Codes hl=zh-CN Chinese (Simplified) hl=zh-TW Chinese (Traditional) hl=en English hl=ja Japanese æŒ‡å®šè¯­è¨€çš„é¡µé¢ï¼š lr=lang_\nä¾‹ï¼š www.google.com/search?q=vilnius\u0026amp;lr=lang_lt\nSearch Language Codes lr=lang_zh-CN Chinese (Simplified) lr=lang_zh-TW Chinese (Traditional) lr=lang_en English lr=lang_ja Japanese æ¥è‡ªæŒ‡å®šå›½å®¶/åœ°åŒºçš„é¡µé¢ï¼š cr=country\nç¤ºä¾‹ï¼šwww.google.com/search?q=vilnius\u0026amp;cr=countryLT è¯·æ³¨æ„ï¼Œä¸¤ä¸ªå›½å®¶/åœ°åŒºä»£ç å­—ç¬¦å¿…é¡»å¤§å†™ï¼å¦åˆ™ï¼ŒGoogleä¼šå¿½ç•¥è¯¥å‚æ•°ï¼ˆè‡ª2017å¹´1æœˆ3æ—¥èµ·ï¼‰ï¼ˆå³ä½¿å°å†™å­—æ¯å¯¹äºhl=å’Œéƒ½é€‚ç”¨lr=lang_ï¼‰ã€‚\nè¿˜æœ‰å¦ä¸€ä¸ªå‚æ•°\u0026ndash; gl=ç”¨äºæœç´¢ç»“æœï¼Œå› ä¸ºå®ƒä»¬å°†æ˜¾ç¤ºåœ¨æŒ‡å®šçš„å›½å®¶/åœ°åŒºã€‚æˆ‘å°è¯•å¯¹å…¶è¿›è¡Œæµ‹è¯•ï¼Œä½†å¯¹æˆ‘è€Œè¨€ï¼Œä¸åŒå‚æ•°å€¼çš„ç»“æœæ²¡æœ‰ä¸åŒã€‚æµè§ˆå™¨æˆ–æˆ‘çš„Googleå¸æˆ·çš„æŸäº›å…¶ä»–å‚æ•°/è®¾ç½®å¯èƒ½å·²è¿‡æ—¶æˆ–è¦†ç›–äº†è¯¥è®¾ç½®ã€‚\nTwo Options to Recover Your PC With Android If your PC is out of action, you can install a new operating system or run a recovery environment thanks to Android. Two solid options are available:\n ISO 2 USB: Lets you burn an ISO file directly to a USB flash drive over USB-OTG. DriveDroid: Enables you to store bootable ISO files on Android. With the paid version, support for Windows 10 installation images is added.  good practice to avoid using sudo su It is good practice to avoid performing more actions as root than you need to. sudo facilitates this by allowing you to run individual commands as root without having to log in as root and without needing an interactive root shell for tasks you would otherwise not run a shell to do. But sudo su is not a \u0026ldquo;backdoor,\u0026rdquo; it is simply a somewhat less elegant way to do what sudo is designed to allow you to do with sudo -s. Similarly, sudo -i is the more elegant way to achieve what sudo su - would get you: a simulated initial login shell whose environment is like what you would get if you could log in as root on the command line. See man sudo.\nSSHFS: How to Mount Remote File Systems Over SSH SSHFS (SSH File System) is a client for mounting a file system located on a remote machine onto your local system through an SSH connection. Using the SFTP (SSH file transfer protocol), the SSHFS command-line tool mounts a physical or virtual disk locally, allowing file transfer between a local and remote machine.\nThis article demonstrates the installation and usage of SSHFS to mount a remote folder or file system over SSH.\nInstall SSHFS $ sudo apt install sshfs Mount a Remote File System on Linux Step 1: Create Mount Point\nCreate a mount point directory in the mnt folder where the remote file system will be mounted:\n$ sudo mkdir /mnt/\u0026lt;folder name\u0026gt; Step 2: Mount the Remote File System Using SSHFS\nMount the remote file system to the created mount point using the SSHFS tool:\n$ sudo sshfs [-o \u0026lt;options\u0026gt;] \u0026lt;remote user\u0026gt;@\u0026lt;remote host\u0026gt;:/\u0026lt;path to remote directory\u0026gt; /mnt/\u0026lt;folder name\u0026gt;/ Enter the login password when requested if using password authentication. If the remote server uses SSH key authorization, provide the path of the private key. For example:\n$ sudo sshfs -o allow_other,IdentityFile=/home/kb/.ssh/id_rsa ubuntu@131.153.142.254:/home/ubuntu/ /mnt/test/ The allow_other option allows access to users other than root.\nStep 3: Unmount a Remote File System on Linux\nLastly, when finished with the mount point, unmount the remote file system with:\n$ sudo umount /mnt/\u0026lt;folder name\u0026gt; imgè½¬åŒ–æˆiso IMGæ˜¯ä¸€ç§æ–‡ä»¶å½’æ¡£æ ¼å¼ï¼ˆarchive formatï¼‰ï¼Œä¸»è¦æ˜¯ä¸ºäº†åˆ›å»ºç£ç›˜çš„æ˜ åƒæ–‡ä»¶ï¼ˆdisk imageï¼‰ï¼Œå®ƒå¯ä»¥ç”¨æ¥å°è£…å­˜å‚¨æ•´ä¸ªç£ç›˜ï¼ˆé€šå¸¸æŒ‡è½¯ç£ç›˜ï¼ŒFloppy Diskæˆ–Disketteï¼‰æˆ–æ•´ç‰‡å…‰ç›˜çš„å†…å®¹ï¼Œä½¿ç”¨\u0026quot;.IMG\u0026quot;è¿™ä¸ªæ‰©å±•åçš„æ–‡ä»¶å°±æ˜¯åˆ©ç”¨è¿™ç§æ–‡ä»¶æ ¼å¼æ¥åˆ›å»ºçš„ã€‚\n.IMGè¿™ä¸ªæ–‡ä»¶æ ¼å¼å¯è§†ä¸º.ISOæ ¼å¼çš„ä¸€ç§è¶…é›†åˆã€‚ç”±äº.ISOåªèƒ½å°å­˜ä½¿ç”¨ISO9660å’ŒUDFè¿™ä¸¤ç§æ–‡ä»¶ç³»ç»Ÿçš„å­˜å‚¨ä»‹è´¨ï¼Œæ„å³.ISOåªèƒ½æ‹¿æ¥å°å­˜CDæˆ–DVDï¼Œå› æ­¤æ‰å‘å±•å‡ºäº†.IMGï¼Œå®ƒæ˜¯ä»¥.ISOæ ¼å¼ä¸ºåŸºç¡€å¦å¤–æ–°å¢å¯å°å­˜ä½¿ç”¨å…¶å®ƒæ–‡ä»¶ç³»ç»Ÿçš„å­˜å‚¨ä»‹è´¨çš„èƒ½åŠ›ï¼Œ.IMGå¯å‘åå…¼å®¹äº.ISOï¼Œå¦‚æœæ˜¯æ‹¿æ¥å°å­˜CDæˆ–DVDï¼Œåˆ™ä½¿ç”¨.IMGå’Œ.ISOè¿™ä¸¤ç§æ ¼å¼æ‰€äº§ç”Ÿå‡ºæ¥çš„å†…å®¹æ˜¯ä¸€æ ·çš„ã€‚\nå°†img è½¬åŒ–æˆisoçš„æœ‰ nrg2iso æˆ– ccd2isoï¼Œåˆ†åˆ«ä¸‹è½½å¦‚ä¸‹ï¼š\n$ sudo apt-get install nrg2iso $ sudo apt-get install ccd2iso ä½¿ç”¨å¦‚ä¸‹ï¼š\n$ nrg2iso image.nrg image.iso $ ccd2iso \u0026lt;.img filename\u0026gt; \u0026lt;.iso filename\u0026gt; HWE The Ubuntu LTS enablement (also called HWE or Hardware Enablement) stacks provide newer kernel and X support for existing Ubuntu LTS releases.\nThe 20.04 LTS HWE Stacks continue to follow Rolling Update Model, as has been in use since 16.04 LTS.\nMicrocode æ¯å½“å¬åˆ°æœ‰äººè¯´â€œè¿™ä¸ªé—®é¢˜æ›´æ–°ä¸€ä¸‹å¾®ç å°±å¥½äº†â€ï¼Œå°±è§‰å¾—è¿™ä¸ªå“¥å“¥æ€ä¹ˆè¿™ä¹ˆè¿·äººï¼Œå¥½åƒåœ¨å“ªé‡Œè§è¿‡ã€‚ä¸ºäº†ä¹Ÿè®©è‡ªå·±å˜æˆè¿™ç§è¿·äººçš„å“¥å“¥ï¼Œæˆ‘ä¹Ÿç ”ç©¶äº†ä¸€ä¸‹åˆ°åº•ä»€ä¹ˆæ˜¯å¾®ç ã€‚\nè¿™é‡Œè¯´çš„æ˜¯è·‘åœ¨CPUå¤„ç†å™¨ä¸Šçš„å¾®ç ï¼Œä¸æ˜¯IBMé‚£ç¾¤äººå˜´é‡Œè¯´çš„é‚£ä¸ªå¾®ç ã€‚å¦‚æœä½ ä¹‹å‰æ²¡å’ŒIBMæ‰“è¿‡äº¤é“é‚£å°±å½“è¿™æ®µè¯ä¸å­˜åœ¨ã€‚\nè®¡ç®—æœºä½“ç³»ç»“æ„æ˜¯ä¸€å±‚åˆä¸€å±‚çš„æŠ½è±¡ï¼Œå…¸å‹çš„æ¯”å¦‚æ“ä½œç³»ç»Ÿå¯¹åº•å±‚ç¡¬ä»¶çš„æŠ½è±¡ã€‚ä½†é²œæœ‰äººçŸ¥çš„æ˜¯ï¼Œæ“ä½œç³»ç»Ÿå’Œåº•å±‚ç¡¬ä»¶ï¼Œå°¤å…¶æ˜¯CPUä¹‹é—´è¿˜å­˜åœ¨ç€å‡ å±‚æŠ½è±¡ã€‚ä»€ä¹ˆå«æŠ½è±¡ï¼Œå½“ç„¶æœ‰å¾ˆå¤šç§å­¦æœ¯æµçš„è§£é‡Šï¼Œä½†æˆ‘åœŸæ°”ä¸€ç‚¹çš„è§£é‡Šå°±æ˜¯â€œä¸å…³å¿ƒâ€ï¼Œå°±æ˜¯â€œDonâ€™t careâ€ï¼Œå°±æ˜¯çˆ±å’‹åœ°å’‹åœ°ã€‚\nç”¨è¿™ä¸ªæ¨¡å¼å¥—ç”¨ä¸€ä¸‹æˆ‘ä»¬ç†Ÿæ‚‰çš„æŠ½è±¡ï¼šæ“ä½œç³»ç»Ÿè¦å°†æ•°æ®å†™å…¥ç£ç›˜ï¼Œå®ƒä¸å…³å¿ƒæ€ä¹ˆæ“ä½œç£ç›˜ï¼›åº”ç”¨è¦ç»™æŸä¸ªæœåŠ¡å™¨å‘ä¸ªæ•°æ®åŒ…ï¼Œå®ƒä¹Ÿä¸å…³å¿ƒæ€ä¹ˆæ“ä½œç½‘å¡ã€‚\nå›åˆ°æˆ‘ä»¬çš„å¾®ç ä¸Šæ¥ã€‚æˆ‘ä»¬ç°åœ¨å¸¸è§çš„æ“ä½œç³»ç»Ÿéƒ½æ˜¯ç”¨Cè¯­è¨€ç¼–å†™ï¼Œå®ƒç›¸å¯¹äºæ±‡ç¼–è¯­è¨€æ¥è¯´ï¼Œä¹Ÿç®—æ˜¯ä¸€ç§â€œé«˜çº§è¯­è¨€â€ã€‚ç¼–è¯‘å™¨ä¼šå°†è¿™ç§é«˜çº§è¯­è¨€ç¼–è¯‘æˆæ±‡ç¼–è¯­è¨€ã€‚åªè¦Cè¯­è¨€ç¼–å†™æ—¶â€œä¸å…³å¿ƒâ€æ±‡ç¼–æŒ‡ä»¤æ˜¯å•¥ï¼Œé‚£ä¹ˆå°±æ˜¯ç›¸å¯¹æ±‡ç¼–è¯­è¨€åšäº†ä¸€æ¬¡æŠ½è±¡ã€‚\né©¬ä¸Šå°±åˆ°å¾®ç äº†ã€‚æˆ‘ä»¬çŸ¥é“æ±‡ç¼–æŒ‡ä»¤æ˜¯æ‰§è¡Œåœ¨CPUä¸Šçš„ï¼Œé‚£ä¹ˆæ±‡ç¼–æŒ‡ä»¤ä¼šå…³å¿ƒåœ¨æŸä¸ªå…·ä½“å‹å·çš„CPUä¸Šæ˜¯æ€ä¹ˆæ‰§è¡Œçš„å—ï¼Ÿè‚¯å®šä¸ä¼šçš„ã€‚æ±‡ç¼–çš„ä¸€æ¡ADDæŒ‡ä»¤åœ¨80286ä¸Šå¯ä»¥æ‰§è¡Œï¼Œåœ¨æœ€æ–°çš„Icelakeä¸Šä¹Ÿèƒ½æ‰§è¡Œï¼Œä½†è¿™ä¸¤ä¸ªCPUå†…éƒ¨æ—©å·²å‘ç”Ÿäº†å¤©ç¿»åœ°è¦†çš„å˜åŒ–ï¼Œæ‰§è¡ŒADDçš„æ“ä½œå·²ç»å®Œå…¨ä¸åŒäº†ã€‚\næ¢å¥è¯è¯´ï¼Œå°±æ˜¯æ±‡ç¼–æŒ‡ä»¤å¹¶â€œä¸å…³å¿ƒâ€æ˜¯å¦‚ä½•åœ¨CPUä¸Šæ‰§è¡Œçš„ã€‚\næ“ä½œç³»ç»Ÿä¸å…³å¿ƒå¦‚ä½•æ“ä½œç£ç›˜å’Œç½‘å¡ï¼Œæ˜¯å› ä¸ºè¿™äº›éƒ½æœ‰å¯¹åº”çš„è®¾å¤‡é©±åŠ¨æ“å¿ƒã€‚æ±‡ç¼–æŒ‡ä»¤ä¸å…³å¿ƒå…·ä½“å¦‚ä½•åœ¨CPUä¸­æ‰§è¡Œï¼Œè¿™ä¸ªå°±æ˜¯ç”±å¾®ç æ¥æ“å¿ƒäº†ã€‚æ‰€ä»¥ç”¨ç±»æ¯”çš„æ–¹å¼ï¼Œå¯ä»¥æŠŠå¾®ç ç±»æ¯”æˆæ±‡ç¼–æŒ‡ä»¤é’ˆå¯¹æŸä¸€å‹å·CPUçš„é©±åŠ¨ã€‚\nåŒæ ·çš„æ±‡ç¼–æŒ‡ä»¤ï¼Œä¼šç”±è¯¥å‹å·CPUçš„å¾®ç è½¬æˆå¯ä»¥è·‘åœ¨è¯¥CPUä¸Šçš„å¾®æ“ä½œï¼ˆMicro-ops/uopsï¼‰ã€‚è¿™äº›å¾®æ“ä½œæŒ‡å¯¼CPUçš„ç”µè·¯å®Œæˆæ±‡ç¼–æŒ‡ä»¤è¦æ±‚çš„æ„å›¾ã€‚\nåœ¨å¤§å®¶è¿˜åœ¨ç¼–å†™æ±‡ç¼–è¯­è¨€ä»£ç çš„æ—¶ä»£ï¼Œå¾®ç ä¸ºæ±‡ç¼–è¯­è¨€çš„ç¼–å†™æä¾›äº†æ–¹ä¾¿ï¼š\n åªå…³å¿ƒæ±‡ç¼–é€»è¾‘ï¼Œè€Œä¸ç”¨å…³å¿ƒCPUå†…éƒ¨ç”µè·¯è®¾è®¡å’Œå…·ä½“çš„æ‰§è¡Œæ–¹å¼ æ–¹ä¾¿è®¾è®¡å‡ºæ–°çš„æ±‡ç¼–æŒ‡ä»¤ï¼Œç”±å¾®ç ç¿»è¯‘æˆå…·ä½“çš„æ‰§è¡Œé€»è¾‘ï¼Œæ¯”å¦‚å¾ªç¯ä¸­â€œå˜é‡è‡ªå‡è‹¥å¤§äºé›¶åˆ™è½¬è·³â€ï¼Œå¯ä»¥ç”¨ä¸€æ¡æ±‡ç¼–æŒ‡ä»¤ä»£æ›¿ï¼Œè„æ´»ç´¯æ´»éƒ½äº¤ç»™å¾®ç å»å¹² ä¿®å¤æˆ–ç»•è¿‡ä¸€äº›å¾ˆéš¾ä¿®å¤çš„å¤„ç†å™¨æ•°å­—ç”µè·¯ä¸­çš„Bug  ä¸Šè¿°ç¬¬äºŒç‚¹ä¹Ÿä¸ºCISCæŒ‡ä»¤é›†çš„å®ç°æä¾›äº†æŠ€æœ¯åŸºç¡€ã€‚å› ä¸ºä¸å¯èƒ½æ‰€æœ‰å¤æ‚çš„æŒ‡ä»¤éƒ½æ˜¯ç”±ä¸“é—¨çš„æ‰§è¡Œå¤æ‚æŒ‡ä»¤çš„ç¡¬ä»¶æ¥å®Œæˆçš„ï¼Œä¹Ÿæ˜¯ç”±ç®€å•çš„æ•°å­—é€»è¾‘æ¨¡å—ç»„åˆè€Œæˆçš„ã€‚\nåœ¨ç°ä»£CPUé‡Œï¼Œæ˜¯å­˜åœ¨ä¸“é—¨çš„å°†æ±‡ç¼–æŒ‡ä»¤ç¿»è¯‘æˆå¾®æ“ä½œçš„ç¡¬ä»¶è§£ç å™¨çš„ã€‚ä½†å¾®ç ä¾æ—§å­˜åœ¨ï¼ˆå°±æ˜¯CPUå¾®æ¶æ„å›¾ä¸­å‰ç«¯é‚£ä¸ªMicrocode sequencerï¼‰ï¼Œå®ƒä½œä¸ºä¸€ä¸ªLookup Tableä¿å­˜åœ¨ä¸€å—ROMä¸­ï¼Œç”¨æ¥è§£ç å¤æ‚çš„æŒ‡ä»¤ï¼Œæ¯”å¦‚æµ®ç‚¹è¿ç®—çš„æŒ‡ä»¤ç­‰ã€‚ä¸€èˆ¬æ˜¯ç¡¬ä»¶è§£ç å™¨è§£ç å¾—æ¯”è¾ƒå¿«ï¼Œè€Œç”¨å¾®ç è§£ç ä¼šæ¯”è¾ƒæ…¢ã€‚\nç†è®ºä¸Šï¼Œå¦‚æœä½ èƒ½æ›´æ”¹æŸä¸€ä¸ªå¤„ç†å™¨çš„å¾®ç ï¼Œé‚£ä¹ˆç»å®ƒç¿»è¯‘çš„æŒ‡ä»¤å¯ä»¥å˜æˆä»»æ„å…¶ä»–çš„æŒ‡ä»¤ã€‚å› ä¸ºå®ƒå…³å¿ƒæŒ‡ä»¤å¦‚ä½•åœ¨CPUç”µè·¯ä¸­æ‰§è¡Œã€‚æ‰€ä»¥ç°åœ¨å‡çº§å¾®ç ä¸»è¦æ˜¯ç”¨æ¥è§£å†³å¤„ç†å™¨çš„ç¨³å®šå’Œå®‰å…¨æ€§çš„é—®é¢˜ã€‚\nå½“ç„¶ä½ ä¹Ÿå¯ä»¥ç”¨å®ƒæ¨¡æ‹Ÿè‡ªå·±æ²¡æœ‰çš„æ±‡ç¼–æŒ‡ä»¤ï¼Œæ¯”å¦‚AVXç³»åˆ—ï¼Œæˆ‘åªè¦åœ¨çœ‹åˆ°AVX512çš„æ±‡ç¼–ä¹‹åï¼ŒæŠŠå®ƒç¿»è¯‘æˆä¸¤ä¸ªâ€œSIMD256â€æˆ–è€…å››ä¸ªâ€œSIMD128â€æŒ‡ä»¤å°±å¥½äº†ã€‚\nçœ‹åˆ°è¿™é‡Œï¼Œä½ ç»™è‡ªå·±å°±åˆåŠ äº†ä¸€å±‚å¾®ç çš„buffã€‚æœ€åè´´å¿ƒåœ°æ¨èä¸€ç¯‡è¯¦ç»†è¯´æ˜Microcodeæ€ä¹ˆæ‰§è¡Œçš„æ–‡ç« ï¼šMicroprocessor Microcode Simple Example\nå®‰è£…/æ›´æ–°å¾®ç  å¾®ç å°±æ˜¯ç”± Intel/AMD æä¾›çš„ CPU å›ºä»¶ã€‚Linux çš„å†…æ ¸å¯ä»¥åœ¨å¼•å¯¼æ—¶æ›´æ–° CPU å›ºä»¶ï¼Œè€Œæ— éœ€ BIOS æ›´æ–°ã€‚å¤„ç†å™¨çš„å¾®ç ä¿å­˜åœ¨å†…å­˜ä¸­ï¼Œåœ¨æ¯æ¬¡å¯åŠ¨ç³»ç»Ÿæ—¶ï¼Œå†…æ ¸å¯ä»¥æ›´æ–°è¿™ä¸ªå¾®ç ã€‚è¿™äº›æ¥è‡ª Intel/AMD çš„å¾®ç çš„æ›´æ–°å¯ä»¥å»ä¿®å¤ bug æˆ–è€…ä½¿ç”¨è¡¥ä¸æ¥é˜²èŒƒ bugã€‚\næŸ¥çœ‹å½“å‰çš„å¾®ç çŠ¶æ€ï¼š\n$ sudo dmesg | grep microcode ä½¿ç”¨åŒ…ç®¡ç†å™¨\n$ sudo apt install intel-microcode å¿…é¡»é‡å¯ä»¥æ¿€æ´»å¾®ç æ›´æ–°ï¼š\n$ sudo reboot æ‰‹åŠ¨\nåªæœ‰åœ¨ä½ çš„ CPU åˆ¶é€ å•†å»ºè®®è¿™ä¹ˆåšçš„æ—¶å€™ï¼Œæ‰å¯ä»¥ä½¿ç”¨ä¸‹åˆ—çš„æ–¹æ³•å»æ›´æ–°/å®‰è£…å¾®ç ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œéƒ½åº”è¯¥ä½¿ç”¨ä¸Šé¢çš„æ–¹æ³•å»æ›´æ–°ã€‚å¤§å¤šæ•° Linux å‘è¡Œç‰ˆéƒ½å¯ä»¥é€šè¿‡åŒ…ç®¡ç†å™¨æ¥ç»´æŠ¤ã€æ›´æ–°å¾®ç ã€‚ä½¿ç”¨åŒ…ç®¡ç†å™¨çš„æ–¹æ³•æ˜¯ç»è¿‡æµ‹è¯•çš„ï¼Œå¯¹å¤§å¤šæ•°ç”¨æˆ·æ¥è¯´æ˜¯æœ€å®‰å…¨çš„æ–¹å¼ã€‚\nAutomatic Light / Dark Mode for GNOME, this shell extension exists: Night Theme Switcher\nå°†duçš„è¾“å‡ºæŒ‰æ–‡ä»¶å¤§å°æ’åº sdu () { du -sk $@ | sort -n | awk \u0026#39; BEGIN { split(\u0026#34;K,M,G,T\u0026#34;, Units, \u0026#34;,\u0026#34;); FS=\u0026#34;\\t\u0026#34;; OFS=\u0026#34;\\t\u0026#34;; } { u = 1; while ($1 \u0026gt;= 1024) { $1 = $1 / 1024; u += 1 } $1 = sprintf(\u0026#34;%.1f%s\u0026#34;, $1, Units[u]); sub(/\\.0/, \u0026#34;\u0026#34;, $1); print $0; }\u0026#39; } æ”¹å–„è§¦æ‘¸æ¿ä½“éªŒ ä¼—æ‰€å‘¨çŸ¥ï¼ŒMacbook çš„è§¦æ‘¸æ¿æ˜¯ä½“éªŒæœ€å¥½çš„ï¼Œå¾ˆå¤šæœç²‰éƒ½å¹ Macbook çš„è§¦æ‘¸æ¿ç”¨äº†ä¹‹åâ€œå°±ä¸å†æƒ³è¦å»ç”¨é¼ æ ‡â€ã€‚\næœ‰ä¸€ç¾¤äººæäº†ä¸€ä¸ªé¡¹ç›®ï¼šã€ŒLinux Touchpad like Macbook Updateã€ã€‚é¡¾åæ€ä¹‰ï¼Œå°±æ˜¯â€œæŠŠ Linux çš„è§¦æ‘¸æ¿æçš„åƒ Macbook ä¸€æ ·â€ã€‚\nè¿™ä¸ªé¡¹ç›®çš„ä¸»è¦ä½œç”¨å°±æ˜¯é’ˆå¯¹ç°åœ¨ Linux ä¸‹å¯¹äºè§¦æ‘¸æ¿ç®¡ç†çš„ç›¸å…³é©±åŠ¨è¿›è¡Œä¸€äº›ä¿®æ”¹å’Œä¼˜åŒ–ï¼Œä»¥æå‡è§¦æ‘¸çš„ä½¿ç”¨ä½“éªŒï¼Œå°¤å…¶æ˜¯åŒ…æ‹¬â€œå¤šç‚¹è§¦æ‘¸â€ç­‰ç­‰ç­‰ã€‚\n$ sudo add-apt-repository ppa:p12/xorg-gestures $ sudo apt-get update å½“ç„¶ï¼Œå°½ç®¡å¦‚æ­¤ï¼Œæˆ‘ä»¬ä¹Ÿåªæ˜¯åœ¨é©±åŠ¨å±‚é¢æ”¹å–„äº†è§¦æ‘¸ï¼Œåœ¨åº”ç”¨å±‚é¢è¿˜éœ€è¦å¦ä¸€ä¸ªå·¥å…·çš„å¸®å¿™ï¼štouchegg\nå®‰è£…å®Œæ¯•ä¹‹åä½ çš„ä¸‰æŒ‡ä¸Šæ»‘å’Œä¸‰æŒ‡ä¸‹æ»‘éƒ½å¯ä»¥æ­£å¸¸ä½¿ç”¨äº†ï¼Œè­¬å¦‚ä¸‰æŒ‡ä¸Šæ»‘æ˜¯çª—å£æœ€å¤§åŒ–ï¼Œä¸‰æŒ‡ä¸‹æ»‘æ˜¯çª—å£æœ€å°åŒ–ã€‚\nReset lost root password è­¦å‘Šï¼š æ”»å‡»è€…éƒ½å¯ä»¥ä½¿ç”¨ä¸Šè¿°æ–¹æ³•ä¿®æ”¹ç³»ç»Ÿï¼Œè¦ä¿è¯ç³»ç»Ÿå®‰å…¨ï¼Œè¯·é™åˆ¶ç‰©ç†ä¸Šçš„è®¿é—®ï¼Œæˆ–è€…ä½¿ç”¨å…¨ç£ç›˜åŠ å¯†ã€‚\nä½¿ç”¨ LiveCD é€šè¿‡ LiveCD å¯ä»¥ä½¿ç”¨å¥½å‡ ç§æ–¹æ³•ï¼šchrootå¹¶ä¸”ä½¿ç”¨passwdå‘½ä»¤æˆ–è€…æ“¦é™¤å¯†ç åŸŸæ¡ç›®ã€‚ä»»ä½•Linuxçš„LiveCDéƒ½å¯ä»¥ä½¿ç”¨ï¼Œchrootæ—¶å®ƒå¿…é¡»åŒ¹é…å·²ç»å®‰è£…çš„æ¶æ„ç±»å‹ã€‚è¿™é‡Œä»…ä»‹ç» chroot æ–¹å¼ï¼Œå› ä¸ºè¿™ä¸ªæ–¹æ³•æ›´ä¸å®¹æ˜“å‡ºé”™ã€‚\n  å¯åŠ¨LiveCDï¼ŒæŒ‚è½½æ ¹æ–‡ä»¶ç³»ç»Ÿ.\n  ç„¶åé€šè¿‡ä¸‹åˆ—å‘½ä»¤é‡ç½®å¯†ç ï¼š\n$ passwd --root MOUNT_POINT USER_NAME   å¸è½½æ ¹æ–‡ä»¶ç³»ç»Ÿã€‚\n  é‡å¯ï¼Œè®°ä¸‹ä½ çš„å¯†ç ã€‚\n  ç”¨ Bash ä½œä¸º Init   å°† init=/bin/bash å†…æ ¸å‚æ•°åŠ å…¥å¯åŠ¨åŠ è½½å™¨çš„å¯åŠ¨é¡¹.\n  å¯åŠ¨åå¯ä»¥çœ‹åˆ° Bash æç¤ºç¬¦ã€‚\n  æ ¹æ–‡ä»¶ç³»ç»Ÿåº”è¯¥æ˜¯åªè¯»æŒ‚è½½ï¼Œéœ€è¦ä»¥å¯è¯»å†™æ¨¡å¼é‡æ–°æŒ‚è½½ï¼š\nmount -n -o remount,rw /   ç”¨ passwd åˆ›å»ºæ–°çš„ç®¡ç†å‘˜å¯†ç ã€‚\n  é€šè¿‡ reboot -f é‡å¯ï¼Œä¸è¦å†æ¬¡å¿˜è®°ä½ çš„å¯†ç ã€‚\n  æ³¨æ„ï¼š ä½¿ç”¨æ­¤æ³•æ—¶æœ‰çš„é”®ç›˜ä¸èƒ½è¢«åˆå§‹ç³»ç»Ÿæ­£ç¡®åŠ è½½ï¼Œä½ å¯èƒ½ä¸èƒ½åœ¨bashæç¤ºç¬¦åè¾“å…¥ä»»ä½•ä¸œè¥¿ã€‚å¦‚æœå‡ºç°è¿™ç§æƒ…å†µï¼Œä½ ä¸å¾—ä¸ä½¿ç”¨å…¶ä»–æ–¹æ³•ã€‚\nHow to block internet access to certain programs on Linux The solution for me happened to be straight forward.\n  Create, validate new group; add required users to this group:\n  Create: groupadd no-internet\n  Validate: grep no-internet /etc/group\n  Add user: useradd -g no-internet username\nNote: If you\u0026rsquo;re modifying already existing user you should run: usermod -a -G no-internet userName check with : sudo groups userName\n    Create a script in your path and make it executable:\n  Create: nano /home/username/.local/bin/no-internet\n  Executable: chmod 755 /home/username/.local/bin/no-internet\n  Content:\n#!/bin/bash sg no-internet \u0026quot;$@\u0026quot;     Add iptables rule for dropping network activity for group no-internet:\n  iptables -I OUTPUT 1 -m owner --gid-owner no-internet -j DROP\nNote: Don\u0026rsquo;t forget to make the changes permanent, so it would be applied automatically after reboot. Doing it, depends on your Linux distribution.\n    Check it, for example on Firefox by running: no-internet \u0026quot;firefox\u0026quot;\n  In case you would want to make an exception and allow a program to access local network:\n iptables -A OUTPUT -m owner --gid-owner no-internet -d 192.168.1.0/24 -j ACCEPT iptables -A OUTPUT -m owner --gid-owner no-internet -d 127.0.0.0/8 -j ACCEPT iptables -A OUTPUT -m owner --gid-owner no-internet -j DROP  NOTE: In case of spawning the rules will be maintained. For example, if you run a program with no-internet rule and that program will open browser window, still the rules will be applied.\nHow does Ubuntu make money? Firstly a lot of people work on Ubuntu in their free time (many of them programming, but also those of here for instance answering people\u0026rsquo;s questions). Also some people donate to Ubuntu.\nHowever there is more to the story. Canonical Ltd. is a private company that created and continues to pay for Ubuntu. We know Canonical hadn\u0026rsquo;t been making a profit, but Canonical was initially founded by multi-millionaire Mark Shuttleworth which meant it didn\u0026rsquo;t have to focus on making money right away.\nHowever Canonical is now looking towards to making Ubuntu profitable. (After all, they have 600+ employees to pay every month!) There are some indications this has been successful. Their key revenue streams offer services around Ubuntu:\n Support services (mostly to business) alongside which they sell Landscape Contracting services to businesses (for instance working with OEMs such as Dell, or helping Google with Chrome OS). As Ubuntu makes its way onto mobile phones and TVs then this will grow. Ubuntu Software Centre\u0026rsquo;s paid section (Canonical takes a cut of purchases) The Canonical Store (selling physical Ubuntu branded items) - discontinued Closed-source projects wishing to use Launchpad.net can purchase a license Ubuntu One (online file storage and synchronization service) and Music Store (selling music from within Ubuntu) - discontinued. Amazon referrals. When you search the Ubuntu Dash, you may see Amazon products (unless you have turned it off). Ubuntu takes a cut of these.[ref]  All of these are areas that Canonical hopes will grow.\nå¯ç”¨ TRIM å½“æˆ‘åœ¨è¿è¡Œ Linux çš„è®¡ç®—æœºä¸Šå®‰è£…æˆ‘çš„ç¬¬ä¸€å—å›ºæ€é©±åŠ¨å™¨ï¼ˆSSDï¼‰åï¼Œæˆ‘å¼€å§‹æ¢ç´¢å¦‚ä½•ç”¨å¥½å®ƒä»¬ã€‚SSD åœ¨æ“ä½œæ–¹å¼ä¸Šä¸ä¼ ç»Ÿç£æ€§é©±åŠ¨å™¨ä¸åŒï¼Œå¹¶ä¸”å®ƒä»¬éœ€è¦åœ¨è½¯ä»¶ä¸Šå¦è¡Œå¤„ç†ä»¥è¾¾åˆ°åŠŸèƒ½ä¼˜åŒ–ã€‚\nåœ¨ä¼ ç»Ÿç£ç›˜é©±åŠ¨å™¨ä¸Šï¼Œåˆ é™¤æ—¶æ‰€åˆ é™¤çš„æ–‡ä»¶ä¸ä¼šä»ç£ç›˜ä¸­å®Œå…¨åˆ é™¤ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ å¯ä»¥æ¢å¤å·²åˆ é™¤çš„æ–‡ä»¶çš„åŸå› ã€‚åŸºæœ¬ä¸Šï¼Œæ–‡ä»¶ç³»ç»Ÿä»…å¼•ç”¨ç£ç›˜ä¸Šæ–‡ä»¶çš„ä½ç½®ï¼Œå¹¶ä¸”å½“æ–‡ä»¶è¢«åˆ é™¤æ—¶ï¼Œè¯¥å¼•ç”¨è¢«æ“¦é™¤ï¼Œä»¥å…è®¸ä½ åœ¨è¿™äº›ç©ºé—´ä¸­å†™å…¥æ–°æ•°æ®è¦†ç›–åŸæ¥çš„æ•°æ®ã€‚ç„¶è€Œï¼Œå¯¹äº SSDï¼Œæ–°æ•°æ®åªèƒ½å†™åœ¨é©±åŠ¨å™¨ä¸Šå®Œå…¨æ–°çš„æˆ–å·²æ“¦é™¤çš„å•å…ƒä¸Šã€‚å› ä¸ºå¿…é¡»åœ¨å†™å…¥ä¹‹å‰æ¸…é™¤ç©ºé—´ï¼Œå¦‚æœåœ¨å†™å…¥æ–‡ä»¶æ—¶å°šæœªæœ‰è¶³å¤Ÿçš„å¯ç”¨ç©ºé—´ï¼Œåˆ™å¿…é¡»é¦–å…ˆæ“¦é™¤è¯¥ç©ºé—´ã€‚è¿™å¯èƒ½ä¼šå¯¹æ€§èƒ½äº§ç”Ÿè´Ÿé¢å½±å“ã€‚\nå¦‚æœæ“ä½œç³»ç»Ÿåœ¨å†™å…¥æ–°æ•°æ®ä¹‹å‰å°±æ“¦é™¤äº†æœªä½¿ç”¨çš„ç©ºé—´ï¼Œè€Œä¸æ˜¯åœ¨å†™å…¥æ—¶åŒæ—¶è¿›è¡Œæ“¦é™¤ï¼Œåˆ™å¯ä»¥æé«˜æ–‡ä»¶ä¿å­˜æ€§èƒ½ã€‚è¿™ç§åšæ³•å°±æ˜¯ TRIMã€‚ TRIM å‘½ä»¤æœ¬è´¨ä¸Šå…è®¸ä½ çš„æ“ä½œç³»ç»Ÿå‘Šè¯‰é©±åŠ¨å™¨å“ªäº›åŒºåŸŸçš„æ•°æ®ä¸å†ä½¿ç”¨ï¼Œä»¥ä¾¿æ“¦é™¤å®ƒä»¬ï¼ŒåŠ å¿«é©±åŠ¨å™¨å°†æ¥çš„å†™å…¥ï¼Œå¯ä»¥ SSD çš„ç”¨æˆ·æä¾›æ›´ä½³çš„ä½“éªŒã€‚\nåœ¨ Linux ä¸­ï¼Œfstrim æä¾›æ­¤åŠŸèƒ½ï¼Œå®ƒå¯ä»¥ä¸ºå†™å…¥æ–°æ•°æ®è€Œå‡†å¤‡é©±åŠ¨å™¨ï¼Œå¹¶å»¶é•¿é©±åŠ¨å™¨çš„ä½¿ç”¨å¯¿å‘½ã€‚ç”±äºåœ¨æˆ‘ä½¿ç”¨çš„ Linux å‘è¡Œç‰ˆä¸Š SSD çš„ trim ä¸æ˜¯è‡ªåŠ¨çš„ï¼Œæ‰€ä»¥å¿…é¡»å»è°ƒåº¦è¯¥æ“ä½œï¼Œå¦åˆ™ SSD çš„æ€§èƒ½ä¼šéšç€æ—¶é—´çš„æ¨ç§»è€Œé™ä½ã€‚\nä¸ºäº†åœ¨é©±åŠ¨å™¨ä¸Šè¿è¡Œ fstrimï¼Œé©±åŠ¨å™¨æœ¬èº«ä»¥åŠå…¶ä¸Šçš„æ–‡ä»¶ç³»ç»Ÿå¿…é¡»æ”¯æŒ TRIMã€‚TRIM SSD å¯ä»¥åœ¨å‘½ä»¤è¡Œæˆ– cron ä»»åŠ¡ä¸­æ‰‹åŠ¨å®Œæˆã€‚ä½œä¸ºè¶…çº§ç”¨æˆ·ï¼ˆä½¿ç”¨ su æˆ– sudoï¼‰ï¼Œè¿è¡Œ fstrim / -v ä»¥å®Œæˆæ‰‹åŠ¨ trimï¼Œæˆ–è€…è®¾ç½® cron ä»»åŠ¡ä»¥åœ¨è®¡ç®—æœºæœªä½¿ç”¨æ—¶å®šæœŸä¸ºä½ è¿è¡Œæ­¤å‘½ä»¤ã€‚å¯¹äº fstrim çš„å®Œæ•´é€‰é¡¹åˆ—è¡¨è¯·å‚è€ƒå®ƒçš„ man æ‰‹å†Œã€‚\næ³¨ï¼šå¯ä»¥å®šæœŸæ‰§è¡Œfstrimå‘½ä»¤ï¼Œä½†æ˜¯ä¸å»ºè®®åœ¨mount / fstab ä¸­ä½¿ç”¨discard é€‰é¡¹ã€‚å› ä¸ºè¿™ä¸ªé€‰é¡¹è¦æ±‚SSDæ¯æ¬¡åˆ é™¤æ–‡ä»¶éƒ½è¿›è¡Œtrimæ“ä½œï¼Œæ¯”è¾ƒè€—èµ„æºï¼Œå°¤å…¶æ˜¯åœ¨æ–‡ä»¶æ“ä½œå¾ˆé¢‘ç¹çš„æ—¶å€™ã€‚æ‰€ä»¥å¯ä»¥è€ƒè™‘ç”¨cronæ¥å®šæœŸtrimã€‚\nç¡¬ä»¶æ”¯æŒæ ¹æ®ä½¿ç”¨çš„é©±åŠ¨å™¨æ¥å£ç±»å‹å¦‚ PCIã€ATAã€SCSI è¿˜æ˜¯ SD/MMC è€Œæœ‰æ‰€ä¸åŒã€‚ä½ éœ€è¦å’¨è¯¢ä½ çš„ Linux ä¾›åº”å•†ä»¥äº†è§£ä½ çš„ç‰¹å®šå‘è¡Œç‰ˆæ˜¯å¦‚ä½•æ”¯æŒ TRIM çš„ã€‚\nä¾‹å¦‚ï¼Œçº¢å¸½æä¾›ä»¥ä¸‹ SSD ç£ç›˜æŒ‡å—ã€‚â€œæ€§èƒ½éšç€æ‰€ä½¿ç”¨çš„å—æ•°æ¥è¿‘ç£ç›˜å®¹é‡è€Œé™ä½ï¼Œæ€§èƒ½å½±å“ç¨‹åº¦å› ä¾›åº”å•†è€Œå¼‚ï¼Œä½†æ˜¯æ‰€æœ‰è®¾å¤‡éƒ½ä¼šé‡åˆ°ä¸€äº›æ€§èƒ½é™ä½ã€‚ä¸ºäº†è§£å†³æ€§èƒ½é™ä½é—®é¢˜ï¼Œä¸»æœºç³»ç»Ÿï¼ˆä¾‹å¦‚ Linux å†…æ ¸ï¼‰ä½¿ç”¨ä¸¢å¼ƒè¯·æ±‚ä»¥é€šçŸ¥å­˜å‚¨å™¨ç»™å®šèŒƒå›´çš„å—ä¸å†ä½¿ç”¨ã€‚â€\nDebian wiki æä¾›äº† SSD ä½¿ç”¨çš„ä¸€äº›åŸºæœ¬æ³¨æ„äº‹é¡¹ï¼šä½¿ç”¨ Linux 3.2 æˆ–æ›´é«˜ç‰ˆæœ¬å†…æ ¸ï¼Œä½¿ç”¨ SSD çš„æœ€æ–°å›ºä»¶ï¼Œä½¿ç”¨ EXT4 æ–‡ä»¶ç³»ç»Ÿï¼Œå¹¶ä¸”â€œåœ¨æ­£å¸¸å·¥ä½œè´Ÿè½½ä¸‹æœ‰è¶³å¤Ÿçš„ DRAM ç”¨æ¥æ“ä½œè€Œä¸ç”¨ä½¿ç”¨äº¤æ¢ç©ºé—´â€œã€‚\nreserve 5% of the space By default, ext2/3/4 filesystems reserve 5% of the space to be useable only by root. This is to avoid a normal user completely filling the disk which would then cause system components to fail whenever they next needed to write to the disk.\nYou can see the number of reserved blocks (and lots of other information about the filesystem) by doing:\n$ sudo tune2fs -l /dev/sda8 For a /home partition, it is probably safe to set the reserved fraction to zero:\n$ sudo tune2fs -m 0 /dev/sda8 Which should make an additional ~5GB available.\nChange Partition Label e2label or tune2fs The commands e2label or tune2fs used for changing label of ext2, ext3 and ext4 type partitions.\n# e2label /dev/sda1 ROOT OR # tune2fs â€“L ROOT_PART /dev/sda1 Here, ROOT and ROOT_PART are the labels to be added to /dev/sda1 which is ext4 formatted partition.\nntfslabel The ntfslabel command used for changing label of NTFS partitions.\n# ntfslabel /dev/sda5 NTFS_DIR mkswap The mkswap command used for changing label of SWAP partition.\nAfter unmounting the filesystem, following command needs to be executed to change the label of swap partition.\n# mkswap -L SWAP_PART /dev/sda5 Where, /dev/sda5 is the SWAP formatted partition.\nexfatlabel The exfatlabel command used for changing the label of exFAT formatted partition.\n# exfatlabel /dev/sda3 EX_PART Disable usb automount $ gsettings get org.gnome.desktop.media-handling automount $ gsettings set org.gnome.desktop.media-handling automount false or use dconf-editor\nCreate an ISO File   Mkisofs\n$ mkisofs -o [filename.iso] [ directory_path] $ mkisofs â€“o backup.iso /home/tin/Documents/backup   dd\n$ dd if=[source] of=[target.iso] $ sudo dd if= /dev/sdb of= diskimage.iso   Brasero\n$ sudo apt-get install brasero   keychain Squeezing the last drop of convenience out of ssh-agent: Keychain will allow to reuse an ssh-agent between logins, and optionally prompt for passphrases each time the user logs in.\n$ sudo apt install keychain $ vi ~/.bashrc . ~/.keychain/${HOSTNAME}-sh $ keychain ~/.ssh/id_rsa Default .bashrc You don\u0026rsquo;t need to trust this random gist on Github. Heck, it\u0026rsquo;s ~10 years old. Don\u0026rsquo;t you want the latest default - or the default that\u0026rsquo;s specific to your version of Ubuntu?\nYou can find the \u0026ldquo;skeleton\u0026rdquo; file used to initialize new users in ls -a /etc/skel.\nTo copy someone else\u0026rsquo;s comment: just run cp /etc/skel/.bashrc ~/ to copy from that \u0026ldquo;skeleton\u0026rdquo; to your current bashrc.\nuse \u0026lsquo;cp\u0026rsquo; to exclude a specific directory $ shopt -s extglob $ echo images/* images/004.bmp images/033.jpg images/1276338351183.jpg images/2252.png $ echo images/!(*.jpg) images/004.bmp images/2252.png regenerate initramfs To create/recreate/update the initramfs file means to update the initrd.img-* ramdisk files in /boot.\nNote: I prefer to create a totally fresh version by using the -c option, instead of just updating the existing file by using the -u option.\nThe proper command would be:\n$ sudo update-initramfs -c -k $(uname -r) This will create a fresh initrd.img-* file for your currently booted version of Ubuntu.\nHowever, if you can\u0026rsquo;t boot to the current version of Ubuntu, you may have to modify this command, and by booting to an older version of Ubuntu, you can do it this way:\nsudo update-initramfs -c -k 5.11.0-22-generic where the 5.11.0-22-generic part should be replaced with the version of the desired boot kernel.\nTo get more detailed information, type:\n$ man update-initramfs extract a specific file from a tar archive Yes, just give the full stored path of the file after the tarball name.\nExample: suppose you want file etc/apt/sources.list from etc.tar:\n$ tar -xf etc.tar etc/apt/sources.list repair grub When you install Windows, Windows assumes it is the only operating system (OS) on the machine, or at least it does not account for Linux. So it replaces GRUB with its own boot loader. What you have to do is replace the Windows boot loader with GRUB. I\u0026rsquo;ve seen various instructions for replacing GRUB by mucking around with GRUB commands or some such, but to me the easiest way is to simply chroot into your install and run update-grub. chroot is great because it allows you to work on your actual install, instead of trying to redirect things here and there. It is really clean.\nDNSç¼“å­˜ ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¥æ£€æŸ¥å…¶çŠ¶æ€ã€‚\n$ sudo systemctl status systemd-resolved è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ£€æŸ¥DNSç¼“å­˜ç»Ÿè®¡ä¿¡æ¯ã€‚\n$ sudo systemd-resolve --statistics è¿è¡Œä»¥ä¸‹å‘½ä»¤æ¥æ¸…é™¤Ubuntuä¸Šçš„DNSç¼“å­˜ã€‚\n$ sudo systemd-resolve --flush-caches DNSåˆ·æ–°å‘½ä»¤ä¸ä¼šæ¸…é™¤ç¼“å­˜å‘½ä¸­å’Œæœªå‘½ä¸­ç»Ÿè®¡ä¿¡æ¯ã€‚ å¦‚æœè¦æ¸…é™¤æ‰€æœ‰ç¼“å­˜ç»Ÿè®¡ä¿¡æ¯ï¼Œåˆ™å¿…é¡»é‡æ–°å¯åŠ¨systemdè§£æçš„æœåŠ¡ã€‚\n$ sudo systemctl restart systemd-resolved change my username Unix-like operating systems decouple the user name from the user identity, so you may safely change the name without affecting the ID. All permissions, files, etc are tied to your identity (uid), not your username.\nTo manage every aspect of the user database, you use the usermod tool.\nTo change username (it is probably best to do this without being logged in):\nsudo usermod -l newUsername oldUsername This however, doesn\u0026rsquo;t rename the home folder.\nTo change home-folder, use\nsudo usermod -d /home/newHomeDir -m newUsername after you changed the username.\nFor instance, you could logout, drop to a console (Ctrl+Alt+F1), and sudo su - to become true root (as opposed to sudo -s, where $HOME is still /home/yourname.) Maybe you also have to kill some still running processes from this user first. To do so, enter ps -u username, look for the matching PID and kill them by kill PID-number.\nUpdate: as arrange mentioned, some files may reference your old home directory. You can either keep a symlink for backward compatibility, e g ln -s /home/newname /home/oldname or you can change the file contents with sed -i.bak 's/*oldname*/*newname*/g' *list of files* It creates a backup for each file with a .bak extension.\nSome additional information for not so experienced users like me: As I only have ONE user account (administrator), it would not let me change the username (\u0026ldquo;you are already logged in\u0026rdquo; was the response in TTY1 (Ctrl+Alt+F1). To get around this:\n  Login with your old credentials and add a new user, e.g. \u0026ldquo;temporary\u0026rdquo; in TTY1:\nsudo adduser temporary set the password.\n  Allow the temporary user to run sudo by adding the user to sudo group:\nsudo adduser temporary sudo   Log out with the command exit.\n  Return to tty1: Login with the \u0026lsquo;temporary\u0026rsquo; user account and password. Change your username and folder as mentioned above. exit (until you get the login prompt)\n  Go back to TTY7 (Ctrl+Alt+F7) to login on the GUI/normal desktop screen and see if this works.\n  Delete temporary user and folder:\nsudo deluser temporary sudo rm -r /home/temporary   Test Network Speed $ sudo apt install speedtest-cli $ speedtest è“ç‰™ä¸WiFiä¿¡å·å¹²æ‰° è“ç‰™å’ŒWIFIå¹²æ‰°ï¼ŸæŠŠè“ç‰™ææ­»å°±è¡Œäº†\nè“ç‰™å’ŒWi-Fiä¿¡å·å¹²æ‰°é—®é¢˜å¯èƒ½ä½ ä¹Ÿé‡åˆ°è¿‡ï¼Œä¸¤è€…ä¸»è¦éƒ½æ˜¯ä½¿ç”¨2.4GHzé¢‘æ®µï¼Œå¯¼è‡´åŒæ—¶å¼€å¯æ—¶ï¼Œè“ç‰™çš„æ•°æ®ååé‡ä¼šæ€¥å‰§ä¸‹é™ï¼Œé…å¯¹è®¾å¤‡å›°éš¾ï¼ŒWi-Fié—´æ­‡æ€§ä¸­æ–­ï¼Œç½‘ç»œå—åˆ°é™åˆ¶ã€‚ç›®å‰åŸºæœ¬æ²¡ä»€ä¹ˆåŠæ³•å¯ä»¥æ ¹æ²»è¿™ä¸ªé—®é¢˜ï¼Œä½†ä½ å¯ä»¥ä¸‹é¢çš„æ–¹æ¡ˆä¸´æ—¶å¸®ä½ è§£å†³ä¸€äº›é—®é¢˜ã€‚æœ¬æ–‡æä¾›äº†4ç§æ–¹æ³•ï¼Œå¯ä»¥å‚è€ƒä¸‹ã€‚\næ–¹æ³•1ï¼šè¿æ¥è‡³5GHzæ— çº¿ç½‘ç»œ\næ—¢ç„¶çŸ¥é“äº†é—®é¢˜å‡ºåœ¨é¢‘æ®µå†²çªä¸Šï¼Œé‚£ä¹ˆå¯ä»¥è€ƒè™‘è´­ä¹°ä¸€ä¸ªåŒé¢‘ï¼ˆ2.4GHz + 5GHzï¼‰è·¯ç”±å™¨ï¼Œå¹¶è¿æ¥è‡³5GHzçš„Wi-Fiç½‘ç»œã€‚è¯¥æ–¹æ³•å¯ä»¥å½»åº•è§£å†³å¹²æ‰°é—®é¢˜ï¼Œä½†é“¶å­ä¹Ÿæ˜¯å¿…ä¸å¯å°‘çš„ã€‚\næ–¹æ³•2ï¼šæ›´æ¢Wi-Fiä¿¡é“\nä»¥TP-Linkè·¯ç”±å™¨ä¸ºä¾‹ï¼Œç™»å½•è·¯ç”±å™¨Webç®¡ç†é¡µï¼Œåœ¨æ— çº¿è®¾ç½®-\u0026gt;åŸºæœ¬è®¾ç½®ä¸­æ‰¾åˆ°ä¿¡é“é€‰é¡¹ï¼Œå°†å…¶æ”¹ä¸º1ã€6ã€11ä¸­çš„ä»»ä½•ä¸€ä¸ªã€‚è¿™äº›ä¸º2.4GHzçš„ä¸é‡å ä¼ è¾“ä¿¡é“ï¼Œç›¸è¾ƒäºå…¶ä»–ä¿¡é“æ›´ç¨³å®šä¸€äº›ã€‚\næ–¹æ³•3ï¼šå¼€å¯ç½‘å¡è“ç‰™å…±å­˜åŠŸèƒ½\nåœ¨è¿‘å‡ å¹´ç”Ÿäº§çš„æ— çº¿ç½‘å¡ä¸­ï¼Œéƒ½æ”¯æŒè“ç‰™å…±å­˜åŠŸèƒ½ï¼Œæ–¹æ³•æ˜¯åœ¨ç½‘ç»œé€‚é…å™¨å±æ€§çš„é«˜çº§é€‰é¡¹å¡ä¸­ï¼Œæ‰¾åˆ°Bluetooth Collaborationæˆ–Bluetooth Coexistence Modeï¼ˆåç§°å¯èƒ½æœ‰æ‰€ä¸åŒï¼‰ï¼Œå°†å…¶è®¾ä¸ºå¯ç”¨ï¼ˆEnableï¼‰ã€‚Windowsä¼šè‡ªåŠ¨é‡æ–°è¿æ¥Wi-Fiï¼Œå¹²æ‰°è“ç‰™çš„æƒ…å†µä¹Ÿä¼šæœ‰æ‰€ç¼“è§£ã€‚\nå¯¹äº Linux\n$ lspci -knn | grep Net -A3; lsusb ... Kernel driver in use: ath9k Kernel modules: ath9k ... $ sudo tee /etc/modprobe.d/ath9k.conf \u0026lt;\u0026lt;\u0026lt; \u0026#34;options ath9k btcoex_enable=1\u0026#34; æ–¹æ³•4ï¼šè¿œç¦»å¹²æ‰°æº\nå°†è“ç‰™ç»ˆç«¯ä¸è·¯ç”±å™¨ã€å¾®æ³¢ç‚‰ã€æ— ç»³ç”µè¯æœºç­‰ä½¿ç”¨2.4GHzé¢‘æ®µçš„è®¾å¤‡éš”å¼€ä½¿ç”¨ã€‚\nç„¶è€Œè“ç‰™ä¸WIFIå¹²æ‰°ç¡®å®æ˜¯å¤´ç–¼çš„é—®é¢˜ï¼šè“ç‰™é¼ æ ‡ä¼šå—åˆ°WIFIå¹²æ‰°ç»å¸¸ååº”è¿Ÿç¼“ï¼Œè€Œè“ç‰™éŸ³ç®±åˆ™ä¼šå¯¼è‡´WIFIæ–­ç½‘ï¼Œç»å¸¸ä¸Šä¼ å¤±è´¥çš„ç»æœ›ã€‚ã€‚ã€‚ã€‚\næ€»ä¹‹ï¼Œæ— çº¿ä¿¡é“çš„æ”¹è¿›è¿˜åœ¨è¿›è¡Œç€ã€‚ã€‚ã€‚\nRAM \u0026amp; VRAM VRAM as RAM  MTD vramfs  RAM as VRAM Basically the answer is the operating system threats the whole memory pool for the graphics card, and ram as a virtual memory.\nVirtual memory is paged two ways through a partition like swap, or a image file like in windows.\nThe virtual memory then maps the references to memory when you call int* or \u0026amp;memory. To a physical address on your ram or vram depending on where it\u0026rsquo;s meant to go.\nThe game cannot force the kernel or operating system to allocate virtual memory to a certain place.\nThe kernel will dynamically decide where everything goes, and will write to your hard drive if you overflow the current physical limit.\nThere are tons of articles on virtual memory on windows, bsd and linux. Mac is technically a bsd fork and does use the same methods, and so does the ps4 os.\ntl;dr Basically what you are saying doesn\u0026rsquo;t make sense in terms of virtual memory and this is done automatically( Games automatically use RAM as VRAM when you run out of VRAM. That\u0026rsquo;s why, when you go over your VRAM limit, your FPS drops like a rock ).\nAlso some people in this thread are confusing video memory and virtual memory.\nOptimizing for Gaming This guide is only for Arch and Ubuntu. Any derivatives like Manjaro, Mint, PopOS, etc should also work.\nEnable Multilib Multilib is required by Steam, So if you are running Steam you can skip this step, If you can not find Steam in your repositories this is your issue.\nAdd the architecture.\n$ sudo dpkg --add-architecture i386 Update the package manager\n$ sudo apt-get update Upgrade to newer packages\n$ sudo apt-get dist-upgrade GPU Drivers Having the right GPU drivers is imporant, else games won\u0026rsquo;t run properly.\nManually check which driver you need: https://www.nvidia.com/Download/index.aspx?lang=en-us\nFor Nvidia you need to add a repository\n$ sudo add-apt-repository ppa:graphics-drivers/ppa \u0026amp;\u0026amp; sudo apt-get upgrade For Nvidia 440 you need these packages so install them.\n$ sudo apt install nvidia-graphics-drivers-440 nvidia-settings vulkan vulkan-utils Now reboot\n$ sudo reboot If you use Gnome or GDM you might need to disable Wayland, This is not always the case, But I include it here just in case, If your System won\u0026rsquo;t reboot you can try this\n$ sudo nano /etc/gdm/custom.conf Remove the # in front of the #WaylandEnable=false line and it should force Xorg.\nLinux kernel Installing the newest kernel is generally the easiest kernel switch, There are other kernels available, I will include them later.\nThe easiest way is to use ukuu, First we need to install it.\n$ sudo add-apt-repository ppa:cappelikan/ppa $ sudo apt update $ sudo apt install mainline Now ukuu is installed, in this program you can select the newest stable kernel click install and when you reboot the new kernel is used. Do not remove your old kernel. If anything goes wrong you can select which kernel to boot in the grub screen at startup and remove the kernel that gives you trouble.\nFeral Gamemode gamemode åŸºæœ¬ä¸Šæ˜¯ä¸€ç»„å®ˆæŠ¤è¿›ç¨‹/åº“ï¼Œå®ƒå¯ä»¥æŒ‰éœ€ä¼˜åŒ– Linux ç³»ç»Ÿçš„æ¸¸æˆæ€§èƒ½ã€‚å®ƒå®é™…ä¸Šåªæ˜¯è®© CPU åœ¨ç”¨æˆ·ç©æ¸¸æˆæ—¶è‡ªåŠ¨è¿è¡Œåœ¨é«˜æ€§èƒ½æ¨¡å¼ä¸‹å¹¶å¸®åŠ© Linux ç”¨æˆ·ä»æ¸¸æˆä¸­è·å¾—æœ€ä½³æ€§èƒ½ã€‚\n$ sudo apt install gamemode Manual\nInstall the dependencies\n$ sudo apt install meson libsystemd-dev pkg-config ninja-build git libdbus-1-dev libinih-dev Clone the repository\n$ git clone https://github.com/FeralInteractive/gamemode.git Change the directory into the just downloaded folder\n$ cd gamemode Change the tree to the newest version\n$ git checkout 1.5.1 Run the install script\n$ ./bootstrap.sh Usage\nNow that it is installed we need to enable the service with this command\n$ systemctl --user enable gamemoded \u0026amp;\u0026amp; systemctl --user start gamemoded To use gamemode for supertuxkart for example, run this terminal\n$ gamemoderun supertuxkart To use it in Steam edit the launch option for the desired game to\n$ gamemoderun %command% If gamemode does not run try to make it executable:\n$ sudo chmod +x /usr/bin/gamemoderun If gamemoderun does not work for you try this as a launch command:\n$ LD_PRELOAD=$LD_PRELOAD:/usr/lib/x86_64-linux-gnu/libgamemodeauto.so.0 %command% Nvidia Improvements Nvidia users might want to enable all options listed here to improve performance in games\n Force Full Composition Pipeline avoids screen tearing by letting the GPU do all the scaling. Triple Buffer avoids stuttering gameplay It allows for a stream of data instead of chunks of data. IndirectGLXProtocol forces the game to directly communicate with the Nvidia drivers. Coolbits enables your card to be overclocked which gamemode will make use of.  Create a Xorg Config file:\n$ sudo nvidia-xconfig Edit the file with the following command\n$ sudo nano /etc/X11/xorg.conf Add in these lines under the \u0026ldquo;Device\u0026rdquo; section between the other options\nOption \u0026#34;TripleBuffer\u0026#34; \u0026#34;on\u0026#34; Option \u0026#34;Coolbits\u0026#34; \u0026#34;28\u0026#34; Add in these lines under the \u0026ldquo;Screen\u0026rdquo; section between the other options.\nOption \u0026#34;metamodes\u0026#34; \u0026#34;nvidia-auto-select +0+0 {ForceCompositionPipeline=On, ForceFullCompositionPipeline=On}\u0026#34; Option \u0026#34;AllowIndirectGLXProtocol\u0026#34; \u0026#34;off\u0026#34; Try this one with risk, It will be sure to crash GNOME, I am not sure about other DEs\njust add it to the end of the file\nSection \u0026#34;Extensions\u0026#34; Option \u0026#34;Composite\u0026#34; \u0026#34;Disable\u0026#34; EndSection If you run into any problems, just hit CTRL ALT F3 to switch to a different tty login, run the command to edit the file again and put a # in front of the options that are giving you trouble, Most likely the last one\nAlternatively you can just completely remove the file with the following command\n$ sudo rm /etc/X11/xorg.conf Libstrangle Libstrangle is a tool that helps you control framerates but also vsync settings. This is especially handy for games that do not support these features, You would like to half your framerate to make it run better save some power or just give your hardware a break.\nLibstrangle can be used in multiple ways depending on what you want to achieve.\nTo use libstrangle you can simply type strangle and then the amount of frames you want to run. There are some examples below, But the features you will probably use are Vsync which you use by using the -v option, the rules for OpenGL and Vulkan are different, Here is what each number does for the different apis.\n OpenGL 0 Force off, 1 Force on, n - Sync to refresh rate Vulkan 0 Force off, 1 Mailbox mode, 2 Traditional vsync, 3 Adaptive vsync  You can also limit the game depending on the power state of your device, Set it to 60 while charging and on 30 while discharging for example. You do this by adding a second number right after a colon. in example, strangle 60:30. There are more features but they are not that commonly used, you can check the gitlab link above or simply type strangle -h for more information.\nTo limit the framerate of supertuxkart to 30 simply run\n$ strangle 30 supertuxkart To Force enable vsync on 60 fps for an OpenGL Steam game set the launch option to\n$ strangle -v 1 60 %command% To set the framerate of a vulkan game on Steam to 120 fps but 60 on battery power with adaptive vsync set this as your launch command\n$ strangle -v 3 120:60 %command% Mangohud Mangohud is a monitoring tool for Vulkan and OpenGL applications. It can show CPU and GPU usage, temps, But also framerates, frametimes and a lot more.\n$ sudo add-apt-repository ppa:flexiondotorg/mangohud $ sudo apt update $ sudo apt install mangohud To configure it with a GUI you can check out GOverlay below. For a manual configuration you can edit\n$ ~/.config/MangoHud/MangoHud.conf If you want exactly my configuration you can just copy this into it without the need for GOverlay.\nbackground_alpha=0.3 font_size=20 background_color=020202 text_color=ffffff position=top-right no_display toggle_hud=F11 cpu_stats cpu_temp cpu_color=007AFA gpu_stats gpu_temp gpu_color=00BD00 ram ram_color=B3000A vram vram_color=00801B io_read io_write io_color=B84700 arch engine_color=B200B0 frame_timing=1 frametime_color=00ff00 #output_file=/home/houtworm/mangohud_log_  #fps_limit 120 #media_player #toggle_logging=F10 You can tweak all the little things you want here. You can also create different configurations per game by adding a MangoHud.conf file to the game directory.\nTo use it for any game change its launch option to\n$ mangohud %command% To use it with non Steam games use the following command\n$ mangohud supertuxkart Some games might need the 32 bit version, try this if the normal command fails.\n$ mangohud.x86 %command% VKBasalt VKBasalt is a post processing layer for Vulkan which enables you to enhance graphics further. It only works with Vulkan, This includes all Proton games.\n$ git clone https://github.com/DadSchoorse/vkBasalt.git \u0026amp;\u0026amp; cd vkBasalt \u0026amp;\u0026amp; meson --buildtype=release builddir \u0026amp;\u0026amp; ninja -C builddir install To configure it first you need to create a config file, Run the following command to copy the example to a folder you can edit as the user.\n$ mkdir ~/.config/vkBasalt \u0026amp;\u0026amp; cp /usr/share/vkBasalt/vkBasalt.conf.example ~/.config/vkBasalt/vkBasalt.conf You can tweak all the little things you want here. You can also create different configurations per game by adding a vkBasalt.conf file to the game directory.\nTo use VKBasalt for any particular game enter this as a launch option.\nENABLE_VKBASALT=1 %command% You can also start non Steam games this way by typing the following command\nENABLE_VKBASALT=1 supertuxkart GOverlay GOverlay is a Graphical User Interface for managing MangoHud and VKBasalt\n$ sudo apt-get install lazarus git $ git clone https://github.com/benjamimgois/goverlay.git $ cd goverlay $ lazbuild -B goverlay.lpi mesa-demos and vulkan-tools are optional, You need them if you want to show the previews. You can find them in your distros repository\nXbox One Controller xpad works great, is the default on modern Linux distros and supports a wide range of controllers, But if you are like me and you only Xbox One controllers then using xpadneo is much better.\nFor Bluetooth to work with xpad and the Xbox One controllers you need to disable ertm (This is not needed for xpadneo)\ncreate the config file\n$ sudo nano /etc/modprobe.d/xbox_bt.conf Add the following line to the document and save and exit with CTRL + X.\noptions bluetooth disable_ertm=1 xpadneo supports Xbox One controllers wired and over bluetooth, It enables Force Feedback even the vibration inside the triggers, It supports battery level indication, It also fixes the mapping in many many games that where previously unplayable with a Xbox One controller on Linux.\nInstall the dependencies\n$ sudo apt-get install dkms linux-headers-`uname -r` Install xpadneo from Github\n$ git clone https://github.com/atar-axis/xpadneo.git \u0026amp;\u0026amp; cd xpadneo \u0026amp;\u0026amp; sudo ./install.sh Now you should be able to reboot and it should be all good, Having the controllers vibrate for a second when connected is a good indicator that it works.\nè®¤è¯ç¡¬ä»¶  Ubuntu certified hardware Red Hat certified hardware  å¦‚æœä¸æ€ä¹ˆç©æ¸¸æˆçš„è¯ï¼Œå»ºè®®æ˜¯ç›´æ¥è€ƒè™‘é‚£äº›ä¸å¸¦ç‹¬ç«‹æ˜¾å¡çš„ç¬”è®°æœ¬ç”µè„‘ã€‚å› ä¸ºåœ¨Linuxä¸‹åŒæ˜¾å¡è£…é©±åŠ¨é—®é¢˜å¾ˆå¤šã€‚\nè¯´åˆ°ç‰Œå­çš„è¯ï¼Œå»ºè®®æ˜¯è€ƒè™‘æˆ´å°”ç¬”è®°æœ¬ã€‚å› ä¸ºæˆ´å°”å°å¼æœºå’Œç¬”è®°æœ¬ï¼Œéƒ½æ˜¯å°½å¯èƒ½åœ°å»å…¼å®¹Ubuntuæ¥è®¾è®¡çš„ã€‚è¿™ä¸ªä¸æ˜¯è¯´å‡è¯åšå¹¿å‘Šã€‚æˆ‘ä¹Ÿå°±è¿™ä¸ªé—®é¢˜ï¼Œçœ‹è¿‡äº†å‡ ä¹æ‰€æœ‰æˆ´å°”ç³»åˆ—äº§å“çš„æŠ€æœ¯æ–‡æ¡£äº†ã€‚åŸºæœ¬ä¸Šéƒ½æ˜¯åœ¨æ”¯æŒçš„æ“ä½œç³»ç»Ÿåˆ—è¡¨ä¸­ï¼Œæ— ä¸€ä¾‹å¤–åœ°åŒ…å«äº†Ubuntuã€‚å¦‚æœæ˜¯æƒ³ä¹°èƒ½å®Œç¾ä½¿ç”¨Ubuntuçš„æœ¬å­ï¼Œæˆ´å°”æ˜¯é¦–é€‰ã€‚æˆ´å°”ç»å¤§éƒ¨åˆ†ç¬”è®°æœ¬æœºå‹éƒ½èƒ½å¾ˆå¥½å®Œç¾å…¼å®¹Ubuntuã€‚\nè¿˜æœ‰ä¸€ä¸ªé‡è¦åŸå› å°±æ˜¯ï¼Œubuntuçš„æ‰€å±å…¬å¸ï¼Œä¸æˆ´å°”å…¬å¸æ˜¯æœ‰åˆä½œçš„ã€‚ä¹Ÿæ­£å› ä¸ºå¦‚æ­¤ï¼ŒUbuntué»˜è®¤å°±åŒ…å«äº†dellçš„å¤§éƒ¨åˆ†ç¡¬ä»¶é€šç”¨é©±åŠ¨ï¼Œç”šè‡³ç¡¬ä»¶åº•å±‚ç®¡ç†æ¨¡å—éƒ½å›Šæ‹¬å…¶ä¸­ã€‚\nåŠŸè€—æ§åˆ¶ é’ˆå¯¹æ•£çƒ­ä¸å¥½çš„è®¾å¤‡æˆ–è€…ç»­èˆªèƒ½åŠ›ä¸ä½³çš„ç¬”è®°æœ¬ï¼ŒåŠŸè€—æ§åˆ¶æ˜¾å¾—éå¸¸å¿…è¦\nä½¿ç”¨ TLP å»¶é•¿ç”µæ± å¯¿å‘½åŠç»­èˆª  å¦‚æœ‰éœ€è¦å¯å‚é˜… TLP å®˜æ–¹æ–‡æ¡£ å’Œ archwiki TLPã€‚\n å¤šå¹´æ¥ï¼ŒLinux åœ¨ç”µæ± ä¼˜åŒ–æ–¹é¢å–å¾—äº†å¾ˆå¤§è¿›æ­¥ï¼Œä½†ä»ç„¶æœ‰ä¸€äº›å¯é€‰æ­¥éª¤æ”¹å–„ç¬”è®°æœ¬ç”µè„‘çš„ç”µæ± å¯¿å‘½å¹¶ä¸”å»¶é•¿ç»­èˆªã€‚\nTLP ä½œä¸ºä¸€æ¬¾è‡ªç”±å¼€æºçš„é«˜çº§ç”µæºç®¡ç†å·¥å…·æä¾›å¼€ç®±å³ç”¨çš„é»˜è®¤é…ç½®ã€‚åŒæ—¶ä¹Ÿå¯ä»¥é«˜åº¦å®šåˆ¶åŒ–ï¼Œä»¥æ»¡è¶³ç‰¹å®šéœ€æ±‚ã€‚\nç”µå‹ä¸‹æ¢  ä»¥ä¸‹æ–¹æ³•ä»…é€‚ç”¨äº Intel å››ä»£é…·ç¿ â„¢ Haswell åŠæ›´æ–° CPUã€‚æœ‰å…³ AMD CPU å’Œ Intel å››ä»£é…·ç¿ â„¢ Haswell ä¹‹å‰çš„ CPU è¯·å‚è€ƒ archWiki Undervolting CPUã€‚\n å¯¹å¤„ç†å™¨çš„ç”µå‹è¿›è¡Œæœ€å¤§é™åº¦çš„ä¸‹æ¢ï¼Œåœ¨æŒ–æ˜ CPU ä½“è´¨çš„æé™çš„åŒæ—¶ï¼Œèµ·åˆ°æ—¢èƒ½é™ä½å‘çƒ­ï¼Œåˆèƒ½æœ€å¤§é™åº¦ä¿æŒæ€§èƒ½çš„æ•ˆæœã€‚\nå¦‚æœæ­£å¸¸æ“ä½œï¼Œé™ä½ç”µå‹ä¸€èˆ¬ä¸ä¼šæŸå®³ CPUï¼Œä¸€èˆ¬å»ºè®®ä» 50 æ¯«ä¼è¿›è¡Œå°è¯•ï¼Œæ¯æ¬¡é™å‹å°è¯•å¤šå¢åŠ  10 æ¯«ä¼ã€‚åªè¦ç¡®ä¿åœ¨é™ä½ç”µå‹å‰ï¼Œç³»ç»Ÿä¸­ä»»åŠ¡å‡è¢«æ­£ç¡®ä¿å­˜å³å¯ã€‚\né™ä½åŠŸç‡å¢™ é™¤äº†ç”µå‹çš„ä¸‹æ¢ï¼ŒåŒæ—¶ä¹Ÿå¯ä»¥å°è¯•å¯¹å¤„ç†å™¨çš„åŠŸç‡å¢™ï¼ˆTDPï¼‰åšå‡ºé™ä½çš„é™åˆ¶ã€‚æ¯”å¦‚è€ƒè™‘è¿™ç§æƒ…å†µ â€”â€” åœ¨ CPU æ»¡ç¿é¢‘æ—¶ï¼Œå…¶å®ä¸éœ€è¦é»˜è®¤çš„é‚£ä¹ˆå¤šåŠŸè€—æ¥ç»´æŒï¼Œä¹Ÿè®¸åœ¨é»˜è®¤åŠŸè€—çš„åŸºç¡€ä¸Šå‡å‡ ç“¦ï¼Œä¹Ÿèƒ½ç»´æŒæ»¡ç¿é¢‘ï¼Œè¿™æ ·å°±åˆå¯ä»¥è¿›ä¸€æ­¥é™ä½æ¸©åº¦ã€‚å¯¹åŠŸç‡å¢™è¿›è¡Œé™åˆ¶ä¸åŒäºå¯¹ç”µå‹è¿›è¡Œä¸‹æ¢ï¼Œè‹¥é™åˆ¶åŠŸç‡å¢™çš„å‚æ•°è¾ƒä½ï¼Œè¿™ä¼šä¸å¯é¿å…çš„æŸå¤±è¾ƒå¤šçš„æ€§èƒ½ï¼Œä½†æ˜¯åœ¨æ•£çƒ­è¿‡å·®çš„è®¾å¤‡ä¸Šè¿™ä¹Ÿæ˜¯ä¸€ä¸ªå¥½åŠæ³•ã€‚\nå¯¹äºåŠŸç‡å¢™çš„è°ƒæ•´ï¼Œæœ‰äº›ä¸»æ¿åœ¨ BIOS ä¸­æä¾›äº†è®¾ç½®é¡¹å¯ä»¥ç›´æ¥è°ƒæ•´ã€‚å¯¹äºæ²¡æœ‰è®¾ç½®é¡¹çš„ä¸»æ¿ï¼Œæœ‰çš„ä¸»æ¿æ˜¯é”å®šäº†ç¬æ—¶å’Œé•¿æ—¶åŠŸç‡å¢™ï¼Œè¿™ç§æƒ…å†µå°±æ— æ³•è°ƒæ•´åŠŸç‡å¢™äº†ã€‚æœ‰çš„ä¸»æ¿ BIOS éšæ²¡æœ‰æä¾›åŠŸç‡å¢™è°ƒæ•´é¡¹ï¼Œä½†ä¾æ—§å¯ä»¥é€šè¿‡å‘½ä»¤è¡Œè®¾ç½®ã€‚\né€šè¿‡ä»¥ä¸‹çš„å‘½ä»¤å¯ä»¥æŸ¥çœ‹ä¸»æ¿æ˜¯å¦å¯ä»¥è°ƒæ•´åŠŸç‡å¢™ï¼š\ngrep . /sys/class/powercap/intel-rapl/intel-rapl:0/* 2\u0026gt; /dev/null å¦‚æœåœ¨è¾“å‡ºä¸­çœ‹åˆ°äº†å¦‚ä¸‹çš„ enabled å€¼ä¸º 1ï¼Œå³å¯ä»¥è°ƒæ•´ã€‚ç¬¬ä¸€è¡Œçš„æ•°å­—ä»£è¡¨ç°æœ‰çš„åŠŸç‡å¢™é™åˆ¶ï¼š\n/sys/class/powercap/intel-rapl/intel-rapl:0/constraint_0_power_limit_uw:100000000 /sys/class/powercap/intel-rapl/intel-rapl:0/enabled:1 å…·ä½“çš„è°ƒæ•´æ­¥éª¤å‚è€ƒ Set Max TDP of Intel H-series CPUã€‚\näº¤æ¢æ–‡ä»¶ åœ¨æ¡Œé¢ç¯å¢ƒä¸­ï¼Œäº¤æ¢åˆ†åŒºæˆ–æ–‡ä»¶ç”¨æ¥å®ç°ä¼‘çœ (hibernate)çš„åŠŸèƒ½ï¼Œå³å°†å½“å‰ç¯å¢ƒä¿å­˜åœ¨ç£ç›˜çš„äº¤æ¢æ–‡ä»¶æˆ–åˆ†åŒºéƒ¨åˆ†ã€‚é™¤æ­¤ä¹‹å¤–ï¼ŒæŸäº›ç‰¹å®šè½¯ä»¶éœ€è¦ swap æ‰å¯ä»¥æ­£ç¡®è¿è¡Œã€‚äº¤æ¢æ–‡ä»¶ä¸åˆ†åŒºæ€§èƒ½ç›¸åŒï¼Œä¸”äº¤æ¢æ–‡ä»¶æ›´ä¸ºçµæ´»ï¼Œå¯éšæ—¶å˜æ›´å¤§å°ï¼Œå¢åŠ ä¸åˆ é™¤ã€‚\n$ dd if=/dev/zero of=/swapfile bs=1M count=4096 status=progress #åˆ›å»º4Gçš„äº¤æ¢ç©ºé—´ å¤§å°æ ¹æ®éœ€è¦è‡ªå®š $ chmod 600 /swapfile #è®¾ç½®æ­£ç¡®çš„æƒé™ $ mkswap /swapfile #æ ¼å¼åŒ–swapæ–‡ä»¶ $ swapon /swapfile #å¯ç”¨swapæ–‡ä»¶ æœ€åï¼Œå‘/etc/fstab ä¸­è¿½åŠ å¦‚ä¸‹å†…å®¹ï¼š\n/swapfile none swap defaults 0 0 KDE è‡ªèº«æä¾›å¼€ç®±å³ç”¨çš„ç¡çœ åŠŸèƒ½(suspend)ï¼Œå³å°†ç³»ç»ŸæŒ‚èµ·åˆ°å†…å­˜ï¼Œæ¶ˆè€—å°‘é‡çš„ç”µé‡ã€‚ä¼‘çœ (hibernate)ä¼šå°†ç³»ç»ŸæŒ‚èµ·åˆ°äº¤æ¢åˆ†åŒºæˆ–æ–‡ä»¶ï¼Œå‡ ä¹ä¸æ¶ˆè€—ç”µé‡ã€‚\nQUESTIONS Ubuntu æ— æ³•å…³æœº $ sudo vim /etc/systemd/system.conf DefaultTimeoutStartSec=5s DefaultTimeoutStopSec=5s $ sudo systemctl reload DefaultTimeoutStartSec=, DefaultTimeoutStopSec= è®¾ç½®å¯åŠ¨/åœæ­¢ä¸€ä¸ªå•å…ƒæ‰€å…è®¸çš„æœ€å¤§æ—¶é•¿ã€‚è‹¥ä»…è®¾ç½®ä¸€ä¸ªæ•´æ•°è€Œæ²¡æœ‰å•ä½ï¼Œé‚£ä¹ˆå•ä½æ˜¯ç§’ã€‚ ä¹Ÿå¯ä»¥åœ¨æ•´æ•°åé¢åŠ ä¸Šæ—¶é—´å•ä½åç¼€ï¼š \u0026ldquo;ms\u0026rdquo;(æ¯«ç§’), \u0026ldquo;s\u0026rdquo;(ç§’), \u0026ldquo;min\u0026rdquo;(åˆ†é’Ÿ), \u0026ldquo;h\u0026rdquo;(å°æ—¶), \u0026ldquo;d\u0026rdquo;(å¤©), \u0026ldquo;w\u0026rdquo;(å‘¨) ã€‚ å¯¹äº Type=oneshot ç±»å‹çš„ service å•å…ƒï¼Œ è¿™äº›é€‰é¡¹æ²¡æœ‰æ„ä¹‰(ç›¸å½“äºå…¨éƒ¨è¢«ç¦ç”¨)ã€‚ å¯¹äºå…¶ä»–ç±»å‹çš„ service å•å…ƒï¼Œå¯ä»¥åœ¨å•å…ƒæ–‡ä»¶ä¸­è®¾ç½® TimeoutStartSec=, TimeoutStopSec=, RestartSec= ä»¥è¦†ç›–æ­¤å¤„è®¾ç½®çš„é»˜è®¤å€¼ (å‚è§systemd.service(5))ã€‚ å¯¹äºå…¶ä»–é service ç±»å‹çš„å•å…ƒï¼Œ DefaultTimeoutStartSec= æ˜¯ TimeoutSec= çš„é»˜è®¤å€¼ã€‚\næ³¨1ï¼šå°½é‡ä¸è¦ä½¿ç”¨ä¸Šé¢æ›´æ”¹ã€‚åº”è¯¥åœ¨å®Œå…¨æ¸…æ¥šè‡ªå·±çš„æ›´æ”¹é€ æˆçš„å½±å“ã€äº§ç”Ÿçš„ä½œç”¨çš„å‰æä¸‹ï¼Œåšå‡ºæ›´æ”¹ã€‚\næ³¨2ï¼šä½œä¸ºæ¡Œé¢æ“ä½œç³»ç»Ÿï¼Œå¦‚æœæœ‰ç¡¬ä»¶é©±åŠ¨æˆ–å…¶ä»–å„ç§è«åé—®é¢˜ï¼Œå¯ä»¥å°è¯•å‡çº§åˆ°æœ€æ–°ç‰ˆæœ¬æ¥è§£å†³ã€‚\nACPI ERROR: AE_ALREADY_EXISTS These kinds of \u0026ldquo;errors\u0026rdquo; have been discussed ad nauseam, it\u0026rsquo;s simply the kernel telling you that the ACPI information received from the system seems to be incomplete in some way, update your BIOS/UEFI in hopes for a proper fix or ignore the error if you don\u0026rsquo;t notice anything off with your system.\n(And please don\u0026rsquo;t do something dumb like setting acpi=off just to get rid of these messages)\nè§£å‹zipä¹±ç  $ unzip -O CP936 xxx.zip ç”¨GBK, GB18030ä¹Ÿå¯ä»¥\nCan\u0026rsquo;t run CS:GO at fullscreen  Open Steam Go to the \u0026ldquo;Library\u0026rdquo; Right-click the game which needs to be reconfigured Select \u0026ldquo;Properties\u0026rdquo; from the menu Click the \u0026ldquo;Set launch options\u0026hellip;\u0026rdquo; button type: -full and save  How To Disable Lock In Kubuntu open Workspace \u0026gt; Desktop Behavior \u0026gt; Screen Locking \u0026gt; uncheck Lock screen option\nGnome 3 displays two icons for same app No, there\u0026rsquo;s nothing wrong with your system.\nThe duplicated launcher icons explained:\nThe different icons are different commandline options. Some context applications with call the associated *.desktop icon. The exec option of the icon will depend on how the application is called.\nSome of the Icons you show in your image may be obvious because of the difference in the way they are named. You can see the difference in the way the app is called by right clicking and clicking on properties to see other differences.\nSome of the *.desktop files have a %U argument, used so the application will accept arguments.\nSome of the Launchers are different commands that are called differently and are named differently often by a symbolic link.\nSome exampes from the list in you image are:\nName: Online Accounts Command: unity-control-center credentials Name: Online Accounts Command: Online account credentials and settings Name: Personal File Sharing Command: gnome-file-share-properties Name: Rhythmbox Command: rhythmbox %U Name: Rhythmbox Command rhythmbox-client --select-source %U ssh_exchange_identification: Connection closed by remote host åŸå› æ˜¯ Clash å¼€äº† TUN æ¨¡å¼ã€‚å…³é—­æ‰å°±å¥½äº†ã€‚\nDisk show 129986 TB  (=â†€Ï‰â†€=)æ©˜å¤–çŒ«, [2/7/22 11:16 AM] è¿™ä¸ªæ˜¯æ€ä¹ˆå›äº‹å•Š\né›ªæ¢¨, [2/7/22 11:21 AM] åˆ†åŒºè¡¨åäº†ï¼Ÿ\n(=â†€Ï‰â†€=)æ©˜å¤–çŒ«, [2/7/22 11:21 AM] ç›´æ¥å†åˆ†åŒºå—ï¼Ÿ\né›ªæ¢¨, [2/7/22 11:21 AM] è¯·é¸½é±¼è€å¸ˆçœ‹çœ‹è¯¶\né›ªæ¢¨, [2/7/22 11:22 AM] è¿˜èƒ½æŒ‚è½½å°±å…ˆå¤‡ä»½æ•°æ®å¥½äº†\n(=â†€Ï‰â†€=)æ©˜å¤–çŒ«, [2/7/22 11:22 AM] å¥½çš„\nPegion Fish, [2/7/22 11:25 AM] JMSç‚¸äº†ï¼Ÿ å»ºè®®å¤‡ä»½æ•°æ®é‡å»ºåˆ†åŒºè¡¨ å…ˆé‡æ–°æ’ä¸€æ¬¡USBå’Œç¡¬ç›˜\n(=â†€Ï‰â†€=)æ©˜å¤–çŒ«, [2/7/22 11:27 AM] é‡æ’äº† ç”¨fdisk é‡å»ºå—ï¼Ÿ\nPegion Fish, [2/7/22 11:28 AM] è¿˜æ˜¯ä¸æ­£å¸¸ï¼Ÿ ç¡¬ç›˜ä¹Ÿé‡æ–°æ’ä¸€ä¸‹\n(=â†€Ï‰â†€=)æ©˜å¤–çŒ«, [2/7/22 11:28 AM] æ©\né›ªæ¢¨, [2/7/22 11:28 AM] é‡å»ºåˆ†åŒºè¡¨ï¼Œä¸æ˜¯åˆ æ‰åˆ†åŒºå†æ–°å¢åˆ†åŒº\n(=â†€Ï‰â†€=)æ©˜å¤–çŒ«, [2/7/22 11:30 AM] æ–­ç”µåè‡ªåŠ¨å¥½äº† è¿™æ˜¯æ€ä¹ˆå›äº‹å•Š\nThor Luo Bing-, [2/7/22 11:31 AM] ç¡¬ç›˜æ¸…ç©ºäº†\n(=â†€Ï‰â†€=)æ©˜å¤–çŒ«, [2/7/22 11:32 AM] æ²¡æœ‰ï¼Œä¸œè¥¿è¿˜åœ¨\nPegion Fish, [2/7/22 11:32 AM] å•Š è¿™ä¸æ˜¯äº‰äº§çš„å— 1Tå•Š è¿™å°±æ˜¯JMSä¸»æ§æŠ½é£\n No Caching mode page found during early boot, I get following error message:\n[sdb] No Caching mode page found [sdb] Assuming drive cache: write through If I understand correctly, this is actually just a harmless info message and not an actual error. sdb is my USB disk, and it does not use caching .\nHard disks have a small amount of RAM cache to speed up write operations. The system can write a chunk of data to the disk cache without actually waiting for it to be written to the disk. This is sometimes called \u0026ldquo;write-back\u0026rdquo; mode. If there is no cache on the disk, data is directly written to it in \u0026ldquo;write-through\u0026rdquo; mode. The Asking for cache data failed warning usually occurs with devices such as USB flash drives, USB card readers, etc. which present themselves as SCSI devices to the system (sdX), but have no cache. The system asks the device: \u0026ldquo;Do you have a cache?\u0026rdquo; and gets no response. So it assumes there is no cache and puts it in \u0026ldquo;write-through\u0026rdquo; mode.\nCertificate verification failed é¦–å…ˆæ›´æ”¹æºæ–‡ä»¶ï¼Œå°†æ‰€æœ‰çš„ https æ”¹æˆ http ï¼š\n$ sudo vi /etc/apt/sources.list deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse deb http://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse 1234 ç„¶åå®‰è£…/æ›´æ–°è¯ä¹¦ ca-certificatesï¼š\n$ sudo apt-get update $ sudo apt-get install --reinstall ca-certificates æœ€åå°†é•œåƒæºæ–‡ä»¶æ”¹å› httpsï¼š\n$ sudo vi /etc/apt/sources.list deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse $ sudo apt-get update Move and overwrite subdirectories (and files) to parent directory You will have to copy them to the destination and then delete the source, using the commands cp -r * .. followed by rm -rf *.\nI don\u0026rsquo;t think you can \u0026ldquo;merge\u0026rdquo; directories using mv.\nSystem program problem detected The error \u0026ldquo;System program problem detected\u0026rdquo; comes up when a certain application crashes. Ubuntu has a program called Apport that is responsible for detecting such crashes and upon user consent, report these crashes to developers. This process intends to get the problem fixed by the developers.\nHowever it can be very annoying to common users, and there is no point in showing errors to users when they cannot do anything about it themselves. So you might want to disable them.\nRemove crash report files\nThe apport system creates crash report files in the /var/crash directory. These crash report files cause the error message to appear everytime Ubuntu boots.\n$ cd /var/crash $ ls _opt_google_chrome_chrome.1000.crash _usr_lib_chromium-browser_chromium-browser.1000.crash _usr_sbin_ulatencyd.0.crash _usr_share_apport_apport-gtk.1000.crash Just remove the crash report files\n$ sudo rm /var/crash/* After removing all the crash report files, the error message should stop popping up. However if a new crash takes place then it would appear again in future.\nTurn off apport\nAfter removing the old crash reports, if you still get the same error message, then you can completely turn off apport to get rid. Edit the configuration file at /etc/default/apport.\n$ gksudo gedit /etc/default/apport The file would contain something like this\n# set this to 0 to disable apport, or to 1 to enable it # you can temporarily override this with # sudo service apport start force_start=1 enabled=1 Just set the value of enabled to 0, and this will disable apport.\nenabled=0 Save the file and close it. From the next boot onwards, there should be no error messages ever. If you do not want to restart the system then restart apport from the command line.\n$ sudo restart apport ","permalink":"https://sakamotokurome.github.io/posts/ubuntu/","summary":"å‹é‚¦æ‹“ ä¹Œç­å›¾ During the first ten years of this HOWTO\u0026rsquo;s life, I reported that from a new user\u0026rsquo;s point of view, all Linux distributions are almost equivalent. But in 2006-2007, an actual best choice emerged: Ubuntu. While other distros have their own areas of strength, Ubuntu is far and away the most accessible to Linux newbies. Beware, though, of the hideous and nigh-unusable \u0026ldquo;Unity\u0026rdquo; desktop interface","title":"Ubuntu"},{"content":"Hexo Hexo æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ã€‚\nå®‰è£…   å®‰è£… Gitï¼š\n Windows: Download \u0026amp; install git. Mac: Install it with Homebrew, MacPorts or installer. Linux (Ubuntu, Debian): sudo apt-get install git-core Linux (Fedora, Red Hat, CentOS): sudo yum install git-core    å®‰è£… node.jsï¼š\n Windows: Install it with nvs (recommended) or nvm. Mac: Install it with Homebrew or MacPorts. Linux (DEB/RPM-based): Install it with NodeSource. Others: Install it through respective package manager. Refer to the guide provided by Node.js.    å®‰è£… Hexoï¼š-g è¡¨ç¤ºå…¨å±€å®‰è£…ï¼Œä¼šå°† Hexo å‘½ä»¤åŠ å…¥ç¯å¢ƒå˜é‡ä¸­ã€‚\n$ npm --registry https://registry.npm.taobao.org install -g hexo-cli # æŒä¹…ä½¿ç”¨é•œåƒ $ npm config set registry https://registry.npm.taobao.org Where do global npm packages get installed\n$ npm root -g   å»ºç«™ $ hexo init [folder] $ cd \u0026lt;folder\u0026gt; $ npm install æ–°å»ºå®Œæˆåï¼ŒæŒ‡å®šæ–‡ä»¶å¤¹çš„ç›®å½•å¦‚ä¸‹ï¼š\n. â”œâ”€â”€ node_modules\t//ä¾èµ–å®‰è£…ç›®å½• â”œâ”€â”€ scaffolds\t//æ¨¡æ¿æ–‡ä»¶å¤¹ï¼ŒHexoçš„æ¨¡æ¿æ˜¯æŒ‡åœ¨æ–°å»ºçš„æ–‡ç« æ–‡ä»¶ä¸­é»˜è®¤å¡«å……çš„å†…å®¹ã€‚ | â”œâ”€â”€ draft.md\t//è‰ç¨¿æ¨¡æ¿ | â”œâ”€â”€ page.md\t//é¡µé¢æ¨¡æ¿ | â””â”€â”€ post.md\t//æ–‡ç« æ¨¡æ¿ â”œâ”€â”€ source\t//èµ„æºæ–‡ä»¶å¤¹ | â””â”€â”€ _posts\t//æ–‡ç« ç›®å½• â”œâ”€â”€ themes\t//ä¸»é¢˜æ–‡ä»¶å¤¹ï¼ŒHexo ä¼šæ ¹æ®ä¸»é¢˜æ¥ç”Ÿæˆé™æ€é¡µé¢ã€‚ | â””â”€â”€ landscape\t//é»˜è®¤ä¸»é¢˜ â”œâ”€â”€ .gitignore\t//æŒ‡å®šä¸çº³å…¥gitç‰ˆæœ¬æ§åˆ¶çš„æ–‡ä»¶ â”œâ”€â”€ _config.yml\t//ç«™ç‚¹é…ç½®æ–‡ä»¶ â”œâ”€â”€ db.json â”œâ”€â”€ package.json\t//åº”ç”¨ç¨‹åºçš„ä¿¡æ¯ â””â”€â”€ package-lock.json sourceï¼šèµ„æºæ–‡ä»¶å¤¹æ˜¯å­˜æ”¾ç”¨æˆ·èµ„æºçš„åœ°æ–¹ã€‚é™¤ _posts æ–‡ä»¶å¤¹ä¹‹å¤–ï¼Œå¼€å¤´å‘½åä¸º _ (ä¸‹åˆ’çº¿)çš„æ–‡ä»¶ / æ–‡ä»¶å¤¹å’Œéšè—çš„æ–‡ä»¶å°†ä¼šè¢«å¿½ç•¥ã€‚\né…ç½® æ‚¨å¯ä»¥åœ¨ _config.yml ä¸­ä¿®æ”¹å¤§éƒ¨åˆ†çš„é…ç½®ã€‚\nç½‘ç«™    å‚æ•° æè¿°     title ç½‘ç«™æ ‡é¢˜   subtitle ç½‘ç«™å‰¯æ ‡é¢˜   description ç½‘ç«™æè¿°   keywords ç½‘ç«™çš„å…³é”®è¯ã€‚æ”¯æŒå¤šä¸ªå…³é”®è¯ã€‚   author æ‚¨çš„åå­—   language ç½‘ç«™ä½¿ç”¨çš„è¯­è¨€ã€‚å¯¹äºç®€ä½“ä¸­æ–‡ç”¨æˆ·æ¥è¯´ï¼Œä½¿ç”¨ä¸åŒçš„ä¸»é¢˜å¯èƒ½éœ€è¦è®¾ç½®æˆä¸åŒçš„å€¼ï¼Œè¯·å‚è€ƒä½ çš„ä¸»é¢˜çš„æ–‡æ¡£è‡ªè¡Œè®¾ç½®ï¼Œå¸¸è§çš„æœ‰ zh-Hanså’Œ zh-CNã€‚   timezone ç½‘ç«™æ—¶åŒºã€‚Hexo é»˜è®¤ä½¿ç”¨æ‚¨ç”µè„‘çš„æ—¶åŒºã€‚è¯·å‚è€ƒ æ—¶åŒºåˆ—è¡¨ è¿›è¡Œè®¾ç½®ï¼Œå¦‚ America/New_York, Japan, å’Œ UTC ã€‚ä¸€èˆ¬çš„ï¼Œå¯¹äºä¸­å›½å¤§é™†åœ°åŒºå¯ä»¥ä½¿ç”¨ Asia/Shanghaiã€‚    å…¶ä¸­ï¼Œdescriptionä¸»è¦ç”¨äºSEOï¼Œå‘Šè¯‰æœç´¢å¼•æ“ä¸€ä¸ªå…³äºæ‚¨ç«™ç‚¹çš„ç®€å•æè¿°ï¼Œé€šå¸¸å»ºè®®åœ¨å…¶ä¸­åŒ…å«æ‚¨ç½‘ç«™çš„å…³é”®è¯ã€‚authorå‚æ•°ç”¨äºä¸»é¢˜æ˜¾ç¤ºæ–‡ç« çš„ä½œè€…ã€‚\nç½‘å€    å‚æ•° æè¿° é»˜è®¤å€¼     url ç½‘å€, å¿…é¡»ä»¥ http:// æˆ– https:// å¼€å¤´    root ç½‘ç«™æ ¹ç›®å½• url's pathname   permalink æ–‡ç« çš„ æ°¸ä¹…é“¾æ¥ æ ¼å¼ :year/:month/:day/:title/   permalink_defaults æ°¸ä¹…é“¾æ¥ä¸­å„éƒ¨åˆ†çš„é»˜è®¤å€¼    pretty_urls æ”¹å†™ permalink çš„å€¼æ¥ç¾åŒ– URL    pretty_urls.trailing_index æ˜¯å¦åœ¨æ°¸ä¹…é“¾æ¥ä¸­ä¿ç•™å°¾éƒ¨çš„ index.htmlï¼Œè®¾ç½®ä¸º false æ—¶å»é™¤ true   pretty_urls.trailing_html æ˜¯å¦åœ¨æ°¸ä¹…é“¾æ¥ä¸­ä¿ç•™å°¾éƒ¨çš„ .html, è®¾ç½®ä¸º false æ—¶å»é™¤ (å¯¹å°¾éƒ¨çš„ index.htmlæ— æ•ˆ) true     ç½‘ç«™å­˜æ”¾åœ¨å­ç›®å½•\nå¦‚æœæ‚¨çš„ç½‘ç«™å­˜æ”¾åœ¨å­ç›®å½•ä¸­ï¼Œä¾‹å¦‚ http://example.com/blogï¼Œåˆ™è¯·å°†æ‚¨çš„ url è®¾ä¸º http://example.com/blog å¹¶æŠŠ root è®¾ä¸º /blog/ã€‚\n ä¾‹å¦‚ï¼š\n# æ¯”å¦‚ï¼Œä¸€ä¸ªé¡µé¢çš„æ°¸ä¹…é“¾æ¥æ˜¯ http://example.com/foo/bar/index.html pretty_urls: trailing_index: false # æ­¤æ—¶é¡µé¢çš„æ°¸ä¹…é“¾æ¥ä¼šå˜ä¸º http://example.com/foo/bar/ ç›®å½•    å‚æ•° æè¿° é»˜è®¤å€¼     source_dir èµ„æºæ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹ç”¨æ¥å­˜æ”¾å†…å®¹ã€‚ source   public_dir å…¬å…±æ–‡ä»¶å¤¹ï¼Œè¿™ä¸ªæ–‡ä»¶å¤¹ç”¨äºå­˜æ”¾ç”Ÿæˆçš„ç«™ç‚¹æ–‡ä»¶ã€‚ public   tag_dir æ ‡ç­¾æ–‡ä»¶å¤¹ tags   archive_dir å½’æ¡£æ–‡ä»¶å¤¹ archives   category_dir åˆ†ç±»æ–‡ä»¶å¤¹ categories   code_dir Include code æ–‡ä»¶å¤¹ï¼Œsource_dir ä¸‹çš„å­ç›®å½• downloads/code   i18n_dir å›½é™…åŒ–ï¼ˆi18nï¼‰æ–‡ä»¶å¤¹ :lang   skip_render è·³è¿‡æŒ‡å®šæ–‡ä»¶çš„æ¸²æŸ“ã€‚åŒ¹é…åˆ°çš„æ–‡ä»¶å°†ä¼šè¢«ä¸åšæ”¹åŠ¨åœ°å¤åˆ¶åˆ° public ç›®å½•ä¸­ã€‚æ‚¨å¯ä½¿ç”¨ glob è¡¨è¾¾å¼æ¥åŒ¹é…è·¯å¾„ã€‚     ä¾‹å¦‚ï¼š\nskip_render: \u0026#34;mypage/**/*\u0026#34; # å°†ä¼šç›´æ¥å°† `source/mypage/index.html` å’Œ `source/mypage/code.js` ä¸åšæ”¹åŠ¨åœ°è¾“å‡ºåˆ° \u0026#39;public\u0026#39; ç›®å½• # ä½ ä¹Ÿå¯ä»¥ç”¨è¿™ç§æ–¹æ³•æ¥è·³è¿‡å¯¹æŒ‡å®šæ–‡ç« æ–‡ä»¶çš„æ¸²æŸ“ skip_render: \u0026#34;_posts/test-post.md\u0026#34; # è¿™å°†ä¼šå¿½ç•¥å¯¹ \u0026#39;test-post.md\u0026#39; çš„æ¸²æŸ“  æç¤º\nå¦‚æœæ‚¨åˆšåˆšå¼€å§‹æ¥è§¦ Hexoï¼Œé€šå¸¸æ²¡æœ‰å¿…è¦ä¿®æ”¹è¿™ä¸€éƒ¨åˆ†çš„å€¼ã€‚\n æ–‡ç«     å‚æ•° æè¿° é»˜è®¤å€¼     new_post_name æ–°æ–‡ç« çš„æ–‡ä»¶åç§° :title.md   default_layout é¢„è®¾å¸ƒå±€ post   auto_spacing åœ¨ä¸­æ–‡å’Œè‹±æ–‡ä¹‹é—´åŠ å…¥ç©ºæ ¼ false   titlecase æŠŠæ ‡é¢˜è½¬æ¢ä¸º title case false   external_link åœ¨æ–°æ ‡ç­¾ä¸­æ‰“å¼€é“¾æ¥ true   external_link.enable åœ¨æ–°æ ‡ç­¾ä¸­æ‰“å¼€é“¾æ¥ true   external_link.field å¯¹æ•´ä¸ªç½‘ç«™ï¼ˆsiteï¼‰ç”Ÿæ•ˆæˆ–ä»…å¯¹æ–‡ç« ï¼ˆpostï¼‰ç”Ÿæ•ˆ site   external_link.exclude éœ€è¦æ’é™¤çš„åŸŸåã€‚ä¸»åŸŸåå’Œå­åŸŸåå¦‚ www éœ€åˆ†åˆ«é…ç½® []   filename_case æŠŠæ–‡ä»¶åç§°è½¬æ¢ä¸º (1) å°å†™æˆ– (2) å¤§å†™ 0   render_drafts æ˜¾ç¤ºè‰ç¨¿ false   post_asset_folder å¯åŠ¨ Asset æ–‡ä»¶å¤¹ false   relative_link æŠŠé“¾æ¥æ”¹ä¸ºä¸æ ¹ç›®å½•çš„ç›¸å¯¹ä½å€ false   future æ˜¾ç¤ºæœªæ¥çš„æ–‡ç«  true   highlight ä»£ç å—çš„è®¾ç½®, è¯·å‚è€ƒ Highlight.js è¿›è¡Œè®¾ç½®    prismjs ä»£ç å—çš„è®¾ç½®, è¯·å‚è€ƒ PrismJS è¿›è¡Œè®¾ç½®      ç›¸å¯¹åœ°å€\né»˜è®¤æƒ…å†µä¸‹ï¼ŒHexo ç”Ÿæˆçš„è¶…é“¾æ¥éƒ½æ˜¯ç»å¯¹åœ°å€ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨çš„ç½‘ç«™åŸŸåä¸º example.com,æ‚¨æœ‰ä¸€ç¯‡æ–‡ç« åä¸º helloï¼Œé‚£ä¹ˆç»å¯¹é“¾æ¥å¯èƒ½åƒè¿™æ ·ï¼šhttp://example.com/hello.htmlï¼Œå®ƒæ˜¯ç»å¯¹äºåŸŸåçš„ã€‚ç›¸å¯¹é“¾æ¥åƒè¿™æ ·ï¼š/hello.htmlï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œæ— è®ºç”¨ä»€ä¹ˆåŸŸåè®¿é—®è¯¥ç«™ç‚¹ï¼Œéƒ½æ²¡æœ‰å…³ç³»ï¼Œè¿™åœ¨è¿›è¡Œåå‘ä»£ç†æ—¶å¯èƒ½ç”¨åˆ°ã€‚é€šå¸¸æƒ…å†µä¸‹ï¼Œå»ºè®®ä½¿ç”¨ç»å¯¹åœ°å€ã€‚\n åˆ†ç±» \u0026amp; æ ‡ç­¾    å‚æ•° æè¿° é»˜è®¤å€¼     default_category é»˜è®¤åˆ†ç±» uncategorized   category_map åˆ†ç±»åˆ«å    tag_map æ ‡ç­¾åˆ«å     æ—¥æœŸ / æ—¶é—´æ ¼å¼ Hexo ä½¿ç”¨ Moment.js æ¥è§£æå’Œæ˜¾ç¤ºæ—¶é—´ã€‚\n   å‚æ•° æè¿° é»˜è®¤å€¼     date_format æ—¥æœŸæ ¼å¼ YYYY-MM-DD   time_format æ—¶é—´æ ¼å¼ HH:mm:ss   updated_option å½“ Front Matter ä¸­æ²¡æœ‰æŒ‡å®š updated æ—¶ updated çš„å–å€¼ mtime     updated_option\nupdated_option æ§åˆ¶äº†å½“ Front Matter ä¸­æ²¡æœ‰æŒ‡å®š updated æ—¶ï¼Œupdated å¦‚ä½•å–å€¼ï¼š\n mtime: ä½¿ç”¨æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´ã€‚è¿™æ˜¯ä» Hexo 3.0.0 å¼€å§‹çš„é»˜è®¤è¡Œä¸ºã€‚ date: ä½¿ç”¨ date ä½œä¸º updated çš„å€¼ã€‚å¯è¢«ç”¨äº Git å·¥ä½œæµä¹‹ä¸­ï¼Œå› ä¸ºä½¿ç”¨ Git ç®¡ç†ç«™ç‚¹æ—¶ï¼Œæ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¥æœŸå¸¸å¸¸ä¼šå‘ç”Ÿæ”¹å˜ empty: ç›´æ¥åˆ é™¤ updatedã€‚ä½¿ç”¨è¿™ä¸€é€‰é¡¹å¯èƒ½ä¼šå¯¼è‡´å¤§éƒ¨åˆ†ä¸»é¢˜å’Œæ’ä»¶æ— æ³•æ­£å¸¸å·¥ä½œã€‚  use_date_for_updated é€‰é¡¹å·²ç»è¢«åºŸå¼ƒï¼Œå°†ä¼šåœ¨ä¸‹ä¸ªé‡å¤§ç‰ˆæœ¬å‘å¸ƒæ—¶å»é™¤ã€‚è¯·æ”¹ä¸ºä½¿ç”¨ updated_option: 'date'ã€‚\n use_date_for_updated` | å¯ç”¨ä»¥åï¼Œå¦‚æœ Front Matter ä¸­æ²¡æœ‰æŒ‡å®š `updated`ï¼Œ [`post.updated`](https://hexo.io/zh-cn/docs/configuration) å°†ä¼šä½¿ç”¨ `date` çš„å€¼è€Œä¸æ˜¯æ–‡ä»¶çš„åˆ›å»ºæ—¶é—´ã€‚åœ¨ Git å·¥ä½œæµä¸­è¿™ä¸ªé€‰é¡¹ä¼šå¾ˆæœ‰ç”¨ | `true åˆ†é¡µ    å‚æ•° æè¿° é»˜è®¤å€¼     per_page æ¯é¡µæ˜¾ç¤ºçš„æ–‡ç« é‡ (0 = å…³é—­åˆ†é¡µåŠŸèƒ½) 10   pagination_dir åˆ†é¡µç›®å½• page    æ‰©å±•    å‚æ•° æè¿°     theme å½“å‰ä¸»é¢˜åç§°ã€‚å€¼ä¸ºfalseæ—¶ç¦ç”¨ä¸»é¢˜   theme_config ä¸»é¢˜çš„é…ç½®æ–‡ä»¶ã€‚åœ¨è¿™é‡Œæ”¾ç½®çš„é…ç½®ä¼šè¦†ç›–ä¸»é¢˜ç›®å½•ä¸‹çš„ _config.yml ä¸­çš„é…ç½®   deploy éƒ¨ç½²éƒ¨åˆ†çš„è®¾ç½®   meta_generator Meta generator æ ‡ç­¾ã€‚ å€¼ä¸º false æ—¶ Hexo ä¸ä¼šåœ¨å¤´éƒ¨æ’å…¥è¯¥æ ‡ç­¾    åŒ…æ‹¬æˆ–ä¸åŒ…æ‹¬ç›®å½•å’Œæ–‡ä»¶\nåœ¨ Hexo é…ç½®æ–‡ä»¶ä¸­ï¼Œé€šè¿‡è®¾ç½® include/exclude å¯ä»¥è®© Hexo è¿›è¡Œå¤„ç†æˆ–å¿½ç•¥æŸäº›ç›®å½•å’Œæ–‡ä»¶å¤¹ã€‚ä½ å¯ä»¥ä½¿ç”¨ glob è¡¨è¾¾å¼ å¯¹ç›®å½•å’Œæ–‡ä»¶è¿›è¡ŒåŒ¹é…ã€‚\ninclude and exclude options only apply to the source/ folder, whereas ignore option applies to all folders.\n   å‚æ•° æè¿°     include Hexo é»˜è®¤ä¼šå¿½ç•¥éšè—æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼ˆåŒ…æ‹¬åç§°ä»¥ä¸‹åˆ’çº¿å’Œ . å¼€å¤´çš„æ–‡ä»¶å’Œæ–‡ä»¶å¤¹ï¼ŒHexo çš„ _posts å’Œ _data ç­‰ç›®å½•é™¤å¤–ï¼‰ã€‚é€šè¿‡è®¾ç½®æ­¤å­—æ®µå°†ä½¿ Hexo å¤„ç†ä»–ä»¬å¹¶å°†å®ƒä»¬å¤åˆ¶åˆ° source ç›®å½•ä¸‹ã€‚   exclude Hexo ä¼šå¿½ç•¥è¿™äº›æ–‡ä»¶å’Œç›®å½•   ignore Ignore files/folders    ä¸¾ä¾‹ï¼š\n# Include/Exclude Files/Folders include: - \u0026#34;.nojekyll\u0026#34; # åŒ…æ‹¬ \u0026#39;source/css/_typing.css\u0026#39; - \u0026#34;css/_typing.css\u0026#34; # åŒ…æ‹¬ \u0026#39;source/_css/\u0026#39; ä¸­çš„ä»»ä½•æ–‡ä»¶ï¼Œä½†ä¸åŒ…æ‹¬å­ç›®å½•åŠå…¶å…¶ä¸­çš„æ–‡ä»¶ã€‚ - \u0026#34;_css/*\u0026#34; # åŒ…å« \u0026#39;source/_css/\u0026#39; ä¸­çš„ä»»ä½•æ–‡ä»¶å’Œå­ç›®å½•ä¸‹çš„ä»»ä½•æ–‡ä»¶ - \u0026#34;_css/**/*\u0026#34; exclude: # ä¸åŒ…æ‹¬ \u0026#39;source/js/test.js\u0026#39; - \u0026#34;js/test.js\u0026#34; # ä¸åŒ…æ‹¬ \u0026#39;source/js/\u0026#39; ä¸­çš„æ–‡ä»¶ã€ä½†åŒ…æ‹¬å­ç›®å½•ä¸‹çš„æ‰€æœ‰ç›®å½•å’Œæ–‡ä»¶ - \u0026#34;js/*\u0026#34; # ä¸åŒ…æ‹¬ \u0026#39;source/js/\u0026#39; ä¸­çš„æ–‡ä»¶å’Œå­ç›®å½•ä¸‹çš„ä»»ä½•æ–‡ä»¶ - \u0026#34;js/**/*\u0026#34; # ä¸åŒ…æ‹¬ \u0026#39;source/js/\u0026#39; ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶åä»¥ \u0026#39;test\u0026#39; å¼€å¤´çš„æ–‡ä»¶ï¼Œä½†åŒ…æ‹¬å…¶å®ƒæ–‡ä»¶å’Œå­ç›®å½•ä¸‹çš„å•æ–‡ä»¶ - \u0026#34;js/test*\u0026#34; # ä¸åŒ…æ‹¬ \u0026#39;source/js/\u0026#39; åŠå…¶å­ç›®å½•ä¸­ä»»ä½•ä»¥ \u0026#39;test\u0026#39; å¼€å¤´çš„æ–‡ä»¶ - \u0026#34;js/**/test*\u0026#34; # ä¸è¦ç”¨ exclude æ¥å¿½ç•¥ \u0026#39;source/_posts/\u0026#39; ä¸­çš„æ–‡ä»¶ã€‚ä½ åº”è¯¥ä½¿ç”¨ \u0026#39;skip_render\u0026#39;ï¼Œæˆ–è€…åœ¨è¦å¿½ç•¥çš„æ–‡ä»¶çš„æ–‡ä»¶åä¹‹å‰åŠ ä¸€ä¸ªä¸‹åˆ’çº¿ \u0026#39;_\u0026#39; # åœ¨è¿™é‡Œé…ç½®ä¸€ä¸ª - \u0026#34;_posts/hello-world.md\u0026#34; æ˜¯æ²¡æœ‰ç”¨çš„ã€‚ ignore: # Ignore any folder named \u0026#39;foo\u0026#39;. - \u0026#34;**/foo\u0026#34; # Ignore \u0026#39;foo\u0026#39; folder in \u0026#39;themes/\u0026#39; only. - \u0026#34;**/themes/*/foo\u0026#34; # Same as above, but applies to every subfolders of \u0026#39;themes/\u0026#39;. - \u0026#34;**/themes/**/foo\u0026#34; åˆ—è¡¨ä¸­çš„æ¯ä¸€é¡¹éƒ½å¿…é¡»ç”¨å•å¼•å·æˆ–åŒå¼•å·åŒ…è£¹èµ·æ¥ã€‚\ninclude å’Œ exclude å¹¶ä¸é€‚ç”¨äº themes/ ç›®å½•ä¸‹çš„æ–‡ä»¶ã€‚å¦‚æœéœ€è¦å¿½ç•¥ themes/ ç›®å½•ä¸‹çš„éƒ¨åˆ†æ–‡ä»¶æˆ–æ–‡ä»¶å¤¹ï¼Œå¯ä»¥ä½¿ç”¨ ignore æˆ–åœ¨æ–‡ä»¶åä¹‹å‰æ·»åŠ ä¸‹åˆ’çº¿ _ã€‚\nä½¿ç”¨ä»£æ›¿é…ç½®æ–‡ä»¶\nå¯ä»¥åœ¨ hexo-cli ä¸­ä½¿ç”¨ --config å‚æ•°æ¥æŒ‡å®šè‡ªå®šä¹‰é…ç½®æ–‡ä»¶çš„è·¯å¾„ã€‚ä½ å¯ä»¥ä½¿ç”¨ä¸€ä¸ª YAML æˆ– JSON æ–‡ä»¶çš„è·¯å¾„ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨é€—å·åˆ†éš”ï¼ˆæ— ç©ºæ ¼ï¼‰çš„å¤šä¸ª YAML æˆ– JSON æ–‡ä»¶çš„è·¯å¾„ã€‚ä¾‹å¦‚ï¼š\n# use \u0026#39;custom.yml\u0026#39; in place of \u0026#39;_config.yml\u0026#39; $ hexo server --config custom.yml # use \u0026#39;custom.yml\u0026#39; \u0026amp; \u0026#39;custom2.json\u0026#39;, prioritizing \u0026#39;custom3.yml\u0026#39;, then \u0026#39;custom2.json\u0026#39; $ hexo generate --config custom.yml,custom2.json,custom3.yml å½“ä½ æŒ‡å®šäº†å¤šä¸ªé…ç½®æ–‡ä»¶ä»¥åï¼ŒHexo ä¼šæŒ‰é¡ºåºå°†è¿™éƒ¨åˆ†é…ç½®æ–‡ä»¶åˆå¹¶æˆä¸€ä¸ª _multiconfig.ymlã€‚å¦‚æœé‡åˆ°é‡å¤çš„é…ç½®ï¼Œæ’åœ¨åé¢çš„æ–‡ä»¶çš„é…ç½®ä¼šè¦†ç›–æ’åœ¨å‰é¢çš„æ–‡ä»¶çš„é…ç½®ã€‚è¿™ä¸ªåŸåˆ™é€‚ç”¨äºä»»æ„æ•°é‡ã€ä»»æ„æ·±åº¦çš„ YAML å’Œ JSON æ–‡ä»¶ã€‚\nä¾‹å¦‚ï¼Œä½¿ç”¨ --options æŒ‡å®šäº†ä¸¤ä¸ªè‡ªå®šä¹‰é…ç½®æ–‡ä»¶ï¼š\n$ hexo generate --config custom.yml,custom2.json å¦‚æœ custom.yml ä¸­æŒ‡å®šäº† foo: barï¼Œåœ¨ custom2.json ä¸­æŒ‡å®šäº† \u0026quot;foo\u0026quot;: \u0026quot;dinosaur\u0026quot;ï¼Œé‚£ä¹ˆåœ¨ _multiconfig.yml ä¸­ä½ ä¼šå¾—åˆ° foo: dinosaurã€‚\nä½¿ç”¨ä»£æ›¿ä¸»é¢˜é…ç½®æ–‡ä»¶\né€šå¸¸æƒ…å†µä¸‹ï¼ŒHexo ä¸»é¢˜æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„é¡¹ç›®ï¼Œå¹¶æ‹¥æœ‰ä¸€ä¸ªç‹¬ç«‹çš„ _config.yml é…ç½®æ–‡ä»¶ã€‚\né™¤äº†è‡ªè¡Œç»´æŠ¤ç‹¬ç«‹çš„ä¸»é¢˜é…ç½®æ–‡ä»¶ï¼Œä½ ä¹Ÿå¯ä»¥åœ¨å…¶å®ƒåœ°æ–¹å¯¹ä¸»é¢˜è¿›è¡Œé…ç½®ã€‚\né…ç½®æ–‡ä»¶ä¸­çš„ theme_config\n è¯¥ç‰¹æ€§è‡ª Hexo 2.8.2 èµ·æä¾›\n # _config.yml theme: \u0026#34;my-theme\u0026#34; theme_config: bio: \u0026#34;My awesome bio\u0026#34; foo: bar: \u0026#39;a\u0026#39; # themes/my-theme/_config.yml bio: \u0026#34;Some generic bio\u0026#34; logo: \u0026#34;a-cool-image.png\u0026#34; foo: baz: \u0026#39;b\u0026#39; æœ€ç»ˆä¸»é¢˜é…ç½®çš„è¾“å‡ºæ˜¯ï¼š\n{ bio: \u0026#34;My awesome bio\u0026#34;, logo: \u0026#34;a-cool-image.png\u0026#34;, foo: { bar: \u0026#34;a\u0026#34;, baz: \u0026#34;b\u0026#34; } } ç‹¬ç«‹çš„ _config.[theme].yml æ–‡ä»¶\n è¯¥ç‰¹æ€§è‡ª Hexo 5.0.0 èµ·æä¾›\n ç‹¬ç«‹çš„ä¸»é¢˜é…ç½®æ–‡ä»¶åº”æ”¾ç½®äºç«™ç‚¹æ ¹ç›®å½•ä¸‹ï¼Œæ”¯æŒ yml æˆ– json æ ¼å¼ã€‚éœ€è¦é…ç½®ç«™ç‚¹ _config.yml æ–‡ä»¶ä¸­çš„ theme ä»¥ä¾› Hexo å¯»æ‰¾ _config.[theme].yml æ–‡ä»¶ã€‚\n# _config.yml theme: \u0026#34;my-theme\u0026#34; # _config.my-theme.yml bio: \u0026#34;My awesome bio\u0026#34; foo: bar: \u0026#39;a\u0026#39; # themes/my-theme/_config.yml bio: \u0026#34;Some generic bio\u0026#34; logo: \u0026#34;a-cool-image.png\u0026#34; foo: baz: \u0026#39;b\u0026#39; æœ€ç»ˆä¸»é¢˜é…ç½®çš„è¾“å‡ºæ˜¯ï¼š\n{ bio: \u0026#34;My awesome bio\u0026#34;, logo: \u0026#34;a-cool-image.png\u0026#34;, foo: { bar: \u0026#34;a\u0026#34;, baz: \u0026#34;b\u0026#34; } }  æˆ‘ä»¬å¼ºçƒˆå»ºè®®ä½ å°†æ‰€æœ‰çš„ä¸»é¢˜é…ç½®é›†ä¸­åœ¨ä¸€å¤„ã€‚å¦‚æœä½ ä¸å¾—ä¸åœ¨å¤šå¤„é…ç½®ä½ çš„ä¸»é¢˜ï¼Œé‚£ä¹ˆè¿™äº›ä¿¡æ¯å¯¹ä½ å°†ä¼šéå¸¸æœ‰ç”¨ï¼šHexo åœ¨åˆå¹¶ä¸»é¢˜é…ç½®æ—¶ï¼ŒHexo é…ç½®æ–‡ä»¶ä¸­çš„ theme_config çš„ä¼˜å…ˆçº§æœ€é«˜ï¼Œå…¶æ¬¡æ˜¯ _config.[theme].yml æ–‡ä»¶ï¼Œæœ€åæ˜¯ä½äºä¸»é¢˜ç›®å½•ä¸‹çš„ _config.yml æ–‡ä»¶ã€‚\n æŒ‡ä»¤   version æ˜¾ç¤º Hexo ç‰ˆæœ¬ï¼š\nhexo version   list åˆ—å‡ºç½‘ç«™èµ„æ–™ï¼š\nhexo list   æ–°å»ºä¸€ç¯‡æ–‡ç« ï¼šå¦‚æœæ²¡æœ‰è®¾ç½® layout çš„è¯ï¼Œé»˜è®¤ä½¿ç”¨ _config.yml ä¸­çš„ default_layout å‚æ•°ä»£æ›¿ã€‚å¦‚æœæ ‡é¢˜åŒ…å«ç©ºæ ¼çš„è¯ï¼Œè¯·ä½¿ç”¨å¼•å·æ‹¬èµ·æ¥ã€‚\nhexo new [layout] \u0026lt;title\u0026gt; hexo n [layout] \u0026lt;title\u0026gt;   Hexo æœ‰ä¸‰ç§é»˜è®¤å¸ƒå±€ï¼š\n   å¸ƒå±€ è·¯å¾„     post source/_posts   page source   draft source/_drafts      é¢„è§ˆè‰ç¨¿ï¼Œpublish å‘è¡¨è‰ç¨¿ï¼š\nhexo server --draft hexo publish [layout] \u0026lt;filename\u0026gt;   clean æ¸…é™¤ç¼“å­˜æ–‡ä»¶ (db.json) å’Œå·²ç”Ÿæˆçš„é™æ€æ–‡ä»¶ (public)ï¼š\nhexo clean   generate ç”Ÿæˆé™æ€æ–‡ä»¶ï¼š\nhexo generate hexo g   å¯åŠ¨ hexo çš„å†…ç½® Web æœåŠ¡å™¨ï¼šè¯¥å‘½ä»¤å°†ä¼šè°ƒç”¨ Markdown å¼•æ“è§£æé¡¹ç›®ä¸­çš„åšå®¢å†…å®¹ç”Ÿæˆç½‘é¡µèµ„æºï¼Œèµ„æºå°†ä¼šå­˜äºå†…å­˜ä¸­ã€‚\nhexo server hexo s --debug\t# å¼€å¯è°ƒè¯•æ¨¡å¼ï¼ˆ--debugï¼‰ hexo s --port 8000\t# æ·»åŠ  -p / --port å‚æ•°æ¥è®¾ç½® Web æœåŠ¡ç›‘å¬çš„ç«¯å£å· hexo s --static\t# åŠ  -s / --static å‚æ•°ï¼Œæœ¬åœ°æ”¹åŠ¨ä¸è§¦å‘ hexo å®æ—¶è§£ææ›´æ–°ã€‚   deploy éƒ¨ç½²ç½‘ç«™ï¼š\nhexo deploy hexo d   å†™ä½œ   Front-matterï¼š æ˜¯æ–‡ä»¶æœ€ä¸Šæ–¹ä»¥ --- åˆ†éš”çš„åŒºåŸŸï¼Œç”¨äºæŒ‡å®šä¸ªåˆ«æ–‡ä»¶çš„å˜é‡\n--- layout: # å¸ƒå±€ title: # æ ‡é¢˜ date: # å»ºç«‹æ—¥æœŸ updated: # æ›´æ–°æ—¥æœŸ comments: # å¼€å¯æ–‡ç« çš„è¯„è®ºåŠŸèƒ½ tags:\t# æ ‡ç­¾ - æ ‡ç­¾1 - æ ‡ç­¾2 categories: [åˆ†ç±»1, åˆ†ç±»2]\t# åˆ†ç±», ä¸é€‚ç”¨ä¸åˆ†é¡µ permalink: # è¦†ç›–æ–‡ç« ç½‘å€ --- æ ‡ç­¾æ˜¯ä¸€ç§åˆ—è¡¨ç»“æ„ï¼Œè€Œåˆ†ç±»æ˜¯ä¸€ç§æ ‘ç»“æ„ã€‚\n  æ–‡æœ¬å±…ä¸­æ ‡ç­¾ï¼šåœ¨å¼•ç”¨å•è¡Œæ–‡æœ¬æ—¶ä½¿ç”¨\n\u0026lt;blockquote class=\u0026quot;blockquote-center\u0026quot;\u0026gt;blah blah blah\u0026lt;/blockquote\u0026gt;\t# HTMLæ–¹å¼ {% centerquote %}blah blah blah{% endcenterquote %}\t# æ ‡ç­¾æ–¹å¼ {% cq %} blah blah blah {% endcq %}\t# æ ‡ç­¾åˆ«å   å¼•ç”¨å—\n{% blockquote [author[, source]] [link] [source_link_title] %} content {% endblockquote %}   ä»£ç å—\n``` [language] [title] [url] [link text] code snippet  - `langugae`ï¼šè¯­è¨€åç§°ï¼Œå¼•å¯¼æ¸²æŸ“å¼•æ“æ­£ç¡®è§£æå¹¶é«˜äº®æ˜¾ç¤ºå…³é”®å­— - `title`ï¼šä»£ç å—æ ‡é¢˜ï¼Œå°†ä¼šæ˜¾ç¤ºåœ¨å·¦ä¸Šè§’ - `url`ï¼šé“¾æ¥åœ°å€ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®š link text åˆ™ä¼šåœ¨å³ä¸Šè§’æ˜¾ç¤º link - `link text`ï¼šé“¾æ¥åç§°ï¼ŒæŒ‡å®š url åæœ‰æ•ˆï¼Œå°†ä¼šæ˜¾ç¤ºåœ¨å³ä¸Šè§’ - å¦‚æœè®¾ç½®è¯­è¨€ä¸º diffï¼Œå¯ä»¥åœ¨ä»£ç å‰æ·»åŠ  `+` å’Œ `-` æ¥ä½¿ç”¨å¦‚ä¸Šæ‰€ç¤ºçš„é«˜äº®å¢åˆ è¡Œæç¤ºæ•ˆæœï¼Œåœ¨å±•ç¤ºä»£ç æ”¹åŠ¨ç—•è¿¹æ—¶æ¯”è¾ƒå®ç”¨ã€‚   note æ ‡ç­¾ï¼šé€šè¿‡ note æ ‡ç­¾å¯ä»¥ä¸ºæ®µè½æ·»åŠ èƒŒæ™¯è‰²\n{% note [class] %} æ–‡æœ¬å†…å®¹ (æ”¯æŒè¡Œå†…æ ‡ç­¾) {% endnote %}  æ”¯æŒçš„ class ç§ç±»åŒ…æ‹¬ defaultã€primaryã€successã€infoã€warningã€danger    label æ ‡ç­¾ï¼šé€šè¿‡ label æ ‡ç­¾å¯ä»¥ä¸ºæ–‡å­—æ·»åŠ èƒŒæ™¯è‰²\n{% label [class]@text %}  æ”¯æŒçš„ class ç§ç±»åŒ…æ‹¬ defaultã€primaryã€successã€infoã€warningã€danger    button æŒ‰é’®ï¼šé€šè¿‡ button æ ‡ç­¾å¯ä»¥å¿«é€Ÿæ·»åŠ å¸¦æœ‰ä¸»é¢˜æ ·å¼çš„æŒ‰é’®\n{% button /path/to/url/, text, icon [class], title %} {% btn /path/to/url/, text, icon [class], title %}   tab æ ‡ç­¾ï¼štab æ ‡ç­¾ç”¨äºå¿«é€Ÿåˆ›å»º tab é€‰é¡¹å¡\n{% tabs [Unique name], [index] %} \u0026lt;!-- tab [Tab caption]@[icon] --\u0026gt; æ ‡ç­¾é¡µå†…å®¹ï¼ˆæ”¯æŒè¡Œå†…æ ‡ç­¾ï¼‰ \u0026lt;!-- endtab --\u0026gt; {% endtabs %}  Unique name: å…¨å±€å”¯ä¸€çš„ Tab åç§°ï¼Œå°†ä½œä¸ºå„ä¸ªæ ‡ç­¾é¡µçš„ id å±æ€§å‰ç¼€ index: å½“å‰æ¿€æ´»çš„æ ‡ç­¾é¡µç´¢å¼•ï¼Œå¦‚æœæœªå®šä¹‰åˆ™é»˜è®¤é€‰ä¸­æ˜¾ç¤ºç¬¬ä¸€ä¸ªæ ‡ç­¾é¡µï¼Œå¦‚æœè®¾ä¸º - 1 åˆ™é»˜è®¤éšè—æ‰€æœ‰æ ‡ç­¾é¡µ Tab caption: å½“å‰æ ‡ç­¾é¡µçš„æ ‡é¢˜ï¼Œå¦‚æœä¸æŒ‡å®šåˆ™ä¼šä»¥ Unique name åŠ ä¸Šç´¢å¼•ä½œä¸ºæ ‡é¢˜ icon: åœ¨æ ‡ç­¾é¡µæ ‡é¢˜ä¸­æ·»åŠ  Font awesome å›¾æ ‡    å¼•ç”¨ç«™å†…é“¾æ¥\n{% post_path slug %} {% post_link slug [title] %}  slug è¡¨ç¤º _post ç›®å½•ä¸‹çš„ Markdown æ–‡ä»¶åã€‚ post_path æ ‡ç­¾å°†ä¼šæ¸²æŸ“ä¸ºæ–‡ç« çš„åœ°å€ï¼Œå³ permalinkï¼›è€Œ post_link æ ‡ç­¾å°†ä¼šæ¸²æŸ“ä¸ºé“¾æ¥ï¼Œå¯ä»¥é€šè¿‡ title æŒ‡å®šé“¾æ¥æ ‡é¢˜ã€‚    æ’å…¥ Swig ä»£ç ï¼šé€šè¿‡ raw æ ‡ç­¾æ¥ç¦æ­¢ Markdown å¼•æ“æ¸²æŸ“æ ‡ç­¾å†…çš„å†…å®¹ã€‚è¯¥æ ‡ç­¾é€šå¸¸ç”¨äºåœ¨é¡µé¢å†…å¼•å…¥ä¸‰æ–¹è„šæœ¬å®ç°ç‰¹æ®ŠåŠŸèƒ½ã€‚\n{% raw %} content {% endraw %}   æ’å…¥ Gist\n{% gist gist_id [filename] %}  gist_id: Gist ä»“åº“é¡µé¢ url ä¸­æœ€åä¸€æ®µéšæœºå­—ç¬¦ä¸² filename: Gist ä¸­çš„æ–‡ä»¶åï¼Œå¦‚æœ Gist ä¸­åªæœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œå¯ä»¥ä¸ç”¨æŒ‡å®š filenameï¼Œå¦‚æœ Gist ä¸­æœ‰å¤šä¸ªæ–‡ä»¶ï¼Œå¯ä»¥åœ¨æ ‡ç­¾å†…è¾“å…¥ filename æ¥æŒ‡å®šåªå¼•å…¥æŸä¸ªæ–‡ä»¶ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®š filenameï¼Œå°†ä¼šå¼•å…¥ Gist ä¸­çš„æ‰€æœ‰æ–‡ä»¶ã€‚    æ’å…¥å›¾ç‰‡ï¼š\n  Markdown å¹¶ä¸ä¼šä¿å­˜æ’å…¥çš„å›¾ç‰‡èµ„æºæœ¬èº«ï¼Œåªæ˜¯è®°å½•äº†è·å–èµ„æºçš„é“¾æ¥ã€‚\n  ç›¸å¯¹è·¯å¾„å¼•ç”¨çš„æ ‡ç­¾æ’ä»¶\n{% asset_img slug [title] %}   slug æ˜¯èµ„æºæ–‡ä»¶å¤¹ä¸‹çš„å›¾ç‰‡å\n  Embedding an image using markdownï¼šallows you to embed an image in markdown without using asset_img tag plugin.\npost_asset_folder: true marked: prependRoot: true postAsset: true ![](image.jpg) will be rendered as \u0026lt;img src=\u0026quot;/2020/01/02/foo/image.jpg\u0026quot;\u0026gt;.\n    ç”¨Typoraç¼–å†™Hexoåšå®¢æ—¶èƒ½å®é¢„è§ˆå›¾ç‰‡\n  æ€è·¯æ˜¯åœ¨before_post_renderé˜¶æ®µå°†markdownæ–‡ä»¶ä¸­å›¾ç‰‡çš„è·¯å¾„è½¬æ¢ä¸ºasset_imgå‡½æ•°ã€‚\nnpm install hexo-image-link --save       æ–‡ç« åŠ å¯†\n  Install\nnpm install --save hexo-blog-encrypt   Quick start: Add the \u0026ldquo;password\u0026rdquo; value to your post\u0026rsquo;s front matter like\n--- password: mikemessi ---     Hexo æ·»åŠ æ–‡ç« æ—¶è‡ªåŠ¨æ‰“å¼€ç¼–è¾‘å™¨\n  åœ¨ Hexo ç›®å½•ä¸‹çš„ scripts ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ª JavaScript è„šæœ¬æ–‡ä»¶ã€‚é€šè¿‡è¿™ä¸ªè„šæœ¬ï¼Œæˆ‘ä»¬ç”¨å…¶æ¥ç›‘å¬ hexo new è¿™ä¸ªåŠ¨ä½œï¼Œå¹¶åœ¨æ£€æµ‹åˆ° hexo new ä¹‹åï¼Œæ‰§è¡Œç¼–è¾‘å™¨æ‰“å¼€çš„å‘½ä»¤ã€‚\n  å°†ä¸‹åˆ—å†…å®¹å†™å…¥ä½ çš„è„šæœ¬\nvar spawn = require('child_process').exec; hexo.on('new', function(data){ spawn('start \u0026quot;markdownç¼–è¾‘å™¨ç»å¯¹è·¯å¾„.exe\u0026quot; ' + data.path); });     æ–‡ç« ç½®é¡¶\n--- sticky: true ---   èµ„æºæ–‡ä»¶å¤¹ èµ„æºï¼ˆAssetï¼‰ä»£è¡¨ source æ–‡ä»¶å¤¹ä¸­é™¤äº†æ–‡ç« ä»¥å¤–çš„æ‰€æœ‰æ–‡ä»¶ã€‚\næ–‡ç« èµ„æºæ–‡ä»¶å¤¹\npost_asset_folder: true å½“èµ„æºæ–‡ä»¶ç®¡ç†åŠŸèƒ½æ‰“å¼€åï¼ŒHexoå°†ä¼šåœ¨ä½ æ¯ä¸€æ¬¡é€šè¿‡ hexo new [layout] \u0026lt;title\u0026gt; å‘½ä»¤åˆ›å»ºæ–°æ–‡ç« æ—¶è‡ªåŠ¨åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å¤¹ã€‚è¿™ä¸ªèµ„æºæ–‡ä»¶å¤¹å°†ä¼šæœ‰ä¸è¿™ä¸ªæ–‡ç« æ–‡ä»¶ä¸€æ ·çš„åå­—ã€‚å°†æ‰€æœ‰ä¸ä½ çš„æ–‡ç« æœ‰å…³çš„èµ„æºæ”¾åœ¨è¿™ä¸ªå…³è”æ–‡ä»¶å¤¹ä¸­ä¹‹åï¼Œä½ å¯ä»¥é€šè¿‡ç›¸å¯¹è·¯å¾„æ¥å¼•ç”¨å®ƒä»¬ã€‚\néƒ¨ç½² æŒç»­é›†æˆï¼ˆContinuous Integrationï¼Œç®€ç§° CIï¼‰\nSimply Push to Deployï¼šçƒ­éƒ¨ç½²ï¼Œåªéœ€è¦å°†ä»£ç  push åˆ° Git è¿œç¨‹ä»“åº“å³å¯è‡ªåŠ¨æ„å»ºåŠæ›´æ–°ã€‚\nNetlify\nGitHub Actionï¼š\n  Add your ssh key pair\n  Run the following terminal command, replacing the email with one connected to your GitHub account.\nssh-keygen -t rsa -C \u0026#34;username@example.com\u0026#34; Windows ä¸‹è‡ªå®šä¹‰ ssh key æ–‡ä»¶éœ€å†™æˆ GIT\\BlogSrc/.ssh/id_rsa\n  In Github Pages repo: Add the contents of the public keyï¼ˆid_rsa.pubï¼‰ within your repositories deploy keys menu. You can find this option by going to Settings \u0026gt; Deploy Keys, you can name the public key whatever you want, but you do need to give it write access.\n  In hexo source code repo: Add the contents of the private keyï¼ˆid_rsaï¼‰ to the Settings \u0026gt; Secrets menu as DEPLOY_KEY.\n    Configure github workflowsï¼šCreate a workflow .yml file in your .github/workflows directory.\nname: Deploy on: [push] jobs: build: runs-on: ubuntu-latest name: A job to deploy blog. steps: - name: Checkout uses: actions/checkout@v1 with: submodules: true # Checkout private submodules(themes or something else). # Caching dependencies to speed up workflows. (GitHub will remove any cache entries that have not been accessed in over 7 days.) - name: Cache node modules uses: actions/cache@v1 id: cache with: path: node_modules key: ${{ runner.os }}-node-${{ hashFiles(\u0026#39;**/package-lock.json\u0026#39;) }} restore-keys: | ${{ runner.os }}-node- - name: Install Dependencies if: steps.cache.outputs.cache-hit != \u0026#39;true\u0026#39; run: npm ci # Deploy hexo blog website. - name: Deploy id: deploy uses: sma11black/hexo-action@v1.0.3 with: deploy_key: ${{ secrets.DEPLOY_KEY }} user_name: your github username  # (or delete this input setting to use bot account) user_email: your github useremail  # (or delete this input setting to use bot account) commit_msg: ${{ github.event.head_commit.message }}  # (or delete this input setting to use hexo default settings) # Use the output from the `deploy` step(use for test action) - name: Get the output run: | echo \u0026#34;${{ steps.deploy.outputs.notify }}\u0026#34;   ä¸€é”®éƒ¨ç½²\n  æ–°å»ºä¸€ä¸ªç©ºçš„ repositoryï¼ˆæ²¡æœ‰initä»»ä½•å†…å®¹ï¼‰ã€‚ä½ çš„ repository å¿…é¡»ç›´æ¥å‘½åä¸º \u0026lt;ä½ çš„ GitHub ç”¨æˆ·å.github.io\u0026gt;ã€‚ä»è€Œèƒ½é€šè¿‡ \u0026lt;ä½ çš„ GitHub ç”¨æˆ·å.github.io\u0026gt; åŸŸåç›´æ¥è®¿é—®ä½ çš„blogã€‚\n  å®‰è£… hexo-deployer-gitã€‚\nnpm install hexo-deployer-git --save   ä¿®æ”¹_config.ymlé…ç½®ã€‚\ndeploy: type: git repo: git@github.com:yourname/yourname.github.io.git branch: master   ç”Ÿæˆç«™ç‚¹æ–‡ä»¶å¹¶æ¨é€è‡³è¿œç¨‹åº“ã€‚æ‰§è¡Œ hexo clean \u0026amp; hexo deployã€‚\n  ç™»å…¥ Githubï¼Œåœ¨åº“è®¾ç½®ï¼ˆRepository Settingsï¼‰ä¸­å°†é»˜è®¤åˆ†æ”¯è®¾ç½®ä¸º_config.ymlé…ç½®ä¸­çš„åˆ†æ”¯åç§°ã€‚ç¨ç­‰ç‰‡åˆ»ï¼ˆBlog ä¸ä¼šç«‹é©¬åŠ è½½å‡ºæ¥ï¼Œéœ€å¤šåˆ·æ–°å‡ ä¸‹ï¼‰ï¼Œæ‚¨çš„ç«™ç‚¹å°±ä¼šæ˜¾ç¤ºåœ¨æ‚¨çš„Github Pagesä¸­ã€‚\n  è¿™æ˜¯å¦‚ä½•å‘ç”Ÿçš„ï¼šå½“æ‰§è¡Œ hexo deploy æ—¶ï¼ŒHexo ä¼šå°† public ç›®å½•ä¸­çš„æ–‡ä»¶å’Œç›®å½•æ¨é€è‡³ _config.yml ä¸­æŒ‡å®šçš„è¿œç«¯ä»“åº“å’Œåˆ†æ”¯ä¸­ï¼Œå¹¶ä¸”å®Œå…¨è¦†ç›–è¯¥åˆ†æ”¯ä¸‹çš„å·²æœ‰å†…å®¹ã€‚\n  éƒ¨ç½²åˆ†æ”¯ä¸å†™ä½œåˆ†æ”¯ï¼šhexo d éƒ¨ç½²åˆ° GitHub çš„æ˜¯ hexo ç¼–è¯‘åçš„æ–‡ä»¶ï¼Œä¸åŒ…å«æºæ–‡ä»¶ã€‚å¯ä»¥åˆ©ç”¨gitçš„åˆ†æ”¯ç®¡ç†ï¼Œå°†æºæ–‡ä»¶ä¸Šä¼ åˆ° GitHubã€‚ä¸€ä¸ªå¥½çš„å®è·µæ˜¯æ”¾åœ¨ä¸¤ä¸ªä¸åŒçš„ Git ä»“åº“ä¸­ã€‚\n  ä¸»é¢˜ åˆ›å»º Hexo ä¸»é¢˜éå¸¸å®¹æ˜“ï¼Œæ‚¨åªè¦åœ¨ themes æ–‡ä»¶å¤¹å†…ï¼Œæ–°å¢ä¸€ä¸ªä»»æ„åç§°çš„æ–‡ä»¶å¤¹ï¼Œå¹¶ä¿®æ”¹ _config.yml å†…çš„ theme è®¾å®šï¼Œå³å¯åˆ‡æ¢ä¸»é¢˜ã€‚\n _config.ymlï¼šä¸»é¢˜çš„é…ç½®æ–‡ä»¶ã€‚å’Œ Hexo é…ç½®æ–‡ä»¶ä¸åŒï¼Œä¸»é¢˜é…ç½®æ–‡ä»¶ä¿®æ”¹æ—¶ä¼šè‡ªåŠ¨æ›´æ–°ï¼Œæ— éœ€é‡å¯ Hexo Serverã€‚ languagesï¼šè¯­è¨€æ–‡ä»¶å¤¹ã€‚ layoutï¼šå¸ƒå±€æ–‡ä»¶å¤¹ã€‚ scriptsï¼šè„šæœ¬æ–‡ä»¶å¤¹ã€‚ sourceï¼šèµ„æºæ–‡ä»¶å¤¹ã€‚  åœ¨ GitHub æœç´¢ Hexo å³å¯æ‰¾åˆ°æµè¡Œçš„ Hexo ä¸»é¢˜ã€‚å„ä¸»é¢˜éƒ½æœ‰ç›¸åº”çš„ä½¿ç”¨æ–‡æ¡£ã€‚\nå…¶ä»– åˆ—è¡¨ä¹‹åä¸èƒ½ç«‹å³æ¥ä¸€ä¸ªä»£ç å—ï¼Œå¦åˆ™ä¼šè§£æå‡ºé”™ã€‚å¦‚\n- ```bash code... ``` ä¸€è¡Œä»£ç æ²¡æœ‰é—®é¢˜\n- `code` é¦–é¡µå±•ç¤ºæœ€æ–°åšå®¢ index_generator: path: \u0026#39;\u0026#39; per_page: 10 - order_by: -date + order_by: {updated: -1}  -updated_option: \u0026#39;mtime\u0026#39; +updated_option: \u0026#39;date\u0026#39; Are there more order options?\n  Api Documentï¼šhttps://hexojs.github.io/warehouse/Query.html#sort\n  sort(orderby, orderopt) â†’ {Query}\n  Example:\nquery.sort('date', -1); query.sort({date: -1, title: 1}); query.sort('-date title');   If the order equals to -1, desc or descending, the data will be returned in reversed order.\n  Parameters:\n   Name Type Attributes     orderby String Object   order String Number        Sort is to sort the object properties (Page-Variables), refer to the above document for detailsã€‚\n   Variable Description Type     page.title Article title string   page.date Article created date Moment.js object   page.updated Article last updated date Moment.js object      hexo-generator-index\nconst posts = locals.posts.sort(config.index_generator.order_by);   updated_option\nupdated_option æ§åˆ¶äº†å½“ Front Matter ä¸­æ²¡æœ‰æŒ‡å®š updated æ—¶ï¼Œupdated å¦‚ä½•å–å€¼ï¼š\n mtime: ä½¿ç”¨æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´ã€‚è¿™æ˜¯ä» Hexo 3.0.0 å¼€å§‹çš„é»˜è®¤è¡Œä¸ºã€‚ date: ä½¿ç”¨ date ä½œä¸º updated çš„å€¼ã€‚å¯è¢«ç”¨äº Git å·¥ä½œæµä¹‹ä¸­ï¼Œå› ä¸ºä½¿ç”¨ Git ç®¡ç†ç«™ç‚¹æ—¶ï¼Œæ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¥æœŸå¸¸å¸¸ä¼šå‘ç”Ÿæ”¹å˜ empty: ç›´æ¥åˆ é™¤ updatedã€‚ä½¿ç”¨è¿™ä¸€é€‰é¡¹å¯èƒ½ä¼šå¯¼è‡´å¤§éƒ¨åˆ†ä¸»é¢˜å’Œæ’ä»¶æ— æ³•æ­£å¸¸å·¥ä½œã€‚    NexT Getting Started Installation\n  Installation\ncd hexo-site npm install hexo-theme-next   Usage, theme config file\ntheme: next   Update\ncd hexo-site npm update hexo-theme-next   Configuration\nInstalled through npm\ncp node_modules/hexo-theme-next/_config.yml _config.next.yml Theme Settings Choosing Scheme:\nBy using Scheme NexT gives you different views. And nearly all config can be used by those Schemes.\n# next/_config.yml scheme: Muse Configuring Favicon:\nBy default the Hexo site use NexT favicons in hexo-site/themes/next/source/images/ directory with different size for different device.\nYou can replace them with your own favicons.\nFor example, you can put your favicons in hexo-site/source/images/ directory. Then you need to rename them and change the settings in favicon section in theme config file.\nCreative Commons:\nNexT supports the display of Creative Commons 4.0 International License in sidebar and post.\n# next/_config.yml creative_commons: license: by-nc-sa sidebar: true post: false language: en é€šè¡Œçš„ç‰ˆæƒåè®®æ˜¯ä¸€ç§é™åˆ¶æ€§çš„åè®®ï¼Œå°±æ˜¯è¯´ï¼Œåªæœ‰å®ƒæ˜æ–‡è®¸å¯ä½ å¯ä»¥åšçš„äº‹ï¼Œä½ æ‰èƒ½åšï¼Œå¦åˆ™å°±æ˜¯ä¾µæƒè¡Œä¸ºã€‚\nè€Œ\u0026quot;å¼€æ”¾å†…å®¹è®¸å¯è¯\u0026quot;ï¼ˆopen content licensesï¼‰åªæ˜æ–‡ç¦æ­¢ä½¿ç”¨è€…ä¸èƒ½åšçš„äº‹ï¼Œé™¤æ­¤ä»¥å¤–ï¼Œå¯ä»¥éšæ„ä½¿ç”¨è¿™äº›ä½œå“ã€‚åˆ›ä½œå…±ç”¨è®¸å¯è¯ï¼ˆCreative Commons licensesï¼Œç®€ç§°ccï¼‰ï¼Œå°±æ˜¯è¿™æ ·ä¸€ç§è®¸å¯è¯ã€‚\nä½¿ç”¨åˆ›ä½œå…±ç”¨è®¸å¯è¯ï¼Œä½œè€…å¯ä»¥é€‰æ‹©ä¿ç•™å››ç§æƒåˆ©ï¼š\n ç½²åï¼ˆAttributionï¼Œç®€å†™ä¸ºbyï¼‰ï¼šå¿…é¡»æåˆ°åŸä½œè€…ã€‚ éå•†ä¸šç”¨é€”ï¼ˆNoncommercialï¼Œç®€å†™ä¸ºncï¼‰ï¼šä¸å¾—ç”¨äºç›ˆåˆ©æ€§ç›®çš„ã€‚ ç¦æ­¢æ¼”ç»ï¼ˆNo Derivative Worksï¼Œç®€å†™ä¸ºndï¼‰ï¼šä¸å¾—ä¿®æ”¹åŸä½œå“ã€‚ ç›¸åŒæ–¹å¼å…±äº«ï¼ˆShare Alikeï¼Œç®€å†™ä¸ºsaï¼‰ï¼šå¦‚æœå…è®¸ä¿®æ”¹åŸä½œå“ï¼Œé‚£ä¹ˆå¿…é¡»ä½¿ç”¨ç›¸åŒçš„è®¸å¯è¯å‘å¸ƒã€‚  Configuring Menu Items:\nMenu settings items have format Key: /link/ || icon which contains 3 values:\n Key â†’ is the name of menu item (home, archives, etc.). /link/ â†’ is the target link to relative url inside your site. icon â†’ is the name of Font Awesome icon.  To customize menu items, edit the following content in theme config file\nmenu: home: / || fa fa-home about: /about/ || fa fa-user tags: /tags/ || fa fa-tags archives: /archives/ || fa fa-archive Google Calendar Page\nschedule: /schedule/ || fa fa-calendar sitemapï¼šä¸ºäº†è®©åšæ–‡è¢«googleæˆ–ç™¾åº¦æ£€ç´¢ï¼Œéœ€è¦ä½¿ç”¨hexoçš„sitemapåŠŸèƒ½ã€‚\nsitemap: /sitemap.xml || fa fa-sitemap   Install\nnpm install hexo-generator-sitemap --save   Hexo Config\nsitemap: path: sitemap.xml   Except home and archives, all custom pages under menu section need to be created manually!\nSidebar Setting\nConfiguring Avatarï¼š\nPut your avatar under site directory source/uploads/ (create directory if it doesn\u0026rsquo;t exists).And then change option to url: /uploads/avatar.png.\navatar: url: /uploads/avatar.png rounded: true ç‚¹å‡»å¤´åƒå›åˆ°é¦–é¡µï¼š\nä¸»è¦æ˜¯å°†\u0026lt;img class=\u0026quot;site-author-image\u0026quot; ... /\u0026gt;åŠ å…¥åˆ°\u0026lt;a href=\u0026quot;/\u0026quot;\u0026gt;\u0026lt;/a\u0026gt;ã€‚\nSidebar Social Linksï¼š\n  Edit the social section in theme config file as following:\nsocial: GitHub: https://github.com/yourname || fab fa-github E-Mail: mailto:yourname@example.com || fa fa-envelope   å–æ¶ˆç¤¾äº¤å›¾æ ‡å‰çš„å°åœ†ç‚¹ï¼š\n# create hexo-site/source/_data/styles.styl .links-of-author a, .links-of-author .exturl { \u0026amp;:before { display: none; } }   Sidebar Blogrolls (å‹é“¾):\nlinks: Title1: https://example.com/ Sidebar TOC:\ntoc: number: false expand_all: true max_depth: 5 Footer\nSite Footer Icon:\nBy default NexT shows red heart icon between year and copyright information in the footer.\nfooter: icon: animated: true Site Copyright Name:\nBy default NexT shows the name of author from site config file.\nfooter: copyright: YourName Site Platform Information:\nBy default NexT shows Hexo and Theme \u0026amp; scheme information.\nfooter: powered: false Site Beian Information:\nBeian information is for Chinese users.\nfooter: beian: enable: true icp: äº¬ICPå¤‡ 1234567890å·-1 gongan_id: 1234567890 gongan_num: äº¬å…¬ç½‘å®‰å¤‡ 1234567890å· gongan_icon_url: /uploads/beian.png Post Settings\nPreamble Text:\nYou can use following ways to show summary of articles and a Read More button.\nUse \u0026lt;!-- more --\u0026gt; in your article to break your article manually, which is recommended by Hexo. (recommended)\nIf you have added description and set its value to your article summary in front-matter, NexT excerpts description as preamble text in homepage by default. Without description, the full contents would be the preamble text in homepage.\nPost Wordcount:\n  Installation\ncd hexo-site npm install hexo-word-counter hexo clean   Hexo Config\nsymbols_count_time: total_symbols: false\t# By default NexT shows the number of all posts words in footer section. total_time: false\t# By default NexT shows the estimated reading time of all posts in footer section.    Donate Settings:\n  Get your WeChat / Alipay receive money QRcode image(s) and put into source/images .\n  Set needed values in theme config file:\nreward_settings: enable: true animation: false comment: Buy me a coffee reward: wechatpay: /images/wechatpay.png alipay: /images/alipay.png   Follow Me:\nfollow_me: WeChat: /images/wechat_channel.jpg || fab fa-weixin RSS: /atom.xml || fa fa-rss  å®‰è£…RSSæ’ä»¶  npm i hexo-generator-feed  é…ç½®ç«™ç‚¹é…ç½®æ–‡ä»¶(/_config.yml)çš„Extensions  plugin: - hexo-generator-feed # Feed Atom feed: type: atom path: atom.xml limit: 20  ç¼–è¾‘ä¸»é¢˜é…ç½®æ–‡ä»¶(/theme/next/_config.yml)çš„social linksï¼Œå¼€å¯RSSçš„é¡µé¢åŠŸèƒ½  rss: /atom.xml  å…³æ³¨RSSï¼šæŠŠ https://vanehsiung.github.io/atom.xml å¤åˆ¶åˆ°RSSé˜…è¯»å™¨ä¸Šï¼Œå°±èƒ½å…³æ³¨äº†ã€‚  Custom Pages\nCustom Page Support:\n  Adding New Page\ncd hexo-site hexo new page tags   Setting Front-matter Values\n--- title: Tags date: title: 2020-11-14 22:50:2 type: \u0026quot;tags\u0026quot; ---   Editting Menu\nmenu: tags: /tags/ || fa fa-tags   Custom 404 Page:\n  Create a new page called 404\ncd hexo-site hexo new page 404 --- title: 404 permalink: /404.html\t# åœ¨ Github Docs ä¸­ Github Pages ç« æœ‰å†™ comments: false ---   Make sure relative_link is disabled in site config file\nrelative_link: false   Whether users can be redirected to the 404 page depends on the settings of the website hosting service or web server, not Hexo.\n  ä¸º GitHub Pages ç«™ç‚¹åˆ›å»ºè‡ªå®šä¹‰ 404 é¡µé¢\n  Misc Theme Settings\nMobile Devices Adaptation:\nreduce padding/margin indents on devices with narrow width\nmobile_layout_economy: true Codeblock Style:\nNexT uses the Highlight.js and Prism package to support code highlight\n  Read Hexo\u0026rsquo;s documentation on Syntax Highlighting first, and set it up in site config fileï¼ˆåœ¨ _config.yml ä¸­å¼€å¯ Highlight æˆ– Prismï¼‰\nhighlight: enable: true   Preview all available Code Highlight themes here: NexT Highlight Theme Preview\n  Change the value of theme and prism to choose the highlight style you like\ntheme: light: xcode   NexT supports the copy-and-paste functionality of codeblock\ncodeblock: copy_button: enable: true style: mac\t# Mac Panelé£æ ¼ä»£ç å— Back To Top:\nback2top: scrollpercent: true Fonts Customizationï¼š\nfont: enable: true host: https://fonts.loli.net global: family: Architects Daughter, Ma Shan Zheng codes: family: Share Tech Mono   hostï¼šæŸ¥çœ‹å­—ä½“ä¸ä½¿ç”¨å­—ä½“çš„ç½‘å€æ˜¯ä¸ä¸€æ ·çš„ï¼›å¯èƒ½ä¸èƒ½æŸ¥çœ‹å­—ä½“ï¼Œä½†å¯ä»¥ä½¿ç”¨å­—ä½“\n  æŸ¥çœ‹ Google Fontsï¼Œä½¿ç”¨ Google Fonts https://fonts.googleapis.comï¼Œä»¥ä¸‹ä¸ºé•œåƒ\n  https://fonts.loli.net\n  https://fonts.googleapis.cnpmjs.org\n  https://fonts.proxy.ustclug.org\n      æŸ¥çœ‹è°·æ­Œå­—ä½“ä¸­æ–‡ç‰ˆï¼Œä½¿ç”¨ https://fonts.font.im\n  æŠ€å·§ï¼šå…ˆæ”¾ latin æ–‡å­—ï¼Œå†æ”¾ chinese æ–‡å­—ï¼Œå°±å¯ä»¥åˆ†åˆ«å®šåˆ¶è‹±æ–‡ä¸ä¸­æ–‡ï¼ˆæœ‰äº›ä¸­æ–‡å­—ä½“åŒ…å«è‹±æ–‡å­—æ¯ï¼‰ã€‚æ‰‹æœºæ— æ³•æ˜¾ç¤ºè‡ªå®šä¹‰çš„ä¸­æ–‡å­—ä½“ï¼Œä½†å¯ä»¥æ˜¾ç¤ºè‡ªå®šä¹‰çš„è‹±æ–‡å­—ä½“ã€‚\n  SEO\nSEO Setting:\nNext provides useful options for better Search Engine Optimization (SEO).\nBy default a canonical link tag is created in Hexo after you have set up your URL url: http://example.com in site config file.\n# theme config file disable_baidu_transformation: true index_with_subtitle: true exturl: true Webmaster Tools:\n  Google Webmaster Tools\n  Login to Google Webmaster Tools and go to verification methods and choose HTML Tag, you will get some code:\n\u0026lt;meta name=\u0026quot;google-site-verification\u0026quot; content=\u0026quot;XXXXXXXXXXXXXXXXXXXXXXX\u0026quot;\u0026gt;   Copy XXXXXXXXXXXXXXXXXXXXXXX value of content key.Edit theme config file and add or change google_site_verification section:\ngoogle_site_verification: XXXXXXXXXXXXXXXXXXXXXXX   submit sitemap\n  That the new console says \u0026lsquo;couldnt fetch\u0026rsquo; is a bug in the console. Pending is the real status!\n    Bing Webmaster Tools\n  Login to Bing Webmaster Tools and go to verification methods and choose HTML Tag, you will get some code:\n\u0026lt;meta name=\u0026quot;msvalidate.01\u0026quot; content=\u0026quot;XXXXXXXXXXXXXXXXXXXXXXX\u0026quot;\u0026gt;   Copy XXXXXXXXXXXXXXXXXXXXXXX value of content key. Edit theme config file and add or change bing_site_verification section:\nbing_site_verification: XXXXXXXXXXXXXXXXXXXXXXX   submit sitemap\n  Bing æ”¶å½•æœ€å¿«ï¼Œç«‹é©¬å°±å¯ä»¥çœ‹åˆ°\n    Baidu Webmaster Tools\n  Login to Baidu Webmaster Tools and go to verification methods and choose HTML Tag, you will get some code:\n\u0026lt;meta name=\u0026quot;baidu-site-verification\u0026quot; content=\u0026quot;XXXXXXXXXXXXXXXXXXXXXXX\u0026quot;\u0026gt;   Copy XXXXXXXXXXXXXXXXXXXXXXX value of content key.Edit theme config file and add or change baidu_site_verification section:\nbaidu_site_verification: XXXXXXXXXXXXXXXXXXXXXXX   Push the url to baidu automatically\nbaidu_push: true   submit sitemap\n    Third-party Services Comment Systems\nLiveRe (Korea):\n  Create an account or log into LiveRe, click on the installation button and select the free city version, then click on the install now button.\n  Copy the data-uid field in the installation code to get your LiveRe UID.\n  Add the obtained LiveRe UID to the livere_uid section in the theme config file as following:\nlivere_uid:   Valine (China)ï¼š\n  Create an account or log into LeanCloud, and then click on the bottom left corner to create the application in dashboard.\n  Go to the application you just created, select Settings â†’ App Keys in the lower left corner, and you will see your APP ID and APP Key.\n  Edit configurations in valine section in the theme config file as following:\nvaline: enable: true appId: appKey:   è¯„è®ºæ•°æ®ç®¡ç†ï¼šè¯·è‡ªè¡Œç™»å½•Leancloudåº”ç”¨ç®¡ç†ã€‚å…·ä½“æ­¥éª¤ï¼šç™»å½•\u0026gt;é€‰æ‹©ä½ åˆ›å»ºçš„åº”ç”¨\u0026gt;å­˜å‚¨\u0026gt;é€‰æ‹©Class Comment\n  Statistics and Analytics\nAnalytics Tools:\n  Baidu Analytics (China)\n  Login to Baidu Analytics and locate to site code getting page.\n  Copy the script ID after hm.js?.\n  Edit theme config file and change section baidu_analytics to your script ID.\nbaidu_analytics:     Google Analytics\n  Create an account and log into Google Analytics.\n  Edit theme config file and fill tracking_id under section google_analytics with your Google track ID. Google track ID always starts with UA- (æœ€æ–°ç‰ˆ Google Analytics æ˜¯ G-).\ngoogle_analytics: tracking_id: G-XXXXXXXX only_pageview: false     Counting Tools:\nBusuanzi Counting (China), Edit busuanzi_count option in theme config file.\nä¸è’œå­æ˜¯åŸºäºåŸŸåæ¥è¿›è¡Œç»Ÿè®¡è®¡ç®—çš„ã€‚æ•°æ®æ¯”ç™¾åº¦ç»Ÿè®¡å¤šå¾ˆå¤šã€‚ç½‘ç»œä¸å¥½çš„è¯ï¼Œæ•°æ®ä¸å›¾æ ‡ä¸ä¸€å®šæ˜¾ç¤ºå¾—å‡ºæ¥ã€‚\nbusuanzi_count: enable: true Search Services\nLocal Search:\nThis search method is recommended for most users.\n  Installation\nnpm install hexo-generator-searchdb   Hexo Config\nsearch: path: search.xml field: post content: true format: html   NexT Config\nlocal_search: enable: true   External Libraries\nPJAXï¼š\n  You can enable it by setting value pjax to true in theme config file.\npjax: true   It listens to every click on links you want (by default all of them).When an internal link is clicked, Pjax fetches the page\u0026rsquo;s HTML via AJAX.\n  Please use the absolute path of the image or Hexo asset_img tag in your posts, otherwise the images may fail to load during Pjax refresh.\n  ä¾‹å­ï¼šæ·»åŠ éŸ³ä¹æ’­æ”¾å™¨å¹¶ä¿æŒè·³è½¬æ—¶ä¸ä¸­æ–­æ’­æ”¾çŠ¶æ€ï¼›fireworks ç‰¹æ•ˆæ›´æµç•…ï¼Œä¸å­˜åœ¨ç‚¹å‡»é“¾æ¥æ—¶çš„å¡é¡¿ç°è±¡ï¼ˆç‚¹å‡»é“¾æ¥æ—¶ä¸ä¼šè§¦å‘fireworksï¼‰ã€‚\n  Fancybox:\nA jQuery lightbox script for displaying images, videos and more.\nfancybox: true Lazyload:\nIt delays loading of images in long web pages. Images outside of viewport will not be loaded before user scrolls to them.\nlazyload: true Progress Bar:\nNProgress will automatically monitor your Ajax requests, event loop lag, document ready state and elements on your page to decide on the progress.\nnprogress: enable: true spinner: false Canvas Ribbonï¼š\ncanvas_ribbon: enable: true size: 300\t# The width of the ribbon. alpha: 0.6\t# The transparency of the ribbon. zIndex: -1\t# The display level of the ribbon. ç²’å­æ¼‚æµ®èšåˆï¼š\nè¯¥åŠŸèƒ½ç”± theme-next-canvas-nest æ’ä»¶æä¾›ï¼š\n  Create a file named footer.njk  in hexo/source/_data directory, Edit this file and add the following content\n\u0026lt;script color=\u0026quot;0,0,255\u0026quot; opacity=\u0026quot;0.5\u0026quot; zIndex=\u0026quot;-1\u0026quot; count=\u0026quot;99\u0026quot; src=\u0026quot;https://cdn.jsdelivr.net/npm/canvas-nest.js@1/dist/canvas-nest.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt;   In the NexT _config.yml, uncomment footer under the custom_file_path section.\ncustom_file_path: footer: source/_data/footer.njk   Tag Plugins Mermaid\n  Settings\nmermaid: enable: true   Usage\n{% mermaid type %} {% endmermaid %}   Advanced Settings Custom Files\n  uncomment under the section in theme config file.stylecustom_file_pathã€‚\ncustom_file_path: head: source/_data/head.njk header: source/_data/header.njk ...   Edit in site root directory and add files:source/_data/...ã€‚\n  Then use itã€‚\n  Stylus æ˜¯ CSS çš„é¢„å¤„ç†æ¡†æ¶ï¼Œç»™ CSS æ·»åŠ äº†å¯ç¼–ç¨‹çš„ç‰¹æ€§ã€‚Stylusæ”¯æŒä¸‰ç§æ³¨é‡Šï¼Œå•è¡Œæ³¨é‡Šï¼ˆ//)ï¼Œå¤šè¡Œæ³¨é‡Š(/* */)ã€‚\n  Nunjucks æ˜¯ jinja2 çš„ javascript çš„å®ç°ï¼Œå¯ä»¥ä½¿ç”¨ {# and #} æ¥å†™æ³¨é‡Šï¼Œæ¸²æŸ“æ—¶å°†ä¼šå»é™¤æ‰€æœ‰çš„æ³¨é‡Šã€‚\n  ä¸è¦ç›´æ¥ä¿®æ”¹ model æ–‡ä»¶ï¼Œè€Œè¦ä½¿ç”¨ custom fileï¼Œæ–¹ä¾¿ä¹‹åå‡çº§ã€‚\n  Front Matter\n--- photos: /uploads/png.png --- Misc Settings æƒ³è¦ä»€ä¹ˆåŠŸèƒ½å¯ä»¥æœä¸€ä¸‹ï¼Œçœ‹æ˜¯å¦æœ‰ç°æˆçš„ model å¯ä»¥ä½¿ç”¨ã€‚\nç½‘æ˜“äº‘éŸ³ä¹\n åœ¨ç½‘é¡µç‰ˆäº‘éŸ³ä¹ä¸­æ‰¾åˆ°æ­Œæ›²ï¼Œç‚¹å‡»ç”Ÿæˆå¤–é“¾æ’­æ”¾å™¨ æ ¹æ®ä¸ªäººå–œå¥½é€‰æ‹©æ’­æ”¾å™¨å°ºå¯¸å’Œæ’­æ”¾æ¨¡å¼ å°†è·å–åˆ°çš„ iframe ä»£ç æ·»åŠ åˆ°é¡µé¢ä¸­  Aplayer éŸ³é¢‘æ’­æ”¾å™¨\n  å€ŸåŠ© hexo-tag-aplayer æ’ä»¶ï¼Œå¯ä»¥é€šè¿‡æ ‡ç­¾çš„å½¢å¼æ–¹ä¾¿å¿«æ·çš„æ’å…¥éŸ³é¢‘ç»„ä»¶ã€‚\n  Installation\nnpm install --save hexo-tag-aplayer   Usage\n{% aplayer \u0026quot;title\u0026quot; \u0026quot;author\u0026quot; \u0026quot;url\u0026quot; [\u0026quot;picture_url\u0026quot;, \u0026quot;narrow\u0026quot;, \u0026quot;autoplay\u0026quot;, \u0026quot;width:xxx\u0026quot;, \u0026quot;lrc:xxx\u0026quot;] %}  title: æ›²ç›®æ ‡é¢˜ author: æ›²ç›®ä½œè€… url: éŸ³ä¹æ–‡ä»¶ URL åœ°å€ picture_url: (å¯é€‰) éŸ³ä¹å¯¹åº”çš„å›¾ç‰‡åœ°å€ narrow: ï¼ˆå¯é€‰ï¼‰æ’­æ”¾å™¨è¢–çé£æ ¼ autoplay: (å¯é€‰) è‡ªåŠ¨æ’­æ”¾ï¼Œç§»åŠ¨ç«¯æµè§ˆå™¨æš‚æ—¶ä¸æ”¯æŒæ­¤åŠŸèƒ½ width:xxx: (å¯é€‰) æ’­æ”¾å™¨å®½åº¦ (é»˜è®¤: 100%) lrc:xxx: ï¼ˆå¯é€‰ï¼‰æ­Œè¯æ–‡ä»¶ URL åœ°å€    å½“å¼€å¯ Hexo çš„ æ–‡ç« èµ„æºæ–‡ä»¶å¤¹åŠŸèƒ½æ—¶ï¼Œå¯ç›´æ¥å¼•ç”¨\n{% aplayer \u0026quot;Caffeine\u0026quot; \u0026quot;Jeff Williams\u0026quot; \u0026quot;caffeine.mp3\u0026quot; \u0026quot;picture.jpg\u0026quot; \u0026quot;lrc:caffeine.txt\u0026quot; %}   Dpalyer è§†é¢‘æ’­æ”¾å™¨\n  Installation\nnpm install hexo-tag-dplayer --save   Usage\n{% dplayer \u0026quot;url=video-url\u0026quot; \u0026quot;pic=image-url\u0026quot; ... [\u0026quot;key=value\u0026quot;] %}   éƒ¨åˆ†é‡è¦ key\n æ’­æ”¾å™¨  autoplayï¼šæ˜¯å¦å¼€å¯è§†é¢‘è‡ªåŠ¨æ’­æ”¾ï¼Œé»˜è®¤ä¸º fasle loopï¼šæ˜¯å¦å¼€å¯è§†é¢‘å¾ªç¯æ’­æ”¾ï¼Œé»˜è®¤ä¸º false screenshotï¼šæ˜¯å¦å¼€å¯æˆªå›¾ï¼Œé»˜è®¤ä¸º false mutexï¼šæ˜¯å¦ç¦æ­¢å¤šä¸ªæ’­æ”¾å™¨åŒæ—¶æ’­æ”¾ï¼Œé»˜è®¤ä¸º true dmunlimitedï¼šæ˜¯å¦å¼€å¯æµ·é‡å¼¹å¹•æ¨¡å¼ï¼Œé»˜è®¤ä¸º false preloadï¼šé¢„åŠ è½½æ¨¡å¼ï¼Œå¯é€‰ note metadata auto themeï¼šä¸»é¢˜è‰² langï¼šè¯­è¨€ï¼Œå¯é€‰ en zh-cn zh-tw logoï¼šå·¦ä¸Šè§’çš„ Logo volumeï¼šé»˜è®¤éŸ³é‡ï¼Œé»˜è®¤ä¸º 0.7 widthï¼šæ’­æ”¾å™¨å®½åº¦ heightï¼šæ’­æ”¾å™¨é•¿åº¦   è§†é¢‘  urlï¼šè§†é¢‘é“¾æ¥ picï¼šè§†é¢‘å°é¢ thumbnailsï¼šè§†é¢‘ç¼©ç•¥å›¾ï¼Œå¯ä»¥ä½¿ç”¨ DPlayer-thumbnails ç”Ÿæˆ vidtypeï¼šè§†é¢‘ç±»å‹ï¼Œå¯é€‰ auto hls flv dash æˆ–å…¶ä»–è‡ªå®šä¹‰ç±»å‹   å­—å¹•  suburlï¼šå­—å¹•é“¾æ¥ subtypeï¼šå­—å¹•ç±»å‹ï¼Œå¯é€‰ webvtt assï¼Œç›®å‰åªæ”¯æŒ webvtt subbottomï¼šå­—å¹•è·ç¦»æ’­æ”¾å™¨åº•éƒ¨çš„è·ç¦»ï¼Œå¦‚ 10px 10% subcolorï¼šå­—å¹•é¢œè‰²   å¼¹å¹•  idï¼šå¼¹å¹• id apiï¼šå¼¹å¹• api tokenï¼šå¼¹å¹•åç«¯éªŒè¯ token additionï¼šé¢å¤–å¤–æŒ‚å¼¹å¹• dmuserï¼šå¼¹å¹•ç”¨æˆ·å maximumï¼šå¼¹å¹•æœ€å¤§æ•°é‡      çœ‹æ¿å¨˜\nè¯¥åŠŸèƒ½ç”± hexo-helper-live2d æ’ä»¶æ”¯æŒ\n  Installation\nnpm install --save hexo-helper-live2d   Configï¼šåœ¨ç«™ç‚¹é…ç½®æ–‡ä»¶ä¸­è®¾ç½®ï¼Œä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­è®¾ç½®æ²¡ç”¨\nlive2d: enable: true scriptFrom: local pluginRootPath: live2dw/ pluginJsPath: lib/ pluginModelPath: assets/ tagMode: false log: false model: use: live2d-widget-model-shizuku display: position: right width: 150 height: 300 mobile: show: true react: opacity: 0.7   Modelsï¼šå¯ä»¥ä» hexo live2d æ¨¡å‹é¢„è§ˆ é‡Œæ‰¾åˆ°ä½ å–œæ¬¢çš„è§’è‰²ï¼Œç„¶åæ ¹æ® live2d-widget-models ä¸­æä¾›çš„æ–¹æ³•æ¥ä¸‹è½½æ¨¡å‹æ•°æ®.\nnpm install live2d-widget-model-shizuku   Fireworks\nä¸€ä¸ªé¼ æ ‡ç‚¹å‡»åŠ¨ç”»ç‰¹æ•ˆ\nnpm install next-theme/hexo-next-fireworks activate-power-mode\nä¸€ä¸ªä¸ºåšå®¢æ·»åŠ é…·ç‚«æ‰“å­—ç‰¹æ•ˆçš„æ’ä»¶\n  ç¼–è¾‘ /hexo-site/source/_data/footer.njk\n\u0026lt;script src=\u0026quot;https://cdn.jsdelivr.net/gh/suyin-long/activate-power-mode@1.0/dist/activate-power-mode.js\u0026quot;\u0026gt;\u0026lt;/script\u0026gt; \u0026lt;script\u0026gt; POWERMODE.colorful = true; // make power mode colorful POWERMODE.shake = false; // turn off shake document.body.addEventListener('input', POWERMODE); \u0026lt;/script\u0026gt;   å–æ¶ˆfooter: source/_data/footer.njkçš„æ³¨é‡Š\n  ææ€ªç½‘é¡µæ ‡é¢˜\n  ç¼–è¾‘ /hexo-site/source/_data/head.njkï¼Œæ·»åŠ \n{# ææ€ªç½‘é¡µæ ‡é¢˜ #} {% if theme.title_trick.enable %} \u0026lt;script\u0026gt; var OriginTitile = document.title; var titleTime; document.addEventListener(\u0026quot;visibilitychange\u0026quot;, function() { if (document.hidden) { document.title = \u0026quot;{{ theme.title_trick.leave }}\u0026quot;; clearTimeout(titleTime); } else { document.title = \u0026quot;{{ theme.title_trick.enter }}\u0026quot;; titleTime = setTimeout(function() { document.title = OriginTitile; }, 2000); } }); \u0026lt;/script\u0026gt; {% endif %}   åœ¨ä¸»é¢˜é…ç½®æ–‡ä»¶ä¸­æ·»åŠ \n# a trick on website title title_trick: enable: true leave: \u0026#34;(ã¤ã‚§âŠ‚)æˆ‘è—å¥½äº†å“¦~\u0026#34; enter: \u0026#34;(*Â´âˆ‡ï½€*) è¢«ä½ å‘ç°å•¦~\u0026#34;   æˆ‘å…ˆæ˜¯æ”¾åœ¨ sorce/_data/head.njk ä¸­ï¼Œé—®é¢˜æ˜¯æ”¹å˜ä¸€æ¬¡æ ‡é¢˜åå°±åªæ˜¾ç¤ºç½‘å€ã€‚æˆ‘è®¤ä¸º script å¯èƒ½åœ¨ \u0026lt;title\u0026gt; ä¹‹å‰åŠ è½½ï¼Œæ‰€ä»¥å°±æ”¾åœ¨ source/_data/header.njkï¼Œæ­£å¸¸è¿è¡Œã€‚\n  Hexo NexT Three\n  Install\nnpm install next-theme/hexo-next-three   Configure\n# JavaScript 3D library. # Dependencies: https://github.com/next-theme/hexo-next-three three: enable: true defer: true cdn: waves: enable: false cdn: lines: enable: false cdn: sphere: enable: false cdn:   hexo-cake-moon-menu\n  How to use\nnpm install hexo-cake-moon-menu   Config: In hexo _config.yml\nmoon_menu: back2top: enable: true icon: fas fa-chevron-up func: back2top order: -1 back2bottom: enable: true icon: fas fa-chevron-down func: back2bottom order: -2   permalink\n  é»˜è®¤çš„æ–‡ç«  url åœ°å€ä¸º http://yoursite.com/:year/:month/:day/:title/ï¼Œè¿™ç§ url æ ¼å¼å±‚çº§å¤ªå¤šï¼Œå¹¶ä¸”å¦‚æœæ–‡ç« æ ‡é¢˜æ˜¯ä¸­æ–‡çš„è¯å¯èƒ½ä¼šå‘ç”Ÿè½¬ä¹‰è€Œå‡ºç°ä¸€å †ä¹±ç ï¼Œä¸åˆ©äºæœç´¢å¼•æ“çš„çˆ¬å–åˆ†æï¼Œå› æ­¤å»ºè®®åœ¨ç«™ç‚¹é…ç½®ä¸­ä¿®æ”¹ permalink çš„æ ¼å¼æ¥ç®€åŒ–é¡µé¢ urlï¼Œå¹¶å°½é‡é‡‡ç”¨è‹±æ–‡å‘½å Markdown æ–‡ä»¶ã€‚(è¿™ä¸ªæ ¹æ®ä¸ªäººé€‰æ‹©ï¼Œæˆ‘è®¤ä¸ºæœ‰æ›´æœ‰ç»„ç»‡çš„æ–‡ä»¶ç»“æ„æ›´é‡è¦)\n  è¿™ä¸ª front matter å¿…é¡»æ˜¯ html æ–‡ä»¶ï¼Œæ–‡ä»¶ä¼šç”Ÿæˆåˆ° public æ ¹ç›®å½•ã€‚\n --- permalink: /post-name.html ---   robots.txt\nrobots.txtï¼ˆç»Ÿä¸€å°å†™ï¼‰æ˜¯ä¸€ç§å­˜æ”¾äºç½‘ç«™æ ¹ç›®å½•ä¸‹çš„ASCIIç¼–ç çš„æ–‡æœ¬æ–‡ä»¶ï¼Œå®ƒé€šå¸¸å‘Šè¯‰ç½‘ç»œæœç´¢å¼•æ“çš„æ¼«æ¸¸å™¨ï¼ˆåˆç§°ç½‘ç»œèœ˜è››ï¼‰ï¼Œæ­¤ç½‘ç«™ä¸­çš„å“ªäº›å†…å®¹æ˜¯ä¸åº”è¢«æœç´¢å¼•æ“çš„æ¼«æ¸¸å™¨è·å–çš„ï¼Œå“ªäº›æ˜¯å¯ä»¥è¢«æ¼«æ¸¸å™¨è·å–çš„ã€‚\nrobots.txtåœ¨çº¿ç”Ÿæˆå™¨\nCDN CDN çš„å…¨ç§°æ˜¯(Content Delivery Network)ï¼Œå³å†…å®¹åˆ†å‘ç½‘ç»œã€‚å…¶ç›®çš„æ˜¯é€šè¿‡åœ¨ç°æœ‰çš„ Internet ä¸­å¢åŠ ä¸€å±‚æ–°çš„CACHE(ç¼“å­˜)å±‚ï¼Œå°†ç½‘ç«™çš„å†…å®¹å‘å¸ƒåˆ°æœ€æ¥è¿‘ç”¨æˆ·çš„ç½‘ç»œâ€œè¾¹ç¼˜â€çš„èŠ‚ç‚¹ï¼Œä½¿ç”¨æˆ·å¯ä»¥å°±è¿‘å–å¾—æ‰€éœ€çš„å†…å®¹ï¼Œæé«˜ç”¨æˆ·è®¿é—®ç½‘ç«™çš„å“åº”é€Ÿåº¦ã€‚ä»æŠ€æœ¯ä¸Šå…¨é¢è§£å†³ç”±äºç½‘ç»œå¸¦å®½å°ã€ç”¨æˆ·è®¿é—®é‡å¤§ã€ç½‘ç‚¹åˆ†å¸ƒä¸å‡ç­‰åŸå› ï¼Œæé«˜ç”¨æˆ·è®¿é—®ç½‘ç«™çš„å“åº”é€Ÿåº¦ã€‚\nCDN å·¥ä½œåŸç† ä¼ ç»Ÿè®¿é—®è¿‡ç¨‹ï¼š\n ç”¨æˆ·è¾“å…¥è®¿é—®çš„åŸŸåï¼Œæ“ä½œç³»ç»Ÿå‘ LocalDns æŸ¥è¯¢åŸŸåçš„ipåœ°å€ LocalDns å‘ ROOT DNS æŸ¥è¯¢åŸŸåçš„æˆæƒæœåŠ¡å™¨ï¼ˆè¿™é‡Œå‡è®¾LocalDnsç¼“å­˜è¿‡æœŸï¼‰ ROOT DNS å°†åŸŸåæˆæƒ dns è®°å½•å›åº”ç»™ LocalDns LocalDns å¾—åˆ°åŸŸåçš„æˆæƒ dns è®°å½•åï¼Œç»§ç»­å‘åŸŸåæˆæƒ dns æŸ¥è¯¢åŸŸåçš„ ip åœ°å€ åŸŸåæˆæƒ dns æŸ¥è¯¢åŸŸåè®°å½•åï¼Œå›åº”ç»™ LocalDns LocalDns å°†å¾—åˆ°çš„åŸŸå ip åœ°å€ï¼Œå›åº”ç»™ç”¨æˆ·ç«¯ ç”¨æˆ·å¾—åˆ°åŸŸå ip åœ°å€åï¼Œè®¿é—®ç«™ç‚¹æœåŠ¡å™¨ ç«™ç‚¹æœåŠ¡å™¨åº”ç­”è¯·æ±‚ï¼Œå°†å†…å®¹è¿”å›ç»™å®¢æˆ·ç«¯  CDN è®¿é—®è¿‡ç¨‹ï¼š\n ç”¨æˆ·è¾“å…¥è®¿é—®çš„åŸŸåï¼Œæ“ä½œç³»ç»Ÿå‘ LocalDns æŸ¥è¯¢åŸŸåçš„ ip åœ°å€ LocalDns å‘ ROOT DNS æŸ¥è¯¢åŸŸåçš„æˆæƒæœåŠ¡å™¨ï¼ˆè¿™é‡Œå‡è®¾LocalDnsç¼“å­˜è¿‡æœŸï¼‰ ROOT DNS å°†åŸŸåæˆæƒ dns è®°å½•å›åº”ç»™ LocalDns LocalDns å¾—åˆ°åŸŸåçš„æˆæƒ dns è®°å½•åï¼Œç»§ç»­å‘åŸŸåæˆæƒ dns æŸ¥è¯¢åŸŸåçš„ ip åœ°å€ åŸŸåæˆæƒ dns æŸ¥è¯¢åŸŸåè®°å½•åï¼ˆä¸€èˆ¬æ˜¯CNAMEï¼‰ï¼Œå›åº”ç»™ LocalDns LocalDns å¾—åˆ°åŸŸåè®°å½•åï¼Œå‘æ™ºèƒ½è°ƒåº¦ DNS æŸ¥è¯¢åŸŸåçš„ ip åœ°å€ æ™ºèƒ½è°ƒåº¦ DNS æ ¹æ®ä¸€å®šçš„ç®—æ³•å’Œç­–ç•¥ï¼Œå°†æœ€é€‚åˆçš„ CDN èŠ‚ç‚¹ ip åœ°å€å›åº”ç»™ LocalDns LocalDns å°†å¾—åˆ°çš„åŸŸå ip åœ°å€ï¼Œå›åº”ç»™ç”¨æˆ·ç«¯ ç”¨æˆ·å¾—åˆ°åŸŸå ip åœ°å€åï¼Œè®¿é—®ç«™ç‚¹æœåŠ¡å™¨ CDN èŠ‚ç‚¹æœåŠ¡å™¨åº”ç­”è¯·æ±‚ï¼Œå°†å†…å®¹è¿”å›ç»™å®¢æˆ·ç«¯  å‚è€ƒ CDNåŠ é€ŸåŸç†\nNPM npm makes it easy for JavaScript developers to share and reuse code, and it makes it easy to update the code that you\u0026rsquo;re sharing.\nåŸºæœ¬ï¼š\n  package.json å’Œ package-lock.json\n package.json æ‰§è¡Œ npm init å‘½ä»¤ç”Ÿæˆï¼Œæè¿°é¡¹ç›®æ¨¡å—ä¿¡æ¯ package-lock.json æ‰§è¡Œ npm install å‘½ä»¤ç”Ÿæˆï¼Œæè¿°æ¨¡å—æ¥æºåŠä¾èµ–ä¿¡æ¯ï¼Œå¯åˆ é™¤    å®‰è£…æ¨¡å—ï¼š\n  å…¨å±€å®‰è£…\nnpm install -g æ¨¡å—åç§°   æœ¬åœ°å®‰è£…ï¼šè¯»å– package.json å¹¶ä¸‹è½½æ¨¡å—åˆ° node_modules çš„ç›®å½•ï¼Œæ¨¡å—åˆ†ä¸ºä¸¤ç±» dependencies å’ŒdevDependenciesï¼Œåˆ†åˆ«å¯¹åº”ç”Ÿäº§ç¯å¢ƒéœ€è¦çš„å®‰è£…åŒ…å’Œå¼€å‘ç¯å¢ƒéœ€è¦çš„å®‰è£…åŒ…\nnpm install \u0026lt;package_name\u0026gt; # åœ¨å®‰è£…æ¨¡å—çš„æ—¶å€™ï¼Œå¯ä»¥é€šè¿‡æŒ‡å®šå‚æ•°æ¥ä¿®æ”¹ package.json æ–‡ä»¶ npm install \u0026lt;package_name\u0026gt; --save npm install \u0026lt;package_name\u0026gt; --save-dev     æ›´æ–°æ¨¡å—\nnpm update   å¸è½½æ¨¡å—\nnpm uninstall -g \u0026lt;package_name\u0026gt; npm uninstall \u0026lt;package_name\u0026gt; # å¸è½½æ¨¡å—çš„åŒæ—¶ï¼Œä¹Ÿä» package.json æ–‡ä»¶ä¸­ç§»é™¤ npm uninstall --save \u0026lt;package_name\u0026gt; npm uninstall --save-dev \u0026lt;package_name\u0026gt;   è§£å†³é—®é¢˜ï¼š\n  Ubuntu å®‰è£…æœ€æ–° LTS ç‰ˆæœ¬ï¼šå®˜æ–¹æ•™ç¨‹ï¼ŒWindows ç‰ˆæœ¬æ›´å¥½\nsudo mkdir -p /usr/local/lib/nodejs sudo tar -xJvf node-$VERSION-$DISTRO.tar.xz -C /usr/local/lib/nodejs vi ~/.profile # Nodejs VERSION=v10.15.0 DISTRO=linux-x64 export PATH=/usr/local/lib/nodejs/node-$VERSION-$DISTRO/bin:$PATH . ~/.profile\t# Refresh profile sudo ln -s /usr/local/lib/nodejs/node-$VERSION-$DISTRO/bin/node /usr/bin/node   æŸ¥çœ‹ npm é…ç½®\nnpm config list -l npm config ls   é…ç½®é•œåƒï¼šæ·˜å®é•œåƒä¸å¥½ç”¨ï¼Œç‰¹å¯¹å¯¹äº update\nnpm config set registry https://registry.npmjs.org --global   é…ç½® NPM ä¸åšä¸¥æ ¼çš„ SSL æ ¡éªŒ\nnpm config set strict-ssl false   npm ERR! Unexpected end of JSON input while parsing near \u0026hellip;\nnpm cache clean --force   npm WARN notsup SKIPPING OPTIONAL DEPENDENCY: Unsupported platform for fseventsï¼šä¸ç®¡\n  npm ERR! code EINTEGRITY\ngrep -ir \u0026quot;sha1-WYr+VHVbKGilMw0q/51Ou1Mgm2U\u0026quot; ~/.npm\t# wanted sha1 npm cache clean --force grep -ir \u0026quot;sha1-WYr+VHVbKGilMw0q/51Ou1Mgm2U\u0026quot; ~/.npm npm install   getaddrinfo EAI_AGAIN registry.npmjs.orgï¼šç½‘ç»œé—®é¢˜ï¼Œé‡æ–°è¿è¡Œ npm install\n  å‡çº§ä¸ºæœ€æ–°ç¨³å®šç‰ˆæœ¬çš„ node.jsï¼šè¶…æ…¢\nsudo npm cache clean -f sudo npm install -g n\t# n æ˜¯ Nodeç‰ˆæœ¬ç®¡ç†æ§åˆ¶å™¨ sudo n stable   NPM ä¸­æ–‡æ–‡æ¡£\nGreat Blogs yearito ï¼Œsuyin ï¼Œyleao ï¼Œdlzhang\nVersion    Name Version     npm 7.0.8   hexo 5.2.0   hexo-theme-next 8.0.2    ","permalink":"https://sakamotokurome.github.io/posts/hexo/","summary":"Hexo Hexo æ˜¯ä¸€ä¸ªå¿«é€Ÿã€ç®€æ´ä¸”é«˜æ•ˆçš„åšå®¢æ¡†æ¶ã€‚ å®‰è£… å®‰è£… Gitï¼š Windows: Download \u0026amp; install git. Mac: Install it with Homebrew, MacPorts or installer. Linux (Ubuntu, Debian): sudo apt-get install git-core Linux (Fedora, Red Hat, CentOS): sudo yum install git-core å®‰è£… node.jsï¼š Windows: Install it with","title":"Hexo"},{"content":"Workspaceï¼šå·¥ä½œåŒºï¼ŒIndex / Stageï¼šæš‚å­˜åŒºï¼ŒRepositoryï¼šä»“åº“åŒºï¼ˆæˆ–æœ¬åœ°ä»“åº“ï¼‰ï¼ŒRemoteï¼šè¿œç¨‹ä»“åº“\nè¿œç¨‹ä»“åº“ å®‰è£…ï¼Œwindowséœ€è¦å¤„ç†æ¢è¡Œç¬¦ sudo yum install git è®¾ç½®å§“åå’Œé‚®ç®±åœ°å€ git config --global user.name \u0026#34;Vane Hsiung\u0026#34; git config --global user.email \u0026#34;1664548605@qq.com\u0026#34; æé«˜è¾“å‡ºå¯è¯»æ€§ git config --global color.ui auto è®¾ç½®æ–‡ä»¶   æ˜¾ç¤ºå½“å‰çš„ Git é…ç½®\ngit config --list cat ~/.giconfig   ç¼–è¾‘Gité…ç½®æ–‡ä»¶\ngit config -e [--global]   è®¾ç½®SSHï¼Œæ·»åŠ è®¤è¯å¯†ç  ssh-keygen -t rsa -C \u0026#34;1664548605@qq.com\u0026#34; æ·»åŠ å…¬å¼€å¯†é’¥ å°†ä¸‹é¢çš„å¯†é’¥æ·»åŠ åˆ° GitHub è®¾ç½®ä¸­çš„ SSH key ä¸­\ncat ~/.ssh/id_rsa.pub æŸ¥çœ‹æ˜¯å¦è®¤è¯å’Œé€šä¿¡æˆåŠŸ ssh -T git@github.com è·å–è¿œç¨‹ä»“åº“ clone åé»˜è®¤åœ¨ master åˆ†æ”¯ä¸‹è‡ªåŠ¨å°† origin è®¾ç½®ä¸ºè¿œç¨‹ä»“åº“æ ‡è¯†ç¬¦\ngit clone SSH æé€Ÿï¼š\ngit clone SSH --depth=1 åŠ ä¸Š \u0026ndash;depth ä¼šåªä¸‹è½½ä¸€ä¸ª commitï¼Œæ‰€ä»¥å†…å®¹å°‘äº†å¾ˆå¤šï¼Œé€Ÿåº¦ä¹Ÿå°±ä¸Šå»äº†ã€‚\nè€Œä¸”ä¸‹è½½ä¸‹æ¥çš„å†…å®¹æ˜¯å¯ä»¥ç»§ç»­æäº¤æ–°çš„ commitã€åˆ›å»ºæ–°çš„åˆ†æ”¯çš„ã€‚ä¸å½±å“åç»­å¼€å‘ï¼Œåªæ˜¯ä¸èƒ½åˆ‡æ¢åˆ°å†å² commit å’Œå†å²åˆ†æ”¯ã€‚\nåœ¨ä¸€äº›åœºæ™¯ä¸‹è¿˜æ˜¯æ¯”è¾ƒæœ‰ç”¨çš„ï¼šå½“éœ€è¦åˆ‡æ¢åˆ°å†å²åˆ†æ”¯çš„æ—¶å€™ä¹Ÿå¯ä»¥è®¡ç®—éœ€è¦å‡ ä¸ª commitï¼Œç„¶åå†æŒ‡å®š depthï¼Œè¿™æ ·ä¹Ÿå¯ä»¥æé«˜é€Ÿåº¦ã€‚\nè·å–è¿œç¨‹émasteråˆ†æ”¯ -b åæ˜¯æ–°å»ºåˆ†æ”¯åç§°\ngit checkout -b branchName origin/branchName è·å–æŒ‡å®šåˆ†æ”¯ ä½¿ç”¨gitæ‹‰ä»£ç æ—¶å¯ä»¥ä½¿ç”¨ -b æŒ‡å®šåˆ†æ”¯ï¼Œæ‹‰å– develop åˆ†æ”¯ä»£ç ï¼š\ngit clone -b develop http://gitslab.yiqing.com/declare/about.git æŸ¥çœ‹å½“å‰é¡¹ç›®æ‹‰çš„æ˜¯å“ªä¸ªåˆ†æ”¯çš„ä»£ç è¯¦æƒ…ï¼š\ngit branch -v æŸ¥çœ‹åˆ†æ”¯ä¸Šçš„é€’äº¤æƒ…å†µ:\ngit show-branch è·å–æœ€æ–°çš„è¿œç¨‹ä»“åº“åˆ†æ”¯ è¿œç¨‹ä»“åº“æ‹‰å–ä»£ç å¹¶åˆå¹¶åˆ°æœ¬åœ°ï¼Œå¯ç®€å†™ä¸º git pull ç­‰åŒäº git fetch \u0026amp;\u0026amp; git merge\ngit pull \u0026lt;è¿œç¨‹ä¸»æœºå\u0026gt; \u0026lt;è¿œç¨‹åˆ†æ”¯å\u0026gt;:\u0026lt;æœ¬åœ°åˆ†æ”¯å\u0026gt; # å–å›è¿œç¨‹ä»“åº“çš„å˜åŒ–ï¼Œå¹¶ä¸æœ¬åœ°åˆ†æ”¯åˆå¹¶ git pull origin branchName # ä½¿ç”¨rebaseçš„æ¨¡å¼è¿›è¡Œåˆå¹¶ git pull --rebase \u0026lt;è¿œç¨‹ä¸»æœºå\u0026gt; \u0026lt;è¿œç¨‹åˆ†æ”¯å\u0026gt;:\u0026lt;æœ¬åœ°åˆ†æ”¯å\u0026gt; # è·å–è¿œç¨‹ä»“åº“ç‰¹å®šåˆ†æ”¯çš„æ›´æ–° git fetch \u0026lt;è¿œç¨‹ä¸»æœºå\u0026gt; \u0026lt;åˆ†æ”¯å\u0026gt; # è·å–è¿œç¨‹ä»“åº“æ‰€æœ‰åˆ†æ”¯çš„æ›´æ–° git fetch --all é—®é¢˜ï¼šFor those who found this searching for an answer to fatal: 'origin/remote-branch-name' is not a commit and a branch 'local-branch-name' cannot be created from it, you may also want to try this first:\ngit fetch --all ä¸ git pull ä¸åŒçš„æ˜¯ git fetch æ“ä½œä»…ä»…åªä¼šæ‹‰å–è¿œç¨‹çš„æ›´æ”¹ï¼Œä¸ä¼šè‡ªåŠ¨è¿›è¡Œ merge æ“ä½œã€‚å¯¹ä½ å½“å‰çš„ä»£ç æ²¡æœ‰å½±å“ã€‚\ngit rebase è®©ä½ çš„æäº¤è®°å½•æ›´åŠ æ¸…æ™°å¯è¯»\nrebase ç¿»è¯‘ä¸ºå˜åŸºï¼Œä»–çš„ä½œç”¨å’Œ merge å¾ˆç›¸ä¼¼ï¼Œç”¨äºæŠŠä¸€ä¸ªåˆ†æ”¯çš„ä¿®æ”¹åˆå¹¶åˆ°å½“å‰åˆ†æ”¯ä¸Šã€‚\nå³é€ä¸ªåº”ç”¨äº† mater åˆ†æ”¯çš„æ›´æ”¹ï¼Œç„¶åä»¥ master åˆ†æ”¯æœ€åçš„æäº¤ä½œä¸ºåŸºç‚¹ï¼Œå†é€ä¸ªåº”ç”¨ feature çš„æ¯ä¸ªæ›´æ”¹ã€‚\nå¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œrebase çš„è¿‡ç¨‹ä¸­ä¼šäº§ç”Ÿå†²çªçš„ï¼Œæ­¤æ—¶ï¼Œå°±éœ€è¦æ‰‹åŠ¨è§£å†³å†²çªï¼Œç„¶åä½¿ç”¨ä¾æ¬¡ git add  ã€git rebase --continue  çš„æ–¹å¼æ¥å¤„ç†å†²çªï¼Œå®Œæˆ rebase çš„è¿‡ç¨‹ï¼Œå¦‚æœä¸æƒ³è¦æŸæ¬¡ rebase çš„ç»“æœï¼Œé‚£ä¹ˆéœ€è¦ä½¿ç”¨ git rebase --skip  æ¥è·³è¿‡è¿™æ¬¡ rebase æ“ä½œã€‚\ngit merge å’Œ git rebase çš„åŒºåˆ«\nä¸åŒäº git rebase çš„æ˜¯ï¼Œgit merge åœ¨ä¸æ˜¯ fast-forwardï¼ˆå¿«é€Ÿåˆå¹¶ï¼‰çš„æƒ…å†µä¸‹ï¼Œä¼šäº§ç”Ÿä¸€æ¡é¢å¤–çš„åˆå¹¶è®°å½•ï¼Œç±»ä¼¼ Merge branch 'xxx' into 'xxx' çš„ä¸€æ¡æäº¤ä¿¡æ¯ã€‚\nå¦å¤–ï¼Œåœ¨è§£å†³å†²çªçš„æ—¶å€™ï¼Œç”¨ merge åªéœ€è¦è§£å†³ä¸€æ¬¡å†²çªå³å¯ï¼Œç®€å•ç²—æš´ï¼Œè€Œç”¨ rebase çš„æ—¶å€™ ï¼Œéœ€è¦ä¾æ¬¡è§£å†³æ¯æ¬¡çš„å†²çªï¼Œæ‰å¯ä»¥æäº¤ã€‚\nåŒä¸€å°ç”µè„‘é…ç½®å¤šä¸ª GItHub è´¦å· åœ¨æ—¥å¸¸ä½¿ç”¨ git ä½œä¸ºä»“åº“ä½¿ç”¨çš„æ—¶å€™ï¼Œæœ‰æ—¶å¯èƒ½ä¼šé‡åˆ°è¿™æ ·çš„ä¸€äº›æƒ…å†µï¼š\n æœ‰ä¸¤ä¸ª github è´¦å·ï¼Œä¸€å°ç”µè„‘æ€ä¹ˆåŒæ—¶è¿æ¥è¿™ä¸¤ä¸ªè´¦å·è¿›è¡Œç»´æŠ¤å‘¢ï¼Ÿ è‡ªå·±ç”¨ä¸€ä¸ª github è´¦å·ï¼Œå¹³æ—¶ç”¨æ¥æ›´æ–°è‡ªå·±çš„ä¸€äº›èµ„æ–™ï¼›å…¬å¸ä½¿ç”¨çš„ gitlabï¼ˆä¹Ÿæ˜¯ git çš„è¡ç”Ÿäº§å“ï¼‰  å¦‚ä¸‹æ˜¯è§£å†³æ–¹æ¡ˆï¼š\n  åˆ›å»ºé»˜è®¤ SSH Key\nssh-keygen -t rsa -C \u0026#34;one@example.com\u0026#34;   å°†å…¬é’¥æ·»åŠ åˆ° one@example.com çš„ GitHub SSH key ä¸­ã€‚\n  æµ‹è¯• ssh key æ˜¯å¦æˆåŠŸ\nssh -T git@github.com   å¦‚æœè®¾ç½®è¿‡å…¨å±€ï¼Œåˆ™æ¸…é™¤ git çš„å…¨å±€è®¾ç½®\n# æŸ¥çœ‹å½“å‰é…ç½® git config --list # å–æ¶ˆ global user.name user.email git config --global --unset user.name git config --global --unset user.email   ç”Ÿæˆå¦å¤–ä¸€ä¸ªè´¦å·æ–°çš„SSH keys\nssh-keygen -t rsa -C \u0026#34;two@example.com\u0026#34; ç§é’¥éœ€é‡å‘½åï¼Œå¦‚ id_rsa_twoã€‚ç„¶åå°†å¯¹åº”çš„å…¬é’¥æ·»åŠ åˆ°two@example.comçš„ Github SSH key ä¸­ã€‚\n  éœ€æ·»åŠ æ–°ç§é’¥åˆ° SSH agent ä¸­ï¼Œå› ä¸ºé»˜è®¤åªè¯»å– id_rsa\n# Windows åœ¨ç®¡ç†å‘˜ä¸‹è¿è¡Œ Get-Service ssh-agent Set-Service ssh-agent -StartupType Manual Start-Service ssh-agent # Linux eval `ssh-agent -s` # æ·»åŠ ç§é’¥ ssh-add ~/.ssh/id_rsa_new unable to start ssh-agent service\nCould not open a connection to your authentication agent\n  é…ç½® ~/.ssh/config æ–‡ä»¶ï¼Œç”¨äºé…ç½®ç§é’¥å¯¹åº”çš„æœåŠ¡å™¨\n# Default github user(one@example.com) Host git@github.com HostName github.com User \u0026#34;Your GitHub Account Name\u0026#34; IdentityFile ~/.ssh/id_rsa # another user(two@example.com) # å»ºä¸€ä¸ªåˆ«åï¼Œæ–°å»ºçš„å¸å·ä½¿ç”¨è¿™ä¸ªåˆ«ååšå…‹éš†å’Œæ›´æ–° # \u0026#34;Host\u0026#34; å¦‚æœå¸¦äº† \u0026#34;git@\u0026#34;ï¼Œå¦‚ \u0026#34;git@two.github.com\u0026#34;ï¼Œå°±ä¼šè¿æ¥åˆ° two.github.com # \u0026#34;Host\u0026#34; æ²¡æœ‰å¸¦ \u0026#34;git@\u0026#34;ï¼Œå°±ä¼šæ­£ç¡®çš„è¿æ¥åˆ° github.com Host two.github.com HostName github.com User \u0026#34;Your GitHub Account Name\u0026#34; IdentityFile ~/.ssh/id_rsa_two æµ‹è¯•\n# default ssh -T git@github.com # another ssh -T git@two.github.com   ä½¿ç”¨\n# default git remote add origin git@github.com:one/demo.git # another git remote add origin git@two.github.com:two/demo.git   è®¾ç½®æ¯ä¸ªé¡¹ç›®çš„è‡ªå·±çš„ user.name å’Œ user.email\ngit config user.email \u0026#34;two@example.com\u0026#34; git config user.name \u0026#34;two\u0026#34;   Git ä¸­ HTTPS å’Œ SSH çš„ Clone æ–¹å¼åŒºåˆ«  HTTPSï¼šä¸ç®¡æ˜¯è°ï¼Œæ‹¿åˆ°urléšä¾¿cloneï¼Œä½†æ˜¯åœ¨pushçš„æ—¶å€™éœ€è¦éªŒè¯ç”¨æˆ·åå’Œå¯†ç ï¼› SSHï¼šcloneçš„é¡¹ç›®ä½ å¿…é¡»æ˜¯æ‹¥æœ‰è€…æˆ–è€…ç®¡ç†å‘˜ï¼Œè€Œä¸”éœ€è¦åœ¨cloneå‰æ·»åŠ SSH Keyã€‚SSH åœ¨pushçš„æ—¶å€™ï¼Œæ˜¯ä¸éœ€è¦è¾“å…¥ç”¨æˆ·åçš„ï¼Œå¦‚æœé…ç½®SSH keyçš„æ—¶å€™è®¾ç½®äº†å¯†ç ï¼Œåˆ™éœ€è¦è¾“å…¥å¯†ç çš„ã€‚  æœ¬åœ°ä»“åº“ åˆå§‹åŒ–ä»“åº“ ç”Ÿæˆ .git ç›®å½•, ä¹Ÿå°±æ˜¯å½“å‰ç›®å½•çš„ä»“åº“ï¼Œå½“å‰ç›®å½•ç§°ä¸ºâ€œé™„å±äºè¯¥ä»“åº“çš„å·¥ä½œæ ‘â€\ngit init [project-name] æŸ¥çœ‹ä»“åº“çš„çŠ¶æ€ git status\t# æ˜¾ç¤ºæœ‰å˜æ›´çš„æ–‡ä»¶ å‘æš‚å­˜åŒºæ·»åŠ æ–‡ä»¶   æ·»åŠ æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒº\ngit add [file1] [file2] ...   æ·»åŠ æŒ‡å®šç›®å½•åˆ°æš‚å­˜åŒºï¼ŒåŒ…æ‹¬å­ç›®å½•\ngit add [dir]   æ·»åŠ å½“å‰ç›®å½•çš„æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº\ngit add .   åˆ é™¤å·¥ä½œåŒºæ–‡ä»¶ï¼Œå¹¶ä¸”å°†è¿™æ¬¡åˆ é™¤æ”¾å…¥æš‚å­˜åŒº\ngit rm [file1] [file2] ...   æ”¹åæ–‡ä»¶ï¼Œå¹¶ä¸”å°†è¿™ä¸ªæ”¹åæ”¾å…¥æš‚å­˜åŒº\ngit mv [file-original] [file-renamed]   åŸç†ï¼ˆgit add ä¸ºå¦‚ä¸‹ä¸¤æ­¥ç®€å†™ï¼‰ï¼š\n  ä¸º example.txt åˆ›å»ºä¸€ä¸ªå‰¯æœ¬ã€‚git hash-object å‘½ä»¤æŠŠ example.txt çš„å½“å‰å†…å®¹å‹ç¼©æˆäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œç§°ä¸ºä¸€ä¸ª Git å¯¹è±¡ï¼Œä¿å­˜åœ¨ .git/objects ç›®å½•ã€‚å¹¶è®¡ç®—å½“å‰å†…å®¹çš„å“ˆå¸Œå€¼ï¼Œå‰ 2 ä¸ªå­—ç¬¦ä½œä¸ºç›®å½•åï¼Œå 38 ä¸ªå­—ç¬¦ä½œä¸ºè¯¥å¯¹è±¡çš„æ–‡ä»¶å\ngit hash-object -w example.txt äºŒè¿›åˆ¶å¯¹è±¡é‡Œé¢ä¼šä¿å­˜ä¸€äº›å…ƒæ•°æ®ï¼Œå¦‚æœæƒ³çœ‹è¯¥æ–‡ä»¶åŸå§‹çš„æ–‡æœ¬å†…å®¹ï¼Œéœ€ç”¨git cat-fileå‘½ä»¤\ngit cat-file -p e69de29bb2d1d6434b8b29ae775ad8c2e48c5391   æ‰€æœ‰å˜åŠ¨çš„æ–‡ä»¶ï¼ŒGit éƒ½è®°å½•åœ¨\u0026quot;æš‚å­˜åŒº\u0026quot;ï¼Œgit update-index å‘½ä»¤ç”¨äºåœ¨æš‚å­˜åŒºè®°å½•ä¸€ä¸ªå‘ç”Ÿå˜åŠ¨çš„æ–‡ä»¶\ngit update-index --add --cacheinfo 100644 e69de29bb2d1d6434b8b29ae775ad8c2e48c5391 example.txt git ls-files å‘½ä»¤æ˜¾ç¤ºæš‚å­˜åŒºå½“å‰å†…å®¹\ngit ls-files --stage   æŸ¥çœ‹æ›´æ”¹å‰åçš„å·®åˆ« ä¹ æƒ¯ï¼šgit commit å‰å…ˆ git diff HEAD\ngit diff é»˜è®¤æŸ¥çœ‹å·¥ä½œæ ‘å’Œæš‚å­˜åŒºçš„å·®åˆ«\nHEADæŸ¥çœ‹å·¥ä½œæ ‘ä¸æœ€æ–°æäº¤çš„å·®åˆ«ï¼ŒHEAD ä¸ºæŒ‡å‘å½“å‰åˆ†æ”¯ä¸­æœ€æ–°ä¸€æ¬¡æäº¤çš„æŒ‡é’ˆï¼ŒHEAD^ æŒ‡å‘ HEAD çš„å‰ä¸€ä¸ªæäº¤ï¼ŒHEAD~6 åˆ™æ˜¯ HEAD ä¹‹å‰çš„ç¬¬6ä¸ªæäº¤ã€‚æ¯ä¸€ä¸ªåˆ†æ”¯éƒ½æ˜¯ä¸€ä¸ªæ–‡æœ¬æ–‡ä»¶ï¼Œä¿å­˜åœ¨ .git/refs/heads/ ç›®å½•ä¸­ï¼Œæ–‡ä»¶çš„å†…å®¹æ˜¯æœ€æ–°æäº¤çš„å“ˆå¸Œå€¼\ngit diff [HEAD] å°†æš‚å­˜åŒºä¸­æ–‡ä»¶ä¿å­˜åˆ°ä»“åº“å†å²è®°å½•ä¸­ -m ç”¨äºè®°å½•ä¸€è¡Œä¿¡æ¯ï¼›ä¸åŠ  -m è®°å½•è¯¦ç»†ä¿¡æ¯ï¼Œä¼šæ–°å¼€ç¼–è¾‘å™¨è¿›è¡Œç¼–è¾‘\n  ç›¸å½“ä¸ git add ä¸ git commit\ngit commit -am \u0026#34;Message\u0026#34;\t  æäº¤æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶åˆ°ä»“åº“åŒº\ngit commit [file1] [file2] ... -m \u0026#34;Message\u0026#34;   æäº¤å·¥ä½œåŒºè‡ªä¸Šæ¬¡commitä¹‹åçš„å˜åŒ–ï¼Œç›´æ¥åˆ°ä»“åº“åŒº\ngit commit -a   æäº¤æ—¶æ˜¾ç¤ºæ‰€æœ‰diffä¿¡æ¯\ngit commit -v   åŸç†ï¼ˆgit commit -m \u0026quot;first commit\u0026quot; ä¸ºå¦‚ä¸‹ä¸¤æ­¥ç®€å†™ï¼‰ï¼š\n  git write-tree å‘½ä»¤ä¿å­˜å½“å‰çš„ç›®å½•ç»“æ„ï¼Œç”Ÿæˆä¸€ä¸ª Git å¯¹è±¡\ngit write-tree   git commit-tree å‘½ä»¤ç”¨ç›®å½•ç»“æ„ Git å¯¹è±¡ç”Ÿæˆä¸€ä¸ª Git å¯¹è±¡ï¼Œéœ€æ·»åŠ æäº¤è¯´æ˜ï¼Œ-p å‚æ•°ç”¨æ¥æŒ‡å®šçˆ¶æäº¤\necho \u0026#34;first commit\u0026#34; | git e5a60f66d9966270c835343d4facc1c4bf44ed7a -p c9053865e9dff393fd2f7a92a18f9bd7f2caa7fa   ä¿®æ”¹æäº¤ä¿¡æ¯ äº§ç”Ÿä¸€ä¸ªæ–°çš„æäº¤å¯¹è±¡ï¼Œæ›¿æ¢æ‰ä¸Šä¸€æ¬¡æäº¤äº§ç”Ÿçš„æäº¤å¯¹è±¡\ngit commit --amend -m \u0026#34;Message\u0026#34; é‡åšä¸Šä¸€æ¬¡ commitï¼Œå¹¶åŒ…æ‹¬æŒ‡å®šæ–‡ä»¶çš„æ–°å˜åŒ–\ngit commit --amend [file1] [file2] ... å‹ç¼©å†å² ç”¨äºæ‹¼é”™å•è¯ç­‰ç®€å•çš„é”™è¯¯ï¼Œé€‰å®šå½“å‰åˆ†æ”¯ä¸­åŒ…å« HEADï¼ˆæœ€æ–°æäº¤ï¼‰åœ¨å†…çš„ number ä¸ªæœ€æ–°å†å²è®°å½•ä¸ºå¯¹è±¡å¹¶åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€ï¼Œpick ä¸ºåˆå¹¶å¯¹è±¡ï¼Œfixup ä¸ºè¢«åˆå¹¶å¯¹è±¡ï¼Œæœ€å pick æäº¤ä¿¡æ¯ä¼šä¿ç•™\ngit rebase -i HEAD~[number] æŸ¥çœ‹æäº¤æ—¥å¿—   --pretty=short ç”¨äºåªæ˜¾ç¤ºç¬¬ä¸€è¡Œç®€è¿°ä¿¡æ¯\n  FileName ä¸ºæ–‡ä»¶åæˆ–ç›®å½•åï¼Œåªæ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶çš„æ—¥å¿—\n  -p ç”¨äºæ˜¾ç¤ºæ–‡ä»¶çš„æ”¹åŠ¨\n  --stat æ˜¾ç¤º commit å†å²ï¼Œä»¥åŠæ¯æ¬¡ commit å‘ç”Ÿå˜æ›´çš„æ–‡ä»¶\ngit log [--pretty=short][FileName][-p][--stat]\t# æ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„ç‰ˆæœ¬å†å²   æŸ¥çœ‹æ–‡ä»¶æ¯æ¬¡æäº¤çš„diff\ngit log -p FileName   æœç´¢æäº¤å†å²ï¼Œæ ¹æ®å…³é”®è¯\ngit log -S [keyword]   æ˜¾ç¤ºæŸä¸ª commit ä¹‹åçš„æ‰€æœ‰å˜åŠ¨ï¼Œæ¯ä¸ªcommitå æ®ä¸€è¡Œ\ngit log [tag] HEAD --pretty=format:%s   æ˜¾ç¤ºæŸä¸ª commit ä¹‹åçš„æ‰€æœ‰å˜åŠ¨ï¼Œå…¶\u0026quot;æäº¤è¯´æ˜\u0026quot;å¿…é¡»ç¬¦åˆæœç´¢æ¡ä»¶\ngit log [tag] HEAD --grep feature   æ˜¾ç¤ºæŸä¸ªæ–‡ä»¶çš„ç‰ˆæœ¬å†å²ï¼ŒåŒ…æ‹¬æ–‡ä»¶æ”¹å\ngit log --follow [file] git whatchanged [file]   git log çš„è¿è¡Œè¿‡ç¨‹\n æŸ¥æ‰¾ HEAD æŒ‡é’ˆå¯¹åº”çš„åˆ†æ”¯ æ‰¾åˆ°åˆ†æ”¯çš„æœ€æ–°æäº¤ æ‰¾åˆ°çˆ¶èŠ‚ç‚¹ï¼ˆå‰ä¸€ä¸ªæäº¤ï¼‰ ä¾æ­¤ç±»æ¨ï¼Œæ˜¾ç¤ºå½“å‰åˆ†æ”¯çš„æ‰€æœ‰æäº¤  æŸ¥çœ‹å½“å‰ä»“åº“æ“ä½œæ—¥å¿— git reflog æ€ä¹ˆæŸ¥çœ‹å½“å‰çš„gitåˆ†æ”¯æ˜¯åŸºäºå“ªä¸ªåˆ†æ”¯åˆ›å»ºçš„\ngit reflog --date=local | grep \u0026lt;branchname\u0026gt;\nç±»ä¼¼äºå¦‚ä¸‹\n6b3db1f HEAD@{Fri Jul 9 16:05:23 2021}: checkout: moving from development to feature/api_xiongwen_dump å¯çŸ¥ feature/api_xiongwen_dump åŸºäº development\nä»æš‚å­˜åŒºæ’¤é”€æ–‡ä»¶ åœæ­¢è¿½è¸ªæŒ‡å®šæ–‡ä»¶ï¼Œä½†è¯¥æ–‡ä»¶ä¼šä¿ç•™åœ¨å·¥ä½œåŒº\ngit rm --cached [filename] æ’¤é”€æäº¤ åœ¨å½“å‰æäº¤åé¢ï¼Œæ–°å¢ä¸€æ¬¡æäº¤ï¼ŒæŠµæ¶ˆæ‰ä¸Šä¸€æ¬¡æäº¤å¯¼è‡´çš„æ‰€æœ‰å˜åŒ–\ngit revert HEAD æƒ³æŠµæ¶ˆå¤šä¸ªæäº¤ï¼Œå¿…é¡»åœ¨å‘½ä»¤è¡Œä¾æ¬¡æŒ‡å®šè¿™äº›æäº¤\ngit revert [å€’æ•°ç¬¬ä¸€ä¸ªæäº¤] [å€’æ•°ç¬¬äºŒä¸ªæäº¤] å›æº¯å†å²ç‰ˆæœ¬   é‡ç½®æš‚å­˜åŒºçš„æŒ‡å®šæ–‡ä»¶ï¼Œä¸ä¸Šä¸€æ¬¡ commit ä¿æŒä¸€è‡´ï¼Œä½†å·¥ä½œåŒºä¸å˜\ngit reset [file]   é‡ç½®æš‚å­˜åŒºä¸å·¥ä½œåŒºï¼Œä¸ä¸Šä¸€æ¬¡ commit ä¿æŒä¸€è‡´\ngit reset --hard   è®©æœ€æ–°æäº¤çš„æŒ‡é’ˆå›åˆ°ä»¥å‰æŸä¸ªæ—¶ç‚¹ï¼Œè¯¥æ—¶ç‚¹ä¹‹åçš„æäº¤éƒ½ä»å†å²ä¸­æ¶ˆå¤±\ngit reset ç›®æ ‡æ—¶é—´ç‚¹å“ˆå¸Œå€¼\t# é‡ç½®å½“å‰åˆ†æ”¯çš„æŒ‡é’ˆä¸ºæŒ‡å®š commitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºï¼Œä½†å·¥ä½œåŒºä¸å˜   é»˜è®¤æƒ…å†µä¸‹ï¼Œgit resetä¸æ”¹å˜å·¥ä½œåŒºçš„æ–‡ä»¶ï¼ˆä½†ä¼šæ”¹å˜æš‚å­˜åŒºï¼‰ï¼Œ--hardå‚æ•°å¯ä»¥è®©å·¥ä½œåŒºé‡Œé¢çš„æ–‡ä»¶ä¹Ÿå›åˆ°ä»¥å‰çš„çŠ¶æ€\ngit reset --hard ç›®æ ‡æ—¶é—´ç‚¹å“ˆå¸Œå€¼\t# é‡ç½®å½“å‰åˆ†æ”¯çš„HEADä¸ºæŒ‡å®šcommitï¼ŒåŒæ—¶é‡ç½®æš‚å­˜åŒºå’Œå·¥ä½œåŒºï¼Œä¸æŒ‡å®šcommitä¸€è‡´   é‡ç½®å½“å‰ HEAD ä¸ºæŒ‡å®š commitï¼Œä½†ä¿æŒæš‚å­˜åŒºå’Œå·¥ä½œåŒºä¸å˜\ngit reset --keep [commit]   æ·»åŠ è¿œç¨‹ä»“åº“ origin ä¸ºè¿œç¨‹ä»“åº“çš„æ ‡è¯†ç¬¦\ngit remote add origin SSH\t# å¢åŠ ä¸€ä¸ªæ–°çš„è¿œç¨‹ä»“åº“ï¼Œå¹¶å‘½å git remote -v\t# æ˜¾ç¤ºæ‰€æœ‰è¿œç¨‹ä»“åº“ git remote show [remote]\t# æ˜¾ç¤ºæŸä¸ªè¿œç¨‹ä»“åº“çš„ä¿¡æ¯ æ¨é€è‡³è¿œç¨‹ä»“åº“  æ¨é€çš„æ˜¯å½“å‰åˆ†æ”¯ -u åœ¨æ¨é€çš„åŒæ—¶å°†è¿œç¨‹ä»“åº“çš„ï¼ˆoriginä»“åº“ï¼‰çš„ branch åˆ†æ”¯è®¾ä¸ºæœ¬åœ°ä»“åº“å½“å‰åˆ†æ”¯çš„ upstreamï¼ˆä¸Šæ¸¸ï¼‰ è¿è¡Œ git pull ä»è¿œç¨‹ä»“åº“è·å–å†…å®¹æ—¶ï¼Œå°±å¯ä»¥çœç•¥å‚æ•°  git push [-u origin branchName]\t# ä¸Šä¼ æœ¬åœ°æŒ‡å®šåˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ git push --set-upstream origin [branchName]\t# To push the current branch and set the remote as upstream å¦‚æœæ¯æ¬¡ git push éƒ½éœ€è¦è¾“å…¥è´¦å·å’Œå¯†ç \n  é¦–å…ˆåœ¨ git å·¥ä½œç›®å½•ä¸‹ï¼š\ngit config [--global] credential.helper store   ç„¶åæ‰§è¡Œä¸€æ¬¡ git pullï¼Œè¿™æ¬¡è¾“å…¥è´¦å·å’Œå¯†ç ä¹‹åå°±ä¸ç”¨å†è¾“å…¥äº†ã€‚\n  Git push existing repo to a new and different remote repo server? éœ€æ±‚ï¼šä»å…¬å¸çš„è´¦æˆ· clone repo åˆ°æœ¬åœ°ï¼Œæ·»åŠ æ³¨é‡Šï¼Œpull åˆ°è‡ªå·±è´¦æˆ·çš„ç§æœ‰ repo ä¸­ã€‚\n Create a new repo at github. git remote rename origin upstream git remote add origin URL_TO_GITHUB_REPO git push origin master  Now you can work with it just like any other github repo. To pull in patches from upstream, simply run git pull upstream master \u0026amp;\u0026amp; git push origin master.\nåˆ†æ”¯ åˆ›å»ºå¹¶åˆ‡æ¢åˆ†æ”¯ # åˆ‡æ¢åˆ†æ”¯ï¼Œå¹¶æ›´æ–°å·¥ä½œåŒº git checkout branchName\t#åˆ‡æ¢è‡³ä¸Šä¸€åˆ†æ”¯ git checkout -\t# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯ git checkout -b branchName\t# æ–°å»ºæœ¬åœ°åˆ†æ”¯ï¼Œä½†ä¸åˆ‡æ¢ git branch \u0026lt;branch-name\u0026gt; # æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŒ‡å®šcommit git branch [branch] [commit]\t# æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä¸æŒ‡å®šçš„è¿œç¨‹åˆ†æ”¯å»ºç«‹è¿½è¸ªå…³ç³» git branch --track [branch] [remote-branch]\tä»¥å›¾è¡¨å½¢å¼æŸ¥çœ‹åˆ†æ”¯ git log --graph æ˜¾ç¤ºåˆ†æ”¯ # åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯ git branch\t# åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯ git branch -r\t# åŒæ—¶æ˜¾ç¤ºæœ¬åœ°ä»“åº“å’Œè¿œç¨‹ä»“åº“çš„åˆ†æ”¯ä¿¡æ¯ git branch -a\t# ç”¨äºåˆ›å»ºåˆ†æ”¯ git branch branchName\t# æœ¬åœ°åˆ†æ”¯å¯¹åº”å“ªä¸ªè¿œç¨‹åˆ†æ”¯ git branch -vv åˆå¹¶åˆ†æ”¯  --no-ff ç”¨äºè®°å½•æœ¬æ¬¡åˆ†æ”¯åˆå¹¶ æ¶ˆé™¤å†²çªï¼šæ‰“å¼€å†²çªçš„æ–‡ä»¶ï¼Œåœ¨ç¼–è¾‘å™¨ä¸­æ”¹ä¸ºæƒ³è¦çš„æ ·å­  git merge [--no-ff] branchName\t# åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯ git cherry-pick [commit]\t# é€‰æ‹©ä¸€ä¸ª commitï¼Œåˆå¹¶è¿›å½“å‰åˆ†æ”¯ åˆ é™¤åˆ†æ”¯   åˆ é™¤åˆ†æ”¯\n# åˆ é™¤æœ¬åœ°åˆ†æ”¯ git branch -d [branch-name]   åˆ é™¤è¿œç¨‹åˆ†æ”¯\ngit push origin --delete [branch-name] git branch -dr [remote/branch]   æ’¤é”€å·¥ä½œåŒºçš„æ–‡ä»¶ä¿®æ”¹   å…ˆæ‰¾æš‚å­˜åŒºï¼Œå¦‚æœè¯¥æ–‡ä»¶æœ‰æš‚å­˜çš„ç‰ˆæœ¬ï¼Œåˆ™æ¢å¤è¯¥ç‰ˆæœ¬ï¼Œå¦åˆ™æ¢å¤ä¸Šä¸€æ¬¡æäº¤çš„ç‰ˆæœ¬\ngit checkout -- [filename]   æ¢å¤æŸä¸ª commit çš„æŒ‡å®šæ–‡ä»¶åˆ°æš‚å­˜åŒºå’Œå·¥ä½œåŒº\ngit checkout [commit] [file]   æ¢å¤æš‚å­˜åŒºçš„æ‰€æœ‰æ–‡ä»¶åˆ°å·¥ä½œåŒº\ngit checkout .   åˆ†æ”¯é‡å‘½å   é‡å‘½åæœ¬åœ°åˆ†æ”¯ï¼š\n  åœ¨å½“å‰åˆ†æ”¯æ—¶\ngit branch -m new_branch_name   å½“ä¸åœ¨å½“å‰åˆ†æ”¯æ—¶\ngit branch -m old_branch_name new_branch_name     é‡å‘½åè¿œç«¯åˆ†æ”¯ï¼š\nå‡è®¾æ˜¯åœ¨å½“å‰åˆ†æ”¯ï¼Œå¹¶ä¸”è¿œç«¯åˆ†æ”¯ä¸æœ¬åœ°åˆ†æ”¯åæ˜¯ä¸€è‡´çš„é‡å‘½åæœ¬åœ°åˆ†æ”¯\ngit branch -m new_branch_name åˆ é™¤è¿œç¨‹åˆ†æ”¯\ngit push --delete origin old_branch_name ä¸Šä¼ æ–°å‘½åçš„æœ¬åœ°åˆ†æ”¯\ngit push origin new_branch_name å…³è”ä¿®æ”¹åçš„æœ¬åœ°åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯\ngit branch --set-upstream-to origin/new_branch_name   æ ‡ç­¾   åˆ—å‡ºæ‰€æœ‰ tag\ngit tag   æ–°å»ºä¸€ä¸ª tag åœ¨å½“å‰commit\ngit tag [tag]   æ–°å»ºä¸€ä¸ªtagåœ¨æŒ‡å®šcommit\ngit tag [tag] [commit]   åˆ é™¤æœ¬åœ° tag\ngit tag -d [tag]   åˆ é™¤è¿œç¨‹ tag\ngit push origin :refs/tags/[tagName]   æŸ¥çœ‹ tag ä¿¡æ¯\ngit show [tag]   æäº¤æŒ‡å®š tag\ngit push [remote] [tag]   æäº¤æ‰€æœ‰tag\ngit push [remote] --tags   æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼ŒæŒ‡å‘æŸä¸ªtag\ngit checkout -b [branch] [tag]   Git Ignore git ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ä¸ª .gitignore æ–‡ä»¶ï¼Œåªè¦åœ¨è¿™ä¸ªæ–‡ä»¶ä¸­ç”³æ˜å“ªäº›æ–‡ä»¶ä½ ä¸å¸Œæœ›æ·»åŠ åˆ°gitä¸­å»ï¼Œè¿™æ ·å½“ä½ ä½¿ç”¨ git add . çš„æ—¶å€™è¿™äº›æ–‡ä»¶å°±ä¼šè¢«è‡ªåŠ¨å¿½ç•¥æ‰ã€‚\nç»å®éªŒï¼Œå¯ä»¥ä¸ºæ¯ä¸€ä¸ªå¹³è¡ŒéåŒ…å«çš„ç›®å½•è®¾å®šä¸€ä¸ª .gitignoreã€‚\nPull Request å½“ä½ æƒ³æ›´æ­£åˆ«äººä»“åº“é‡Œçš„é”™è¯¯æ—¶ï¼Œè¦èµ°ä¸€ä¸ªæµç¨‹ï¼š\n å…ˆ fork åˆ«äººçš„ä»“åº“ï¼Œç›¸å½“äºæ‹·è´ä¸€ä»½ï¼Œç›¸ä¿¡æˆ‘ï¼Œä¸ä¼šæœ‰äººç›´æ¥è®©ä½ æ”¹ä¿®åŸä»“åº“çš„ã€‚ clone åˆ°æœ¬åœ°åˆ†æ”¯ï¼Œåšä¸€äº› bug fixã€‚ å‘èµ· pull request ç»™åŸä»“åº“ï¼Œè®©ä»–çœ‹åˆ°ä½ ä¿®æ”¹çš„ bugã€‚ åŸä»“åº“ review è¿™ä¸ª bugï¼Œå¦‚æœæ˜¯æ­£ç¡®çš„è¯ï¼Œå°±ä¼š merge åˆ°ä»–è‡ªå·±çš„é¡¹ç›®ä¸­  è‡³æ­¤ï¼Œæ•´ä¸ª pull request çš„è¿‡ç¨‹å°±ç»“æŸäº†ã€‚\næ‹‰å–è¯·æ±‚ï¼Œå°±æ˜¯è¯·æ±‚å¯¹æ–¹æ‹‰å–æˆ‘æœ¬åœ°ä»“åº“çš„ bug fixï¼Œåˆå¹¶åˆ°å¯¹æ–¹çš„ repo ä¸­ã€‚ä»¥å¯¹æ–¹çš„è§†è§’æ¥çœ‹ï¼Œæˆ‘çš„æœ¬åœ°ä»“åº“å°±æ˜¯ä¸€ä¸ªè¿œç¨‹ä»“åº“ã€‚å› ä¸ºæˆ‘ä»¬æ˜¯åœ¨è¯·æ±‚å¯¹æ–¹åšä»€ä¹ˆï¼Œæ‰€ä»¥è¦ä»¥å¯¹æ–¹è§†è§’æ¥çœ‹ï¼Œå³ pullï¼Œå› ä¸ºå¯¹æ–¹å¯èƒ½åŒæ„ï¼Œä¹Ÿå¯èƒ½ä¸åŒæ„ï¼Œæ‰€ä»¥æ˜¯è¯·æ±‚ï¼Œå³ pull requestã€‚\nGitHub Hosts GitHub520 æœ¬é¡¹ç›®æ— éœ€å®‰è£…ä»»ä½•ç¨‹åºï¼Œé€šè¿‡ä¿®æ”¹æœ¬åœ° hosts æ–‡ä»¶ï¼Œè¯•å›¾è§£å†³ï¼š\n GitHub è®¿é—®é€Ÿåº¦æ…¢çš„é—®é¢˜ GitHub é¡¹ç›®ä¸­çš„å›¾ç‰‡æ˜¾ç¤ºä¸å‡ºçš„é—®é¢˜  èŠ± 5 åˆ†é’Ÿæ—¶é—´ï¼Œè®©ä½ \u0026quot;çˆ±\u0026quot;ä¸Š GitHubã€‚\n# GitHub520 Host Start 140.82.112.26 alive.github.com 140.82.114.25 live.github.com 185.199.108.154 github.githubassets.com 140.82.113.22 central.github.com 185.199.108.133 desktop.githubusercontent.com 185.199.108.153 assets-cdn.github.com 185.199.108.133 camo.githubusercontent.com 185.199.108.133 github.map.fastly.net 199.232.69.194 github.global.ssl.fastly.net 140.82.113.4 gist.github.com 185.199.108.153 github.io 140.82.114.3 github.com 140.82.114.5 api.github.com 185.199.108.133 raw.githubusercontent.com 185.199.108.133 user-images.githubusercontent.com 185.199.108.133 favicons.githubusercontent.com 185.199.108.133 avatars5.githubusercontent.com 185.199.108.133 avatars4.githubusercontent.com 185.199.108.133 avatars3.githubusercontent.com 185.199.108.133 avatars2.githubusercontent.com 185.199.108.133 avatars1.githubusercontent.com 185.199.108.133 avatars0.githubusercontent.com 185.199.108.133 avatars.githubusercontent.com 140.82.112.10 codeload.github.com 52.216.170.203 github-cloud.s3.amazonaws.com 52.217.98.76 github-com.s3.amazonaws.com 52.216.164.3 github-production-release-asset-2e65be.s3.amazonaws.com 52.216.160.147 github-production-user-asset-6210df.s3.amazonaws.com 52.217.103.12 github-production-repository-file-5c1aeb.s3.amazonaws.com 185.199.108.153 githubstatus.com 64.71.168.201 github.community 185.199.108.133 media.githubusercontent.com # Update time: 2021-07-04T08:07:49+08:00 # Star me GitHub url: https://github.com/521xueweihan/GitHub520 # GitHub520 Host End GitHub Pages ä½¿ç”¨ GitHub GitHub Pages æ˜¯ä¸€é¡¹é™æ€ç«™ç‚¹æ‰˜ç®¡æœåŠ¡ï¼Œå®ƒç›´æ¥ä» GitHub ä¸Šçš„ä»“åº“è·å– HTMLã€CSS å’Œ JavaScript æ–‡ä»¶ï¼Œï¼ˆå¯é€‰ï¼‰é€šè¿‡æ„å»ºè¿‡ç¨‹è¿è¡Œæ–‡ä»¶ï¼Œç„¶åå‘å¸ƒç½‘ç«™ã€‚\næœ‰ä¸‰ç§ç±»å‹çš„ GitHub Pages ç«™ç‚¹ï¼šé¡¹ç›®ã€ç”¨æˆ·å’Œç»„ç»‡ã€‚ é¡¹ç›®ç«™ç‚¹è¿æ¥åˆ° GitHub ä¸Šæ‰˜ç®¡çš„ç‰¹å®šé¡¹ç›®ã€‚ ç”¨æˆ·å’Œç»„ç»‡ç«™ç‚¹è¿æ¥åˆ°ç‰¹å®šçš„ GitHub å¸æˆ·ã€‚\nTo publish a user site, you must create a repository owned by your user account that\u0026rsquo;s named \u0026lt;username.github.io\u0026gt;. Repositories using the legacy \u0026lt;username.github.com\u0026gt; naming scheme will still be published, but visitors will be redirected from http(s)://\u0026lt;username.github.com\u0026gt; to http(s)://\u0026lt;username.github.io. If both a \u0026lt;username.github.com\u0026gt; and \u0026lt;username.github.io\u0026gt; repository exist, only the \u0026lt;username.github.io\u0026gt; repository will be published.\nGitHub Pages sites are publicly available on the internet, even if the repository for the site is private or internal. å¦‚æœç«™ç‚¹çš„ä»“åº“ä¸­æœ‰æ•æ„Ÿæ•°æ®ï¼Œæ‚¨å¯èƒ½æƒ³è¦åœ¨å‘å¸ƒå‰åˆ é™¤å®ƒã€‚\nGitHub Pages ç«™ç‚¹çš„å‘å¸ƒæ¥æºæ˜¯å­˜å‚¨ç«™ç‚¹æºæ–‡ä»¶çš„åˆ†æ”¯å’Œæ–‡ä»¶å¤¹ã€‚ç”¨æˆ·å’Œç»„ç»‡ç«™ç‚¹çš„é»˜è®¤å‘å¸ƒæºæ˜¯ä»“åº“é»˜è®¤åˆ†æ”¯çš„æ ¹ç›®å½•ã€‚ é¡¹ç›®ç«™ç‚¹çš„é»˜è®¤å‘å¸ƒæ¥æºæ˜¯ gh-pages åˆ†æ”¯çš„æ ¹ç›®å½•ã€‚\næ‚¨å¯ä»¥åˆ›å»ºè‡ªå·±çš„é™æ€æ–‡ä»¶æˆ–ä½¿ç”¨é™æ€ç«™ç‚¹ç”Ÿæˆå™¨ä¸ºæ‚¨æ„å»ºç«™ç‚¹ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼ŒGitHub Pages å°†ä½¿ç”¨ Jekyll æ¥æ„å»ºæ‚¨çš„ç«™ç‚¹ã€‚\nGitHub Pages ç«™ç‚¹å—åˆ°ä»¥ä¸‹ä½¿ç”¨é™åˆ¶çš„çº¦æŸï¼š\n GitHub Pages source repositories have a recommended limit of 1GB. å‘å¸ƒçš„ GitHub Pages ç«™ç‚¹ä¸å¾—è¶…è¿‡ 1 GBã€‚ GitHub Pages sites have a soft bandwidth limit of 100GB per month. GitHub Pages sites have a soft limit of 10 builds per hour.  å¯åœ¨ Repository çš„ Settings ä¸­é…ç½® GitHub Pages ç«™ç‚¹çš„å‘å¸ƒæºæˆ–å–æ¶ˆå‘å¸ƒ GitHub Pages ç«™ç‚¹ã€‚\nä½¿ç”¨ jekyll Github Docs ä¸ Jekyll æ–‡æ¡£ä¸ä¸€è‡´ï¼ŒWindows å¹¶æœªæ­£å¼æ”¯æŒ Jekyllã€‚\nä½¿ç”¨ Hexo æˆ‘é€‰æ‹© Hexoï¼Œä¸€ä¸ªæ˜¯å®‰è£…ç®€å•ï¼›ä¸€ä¸ªæ˜¯æ–‡æ¡£å¥½ã€‚\nGitHub Actions GitHub Actions æ˜¯ä»€ä¹ˆ æŒç»­é›†æˆç”±å¾ˆå¤šæ“ä½œç»„æˆï¼Œæ¯”å¦‚è‡ªåŠ¨æŠ“å–ä»£ç ã€è¿è¡Œæµ‹è¯•ã€ç™»å½•è¿œç¨‹æœåŠ¡å™¨ã€å‘å¸ƒåˆ°ç¬¬ä¸‰æ–¹æœåŠ¡ç­‰ã€‚GitHub æŠŠè¿™äº›æ“ä½œå°±ç§°ä¸º actionsã€‚\nå¾ˆå¤šæ“ä½œåœ¨ä¸åŒé¡¹ç›®é‡Œé¢æ˜¯ç±»ä¼¼çš„ï¼Œå¯ä»¥å…±äº«ã€‚GitHub å…è®¸å¼€å‘è€…æŠŠæ¯ä¸ªæ“ä½œå†™æˆç‹¬ç«‹çš„è„šæœ¬æ–‡ä»¶ï¼Œå­˜æ”¾åˆ°ä»£ç ä»“åº“ï¼Œä½¿å¾—å…¶ä»–å¼€å‘è€…å¯ä»¥å¼•ç”¨ã€‚\nå¯åœ¨å®˜æ–¹å¸‚åœºä¸ awesome actions æ‰¾ actionã€‚\nworkflow æ–‡ä»¶ GitHub Actions çš„é…ç½®æ–‡ä»¶å«åš workflow æ–‡ä»¶ï¼Œå­˜æ”¾åœ¨ä»£ç ä»“åº“çš„ .github/workflows ç›®å½•ã€‚\nworkflow æ–‡ä»¶é‡‡ç”¨ YAML æ ¼å¼ï¼Œä¸€ä¸ªåº“å¯ä»¥æœ‰å¤šä¸ª workflow æ–‡ä»¶ã€‚GitHub å‘ç° .github/workflows ç›®å½•é‡Œæœ‰ .yml æ–‡ä»¶ï¼Œå°±ä¼šè‡ªåŠ¨è¿è¡Œè¯¥æ–‡ä»¶ã€‚\né…ç½®å­—æ®µï¼š\n  nameï¼šå·¥ä½œæµç¨‹çš„åç§°ã€‚å¦‚æœçœç•¥ nameï¼ŒGitHub å°†å…¶è®¾ç½®ä¸ºç›¸å¯¹äºä»“åº“æ ¹ç›®å½•çš„å·¥ä½œæµç¨‹æ–‡ä»¶è·¯å¾„\n  onï¼šå¿…è¦ï¼Œè§¦å‘å·¥ä½œæµç¨‹çš„ GitHub äº‹ä»¶çš„åç§°\non: [push, pull_request]   on.\u0026lt;push|pull_request\u0026gt;.\u0026lt;branches|tags\u0026gt;ï¼šæ‚¨å¯ä»¥å°†å·¥ä½œæµé…ç½®ä¸ºåœ¨ç‰¹å®šåˆ†æ”¯æˆ–æ ‡è®°ä¸Šè¿è¡Œ\non: push: branches: - main - \u0026#39;mona/octocat\u0026#39; - \u0026#39;releases/**\u0026#39; tags: - v1 - v1.*    jobsï¼šå·¥ä½œæµç¨‹è¿è¡ŒåŒ…æ‹¬ä¸€é¡¹æˆ–å¤šé¡¹ä½œä¸šã€‚æ¯é¡¹ä½œä¸šå¿…é¡»å…³è”ä¸€ä¸ª ID\n  jobs.\u0026lt;job_id\u0026gt;.nameï¼šjob_id é‡Œé¢çš„ name å­—æ®µæ˜¯ä»»åŠ¡çš„è¯´æ˜\njobs: my_first_job: name: My first job my_second_job: name: My second job   jobs.\u0026lt;job_id\u0026gt;.needsï¼šä½œä¸šé»˜è®¤æ˜¯å¹¶è¡Œè¿è¡Œã€‚needså­—æ®µæŒ‡å®šå½“å‰ä»»åŠ¡çš„è¿è¡Œé¡ºåº\njobs: job1: job2: needs: job1 job3: needs: [job1, job2] æ­¤ä¾‹ä¸­ä½œä¸šæ‰§è¡Œé¡ºåºï¼šjob1ã€job2ã€job3\n  jobs.\u0026lt;job_id\u0026gt;.runs-onï¼šå¿…éœ€ï¼Œè¿è¡Œä½œä¸šçš„æœºå™¨ç±»å‹\nruns-on: ubuntu-latest     jobs.\u0026lt;job_id\u0026gt;.stepsï¼šä½œä¸šåŒ…å«ä¸€ç³»åˆ—ä»»åŠ¡ï¼Œç§°ä¸º steps\n  jobs.\u0026lt;job_id\u0026gt;.steps.nameï¼šæ­¥éª¤åç§°\n  jobs.\u0026lt;job_id\u0026gt;.steps.usesï¼šå¼•ç”¨çš„ Actions\nsteps: # Reference a specific commit - uses: actions/setup-node@74bc508 # Reference a minor version of a release - uses: actions/setup-node@v1.2 # Reference a branch - uses: actions/setup-node@main   jobs.\u0026lt;job_id\u0026gt;.steps.runï¼šä½¿ç”¨æ“ä½œç³»ç»Ÿ shell è¿è¡Œå‘½ä»¤è¡Œç¨‹åº\n- name: Clean install dependencies and build run: |npm ci npm run build     å‚è€ƒ GitHub Actions å…¥é—¨æ•™ç¨‹\nGitHub Actions\næŒç»­é›†æˆï¼ˆContinuous integrationï¼Œç®€ç§°CIï¼‰ æ¦‚å¿µ æŒç»­é›†æˆæŒ‡çš„æ˜¯ï¼Œé¢‘ç¹åœ°ï¼ˆä¸€å¤©å¤šæ¬¡ï¼‰å°†ä»£ç åˆå¹¶ï¼ˆé›†æˆï¼‰åˆ°ä¸»å¹²æºç ä»“åº“ã€‚åœ¨ CI ä¸­å¯ä»¥é€šè¿‡è‡ªåŠ¨åŒ–ç­‰æ‰‹æ®µé«˜é¢‘ç‡åœ°å»è·å–äº§å“åé¦ˆå¹¶å“åº”åé¦ˆçš„è¿‡ç¨‹ã€‚\næµç¨‹  æäº¤ï¼šå¼€å‘è€…å‘ä»£ç ä»“åº“æäº¤ä»£ç  æµ‹è¯•ï¼ˆç¬¬ä¸€è½®ï¼‰ï¼šä»£ç ä»“åº“å¯¹æäº¤çš„ä»£ç è·‘è‡ªåŠ¨åŒ–æµ‹è¯•  å•å…ƒæµ‹è¯•ï¼šé’ˆå¯¹å‡½æ•°æˆ–æ¨¡å—çš„æµ‹è¯• é›†æˆæµ‹è¯•ï¼šé’ˆå¯¹æ•´ä½“äº§å“çš„æŸä¸ªåŠŸèƒ½çš„æµ‹è¯•ï¼Œåˆç§°åŠŸèƒ½æµ‹è¯• ç«¯å¯¹ç«¯æµ‹è¯•ï¼šä»ç”¨æˆ·ç•Œé¢ç›´è¾¾æ•°æ®åº“çš„å…¨é“¾è·¯æµ‹è¯•   æ„å»ºï¼šå°†æºç è½¬æ¢ä¸ºå¯ä»¥è¿è¡Œçš„å®é™…ä»£ç ï¼Œä¼šå®‰è£…ä¾èµ–ï¼Œé…ç½®å„ç§èµ„æºç­‰ã€‚å¸¸ç”¨çš„æ„å»ºå·¥å…·å¦‚ä¸‹  Jenkinsï¼šå¼€æº Travis Codeship Striderï¼šå¼€æº   æµ‹è¯•ï¼ˆç¬¬äºŒè½®ï¼‰ï¼šç¬¬äºŒè½®æ˜¯å…¨é¢æµ‹è¯• éƒ¨ç½²ï¼šç›´æ¥éƒ¨ç½² å›æ»šï¼šå½“å‰ç‰ˆæœ¬å‘ç”Ÿé—®é¢˜ï¼Œå›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬çš„æ„å»ºç»“æœ  Commit message ç¤¾åŒºæœ‰å¤šç§ Commit Message Conventionsã€‚æœ¬æ–‡ä»‹ç» Angular è§„èŒƒã€‚\næ ¼å¼åŒ–çš„ Commit message å¥½å¤„   æä¾›æ›´å¤šçš„å†å²ä¿¡æ¯ï¼Œæ–¹ä¾¿æµè§ˆ\ngit log HEAD --pretty=format:%s   å¯ä»¥è¿‡æ»¤æŸäº› commitï¼Œä¾¿äºæŸ¥æ‰¾ä¿¡æ¯\ngit log HEAD --grep feature   å¯ä»¥ç›´æ¥ä» commit ç”Ÿæˆ Change Log\n  Commit message çš„æ ¼å¼ \u0026lt;type\u0026gt;(\u0026lt;scope\u0026gt;): \u0026lt;subject\u0026gt; // ç©ºä¸€è¡Œ \u0026lt;body\u0026gt; // ç©ºä¸€è¡Œ \u0026lt;footer\u0026gt;   Header åªæœ‰ä¸€è¡Œ\n type ç”¨äºè¯´æ˜ commit çš„ç±»åˆ«  featï¼šæ–°åŠŸèƒ½ fixï¼šä¿®è¡¥bug docsï¼šæ–‡æ¡£ styleï¼š æ ¼å¼ refactorï¼šé‡æ„ testï¼šå¢åŠ æµ‹è¯• choreï¼šæ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨ Revertï¼šå½“å‰ commit ç”¨äºæ’¤é”€ä»¥å‰çš„ commit   scope ç”¨äºè¯´æ˜ commit å½±å“çš„èŒƒå›´ subject æ˜¯ commit ç›®çš„çš„ç®€çŸ­æè¿°  ä»¥åŠ¨è¯å¼€å¤´ï¼Œä½¿ç”¨ç¬¬ä¸€äººç§°ç°åœ¨æ—¶ ç¬¬ä¸€ä¸ªå­—æ¯å°å†™ ç»“å°¾ä¸åŠ å¥å·      Body éƒ¨åˆ†æ˜¯å¯¹æœ¬æ¬¡ commit çš„è¯¦ç»†æè¿°\n  Footer\n  ä¸å…¼å®¹å˜åŠ¨ï¼šå¦‚æœå½“å‰ä»£ç ä¸ä¸Šä¸€ä¸ªç‰ˆæœ¬ä¸å…¼å®¹ï¼Œåˆ™ä»¥ BREAKING CHANGE å¼€å¤´ï¼Œåé¢æ˜¯å¯¹å˜åŠ¨çš„æè¿°ã€ä»¥åŠå˜åŠ¨ç†ç”±å’Œè¿ç§»æ–¹æ³•\n  å…³é—­ Issueï¼šå¦‚æœå½“å‰ commit é’ˆå¯¹æŸä¸ªissueï¼Œé‚£ä¹ˆå¯ä»¥åœ¨ Footer éƒ¨åˆ†å…³é—­è¿™ä¸ª issue\nCloses #123, #245, #992     Commitizen Commitizen æ˜¯ä¸€ä¸ªæ’°å†™ Commit message çš„å·¥å…·\n  Install the Commitizen cli tools\nnpm install commitizen -g   Initialize your project to use the cz-conventional-changelog adapter\ncommitizen init cz-conventional-changelog --save-dev --save-exact   ä»¥åï¼Œå‡¡æ˜¯ç”¨åˆ° git commit å‘½ä»¤ï¼Œä¸€å¾‹æ”¹ä¸ºä½¿ç”¨ git czã€‚\n  å‚è€ƒ Commit message å’Œ Change log ç¼–å†™æŒ‡å—\nYAMLï¼ˆYAML Ain\u0026rsquo;t a Markup Languageï¼‰ YAML æ˜¯ä¸“é—¨ç”¨æ¥å†™é…ç½®æ–‡ä»¶çš„è¯­è¨€\nç®€ä»‹ è§„åˆ™ï¼š\n å¤§å°å†™æ•æ„Ÿ ä½¿ç”¨ç¼©è¿›è¡¨ç¤ºå±‚çº§å…³ç³» ç¼©è¿›æ—¶ä¸å…è®¸ä½¿ç”¨ Tab é”®ï¼Œåªå…è®¸ä½¿ç”¨ç©ºæ ¼ã€‚ ç¼©è¿›çš„ç©ºæ ¼æ•°ç›®ä¸é‡è¦ï¼Œåªè¦ç›¸åŒå±‚çº§çš„å…ƒç´ å·¦ä¾§å¯¹é½å³å¯ # è¡¨ç¤ºæ³¨é‡Šï¼Œä»è¿™ä¸ªå­—ç¬¦ä¸€ç›´åˆ°è¡Œå°¾ï¼Œéƒ½ä¼šè¢«è§£æå™¨å¿½ç•¥ å¯¹è±¡å’Œæ•°ç»„å¯ä»¥ç»“åˆä½¿ç”¨ï¼Œå½¢æˆå¤åˆç»“æ„  å¯¹è±¡ ä¸€ç»„é”®å€¼å¯¹\nanimal: pets è¡Œå†…è¡¨ç¤ºæ³•\nhash: { name: Steve, foo: bar }  æ•°ç»„ ä¸€ç»„è¿è¯çº¿å¼€å¤´çš„è¡Œ\n- Cat - Dog - Goldfish æ•°æ®ç»“æ„çš„å­æˆå‘˜æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œåˆ™å¯ä»¥åœ¨è¯¥é¡¹ä¸‹é¢ç¼©è¿›ä¸€ä¸ªç©ºæ ¼\n- - Cat - Dog - Goldfish è¡Œå†…è¡¨ç¤ºæ³•\nanimal: [Cat, Dog] çº¯é‡   å­—ç¬¦ä¸²ï¼šå­—ç¬¦ä¸²é»˜è®¤ä¸ä½¿ç”¨å¼•å·è¡¨ç¤º\nstr: è¿™æ˜¯ä¸€è¡Œå­—ç¬¦ä¸² åŒ…å«ç©ºæ ¼æˆ–ç‰¹æ®Šå­—ç¬¦ï¼Œéœ€è¦æ”¾åœ¨å¼•å·ä¹‹ä¸­ï¼Œå•å¼•å·å’ŒåŒå¼•å·éƒ½å¯ä»¥ä½¿ç”¨ï¼ŒåŒå¼•å·ä¸ä¼šå¯¹ç‰¹æ®Šå­—ç¬¦è½¬ä¹‰\nstr: \u0026#39;å†…å®¹ï¼š å­—ç¬¦ä¸²\u0026#39; å•å¼•å·ä¹‹ä¸­å¦‚æœè¿˜æœ‰å•å¼•å·ï¼Œå¿…é¡»è¿ç»­ä½¿ç”¨ä¸¤ä¸ªå•å¼•å·è½¬ä¹‰\nstr: \u0026#39;labor\u0026#39;\u0026#39;s day\u0026#39; å­—ç¬¦ä¸²å¯ä»¥å†™æˆå¤šè¡Œï¼Œä»ç¬¬äºŒè¡Œå¼€å§‹ï¼Œå¿…é¡»æœ‰ä¸€ä¸ªå•ç©ºæ ¼ç¼©è¿›ã€‚æ¢è¡Œç¬¦ä¼šè¢«è½¬ä¸ºç©ºæ ¼\nstr: è¿™æ˜¯ä¸€æ®µ å¤šè¡Œ å­—ç¬¦ä¸² å¤šè¡Œå­—ç¬¦ä¸²å¯ä»¥ä½¿ç”¨|ä¿ç•™æ¢è¡Œç¬¦ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨\u0026gt;æŠ˜å æ¢è¡Œ\nthis: |Foo Bar that: \u0026gt;Foo Bar +è¡¨ç¤ºä¿ç•™æ–‡å­—å—æœ«å°¾çš„æ¢è¡Œï¼Œ-è¡¨ç¤ºåˆ é™¤å­—ç¬¦ä¸²æœ«å°¾çš„æ¢è¡Œ\ns1: | Foo s2: |+ Foo s3: |- Foo å­—ç¬¦ä¸²ä¹‹ä¸­å¯ä»¥æ’å…¥ HTML æ ‡è®°\nmessage: | \u0026lt;p style=\u0026#34;color: red\u0026#34;\u0026gt; æ®µè½ \u0026lt;/p\u0026gt;   å‚è€ƒ YAML è¯­è¨€æ•™ç¨‹\nThe Official YAML Web Site\nå¼€æºè®¸å¯è¯ ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè½¯ä»¶çš„æºä»£ç åªç”±ç¼–å†™è€…æ‹¥æœ‰ï¼Œè€Œå¼€æºï¼ˆå³å¼€æ”¾æºä»£ç ï¼ŒOpen Source Codeï¼‰æ˜¯æŒ‡ä¸€ç§æ›´è‡ªç”±çš„è½¯ä»¶å‘å¸ƒæ¨¡å¼ã€‚ç®€å•æ¥è¯´ï¼Œå¼€æºè½¯ä»¶çš„ç‰¹ç‚¹å°±æ˜¯æŠŠè½¯ä»¶ç¨‹åºå’Œæºä»£ç æ–‡ä»¶ä¸€èµ·æ‰“åŒ…æä¾›ç»™ç”¨æˆ·ï¼Œè®©ç”¨æˆ·åœ¨ä¸å—é™åˆ¶åœ°ä½¿ç”¨æŸä¸ªè½¯ä»¶åŠŸèƒ½çš„åŸºç¡€ä¸Šè¿˜å¯ä»¥å¯¹ä»£ç æŒ‰éœ€ä¿®æ”¹ï¼Œè®©è½¯ä»¶æ›´è´´åˆç¡¬ä»¶ç¯å¢ƒï¼Œè®©åŠŸèƒ½æ›´ç¬¦åˆå·¥ä½œéœ€æ±‚ã€‚ç”¨æˆ·è¿˜å¯ä»¥å°†å…¶ç¼–åˆ¶æˆè¡ç”Ÿäº§å“å†å‘å¸ƒå‡ºå»ã€‚ç”¨æˆ·ä¸€èˆ¬äº«æœ‰ä½¿ç”¨è‡ªç”±ã€å¤åˆ¶è‡ªç”±ã€ä¿®æ”¹è‡ªç”±ã€åˆ›å»ºè¡ç”Ÿå“è‡ªç”±ï¼Œä»¥åŠæ”¶è´¹è‡ªç”±ã€‚æ˜¯çš„ï¼Œæ‚¨æ²¡æœ‰çœ‹é”™ï¼Œç”¨æˆ·å…·å¤‡åˆ›å»ºè¡ç”Ÿå“å’Œæ”¶è´¹çš„è‡ªç”±ã€‚è¿™ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯ä»¥å¯¹ä¸€ä¸ªå¼€æºè½¯ä»¶è¿›è¡Œæ·±åº¦å®šåˆ¶åŒ–åŠ å·¥ã€‚å¦‚æœä¿®æ”¹è¿‡çš„ç¨‹åºæ›´åŠ å¥½ç”¨ï¼Œæˆ–è€…é¢‡å…·æ–°çš„ç‰¹è‰²ï¼Œåªè¦ç¬¦åˆåŸä½œè€…çš„è®¸å¯è¦æ±‚ï¼Œæˆ‘ä»¬å°±å®Œå…¨å¯ä»¥åˆæ³•åœ°å°†è½¯ä»¶è¿›è¡Œå•†æ ‡æ³¨å†Œï¼Œä»¥å•†ä¸šç‰ˆçš„å½¢å¼å†å‘å¸ƒå‡ºå»ï¼Œåªè¦æœ‰æ–°ç”¨æˆ·ä½¿ç”¨æ‚¨çš„è½¯ä»¶å¹¶æ”¯ä»˜ç›¸åº”çš„è´¹ç”¨ï¼Œé‚£å°±æ˜¯æ‚¨çš„æ”¶å…¥ã€‚è¿™ä¹Ÿæ­£å¥½ç¬¦åˆäº†é»‘å®¢å’Œæå®¢å¯¹è‡ªç”±çš„è¿½æ±‚ï¼Œå› æ­¤åœ¨åˆä½œä¸ç«äº‰ä¸­ï¼Œå›½å†…å¤–çš„å¼€æºç¤¾åŒºæ…¢æ…¢ç”Ÿé•¿å‡ºäº†å¼ºå¥çš„æ ¹åŸºï¼Œäººæ°”ä¹Ÿéå¸¸é«˜ã€‚\nä½†æ˜¯ï¼Œå¦‚æœå¼€æºè½¯ä»¶åªå•çº¯è¿½æ±‚â€œè‡ªç”±â€è€Œç‰ºç‰²äº†ç¨‹åºå‘˜çš„åˆ©ç›Šï¼Œè¿™è‚¯å®šä¼šå½±å“ç¨‹åºå‘˜çš„åˆ›ä½œçƒ­æƒ…ã€‚ä¸ºäº†å¹³è¡¡ä¸¤è€…çš„å…³ç³»ï¼Œæˆªè‡³ç›®å‰ï¼Œä¸–ç•Œä¸Šå·²ç»æœ‰100å¤šç§è¢«å¼€æºä¿ƒè¿›ç»„ç»‡ï¼ˆOSIï¼ŒOpen Source Initiativeï¼‰ç¡®è®¤çš„å¼€æºè®¸å¯è¯ï¼Œç”¨äºä¿æŠ¤å¼€æºå·¥ä½œè€…çš„æƒç›Šã€‚å¯¹äºé‚£äº›åªçŸ¥é“ä¸€å‘³æŠ„è¢­ã€ç¯¡æ”¹ã€ç ´è§£æˆ–è€…ç›—ç‰ˆä»–äººä½œå“çš„ä¸æ³•ä¹‹å¾’ï¼Œç»ˆå½’ä¼šåœ¨æŸä¸€å¤©æ”¶åˆ°æ³•é™¢çš„ä¼ ç¥¨ã€‚\nè€ƒè™‘åˆ°å¤§å®¶æ²¡å‡†å„¿ä»¥åä¼šä»¥å¼€æºå·¥ä½œè€…çš„èº«ä»½ç¼–å†™å‡ºä¸€æ¬¾ç•…é”€è½¯ä»¶ï¼Œå› æ­¤åˆ˜é„è€å¸ˆæ ¹æ®å¼€æºä¿ƒè¿›ç»„ç»‡çš„æ¨èå»ºè®®ä»¥åŠå®é™…ä½¿ç”¨æƒ…å†µï¼Œä¸ºå¤§å®¶ç­›é€‰å‡ºäº†ç¨‹åºå‘˜æœ€å–œæ¬¢çš„å‰6åçš„å¼€æºè®¸å¯è¯ï¼Œå¹¶æ•™å¤§å®¶æ€ä¹ˆä»ä¸­è¿›è¡Œé€‰æ‹©ã€‚æå‰äº†è§£æœ€çƒ­é—¨çš„å¼€æºè®¸å¯è¯ï¼Œå¹¶åœ¨æœªæ¥é€‰æ‹©ä¸€ä¸ªåˆé€‚çš„å¯æœ€å¤§ç¨‹åº¦åœ°ä¿æŠ¤è‡ªå·±è½¯ä»¶æƒç›Šçš„å¼€æºè®¸å¯è¯ï¼Œè¿™å¯¹åˆ›ä¸šå…¬å¸æ¥è®²èƒ½èµ·åˆ°äº‹åŠåŠŸå€çš„ä½œç”¨ã€‚\nå¼€æºè®¸å¯è¯æ€»è§ˆï¼šhttps://opensource.org/licenses/alphabetical\nTipsï¼šä¸Šè¿°æåˆ°çš„â€œå¼€æºè®¸å¯è¯â€ä¸â€œå¼€æºè®¸å¯åè®®â€çš„å«ä¹‰å®Œå…¨ç›¸åŒï¼Œåªä¸è¿‡æ˜¯è‹±æ–‡ç¿»è¯‘åä¸¤ç§ä¸åŒçš„å«æ³•ï¼Œè¿™é‡Œä¸ä½œåŒºåˆ«ã€‚\nTipsï¼šè‡ªç”±è½¯ä»¶åŸºé‡‘ä¼šï¼ˆFree Software Foundationï¼ŒFSFï¼‰æ˜¯ä¸€ä¸ªéè¥åˆ©ç»„ç»‡ï¼Œå…¶ä½¿å‘½æ˜¯åœ¨å…¨çƒèŒƒå›´å†…ä¿ƒè¿›è®¡ç®—æœºç”¨æˆ·çš„è‡ªç”±ï¼Œæå«æ‰€æœ‰è½¯ä»¶ç”¨æˆ·çš„æƒåˆ©ã€‚\nå¤§å®¶ç»å¸¸ä¼šåœ¨å¼€æºç¤¾åŒºä¸­çœ‹åˆ°Copyleftè¿™ä¸ªå•è¯ï¼Œè¿™æ˜¯ä¸€ä¸ªç”±è‡ªç”±è½¯ä»¶è¿åŠ¨æ‰€å‘å±•å‡ºçš„æ¦‚å¿µï¼Œä¸­æ–‡è¢«ç¿»è¯‘ä¸ºâ€œè‘—ä½æƒâ€æˆ–è€…â€œå…¬å…±ç‰ˆæƒâ€ã€‚ä¸Copyrightæˆªç„¶ç›¸åï¼ŒCopyleftä¸ä¼šé™åˆ¶ä½¿ç”¨è€…å¤åˆ¶ã€ä¿®æ”¹æˆ–å†å‘å¸ƒè½¯ä»¶ã€‚\næ­¤å¤–ï¼Œå¤§å®¶åº”è¯¥ç»å¸¸ä¼šå¬åˆ°åˆ«äººè¯´å¼€æºè½¯ä»¶æ˜¯freeçš„ï¼Œæ²¡é”™ï¼Œå¼€æºè½¯ä»¶å°±æ˜¯è‡ªç”±çš„ã€‚è¿™é‡Œçš„freeåƒä¸‡ä¸è¦ç¿»è¯‘æˆâ€œå…è´¹â€ï¼Œè¿™æ ·å°±å¤§é”™ç‰¹é”™äº†ï¼Œè¿™ä¸æ‚¨å»é…’å§çœ‹åˆ°çš„â€œç¬¬ä¸€æ¯å…è´¹â€çš„æ„æ€å¯ç›¸å·®ç”šè¿œã€‚\nä¸‹é¢æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ç¨‹åºå‘˜æœ€å–œæ¬¢çš„å‰6åçš„å¼€æºè®¸å¯è¯ï¼Œä»¥åŠå®ƒä»¬å„è‡ªèµ‹äºˆç”¨æˆ·çš„æƒåˆ©ã€‚\nGPL **GNUé€šç”¨å…¬å…±è®¸å¯è¯ï¼ˆ**General Public Licenseï¼ŒGPLï¼‰ï¼šç›®å‰å¹¿æ³›ä½¿ç”¨çš„å¼€æºè½¯ä»¶è®¸å¯åè®®ä¹‹ä¸€ï¼Œç”¨æˆ·äº«æœ‰è¿è¡Œã€å­¦ä¹ ã€å…±äº«å’Œä¿®æ”¹è½¯ä»¶çš„è‡ªç”±ã€‚GPLæœ€åˆæ˜¯è‡ªç”±è½¯ä»¶åŸºé‡‘ä¼šåˆ›å§‹äººRichard Stallmanèµ·è‰çš„ï¼Œå…¶ç‰ˆæœ¬ç›®å‰å·²ç»å‘å±•åˆ°äº†ç¬¬3ç‰ˆã€‚GPLçš„ç›®çš„æ˜¯ä¿è¯ç¨‹åºå‘˜åœ¨å¼€æºç¤¾åŒºä¸­æ‰€åšçš„å·¥ä½œå¯¹æ•´ä¸ªä¸–ç•Œæ˜¯æœ‰ç›Šçš„ï¼Œæ‰€å¼€å‘çš„è½¯ä»¶ä¹Ÿæ˜¯è‡ªç”±çš„ï¼Œå¹¶æåŠ›é¿å…å¼€æºè½¯ä»¶è¢«ç§æœ‰åŒ–ä»¥åŠè¢«æ— è‰¯è½¯ä»¶å…¬å¸æ‰€å‰¥å‰Šã€‚\nç°åœ¨ï¼Œåªè¦è½¯ä»¶ä¸­åŒ…å«äº†éµå¾ªGPLè®¸å¯è¯çš„äº§å“æˆ–ä»£ç ï¼Œè¯¥è½¯ä»¶å°±å¿…é¡»å¼€æºã€å…è´¹ï¼Œå› æ­¤è¿™ä¸ªè®¸å¯è¯å¹¶ä¸é€‚åˆå•†ä¸šæ”¶è´¹è½¯ä»¶ã€‚éµå¾ªè¯¥è®¸å¯è¯çš„å¼€æºè½¯ä»¶æ•°é‡æå…¶åºå¤§ï¼ŒåŒ…æ‹¬Linuxå†…æ ¸åœ¨å†…çš„å¤§å¤šæ•°çš„å¼€æºè½¯ä»¶éƒ½æ˜¯åŸºäºGPLè®¸å¯è¯çš„ã€‚GPLèµ‹äºˆäº†ç”¨æˆ·è‘—åçš„äº”å¤§è‡ªç”±ã€‚\n **ä½¿ç”¨è‡ªç”±ï¼š**å…è®¸ç”¨æˆ·æ ¹æ®éœ€è¦è‡ªç”±ä½¿ç”¨è¿™ä¸ªè½¯ä»¶ã€‚\n**å¤åˆ¶è‡ªç”±ï¼š**å…è®¸æŠŠè½¯ä»¶å¤åˆ¶åˆ°ä»»ä½•äººçš„è®¡ç®—æœºä¸­ï¼Œå¹¶ä¸”ä¸é™åˆ¶å¤åˆ¶çš„æ•°é‡ã€‚\n**ä¿®æ”¹è‡ªç”±ï¼š**å…è®¸å¼€å‘äººå‘˜å¢åŠ æˆ–åˆ é™¤è½¯ä»¶çš„åŠŸèƒ½ï¼Œä½†è½¯ä»¶ä¿®æ”¹åå¿…é¡»ä¾ç„¶åŸºäºGPLè®¸å¯è¯ã€‚\n**è¡ç”Ÿè‡ªç”±ï¼š**å…è®¸ç”¨æˆ·æ·±åº¦å®šåˆ¶åŒ–è½¯ä»¶åï¼Œä¸ºè½¯ä»¶æ³¨å†Œè‡ªå·±çš„æ–°å•†æ ‡ï¼Œå†å‘è¡Œè¡ç”Ÿå“çš„è‡ªç”±ã€‚\n**æ”¶è´¹è‡ªç”±ï¼š**å…è®¸åœ¨å„ç§åª’ä»‹ä¸Šå‡ºå”®è¯¥è½¯ä»¶ï¼Œä½†å¿…é¡»æå‰è®©ä¹°å®¶çŸ¥é“è¿™ä¸ªè½¯ä»¶æ˜¯å¯ä»¥å…è´¹è·å¾—çš„ã€‚å› æ­¤ï¼Œä¸€èˆ¬æ¥è®²ï¼Œå¼€æºè½¯ä»¶éƒ½æ˜¯é€šè¿‡ä¸ºç”¨æˆ·æä¾›æœ‰å¿æœåŠ¡çš„å½¢å¼æ¥è¥åˆ©çš„ã€‚\n LGPL è¾ƒå®½æ¾é€šç”¨å…¬å…±è®¸å¯è¯ï¼ˆLesser GPL, LGPLï¼‰ï¼šä¸€ä¸ªä¸»è¦ä¸ºä¿æŠ¤ç±»åº“æƒç›Šè€Œè®¾è®¡çš„GPLå¼€æºåè®®ã€‚ä¸æ ‡å‡†GPLè®¸å¯è¯ç›¸æ¯”ï¼ŒLGPLå…è®¸å•†ä¸šè½¯ä»¶ä»¥ç±»åº“å¼•ç”¨çš„æ–¹å¼ä½¿ç”¨å¼€æºä»£ç ï¼Œè€Œä¸ç”¨å°†å…¶äº§å“æ•´ä½“å¼€æºï¼Œå› æ­¤æ™®éè¢«å•†ä¸šè½¯ä»¶ç”¨æ¥å¼•ç”¨ç±»åº“ä»£ç ã€‚ç®€å•æ¥è¯´ï¼Œå°±æ˜¯é’ˆå¯¹ä½¿ç”¨äº†åŸºäºLGPLè®¸å¯è¯çš„å¼€æºä»£ç ï¼Œåœ¨æ¶‰åŠè¿™éƒ¨åˆ†ä»£ç ï¼Œä»¥åŠä¿®æ”¹è¿‡æˆ–è€…è¡ç”Ÿå‡ºæ¥çš„ä»£ç æ—¶ï¼Œéƒ½å¿…é¡»ç»§ç»­é‡‡ç”¨LGPLåè®®ï¼Œé™¤æ­¤ä»¥å¤–çš„å…¶ä»–ä»£ç åˆ™ä¸å¼ºåˆ¶è¦æ±‚ã€‚\nå¦‚æœæ‚¨è§‰å¾—LGPLè®¸å¯è¯æ›´å¤šåœ°æ˜¯å…³æ³¨å¯¹ç±»åº“æ–‡ä»¶çš„ä¿æŠ¤ï¼Œè€Œä¸æ˜¯è½¯ä»¶æ•´ä½“ï¼Œé‚£å°±å¯¹äº†ã€‚å› ä¸ºè¯¥è®¸å¯è¯æœ€æ—©çš„åå­—æ˜¯Library GPLï¼Œå³GPLç±»åº“å¼€æºè®¸å¯è¯ï¼Œä¿æŠ¤çš„å¯¹è±¡æœ‰glibcã€GTK widget toolkitç­‰ç±»åº“æ–‡ä»¶ã€‚\nBSD **ä¼¯å…‹åˆ©è½¯ä»¶å‘å¸ƒç‰ˆï¼ˆ**Berkeley Software Distribution, BSDï¼‰è®¸å¯è¯ï¼šå¦ä¸€æ¬¾è¢«å¹¿æ³›ä½¿ç”¨çš„å¼€æºè½¯ä»¶è®¸å¯åè®®ã€‚ç›¸è¾ƒäºGPLè®¸å¯è¯ï¼ŒBSDæ›´åŠ å®½æ¾ï¼Œé€‚åˆäºå•†ä¸šç”¨é€”ã€‚ç”¨æˆ·å¯ä»¥ä½¿ç”¨ã€ä¿®æ”¹å’Œé‡æ–°å‘å¸ƒéµå¾ªè¯¥è®¸å¯è¯çš„è½¯ä»¶ï¼Œå¹¶ä¸”å¯ä»¥å°†è½¯ä»¶ä½œä¸ºå•†ä¸šè½¯ä»¶å‘å¸ƒå’Œé”€å”®ï¼Œå‰ææ˜¯éœ€è¦æ»¡è¶³ä¸‹é¢3ä¸ªæ¡ä»¶ã€‚\n å¦‚æœå†å‘å¸ƒçš„è½¯ä»¶ä¸­åŒ…å«å¼€æºä»£ç ï¼Œåˆ™æºä»£ç å¿…é¡»ç»§ç»­éµå¾ªBSDè®¸å¯è¯ã€‚\nå¦‚æœå†å‘å¸ƒçš„è½¯ä»¶ä¸­åªæœ‰äºŒè¿›åˆ¶ç¨‹åºï¼Œåˆ™éœ€è¦åœ¨ç›¸å…³æ–‡æ¡£æˆ–ç‰ˆæƒæ–‡ä»¶ä¸­å£°æ˜åŸå§‹ä»£ç éµå¾ªäº†BSDè®¸å¯è¯ã€‚\nä¸å…è®¸ç”¨åŸå§‹è½¯ä»¶çš„åå­—ã€ä½œè€…åå­—æˆ–æœºæ„åç§°è¿›è¡Œå¸‚åœºæ¨å¹¿ã€‚\n Apache Apacheè®¸å¯è¯ï¼ˆApache Licenseï¼‰ï¼šé¡¾åæ€ä¹‰ï¼Œæ˜¯ç”±Apacheè½¯ä»¶åŸºé‡‘ä¼šè´Ÿè´£å‘å¸ƒå’Œç»´æŠ¤çš„å¼€æºè®¸å¯åè®®ã€‚ä½œä¸ºå½“ä»Šä¸–ç•Œä¸Šæœ€å¤§çš„å¼€æºåŸºé‡‘ä¼šï¼ŒApacheä¸ä»…å› æ­¤åè®®è€Œå‡ºåï¼Œè¿˜å› å¸‚åœºå æœ‰ç‡ç¬¬ä¸€çš„WebæœåŠ¡å™¨è½¯ä»¶è€Œäº«èª‰è¡Œä¸šã€‚ç›®å‰ä½¿ç”¨æœ€å¹¿æ³›çš„Apacheè®¸å¯è¯æ˜¯2004å¹´å‘è¡Œçš„2.0ç‰ˆæœ¬ï¼Œå®ƒåœ¨ä¸ºå¼€å‘äººå‘˜æä¾›ç‰ˆæƒåŠä¸“åˆ©è®¸å¯çš„åŒæ—¶ï¼Œè¿˜å…è®¸ç”¨æˆ·æ‹¥æœ‰ä¿®æ”¹ä»£ç åŠå†å‘å¸ƒçš„è‡ªç”±ã€‚è¯¥è®¸å¯è¯éå¸¸é€‚åˆç”¨äºå•†ä¸šè½¯ä»¶ï¼Œç°åœ¨çƒ­é—¨çš„Hadoopã€Apache HTTP Serverã€MongoDBç­‰é¡¹ç›®éƒ½æ˜¯åŸºäºè¯¥è®¸å¯è¯ç ”å‘çš„ã€‚ç¨‹åºå¼€å‘äººå‘˜åœ¨å¼€å‘éµå¾ªè¯¥è®¸å¯è¯çš„è½¯ä»¶æ—¶ï¼Œè¦ä¸¥æ ¼éµå®ˆä¸‹é¢4ä¸ªæ¡ä»¶ã€‚\n è¯¥è½¯ä»¶åŠå…¶è¡ç”Ÿå“å¿…é¡»ç»§ç»­ä½¿ç”¨Apacheè®¸å¯è¯ã€‚\nå¦‚æœä¿®æ”¹äº†ç¨‹åºæºä»£ç ï¼Œéœ€è¦åœ¨æ–‡æ¡£ä¸­è¿›è¡Œå£°æ˜ã€‚\nè‹¥è½¯ä»¶æ˜¯åŸºäºä»–äººçš„æºä»£ç ç¼–å†™è€Œæˆçš„ï¼Œåˆ™éœ€è¦ä¿ç•™åŸå§‹ä»£ç çš„è®¸å¯è¯ã€å•†æ ‡ã€ä¸“åˆ©å£°æ˜åŠåŸä½œè€…å£°æ˜çš„å…¶ä»–å†…å®¹ä¿¡æ¯ã€‚\nå¦‚æœå†å‘å¸ƒçš„è½¯ä»¶ä¸­æœ‰å£°æ˜æ–‡ä»¶ï¼Œåˆ™éœ€åœ¨æ­¤æ–‡ä»¶ä¸­æ³¨æ˜åŸºäºäº†Apacheè®¸å¯è¯åŠå…¶ä»–è®¸å¯è¯ã€‚\n MIT MITè®¸å¯è¯ï¼ˆMassachusetts Institute of Technology Licenseï¼‰ï¼šæºäºéº»çœç†å·¥å­¦é™¢ï¼Œåˆç§°ä¸ºX11åè®®ã€‚MITè®¸å¯è¯æ˜¯ç›®å‰é™åˆ¶æœ€å°‘çš„å¼€æºè®¸å¯è¯ä¹‹ä¸€ï¼Œç”¨æˆ·å¯ä»¥ä½¿ç”¨ã€å¤åˆ¶ã€ä¿®æ”¹ã€å†å‘å¸ƒè½¯ä»¶ï¼Œè€Œä¸”åªè¦åœ¨ä¿®æ”¹åçš„è½¯ä»¶æºä»£ç ä¸­ä¿ç•™åŸä½œè€…çš„è®¸å¯ä¿¡æ¯å³å¯ï¼Œå› æ­¤æ™®éè¢«å•†ä¸šè½¯ä»¶ï¼ˆä¾‹å¦‚jQueryä¸Node.jsï¼‰æ‰€ä½¿ç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒMITè®¸å¯è¯å®½æ¾åˆ°ä¸€ä¸ªæ–°å¢ƒç•Œï¼Œå³ç”¨æˆ·åªè¦åœ¨ä»£ç ä¸­å£°æ˜äº†MITè®¸å¯è¯å’Œç‰ˆæƒä¿¡æ¯ï¼Œå°±å¯ä»¥å»åšä»»ä½•äº‹æƒ…ï¼Œè€Œæ— é¡»æ‰¿æ‹…ä»»ä½•è´£ä»»ã€‚\nMPL **Mozillaå…¬å…±è®¸å¯è¯ï¼ˆ**Mozilla Public Licenseï¼ŒMPLï¼‰ï¼šäº1998å¹´åˆç”±Netscapeå…¬å¸çš„Mozillaå°ç»„è®¾è®¡ï¼ŒåŸå› æ˜¯å®ƒä»¬è®¤ä¸ºGPLå’ŒBSDè®¸å¯è¯ä¸èƒ½å¾ˆå¥½åœ°è§£å†³å¼€å‘äººå‘˜å¯¹æºä»£ç çš„éœ€æ±‚å’Œæ”¶ç›Šä¹‹é—´çš„å¹³è¡¡å…³ç³»ï¼Œå› æ­¤ä¾¿å°†è¿™ä¸¤ä¸ªåè®®è¿›è¡Œèåˆï¼Œå½¢æˆäº†MPLã€‚2012å¹´å¹´åˆï¼ŒMozillaåŸºé‡‘ä¼šå‘å¸ƒäº†MPL 2.0ç‰ˆæœ¬ï¼ˆç›®å‰ä¸ºæ­¢ä¹Ÿæ˜¯æœ€æ–°çš„ç‰ˆæœ¬ï¼‰ï¼Œåç»­è¢«ç”¨åœ¨Firefoxã€Thunderbirdç­‰è¯¸å¤šäº§å“ä¸Šã€‚æœ€æ–°ç‰ˆçš„MPLå…¬å…±è®¸å¯è¯æœ‰ä»¥ä¸‹ç‰¹ç‚¹ã€‚\n åœ¨ä½¿ç”¨åŸºäºMPLè®¸å¯è¯çš„æºä»£ç æ—¶ï¼Œåç»­åªéœ€è¦ç»§ç»­å¼€æºè¿™éƒ¨åˆ†ç‰¹å®šä»£ç å³å¯ï¼Œæ–°ç ”å‘çš„è½¯ä»¶ä¸ç”¨å®Œå…¨è¢«è¯¥è®¸å¯è¯æ§åˆ¶ã€‚\nå¼€å‘äººå‘˜å¯ä»¥å°†åŸºäºMPLã€GPLã€BSDç­‰å¤šç§è®¸å¯è¯çš„ä»£ç ä¸€èµ·æ··åˆä½¿ç”¨ã€‚\nå¼€å‘äººå‘˜åœ¨å‘å¸ƒæ–°è½¯ä»¶æ—¶ï¼Œå¿…é¡»é™„å¸¦ä¸€ä¸ªä¸“é—¨ç”¨äºè¯´æ˜è¯¥ç¨‹åºçš„æ–‡ä»¶ï¼Œå†…å®¹è¦æœ‰åŸå§‹ä»£ç çš„ä¿®æ”¹æ—¶é—´å’Œä¿®æ”¹æ–¹å¼ã€‚\n æ€»ç»“ ä¼°è®¡å¤§å®¶åœ¨çœ‹å®Œä¸Šé¢ç³ç…æ»¡ç›®çš„è®¸å¯è¯åï¼Œä¼šå¿ƒç”Ÿæ€¨å¿µï¼šâ€œè¿™ä¸éƒ½å·®ä¸å¤šå—ï¼Ÿåˆ°åº•è¯¥é€‰å“ªä¸ªå‘¢ï¼Ÿâ€å†™åˆ°è¿™é‡Œæ—¶ï¼Œåˆ˜é„è€å¸ˆä¹Ÿæ˜¯ä¸€è„¸æ— åŠ©ï¼šâ€œåˆ°åº•è¯¥æ€ä¹ˆè®©å¤§å®¶è¿›è¡Œé€‰æ‹©å‘¢ï¼Ÿâ€æœè‚ åˆ®è‚šä¹‹é™…çªç„¶çœ¼å‰ä¸€äº®ï¼Œä¹Œå…‹å…°ç¨‹åºå‘˜Paul Bagwellåˆ›ä½œçš„ä¸€å¹…æµç¨‹å›¾æ­£å¥½å¯¹åˆšæ‰è®²è¿‡çš„è¿™6æ¬¾å¼€æºè®¸å¯è¯è¿›è¡Œäº†æ±‡æ€»å½’çº³ï¼Œå…·ä½“å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚\nå¼€æºè®¸å¯è¯çš„é€‰æ‹©æµç¨‹å›¾\nä¼—æ‰€å‘¨çŸ¥ï¼Œç»å¤§éƒ¨åˆ†çš„å¼€æºè½¯ä»¶åœ¨å®‰è£…å®Œæ¯•ä¹‹åå³å¯ä½¿ç”¨ï¼Œå¾ˆéš¾åœ¨è½¯ä»¶ç•Œé¢ä¸­æ‰¾åˆ°ç›¸å…³çš„æ”¶è´¹ä¿¡æ¯ã€‚æ‰€ä»¥ç»å¸¸ä¼šæœ‰åŒå­¦æé—®ï¼šâ€œåˆ˜è€å¸ˆï¼Œå¼€æºç¤¾åŒºçš„ç¨‹åºå‘˜æ€»è¦åƒé¥­çš„å‘€ï¼Œä»–ä»¬æ˜¯é ä»€ä¹ˆè¥åˆ©å‘¢ï¼Ÿâ€é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œç½‘ç»œä¸Šå¥½åƒåªæœ‰ä¸¤ç§å£°éŸ³ï¼š\n **æƒ…æ€€â€”â€”**å¼€æºç¤¾åŒºçš„ç¨‹åºå‘˜è§‰æ‚Ÿå¥½ï¼Œæœ¬é¢†å¼ºï¼Œå†™ä»£ç çº¯ç²¹æ˜¯ä¸ºäº†å…´è¶£ä»¥åŠé€ ç¦ç¤¾ä¼šï¼›\n**æœåŠ¡â€”â€”**å…ˆè®©ç”¨æˆ·æŠŠè½¯ä»¶å®‰è£…ä¸Šï¼Œç­‰ç”¨å¥½ã€ç”¨ä¹ æƒ¯ä¹‹åï¼Œå†é€šè¿‡æä¾›ä¸€äº›ç»´æŠ¤æœåŠ¡æ¥è¥åˆ©ã€‚\n è¿™ä¸¤ç§è§£é‡Šéƒ½å„æœ‰é“ç†ï¼Œä½†æ˜¯ä¸å¤Ÿå…¨é¢ã€‚è¯»è€…ä¹Ÿä¸è¦æŠŠå¼€æºè½¯ä»¶å’Œå•†ä¸šè½¯ä»¶å®Œå…¨å¯¹ç«‹èµ·æ¥ï¼Œå› ä¸ºå¥½çš„é¡¹ç›®ä¹Ÿéœ€è¦å¥½çš„è¿è¥æ¨¡å¼ã€‚å°±å¼€æºè½¯ä»¶æ¥è®²ï¼Œè¥åˆ©æ¨¡å¼å…·ä½“åŒ…æ‹¬ä»¥ä¸‹5ç§ã€‚\n å¤šæ¡äº§å“çº¿ï¼šå¦‚MySQLæ•°æ®åº“ä¾¿æœ‰ä¸ªäººç‰ˆå’Œä¼ä¸šç‰ˆä¸¤ä¸ªç‰ˆæœ¬ï¼Œå³ä¸ªäººç‰ˆå®Œå…¨å…è´¹ï¼Œèµ·åˆ°äº†å¾ˆå¥½çš„æ¨å¹¿ä½œç”¨ï¼›ä¼ä¸šç‰ˆåˆ™é€šè¿‡é”€å”®æˆæƒè®¸å¯æ¥è¥åˆ©ã€‚\næŠ€æœ¯æœåŠ¡å‹ï¼šJBossåº”ç”¨æœåŠ¡å™¨ä¾¿æ˜¯å…¸å‹ä»£è¡¨ï¼ŒJBossè½¯ä»¶å¯è‡ªç”±å…è´¹ä½¿ç”¨ï¼Œè½¯ä»¶æä¾›æ–¹é€šè¿‡æŠ€æœ¯æ–‡æ¡£ã€åŸ¹è®­è¯¾ç¨‹ä»¥åŠå®šåˆ¶å¼€å‘æœåŠ¡æ¥ç›ˆåˆ©ã€‚\nè½¯ç¡¬ä»¶ç»“åˆï¼šæ¯”å¦‚IBMå…¬å¸åœ¨å‡ºå”®æœåŠ¡å™¨æ—¶ï¼Œä¸€èˆ¬ä¼šä¸ºç”¨æˆ·æ†ç»‘é”€å”®AIXæˆ–Linuxç³»ç»Ÿæ¥ç¡®ä¿ç¡¬ä»¶è®¾æ–½çš„è¥åˆ©ã€‚\næŠ€æœ¯å‡ºç‰ˆç‰©ï¼šæ¯”å¦‚O\u0026rsquo;Reillyæ—¢æ˜¯ä¸€å®¶å¼€æºå…¬å¸ï¼Œä¹Ÿæ˜¯ä¸€å®¶å‡ºç‰ˆå•†ï¼Œè¯¸å¤šä¼˜ç§€å›¾ä¹¦éƒ½æ˜¯ç”±O\u0026rsquo;Reillyå‡ºç‰ˆçš„ã€‚\nå“ç‰Œå’Œå£ç¢‘ï¼šå¾®è½¯å…¬å¸æ›¾å¤šæ¬¡è¡¨ç¤ºæ”¯æŒå¼€æºç¤¾åŒºã€‚å¤§å®¶å¯¹æ­¤å¯èƒ½ä¼šæ„Ÿåˆ°æ„å¤–ï¼Œä½†è¿™æ˜¯çœŸçš„ï¼Visual Studio Codeã€PowerShellã€TypeScriptç­‰è½¯ä»¶å‡å·²å¼€æºã€‚å¤§å®¶æ˜¯ä¸æ˜¯ç¬é—´å°±å¯¹å¾®è½¯å…¬å¸å¥½æ„Ÿå€å¢äº†å‘¢ï¼Ÿä¹°ä¸€ä»½æ­£ç‰ˆç³»ç»Ÿè¡¨ç¤ºæ”¯æŒä¹Ÿå°±æ˜¯äººä¹‹å¸¸æƒ…äº†ã€‚\n SSH åŸç†ä¸è¿ç”¨ æ•°å­—ç­¾åä¸æ•°å­—è¯ä¹¦ é²å‹ƒæœ‰ä¸¤æŠŠé’¥åŒ™ï¼Œä¸€æŠŠæ˜¯å…¬é’¥ï¼Œå¦ä¸€æŠŠæ˜¯ç§é’¥ã€‚\né²å‹ƒæŠŠå…¬é’¥é€ç»™ä»–çš„æœ‹å‹ä»¬â€”â€”å¸•è’‚ã€é“æ ¼ã€è‹çŠâ€”â€”æ¯äººä¸€æŠŠã€‚\nè‹çŠè¦ç»™é²å‹ƒå†™ä¸€å°ä¿å¯†çš„ä¿¡ã€‚å¥¹å†™å®Œåç”¨é²å‹ƒçš„å…¬é’¥åŠ å¯†ï¼Œå°±å¯ä»¥è¾¾åˆ°ä¿å¯†çš„æ•ˆæœã€‚\né²å‹ƒæ”¶ä¿¡åï¼Œç”¨ç§é’¥è§£å¯†ï¼Œå°±çœ‹åˆ°äº†ä¿¡ä»¶å†…å®¹ã€‚åªè¦é²å‹ƒçš„ç§é’¥ä¸æ³„éœ²ï¼Œè¿™å°ä¿¡å°±æ˜¯å®‰å…¨çš„ï¼Œå³ä½¿è½åœ¨åˆ«äººæ‰‹é‡Œï¼Œä¹Ÿæ— æ³•è§£å¯†ã€‚\né²å‹ƒç»™è‹çŠå›ä¿¡ï¼Œå†³å®šé‡‡ç”¨\u0026quot;æ•°å­—ç­¾å\u0026quot;ã€‚ä»–å†™å®Œåå…ˆç”¨Hashå‡½æ•°ï¼Œç”Ÿæˆä¿¡ä»¶çš„æ‘˜è¦ï¼ˆdigestï¼‰ã€‚\nç„¶åï¼Œé²å‹ƒä½¿ç”¨ç§é’¥ï¼Œå¯¹è¿™ä¸ªæ‘˜è¦åŠ å¯†ï¼Œç”Ÿæˆ\u0026quot;æ•°å­—ç­¾å\u0026quot;ï¼ˆsignatureï¼‰ã€‚\né²å‹ƒå°†è¿™ä¸ªç­¾åï¼Œé™„åœ¨ä¿¡ä»¶ä¸‹é¢ï¼Œä¸€èµ·å‘ç»™è‹çŠã€‚\nè‹çŠæ”¶ä¿¡åï¼Œå–ä¸‹æ•°å­—ç­¾åï¼Œç”¨é²å‹ƒçš„å…¬é’¥è§£å¯†ï¼Œå¾—åˆ°ä¿¡ä»¶çš„æ‘˜è¦ã€‚ç”±æ­¤è¯æ˜ï¼Œè¿™å°ä¿¡ç¡®å®æ˜¯é²å‹ƒå‘å‡ºçš„ã€‚\nè‹çŠå†å¯¹ä¿¡ä»¶æœ¬èº«ä½¿ç”¨Hashå‡½æ•°ï¼Œå°†å¾—åˆ°çš„ç»“æœï¼Œä¸ä¸Šä¸€æ­¥å¾—åˆ°çš„æ‘˜è¦è¿›è¡Œå¯¹æ¯”ã€‚å¦‚æœä¸¤è€…ä¸€è‡´ï¼Œå°±è¯æ˜è¿™å°ä¿¡æœªè¢«ä¿®æ”¹è¿‡ã€‚\nå¤æ‚çš„æƒ…å†µå‡ºç°äº†ã€‚é“æ ¼æƒ³æ¬ºéª—è‹çŠï¼Œä»–å·å·ä½¿ç”¨äº†è‹çŠçš„ç”µè„‘ï¼Œç”¨è‡ªå·±çš„å…¬é’¥æ¢èµ°äº†é²å‹ƒçš„å…¬é’¥ã€‚æ­¤æ—¶ï¼Œè‹çŠå®é™…æ‹¥æœ‰çš„æ˜¯é“æ ¼çš„å…¬é’¥ï¼Œä½†æ˜¯è¿˜ä»¥ä¸ºè¿™æ˜¯é²å‹ƒçš„å…¬é’¥ã€‚å› æ­¤ï¼Œé“æ ¼å°±å¯ä»¥å†’å……é²å‹ƒï¼Œç”¨è‡ªå·±çš„ç§é’¥åšæˆ\u0026quot;æ•°å­—ç­¾å\u0026quot;ï¼Œå†™ä¿¡ç»™è‹çŠï¼Œè®©è‹çŠç”¨å‡çš„é²å‹ƒå…¬é’¥è¿›è¡Œè§£å¯†ã€‚\nåæ¥ï¼Œè‹çŠæ„Ÿè§‰ä¸å¯¹åŠ²ï¼Œå‘ç°è‡ªå·±æ— æ³•ç¡®å®šå…¬é’¥æ˜¯å¦çœŸçš„å±äºé²å‹ƒã€‚å¥¹æƒ³åˆ°äº†ä¸€ä¸ªåŠæ³•ï¼Œè¦æ±‚é²å‹ƒå»æ‰¾\u0026quot;è¯ä¹¦ä¸­å¿ƒ\u0026quot;ï¼ˆcertificate authorityï¼Œç®€ç§°CAï¼‰ï¼Œä¸ºå…¬é’¥åšè®¤è¯ã€‚è¯ä¹¦ä¸­å¿ƒç”¨è‡ªå·±çš„ç§é’¥ï¼Œå¯¹é²å‹ƒçš„å…¬é’¥å’Œä¸€äº›ç›¸å…³ä¿¡æ¯ä¸€èµ·åŠ å¯†ï¼Œç”Ÿæˆ\u0026quot;æ•°å­—è¯ä¹¦\u0026quot;ï¼ˆDigital Certificateï¼‰ã€‚\né²å‹ƒæ‹¿åˆ°æ•°å­—è¯ä¹¦ä»¥åï¼Œå°±å¯ä»¥æ”¾å¿ƒäº†ã€‚ä»¥åå†ç»™è‹çŠå†™ä¿¡ï¼Œåªè¦åœ¨ç­¾åçš„åŒæ—¶ï¼Œå†é™„ä¸Šæ•°å­—è¯ä¹¦å°±è¡Œäº†ã€‚\nè‹çŠæ”¶ä¿¡åï¼Œç”¨CAçš„å…¬é’¥è§£å¼€æ•°å­—è¯ä¹¦ï¼Œå°±å¯ä»¥æ‹¿åˆ°é²å‹ƒçœŸå®çš„å…¬é’¥äº†ï¼Œç„¶åå°±èƒ½è¯æ˜\u0026quot;æ•°å­—ç­¾å\u0026quot;æ˜¯å¦çœŸçš„æ˜¯é²å‹ƒç­¾çš„ã€‚\nè¿œç¨‹ç™»å½•   1995å¹´ï¼ŒèŠ¬å…°å­¦è€… Tatu Ylonen è®¾è®¡äº† SSH åè®®ï¼Œç”¨äºè®¡ç®—æœºä¹‹é—´çš„åŠ å¯†ç™»å½•ã€‚æœ¬æ–‡é’ˆå¯¹çš„å®ç°æ˜¯ OpenSSHã€‚\n  åŸºæœ¬ç”¨æ³•ï¼š\n  å‡å®šä½ è¦ä»¥ç”¨æˆ·å userï¼Œç™»å½•è¿œç¨‹ä¸»æœº host\nssh user@host   å¦‚æœæœ¬åœ°ç”¨æˆ·åä¸è¿œç¨‹ç”¨æˆ·åä¸€è‡´ï¼Œç™»å½•æ—¶å¯ä»¥çœç•¥ç”¨æˆ·å\nssh host   SSH çš„é»˜è®¤ç«¯å£æ˜¯ 22ï¼Œä½¿ç”¨ p å‚æ•°ä¿®è¿™ä¸ªç«¯å£\nssh -p 2222 user@host     ä¸­é—´äººæ”»å‡»ï¼ˆMan-in-the-middle attackï¼‰\n  SSH åŠ å¯†ç™»å½•è¿‡ç¨‹\n è¿œç¨‹ä¸»æœºæ”¶åˆ°ç”¨æˆ·çš„ç™»å½•è¯·æ±‚ï¼ŒæŠŠè‡ªå·±çš„å…¬é’¥å‘ç»™ç”¨æˆ·ã€‚ ç”¨æˆ·ä½¿ç”¨è¿™ä¸ªå…¬é’¥ï¼Œå°†ç™»å½•å¯†ç åŠ å¯†åï¼Œå‘é€ç»™è¿œç¨‹ä¸»æœºã€‚ è¿œç¨‹ä¸»æœºç”¨è‡ªå·±çš„ç§é’¥ï¼Œè§£å¯†ç™»å½•å¯†ç ï¼Œå¦‚æœå¯†ç æ­£ç¡®ï¼Œå°±åŒæ„ç”¨æˆ·ç™»å½•ã€‚      ä¸­é—´äººæ”»å‡»ï¼šæ”»å‡»è€…æ’åœ¨ç”¨æˆ·ä¸è¿œç¨‹ä¸»æœºä¹‹é—´ï¼Œç”¨ä¼ªé€ çš„å…¬é’¥ï¼Œè·å–ç”¨æˆ·çš„ç™»å½•å¯†ç ï¼Œå†ç”¨è¿™ä¸ªå¯†ç ç™»å½•è¿œç¨‹ä¸»æœºã€‚\n  å£ä»¤ç™»å½•ï¼šç¬¬ä¸€æ¬¡ç™»å½•è¿œç¨‹ä¸»æœºæ—¶ï¼Œä¼šè¯¢é—®æ˜¯å¦æ¥å—è¿œç¨‹ä¸»æœºå…¬é’¥ï¼ˆæ˜¯å¦ç»§ç»­è¿æ¥ï¼‰ï¼Œå¹¶æ˜¾ç¤ºå…¬é’¥æŒ‡çº¹â€”â€”å…¬é’¥é•¿åº¦è¾ƒé•¿ï¼ˆè¿™é‡Œé‡‡ç”¨RSAç®—æ³•ï¼Œé•¿è¾¾ 1024 ä½ï¼‰ï¼Œå¾ˆéš¾æ¯”å¯¹ï¼Œæ‰€ä»¥å¯¹å…¶è¿›è¡ŒMD5è®¡ç®—ï¼Œå°†å®ƒå˜æˆä¸€ä¸ª 128 ä½çš„æŒ‡çº¹ã€‚ç”¨æˆ·é€šè¿‡æ¯”å¯¹è¿œç¨‹ç½‘ç«™ä¸Šè´´å‡ºçš„å…¬é’¥æŒ‡çº¹ï¼Œå†³å®šæ˜¯å¦æ¥å—è¿™ä¸ªè¿œç¨‹ä¸»æœºçš„å…¬é’¥ã€‚å½“è¿œç¨‹ä¸»æœºçš„å…¬é’¥è¢«æ¥å—ä»¥åï¼Œå®ƒå°±ä¼šè¢«ä¿å­˜åœ¨æ–‡ä»¶ $HOME/.ssh/known_hosts ä¹‹ä¸­ã€‚\n  å…¬é’¥ç™»å½•ï¼šçœå»å£ä»¤ç™»å½•æ¯æ¬¡éƒ½å¿…é¡»è¾“å…¥å¯†ç çš„æ­¥éª¤ã€‚ç”¨æˆ·å°†è‡ªå·±çš„å…¬é’¥å‚¨å­˜åœ¨è¿œç¨‹ä¸»æœºä¸Šï¼Œç™»å½•çš„æ—¶å€™ï¼Œè¿œç¨‹ä¸»æœºä¼šå‘ç”¨æˆ·å‘é€ä¸€æ®µéšæœºå­—ç¬¦ä¸²ï¼Œç”¨æˆ·ç”¨è‡ªå·±çš„ç§é’¥åŠ å¯†åï¼Œå†å‘å›æ¥ï¼Œè¿œç¨‹ä¸»æœºç”¨äº‹å…ˆå‚¨å­˜çš„å…¬é’¥è¿›è¡Œè§£å¯†ï¼Œå¦‚æœæˆåŠŸï¼Œå°±è¯æ˜ç”¨æˆ·æ˜¯å¯ä¿¡çš„ï¼Œç›´æ¥å…è®¸ç™»å½•shellï¼Œä¸å†è¦æ±‚å¯†ç ã€‚\n  ssh-keygen\nåœ¨ $HOME/.ssh/ ç›®å½•ä¸‹ç”Ÿæˆä¸¤ä¸ªæ–‡ä»¶ï¼šå…¬é’¥ id_rsa.pub å’Œç§é’¥ id_rsaã€‚\n    è¿œç¨‹æ“ä½œä¸ç«¯å£è½¬å‘   SSH å¯ä»¥åœ¨ç”¨æˆ·å’Œè¿œç¨‹ä¸»æœºä¹‹é—´ï¼Œå»ºç«‹å‘½ä»¤å’Œæ•°æ®çš„ä¼ è¾“é€šé“\n  ç»‘å®šæœ¬åœ°ç«¯å£ï¼šè®©é‚£äº›ä¸åŠ å¯†çš„ç½‘ç»œè¿æ¥ï¼Œå…¨éƒ¨æ”¹èµ° SSH è¿æ¥\nssh -D 8080 user@host å»ºç«‹ä¸€ä¸ª socketï¼Œå»ç›‘å¬æœ¬åœ°çš„ 8080 ç«¯å£ã€‚ä¸€æ—¦æœ‰æ•°æ®ä¼ å‘é‚£ä¸ªç«¯å£ï¼Œå°±è‡ªåŠ¨æŠŠå®ƒè½¬ç§»åˆ° SSH è¿æ¥ä¸Šé¢ï¼Œå‘å¾€è¿œç¨‹ä¸»æœºã€‚\n  æœ¬åœ°ç«¯å£è½¬å‘ï¼šå‡å®š host1 æ˜¯æœ¬åœ°ä¸»æœºï¼Œhost2 æ˜¯è¿œç¨‹ä¸»æœºã€‚ç”±äºç§ç§åŸå› ï¼Œè¿™ä¸¤å°ä¸»æœºä¹‹é—´æ— æ³•è¿é€šã€‚ä½†æ˜¯ï¼Œå¦å¤–è¿˜æœ‰ä¸€å° host3ï¼Œå¯ä»¥åŒæ—¶è¿é€šå‰é¢ä¸¤å°ä¸»æœºã€‚å› æ­¤ï¼Œå¾ˆè‡ªç„¶çš„æƒ³æ³•å°±æ˜¯ï¼Œé€šè¿‡ host3ï¼Œå°† host1 è¿ä¸Š host2ã€‚\nssh -L 2121:host2:21 host3 L å‚æ•°æ¥å—ä¸‰ä¸ªå€¼â€”â€”\u0026ldquo;æœ¬åœ°ç«¯å£:ç›®æ ‡ä¸»æœº:ç›®æ ‡ä¸»æœºç«¯å£\u0026rdquo;ã€‚SSH ç»‘å®šæœ¬åœ°ç«¯å£ 2121ï¼ŒæŒ‡å®š host3 å°†æ‰€æœ‰çš„æ•°æ®è½¬å‘åˆ°ç›®æ ‡ä¸»æœº host2 çš„ 21 ç«¯å£ã€‚æœ¬åœ°ç«¯å£è½¬å‘ä½¿å¾— host1 å’Œ host3 ä¹‹é—´ä»¿ä½›å½¢æˆä¸€ä¸ªæ•°æ®ä¼ è¾“çš„ç§˜å¯†éš§é“ï¼Œå› æ­¤åˆè¢«ç§°ä¸º\u0026quot;SSH éš§é“\u0026quot;ã€‚\n  è¿œç¨‹ç«¯å£è½¬å‘ï¼šhost1 ä¸ host2 ä¹‹é—´æ— æ³•è¿é€šï¼Œå¿…é¡»å€ŸåŠ© host3 è½¬å‘ï¼Œè€Œ host3 æ˜¯ä¸€å°å†…ç½‘æœºå™¨ï¼Œå®ƒå¯ä»¥è¿æ¥å¤–ç½‘çš„ host1ï¼Œä½†æ˜¯åè¿‡æ¥å°±ä¸è¡Œã€‚è§£å†³åŠæ³•æ˜¯ä» host3 ä¸Šå»ºç«‹ä¸ host1 çš„ SSH è¿æ¥ï¼Œç„¶ååœ¨ host1 ä¸Šä½¿ç”¨è¿™æ¡è¿æ¥ã€‚åœ¨ host3 æ‰§è¡Œä¸‹é¢çš„å‘½ä»¤\nssh -R 2121:host2:21 host1 R å‚æ•°ä¹Ÿæ˜¯æ¥å—ä¸‰ä¸ªå€¼â€”â€”\u0026ldquo;è¿œç¨‹ä¸»æœºç«¯å£:ç›®æ ‡ä¸»æœº:ç›®æ ‡ä¸»æœºç«¯å£\u0026rdquo;ã€‚å®ƒè®© host1 ç›‘å¬å®ƒè‡ªå·±çš„ 2121 ç«¯å£ï¼Œç„¶åå°†æ‰€æœ‰æ•°æ®ç»ç”± host3ï¼Œè½¬å‘åˆ° host2 çš„ 21 ç«¯å£ã€‚\n  GitHub Packages Learn to safely publish and consume packages, store your packages alongside your code, and share your packages privately with your team or publicly with the open source community. You can also automate your packages with GitHub Actions.\nTip \u0026amp; Questions Repository size limits for GitHub.com Hard limits:\n Individual files in a repository are strictly limited to a 100 MB maximum size limit. Repositories have a hard size limit of 100GB.  è§£å†³SSHè‡ªåŠ¨æ–­çº¿é—®é¢˜ åœ¨è¿æ¥è¿œç¨‹SSHæœåŠ¡çš„æ—¶å€™ï¼Œç»å¸¸ä¼šå‘ç”Ÿé•¿æ—¶é—´åçš„æ–­çº¿ï¼Œæˆ–è€…æ— å“åº”ï¼ˆæ— æ³•å†é”®ç›˜è¾“å…¥ï¼‰ã€‚ æ€»ä½“æ¥è¯´æœ‰ä¸¤ä¸ªæ–¹æ³•ï¼š\nä¸€ã€å®¢æˆ·ç«¯å®šæ—¶å‘é€å¿ƒè·³\nputtyã€SecureCRTã€XShelléƒ½æœ‰è¿™ä¸ªåŠŸèƒ½ï¼Œè®¾ç½®è¯·è‡ªè¡Œæœç´¢\næ­¤å¤–åœ¨Linuxä¸‹ï¼š\n  ä¿®æ”¹æœ¬æœº/etc/ssh/ssh_config\n# vim /etc/ssh/ssh_config   æ·»åŠ \nServerAliveInterval 30 ServerAliveCountMax 100 å³æ¯éš”30ç§’ï¼Œå‘æœåŠ¡å™¨å‘å‡ºä¸€æ¬¡å¿ƒè·³ã€‚è‹¥è¶…è¿‡100æ¬¡è¯·æ±‚ï¼Œéƒ½æ²¡æœ‰å‘é€æˆåŠŸï¼Œåˆ™ä¼šä¸»åŠ¨æ–­å¼€ä¸æœåŠ¡å™¨ç«¯çš„è¿æ¥ã€‚\n  äºŒã€æœåŠ¡å™¨ç«¯å®šæ—¶å‘å®¢æˆ·ç«¯å‘é€å¿ƒè·³ï¼ˆä¸€åŠ³æ°¸é€¸ï¼‰\n  ä¿®æ”¹æœåŠ¡å™¨ç«¯ sshé…ç½® /etc/ssh/sshd_config\n# vim /etc/ssh/sshd_config   æ·»åŠ \nClientAliveInterval 30 ClientAliveCountMax 6 ClientAliveIntervalè¡¨ç¤ºæ¯éš”å¤šå°‘ç§’ï¼ŒæœåŠ¡å™¨ç«¯å‘å®¢æˆ·ç«¯å‘é€å¿ƒè·³ï¼Œæ˜¯çš„ï¼Œä½ æ²¡çœ‹é”™ã€‚\nä¸‹é¢çš„ClientAliveIntervalè¡¨ç¤ºä¸Šè¿°å¤šå°‘æ¬¡å¿ƒè·³æ— å“åº”ä¹‹åï¼Œä¼šè®¤ä¸ºClientå·²ç»æ–­å¼€ã€‚\næ‰€ä»¥ï¼Œæ€»å…±å…è®¸æ— å“åº”çš„æ—¶é—´æ˜¯60*3=180ç§’ã€‚\n  new mode 100755 å‡ºç°\n$ git diff filename old mode 100644 new mode 100755 ä½†æ˜¯æ–‡ä»¶å†…å®¹å¹¶æ²¡æœ‰å‘ç”Ÿæ”¹å˜\näº§ç”Ÿè¿™ä¸ªé—®é¢˜çš„åŸå› å°±æ˜¯ï¼šfilemodeçš„å˜åŒ–ï¼Œæ–‡ä»¶chmodåå…¶æ–‡ä»¶æŸäº›ä½æ˜¯æ”¹å˜äº†çš„ï¼Œå¦‚æœä¸¥æ ¼çš„æ¯”è¾ƒåŸæ–‡ä»¶å’Œchmodåçš„æ–‡ä»¶ï¼Œä¸¤è€…æ˜¯æœ‰åŒºåˆ«çš„ï¼Œä½†æ˜¯æºä»£ç é€šå¸¸åªå…³å¿ƒæ–‡æœ¬å†…å®¹ï¼Œå› æ­¤chmodäº§ç”Ÿçš„å˜åŒ–åº”è¯¥å¿½ç•¥ï¼Œæ‰€ä»¥è®¾ç½®ä¸€ä¸‹ï¼š\n$ git config --add core.filemode false ","permalink":"https://sakamotokurome.github.io/posts/git/","summary":"Workspaceï¼šå·¥ä½œåŒºï¼ŒIndex / Stageï¼šæš‚å­˜åŒºï¼ŒRepositoryï¼šä»“åº“åŒºï¼ˆæˆ–æœ¬åœ°ä»“åº“ï¼‰ï¼ŒRemoteï¼šè¿œç¨‹ä»“åº“ è¿œç¨‹ä»“åº“ å®‰è£…ï¼Œ","title":"Git"},{"content":"Fedora [fÉ™ËˆdÉ”rÉ™] è´¹å¤šæ‹‰\nFedora å®šåˆ¶ç‰ˆ ä¸ºä»€ä¹ˆ Linus Torvalds ç”¨ Fedora  2008ï¼šlinuså¯¹å‘è¡Œç‰ˆçš„è¦æ±‚æ˜¯\u0026quot;æ˜“å®‰è£…ï¼Œæ¯”è¾ƒè´´è¿‘ä¸Šæ¸¸\u0026quot;å³å¯ã€‚ 2010å¹´çš„æ—¶å€™ï¼Œä»–æŒ‡å‡ºäº†Fedora 14çš„ä¸€ä¸ªbugã€‚ 2011å¹´Fedora 15æ¢Gnome3ä½œä¸ºé»˜è®¤DEäº†ï¼ŒLinusç›´è¨€\u0026quot;unholy mess\u0026quot; ï¼Œç„¶åè½¬æŠ•XFCEã€‚ 2011å¹´æœ«ï¼ŒLinusæå‡ºå¹¶ä¿®è¡¥äº†openSUSEä¸­Xorgçš„ä¸€ä¸ªä¸¥é‡bugã€‚ 2013å¹´5æœˆï¼šLinuså°è¯•å°†è‡ªå·±æ‰‹å¤´çš„MacBook Airè£…ä¸ŠLinuxï¼ŒæŠŠå‡ ä¸ªå¤§çš„å‘è¡Œç‰ˆå…¨éƒ¨éƒ½è¯•äº†ä¸€éã€‚å‘ç°åªæœ‰Fedoraèƒ½æ­£å¸¸å·¥ä½œã€‚ ä¹‹åçš„æ‰€æœ‰æ¶ˆæ¯å°±æ˜¯å„ç§fedoraäº†  SELinux é•¿ä¹…ä»¥æ¥ï¼Œæ¯å½“é‡åˆ°æˆæƒé—®é¢˜æˆ–è€…æ–°å®‰è£…çš„ä¸»æœºï¼Œæˆ‘çš„ç¬¬ä¸€ååº”æ˜¯é€šè¿‡setenforce 0å‘½ä»¤ç¦ç”¨SELinuxï¼Œæ¥å‡å°‘äº§ç”Ÿçš„æƒé™é—®é¢˜ï¼Œä½†æ˜¯è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªè‰¯å¥½çš„ä¹ æƒ¯ã€‚è¿™ç¯‡æ–‡ç« å°è¯•å¯¹SELinuxçš„åŸºæœ¬æ¦‚å¿µå’Œç”¨æ³•è¿›è¡Œç®€å•ä»‹ç»ï¼Œå¹¶ä¸”æä¾›ä¸€äº›æ›´æ·±å…¥çš„èµ„æ–™ã€‚\nLinuxä¸‹é»˜è®¤çš„æ¥å…¥æ§åˆ¶æ˜¯DACï¼Œå…¶ç‰¹ç‚¹æ˜¯èµ„æºçš„æ‹¥æœ‰è€…å¯ä»¥å¯¹ä»–è¿›è¡Œä»»ä½•æ“ä½œï¼ˆè¯»ã€å†™ã€æ‰§è¡Œï¼‰ã€‚å½“ä¸€ä¸ªè¿›ç¨‹å‡†å¤‡æ“ä½œèµ„æºæ—¶ï¼ŒLinuxå†…æ ¸ä¼šæ¯”è¾ƒè¿›ç¨‹å’Œèµ„æºçš„UIDå’ŒGIDï¼Œå¦‚æœæƒé™å…è®¸ï¼Œå°±å¯ä»¥è¿›è¡Œç›¸åº”çš„æ“ä½œã€‚æ­¤ç§æ–¹å¼å¾€å¾€ä¼šå¸¦æ¥ä¸€äº›é—®é¢˜ï¼Œå¦‚æœä¸€ä¸ªè¿›ç¨‹æ˜¯ä»¥rootçš„èº«ä»½è¿è¡Œï¼Œä¹Ÿå°±æ„å‘³ç€ä»–èƒ½å¤Ÿå¯¹ç³»ç»Ÿçš„ä»»ä½•èµ„æºè¿›è¡Œæ“ä½œï¼Œè€Œä¸”ä¸è¢«é™åˆ¶ã€‚ å‡å¦‚æˆ‘ä»¬çš„è½¯ä»¶å­˜åœ¨æ¼æ´å‘¢ï¼Ÿè¿™ä¸ªå¾€å¾€æ˜¯ä¸€ä¸ªç¾éš¾æ€§çš„é—®é¢˜ã€‚å› æ­¤ï¼Œå°±å¼•å‡ºäº†å¦å¤–çš„ä¸€ç§å®‰å…¨æ¥å…¥æ§åˆ¶æœºåˆ¶MACï¼ŒLinuxä¸‹çš„ä¸€ç§ç°å®æ˜¯SELinuxï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬å°†è¦è®¨è®ºçš„å†…å®¹ã€‚\nåŸºæœ¬æ¦‚å¿µ Mandatory Access Control (MAC) SELinux å±äºMACçš„å…·ä½“å®ç°ï¼Œå¢å¼ºäº†Linuxç³»ç»Ÿçš„å®‰å…¨æ€§ã€‚MACæœºåˆ¶çš„ç‰¹ç‚¹åœ¨äºï¼Œèµ„æºçš„æ‹¥æœ‰è€…ï¼Œå¹¶ä¸èƒ½å†³å®šè°å¯ä»¥æ¥å…¥åˆ°èµ„æºã€‚å…·ä½“å†³å®šæ˜¯å¦å¯ä»¥æ¥å…¥åˆ°èµ„æºï¼Œæ˜¯åŸºäºå®‰å…¨ç­–ç•¥ã€‚è€Œå®‰å…¨ç­–ç•¥åˆ™æ˜¯æœ‰ä¸€ç³»åˆ—çš„æ¥å…¥è§„åˆ™ç»„æˆï¼Œå¹¶ä»…æœ‰ç‰¹å®šæƒé™çš„ç”¨æˆ·æœ‰æƒé™æ“ä½œå®‰å…¨ç­–ç•¥ã€‚\nä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œåˆ™æ˜¯ä¸€ä¸ªç¨‹åºå¦‚æœè¦å†™å…¥æŸä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶ï¼Œåœ¨å†™å…¥ä¹‹å‰ï¼Œä¸€ä¸ªç‰¹å®šçš„ç³»ç»Ÿä»£ç ï¼Œå°†ä¼šä¾æ®è¿›ç¨‹çš„Contextå’Œèµ„æºçš„ContextæŸ¥è¯¢å®‰å…¨ç­–ç•¥ï¼Œå¹¶ä¸”æ ¹æ®å®‰å…¨ç­–ç•¥å†³å®šæ˜¯å¦å…è®¸å†™å…¥æ–‡ä»¶ã€‚\nFlask Security Architecture SELinuxçš„è½¯ä»¶è®¾è®¡æ¶æ„æ˜¯å‚ç…§Flaskï¼ŒFlaskæ˜¯ä¸€ç§çµæ´»çš„æ“ä½œç³»ç»Ÿå®‰å…¨æ¶æ„ï¼Œå¹¶ä¸”åœ¨Fluke research operating systemä¸­å¾—åˆ°äº†å®ç°ã€‚Flaskçš„ä¸»è¦ç‰¹ç‚¹æ˜¯æŠŠå®‰å…¨ç­–ç•¥æ‰§è¡Œä»£ç å’Œå®‰å…¨ç­–ç•¥å†³ç­–ä»£ç ï¼Œåˆ’åˆ†æˆäº†ä¸¤ä¸ªç»„ä»¶ã€‚å®‰å…¨ç­–ç•¥å†³ç­–ä»£ç åœ¨Flaskæ¶æ„ä¸­ç§°ä½œSecurity Serverã€‚é™¤äº†è¿™ä¸¤ä¸ªç»„ä»¶ä»¥å¤–ï¼Œå¦å¤–ä¸€ä¸ªç»„ä»¶Vector Cache(AVC), ä¸»è¦æä¾›ç­–ç•¥å†³ç­–ç»“æœçš„ç¼“å­˜ï¼Œä»¥æ­¤æé«˜Security Serverçš„æ€§èƒ½ã€‚å…¶å…·ä½“æ‰§è¡Œæµç¨‹ä¸ºï¼Œå®‰å…¨ç­–ç•¥æ‰§è¡Œä»£ç é€šè¿‡AVCæŸ¥è¯¢Security Serverçš„å®‰å…¨ç­–ç•¥å†³ç­–ç»“æœï¼Œå¹¶å°†å…¶ç¼“å­˜ä»¥å¤‡ä¸‹æ¬¡ä½¿ç”¨ã€‚\nLinux Security Module å‰é¢ä¸¤éƒ¨åˆ†ä»‹ç»äº†MACæœºåˆ¶å’ŒFlaskæ¶æ„ï¼Œæœ€ç»ˆSELinuxçš„å®ç°æ˜¯ä¾èµ–äºLinuxæä¾›çš„Linux Security Moduleæ¡†æ¶ç®€ç§°ä¸ºLSMã€‚å…¶å®LSMçš„åå­—å¹¶ä¸æ˜¯ç‰¹åˆ«å‡†ç¡®ï¼Œå› ä¸ºä»–å¹¶ä¸æ˜¯Linuxæ¨¡å—ï¼Œè€Œæ˜¯ä¸€äº›åˆ—çš„hookï¼ŒåŒæ ·ä¹Ÿä¸æä¾›ä»»ä½•çš„å®‰å…¨æœºåˆ¶ã€‚LSMçš„çš„é‡è¦ç›®æ ‡æ˜¯æä¾›å¯¹linuxæ¥å…¥æ§åˆ¶æ¨¡å—çš„æ”¯æŒã€‚\nLSM åœ¨å†…æ ¸æ•°æ®ç»“æ„ä¸­å¢åŠ äº†å®‰å…¨å­—æ®µï¼Œå¹¶ä¸”åœ¨é‡è¦çš„å†…æ ¸ä»£ç ï¼ˆç³»ç»Ÿè°ƒç”¨ï¼‰ä¸­å¢åŠ äº†hookã€‚å¯ä»¥åœ¨hookä¸­æ³¨å†Œå›è°ƒå‡½æ•°å¯¹å®‰å…¨å­—æ®µè¿›è¡Œç®¡ç†ï¼Œä»¥åŠæ‰§è¡Œæ¥å…¥æ§åˆ¶ã€‚\nSELinux Security Enhanced Linux(SELinux) ä¸ºLinux æä¾›äº†ä¸€ç§å¢å¼ºçš„å®‰å…¨æœºåˆ¶ï¼Œå…¶æœ¬è´¨å°±æ˜¯å›ç­”äº†ä¸€ä¸ªâ€œSubjectæ˜¯å¦å¯ä»¥å¯¹ObjectåšAction?â€çš„é—®é¢˜ï¼Œä¾‹å¦‚ WebæœåŠ¡å¯ä»¥å†™å…¥åˆ°ç”¨æˆ·ç›®å½•ä¸‹é¢çš„æ–‡ä»¶å—ï¼Ÿå…¶ä¸­WebæœåŠ¡å°±æ˜¯Subjectè€Œæ–‡ä»¶å°±æ˜¯Objectï¼Œå†™å…¥å¯¹åº”çš„å°±æ˜¯Actionã€‚\nä¾ç…§ä¸Šé¢çš„ä¾‹å­ï¼Œæˆ‘ä»¬å¼•å…¥äº†å‡ ä¸ªæ¦‚å¿µï¼Œåˆ†åˆ«æ˜¯Subjectã€Objectã€Actionã€ä»¥åŠä¾‹å­æ²¡æœ‰ä½“ç°å‡ºæ¥çš„Contextï¼š\n Subject: åœ¨SELinuxé‡ŒæŒ‡çš„å°±æ˜¯è¿›ç¨‹ï¼Œä¹Ÿå°±æ˜¯æ“ä½œçš„ä¸»ä½“ã€‚ Objectï¼š æ“ä½œçš„ç›®æ ‡å¯¹è±¡ï¼Œä¾‹å¦‚ æ–‡ä»¶ Actionï¼š å¯¹Objectåšçš„åŠ¨ä½œï¼Œä¾‹å¦‚ è¯»å–ã€å†™å…¥æˆ–è€…æ‰§è¡Œç­‰ç­‰ Contextï¼š Subjectå’ŒObjectéƒ½æœ‰å±äºè‡ªå·±çš„Contextï¼Œä¹Ÿå¯ä»¥ç§°ä½œä¸ºLabelã€‚Contextæœ‰å‡ ä¸ªéƒ¨åˆ†ç»„æˆï¼Œåˆ†åˆ«æ˜¯SELinux Userã€SELinux Roleã€SELinux Typeã€SELinux Levelã€‚  ç”¨æˆ·ç¨‹åºæ‰§è¡Œçš„ç³»ç»Ÿè°ƒç”¨ï¼ˆä¾‹å¦‚è¯»å–æ–‡ä»¶ï¼‰ï¼Œéƒ½è¦è¢«SELinuxä¾æ®å®‰å…¨ç­–ç•¥è¿›è¡Œæ£€æŸ¥ã€‚å¦‚æœå®‰å…¨ç­–ç•¥å…è®¸æ“ä½œï¼Œåˆ™ç»§ç»­ï¼Œå¦åˆ™å°†ä¼šæŠ›å‡ºé”™è¯¯ä¿¡æ¯ç»™åº”ç”¨ç¨‹åºã€‚SELinuxå†³ç­–çš„åŒæ—¶è¿˜éœ€è¦Subjectå’ŒObjectçš„Contextä¿¡æ¯ï¼Œç¡®å®šæ‰€å±çš„Userã€Roleå’ŒTypeç­‰ä¿¡æ¯ï¼Œä»¥æ­¤æŸ¥è¯¢å¯¹åº”çš„å®‰å…¨ç­–ç•¥è¿›è¡Œå†³ç­–ã€‚SELinuxåŒæ ·ä¹Ÿä½¿ç”¨äº†AVCæœºåˆ¶ç”¨äºç¼“å­˜å†³ç­–ç»“æœï¼Œä»¥æ­¤æ¥æé«˜æ€§èƒ½ã€‚\nSELinux Context è¿›ç¨‹å’Œæ–‡ä»¶éƒ½æœ‰å±äºè‡ªå·±çš„Contextä¿¡æ¯ï¼ŒContextåˆ†ä¸ºå‡ ä¸ªéƒ¨åˆ†ï¼Œåˆ†åˆ«æ˜¯ SELinux Userã€Roleã€Type å’Œä¸€ä¸ªå¯é€‰çš„Levelä¿¡æ¯ã€‚SELinuxåœ¨è¿è¡Œè¿‡ç¨‹ä¸­å°†ä½¿ç”¨è¿™äº›ä¿¡æ¯æŸ¥è¯¢å®‰å…¨ç­–ç•¥è¿›è¡Œå†³ç­–ã€‚\n SELinux Userï¼šæ¯ä¸€ä¸ªLinuxç”¨æˆ·éƒ½ä¼šæ˜ å°„åˆ°SELinuxç”¨æˆ·ï¼Œæ¯ä¸€ä¸ªSELinux Useréƒ½ä¼šå¯¹åº”ç›¸åº”çš„Roleã€‚ SELinux Roleï¼šæ¯ä¸ªRoleä¹Ÿå¯¹åº”å‡ ç§SELinux Typeï¼Œå¹¶ä¸”å……å½“äº†Userå’ŒTypeçš„â€˜ä¸­é—´äººâ€™ SELinux Typeï¼šå®‰å…¨ç­–ç•¥ä½¿ç”¨SELinux Typeåˆ¶å®šè§„åˆ™ï¼Œå®šä¹‰ä½•ç§Domianï¼ˆTypeï¼‰çš„Subjectï¼Œå¯ä»¥æ¥å…¥ä½•ç§Typeçš„Objectã€‚  æ˜¾ç¤ºè¿›ç¨‹çš„Context\n# ps -Z LABEL PID TTY TIME CMD unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023 9509 pts/1 00:00:00 sudo unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023 9515 pts/1 00:00:00 su unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023 9516 pts/1 00:00:00 bash unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023 9544 pts/1 00:00:00 ps æ˜¾ç¤ºæ–‡ä»¶çš„Contextä¿¡æ¯\n# ls -Z system_u:object_r:admin_home_t:s0 anaconda-ks.cfg ä¸´æ—¶ä¿®æ”¹æ–‡ä»¶çš„ SELinux Type\n# chcon -t httpd_sys_content_t file-name æ¢å¤Contextä¿¡æ¯\n# restorecon [é€‰é¡¹] \u0026lt;æ–‡ä»¶æˆ–ç›®å½• 1\u0026gt; [\u0026lt;æ–‡ä»¶æˆ–ç›®å½• 2\u0026gt;...]    é€‰é¡¹ åŠŸèƒ½     -v æ‰“å°æ“ä½œè¿‡ç¨‹   -R é€’å½’æ“ä½œ    æ·»åŠ ç›®å½•çš„é»˜è®¤å®‰å…¨ä¸Šä¸‹æ–‡\nå¦‚æœæç¤ºæ‰¾ä¸åˆ°å‘½ä»¤çš„è¯è¯·å®‰è£… policycoreutils-python è½¯ä»¶åŒ…\n# semanage fcontext -a -t \u0026lt;æ–‡ä»¶å®‰å…¨ä¸Šä¸‹æ–‡ä¸­çš„ç±»å‹å­—æ®µ\u0026gt; \u0026#34;\u0026lt;ç›®å½•ï¼ˆåé¢ä¸åŠ æ–œæ ï¼‰\u0026gt;(/.*)?\u0026#34; æ³¨ï¼šç›®å½•æˆ–æ–‡ä»¶çš„é»˜è®¤å®‰å…¨ä¸Šä¸‹æ–‡å¯ä»¥é€šè¿‡ semanage fcontext -l å‘½ä»¤é…åˆ grep è¿‡æ»¤æŸ¥çœ‹ã€‚\nä¸º Nginx æ–°å¢ä¸€ä¸ªç½‘ç«™ç›®å½• /usr/share/nginx/html2 ä¹‹åï¼Œéœ€è¦ä¸ºå…¶è®¾ç½®ä¸åŸç›®å½•ç›¸åŒçš„é»˜è®¤å®‰å…¨ä¸Šä¸‹æ–‡ã€‚\n# semanage fcontext -a -t httpd_sys_content_t \u0026#34;/usr/share/nginx/html2(/.*)?\u0026#34; æ·»åŠ æŸç±»è¿›ç¨‹å…è®¸è®¿é—®çš„ç«¯å£\n# semanage port -a -t \u0026lt;æœåŠ¡ç±»å‹\u0026gt; -p \u0026lt;åè®®\u0026gt; \u0026lt;ç«¯å£å·\u0026gt; æ³¨ï¼šå„ç§æœåŠ¡ç±»å‹æ‰€å…è®¸çš„ç«¯å£å·å¯ä»¥é€šè¿‡ semanage port -l å‘½ä»¤é…åˆ grep è¿‡æ»¤æŸ¥çœ‹ã€‚\nä¸º Nginx éœ€è¦ä½¿ç”¨ 10080 çš„ç«¯å£ç”¨äº HTTP æœåŠ¡ã€‚\nsemanage port -a -t http_port_t -p tcp 10080 SELinux çš„è¿è¡ŒçŠ¶æ€ SELinux æœ‰ä¸‰ä¸ªè¿è¡ŒçŠ¶æ€ï¼Œåˆ†åˆ«æ˜¯disabled, permissive å’Œ enforcing\n Disableï¼š ç¦ç”¨SELinuxï¼Œä¸ä¼šç»™ä»»ä½•æ–°èµ„æºæ‰“Labelï¼Œå¦‚æœé‡æ–°å¯ç”¨çš„è¯ï¼Œå°†ä¼šç»™èµ„æºé‡æ–°æ‰“ä¸ŠLableï¼Œè¿‡ç¨‹ä¼šæ¯”è¾ƒç¼“æ…¢ã€‚ Permissiveï¼šå¦‚æœè¿åå®‰å…¨ç­–ç•¥ï¼Œå¹¶ä¸ä¼šçœŸæ­£çš„æ‰§è¡Œæ‹’ç»æ“ä½œï¼Œæ›¿ä»£çš„æ–¹å¼æ˜¯è®°å½•ä¸€æ¡logä¿¡æ¯ã€‚ Enforcing: é»˜è®¤æ¨¡å¼ï¼ŒSELinuxçš„æ­£å¸¸çŠ¶æ€ï¼Œä¼šå®é™…ç¦ç”¨è¿åç­–ç•¥çš„æ“ä½œ  æŸ¥çœ‹å½“å‰çš„è¿è¡ŒçŠ¶æ€\n# getenforceEnforcing ä¸´æ—¶æ”¹å˜è¿è¡ŒçŠ¶æ€ä¸ºPermissive\n# setenforce 0# getenforcePermissive ä¸´æ—¶æ”¹å˜è¿è¡ŒçŠ¶æ€ä¸º Enforcing\n# setenforce 1# getenforceEnforcing ä½¿ç”¨sestatuså¯ä»¥æŸ¥çœ‹å®Œæ•´çš„çŠ¶æ€ä¿¡æ¯\n# sestatusSELinux status: enabledSELinuxfs mount: /sys/fs/selinuxSELinux root directory: /etc/selinuxLoaded policy name: targetedCurrent mode: enforcingMode from config file: enforcingPolicy MLS status: enabledPolicy deny_unknown status: allowedMax kernel policy version: 30 æ€ä¹ˆå¯ç”¨SELinux å¦‚æœæ‚¨çš„ç¯å¢ƒä¸­ç¦ç”¨äº† SELinuxï¼Œåˆ™å¯ä»¥é€šè¿‡ç¼–è¾‘ /etc/selinux/config å¹¶è®¾ç½® SELINUX=permissive æ¥å¯ç”¨ SElinuxã€‚ç”±äº SELinux å½“å‰å°šæœªå¯ç”¨ï¼Œå› æ­¤æœ€å¥½ä¸è¦å°†å…¶è®¾ä¸ºç«‹å³å¼ºåˆ¶æ‰§è¡Œï¼Œå› ä¸ºæ­¤æ—¶ç³»ç»Ÿå¯èƒ½ä¼šå‡ºç°è¯¯æ ‡è®°çš„äº‹ä»¶ï¼Œå®ƒä¼šå¦¨ç¢ç³»ç»Ÿçš„æ­£å¸¸å¯åŠ¨ã€‚\næ‚¨å¯ä»¥åœ¨æ ¹ç›®å½•ä¸­åˆ›å»ºåä¸º .autorelabel çš„ç©ºæ–‡ä»¶ï¼Œç„¶åé‡æ–°å¯åŠ¨ï¼Œä»¥æ­¤æ¥å¼ºåˆ¶ç³»ç»Ÿè‡ªåŠ¨ä¸ºæ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿé‡æ–°æ ‡è®°SELinuxã€‚å¦‚æœç³»ç»Ÿä¸­é”™è¯¯è¿‡å¤šï¼Œåº”åœ¨å…è®¸æ¨¡å¼ä¸‹é‡æ–°å¯åŠ¨ï¼Œä»¥ç¡®ä¿å¯åŠ¨æˆåŠŸã€‚é‡æ–°æ ‡è®°æ‰€æœ‰å†…å®¹åï¼Œåˆ©ç”¨ /etc/selinux/config å°† SELinux è®¾ç½®ä¸ºå¼ºåˆ¶æ¨¡å¼å¹¶é‡æ–°å¯åŠ¨ï¼Œæˆ–è¿è¡Œ setenforce 1ã€‚\nå¦‚æœç³»ç»Ÿç®¡ç†å‘˜ä¸å¤ªç†Ÿæ‚‰å‘½ä»¤è¡Œï¼Œè¿˜å¯ä»¥é€‰æ‹©ç”¨äºç®¡ç† SELinux çš„å›¾å½¢å·¥å…·ã€‚\né’ˆå¯¹ Linux å‘è¡Œç‰ˆä¸­å†…ç½®çš„ç³»ç»Ÿï¼ŒSELinux æä¾›äº†ä¸€é“é¢å¤–çš„é˜²æŠ¤å±‚ã€‚ä¿æŒå¼€å¯ SELinuxï¼Œå°±èƒ½åœ¨ç³»ç»Ÿé­åˆ°ç ´åæ—¶ä¿æŠ¤æ‚¨çš„ç³»ç»Ÿã€‚\nSELinux Log SELinux çš„Logæ—¥å¿—é»˜è®¤è®°å½•åœ¨/var/log/audit/audit.log\n# cat /var/log/audit/audit.logtype=AVC msg=audit(1223024155.684:49): avc: denied { getattr } for pid=2000 comm=\u0026#34;httpd\u0026#34; path=\u0026#34;/var/www/html/file1\u0026#34; dev=dm-0 ino=399185 scontext=unconfined_u:system_r:httpd_t:s0 tcontext=system_u:object_r:samba_share_t:s0 tclass=file /var/log/message ä¹Ÿä¼šè®°å½•ç›¸åº”çš„ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š\nMay 7 18:55:56 localhost setroubleshoot: SELinux is preventing httpd (httpd_t) \u0026#34;getattr\u0026#34; to /var/www/html/file1 (samba_share_t). For complete SELinux messages. run sealert -l de7e30d6-5488-466d-a606-92c9f40d316d SELinux é…ç½®æ–‡ä»¶ SELinuxçš„é…ç½®æ–‡ä»¶ä½äº/etc/selinux/configã€‚é»˜è®¤é…ç½®æ–‡ä»¶ä¸»è¦ä¸¤éƒ¨åˆ†ï¼Œä¸€ä¸ªæ˜¯SELinuxçš„è¿è¡ŒçŠ¶æ€å’ŒSELinuxTypeã€‚ç›´æ¥åœ¨é…ç½®æ–‡ä»¶ä¸­ä¿®æ”¹SELinuxå°†ä¼šåœ¨ä¸‹æ¬¡å¯åŠ¨æ—¶ç”Ÿæ•ˆã€‚\n# This file controls the state of SELinux on the system. # SELINUX= can take one of these three values: # enforcing - SELinux security policy is enforced. # permissive - SELinux prints warnings instead of enforcing. # disabled - No SELinux policy is loaded. SELINUX=enforcing # SELINUXTYPE= can take one of these two values: # targeted - Targeted processes are protected, # mls - Multi Level Security protection. SELINUXTYPE=targeted SELinux Booleans Booleanså…è®¸åœ¨è¿è¡Œæ—¶ä¿®æ”¹SELinuxå®‰å…¨ç­–ç•¥ã€‚\nåˆ—å‡ºæ‰€æœ‰çš„Booleansé€‰é¡¹\n# semanage boolean -l SELinux boolean State Default Description smartmon_3ware (off , off) Determine whether smartmon can... mpd_enable_homedirs (off , off) Determine whether mpd can traverse... æ‚¨å¯ä»¥é€šè¿‡è¿è¡Œ getsebool -aï¼Œæ‰¾å‡ºç³»ç»Ÿä¸­å·²è®¾ç½®çš„å¸ƒå°”å€¼ã€‚\nä¸´æ—¶ä¿®æ”¹httpd_can_network_connect_dbçŠ¶æ€ä¸ºå¼€å¯\n# setsebool [é€‰é¡¹] \u0026lt;è§„åˆ™åç§°\u0026gt; \u0026lt;on|off\u0026gt; # setsebool httpd_can_network_connect_db on    é€‰é¡¹ åŠŸèƒ½     -P é‡å¯ä¾ç„¶ç”Ÿæ•ˆ    Tips\u0026amp;Questions flatpak Cannot install apps. - Error: Failed to read commit it works for me:\nsudo flatpak repair Cannot open acess to console, the root account is locked\u0026hellip; å…ˆæ˜¯æ·»åŠ ä¸€ä¸ª LV åˆ° /etc/fstabï¼Œç»“æœå¼€æœºæŠ¥é”™ï¼ŒåŸå› æ˜¯å†™é”™äº†ï¼š\nTime out ...Dependency failed for ... ç»“æŸåå°± Cannot open acess to console, the root account is lockedï¼Œä»€ä¹ˆä¹Ÿå¹²ä¸äº†ï¼Œåªèƒ½å¼ºåˆ¶å…³æœºã€‚\nè§£å†³æ–¹æ¡ˆæ˜¯é‡å¯è¿›å…¥ Fedora Live CDï¼ŒæŒ‚è½½ rootï¼Œä¿®æ”¹ /etc/fstabã€‚ä½†æ˜¯æ— æ³•æŒ‚è½½ï¼ŒæŒ‚è½½çš„æ˜¯ Fedora Live CD çš„ rootï¼Œæˆ‘ TM ä½›äº†ï¼ŒåŸå› åº”è¯¥æ˜¯è¿™ä¸¤ä¸ªåä¸€æ¨¡ä¸€æ ·ï¼ŒLive CD è¦†ç›–äº† rootã€‚æœ€åæ˜¯ç”¨ Ubntu Live CD è§£å†³ã€‚\nè¿™å‘Šè¯‰æˆ‘ä»¬ï¼Œä¸è¦åªæœ‰ä¸€ä¸ª Live CDã€‚è¿™è¿˜å‘Šè¯‰æˆ‘ä»¬ï¼Œå…ˆæ‰¾è‡ªå·±çš„åŸå› æ‰èƒ½æœ‰è€å¿ƒå»è§£å†³é—®é¢˜ã€‚\ndmesg-x86/cpu: SGX disabled by BIOS SGXæŠ€æœ¯çš„åˆ†æå’Œç ”ç©¶\nsnd_hda_codec_hdmi hdaudioC0D2: Monitor plugged-in, Failed to power up codec ret=[-13] set Kernel parametersï¼Œè¦ä½¿æ”¹å˜åœ¨é‡å¯åä»ç”Ÿæ•ˆï¼Œæ‚¨å¯ä»¥æ‰‹åŠ¨ç¼–è¾‘ /boot/grub/grub.cfgã€‚å¯¹äºåˆå­¦è€…ï¼Œå»ºè®®ç¼–è¾‘ /etc/default/grub å¹¶å°†æ‚¨çš„å†…æ ¸é€‰é¡¹æ·»åŠ è‡³ GRUB_CMDLINE_LINUX_DEFAULT è¡Œï¼š\nGRUB_CMDLINE_LINUX_DEFAULT=\u0026quot;snd_hda_codec_hdmi.enable_silent_stream=0\u0026quot; ç„¶åé‡æ–°ç”Ÿæˆ grub.cfg æ–‡ä»¶ï¼š\n# grub2grub-mkconfig2 -o /boot/grub2/grub.cfg Speed Up DNF å°è¯•æ›´æ”¹å‚æ•°\n$ sudo vi /etc/dnf/dnf.conf fastestmirror=true max_parallel_downloads=10 metadata_expire=2d  fastermirror é€‰æ‹©æœ€å¿«çš„é•œåƒ max_parallel_downloads ä¸€æ¬¡ä¸‹è½½å¤šä¸ªåŒ…  å°è¯•æ›´æ¢ä¸ºæ¸…åæºã€‚\nå¦‚æœåœ¨æ›´æ–°è¿‡ç¨‹ä¸­æŸä¸ªå°åŒ…ä¸‹è½½ä¸äº†ï¼Œå¯¼è‡´æ— æ³•æ›´æ–°ï¼Œå°è¯•åªä½¿ç”¨ ipv4\n$ sudo dnf update -4 -v -y ç¬¬ä¸‰æ–¹æº rpmfusion ç¬¬ä¸€æ­¥ä¸‹è½½åŸºç¡€åŒ…(å¼€æºå’Œé—­æº)ï¼Œ è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨bfsuæ¥ä¸‹è½½ï¼Œä»¥é¿å…ç½‘ç»œé—®é¢˜ï¼Œç»ˆç«¯è¾“å…¥:\nsudo yum install --nogpgcheck https://mirrors.bfsu.edu.cn/rpmfusion/free/fedora/rpmfusion-free-release-$(rpm -E %fedora).noarch.rpm https://mirrors.bfsu.edu.cn/rpmfusion/nonfree/fedora/rpmfusion-nonfree-release-$(rpm -E %fedora).noarch.rpm ç¬¬äºŒæ­¥ï¼Œä½¿ç”¨bfsué•œåƒ\nsudo sed -e \u0026#39;s/metalink/#metalink/g\u0026#39; -e \u0026#39;s|#baseurl=http://download1.rpmfusion.org/|baseurl Fedorafun è¿™é‡Œæœ‰ä¸€äº›å›½å†…å¸¸ç”¨è½¯ä»¶ï¼Œä»¥åŠä¸€äº›å¼€æºè½¯ä»¶,ç»ˆç«¯è¾“å…¥ï¼š\nsudo sh -c \u0026#34;echo \u0026#39;[fedorafun] name=fedorafun baseurl=https://repo.fedora.fun/ enabled=1 countme=1 metadata_expire=7d repo_gpgcheck=0 type=rpm gpgcheck=0 skip_if_unavailable=False\u0026#39; \u0026gt; /etc/yum.repos.d/fedorafun.repo\u0026#34; CentOS Red Hat Enterprise Linux Developer Subscription Need to log in to download RHEL.\næ€æ ·ä½¿ç”¨ Red Hat Subscription Manager (RHSM) å°†ç³»ç»Ÿæ³¨å†Œåˆ°çº¢å¸½å®¢æˆ·é—¨æˆ·ç½‘ç«™ï¼Ÿ\n# subscription-manager register --username \u0026lt;username\u0026gt; --password \u0026lt;password\u0026gt; --auto-attach é…ç½® Red Hat Enterprise Linux 8 ä¸­åŸºæœ¬ç³»ç»Ÿè®¾ç½®çš„æŒ‡å—\nFrey\u0026rsquo;s Blog\n æ‰€æœ‰æ–‡ç«  åˆ†ç±»   å…³äºå¤šçº¿ç¨‹ æ¦‚è¿° æ¯ä¸ªæ­£åœ¨ç³»ç»Ÿä¸Šè¿è¡Œçš„ç¨‹åºéƒ½æ˜¯ä¸€ä¸ªè¿›ç¨‹ã€‚æ¯ä¸ªè¿›ç¨‹åŒ…å«ä¸€åˆ°Nä¸ªçº¿ç¨‹ã€‚è¿›ç¨‹ä¹Ÿå¯èƒ½æ˜¯æ•´ä¸ªç¨‹åºæˆ–è€…æ˜¯éƒ¨åˆ†ç¨‹åºçš„åŠ¨æ€æ‰§è¡Œã€‚çº¿ç¨‹æ˜¯ä¸€ç»„æŒ‡ä»¤çš„é›†åˆï¼Œæˆ–è€…æ˜¯ç¨‹åºçš„ç‰¹æ®Šæ®µï¼Œå®ƒå¯ä»¥åœ¨ç¨‹åºé‡Œç‹¬ç«‹æ‰§è¡Œã€‚ä¹Ÿå¯ä»¥æŠŠå®ƒç†è§£ä¸ºä»£ç è¿è¡Œçš„ä¸Šä¸‹æ–‡ã€‚æ‰€ä»¥çº¿ç¨‹åŸºæœ¬ä¸Šæ˜¯è½»é‡çº§çš„è¿›ç¨‹ï¼Œå®ƒè´Ÿè´£åœ¨å•ä¸ªç¨‹åºé‡Œæ‰§è¡Œå¤šä»»åŠ¡ã€‚é€šå¸¸ç”±æ“ä½œç³»ç»Ÿè´Ÿè´£å¤šä¸ªçº¿ç¨‹çš„è°ƒåº¦å’Œæ‰§è¡Œã€‚çº¿ç¨‹æ˜¯ç¨‹åºä¸­ä¸€ä¸ªå•ä¸€çš„é¡ºåºæ§åˆ¶æµç¨‹ã€‚åœ¨å•ä¸ªç¨‹åºä¸­åŒæ—¶è¿è¡Œå¤šä¸ªçº¿ç¨‹å®Œæˆä¸åŒçš„å·¥ä½œ,ç§°ä¸ºå¤šçº¿ç¨‹ã€‚\nçº¿ç¨‹å’Œè¿›ç¨‹çš„åŒºåˆ«åœ¨äº,å­è¿›ç¨‹å’Œçˆ¶è¿›ç¨‹æœ‰ä¸åŒçš„ä»£ç å’Œæ•°æ®ç©ºé—´,è€Œå¤šä¸ªçº¿ç¨‹åˆ™å…±äº«æ•°æ®ç©ºé—´,æ¯ä¸ªçº¿ç¨‹æœ‰è‡ªå·±çš„æ‰§è¡Œå †æ ˆå’Œç¨‹åºè®¡æ•°å™¨ä¸ºå…¶æ‰§è¡Œä¸Šä¸‹æ–‡.å¤šçº¿ç¨‹ä¸»è¦æ˜¯ä¸ºäº†èŠ‚çº¦CPUæ—¶é—´,å‘æŒ¥åˆ©ç”¨,æ ¹æ®å…·ä½“æƒ…å†µè€Œå®š. çº¿ç¨‹çš„è¿è¡Œä¸­éœ€è¦ä½¿ç”¨è®¡ç®—æœºçš„å†…å­˜èµ„æºå’ŒCPUã€‚\nåŒæ­¥å¤šçº¿ç¨‹ï¼ˆSMTï¼‰æ˜¯ä¸€ç§åœ¨ä¸€ä¸ªCPU çš„æ—¶é’Ÿå‘¨æœŸå†…èƒ½å¤Ÿæ‰§è¡Œæ¥è‡ªå¤šä¸ªçº¿ç¨‹çš„æŒ‡ä»¤çš„ç¡¬ä»¶å¤šçº¿ç¨‹æŠ€æœ¯ã€‚æœ¬è´¨ä¸Šï¼ŒåŒæ­¥å¤šçº¿ç¨‹æ˜¯ä¸€ç§å°†çº¿ç¨‹çº§å¹¶è¡Œå¤„ç†ï¼ˆå¤šCPUï¼‰è½¬åŒ–ä¸ºæŒ‡ä»¤çº§å¹¶è¡Œå¤„ç†ï¼ˆåŒä¸€CPUï¼‰çš„æ–¹æ³•ã€‚ åŒæ­¥å¤šçº¿ç¨‹æ˜¯å•ä¸ªç‰©ç†å¤„ç†å™¨ä»å¤šä¸ªç¡¬ä»¶çº¿ç¨‹ä¸Šä¸‹æ–‡åŒæ—¶åˆ†æ´¾æŒ‡ä»¤çš„èƒ½åŠ›ã€‚åŒæ­¥å¤šçº¿ç¨‹ç”¨äºåœ¨å•†ç”¨ç¯å¢ƒä¸­åŠä¸ºå‘¨æœŸ/æŒ‡ä»¤ï¼ˆCPIï¼‰è®¡æ•°è¾ƒé«˜çš„å·¥ä½œè´Ÿè½½åˆ›é€ æ€§èƒ½ä¼˜åŠ¿ã€‚ å¤„ç†å™¨é‡‡ç”¨è¶…æ ‡é‡ç»“æ„ï¼Œæœ€é€‚äºä»¥å¹¶è¡Œæ–¹å¼è¯»å–åŠè¿è¡ŒæŒ‡ä»¤ã€‚åŒæ­¥å¤šçº¿ç¨‹ä½¿æ‚¨å¯åœ¨åŒä¸€å¤„ç†å™¨ä¸ŠåŒæ—¶è°ƒåº¦ä¸¤ä¸ªåº”ç”¨ç¨‹åºï¼Œä»è€Œåˆ©ç”¨å¤„ç†å™¨çš„è¶…æ ‡é‡ç»“æ„æ€§è´¨ã€‚\nè¶…çº¿ç¨‹ï¼ˆHT, Hyper-Threadingï¼‰æ˜¯è‹±ç‰¹å°”ç ”å‘çš„ä¸€ç§æŠ€æœ¯ï¼Œäº2002å¹´å‘å¸ƒã€‚é€šè¿‡æ­¤æŠ€æœ¯ï¼Œè‹±ç‰¹å°”å®ç°åœ¨ä¸€ä¸ªå®ä½“CPUä¸­ï¼Œæä¾›ä¸¤ä¸ªé€»è¾‘çº¿ç¨‹ã€‚\nå…¶å®å¯ä»¥å°†SMTå’ŒHTç†è§£ä¸ºä¸€ä¸ªæŠ€æœ¯ã€‚\n Hyper-threading (officially called Hyper- ThreadingTechnology or HT Technology, and abbreviated as HTT orHT) is Intelâ€™s proprietary simultaneous multithreading (SMT) implementation used to improve parallelization ofcomputations (doing multiple tasks at once) performed onx86 microprocessors.\næ¥è‡ª https://cn.bing.com/search?q=intel+ht\u0026amp;go=%E6%8F%90%E4%BA%A4\u0026amp;qs=ds\u0026amp;form=QBLHCN\n ä¸å¤šè¿›ç¨‹çš„åŒºåˆ«  â€œè¿›ç¨‹â€”â€”èµ„æºåˆ†é…çš„æœ€å°å•ä½ï¼Œçº¿ç¨‹â€”â€”ç¨‹åºæ‰§è¡Œçš„æœ€å°å•ä½â€\n å®é™…åº”ç”¨ä¸­åŸºæœ¬ä¸Šéƒ½æ˜¯â€œè¿›ç¨‹+çº¿ç¨‹â€çš„ç»“åˆæ–¹å¼ï¼Œåƒä¸‡ä¸è¦çœŸçš„é™·å…¥ä¸€ç§éæ­¤å³å½¼çš„è¯¯åŒºã€‚\n   å¯¹æ¯”ç»´åº¦ å¤šè¿›ç¨‹ å¤šçº¿ç¨‹ æ€»ç»“     æ•°æ®å…±äº«ã€åŒæ­¥ æ•°æ®å…±äº«å¤æ‚ï¼Œéœ€è¦ç”¨IPCï¼›æ•°æ®æ˜¯åˆ†å¼€çš„ï¼ŒåŒæ­¥ç®€å• å› ä¸ºå…±äº«è¿›ç¨‹æ•°æ®ï¼Œæ•°æ®å…±äº«ç®€å•ï¼Œä½†ä¹Ÿæ˜¯å› ä¸ºè¿™ä¸ªåŸå› å¯¼è‡´åŒæ­¥å¤æ‚ å„æœ‰ä¼˜åŠ¿   å†…å­˜ã€CPU å ç”¨å†…å­˜å¤šï¼Œåˆ‡æ¢å¤æ‚ï¼ŒCPUåˆ©ç”¨ç‡ä½ å ç”¨å†…å­˜å°‘ï¼Œåˆ‡æ¢ç®€å•ï¼ŒCPUåˆ©ç”¨ç‡é«˜ çº¿ç¨‹å ä¼˜   åˆ›å»ºé”€æ¯ã€åˆ‡æ¢ åˆ›å»ºé”€æ¯ã€åˆ‡æ¢å¤æ‚ï¼Œé€Ÿåº¦æ…¢ åˆ›å»ºé”€æ¯ã€åˆ‡æ¢ç®€å•ï¼Œé€Ÿåº¦å¾ˆå¿« çº¿ç¨‹å ä¼˜   ç¼–ç¨‹ã€è°ƒè¯• ç¼–ç¨‹ç®€å•ï¼Œè°ƒè¯•ç®€å• ç¼–ç¨‹å¤æ‚ï¼Œè°ƒè¯•å¤æ‚ è¿›ç¨‹å ä¼˜   å¯é æ€§ è¿›ç¨‹é—´ä¸ä¼šäº’ç›¸å½±å“ ä¸€ä¸ªçº¿ç¨‹æŒ‚æ‰å°†å¯¼è‡´æ•´ä¸ªè¿›ç¨‹æŒ‚æ‰ è¿›ç¨‹å ä¼˜   åˆ†å¸ƒå¼ é€‚åº”äºå¤šæ ¸ã€å¤šæœºåˆ†å¸ƒå¼ï¼›å¦‚æœä¸€å°æœºå™¨ä¸å¤Ÿï¼Œæ‰©å±•åˆ°å¤šå°æœºå™¨æ¯”è¾ƒç®€å• é€‚åº”äºå¤šæ ¸åˆ†å¸ƒå¼ è¿›ç¨‹å ä¼˜     éœ€è¦æ³¨æ„ï¼š   1ï¼‰éœ€è¦é¢‘ç¹åˆ›å»ºé”€æ¯çš„ä¼˜å…ˆç”¨çº¿ç¨‹\n2ï¼‰éœ€è¦è¿›è¡Œå¤§é‡è®¡ç®—çš„ä¼˜å…ˆä½¿ç”¨çº¿ç¨‹\n3ï¼‰å¼ºç›¸å…³çš„å¤„ç†ç”¨çº¿ç¨‹ï¼Œå¼±ç›¸å…³çš„å¤„ç†ç”¨è¿›ç¨‹\nä¸€èˆ¬çš„Serveréœ€è¦å®Œæˆå¦‚ä¸‹ä»»åŠ¡ï¼šæ¶ˆæ¯æ”¶å‘ã€æ¶ˆæ¯å¤„ç†ã€‚â€œæ¶ˆæ¯æ”¶å‘â€å’Œâ€œæ¶ˆæ¯å¤„ç†â€å°±æ˜¯å¼±ç›¸å…³çš„ä»»åŠ¡ï¼Œè€Œâ€œæ¶ˆæ¯å¤„ç†â€é‡Œé¢å¯èƒ½åˆåˆ†ä¸ºâ€œæ¶ˆæ¯è§£ç â€ã€â€œä¸šåŠ¡å¤„ç†â€ï¼Œè¿™ä¸¤ä¸ªä»»åŠ¡ç›¸å¯¹æ¥è¯´ç›¸å…³æ€§å°±è¦å¼ºå¤šäº†ã€‚å› æ­¤â€œæ¶ˆæ¯æ”¶å‘â€å’Œâ€œæ¶ˆæ¯å¤„ç†â€å¯ä»¥åˆ†è¿›ç¨‹è®¾è®¡ï¼Œâ€œæ¶ˆæ¯è§£ç â€ã€â€œä¸šåŠ¡å¤„ç†â€å¯ä»¥åˆ†çº¿ç¨‹è®¾è®¡ã€‚å½“ç„¶è¿™ç§åˆ’åˆ†æ–¹å¼ä¸æ˜¯ä¸€æˆä¸å˜çš„ï¼Œä¹Ÿå¯ä»¥æ ¹æ®å®é™…æƒ…å†µè¿›è¡Œè°ƒæ•´ã€‚\n4ï¼‰å¯èƒ½è¦æ‰©å±•åˆ°å¤šæœºåˆ†å¸ƒçš„ç”¨è¿›ç¨‹ï¼Œå¤šæ ¸åˆ†å¸ƒçš„ç”¨çº¿ç¨‹\n5ï¼‰éƒ½æ»¡è¶³éœ€æ±‚çš„æƒ…å†µä¸‹ï¼Œç”¨ä½ æœ€ç†Ÿæ‚‰ã€æœ€æ‹¿æ‰‹çš„æ–¹å¼\næ¥è‡ª https://blog.csdn.net/lishenglong666/article/details/8557215\n å¦‚ä½•ä½¿ç”¨ï¼Ÿ éœ€è¦CPUã€BIOSã€æ“ä½œç³»ç»Ÿã€åº”ç”¨è½¯ä»¶éƒ½æ”¯æŒå¤šçº¿ç¨‹æŠ€æœ¯æ‰å¯ä»¥ã€‚\næ”¯æŒå¤šçº¿ç¨‹çš„CPU Power CPU æ”¯æŒçš„SMTæŠ€æœ¯ï¼š\n Simultaneous multithreading (SMT) is a processor technology that allows multiple instruction streams (threads) to run concurrently on the same physical processor, improving overall throughput. To the operating system, each hardware thread is treated as an independent logical processor. Single-threaded (ST) execution mode is also supported.\næ¥è‡ª https://www.ibm.com/support/knowledgecenter/SSFHY8_6.2/reference/am5gr_f0106.html?view=embed\n Intel CPU æ”¯æŒçš„HTæŠ€æœ¯ï¼š\n IntelÂ® Hyper-Threading Technology (IntelÂ® HT Technology) uses processor resources more efficiently, enabling multiple threads to run on each core. As a performance feature, it also increases processor throughput, improving overall performance on threaded software. IntelÂ® HT Technology is available on the latest IntelÂ® Coreâ„¢ vProâ„¢ processors, the IntelÂ® Coreâ„¢ processor family, the IntelÂ® Coreâ„¢ M processor family, and the IntelÂ® XeonÂ® processor family. By combining one of these IntelÂ® processors and chipsets with an operating system and BIOS supporting IntelÂ® HT Technology.\næ¥è‡ª https://www.intel.com/content/www/us/en/architecture-and-technology/hyper-threading/hyper-threading-technology.html\n SMT/HTæ”¯æŒæƒ…å†µ  Intel CPU : 2 Thread/Core Power9 CPUï¼š 8 Thread /Core Sparc: 8 Thread /Core  RHEL7/CentOS7 \u0026amp; Intel CPU BIOS ä¸­ä¿®æ”¹SMT/HT çš„è®¾ç½®ï¼Œä½¿ç”¨è¿™ç§æ–¹å¼Enableæˆ–è€…Disableåï¼Œå°†æ°¸ä¹…ç”Ÿæ•ˆï¼Œéœ€è¦é‡å¯ã€‚\nHyper-Threading Technology BIOS Setup Options For IntelÂ® Desktop/Server Boards setup option location is the main menu of the BIOS setup program. â€¢ Located on the same menu screen that already had Processor Type, Processor Speed, System Bus Speed, and other related processor fields. â€¢ Setup Option Text â—‹ The field is called Hyper-Threading Technology. â€¢ Setup Option Values â—‹ The setup option values are Enabled and Disabled. â€¢ Setup Option Help Text æ¥è‡ª \u0026lt;https://www.intel.com/content/www/us/en/support/articles/000007645/boards-and-kits/desktop-boards.html\u0026gt; RHEL/CentOSæ“ä½œç³»ç»Ÿä¸­æŸ¥çœ‹å¤šçº¿ç¨‹æƒ…å†µï¼šï¼ˆæ›´å¤šä¿¡æ¯ï¼šhttps://access.redhat.com/solutions/rhel-smtï¼‰\n# lscpu | grep -e Socket -e Core -e Thread Thread(s) per core: 2 # çº¿ç¨‹æ•° Core(s) per socket: 6 # core æ•°é‡ Socket(s): 2 æˆ–è€…\n# grep -H . /sys/devices/system/cpu/cpu*/topology/thread_siblings_list | sort -n -t ':' -k 2 -u # æ˜¾ç¤º /sys/devices/system/cpu/cpu0/topology/thread_siblings_list:0 # è¡¨ç¤ºHTå…³é—­ # æ˜¾ç¤º /sys/devices/system/cpu/cpu0/topology/thread_siblings_list:0-1 # è¡¨ç¤º HT å¯ç”¨ æ“ä½œç³»ç»Ÿå±‚å…³é—­å¤šçº¿ç¨‹æœ‰å‡ ç§åŠæ³•ï¼š\n æ–¹æ³•ä¸€ï¼šä½¿ç”¨nosmtå¯åŠ¨å‚æ•°ï¼Œéœ€è¦æ–°çš„x86 CPUï¼Œéœ€è¦é‡å¯  # grubby --args=nosmt --update-kernel=DEFAULT # grub2-mkconfig -o /boot/grub/grub.conf # åˆ›å»ºæ–°çš„grub.conf # reboot #é‡å¯  æ–¹æ³•äºŒï¼šä¸´æ—¶å…³é—­ï¼Œé‡å¯åå¤±æ•ˆ  # echo off \u0026gt; /sys/devices/system/cpu/smt/control /sys/devices/system/cpu/smt/control: This file allows to read out the SMT control state and provides the ability to disable or (re)enable SMT. The possible states are: ============== =================================================== on SMT is supported by the CPU and enabled. All logical CPUs can be onlined and offlined without restrictions. off SMT is supported by the CPU and disabled. Only the so called primary SMT threads can be onlined and offlined without restrictions. An attempt to online a non-primary sibling is rejected forceoff Same as 'off' but the state cannot be controlled. Attempts to write to the control file are rejected. notsupported The processor does not support SMT. It's therefore not affected by the SMT implications of L1TF. Attempts to write to the control file are rejected. ============== =================================================== The possible states which can be written into this file to control SMT state are: - on - off - forceoff /sys/devices/system/cpu/smt/active: This file reports whether SMT is enabled and active, i.e. if on any physical core two or more sibling threads are online. AIX \u0026amp; Power Power9 CPUé»˜è®¤æ”¯æŒ8çº¿ç¨‹ï¼Œä½¿ç”¨smtctlå‘½ä»¤å¯ä»¥æŸ¥çœ‹å’Œä¿®æ”¹ smtçº§åˆ«ã€‚æ›´å¤šå†…å®¹æŸ¥çœ‹https://www.ibm.com/support/knowledgecenter/ssw_aix_72/com.ibm.aix.cmds5/smtctl.htm\n æŸ¥çœ‹ SMT level  smtctl  ä¸´æ—¶ä¿®æ”¹ SMT level, # å¯ä»¥æ˜¯ 1, 2, 4 or 8ï¼Œé‡å¯åå°†æ¢å¤åŸæ¥çš„smt level  smtctl -t 2 -w now  ä¿®æ”¹ SMT levelæ°¸ä¹…ç”Ÿæ•ˆï¼Œ# å¯ä»¥æ˜¯ 1, 2, 4 or 8ï¼Œå®Œæˆåéœ€è¦ä½¿ç”¨bosbootåˆ›å»ºå¯åŠ¨è®¾å¤‡   smtctl -t 4 -w boot bosboot -a # Creates complete boot image and device. RHEL7 \u0026amp; Power OpenPower CPU é»˜è®¤æ”¯æŒ4çº¿ç¨‹ï¼Œå®‰è£…RHELåå¯ä»¥ä½¿ç”¨å¼€æºçš„å·¥å…· ppc64_cpuè¿›è¡ŒæŸ¥çœ‹å’Œä¿®æ”¹å¤šçº¿ç¨‹ï¼ˆæ›´å¤šæŸ¥çœ‹ https://github.com/ibm-power-utilities/powerpc-utilsï¼‰ã€‚\nppc64_cpu --------- This allows users to set the smt state, smt-snooze-delay and other settings on ppc64 processors. It also allows users to control the number of processor cores which are online (not in the sleep state). æ¥è‡ª \u0026lt;https://github.com/ibm-power-utilities/powerpc-utils\u0026gt; 1ï¼ŒæŸ¥çœ‹ SMT level\nppc64_cpu --smt 2ï¼Œä¿®æ”¹ SMT çº§åˆ«ï¼Œ # is 1, 2, 4 or on\nppc64_cpu --smt=# 3ï¼Œ å…³é—­ smtæ”¯æŒ\nppc64_cpu --smt=off å…¶ä»– oracleæ•°æ®åº“ Oracle Database åœ¨12cä¹‹å‰windowså¹³å°ä¸‹æ”¯æŒå¤šçº¿ç¨‹ï¼ŒUnixå’ŒLinuxåªæ”¯æŒå¤šè¿›ç¨‹æ¨¡å¼ã€‚åœ¨Oracle Database 12cä¸­ï¼ŒOracleå¼•å…¥äº†å¤šçº¿ç¨‹æ¨¡å¼ï¼Œå…è®¸åœ¨Windowså¹³å°ä¹‹å¤–çš„Unixã€Linuxç³»ç»Ÿä½¿ç”¨å¤šçº¿ç¨‹æ¨¡å¼ï¼Œç»“åˆå¤šè¿›ç¨‹ä¸å¤šçº¿ç¨‹æ¨¡å¼ï¼ŒOracleå¯ä»¥æ”¹è¿›è¿›ç¨‹ç®¡ç†ä¸æ€§èƒ½ã€‚\né€šè¿‡è®¾ç½®åˆå§‹åŒ–å‚æ•°threaded_executionï¼Œå¯ä»¥å¯ç”¨æˆ–å…³é—­å¤šçº¿ç¨‹æ¨¡å¼ï¼Œè¯¥å‚æ•°ç¼ºçœå€¼ä¸ºFalseï¼Œè®¾ç½®ä¸ºTRUEå¯ç”¨12cçš„è¿™ä¸ªæ–°ç‰¹æ€§ï¼š\nSQL\u0026gt; show parameter threaded_exec NAME TYPE VALUE --- threaded_execution boolean FALSE SQL\u0026gt; alter system set threaded_execution=true scope=spfile; System altered. è¯¥å‚æ•°é‡æ–°å¯åŠ¨æ•°æ®åº“åç”Ÿæ•ˆï¼Œä½†æ˜¯æ³¨æ„ï¼Œå¤šçº¿ç¨‹æ¨¡å¼ï¼Œä¸æ”¯æŒæ“ä½œç³»ç»Ÿè®¤è¯ï¼Œä¸èƒ½ç›´æ¥å¯åŠ¨æ•°æ®åº“ï¼Œéœ€è¦æä¾›SYSçš„å¯†ç è®¤è¯åæ–¹èƒ½å¯åŠ¨æ•°æ®åº“ï¼š\nSQL\u0026gt; shutdown immediate; SQL\u0026gt; startup ORA-01017: invalid username/password; logon denied # éœ€è¦é€šè¿‡ç”¨æˆ·åå’Œå¯†ç ç™»å½•æ•°æ®åº“ã€‚ ç”¨ps -ef æ£€æŸ¥ä¸€ä¸‹è¿›ç¨‹/çº¿ç¨‹ï¼š\n[oracle@enmocoredb dbs]$ ps -ef|grep ora_ oracle 27404 1 0 17:00 ? 00:00:00 ora_pmon_core oracle 27406 1 0 17:00 ? 00:00:00 ora_psp0_core oracle 27408 1 3 17:00 ? 00:00:05 ora_vktm_core oracle 27412 1 0 17:00 ? 00:00:00 ora_u004_core oracle 27418 1 0 17:00 ? 00:00:00 ora_u005_core oracle 27424 1 0 17:00 ? 00:00:00 ora_dbw0_core å…¶ä¸­U\u0026lt;NNN\u0026gt;è¿›ç¨‹æ˜¯å…±äº«çº¿ç¨‹çš„\u0026quot;å®¹å™¨è¿›ç¨‹\u0026quot;ï¼Œæ¯ä¸ªè¿›ç¨‹å¯ä»¥å®¹çº³100ä¸ªçº¿ç¨‹ã€‚ æ¥è‡ª https://www.eygle.com/archives/2013/07/oracle_database_12c_multithreaded_model.html è¿æ¥çƒ­ç‚¹   æ‰“å¼€WIFI\nifconfig interface up   æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„æ— çº¿ç½‘ç»œä¿¡å·\niw wlp2s0 scan | grep SSID   è¿æ¥æ— çº¿ç½‘\nwpa_supplicant -B -i wlp2s0 -c \u0026lt;(wpa_passphrase \u0026#34;SSID\u0026#34; \u0026#34;passwd\u0026#34;)   åˆ†é…IPåœ°å€\ndhclient interface   æŸ¥çœ‹æ— çº¿ç½‘å¡åœ°å€ä¿¡æ¯ï¼Œæœ‰ipåœ°å€è¡¨ç¤ºç½‘ç»œè¿æ¥æˆåŠŸ\nifconfig interface   PPPOE ï¼ˆADSLï¼‰æ‹¨å·ä¸Šç½‘   å®‰è£…æ‹¨å·è½¯ä»¶\ndnf install rp-pppoe* ppp*   è®¾å®š\npppoe-setup   æ‹¨å·ä¸Šç½‘\npppoe-stoppppoe-start   å®‰è£…ä¸­æ–‡è¾“å…¥æ³•   å®‰è£… fcitx\ndnf install fcitx-im fcitx-configtool fcitx-googlepinyin   é…ç½®\n$ nano ~/.xprofile # or ~/.bashrc export GTK_MODULE=fcitx export QT_IM_MODULE=fcitx export XMODIFIERS=\u0026#34;@im=fcitx\u0026#34;   fcitx æ²¡å›¾æ ‡ï¼šé‡è£…fcitxï¼Œåœ¨fcitxé…ç½®é‡Œå…³æ‰Kimpanel\n  å…³é—­è§¦æ‘¸æ¿ $ dnf install xorg-x11-apps synclient TouchpadOff=1\t# å…³é—­ synclient TouchpadOff=0\t# å¼€å¯ ç”¨ MTP æŒ‚è½½æ‰‹æœº   å®‰è£…jmtpfs\ndnf install jmtpfs   æŸ¥çœ‹æ‰‹æœº â€œbusnumâ€å’Œâ€œdevnumâ€\njmptfs -l   å»ºç«‹æŒ‚è½½ç‚¹\nmkdir /media/dir   æŒ‚è½½æ‰‹æœº\njmtpfs -device=busnum,devnum /media/dir/   æŸ¥æ‰¾ä¾èµ– $ yum whatprovide package $ dnf provides package é»˜è®¤å­—ä½“ CentOS é»˜è®¤å­—ä½“ç›®å½• /lib/kbd/consolefonts\nçº¯å‘½ä»¤è¡Œæ˜¯ä¸èƒ½ä½¿ç”¨ç³»ç»Ÿä¹‹å¤–çš„å­—ä½“çš„ã€‚\nCentOS Minimal + Xfce base æºä¸ epel æºï¼Œä½¿ç”¨ç”¨é˜¿é‡Œé•œåƒ: https://developer.aliyun.com/mirror/\n  å®‰è£…Xfce4ï¼Œå…ˆå®‰è£… Xfce å¯ä»¥ä¿è¯ä¸å®‰è£…å¤šä½™çš„åŒ…\ndnf group listdnf groupinstall Xfce   å®‰è£… X Window system\ndnf groupinstall \u0026#34;X Window system\u0026#34;   éªŒè¯\nsystemctl isolate graphical.target   è®¾ç½®\n# è®¾ç½®æˆå‘½ä»¤æ¨¡å¼systemctl set-default multi-user.target\t# è®¾ç½®æˆå›¾å½¢æ¨¡å¼systemctl set-default graphical.target\t   å®‰è£…ä¸­æ–‡å­—ä½“å’Œä¸­æ–‡è¾“å…¥æ³•æ¥·ä½“å­—ä½“\ndnf install cjkuni-ukai-fonts   è¾“å…¥æ³•éœ€è¦å®‰è£…å¦‚ä¸‹åŒ…ï¼š\n ibusï¼Œ è¿™ä¸ªåŒ…é‡Œæœ‰ibus-daemonè¿™ä¸ªå¹³å°æœåŠ¡å™¨ç¨‹åºå’Œibusè¿™ä¸ªé…ç½®åŠ©æ‰‹ã€‚ ibus-libpinyinï¼Œ è¿™ä¸ªæ˜¯ibuså¹³å°ä¸‹å…·ä½“çš„æ‹¼éŸ³è¾“å…¥æ³•ã€‚ im-chooser,è¿™ä¸ªæ˜¯è¾“å…¥æ³•å¹³å°é€‰æ‹©åŠ©æ‰‹ç¨‹åºã€‚ æ‰§è¡Œim-chooserï¼Œé€‰æ‹©è¾“å…¥æ³•å¹³å°å’Œè¾“å…¥æ³•ã€‚é‡æ–°ç™»å½•ç³»ç»Ÿã€‚    xfce ä¸»é¢˜\n ç½‘ç«™ï¼šxfce-look.org ä¸»é¢˜ç›®å½•ï¼š /usr/share/themes æˆ– ~/.themes å›¾æ ‡é¼ æ ‡ç›®å½•ï¼š /usr/share/icons æˆ– ~/.icons å£çº¸ï¼š /usr/share/background , /usr/share/wallpapers Plank    EPEL EPELçš„å…¨ç§°å« Extra Packages for Enterprise Linux ã€‚EPELæ˜¯ç”± Fedora ç¤¾åŒºæ‰“é€ ï¼Œä¸º RHEL åŠè¡ç”Ÿå‘è¡Œç‰ˆå¦‚ CentOSã€Scientific Linux ç­‰æä¾›é«˜è´¨é‡è½¯ä»¶åŒ…çš„é¡¹ç›®ã€‚è£…ä¸Šäº† EPELä¹‹åï¼Œå°±ç›¸å½“äºæ·»åŠ äº†ä¸€ä¸ªç¬¬ä¸‰æ–¹æºã€‚\nå¦‚æœä½ çŸ¥é“rpmfusion.orgçš„è¯ï¼Œæ‹¿ rpmfusion åšæ¯”è¾ƒè¿˜æ˜¯å¾ˆæ°å½“çš„ï¼Œrpmfusion ä¸»è¦ä¸ºæ¡Œé¢å‘è¡Œç‰ˆæä¾›å¤§é‡rpmåŒ…ï¼ˆåªæœ‰å¼€æºé©±åŠ¨æ‰èƒ½è¿›å®˜æ–¹æºï¼Œæƒ³è¦é—­æºé©±åŠ¨è£…rpmfusionï¼‰ï¼Œè€ŒEPELåˆ™ä¸ºæœåŠ¡å™¨ç‰ˆæœ¬æä¾›å¤§é‡çš„rpmåŒ…ï¼Œè€Œä¸”å¤§å¤šæ•°rpmåŒ…åœ¨å®˜æ–¹ repository ä¸­æ˜¯æ‰¾ä¸åˆ°çš„ã€‚\nopenSUSE /ËŒoÊŠpÉ™nËˆsuËzÉ™/\nä¸ºä»€ä¹ˆé€‰æ‹© openSUSE Free and Open Source ç¡®å®šä½ å¿ƒç›®ä¸­çš„è´¡çŒ®è€…ä»¬æ˜¯ä»€ä¹ˆæ ·çš„ï¼Œä»è€Œèšæ‹¢åˆ°è¿™æ ·çš„äººã€‚\nç‹­ä¹‰çš„è‡ªç”±å¼€æºæ¦‚å¿µ ç‹­ä¹‰çš„è‡ªç”±å¼€æºæ¦‚å¿µæ˜¯ï¼šè‡ªç”±åœ°å¼€æ”¾æºä»£ç ã€‚å³ï¼šè½¯ä»¶ä½œè€…æŠŠæºä»£ç å…¬å¼€å‘å¸ƒï¼Œç»™äºˆä½ ä¿®æ”¹å¹¶äºŒæ¬¡å‘å¸ƒçš„æƒåˆ©ã€‚å°±è¿™æ ·ï¼Œæ²¡åˆ«çš„äº†ã€‚\næµ‹è¯•ã€è°ƒè¯•ã€æ•…éšœå—ç†ä¸ä¿®å¤ã€æ¥å—æ–°åŠŸèƒ½è¯·æ±‚ã€æ¥å—ä»£ç åˆå¹¶è¯·æ±‚ã€æ¥å—åˆ«äººçš„å¸®åŠ©ã€ç”¨æˆ·ç¤¾åŒºå»ºç«‹ã€äº’åŠ¨ã€æ•´ä¸ªè‡ªç”±å¼€æºç”Ÿæ€çš„ç»´æŠ¤ï¼Œç»Ÿç»Ÿéƒ½æ˜¯å®Œå…¨æ²¡æœ‰ï¼Œè°æ„¿æ„å¹²è°å¹²ï¼Œè·Ÿæˆ‘æ²¡æœ‰å…³ç³»ã€‚æˆ–è€…è¿™ä¹ˆè¯´ï¼šâ€œå†™å®Œæ‹‰å€’â€ï¼Œå“ªæ€•æ´ªæ°´æ»”å¤©ã€‚è¿™ä» GPL è®¸å¯è¯çš„â€œæ— ä¿å£°æ˜â€ä¸­å¯ä»¥çœ‹å‡ºç«¯å€ªã€‚\nå¹¿ä¹‰çš„è‡ªç”±å¼€æºæ¦‚å¿µ å®é™…ä¸Šå¦‚æœä½ çœ‹è¿‡æ“ä½œç³»ç»Ÿé©å‘½ä½ å°±ä¼šæ˜ç™½ï¼šå¼€æ”¾æºä»£ç å…¶å®å¹¶ä¸æ˜¯è¿™ä¸€è¿åŠ¨æƒ³è¦å®ç°çš„å…¨éƒ¨ï¼Œå®ƒçš„æœ€ç»ˆç›®çš„æ˜¯æ™®åŠè‡ªç”±ç²¾ç¥ï¼Œå»ºç«‹è‡ªç”±ç¤¾åŒºã€‚\nç›®å‰è¿™ä¸€ç²¾ç¥åœ¨è‡ªç”±å¼€æºè½¯ä»¶ä¸Šçš„è¡¨ç°æœ‰ï¼š\n æºä»£ç å¼€æºã€‚ æ¥è‡ªè½¯ä»¶æ‰€æœ‰è€…çš„å¼€å‘é—¨æ§›ä¸ºé›¶ã€‚ ä¸é‡æ–°å‘æ˜è½®å­ã€‚å¦‚æœæœ‰å·²æœ‰å®ç°å¹¶å¯ä»¥æ‰©å±•ï¼Œé‚£ä¹ˆæ‰©å±•å®ƒã€‚ æ–‡æ¡£å¼€æºã€‚ä½¿ç”¨ç»´åŸºç­‰ã€‚ ç»„ç»‡å¹¶å½¢æˆç”¨æˆ·äº’åŠ©ç¤¾åŒºã€‚ç§¯æå¸®åŠ©ç”¨æˆ·ï¼ˆåœ¨ä¸å½±å“å¼€å‘çš„å‰æä¸‹ï¼‰ã€‚åŒæ—¶åœ¨å¼€å‘ä¸Šå°½é‡é¢å‘ç”¨æˆ·ï¼ŒæŠŠç”¨æˆ·çš„ååº”çº³å…¥åˆ°é‡å¤§ä¿®æ”¹çš„è€ƒé‡å› ç´ å½“ä¸­å»ï¼Œç§¯æé‡‡çº³åˆç†æ„è§ã€‚ ç§¯æå›åº”æ•…éšœæ±‡æŠ¥å¹¶æä¾›ä¿®å¤ã€‚ ç§¯æå›åº”æ–°åŠŸèƒ½è¯·æ±‚ã€‚èƒ½åšçš„åšï¼Œä¸èƒ½åšçš„è§£é‡ŠåŸå› å¯»æ±‚ç†è§£ã€‚ å½¢æˆè‰¯æ€§çš„è´¡çŒ®è€…æ·»åŠ å†…å®¹å’Œç”¨æˆ·åé¦ˆæ¸ é“ã€‚ é‡è§†å¹¶ç»´æŠ¤ç”±ç±»ä¼¼è½¯ä»¶å…±åŒç»„æˆçš„ç”Ÿæ€çš„å’Œè°ç¨³å®šã€‚ï¼ˆç®€å•è¯´å°±æ˜¯ï¼šæˆ‘å¼€å‘ KDE æ˜¯å› ä¸º GNOME æ»¡è¶³ä¸äº†æˆ‘çš„éœ€æ±‚ï¼Œè€Œä¸æ˜¯ä¸ºäº†ææ­» GNOMEã€‚ï¼‰  ç°åœ¨æ‚¨å¯ä»¥æ‹¿æ¥åŒç‹­ä¹‰çš„è‡ªç”±å¼€æºæ¦‚å¿µåšæ¯”è¾ƒï¼Œå‘ç°å¦‚æœè¯´ç‹­ä¹‰çš„è‡ªç”±å¼€æºæ¦‚å¿µåªæ˜¯æŒ‡æŸç§è¡Œä¸ºï¼Œé‚£ä¹ˆå¹¿ä¹‰çš„è‡ªç”±å¼€æºæ¦‚å¿µå·²ç»æ˜¯æŒ‡ä¸€ç§æ°›å›´äº†ã€‚\nopenSUSE ç§‰æŒçš„è‡ªç”±å¼€æºæ¦‚å¿µ openSUSE é¡¹ç›®æ˜¯å®Œå…¨åšåˆ°â€œå¹¿ä¹‰çš„è‡ªç”±å¼€æºæ¦‚å¿µâ€çš„ç¤¾åŒºã€‚\nåŒæ—¶æˆ‘ä»¬ä¸€ç›´æŒæœ‰çš„ç›¸å…³ç†å¿µè¿˜æœ‰ï¼š\n ç§¯æçš„ä¸ä¸Šæ¸¸åˆä½œã€‚ä¸â€œå†…åŒ–â€è¡¥ä¸æˆ–ä¿®æ”¹ï¼Œé™¤éä¸Šæ¸¸å‡ºäºç§ç§åŸå› ä¸æ”¶ã€‚ ç§¯æçš„ä¸ºæ•´ä¸ªç”Ÿæ€ç€æƒ³ã€‚ ä¸ææ­§è§†æˆ–äºŒç­‰å…¬æ°‘ã€‚ å°Šé‡è®¸å¯è¯ã€ç‰ˆæƒç”šè‡³æ˜¯ä¸“åˆ©  å¦‚æœä½ è®¤åŒè¿™äº›ï¼Œé‚£ä¹ˆæ‚¨é€‚åˆè¿™ä¸ªç¤¾åŒºã€‚\né…ç½® Install è¯­è¨€è¯·é€‰æ‹© Englishï¼Œå› ä¸º Linux éœ€è¦ç»å¸¸ä½¿ç”¨ Terminalï¼Œä¸­æ–‡å®¶ç›®å½•å¹¶ä¸æ–¹ä¾¿ã€‚\nåˆ†åŒºè¯·é€‰æ‹©é»˜è®¤çš„ btrfs æ–‡ä»¶ç³»ç»Ÿï¼Œæœ‰éœ€è¦é€‰æ‹© Guided setup å’Œ Expert Partitionerã€‚\nUse Snapper é»˜è®¤å¼€å¯ã€‚\nopenSUSE é•œåƒ æˆ‘ä»¬å®˜æ–¹çš„æ€åº¦æ˜¯ä¸é¼“åŠ±ç›´æ¥ä½¿ç”¨é•œåƒçš„ã€‚\nå› ä¸ºæ¯”èµ·ã€Œå…¶å®ƒã€å‘è¡Œç‰ˆï¼Œæˆ‘ä»¬ openSUSE çš„æŠ€æœ¯åŠ›é‡æ¯”è¾ƒå¼ºï¼Œå¼€å‘äº†ä¸¤ä¸ªä¸œè¥¿ã€‚\nä¸€ä¸ªå«åš Metalinkï¼Œæ„æ€æ˜¯è¿™ä¸ªæ ¼å¼ï¼ˆBTã€Megalink ç£åŠ›é“¾ä¸€æ ·çš„æ ¼å¼ï¼‰å¯ä»¥è‡ªåŠ¨ä» BT/FTP/HTTP åŒæ—¶ä¸‹è½½ã€‚\nå¦ä¸€ä¸ªå«åš MirrorBrainï¼Œæ„æ€æ˜¯æˆ‘æŠŠæ‰€æœ‰çš„é•œåƒåœ°å€éšè—èµ·æ¥ï¼Œåªæš´éœ²å‡ºä¸€ä¸ªä¸­å¤®æœåŠ¡å™¨ï¼Œæ‰€æœ‰äººåªéœ€ä½¿ç”¨è¿™ä¸ªä¸­å¤®æœåŠ¡å™¨ï¼ˆdownload.opensuse.org ï¼‰ï¼Œå®ƒä¼šæ ¹æ®ä½ çš„ IP åœ°ç†ä½ç½®ä¸ºä½ åˆ†é…ä¸€ä¸ªç¦»ä½ æœ€è¿‘çš„é•œåƒï¼Œä½†æ˜¯åœ¨ä½ é‚£è¾¹æ˜¾ç¤ºçš„ä¾æ—§æ˜¯æ¥è‡ª download.opensuse.orgã€‚è€Œå¦‚ä½•åˆ†é…æ˜¯æ ¹æ®é•œåƒç®¡ç†å‘˜å’Œä¸­å¤®æœåŠ¡å™¨ç®¡ç†å‘˜å½“åˆçš„åå®šæ¥ç¡®å®šçš„ï¼Œæ¯”å¦‚é•œåƒæ¯æœˆèƒ½å¤Ÿæ‰¿å—çš„æµé‡ã€æ‰€æ„¿æ„æ‰®æ¼”çš„è§’è‰²ï¼ˆæ˜¯åŒºåŸŸä¸­å¿ƒã€åœ°æ ‡å¼çš„é•œåƒæ¯”å¦‚åŒ—äº¤å¤§ã€ä¸­ç§‘å¤§ï¼Œè¿˜æ˜¯å°é•œåƒï¼‰ç­‰ã€‚\nè€Œæ ¹æ® openSUSE è½¯ä»¶æºçš„æ„é€ ï¼Œæ‰€æœ‰çš„ RPM åŒ…éƒ½æ˜¯ä»é•œåƒè·å¾—çš„ï¼Œæ‰€æœ‰çš„ metadataï¼ˆå…ƒæ•°æ®ï¼‰éƒ½æ˜¯ä»ä¸»é•œåƒï¼ˆä½äºå¾·å›½ï¼‰è·å¾—çš„ï¼Œæ‰€ä»¥ä½ æºåˆ·æ–°çš„æ…¢ï¼Œåªèƒ½è¯æ˜ä½ è¢«æˆ‘ä»¬å…‰è£ä¼Ÿå¤§çš„æ”¾ç«é•¿åŸæ‹–ä½äº†ï¼Œè€Œä¸èƒ½è¯æ˜ openSUSE é¡¹ç›®æœ‰é”™ï¼Œä¹Ÿä»£è¡¨ä¸äº†ä½ ä¸‹è½½ RPM åŒ…æ—¶çš„é€Ÿåº¦ã€‚\nç”³æŠ¥è‡ªå·±ä¸ºå®˜æ–¹é•œåƒã€‚\nUninstall Discover Discover is the software center that is shipped with Plasma 5. Discover is infamous for its crashes, and itâ€™s not a very good app overall. On top of that, it also adds redundancy since we already have Yast.\nYou can safely remove Discover:\nOpen Yast â†’ Software Management â†’ Search for `discover` â†’ Right-click â†’ Delete â†’ Toggle #1 (deinstallation of discover packages) â†’ Accept or\nsudo zypper remove packagekit åœ¨ System Tray Setting é‡Œé¢å…³é—­ Software Updates çš„é€šçŸ¥ã€‚\nå–æ¶ˆæ¨èçš„è½¯ä»¶åŒ… \u0026amp; åˆ é™¤æ¨¡ç»„ æ‰“å¼€ YaST ï¼Œç‚¹å‡» è½¯ä»¶ç®¡ç† ï¼Œå†ç‚¹å‡»å·¦ä¸Šè§’çš„ ä¾èµ–é¡¹ ï¼Œå–æ¶ˆå‹¾é€‰ å®‰è£…è¢«æ¨èçš„è½¯ä»¶åŒ… ã€‚è¿™æ ·ä½ çš„ç”µè„‘å°±ä¸ä¼šåœ¨æŸæ¬¡æ›´æ–°åå‡ºç°ä¸€äº›ä¸æ˜¯ä½ ä¸»åŠ¨å®‰è£…çš„è½¯ä»¶åŒ…ã€‚\nåœ¨ è½¯ä»¶ç®¡ç† é¡µé¢ï¼Œç‚¹å‡» è§†å›¾ï¼Œé€‰æ‹© æ¨¡ç»„ ï¼Œç„¶åä½ å°±èƒ½çœ‹åˆ°æŒ‰æ¨¡ç»„åˆ†ç±»çš„åŒ…ã€‚ä¾‹å¦‚ä½ å¯ä»¥åœ¨æ­¤é¡µé¢ç›´æ¥ç”¨é¼ æ ‡å³é”®å•å‡» æ¸¸æˆ ï¼Œé€‰æ‹© ä¸å®‰è£… æˆ– å¸è½½ï¼Œå¸è½½å…¨éƒ¨çš„é¢„è£…çš„ KDE/Gnome æ¸¸æˆåŒ…ã€‚\nUpdate System openSUSE Leap æ˜¯ openSUSE æ‰“é€ å®šæœŸé‡Šå‡ºçš„ Linux å‘è¡Œç‰ˆæœ¬çš„ä¸€ç§å…¨æ–°æ–¹å¼ã€‚ Leap ä½¿ç”¨ SUSE Linux Enterpriseï¼ˆSLEï¼‰ çš„æºä»£ç ï¼Œä½¿ Leap å…·æœ‰å…¶å®ƒ Linux å‘è¡Œç‰ˆæ— æ³•æ¯”æ‹Ÿçš„ç¨³å®šæ€§ï¼Œå¹¶å°†å…¶ä¸ç¤¾åŒºå¼€å‘ç›¸ç»“åˆï¼Œä¸ºç”¨æˆ·ã€å¼€å‘äººå‘˜å’Œç³»ç»Ÿç®¡ç†å‘˜æä¾›æœ€ä½³çš„ Linux ä½“éªŒã€‚è´¡çŒ®è€…å’Œä¼ä¸šä¸º Leap æ‰€åšçš„è´¡çŒ®ä½¿å®ƒæˆä¸ºäº†æä¾›æˆç†Ÿçš„è½¯ä»¶åŒ…çš„ SLE å’Œæä¾›æœ€æ–°çš„è½¯ä»¶åŒ…çš„ Tumbleweed è¿™ä¸¤è€…ä¹‹é—´çš„æ¡¥æ¢ã€‚\nLeap ç”¨æˆ·å°†ä¼šå®šæœŸæ”¶åˆ°å®‰å…¨æ›´æ–°å’Œè¡¥ä¸ä¿®å¤ï¼Œå¦‚æœä½ å¸Œæœ›åº”ç”¨è¿™äº›æ›´æ–°ï¼Œåœ¨ç»ˆç«¯ä¸‹ç”¨ Root è¿è¡Œï¼š\nsudo zypper patch zypper patch åªä¼šæ›´æ–°åˆ—åœ¨ patchinfo ä¸Šé¢çš„åŒ…ã€‚\næœ‰æ—¶ï¼Œç¬¬ä¸‰æ–¹è½¯ä»¶æºä¼šæä¾›ä¸€äº›åŠŸèƒ½æ€§çš„æ›´æ–°ï¼Œå¦‚æœä½ å¸Œæœ›åº”ç”¨è¿™äº›æ›´æ–°ï¼Œåœ¨ç»ˆç«¯ä¸‹ç”¨ Root è¿è¡Œï¼š\nsudo zypper update OBS Package Installer \u0026amp; Flatpak å¦‚æœä½ æƒ³åœ¨ç»ˆç«¯ç›´æ¥æŸ¥æ‰¾æ¥è‡ª OBS çš„è½¯ä»¶åŒ…ï¼Œä½ å¯ä»¥å…ˆå®‰è£… opiï¼ŒåŒç†æ·»åŠ  fltapak ä»“åº“ã€‚\nsudo zypper in opi sudo flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo ç„¶åè¾“å…¥ä½ æƒ³è¦æŸ¥æ‰¾çš„è½¯ä»¶åŒ…çš„åç§°ï¼Œä¾‹å¦‚ä½ è¦å®‰è£… qbittorrent enhanced edition ï¼Œä½ å¯ä»¥ï¼š\n$ opi qbittorrent $ flathub install netease ä¸­æ–‡ç¤¾åŒºæºæ˜¯ openSUSE ä¸­æ–‡ç¤¾åŒºçš„å¼€å‘è€…ä»¬ä¸ºç”¨æˆ·æ„å»ºã€æ‰“åŒ…å’Œæ”¶å½•ä¸€äº›å‘èµ·è‡ªä¸­æ–‡ Linux åœˆå­çš„è½¯ä»¶æˆ–ä¸­æ–‡ Linux åœˆå­å¸¸ç”¨çš„è½¯ä»¶ã€‚\nAdd Community Repositories Thatâ€™s where community repositories come in. The most important one is Packman. For Leap:\nsudo zypper ar -cfp 90 'https://ftp.gwdg.de/pub/linux/misc/packman/suse/openSUSE_Leap_$releasever/' packman Open RPM with Yast Select any RPM package â†’ Right-click â†’ Properties â†’ File Type Options â†’ Move Yast to the first place â†’ Apply Install Multimedia Codecs openSUSE é»˜è®¤æ˜¯æ²¡æœ‰éƒ¨åˆ†å¤šåª’ä½“ç¼–è§£ç å™¨çš„ï¼ŒåŒ…æ‹¬å®¶å–»æˆ·æ™“çš„ MP3ã€AVI ç­‰ã€‚è¿™æ˜¯å› ä¸ºå®ƒä»¬æ˜¯å—é™åª’ä½“æ ¼å¼ã€‚å…·ä½“è§£é‡Šè§openSUSE ç¼–è§£ç å™¨ä¸€é”®å®‰è£…ã€å¸¸è§ç¼–è§£ç å™¨å¯¹åº”è½¯ä»¶åŒ…/æºè¯´æ˜ã€åŠç‰ˆæƒé¡»çŸ¥ã€‚\nsudo zypper in opi \u0026amp;\u0026amp; opi codecs or, In order to install the H264/AVC support on your system, type in:\nsudo zypper install x264 libx265-130 libx264-148 æˆ–è€…é€šè¿‡ Packman å®‰è£…è§£ç å™¨\nzypper ar -cfp 90 https://mirrors.ustc.edu.cn/packman/suse/openSUSE_Leap_$releasever packmansudo zypper refreshsudo zypper dist-upgrade --from packman --allow-vendor-changesudo zypper install --from packman ffmpeg gstreamer-plugins-{good,bad,ugly,libav} libavcodec-full vlc-codecs Turn on Night Color Night color reduces the amount of blue light at night.\nOpen System Settings â†’ Display and Monitor â†’ Night Color â†’ Activate Night Color â†’ Apply Theme åœ¨ç³»ç»Ÿè®¾ç½® startup and shutdown ä¸‹è½½ä½¿ç”¨ä¸ªä¸»é¢˜ï¼Œå› ä¸ºé»˜è®¤ä¸»é¢˜è¾“å…¥å¯†ç çš„æ—¶å€™å¯†ç æ€»æ˜¯æ²¡æœ‰å±…ä¸­ï¼Œè·‘åˆ°ä¸Šé¢å»äº†ã€‚\næˆ–è€…ï¼Œä½¿ç”¨ä¸€ä¸ªå…¨å±€ä¸»é¢˜ï¼Œä¾‹å¦‚ Layanã€‚\nDisable touchpad å¯¹äº touchpad é€‰æ‹© Disable touchpad when mouse is pulgged in\nç”¨æˆ·å­—ä½“ Dolphin ä¸‹å•å‡»å®‰è£…å­—ä½“ç›®å½•ä¸º\n/home/ç”¨æˆ·å/.fonts å¦‚æœä¸‹è½½å¥½çš„å­—ä½“æ–‡ä»¶æ— æ³•ç›´æ¥ç‚¹å¼€å®‰è£…ï¼ˆä¾‹å¦‚ *.ttcï¼‰ï¼Œæˆ–è€…å­—ä½“å¤ªå¤šï¼Œä¸æƒ³ä¸€ä¸ªä¸€ä¸ªåœ°å®‰è£…ï¼Œå¯ä»¥å°†å­—ä½“æ–‡ä»¶å…¨éƒ¨æ”¾åˆ°å­—ä½“æ–‡ä»¶å¤¹ä¸­ã€‚ç„¶åè¿è¡Œï¼š\nfc-cache -fv è¾“å…¥æ³• åœ¨Yastä¸­å®‰è£…ç¬¬äºŒè¯­è¨€ï¼Œå°±ä¼šè‡ªåŠ¨å®‰è£…fcitxå¹¶æ·»åŠ ä¸­æ–‡æ”¯æŒã€‚\nè¯åº“\nFcitx çš„ Libpinyin å¯ä»¥ç›´æ¥åœ¨çº¿å¯¼å…¥æœç‹—ç»†èƒè¯åº“ã€‚ä¸éœ€è¦å®‰è£…sougouè¾“å…¥æ³•ã€‚\néœ€è¦å®‰è£… fcitx-pinyin-tools/fcitx-table-tools è¿™ä¸¤ä¸ªåŒ…ï¼Œä»¥æ·»åŠ å¤„ç†è¯åº“çš„å·¥å…·ã€‚\nsudo zypper in fcitx-pinyin-tools fcitx-table-tools è¯åº“å°‘äº†çš„è¯ï¼Œä¹Ÿä¸å¥½ç”¨ï¼Œä½†æ˜¯ä¸€æ¬¡åªèƒ½å¯¼å…¥ä¸€ä¸ªç»†èƒè¯åº“ã€‚ç½‘ä¸Šå¯ä»¥æ‰¾åˆ°æ¯”è¾ƒå…¨çš„è¯åº“åŒ…ã€‚\né€šè¿‡ 7zr è§£å‹è¿‡åå°†æ‰€æœ‰ txt è¯åº“æ‹·è´åˆ° ~/.config/fcitx/libpinyin/importdict å³å¯ã€‚\n7zr x txt.7z æœç‹—æ‹¼éŸ³\nsudo opi sogou-pinyin cloudpinyin\næ ¹æ®æ–‡æ¡£ï¼Œå¯ä»¥ä½¿ç”¨ libpinyin + cloudpinyinï¼Œå“ªæ€•ä¸ç”¨å¯¼å…¥è¯å…¸ï¼Œä¾æ—§å¾ˆå¥½ç”¨ã€‚æœç„¶ï¼Œè¿˜æ˜¯äº‘è¯åº“çš„åŠ›é‡å¼ºå¤§ã€‚\nsudo zypper in fcitx-cloudpinyin é»˜è®¤çš„äº‘è¾“å…¥å¼•æ“æ˜¯ Google ï¼Œå›½å†…ç›´æ¥è®¿é—®å¾ˆä¸æµç•…ï¼Œä½ å¯ä»¥æ‰“å¼€è¾“å…¥æ³•çš„é…ç½®ï¼Œç‚¹å‡» Addon Configï¼Œæ‰¾åˆ° Cloud Pinyin ï¼Œç‚¹å‡»å³ä¾§çš„è®¾ç½®ï¼Œåœ¨å¼¹å‡ºçš„çª—å£ä¸­ï¼Œå°† Google æ›¿æ¢ä¸º Baidu ã€‚\nKDE Connect KDE Connect æ˜¯ä¸€æ¬¾èƒ½å¤Ÿæ–¹ä¾¿æ‰‹æœºä¸ç”µè„‘è¿›è¡Œè¿æ¥çš„åº”ç”¨ã€‚\n æ–‡ä»¶äº’ä¼  å…±äº«å‰ªè´´æ¿ è¿œç¨‹è¾“å…¥ å“é“ƒï¼Œå³æ—¢å¯ä»¥ç”¨ç”µè„‘æ¥æ‰¾æ‰‹æœºï¼Œä¹Ÿå¯ä»¥ç”¨æ‰‹æœºæ‰¾ç”µè„‘ã€‚ å¹»ç¯ç‰‡é¥æ§å™¨ å¤šåª’ä½“æ§åˆ¶ æ‰§è¡Œå‘½ä»¤ å…±äº«é€šçŸ¥  é»˜è®¤ kdeconnect åœ¨é˜²ç«å¢™é‚£è¾¹æ˜¯æ²¡æ”¾å¼€çš„ï¼Œè¦æ“ä½œä¸€ä¸‹\nsudo firewall-cmd --zone=public --permanent --add-service=kdeconnect-kdesudo firewall-cmd --reload è£…å…¥ NTFS åˆ†åŒº   å®‰è£… ntfs-3gã€‚\nsudo zypper in ntfs-3g   åˆ›å»ºä¸€ä¸ªè¦å……å½“å®‰è£…ç‚¹çš„ç›®å½•ï¼Œå¦‚ ~/mounts/windowsã€‚\nmkdir ~/mounts/windows   ç¡®å®šæ‰€éœ€çš„ Windows åˆ†åŒºã€‚\nsudo fdisk -l   ä»¥è¯»å†™æ¨¡å¼è£…å…¥åˆ†åŒºã€‚ä½¿ç”¨ç›¸åº”çš„ Windows åˆ†åŒºæ›¿æ¢å ä½ç¬¦ DEVICEï¼š\nntfs-3g /dev/DEVICE MOUNT POINT è¦åœ¨åªè¯»æ¨¡å¼ä¸‹ä½¿ç”¨ Windows åˆ†åŒºï¼Œè¯·è¿½åŠ  -o ro\nntfs-3g /dev/DEVICE MOUNT POINT -o ro ntfs-3g å‘½ä»¤ä½¿ç”¨å½“å‰ç”¨æˆ· (UID) å’Œç»„ (GID) è£…å…¥ç»™å®šè®¾å¤‡ã€‚å¦‚æœè¦ä¸ºå…¶ä»–ç”¨æˆ·è®¾ç½®å†™æƒé™ï¼Œè¯·ä½¿ç”¨å‘½ä»¤ id  USER è·å– UID å’Œ GID å€¼çš„è¾“å‡ºã€‚è®¾ç½®æ–¹å¼ï¼š\nid usernamentfs-3g /dev/DEVICE MOUNT POINT -o uid=1000,gid=100   è¦å¸è½½èµ„æºï¼Œè¯·è¿è¡Œ fusermount -u å®‰è£…ç‚¹ã€‚\n  ä»»åŠ¡æ é€æ˜åŒ– Go to System Settings | Window Management | Window Rules. Press New\u0026hellip; button. Give some description to the new rule, Dock Transparency, for example. Then select only Dock (panel) in \u0026ldquo;Window type\u0026rdquo; field.\nä¹‹ååœ¨ Appearance \u0026amp; Fixes ä¸­è°ƒæ•´ opacityã€‚\nBtrfs æ–‡ä»¶ç³»ç»Ÿä¼¼ä¹æ˜¯å†…æ ¸ä¸­æ¯”è¾ƒç¨³å®šçš„éƒ¨åˆ†ï¼Œå¤šå¹´æ¥ï¼Œäººä»¬ä¸€ç›´ä½¿ç”¨ ext2/3ï¼Œext æ–‡ä»¶ç³»ç»Ÿä»¥å…¶å“è¶Šçš„ç¨³å®šæ€§æˆä¸ºäº†äº‹å®ä¸Šçš„ Linux æ ‡å‡†æ–‡ä»¶ç³»ç»Ÿã€‚è¿‘å¹´æ¥ ext2/3 æš´éœ²å‡ºäº†ä¸€äº›æ‰©å±•æ€§é—®é¢˜ï¼Œäºæ˜¯ä¾¿å‚¬ç”Ÿäº† ext4 ã€‚åœ¨ 2008 å¹´å‘å¸ƒçš„ Linux2.6.19 å†…æ ¸ä¸­é›†æˆäº† ext4 çš„ dev ç‰ˆæœ¬ã€‚ 2.6.28 å†…æ ¸å‘å¸ƒæ—¶ï¼Œext4 ç»“æŸäº†å¼€å‘ç‰ˆï¼Œå¼€å§‹æ¥å—ç”¨æˆ·çš„ä½¿ç”¨ã€‚ä¼¼ä¹ ext å°±å°†æˆä¸º Linux æ–‡ä»¶ç³»ç»Ÿçš„ä»£åè¯ã€‚ç„¶è€Œå½“æ‚¨é˜…è¯»å¾ˆå¤šæœ‰å…³ ext4 çš„æ–‡ç« æ—¶ï¼Œä¼šå‘ç°éƒ½ä¸çº¦è€ŒåŒåœ°æåˆ°äº† btrfsï¼Œå¹¶è®¤ä¸º ext4 å°†æ˜¯ä¸€ä¸ªè¿‡æ¸¡çš„æ–‡ä»¶ç³»ç»Ÿã€‚ ext4 çš„ä½œè€… Theodore Tso ä¹Ÿç››èµ btrfs å¹¶è®¤ä¸º btrfs å°†æˆä¸ºä¸‹ä¸€ä»£ Linux æ ‡å‡†æ–‡ä»¶ç³»ç»Ÿã€‚ Oracleï¼ŒIBMï¼Œ Intel ç­‰å‚å•†ä¹Ÿå¯¹ btrfs è¡¨ç°å‡ºäº†æå¤§çš„å…³æ³¨ï¼ŒæŠ•å…¥äº†èµ„é‡‘å’ŒäººåŠ›ã€‚ä¸ºä»€ä¹ˆ btrfs å¦‚æ­¤å—äººç©ç›®å‘¢ã€‚è¿™ä¾¿æ˜¯æœ¬æ–‡é¦–å…ˆæƒ³æ¢è®¨çš„é—®é¢˜ã€‚\nKevin Bowling æœ‰ä¸€ç¯‡ä»‹ç»å„ç§æ–‡ä»¶ç³»ç»Ÿçš„æ–‡ç« ï¼Œåœ¨ä»–çœ‹æ¥ï¼Œext2/3 ç­‰æ–‡ä»¶ç³»ç»Ÿå±äºâ€œå¤å…¸æ—¶æœŸâ€ã€‚æ–‡ä»¶ç³»ç»Ÿçš„æ–°æ—¶ä»£æ˜¯ 2005 å¹´ç”± Sun å…¬å¸çš„ ZFS å¼€åˆ›çš„ã€‚ ZFS ä»£è¡¨â€ last word in file system â€ï¼Œæ„æ€æ˜¯æ­¤åå†ä¹Ÿä¸éœ€è¦å¼€å‘å…¶ä»–çš„æ–‡ä»¶ç³»ç»Ÿäº†ã€‚ ZFS çš„ç¡®å¸¦æ¥äº†å¾ˆå¤šå´­æ–°çš„è§‚å¿µï¼Œå¯¹æ–‡ä»¶ç³»ç»Ÿæ¥è®²æ˜¯ä¸€ä¸ªåˆ’æ—¶ä»£çš„ä½œå“ã€‚\nå¦‚æœæ‚¨æ¯”è¾ƒ btrfs çš„ç‰¹æ€§ï¼Œå°†ä¼šå‘ç° btrfs å’Œ ZFS éå¸¸ç±»ä¼¼ã€‚ä¹Ÿè®¸æˆ‘ä»¬å¯ä»¥è®¤ä¸º btrfs å°±æ˜¯ Linux ç¤¾åŒºå¯¹ ZFS æ‰€ä½œå‡ºçš„å›åº”ã€‚ä»æ­¤å¾€ååœ¨ Linux ä¸­ä¹Ÿç»ˆäºæœ‰äº†ä¸€ä¸ªå¯ä»¥å’Œ ZFS ç›¸åª²ç¾çš„æ–‡ä»¶ç³»ç»Ÿã€‚\nBtrfs çš„ç‰¹æ€§ æ‚¨å¯ä»¥åœ¨ btrfs çš„ä¸»é¡µä¸Šçœ‹åˆ° btrfs çš„ç‰¹æ€§åˆ—è¡¨ã€‚æˆ‘è‡ªä½œä¸»å¼ ï¼Œå°†é‚£å¼ åˆ—è¡¨åˆ†æˆäº†å››å¤§éƒ¨åˆ†ã€‚\né¦–å…ˆæ˜¯æ‰©å±•æ€§ (scalability) ç›¸å…³çš„ç‰¹æ€§ï¼Œbtrfs æœ€é‡è¦çš„è®¾è®¡ç›®æ ‡æ˜¯åº”å¯¹å¤§å‹æœºå™¨å¯¹æ–‡ä»¶ç³»ç»Ÿçš„æ‰©å±•æ€§è¦æ±‚ã€‚ Extentï¼ŒB-Tree å’ŒåŠ¨æ€ inode åˆ›å»ºç­‰ç‰¹æ€§ä¿è¯äº† btrfs åœ¨å¤§å‹æœºå™¨ä¸Šä»æœ‰å“è¶Šçš„è¡¨ç°ï¼Œå…¶æ•´ä½“æ€§èƒ½è€Œä¸ä¼šéšç€ç³»ç»Ÿå®¹é‡çš„å¢åŠ è€Œé™ä½ã€‚\nå…¶æ¬¡æ˜¯æ•°æ®ä¸€è‡´æ€§ (data integrity) ç›¸å…³çš„ç‰¹æ€§ã€‚ç³»ç»Ÿé¢ä¸´ä¸å¯é¢„æ–™çš„ç¡¬ä»¶æ•…éšœï¼ŒBtrfs é‡‡ç”¨ COW äº‹åŠ¡æŠ€æœ¯æ¥ä¿è¯æ–‡ä»¶ç³»ç»Ÿçš„ä¸€è‡´æ€§ã€‚ btrfs è¿˜æ”¯æŒ checksumï¼Œé¿å…äº† silent corrupt çš„å‡ºç°ã€‚è€Œä¼ ç»Ÿæ–‡ä»¶ç³»ç»Ÿåˆ™æ— æ³•åšåˆ°è¿™ä¸€ç‚¹ã€‚\nç¬¬ä¸‰æ˜¯å’Œå¤šè®¾å¤‡ç®¡ç†ç›¸å…³çš„ç‰¹æ€§ã€‚ Btrfs æ”¯æŒåˆ›å»ºå¿«ç…§ (snapshot)ï¼Œå’Œå…‹éš† (clone) ã€‚ btrfs è¿˜èƒ½å¤Ÿæ–¹ä¾¿çš„ç®¡ç†å¤šä¸ªç‰©ç†è®¾å¤‡ï¼Œä½¿å¾—ä¼ ç»Ÿçš„å·ç®¡ç†è½¯ä»¶å˜å¾—å¤šä½™ã€‚\næœ€åæ˜¯å…¶ä»–éš¾ä»¥å½’ç±»çš„ç‰¹æ€§ã€‚è¿™äº›ç‰¹æ€§éƒ½æ˜¯æ¯”è¾ƒå…ˆè¿›çš„æŠ€æœ¯ï¼Œèƒ½å¤Ÿæ˜¾è‘—æé«˜æ–‡ä»¶ç³»ç»Ÿçš„æ—¶é—´ / ç©ºé—´æ€§èƒ½ï¼ŒåŒ…æ‹¬å»¶è¿Ÿåˆ†é…ï¼Œå°æ–‡ä»¶çš„å­˜å‚¨ä¼˜åŒ–ï¼Œç›®å½•ç´¢å¼•ç­‰ã€‚\næ‰©å±•æ€§ç›¸å…³çš„ç‰¹æ€§ B-Tree\nbtrfs æ–‡ä»¶ç³»ç»Ÿä¸­æ‰€æœ‰çš„ metadata éƒ½ç”± BTree ç®¡ç†ã€‚ä½¿ç”¨ BTree çš„ä¸»è¦å¥½å¤„åœ¨äºæŸ¥æ‰¾ï¼Œæ’å…¥å’Œåˆ é™¤æ“ä½œéƒ½å¾ˆé«˜æ•ˆã€‚å¯ä»¥è¯´ BTree æ˜¯ btrfs çš„æ ¸å¿ƒã€‚\nä¸€å‘³åœ°å¤¸è€€ BTree å¾ˆå¥½å¾ˆé«˜æ•ˆä¹Ÿè®¸å¹¶ä¸èƒ½è®©äººä¿¡æœï¼Œä½†å‡å¦‚ç¨å¾®èŠ±è´¹ä¸€ç‚¹å„¿æ—¶é—´çœ‹çœ‹ ext2/3 ä¸­å…ƒæ•°æ®ç®¡ç†çš„å®ç°æ–¹å¼ï¼Œä¾¿å¯ä»¥åè¡¬å‡º BTree çš„ä¼˜ç‚¹ã€‚\nå¦¨ç¢ ext2/3 æ‰©å±•æ€§çš„ä¸€ä¸ªé—®é¢˜æ¥è‡ªå…¶ç›®å½•çš„ç»„ç»‡æ–¹å¼ã€‚ç›®å½•æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ–‡ä»¶ï¼Œåœ¨ ext2/3 ä¸­å…¶å†…å®¹æ˜¯ä¸€å¼ çº¿æ€§è¡¨æ ¼ã€‚\nå›¾ä¸­å±•ç¤ºäº†ä¸€ä¸ª ext2 ç›®å½•æ–‡ä»¶çš„å†…å®¹ï¼Œè¯¥ç›®å½•ä¸­åŒ…å«å››ä¸ªæ–‡ä»¶ã€‚åˆ†åˆ«æ˜¯ \u0026ldquo;home1\u0026rdquo;ï¼Œ\u0026ldquo;usr\u0026rdquo;ï¼Œ\u0026ldquo;oldfile\u0026rdquo; å’Œ \u0026ldquo;sbin\u0026rdquo; ã€‚å¦‚æœéœ€è¦åœ¨è¯¥ç›®å½•ä¸­æŸ¥æ‰¾ç›®å½• sbinï¼Œext2 å°†éå†å‰ä¸‰é¡¹ï¼Œç›´è‡³æ‰¾åˆ° sbin è¿™ä¸ªå­—ç¬¦ä¸²ä¸ºæ­¢ã€‚\nè¿™ç§ç»“æ„åœ¨æ–‡ä»¶ä¸ªæ•°æœ‰é™çš„æƒ…å†µä¸‹æ˜¯æ¯”è¾ƒç›´è§‚çš„è®¾è®¡ï¼Œä½†éšç€ç›®å½•ä¸‹æ–‡ä»¶æ•°çš„å¢åŠ ï¼ŒæŸ¥æ‰¾æ–‡ä»¶çš„æ—¶é—´å°†çº¿æ€§å¢é•¿ã€‚ 2003 å¹´ï¼Œext3 è®¾è®¡è€…å¼€å‘äº†ç›®å½•ç´¢å¼•æŠ€æœ¯ï¼Œè§£å†³äº†è¿™ä¸ªé—®é¢˜ã€‚ç›®å½•ç´¢å¼•ä½¿ç”¨çš„æ•°æ®ç»“æ„å°±æ˜¯ BTree ã€‚å¦‚æœåŒä¸€ç›®å½•ä¸‹çš„æ–‡ä»¶æ•°è¶…è¿‡ 2Kï¼Œinode ä¸­çš„ i_data åŸŸæŒ‡å‘ä¸€ä¸ªç‰¹æ®Šçš„ block ã€‚åœ¨è¯¥ block ä¸­å­˜å‚¨ç€ç›®å½•ç´¢å¼• BTree ã€‚ BTree çš„æŸ¥æ‰¾æ•ˆç‡é«˜äºçº¿æ€§è¡¨ï¼Œ\nä½†ä¸ºåŒä¸€ä¸ªå…ƒæ•°æ®è®¾è®¡ä¸¤ç§æ•°æ®ç»“æ„æ€»æ˜¯ä¸å¤ªä¼˜é›…ã€‚åœ¨æ–‡ä»¶ç³»ç»Ÿä¸­è¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„å…ƒæ•°æ®ï¼Œç”¨ç»Ÿä¸€çš„ BTree ç®¡ç†æ˜¯éå¸¸ç®€å•è€Œä¼˜ç¾çš„è®¾è®¡ã€‚\nBtrfs å†…éƒ¨æ‰€æœ‰çš„å…ƒæ•°æ®éƒ½é‡‡ç”¨ BTree ç®¡ç†ï¼Œæ‹¥æœ‰è‰¯å¥½çš„å¯æ‰©å±•æ€§ã€‚ btrfs å†…éƒ¨ä¸åŒçš„å…ƒæ•°æ®ç”±ä¸åŒçš„ Tree ç®¡ç†ã€‚åœ¨ superblock ä¸­ï¼Œæœ‰æŒ‡é’ˆæŒ‡å‘è¿™äº› BTree çš„æ ¹ã€‚å¦‚å›¾ 2 æ‰€ç¤ºï¼š\nFS Tree ç®¡ç†æ–‡ä»¶ç›¸å…³çš„å…ƒæ•°æ®ï¼Œå¦‚ inodeï¼Œdir ç­‰ï¼› Chunk tree ç®¡ç†è®¾å¤‡ï¼Œæ¯ä¸€ä¸ªç£ç›˜è®¾å¤‡éƒ½åœ¨ Chunk Tree ä¸­æœ‰ä¸€ä¸ª item ï¼› Extent Tree ç®¡ç†ç£ç›˜ç©ºé—´åˆ†é…ï¼Œbtrfs æ¯åˆ†é…ä¸€æ®µç£ç›˜ç©ºé—´ï¼Œä¾¿å°†è¯¥ç£ç›˜ç©ºé—´çš„ä¿¡æ¯æ’å…¥åˆ° Extent tree ã€‚æŸ¥è¯¢ Extent Tree å°†å¾—åˆ°ç©ºé—²çš„ç£ç›˜ç©ºé—´ä¿¡æ¯ï¼› Tree of tree root ä¿å­˜å¾ˆå¤š BTree çš„æ ¹èŠ‚ç‚¹ã€‚æ¯”å¦‚ç”¨æˆ·æ¯å»ºç«‹ä¸€ä¸ªå¿«ç…§ï¼Œbtrfs ä¾¿ä¼šåˆ›å»ºä¸€ä¸ª FS Tree ã€‚ä¸ºäº†ç®¡ç†æ‰€æœ‰çš„æ ‘ï¼Œbtrfs é‡‡ç”¨ Tree of tree root æ¥ä¿å­˜æ‰€æœ‰æ ‘çš„æ ¹èŠ‚ç‚¹ï¼› checksum Tree ä¿å­˜æ•°æ®å—çš„æ ¡éªŒå’Œã€‚\nåŸºäº Extent çš„æ–‡ä»¶å­˜å‚¨\nç°ä»£å¾ˆå¤šæ–‡ä»¶ç³»ç»Ÿéƒ½é‡‡ç”¨äº† extent æ›¿ä»£ block æ¥ç®¡ç†ç£ç›˜ã€‚ Extent å°±æ˜¯ä¸€äº›è¿ç»­çš„ blockï¼Œä¸€ä¸ª extent ç”±èµ·å§‹çš„ block åŠ ä¸Šé•¿åº¦è¿›è¡Œå®šä¹‰ã€‚\nExtent èƒ½æœ‰æ•ˆåœ°å‡å°‘å…ƒæ•°æ®å¼€é”€ã€‚ä¸ºäº†è¿›ä¸€æ­¥ç†è§£è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬è¿˜æ˜¯çœ‹çœ‹ ext2 ä¸­çš„åé¢ä¾‹å­ã€‚\next2/3 ä»¥ block ä¸ºåŸºæœ¬å•ä½ï¼Œå°†ç£ç›˜åˆ’åˆ†ä¸ºå¤šä¸ª block ã€‚ä¸ºäº†ç®¡ç†ç£ç›˜ç©ºé—´ï¼Œæ–‡ä»¶ç³»ç»Ÿéœ€è¦çŸ¥é“å“ªäº› block æ˜¯ç©ºé—²çš„ã€‚ Ext ä½¿ç”¨ bitmap æ¥è¾¾åˆ°è¿™ä¸ªç›®çš„ã€‚ Bitmap ä¸­çš„æ¯ä¸€ä¸ª bit å¯¹åº”ç£ç›˜ä¸Šçš„ä¸€ä¸ª blockï¼Œå½“ç›¸åº” block è¢«åˆ†é…åï¼Œbitmap ä¸­çš„ç›¸åº” bit è¢«è®¾ç½®ä¸º 1 ã€‚è¿™æ˜¯å¾ˆç»å…¸ä¹Ÿå¾ˆæ¸…æ™°çš„ä¸€ä¸ªè®¾è®¡ï¼Œä½†ä¸å¹¸çš„æ˜¯å½“ç£ç›˜å®¹é‡å˜å¤§æ—¶ï¼Œbitmap è‡ªèº«æ‰€å ç”¨çš„ç©ºé—´ä¹Ÿå°†å˜å¤§ã€‚è¿™å°±å¯¼è‡´äº†æ‰©å±•æ€§é—®é¢˜ï¼Œéšç€å­˜å‚¨è®¾å¤‡å®¹é‡çš„å¢åŠ ï¼Œbitmap è¿™ä¸ªå…ƒæ•°æ®æ‰€å ç”¨çš„ç©ºé—´ä¹Ÿéšä¹‹å¢åŠ ã€‚è€Œäººä»¬å¸Œæœ›æ— è®ºç£ç›˜å®¹é‡å¦‚ä½•å¢åŠ ï¼Œå…ƒæ•°æ®ä¸åº”è¯¥éšä¹‹çº¿å½¢å¢åŠ ï¼Œè¿™æ ·çš„è®¾è®¡æ‰å…·æœ‰å¯æ‰©å±•æ€§ã€‚\nä¸‹å›¾æ¯”è¾ƒäº† block å’Œ extent çš„åŒºåˆ«ï¼š\nåœ¨ ext2/3 ä¸­ï¼Œ10 ä¸ª block éœ€è¦ 10 ä¸ª bit æ¥è¡¨ç¤ºï¼›åœ¨ btrfs ä¸­åˆ™åªéœ€è¦ä¸€ä¸ªå…ƒæ•°æ®ã€‚å¯¹äºå¤§æ–‡ä»¶ï¼Œextent è¡¨ç°å‡ºäº†æ›´åŠ ä¼˜å¼‚çš„ç®¡ç†æ€§èƒ½ã€‚\nExtent æ˜¯ btrfs ç®¡ç†ç£ç›˜ç©ºé—´çš„æœ€å°å•ä½ï¼Œç”± extent tree ç®¡ç†ã€‚ Btrfs åˆ†é… data æˆ– metadata éƒ½éœ€è¦æŸ¥è¯¢ extent tree ä»¥ä¾¿è·å¾—ç©ºé—²ç©ºé—´çš„ä¿¡æ¯ã€‚\nåŠ¨æ€ inode åˆ†é…\nä¸ºäº†ç†è§£åŠ¨æ€ inode åˆ†é…ï¼Œè¿˜æ˜¯éœ€è¦å€ŸåŠ© ext2/3 ã€‚ä¸‹è¡¨åˆ—ä¸¾äº† ext2 æ–‡ä»¶ç³»ç»Ÿçš„é™åˆ¶ï¼š\né™åˆ¶æœ€å¤§æ–‡ä»¶æ•°é‡æ–‡ä»¶ç³»ç»Ÿç©ºé—´å¤§å° V / 8192\næ¯”å¦‚ 100G å¤§å°çš„æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œèƒ½åˆ›å»ºçš„æ–‡ä»¶ä¸ªæ•°æœ€å¤§ä¸º 131072\nä¸‹å›¾æ˜¾ç¤ºäº† ext2 çš„ç£ç›˜å¸ƒå±€ï¼š\nåœ¨ ext2 ä¸­ inode åŒºæ˜¯è¢«é¢„å…ˆå›ºå®šåˆ†é…çš„ï¼Œä¸”å¤§å°å›ºå®šï¼Œæ¯”å¦‚ä¸€ä¸ª 100G çš„åˆ†åŒºä¸­ï¼Œinode table åŒºä¸­åªèƒ½å­˜æ”¾ 131072 ä¸ª inodeï¼Œè¿™å°±æ„å‘³ç€ä¸å¯èƒ½åˆ›å»ºè¶…è¿‡ 131072 ä¸ªæ–‡ä»¶ï¼Œå› ä¸ºæ¯ä¸€ä¸ªæ–‡ä»¶éƒ½å¿…é¡»æœ‰ä¸€ä¸ªå”¯ä¸€çš„ inode ã€‚\nä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¿…é¡»åŠ¨æ€åˆ†é… inode ã€‚æ¯ä¸€ä¸ª inode åªæ˜¯ BTree ä¸­çš„ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç”¨æˆ·å¯ä»¥æ— é™åˆ¶åœ°ä»»æ„æ’å…¥æ–°çš„ inodeï¼Œå…¶ç‰©ç†å­˜å‚¨ä½ç½®æ˜¯åŠ¨æ€åˆ†é…çš„ã€‚æ‰€ä»¥ btrfs æ²¡æœ‰å¯¹æ–‡ä»¶ä¸ªæ•°çš„é™åˆ¶ã€‚\né’ˆå¯¹ SSD çš„ä¼˜åŒ–æ”¯æŒ\nSSD æ˜¯å›ºæ€å­˜å‚¨ Solid State Disk çš„ç®€ç§°ã€‚åœ¨è¿‡å»çš„å‡ åå¹´ä¸­ï¼ŒCPU/RAM ç­‰å™¨ä»¶çš„å‘å±•å§‹ç»ˆéµå¾ªç€æ‘©å°”å®šå¾‹ï¼Œä½†ç¡¬ç›˜ HDD çš„è¯»å†™é€Ÿç‡å´å§‹ç»ˆæ²¡æœ‰é£è·ƒå¼çš„å‘å±•ã€‚ç£ç›˜ IO å§‹ç»ˆæ˜¯ç³»ç»Ÿæ€§èƒ½çš„ç“¶é¢ˆã€‚\nSSD é‡‡ç”¨ flash memory æŠ€æœ¯ï¼Œå†…éƒ¨æ²¡æœ‰ç£ç›˜ç£å¤´ç­‰æœºæ¢°è£…ç½®ï¼Œè¯»å†™é€Ÿç‡å¤§å¹…åº¦æå‡ã€‚ flash memory æœ‰ä¸€äº›ä¸åŒäº HDD çš„ç‰¹æ€§ã€‚ flash åœ¨å†™æ•°æ®ä¹‹å‰å¿…é¡»å…ˆæ‰§è¡Œæ“¦é™¤æ“ä½œï¼›å…¶æ¬¡ï¼Œflash å¯¹æ“¦é™¤æ“ä½œçš„æ¬¡æ•°æœ‰ä¸€å®šçš„é™åˆ¶ï¼Œåœ¨ç›®å‰çš„æŠ€æœ¯æ°´å¹³ä¸‹ï¼Œå¯¹åŒä¸€ä¸ªæ•°æ®å•å…ƒæœ€å¤šèƒ½è¿›è¡Œçº¦ 100 ä¸‡æ¬¡æ“¦é™¤æ“ä½œï¼Œå› æ­¤ï¼Œä¸ºäº†å»¶é•¿ flash çš„å¯¿å‘½ï¼Œåº”è¯¥å°†å†™æ“ä½œå¹³å‡åˆ°æ•´ä¸ª flash ä¸Šã€‚\nSSD åœ¨ç¡¬ä»¶å†…éƒ¨çš„å¾®ä»£ç ä¸­å®ç°äº† wear leveling ç­‰åˆ†å¸ƒå†™æ“ä½œçš„æŠ€æœ¯ï¼Œå› æ­¤ç³»ç»Ÿæ— é¡»å†ä½¿ç”¨ç‰¹æ®Šçš„ MTD é©±åŠ¨å’Œ FTL å±‚ã€‚è™½ç„¶ SSD åœ¨ç¡¬ä»¶å±‚é¢åšäº†å¾ˆå¤šåŠªåŠ›ï¼Œä½†æ¯•ç«Ÿè¿˜æ˜¯æœ‰é™ã€‚æ–‡ä»¶ç³»ç»Ÿé’ˆå¯¹ SSD çš„ç‰¹æ€§åšä¼˜åŒ–ä¸ä»…èƒ½æé«˜ SSD çš„ä½¿ç”¨å¯¿å‘½ï¼Œè€Œä¸”èƒ½æé«˜è¯»å†™æ€§èƒ½ã€‚ Btrfs æ˜¯å°‘æ•°ä¸“é—¨å¯¹ SSD è¿›è¡Œä¼˜åŒ–çš„æ–‡ä»¶ç³»ç»Ÿã€‚ btrfs ç”¨æˆ·å¯ä»¥ä½¿ç”¨ mount å‚æ•°æ‰“å¼€å¯¹ SSD çš„ç‰¹æ®Šä¼˜åŒ–å¤„ç†ã€‚\nBtrfs çš„ COW æŠ€æœ¯ä»æ ¹æœ¬ä¸Šé¿å…äº†å¯¹åŒä¸€ä¸ªç‰©ç†å•å…ƒçš„åå¤å†™æ“ä½œã€‚å¦‚æœç”¨æˆ·æ‰“å¼€äº† SSD ä¼˜åŒ–é€‰é¡¹ï¼Œbtrfs å°†åœ¨åº•å±‚çš„å—ç©ºé—´åˆ†é…ç­–ç•¥ä¸Šè¿›è¡Œä¼˜åŒ–ï¼šå°†å¤šæ¬¡ç£ç›˜ç©ºé—´åˆ†é…è¯·æ±‚èšåˆæˆä¸€ä¸ªå¤§å°ä¸º 2M çš„è¿ç»­çš„å—ã€‚å¤§å—è¿ç»­åœ°å€çš„ IO èƒ½å¤Ÿè®©å›ºåŒ–åœ¨ SSD å†…éƒ¨çš„å¾®ä»£ç æ›´å¥½çš„è¿›è¡Œè¯»å†™ä¼˜åŒ–ï¼Œä»è€Œæé«˜ IO æ€§èƒ½ã€‚\næ•°æ®ä¸€è‡´æ€§ç›¸å…³çš„ç‰¹æ€§ COW äº‹åŠ¡\nç†è§£ COW äº‹åŠ¡ï¼Œå¿…é¡»é¦–å…ˆç†è§£ COW å’Œäº‹åŠ¡è¿™ä¸¤ä¸ªæœ¯è¯­ã€‚\næ‰€è°“ COWï¼Œå³æ¯æ¬¡å†™ç£ç›˜æ•°æ®æ—¶ï¼Œå…ˆå°†æ›´æ–°æ•°æ®å†™å…¥ä¸€ä¸ªæ–°çš„ blockï¼Œå½“æ–°æ•°æ®å†™å…¥æˆåŠŸä¹‹åï¼Œå†æ›´æ–°ç›¸å…³çš„æ•°æ®ç»“æ„æŒ‡å‘æ–° block ã€‚\nCOW åªèƒ½ä¿è¯å•ä¸€æ•°æ®æ›´æ–°çš„åŸå­æ€§ã€‚ä½†æ–‡ä»¶ç³»ç»Ÿä¸­å¾ˆå¤šæ“ä½œéœ€è¦æ›´æ–°å¤šä¸ªä¸åŒçš„å…ƒæ•°æ®ï¼Œæ¯”å¦‚åˆ›å»ºæ–‡ä»¶éœ€è¦ä¿®æ”¹ä»¥ä¸‹è¿™äº›å…ƒæ•°æ®ï¼š\n ä¿®æ”¹ extent treeï¼Œåˆ†é…ä¸€æ®µç£ç›˜ç©ºé—´ åˆ›å»ºä¸€ä¸ªæ–°çš„ inodeï¼Œå¹¶æ’å…¥ FS Tree ä¸­ å¢åŠ ä¸€ä¸ªç›®å½•é¡¹ï¼Œæ’å…¥åˆ° FS Tree ä¸­  ä»»ä½•ä¸€ä¸ªæ­¥éª¤å‡ºé”™ï¼Œæ–‡ä»¶ä¾¿ä¸èƒ½åˆ›å»ºæˆåŠŸï¼Œå› æ­¤å¯ä»¥å®šä¹‰ä¸ºä¸€ä¸ªäº‹åŠ¡ã€‚\nä¸‹é¢å°†æ¼”ç¤ºä¸€ä¸ª COW äº‹åŠ¡ã€‚\nA æ˜¯ FS Tree çš„æ ¹èŠ‚ç‚¹ï¼Œæ–°çš„ inode çš„ä¿¡æ¯å°†è¢«æ’å…¥èŠ‚ç‚¹ C ã€‚é¦–å…ˆï¼Œbtrfs å°† inode æ’å…¥ä¸€ä¸ªæ–°åˆ†é…çš„ block C â€™ä¸­ï¼Œå¹¶ä¿®æ”¹ä¸Šå±‚èŠ‚ç‚¹ Bï¼Œä½¿å…¶æŒ‡å‘æ–°çš„ block C â€™ï¼›ä¿®æ”¹ B ä¹Ÿå°†å¼•å‘ COWï¼Œä»¥æ­¤ç±»æ¨ï¼Œå¼•å‘ä¸€ä¸ªè¿é”ååº”ï¼Œç›´åˆ°æœ€é¡¶å±‚çš„ Root A ã€‚å½“æ•´ä¸ªè¿‡ç¨‹ç»“æŸåï¼Œæ–°èŠ‚ç‚¹ A â€™å˜æˆäº† FS Tree çš„æ ¹ã€‚ä½†æ­¤æ—¶äº‹åŠ¡å¹¶æœªç»“æŸï¼Œsuperblock ä¾ç„¶æŒ‡å‘ A ã€‚\næ¥ä¸‹æ¥ï¼Œä¿®æ”¹ç›®å½•é¡¹ï¼ˆE èŠ‚ç‚¹ï¼‰ï¼ŒåŒæ ·å¼•å‘è¿™ä¸€è¿‡ç¨‹ï¼Œä»è€Œç”Ÿæˆæ–°çš„æ ¹èŠ‚ç‚¹ A â€™â€™ã€‚\næ­¤æ—¶ï¼Œinode å’Œç›®å½•é¡¹éƒ½å·²ç»å†™å…¥ç£ç›˜ï¼Œå¯ä»¥è®¤ä¸ºäº‹åŠ¡å·²ç»ç»“æŸã€‚ btrfs ä¿®æ”¹ superblockï¼Œä½¿å…¶æŒ‡å‘ A â€™â€™ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š\nCOW äº‹åŠ¡èƒ½å¤Ÿä¿è¯æ–‡ä»¶ç³»ç»Ÿçš„ä¸€è‡´æ€§ï¼Œå¹¶ä¸”ç³»ç»Ÿ Reboot ä¹‹åä¸éœ€è¦æ‰§è¡Œ fsck ã€‚å› ä¸º superblock è¦ä¹ˆæŒ‡å‘æ–°çš„ A â€™â€™ï¼Œè¦ä¹ˆæŒ‡å‘ Aï¼Œæ— è®ºå“ªä¸ªéƒ½æ˜¯ä¸€è‡´çš„æ•°æ®ã€‚\nChecksum\nChecksum æŠ€æœ¯ä¿è¯äº†æ•°æ®çš„å¯é æ€§ï¼Œé¿å… silent corruption ç°è±¡ã€‚ç”±äºç¡¬ä»¶åŸå› ï¼Œä»ç£ç›˜ä¸Šè¯»å‡ºçš„æ•°æ®ä¼šå‡ºé”™ã€‚æ¯”å¦‚ block A ä¸­å­˜æ”¾çš„æ•°æ®ä¸º 0x55ï¼Œä½†è¯»å–å‡ºæ¥çš„æ•°æ®å˜æ˜¯ 0x54ï¼Œå› ä¸ºè¯»å–æ“ä½œå¹¶æœªæŠ¥é”™ï¼Œæ‰€ä»¥è¿™ç§é”™è¯¯ä¸èƒ½è¢«ä¸Šå±‚è½¯ä»¶æ‰€å¯Ÿè§‰ã€‚\nè§£å†³è¿™ä¸ªé—®é¢˜çš„æ–¹æ³•æ˜¯ä¿å­˜æ•°æ®çš„æ ¡éªŒå’Œï¼Œåœ¨è¯»å–æ•°æ®åæ£€æŸ¥æ ¡éªŒå’Œã€‚å¦‚æœä¸ç¬¦åˆï¼Œä¾¿çŸ¥é“æ•°æ®å‡ºç°äº†é”™è¯¯ã€‚\next2/3 æ²¡æœ‰æ ¡éªŒå’Œï¼Œå¯¹ç£ç›˜å®Œå…¨ä¿¡ä»»ã€‚è€Œä¸å¹¸çš„æ˜¯ï¼Œç£ç›˜çš„é”™è¯¯å§‹ç»ˆå­˜åœ¨ï¼Œä¸ä»…å‘ç”Ÿåœ¨å»‰ä»·çš„ IDE ç¡¬ç›˜ä¸Šï¼Œæ˜‚è´µçš„ RAID ä¹Ÿå­˜åœ¨ silent corruption é—®é¢˜ã€‚è€Œä¸”éšç€å­˜å‚¨ç½‘ç»œçš„å‘å±•ï¼Œå³ä½¿æ•°æ®ä»ç£ç›˜è¯»å‡ºæ­£ç¡®ï¼Œä¹Ÿå¾ˆéš¾ç¡®ä¿èƒ½å¤Ÿå®‰å…¨åœ°ç©¿è¶Šç½‘ç»œè®¾å¤‡ã€‚\nbtrfs åœ¨è¯»å–æ•°æ®çš„åŒæ—¶ä¼šè¯»å–å…¶ç›¸åº”çš„ checksum ã€‚å¦‚æœæœ€ç»ˆä»ç£ç›˜è¯»å–å‡ºæ¥çš„æ•°æ®å’Œ checksum ä¸ç›¸åŒï¼Œbtrfs ä¼šé¦–å…ˆå°è¯•è¯»å–æ•°æ®çš„é•œåƒå¤‡ä»½ï¼Œå¦‚æœæ•°æ®æ²¡æœ‰é•œåƒå¤‡ä»½ï¼Œbtrfs å°†è¿”å›é”™è¯¯ã€‚å†™å…¥ç£ç›˜æ•°æ®ä¹‹å‰ï¼Œbtrfs è®¡ç®—æ•°æ®çš„ checksum ã€‚ç„¶åå°† checksum å’Œæ•°æ®åŒæ—¶å†™å…¥ç£ç›˜ã€‚\nBtrfs é‡‡ç”¨å•ç‹¬çš„ checksum Tree æ¥ç®¡ç†æ•°æ®å—çš„æ ¡éªŒå’Œï¼ŒæŠŠ checksum å’Œ checksum æ‰€ä¿æŠ¤çš„æ•°æ®å—åˆ†ç¦»å¼€ï¼Œä»è€Œæä¾›äº†æ›´ä¸¥æ ¼çš„ä¿æŠ¤ã€‚å‡å¦‚åœ¨æ¯ä¸ªæ•°æ® block çš„ header ä¸­åŠ å…¥ä¸€ä¸ªåŸŸä¿å­˜ checksumï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°æ® block å°±æˆä¸ºä¸€ä¸ªè‡ªå·±ä¿æŠ¤è‡ªå·±çš„ç»“æ„ã€‚è¿™ç§ç»“æ„ä¸‹æœ‰ä¸€ç§é”™è¯¯æ— æ³•æ£€æµ‹å‡ºæ¥ï¼Œæ¯”å¦‚æœ¬æ¥æ–‡ä»¶ç³»ç»Ÿæ‰“ç®—ä»ç£ç›˜ä¸Šè¯» block Aï¼Œä½†è¿”å›äº† block Bï¼Œç”±äº checksum åœ¨ block å†…éƒ¨ï¼Œå› æ­¤ checksum ä¾æ—§æ˜¯æ­£ç¡®çš„ã€‚ btrfs é‡‡ç”¨ checksum tree æ¥ä¿å­˜æ•°æ®å—çš„ checksumï¼Œé¿å…äº†ä¸Šè¿°é—®é¢˜ã€‚\nBtrfs é‡‡ç”¨ crc32 ç®—æ³•è®¡ç®— checksumï¼Œåœ¨å°†æ¥çš„å¼€å‘ä¸­ä¼šæ”¯æŒå…¶ä»–ç±»å‹çš„æ ¡éªŒç®—æ³•ã€‚ä¸ºäº†æé«˜æ•ˆç‡ï¼Œbtrfs å°†å†™æ•°æ®å’Œ checksum çš„å·¥ä½œåˆ†åˆ«ç”¨ä¸åŒçš„å†…æ ¸çº¿ç¨‹å¹¶è¡Œæ‰§è¡Œã€‚\nå¤šè®¾å¤‡ç®¡ç†ç›¸å…³çš„ç‰¹æ€§ æ¯ä¸ª Unix ç®¡ç†å‘˜éƒ½æ›¾é¢ä¸´ä¸ºç”¨æˆ·å’Œå„ç§åº”ç”¨åˆ†é…ç£ç›˜ç©ºé—´çš„ä»»åŠ¡ã€‚å¤šæ•°æƒ…å†µä¸‹ï¼Œäººä»¬æ— æ³•äº‹å…ˆå‡†ç¡®åœ°ä¼°è®¡ä¸€ä¸ªç”¨æˆ·æˆ–è€…åº”ç”¨åœ¨æœªæ¥ç©¶ç«Ÿéœ€è¦å¤šå°‘ç£ç›˜ç©ºé—´ã€‚ç£ç›˜ç©ºé—´è¢«ç”¨å°½çš„æƒ…å†µç»å¸¸å‘ç”Ÿï¼Œæ­¤æ—¶äººä»¬ä¸å¾—ä¸è¯•å›¾å¢åŠ æ–‡ä»¶ç³»ç»Ÿç©ºé—´ã€‚ä¼ ç»Ÿçš„ ext2/3 æ— æ³•åº”ä»˜è¿™ç§éœ€æ±‚ã€‚\nå¾ˆå¤šå·ç®¡ç†è½¯ä»¶è¢«è®¾è®¡å‡ºæ¥æ»¡è¶³ç”¨æˆ·å¯¹å¤šè®¾å¤‡ç®¡ç†çš„éœ€æ±‚ï¼Œæ¯”å¦‚ LVM ã€‚ Btrfs é›†æˆäº†å·ç®¡ç†è½¯ä»¶çš„åŠŸèƒ½ï¼Œä¸€æ–¹é¢ç®€åŒ–äº†ç”¨æˆ·å‘½ä»¤ï¼›å¦ä¸€æ–¹é¢æé«˜äº†æ•ˆç‡ã€‚\nå¤šè®¾å¤‡ç®¡ç†\nBtrfs æ”¯æŒåŠ¨æ€æ·»åŠ è®¾å¤‡ã€‚ç”¨æˆ·åœ¨ç³»ç»Ÿä¸­å¢åŠ æ–°çš„ç£ç›˜ä¹‹åï¼Œå¯ä»¥ä½¿ç”¨ btrfs çš„å‘½ä»¤å°†è¯¥è®¾å¤‡æ·»åŠ åˆ°æ–‡ä»¶ç³»ç»Ÿä¸­ã€‚\nä¸ºäº†çµæ´»åˆ©ç”¨è®¾å¤‡ç©ºé—´ï¼ŒBtrfs å°†ç£ç›˜ç©ºé—´åˆ’åˆ†ä¸ºå¤šä¸ª chunk ã€‚æ¯ä¸ª chunk å¯ä»¥ä½¿ç”¨ä¸åŒçš„ç£ç›˜ç©ºé—´åˆ†é…ç­–ç•¥ã€‚æ¯”å¦‚æŸäº› chunk åªå­˜æ”¾ metadataï¼ŒæŸäº› chunk åªå­˜æ”¾æ•°æ®ã€‚ä¸€äº› chunk å¯ä»¥é…ç½®ä¸º mirrorï¼Œè€Œå¦ä¸€äº› chunk åˆ™å¯ä»¥é…ç½®ä¸º stripe ã€‚è¿™ä¸ºç”¨æˆ·æä¾›äº†éå¸¸çµæ´»çš„é…ç½®å¯èƒ½æ€§ã€‚\nSubvolume\nSubvolume æ˜¯å¾ˆä¼˜é›…çš„ä¸€ä¸ªæ¦‚å¿µã€‚å³æŠŠæ–‡ä»¶ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†é…ç½®ä¸ºä¸€ä¸ªå®Œæ•´çš„å­æ–‡ä»¶ç³»ç»Ÿï¼Œç§°ä¹‹ä¸º subvolume ã€‚\né‡‡ç”¨ subvolumeï¼Œä¸€ä¸ªå¤§çš„æ–‡ä»¶ç³»ç»Ÿå¯ä»¥è¢«åˆ’åˆ†ä¸ºå¤šä¸ªå­æ–‡ä»¶ç³»ç»Ÿï¼Œè¿™äº›å­æ–‡ä»¶ç³»ç»Ÿå…±äº«åº•å±‚çš„è®¾å¤‡ç©ºé—´ï¼Œåœ¨éœ€è¦ç£ç›˜ç©ºé—´æ—¶ä¾¿ä»åº•å±‚è®¾å¤‡ä¸­åˆ†é…ï¼Œç±»ä¼¼åº”ç”¨ç¨‹åºè°ƒç”¨ malloc() åˆ†é…å†…å­˜ä¸€æ ·ã€‚å¯ä»¥ç§°ä¹‹ä¸ºå­˜å‚¨æ± ã€‚è¿™ç§æ¨¡å‹æœ‰å¾ˆå¤šä¼˜ç‚¹ï¼Œæ¯”å¦‚å¯ä»¥å……åˆ†åˆ©ç”¨ disk çš„å¸¦å®½ï¼Œå¯ä»¥ç®€åŒ–ç£ç›˜ç©ºé—´çš„ç®¡ç†ç­‰ã€‚\næ‰€è°“å……åˆ†åˆ©ç”¨ disk çš„å¸¦å®½ï¼ŒæŒ‡æ–‡ä»¶ç³»ç»Ÿå¯ä»¥å¹¶è¡Œè¯»å†™åº•å±‚çš„å¤šä¸ª diskï¼Œè¿™æ˜¯å› ä¸ºæ¯ä¸ªæ–‡ä»¶ç³»ç»Ÿéƒ½å¯ä»¥è®¿é—®æ‰€æœ‰çš„ disk ã€‚ä¼ ç»Ÿçš„æ–‡ä»¶ç³»ç»Ÿä¸èƒ½å…±äº«åº•å±‚çš„ disk è®¾å¤‡ï¼Œæ— è®ºæ˜¯ç‰©ç†çš„è¿˜æ˜¯é€»è¾‘çš„ï¼Œå› æ­¤æ— æ³•åšåˆ°å¹¶è¡Œè¯»å†™ã€‚\næ‰€è°“ç®€åŒ–ç®¡ç†ï¼Œæ˜¯ç›¸å¯¹äº LVM ç­‰å·ç®¡ç†è½¯ä»¶è€Œè¨€ã€‚é‡‡ç”¨å­˜å‚¨æ± æ¨¡å‹ï¼Œæ¯ä¸ªæ–‡ä»¶ç³»ç»Ÿçš„å¤§å°éƒ½å¯ä»¥è‡ªåŠ¨è°ƒèŠ‚ã€‚è€Œä½¿ç”¨ LVMï¼Œå¦‚æœä¸€ä¸ªæ–‡ä»¶ç³»ç»Ÿçš„ç©ºé—´ä¸å¤Ÿäº†ï¼Œè¯¥æ–‡ä»¶ç³»ç»Ÿå¹¶ä¸èƒ½è‡ªåŠ¨ä½¿ç”¨å…¶ä»–ç£ç›˜è®¾å¤‡ä¸Šçš„ç©ºé—²ç©ºé—´ï¼Œè€Œå¿…é¡»ä½¿ç”¨ LVM çš„ç®¡ç†å‘½ä»¤æ‰‹åŠ¨è°ƒèŠ‚ã€‚\nSubvolume å¯ä»¥ä½œä¸ºæ ¹ç›®å½•æŒ‚è½½åˆ°ä»»æ„ mount ç‚¹ã€‚ subvolume æ˜¯éå¸¸æœ‰è¶£çš„ä¸€ä¸ªç‰¹æ€§ï¼Œæœ‰å¾ˆå¤šåº”ç”¨ã€‚\nå‡å¦‚ç®¡ç†å‘˜åªå¸Œæœ›æŸäº›ç”¨æˆ·è®¿é—®æ–‡ä»¶ç³»ç»Ÿçš„ä¸€éƒ¨åˆ†ï¼Œæ¯”å¦‚å¸Œæœ›ç”¨æˆ·åªèƒ½è®¿é—® /var/test/ ä¸‹é¢çš„æ‰€æœ‰å†…å®¹ï¼Œè€Œä¸èƒ½è®¿é—® /var/ ä¸‹é¢å…¶ä»–çš„å†…å®¹ã€‚é‚£ä¹ˆä¾¿å¯ä»¥å°† /var/test åšæˆä¸€ä¸ª subvolume ã€‚ /var/test è¿™ä¸ª subvolume ä¾¿æ˜¯ä¸€ä¸ªå®Œæ•´çš„æ–‡ä»¶ç³»ç»Ÿï¼Œå¯ä»¥ç”¨ mount å‘½ä»¤æŒ‚è½½ã€‚æ¯”å¦‚æŒ‚è½½åˆ° /test ç›®å½•ä¸‹ï¼Œç»™ç”¨æˆ·è®¿é—® /test çš„æƒé™ï¼Œé‚£ä¹ˆç”¨æˆ·ä¾¿åªèƒ½è®¿é—® /var/test ä¸‹é¢çš„å†…å®¹äº†ã€‚\nå¿«ç…§å’Œå…‹éš†\nå¿«ç…§æ˜¯å¯¹æ–‡ä»¶ç³»ç»ŸæŸä¸€æ—¶åˆ»çš„å®Œå…¨å¤‡ä»½ã€‚å»ºç«‹å¿«ç…§ä¹‹åï¼Œå¯¹æ–‡ä»¶ç³»ç»Ÿçš„ä¿®æ”¹ä¸ä¼šå½±å“å¿«ç…§ä¸­çš„å†…å®¹ã€‚è¿™æ˜¯éå¸¸æœ‰ç”¨çš„ä¸€ç§æŠ€æœ¯ã€‚\næ¯”å¦‚æ•°æ®åº“å¤‡ä»½ã€‚å‡å¦‚åœ¨æ—¶é—´ç‚¹ T1ï¼Œç®¡ç†å‘˜å†³å®šå¯¹æ•°æ®åº“è¿›è¡Œå¤‡ä»½ï¼Œé‚£ä¹ˆä»–å¿…é¡»å…ˆåœæ­¢æ•°æ®åº“ã€‚å¤‡ä»½æ–‡ä»¶æ˜¯éå¸¸è€—æ—¶çš„æ“ä½œï¼Œå‡å¦‚åœ¨å¤‡ä»½è¿‡ç¨‹ä¸­æŸä¸ªåº”ç”¨ç¨‹åºä¿®æ”¹äº†æ•°æ®åº“çš„å†…å®¹ï¼Œé‚£ä¹ˆå°†æ— æ³•å¾—åˆ°ä¸€ä¸ªä¸€è‡´æ€§çš„å¤‡ä»½ã€‚å› æ­¤åœ¨å¤‡ä»½è¿‡ç¨‹ä¸­æ•°æ®åº“æœåŠ¡å¿…é¡»åœæ­¢ï¼Œå¯¹äºæŸäº›å…³é”®åº”ç”¨è¿™æ˜¯ä¸èƒ½å…è®¸çš„ã€‚\nåˆ©ç”¨å¿«ç…§ï¼Œç®¡ç†å‘˜å¯ä»¥åœ¨æ—¶é—´ç‚¹ T1 å°†æ•°æ®åº“åœæ­¢ï¼Œå¯¹ç³»ç»Ÿå»ºç«‹ä¸€ä¸ªå¿«ç…§ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸€èˆ¬åªéœ€è¦å‡ ç§’é’Ÿï¼Œç„¶åå°±å¯ä»¥ç«‹å³é‡æ–°æ¢å¤æ•°æ®åº“æœåŠ¡ã€‚æ­¤ååœ¨ä»»ä½•æ—¶å€™ï¼Œç®¡ç†å‘˜éƒ½å¯ä»¥å¯¹å¿«ç…§çš„å†…å®¹è¿›è¡Œå¤‡ä»½æ“ä½œï¼Œè€Œæ­¤æ—¶ç”¨æˆ·å¯¹æ•°æ®åº“çš„ä¿®æ”¹ä¸ä¼šå½±å“å¿«ç…§ä¸­çš„å†…å®¹ã€‚å½“å¤‡ä»½å®Œæˆï¼Œç®¡ç†å‘˜ä¾¿å¯ä»¥åˆ é™¤å¿«ç…§ï¼Œé‡Šæ”¾ç£ç›˜ç©ºé—´ã€‚\nå¿«ç…§ä¸€èˆ¬æ˜¯åªè¯»çš„ï¼Œå½“ç³»ç»Ÿæ”¯æŒå¯å†™å¿«ç…§ï¼Œé‚£ä¹ˆè¿™ç§å¯å†™å¿«ç…§ä¾¿è¢«ç§°ä¸ºå…‹éš†ã€‚å…‹éš†æŠ€æœ¯ä¹Ÿæœ‰å¾ˆå¤šåº”ç”¨ã€‚æ¯”å¦‚åœ¨ä¸€ä¸ªç³»ç»Ÿä¸­å®‰è£…å¥½åŸºæœ¬çš„è½¯ä»¶ï¼Œç„¶åä¸ºä¸åŒçš„ç”¨æˆ·åšä¸åŒçš„å…‹éš†ï¼Œæ¯ä¸ªç”¨æˆ·ä½¿ç”¨è‡ªå·±çš„å…‹éš†è€Œä¸ä¼šå½±å“å…¶ä»–ç”¨æˆ·çš„ç£ç›˜ç©ºé—´ã€‚éå¸¸ç±»ä¼¼äºè™šæ‹Ÿæœºã€‚\nBtrfs æ”¯æŒ snapshot å’Œ clone ã€‚è¿™ä¸ªç‰¹æ€§æå¤§åœ°å¢åŠ äº† btrfs çš„ä½¿ç”¨èŒƒå›´ï¼Œç”¨æˆ·ä¸éœ€è¦è´­ä¹°å’Œå®‰è£…æ˜‚è´µå¹¶ä¸”ä½¿ç”¨å¤æ‚çš„å·ç®¡ç†è½¯ä»¶ã€‚ä¸‹é¢ç®€è¦ä»‹ç»ä¸€ä¸‹ btrfs å®ç°å¿«ç…§çš„åŸºæœ¬åŸç†ã€‚\nå¦‚å‰æ‰€è¿° Btrfs é‡‡ç”¨ COW äº‹åŠ¡æŠ€æœ¯ï¼Œä»å›¾ COW transaction 3 å¯ä»¥çœ‹åˆ°ï¼ŒCOW äº‹åŠ¡ç»“æŸåï¼Œå¦‚æœä¸åˆ é™¤åŸæ¥çš„èŠ‚ç‚¹ A,C,Eï¼Œé‚£ä¹ˆ A,C,E,D,F ä¾ç„¶å®Œæ•´çš„è¡¨ç¤ºç€äº‹åŠ¡å¼€å§‹ä¹‹å‰çš„æ–‡ä»¶ç³»ç»Ÿã€‚è¿™å°±æ˜¯ snapshot å®ç°çš„åŸºæœ¬åŸç†ã€‚\nBtrfs é‡‡ç”¨å¼•ç”¨è®¡æ•°å†³å®šæ˜¯å¦åœ¨äº‹åŠ¡ commit ä¹‹ååˆ é™¤åŸæœ‰èŠ‚ç‚¹ã€‚å¯¹æ¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œbtrfs ç»´æŠ¤ä¸€ä¸ªå¼•ç”¨è®¡æ•°ã€‚å½“è¯¥èŠ‚ç‚¹è¢«åˆ«çš„èŠ‚ç‚¹å¼•ç”¨æ—¶ï¼Œè¯¥è®¡æ•°åŠ ä¸€ï¼Œå½“è¯¥èŠ‚ç‚¹ä¸å†è¢«åˆ«çš„èŠ‚ç‚¹å¼•ç”¨æ—¶ï¼Œè¯¥è®¡æ•°å‡ä¸€ã€‚å½“å¼•ç”¨è®¡æ•°å½’é›¶æ—¶ï¼Œè¯¥èŠ‚ç‚¹è¢«åˆ é™¤ã€‚å¯¹äºæ™®é€šçš„ Tree Root, å¼•ç”¨è®¡æ•°åœ¨åˆ›å»ºæ—¶è¢«åŠ ä¸€ï¼Œå› ä¸º Superblock ä¼šå¼•ç”¨è¿™ä¸ª Root block ã€‚å¾ˆæ˜æ˜¾ï¼Œåˆå§‹æƒ…å†µä¸‹è¿™æ£µæ ‘ä¸­çš„æ‰€æœ‰å…¶ä»–èŠ‚ç‚¹çš„å¼•ç”¨è®¡æ•°éƒ½ä¸ºä¸€ã€‚å½“ COW äº‹åŠ¡ commit æ—¶ï¼Œsuperblock è¢«ä¿®æ”¹æŒ‡å‘æ–°çš„ Root A â€™â€™ï¼ŒåŸæ¥ Root block A çš„å¼•ç”¨è®¡æ•°è¢«å‡ä¸€ï¼Œå˜ä¸ºé›¶ï¼Œå› æ­¤ A èŠ‚ç‚¹è¢«åˆ é™¤ã€‚ A èŠ‚ç‚¹çš„åˆ é™¤ä¼šå¼•å‘å…¶å­å­™èŠ‚ç‚¹çš„å¼•ç”¨è®¡æ•°ä¹Ÿå‡ä¸€ï¼Œå›¾ COW transaction 3 ä¸­çš„ Bï¼ŒC èŠ‚ç‚¹çš„å¼•ç”¨è®¡æ•°å› æ­¤ä¹Ÿå˜æˆäº† 0ï¼Œä»è€Œè¢«åˆ é™¤ã€‚ D,E èŠ‚ç‚¹åœ¨ COW æ—¶ï¼Œå› ä¸ºè¢« A â€™â€™æ‰€å¼•ç”¨ï¼Œè®¡æ•°å™¨åŠ ä¸€ï¼Œå› æ­¤è®¡æ•°å™¨è¿™æ—¶å¹¶æœªå½’é›¶ï¼Œä»è€Œæ²¡æœ‰è¢«åˆ é™¤ã€‚\nåˆ›å»º Snapshot æ—¶ï¼Œbtrfs å°†çš„ Root A èŠ‚ç‚¹å¤åˆ¶åˆ° sAï¼Œå¹¶å°† sA çš„å¼•ç”¨è®¡æ•°è®¾ç½®ä¸º 2 ã€‚åœ¨äº‹åŠ¡ commit çš„æ—¶å€™ï¼ŒsA èŠ‚ç‚¹çš„å¼•ç”¨è®¡æ•°ä¸ä¼šå½’é›¶ï¼Œä»è€Œä¸ä¼šè¢«åˆ é™¤ï¼Œå› æ­¤ç”¨æˆ·å¯ä»¥ç»§ç»­é€šè¿‡ Root sA è®¿é—® snapshot ä¸­çš„æ–‡ä»¶ã€‚\nè½¯ä»¶ RAID\nRAID æŠ€æœ¯æœ‰å¾ˆå¤šéå¸¸å¸å¼•äººçš„ç‰¹æ€§ï¼Œæ¯”å¦‚ç”¨æˆ·å¯ä»¥å°†å¤šä¸ªå»‰ä»·çš„ IDE ç£ç›˜ç»„åˆä¸º RAID0 é˜µåˆ—ï¼Œä»è€Œå˜æˆäº†ä¸€ä¸ªå¤§å®¹é‡çš„ç£ç›˜ï¼› RAID1 å’Œæ›´é«˜çº§çš„ RAID é…ç½®è¿˜æä¾›äº†æ•°æ®å†—ä½™ä¿æŠ¤ï¼Œä»è€Œä½¿å¾—å­˜å‚¨åœ¨ç£ç›˜ä¸­çš„æ•°æ®æ›´åŠ å®‰å…¨ã€‚\nBtrfs å¾ˆå¥½çš„æ”¯æŒäº†è½¯ä»¶ RAIDï¼ŒRAID ç§ç±»åŒ…æ‹¬ RAID0,RAID1 å’Œ RAID10.\nBtrfs ç¼ºçœæƒ…å†µä¸‹å¯¹ metadata è¿›è¡Œ RAID1 ä¿æŠ¤ã€‚å‰é¢å·²ç»æåŠ btrfs å°†è®¾å¤‡ç©ºé—´åˆ’åˆ†ä¸º chunkï¼Œä¸€äº› chunk è¢«é…ç½®ä¸º metadataï¼Œå³åªå­˜å‚¨ metadata ã€‚å¯¹äºè¿™ç±» chunkï¼Œbtrfs å°† chunk åˆ†æˆä¸¤ä¸ªæ¡å¸¦ï¼Œå†™ metadata çš„æ—¶å€™ï¼Œä¼šåŒæ—¶å†™å…¥ä¸¤ä¸ªæ¡å¸¦å†…ï¼Œä»è€Œå®ç°å¯¹ metadata çš„ä¿æŠ¤ã€‚\nå…¶ä»–ç‰¹æ€§ Btrfs ä¸»é¡µä¸Šç½—åˆ—çš„å…¶ä»–ç‰¹æ€§ä¸å®¹æ˜“åˆ†ç±»ï¼Œè¿™äº›ç‰¹æ€§éƒ½æ˜¯ç°ä»£æ–‡ä»¶ç³»ç»Ÿä¸­æ¯”è¾ƒå…ˆè¿›çš„æŠ€æœ¯ï¼Œèƒ½å¤Ÿæé«˜æ–‡ä»¶ç³»ç»Ÿçš„æ—¶é—´æˆ–ç©ºé—´æ•ˆç‡ã€‚\nDelay allocation\nå»¶è¿Ÿåˆ†é…æŠ€æœ¯èƒ½å¤Ÿå‡å°‘ç£ç›˜ç¢ç‰‡ã€‚åœ¨ Linux å†…æ ¸ä¸­ï¼Œä¸ºäº†æé«˜æ•ˆç‡ï¼Œå¾ˆå¤šæ“ä½œéƒ½ä¼šå»¶è¿Ÿã€‚\nåœ¨æ–‡ä»¶ç³»ç»Ÿä¸­ï¼Œå°å—ç©ºé—´é¢‘ç¹çš„åˆ†é…å’Œé‡Šæ”¾ä¼šé€ æˆç¢ç‰‡ã€‚å»¶è¿Ÿåˆ†é…æ˜¯è¿™æ ·ä¸€ç§æŠ€æœ¯ï¼Œå½“ç”¨æˆ·éœ€è¦ç£ç›˜ç©ºé—´æ—¶ï¼Œå…ˆå°†æ•°æ®ä¿å­˜åœ¨å†…å­˜ä¸­ã€‚å¹¶å°†ç£ç›˜åˆ†é…éœ€æ±‚å‘é€ç»™ç£ç›˜ç©ºé—´åˆ†é…å™¨ï¼Œç£ç›˜ç©ºé—´åˆ†é…å™¨å¹¶ä¸ç«‹å³åˆ†é…çœŸæ­£çš„ç£ç›˜ç©ºé—´ã€‚åªæ˜¯è®°å½•ä¸‹è¿™ä¸ªè¯·æ±‚ä¾¿è¿”å›ã€‚\nç£ç›˜ç©ºé—´åˆ†é…è¯·æ±‚å¯èƒ½å¾ˆé¢‘ç¹ï¼Œæ‰€ä»¥åœ¨å»¶è¿Ÿåˆ†é…çš„ä¸€æ®µæ—¶é—´å†…ï¼Œç£ç›˜åˆ†é…å™¨å¯ä»¥æ”¶åˆ°å¾ˆå¤šçš„åˆ†é…è¯·æ±‚ï¼Œä¸€äº›è¯·æ±‚ä¹Ÿè®¸å¯ä»¥åˆå¹¶ï¼Œä¸€äº›è¯·æ±‚åœ¨è¿™æ®µå»¶è¿ŸæœŸé—´ç”šè‡³å¯èƒ½è¢«å–æ¶ˆã€‚é€šè¿‡è¿™æ ·çš„â€œç­‰å¾…â€ï¼Œå¾€å¾€èƒ½å¤Ÿå‡å°‘ä¸å¿…è¦çš„åˆ†é…ï¼Œä¹Ÿæœ‰å¯èƒ½å°†å¤šä¸ªå°çš„åˆ†é…è¯·æ±‚åˆå¹¶ä¸ºä¸€ä¸ªå¤§çš„è¯·æ±‚ï¼Œä»è€Œæé«˜ IO æ•ˆç‡ã€‚\nInline file\nç³»ç»Ÿä¸­å¾€å¾€å­˜åœ¨å¤§é‡çš„å°æ–‡ä»¶ï¼Œæ¯”å¦‚å‡ ç™¾ä¸ªå­—èŠ‚æˆ–è€…æ›´å°ã€‚å¦‚æœä¸ºå…¶åˆ†é…å•ç‹¬çš„æ•°æ® blockï¼Œä¾¿ä¼šå¼•èµ·å†…éƒ¨ç¢ç‰‡ï¼Œæµªè´¹ç£ç›˜ç©ºé—´ã€‚ btrfs å°†å°æ–‡ä»¶çš„å†…å®¹ä¿å­˜åœ¨å…ƒæ•°æ®ä¸­ï¼Œä¸å†é¢å¤–åˆ†é…å­˜æ”¾æ–‡ä»¶æ•°æ®çš„ç£ç›˜å—ã€‚æ”¹å–„äº†å†…éƒ¨ç¢ç‰‡é—®é¢˜ï¼Œä¹Ÿå¢åŠ äº†æ–‡ä»¶çš„è®¿é—®æ•ˆç‡ã€‚\nä¸Šå›¾æ˜¾ç¤ºäº†ä¸€ä¸ª BTree çš„å¶å­èŠ‚ç‚¹ã€‚å¶å­ä¸­æœ‰ä¸¤ä¸ª extent data item å…ƒæ•°æ®ï¼Œåˆ†åˆ«ç”¨æ¥è¡¨ç¤ºæ–‡ä»¶ file1 å’Œ file2 æ‰€ä½¿ç”¨çš„ç£ç›˜ç©ºé—´ã€‚\nå‡è®¾ file1 çš„å¤§å°ä»…ä¸º 15 ä¸ªå­—èŠ‚ï¼› file2 çš„å¤§å°ä¸º 1M ã€‚å¦‚å›¾æ‰€ç¤ºï¼Œfile2 é‡‡ç”¨æ™®é€šçš„ extent è¡¨ç¤ºæ–¹æ³•ï¼šextent2 å…ƒæ•°æ®æŒ‡å‘ä¸€æ®µ extentï¼Œå¤§å°ä¸º 1Mï¼Œå…¶å†…å®¹ä¾¿æ˜¯ file2 æ–‡ä»¶çš„å†…å®¹ã€‚\nè€Œå¯¹äº file1ï¼Œ btrfs ä¼šæŠŠå…¶æ–‡ä»¶å†…å®¹å†…åµŒåˆ°å…ƒæ•°æ® extent1 ä¸­ã€‚å¦‚æœä¸é‡‡ç”¨ inline file æŠ€æœ¯ã€‚å¦‚è™šçº¿æ‰€ç¤ºï¼Œextent1 æŒ‡å‘ä¸€ä¸ªæœ€å°çš„ extentï¼Œå³ä¸€ä¸ª blockï¼Œä½† file1 æœ‰ 15 ä¸ªå­—èŠ‚ï¼Œå…¶ä½™çš„ç©ºé—´ä¾¿æˆä¸ºäº†ç¢ç‰‡ç©ºé—´ã€‚\né‡‡ç”¨ inline æŠ€æœ¯ï¼Œè¯»å– file1 æ—¶åªéœ€è¦è¯»å–å…ƒæ•°æ® blockï¼Œè€Œæ— éœ€å…ˆè¯»å– extent1 è¿™ä¸ªå…ƒæ•°æ®ï¼Œå†è¯»å–çœŸæ­£å­˜æ”¾æ–‡ä»¶å†…å®¹çš„ blockï¼Œä»è€Œå‡å°‘äº†ç£ç›˜ IO ã€‚\nå¾—ç›Šäº inline file æŠ€æœ¯ï¼Œbtrfs å¤„ç†å°æ–‡ä»¶çš„æ•ˆç‡éå¸¸é«˜ï¼Œä¹Ÿé¿å…äº†ç£ç›˜ç¢ç‰‡é—®é¢˜ã€‚\nDirectory index\nå½“ä¸€ä¸ªç›®å½•ä¸‹çš„æ–‡ä»¶æ•°ç›®å·¨å¤§æ—¶ï¼Œç›®å½•ç´¢å¼•å¯ä»¥æ˜¾è‘—æé«˜æ–‡ä»¶æœç´¢æ—¶é—´ã€‚ Btrfs æœ¬èº«é‡‡ç”¨ BTree å­˜å‚¨ç›®å½•é¡¹ï¼Œæ‰€ä»¥åœ¨ç»™å®šç›®å½•ä¸‹æœç´¢æ–‡ä»¶çš„æ•ˆç‡æ˜¯éå¸¸é«˜çš„ã€‚\nç„¶è€Œï¼Œbtrfs ä½¿ç”¨ BTree ç®¡ç†ç›®å½•é¡¹çš„æ–¹å¼æ— æ³•åŒæ—¶æ»¡è¶³ readdir çš„éœ€æ±‚ã€‚ readdir æ˜¯ POSIX æ ‡å‡† APIï¼Œå®ƒè¦æ±‚è¿”å›æŒ‡å®šç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶ï¼Œå¹¶ä¸”ç‰¹åˆ«çš„ï¼Œè¿™äº›æ–‡ä»¶è¦æŒ‰ç…§ inode number æ’åºã€‚è€Œ btrfs ç›®å½•é¡¹æ’å…¥ BTree æ—¶çš„ Key å¹¶ä¸æ˜¯ Inode numberï¼Œè€Œæ˜¯æ ¹æ®æ–‡ä»¶åè®¡ç®—çš„ä¸€ä¸ª hash å€¼ã€‚è¿™ç§æ–¹å¼åœ¨æŸ¥æ‰¾ä¸€ä¸ªç‰¹å®šæ–‡ä»¶æ—¶éå¸¸é«˜æ•ˆï¼Œä½†å´ä¸é€‚äº readdir ã€‚ä¸ºæ­¤ï¼Œbtrfs åœ¨æ¯æ¬¡åˆ›å»ºæ–°çš„æ–‡ä»¶æ—¶ï¼Œé™¤äº†æ’å…¥ä»¥ hash å€¼ä¸º Key çš„ç›®å½•é¡¹å¤–ï¼Œè¿˜åŒæ—¶æ’å…¥å¦å¤–ä¸€ç§ç›®å½•é¡¹ç´¢å¼•ï¼Œè¯¥ç›®å½•é¡¹ç´¢å¼•çš„ KEY ä»¥ sequence number ä½œä¸º BTree çš„é”®å€¼ã€‚è¿™ä¸ª sequence number åœ¨æ¯æ¬¡åˆ›å»ºæ–°æ–‡ä»¶æ—¶çº¿æ€§å¢åŠ ã€‚å› ä¸º Inode number ä¹Ÿæ˜¯æ¯æ¬¡åˆ›å»ºæ–°æ–‡ä»¶æ—¶å¢åŠ çš„ï¼Œæ‰€ä»¥ sequence number å’Œ inode number çš„é¡ºåºç›¸åŒã€‚ä»¥è¿™ç§ sequence number ä½œä¸º KEY åœ¨ BTree ä¸­æŸ¥æ‰¾ä¾¿å¯ä»¥æ–¹ä¾¿çš„å¾—åˆ°ä¸€ä¸ªä»¥ inode number æ’åºçš„æ–‡ä»¶åˆ—è¡¨ã€‚\nå¦å¤–ä»¥ sequence number æ’åºçš„æ–‡ä»¶å¾€å¾€åœ¨ç£ç›˜ä¸Šçš„ä½ç½®ä¹Ÿæ˜¯ç›¸é‚»çš„ï¼Œæ‰€ä»¥ä»¥ sequence number ä¸ºåºè®¿é—®å¤§é‡æ–‡ä»¶ä¼šè·å¾—æ›´å¥½çš„ IO æ•ˆç‡ã€‚\nå‹ç¼©\nå¤§å®¶éƒ½æ›¾ä½¿ç”¨è¿‡ zipï¼Œwinrar ç­‰å‹ç¼©è½¯ä»¶ï¼Œå°†ä¸€ä¸ªå¤§æ–‡ä»¶è¿›è¡Œå‹ç¼©å¯ä»¥æœ‰æ•ˆèŠ‚çº¦ç£ç›˜ç©ºé—´ã€‚ Btrfs å†…ç½®äº†å‹ç¼©åŠŸèƒ½ã€‚\né€šå¸¸äººä»¬è®¤ä¸ºå°†æ•°æ®å†™å…¥ç£ç›˜ä¹‹å‰è¿›è¡Œå‹ç¼©ä¼šå ç”¨å¾ˆå¤šçš„ CPU è®¡ç®—æ—¶é—´ï¼Œå¿…ç„¶é™ä½æ–‡ä»¶ç³»ç»Ÿçš„è¯»å†™æ•ˆç‡ã€‚ä½†éšç€ç¡¬ä»¶æŠ€æœ¯çš„å‘å±•ï¼ŒCPU å¤„ç†æ—¶é—´å’Œç£ç›˜ IO æ—¶é—´çš„å·®è·ä¸æ–­åŠ å¤§ã€‚åœ¨æŸäº›æƒ…å†µä¸‹ï¼ŒèŠ±è´¹ä¸€å®šçš„ CPU æ—¶é—´å’Œä¸€äº›å†…å­˜ï¼Œä½†å´èƒ½å¤§å¤§èŠ‚çº¦ç£ç›˜ IO çš„æ•°é‡ï¼Œè¿™åè€Œèƒ½å¤Ÿå¢åŠ æ•´ä½“çš„æ•ˆç‡ã€‚\næ¯”å¦‚ä¸€ä¸ªæ–‡ä»¶ä¸ç»è¿‡å‹ç¼©çš„æƒ…å†µä¸‹éœ€è¦ 100 æ¬¡ç£ç›˜ IO ã€‚ä½†èŠ±è´¹å°‘é‡ CPU æ—¶é—´è¿›è¡Œå‹ç¼©åï¼Œåªéœ€è¦ 10 æ¬¡ç£ç›˜ IO å°±å¯ä»¥å°†å‹ç¼©åçš„æ–‡ä»¶å†™å…¥ç£ç›˜ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒIO æ•ˆç‡åè€Œæé«˜äº†ã€‚å½“ç„¶ï¼Œè¿™å–å†³äºå‹ç¼©ç‡ã€‚ç›®å‰ btrfs é‡‡ç”¨ zlib æä¾›çš„ DEFALTE/INFLATE ç®—æ³•è¿›è¡Œå‹ç¼©å’Œè§£å‹ã€‚åœ¨å°†æ¥ï¼Œbtrfs åº”è¯¥å¯ä»¥æ”¯æŒæ›´å¤šçš„å‹ç¼©ç®—æ³•ï¼Œæ»¡è¶³ä¸åŒç”¨æˆ·çš„ä¸åŒéœ€æ±‚ã€‚\nç›®å‰ btrfs çš„å‹ç¼©ç‰¹æ€§è¿˜å­˜åœ¨ä¸€äº›ä¸è¶³ï¼Œå½“å‹ç¼©ä½¿èƒ½åï¼Œæ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ½å°†è¢«å‹ç¼©ï¼Œä½†ç”¨æˆ·å¯èƒ½éœ€è¦æ›´ç»†ç²’åº¦çš„æ§åˆ¶ï¼Œæ¯”å¦‚é’ˆå¯¹ä¸åŒçš„ç›®å½•é‡‡ç”¨ä¸åŒçš„å‹ç¼©ç®—æ³•ï¼Œæˆ–è€…ç¦æ­¢å‹ç¼©ã€‚æˆ‘ç›¸ä¿¡ï¼Œbtrfs å¼€å‘å›¢é˜Ÿå°†åœ¨ä»Šåçš„ç‰ˆæœ¬ä¸­è§£å†³è¿™ä¸ªé—®é¢˜ã€‚\nå¯¹äºæŸäº›ç±»å‹çš„æ–‡ä»¶ï¼Œæ¯”å¦‚ jpeg æ–‡ä»¶ï¼Œå·²ç»æ— æ³•å†è¿›è¡Œå‹ç¼©ã€‚å°è¯•å¯¹å…¶å‹ç¼©å°†çº¯ç²¹æµªè´¹ CPU ã€‚ä¸ºæ­¤ï¼Œå½“å¯¹æŸæ–‡ä»¶çš„è‹¥å¹²ä¸ª block å‹ç¼©åå‘ç°å‹ç¼©ç‡ä¸ä½³ï¼Œbtrfs å°†ä¸ä¼šå†å¯¹æ–‡ä»¶çš„å…¶ä½™éƒ¨åˆ†è¿›è¡Œå‹ç¼©æ“ä½œã€‚è¿™ä¸ªç‰¹æ€§åœ¨æŸç§ç¨‹åº¦ä¸Šæé«˜äº†æ–‡ä»¶ç³»ç»Ÿçš„ IO æ•ˆç‡ã€‚\né¢„åˆ†é…\nå¾ˆå¤šåº”ç”¨ç¨‹åºæœ‰é¢„å…ˆåˆ†é…ç£ç›˜ç©ºé—´çš„éœ€è¦ã€‚ä»–ä»¬å¯ä»¥é€šè¿‡ posix_fallocate æ¥å£å‘Šè¯‰æ–‡ä»¶ç³»ç»Ÿåœ¨ç£ç›˜ä¸Šé¢„ç•™ä¸€éƒ¨åˆ†ç©ºé—´ï¼Œä½†æš‚æ—¶å¹¶ä¸å†™å…¥æ•°æ®ã€‚å¦‚æœåº•å±‚æ–‡ä»¶ç³»ç»Ÿä¸æ”¯æŒ fallocateï¼Œé‚£ä¹ˆåº”ç”¨ç¨‹åºåªæœ‰ä½¿ç”¨ write é¢„å…ˆå†™ä¸€äº›æ— ç”¨ä¿¡æ¯ä»¥ä¾¿ä¸ºè‡ªå·±é¢„ç•™è¶³å¤Ÿçš„ç£ç›˜ç©ºé—´ã€‚\nç”±æ–‡ä»¶ç³»ç»Ÿæ¥æ”¯æŒé¢„ç•™ç©ºé—´æ›´åŠ æœ‰æ•ˆï¼Œè€Œä¸”èƒ½å¤Ÿå‡å°‘ç£ç›˜ç¢ç‰‡ï¼Œå› ä¸ºæ‰€æœ‰çš„ç©ºé—´éƒ½æ˜¯ä¸€æ¬¡åˆ†é…ï¼Œå› è€Œæ›´æœ‰å¯èƒ½ä½¿ç”¨è¿ç»­çš„ç©ºé—´ã€‚ Btrfs æ”¯æŒ posix_fallocate ã€‚\næ€»ç»“ è‡³æ­¤ï¼Œæˆ‘ä»¬å¯¹ btrfs çš„å¾ˆå¤šç‰¹æ€§è¿›è¡Œäº†è¾ƒä¸ºè¯¦ç»†çš„æ¢è®¨ï¼Œä½† btrfs èƒ½æä¾›çš„ç‰¹æ€§å´å¹¶ä¸æ­¢è¿™äº›ã€‚ btrfs æ­£å¤„äºè¯•éªŒå¼€å‘é˜¶æ®µï¼Œè¿˜å°†æœ‰æ›´å¤šçš„ç‰¹æ€§ã€‚\nBtrfs ä¹Ÿæœ‰ä¸€ä¸ªé‡è¦çš„ç¼ºç‚¹ï¼Œå½“ BTree ä¸­æŸä¸ªèŠ‚ç‚¹å‡ºç°é”™è¯¯æ—¶ï¼Œæ–‡ä»¶ç³»ç»Ÿå°†å¤±å»è¯¥èŠ‚ç‚¹ä¹‹ä¸‹çš„æ‰€æœ‰çš„æ–‡ä»¶ä¿¡æ¯ã€‚è€Œ ext2/3 å´é¿å…äº†è¿™ç§è¢«ç§°ä¸ºâ€é”™è¯¯æ‰©æ•£â€çš„é—®é¢˜ã€‚\nä½†æ— è®ºæ€æ ·ï¼Œå¸Œæœ›æ‚¨å’Œæˆ‘ä¸€æ ·ï¼Œå¼€å§‹è®¤åŒ btrfs å°†æ˜¯ Linux æœªæ¥æœ€æœ‰å¸Œæœ›çš„æ–‡ä»¶ç³»ç»Ÿã€‚\nBtrfs ä½¿ç”¨ äº†è§£äº† btrfs çš„ç‰¹æ€§ï¼Œæƒ³å¿…æ‚¨ä¸€å®šæƒ³äº²èº«ä½“éªŒä¸€ä¸‹ btrfs çš„ä½¿ç”¨ã€‚æœ¬ç« å°†ç®€è¦ä»‹ç»å¦‚ä½•ä½¿ç”¨ btrfs ã€‚\nè¦ä½¿ç”¨ä¸€äº›ç”¨æˆ·ç©ºé—´å·¥å…·çš„è¯ï¼Œéœ€è¦ å®‰è£… åŸºç¡€æ“ä½œå¿…é¡»çš„ btrfs-progs è½¯ä»¶åŒ…ã€‚\nåˆ›å»ºæ–‡ä»¶ç³»ç»Ÿ å•ä¸€è®¾å¤‡ä¸Šçš„æ–‡ä»¶ç³»ç»Ÿ\nè¦åœ¨åˆ†åŒº /dev/partition ä¸Šåˆ›å»ºä¸€ä¸ª Btrfs æ–‡ä»¶ç³»ç»Ÿï¼Œæ‰§è¡Œï¼š\n# mkfs.btrfs -L mylabel /dev/partition Btrfs ç”¨äºå…ƒæ•°æ®çš„é»˜è®¤èŠ‚ç‚¹å¤§å° (nodesize) ä¸º 16KBï¼Œè€Œç”¨äºæ•°æ®çš„é»˜è®¤æ‰‡åŒºå¤§å° (sectorsize) ç­‰äºé¡µé¢å¤§å° (page size) å¹¶ä¼šè‡ªåŠ¨æ£€æµ‹ã€‚ è¦å¯¹å…ƒæ•°æ®ä½¿ç”¨è¾ƒå¤§çš„èŠ‚ç‚¹å¤§å° (å¿…é¡»ä¸ºæ‰‡åŒºå¤§å°çš„å€æ•°ï¼Œæœ€å¤§å…è®¸ 64KB)ï¼Œè¯·é€šè¿‡ -n å¼€å…³ä¸º nodesize æŒ‡å®šä¸€ä¸ªå€¼ã€‚å¦‚ä¸‹ä¾‹æ‰€ç¤ºï¼Œä½¿ç”¨ 32KB å—å¤§å°ï¼š\n# mkfs.btrfs -L mylabel -n 32k /dev/partition æ³¨æ„ï¼š æ ¹æ® mkfs.btrfs(8) Â§â€¯OPTIONS æ‰‹å†Œé¡µå†…å®¹ï¼šâ€œè¾ƒå°çš„èŠ‚ç‚¹å¤§å°ä¼šå¢åŠ ç¢ç‰‡ï¼Œä½†ä¹Ÿä¼šè®© B-trees æ›´é«˜ï¼Œè¿›è€Œä½¿å¾—é”å®šäº‰ç”¨ï¼ˆlocking contentionï¼‰æ›´å°‘ã€‚è¾ƒé«˜çš„èŠ‚ç‚¹å¤§å°åˆ™èƒ½æœ‰æ›´å¥½çš„æ‰“åŒ…ï¼ˆpackingï¼‰å’Œæ›´å°‘çš„ç¢ç‰‡ï¼Œä½†ä»£ä»·æ˜¯ï¼Œæ›´æ–°å…ƒæ•°æ®å—æ—¶ä¼šä½¿ç”¨æ›´å¤šçš„å†…å­˜â€ã€‚\nå¤šè®¾å¤‡æ–‡ä»¶ç³»ç»Ÿ RAID\nå¤šä¸ªè®¾å¤‡å¯ä»¥ç”¨æ¥åˆ›å»ºä¸€ç»„ RAIDã€‚æ”¯æŒçš„ RAID çº§åˆ«æœ‰ RAID 0ã€RAID 1ã€RAID 10ã€RAID 5 å’Œ RAID 6ã€‚ä» 5.5 ç‰ˆæœ¬å†…æ ¸å¼€å§‹ï¼Œæ–°å¢å¯¹ RAID1c3 å’Œ RAID1c4 çš„æ”¯æŒï¼Œåˆ†åˆ«æ˜¯ 3 ä»½å†—ä½™å’Œ 4 ä»½å†—ä½™çš„ RAID 1ã€‚å¯ä»¥ä½¿ç”¨ -d å’Œ -m å‚æ•°åˆ†åˆ«ä¸ºæ•°æ®å’Œå…ƒæ•°æ®é…ç½® RAID ç­‰çº§ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ•°æ®æœ‰ä¸€ä»½å‰¯æœ¬ï¼ˆsingleï¼‰ï¼Œå…ƒæ•°æ®åˆ™è¢«é•œåƒï¼ˆRAID1ï¼‰ã€‚\n# mkfs.btrfs -d single -m raid1 /dev/part1 /dev/part2 ... subvolume åˆ›å»ºå­å·\nè¦åˆ›å»ºä¸€ä¸ªå­å·:\n# btrfs subvolume create /path/to/subvolume åˆ—å‡ºå­å·åˆ—è¡¨\nè¦åˆ—å‡ºå½“å‰è·¯å¾„ (path) ä¸‹çš„å­å·å’Œå®ƒä»¬çš„ ID:\n# btrfs subvolume list -p path åˆ é™¤å­å·\nè¦åˆ é™¤ä¸€ä¸ªå­å·:\n# btrfs subvolume delete /path/to/subvolume è‡ª Linux 4.18 èµ·, ç”¨æˆ·å¯ä»¥åƒç§»é™¤å¸¸è§„ç›®å½•ä¸€æ ·åˆ é™¤ä¸€ä¸ªå­å· (ç”¨ rm -r, rmdir å‘½ä»¤)ã€‚\næŒ‚è½½å­å·\nå¯ä»¥ä½¿ç”¨ subvol=*/path/to/subvolume* æˆ– subvolid=*objectid* æŒ‚è½½æ ‡å¿—æ¥å®‰è£…å­å·ï¼Œå°±åƒæ–‡ä»¶ç³»ç»Ÿåˆ†åŒºä¸€æ ·ã€‚\n$ sudo mount /dev/sdb1 -o subvol=projects /tmp/projects$ sudo mount /dev/sdb1 -o subvolid=261 /tmp/projects ä½¿ç”¨ Btrfs å¿«ç…§è¿›è¡Œå¢é‡å¤‡ä»½ *å¿«ç…§(snapshot)*æ˜¯ Btrfs çš„ä¸€ä¸ªæœ‰è¶£çš„åŠŸèƒ½ã€‚å¿«ç…§æ˜¯ä¸€ä¸ªå­å·çš„å‰¯æœ¬ã€‚ç”Ÿæˆå¿«ç…§æ˜¯ç«‹å³çš„ã€‚ç„¶è€Œï¼Œç”Ÿæˆå¿«ç…§ä¸æ‰§è¡Œ rsync æˆ– cp ä¸åŒï¼Œå¿«ç…§å¹¶ä¸æ˜¯ä¸€åˆ›å»ºå°±ä¼šå ç”¨ç©ºé—´ã€‚\n ç¼–è€…æ³¨ï¼šæ¥è‡ª BTRFS Wikiï¼šå¿«ç…§ç®€å•çš„æ¥è¯´å°±æ˜¯ä¸€ä¸ªå­å·ï¼Œå®ƒä½¿ç”¨ Btrfs çš„ COW åŠŸèƒ½ä¸å…¶ä»–å­å·å…±äº«å…¶æ•°æ®ï¼ˆå’Œå…ƒæ•°æ®ï¼‰ã€‚\n å ç”¨çš„ç©ºé—´å°†éšç€åŸå§‹å­å·æˆ–å¿«ç…§æœ¬èº«ï¼ˆå¦‚æœå®ƒæ˜¯å¯å†™çš„ï¼‰çš„æ•°æ®å˜åŒ–è€Œå¢åŠ ã€‚å­å·ä¸­å·²æ·»åŠ /ä¿®æ”¹çš„æ–‡ä»¶å’Œå·²åˆ é™¤çš„æ–‡ä»¶ä»ç„¶å­˜åœ¨äºå¿«ç…§ä¸­ã€‚è¿™æ˜¯ä¸€ç§æ–¹ä¾¿çš„å¤‡ä»½æ–¹å¼ã€‚\nä½¿ç”¨å¿«ç…§è¿›è¡Œå¤‡ä»½\nå¿«ç…§é©»ç•™åœ¨å­å·æ‰€åœ¨çš„åŒä¸€ç£ç›˜ä¸Šã€‚ä½ å¯ä»¥åƒæµè§ˆæ™®é€šç›®å½•ä¸€æ ·æµè§ˆå®ƒï¼Œå¹¶æŒ‰ç…§ç”Ÿæˆå¿«ç…§æ—¶çš„çŠ¶æ€æ¢å¤æ–‡ä»¶çš„å‰¯æœ¬ã€‚é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œåœ¨å¿«ç…§å­å·çš„åŒä¸€ç£ç›˜ä¸Šç”Ÿæˆå¿«ç…§å¹¶ä¸æ˜¯ä¸€ä¸ªç†æƒ³çš„å¤‡ä»½ç­–ç•¥ï¼šå¦‚æœç¡¬ç›˜åäº†ï¼Œå¿«ç…§ä¹Ÿä¼šä¸¢å¤±ã€‚å¿«ç…§çš„ä¸€ä¸ªæœ‰è¶£çš„åŠŸèƒ½æ˜¯å¯ä»¥å°†å¿«ç…§å‘é€åˆ°å¦ä¸€ä¸ªä½ç½®ã€‚å¿«ç…§å¯ä»¥è¢«å‘é€åˆ°å¤–éƒ¨ç¡¬ç›˜æˆ–é€šè¿‡ SSH å‘é€åˆ°è¿œç¨‹ç³»ç»Ÿï¼ˆç›®æ ‡æ–‡ä»¶ç³»ç»Ÿä¹Ÿéœ€è¦æ ¼å¼åŒ–ä¸º Btrfsï¼‰ã€‚è¦å®ç°è¿™ä¸ªï¼Œéœ€è¦ä½¿ç”¨å‘½ä»¤ btrfs send å’Œ btrfs receiveã€‚\nç”Ÿæˆå¿«ç…§\nè¦ä½¿ç”¨ btrfs send å’Œ btrfs receive å‘½ä»¤ï¼Œé‡è¦çš„æ˜¯è¦å°†å¿«ç…§åˆ›å»ºä¸ºåªè¯»ï¼Œè€Œå¿«ç…§é»˜è®¤æ˜¯å¯å†™çš„ã€‚\nè¦åˆ›å»ºä¸€ä¸ªå¿«ç…§:\n# btrfs subvolume snapshot source [dest/]name sourceä¸ºè¦åˆ›å»ºå¿«ç…§çš„å¯¹è±¡ï¼Œ[dest/]nameä¸ºå¿«ç…§å®‰æ”¾è·¯å¾„ã€‚\nä¸‹é¢çš„å‘½ä»¤å°†å¯¹ /home å­å·è¿›è¡Œå¿«ç…§ã€‚è¯·æ³¨æ„ -r æ ‡å¿—ä»£è¡¨åªè¯»ã€‚\nsudo btrfs subvolume snapshot -r /home /.snapshots/home-day1 å¿«ç…§çš„åç§°å¯ä»¥æ˜¯å½“å‰æ—¥æœŸï¼Œè€Œä¸æ˜¯ day1ï¼Œæ¯”å¦‚ home-$(date +%Y%m%d)ã€‚å¿«ç…§çœ‹èµ·æ¥åƒæ™®é€šçš„å­ç›®å½•ã€‚ä½ å¯ä»¥æŠŠå®ƒä»¬æ”¾åœ¨ä»»ä½•ä½ å–œæ¬¢çš„åœ°æ–¹ã€‚ç›®å½• /.snapshots å¯èƒ½æ˜¯ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼Œä»¥ä¿æŒå®ƒä»¬çš„æ•´æ´å’Œé¿å…æ··æ·†ã€‚\n ç¼–è€…æ³¨ï¼šå¿«ç…§ä¸ä¼šå¯¹è‡ªå·±è¿›è¡Œé€’å½’å¿«ç…§ã€‚å¦‚æœä½ åˆ›å»ºäº†ä¸€ä¸ªå­å·çš„å¿«ç…§ï¼Œå­å·æ‰€åŒ…å«çš„æ¯ä¸€ä¸ªå­å·æˆ–å¿«ç…§éƒ½ä¼šè¢«æ˜ å°„åˆ°å¿«ç…§é‡Œé¢çš„ä¸€ä¸ªåŒåçš„ç©ºç›®å½•ã€‚\n ä½¿ç”¨ btrfs send è¿›è¡Œå¤‡ä»½\nåœ¨æœ¬ä¾‹ä¸­ï¼ŒU ç›˜ä¸­çš„ç›®æ ‡ Btrfs å·è¢«æŒ‚è½½ä¸º /run/media/user/mydisk/bkã€‚å‘é€å¿«ç…§åˆ°ç›®æ ‡å·çš„å‘½ä»¤æ˜¯ï¼š\nsudo btrfs send /.snapshots/home-day1 | sudo btrfs receive /run/media/user/mydisk/bk è¿™è¢«ç§°ä¸ºåˆå§‹å¯åŠ¨ï¼Œå®ƒç›¸å½“äºä¸€ä¸ªå®Œæ•´çš„å¤‡ä»½ã€‚è¿™ä¸ªä»»åŠ¡éœ€è¦ä¸€äº›æ—¶é—´ï¼Œå–å†³äº /home ç›®å½•çš„å¤§å°ã€‚æ˜¾ç„¶ï¼Œåç»­çš„å¢é‡å‘é€åªéœ€è¦æ›´çŸ­çš„æ—¶é—´ã€‚\nå¢é‡å¤‡ä»½\nå¿«ç…§çš„å¦ä¸€ä¸ªæœ‰ç”¨çš„åŠŸèƒ½æ˜¯èƒ½å¤Ÿä»¥å¢é‡çš„æ–¹å¼æ‰§è¡Œå‘é€ä»»åŠ¡ã€‚è®©æˆ‘ä»¬å†æ¥ç”Ÿæˆä¸€ä¸ªå¿«ç…§ã€‚\nsudo btrfs subvolume snapshot -r /home /.snapshots/home-day2 ä¸ºäº†æ‰§è¡Œå¢é‡å‘é€ä»»åŠ¡ï¼Œéœ€è¦æŒ‡å®šä¸Šä¸€ä¸ªå¿«ç…§ä½œä¸ºåŸºç¡€ï¼Œå¹¶ä¸”è¿™ä¸ªå¿«ç…§å¿…é¡»å­˜åœ¨äºæºæ–‡ä»¶å’Œç›®æ ‡æ–‡ä»¶ä¸­ã€‚è¯·æ³¨æ„ -p é€‰é¡¹ã€‚\nsudo btrfs send -p /.snapshot/home-day1 /.snapshot/home-day2 | sudo btrfs receive /run/media/user/mydisk/bk å†æ¥ä¸€æ¬¡ï¼ˆä¸€å¤©ä¹‹åï¼‰ï¼š\nsudo btrfs subvolume snapshot -r /home /.snapshots/home-day3sudo btrfs send -p /.snapshot/home-day2 /.snapshot/home-day3 | sudo btrfs receive /run/media/user/mydisk/bk æ¸…ç†\næ“ä½œå®Œæˆåï¼Œä½ å¯ä»¥ä¿ç•™å¿«ç…§ã€‚ä½†å¦‚æœä½ æ¯å¤©éƒ½æ‰§è¡Œè¿™äº›æ“ä½œï¼Œä½ å¯èƒ½æœ€ç»ˆä¼šæœ‰å¾ˆå¤šå¿«ç…§ã€‚è¿™å¯èƒ½ä¼šå¯¼è‡´æ··ä¹±ï¼Œå¹¶å¯èƒ½ä¼šåœ¨ä½ çš„ç£ç›˜ä¸Šä½¿ç”¨å¤§é‡çš„ç©ºé—´ã€‚å› æ­¤ï¼Œå¦‚æœä½ è®¤ä¸ºä½ ä¸å†éœ€è¦ä¸€äº›å¿«ç…§ï¼Œåˆ é™¤å®ƒä»¬æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„å»ºè®®ã€‚\nè¯·è®°ä½ï¼Œä¸ºäº†æ‰§è¡Œå¢é‡å‘é€ï¼Œä½ è‡³å°‘éœ€è¦æœ€åä¸€ä¸ªå¿«ç…§ã€‚è¿™ä¸ªå¿«ç…§å¿…é¡»å­˜åœ¨äºæºæ–‡ä»¶å’Œç›®æ ‡æ–‡ä»¶ä¸­ã€‚\nsudo btrfs subvolume delete /.snapshot/home-day1sudo btrfs subvolume delete /.snapshot/home-day2sudo btrfs subvolume delete /run/media/user/mydisk/bk/home-day1sudo btrfs subvolume delete /run/media/user/mydisk/bk/home-day2 æ³¨æ„ï¼šç¬¬ 3 å¤©çš„å¿«ç…§è¢«ä¿å­˜åœ¨æºæ–‡ä»¶å’Œç›®æ ‡æ–‡ä»¶ä¸­ã€‚è¿™æ ·ï¼Œæ˜å¤©ï¼ˆç¬¬ 4 å¤©ï¼‰ï¼Œä½ å°±å¯ä»¥æ‰§è¡Œæ–°çš„å¢é‡ btrfs sendã€‚\næœ€åçš„å»ºè®®æ˜¯ï¼Œå¦‚æœ U ç›˜çš„ç©ºé—´å¾ˆå¤§ï¼Œå¯ä»¥è€ƒè™‘åœ¨ç›®æ ‡ç›˜ä¸­ä¿ç•™å¤šä¸ªå¿«ç…§ï¼Œè€Œåœ¨æºç›˜ä¸­åªä¿ç•™æœ€åä¸€ä¸ªå¿«ç…§ã€‚\nå‹ç¼© ç»™ç°å­˜æ–‡ä»¶å¯ç”¨å‹ç¼©ï¼Œå¯ä½¿ç”¨ btrfs filesystem defragment -c alg å‘½ä»¤ï¼Œalg å¤„å¯é€‰å¡«ä¸º zlibï¼Œlzo æˆ– zstdã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œè¦ç”¨ zstd æ–¹å¼ç»™æ•´ä¸ªæ–‡ä»¶ç³»ç»Ÿé‡æ–°å‹ç¼©ï¼Œæ‰§è¡Œä¸‹åˆ—å‘½ä»¤ï¼š\n# btrfs filesystem defragment -r -v -c zstd / è¦åœ¨æ–°çš„ Btrfs åˆ†åŒºä¸Šå®‰è£… Arch Linux æ—¶å°±å¯ç”¨å‹ç¼©åŠŸèƒ½ (å……åˆ†åˆ©ç”¨å‹ç¼©ç‰¹æ€§)ï¼Œè¯·åœ¨ æŒ‚è½½ æ–‡ä»¶ç³»ç»Ÿæ—¶ä½¿ç”¨ compress é€‰é¡¹ï¼šmount -o compress=zstd /dev/sd*xY* /mnt/ã€‚åœ¨é…ç½®è¿‡ç¨‹ä¸­ï¼Œè¯·åœ¨ fstab ä¸­æŠŠ compress=zstd æ·»åŠ åˆ°æ ¹ç›®å½•æ–‡ä»¶ç³»ç»Ÿçš„æŒ‚è½½é€‰é¡¹é‡Œã€‚\nBtrfs å’Œ LVM-ext4 ä¸¤è€…çš„å…±æ€§ å°½ç®¡ä¸¤ä¸ªæ–‡ä»¶ç³»ç»Ÿä¹‹é—´å­˜åœ¨æ ¸å¿ƒå·®å¼‚ï¼Œä½† Btrfs å’Œ LVM-ext4 å®é™…ä¸Šæœ‰å¾ˆå¤šå…±åŒä¹‹å¤„ã€‚ä¸¤è€…éƒ½æ˜¯æˆç†Ÿä¸”ç»è¿‡å……åˆ†æµ‹è¯•çš„å­˜å‚¨æŠ€æœ¯ã€‚ä» Fedora Core çš„æ—©æœŸå¼€å§‹ï¼Œå°±ä¸€ç›´åœ¨ä½¿ç”¨ LVMï¼Œè€Œ ext4 åœ¨ 2009 å¹´æˆä¸º Fedora 11 çš„é»˜è®¤è®¾ç½®ã€‚Btrfs åœ¨ 2009 å¹´å¹¶å…¥ Linux ä¸»çº¿å†…æ ¸ï¼Œå¹¶ä¸” Facebook å¹¿æ³›ä½¿ç”¨äº†è¯¥æ–‡ä»¶ç³»ç»Ÿã€‚SUSE Linux Enterprise 12 åœ¨ 2014 å¹´ä½¿å…¶æˆä¸ºé»˜è®¤æ–‡ä»¶ç³»ç»Ÿã€‚å› æ­¤ï¼Œå®ƒåœ¨ç”Ÿäº§ç¯å¢ƒä¸­ä¹Ÿæœ‰ç€é•¿ä¹…çš„è¿è¡Œæ—¶é—´ã€‚\nè¿™ä¸¤ä¸ªç³»ç»Ÿéƒ½èƒ½å¾ˆå¥½åœ°é˜²æ­¢å› æ„å¤–åœç”µè€Œå¯¼è‡´çš„æ–‡ä»¶ç³»ç»ŸæŸåï¼Œå°½ç®¡å®ƒä»¬çš„å®ç°æ–¹å¼ä¸åŒã€‚å®ƒä»¬æ”¯æŒçš„é…ç½®åŒ…æ‹¬ä½¿ç”¨å•ç›˜è®¾ç½®å’Œè·¨è¶Šå¤šä¸ªè®¾å¤‡ï¼Œå¹¶ä¸”è¿™ä¸¤ç§é…ç½®éƒ½èƒ½å¤Ÿåˆ›å»ºè¿‘ä¹å³æ—¶çš„å¿«ç…§ã€‚æœ‰å„ç§å·¥å…·å¯ä»¥å¸®åŠ©ç®¡ç†è¿™ä¸¤ç§ç³»ç»Ÿï¼ŒåŒ…æ‹¬å‘½ä»¤è¡Œå’Œå›¾å½¢ç•Œé¢ã€‚è¿™ä¸¤ç§è§£å†³æ–¹æ¡ˆåœ¨å®¶ç”¨å°å¼æœºå’Œé«˜ç«¯æœåŠ¡å™¨ä¸Šéƒ½åŒæ ·æœ‰æ•ˆã€‚\nLVM-ext4 çš„ä¼˜åŠ¿ ext4 æ–‡ä»¶ç³»ç»Ÿ ä¸“æ³¨äºé«˜æ€§èƒ½å’Œå¯ä¼¸ç¼©æ€§ï¼Œæ²¡æœ‰å¤ªå¤šé¢å¤–çš„èŠ±å“¨ä¹‹å¤„ã€‚å®ƒèƒ½æœ‰æ•ˆåœ°é˜²æ­¢é•¿æ—¶é—´åçš„ç¢ç‰‡åŒ–ï¼Œå¹¶å½“ç¢ç‰‡åŒ–å‡ºç°åæä¾›äº† å¾ˆå¥½çš„å·¥å…·ã€‚ext4 ä¹‹æ‰€ä»¥åšå¦‚ç£çŸ³ï¼Œæ˜¯å› ä¸ºå®ƒæ„å»ºåœ¨å‰ä»£çš„ ext3 æ–‡ä»¶ç³»ç»Ÿä¹‹ä¸Šï¼Œå¸¦æ¥äº†å¤šå¹´çš„ç³»ç»Ÿå†…æµ‹è¯•å’Œé”™è¯¯ä¿®å¤ã€‚\nLVM-ext4 ç¯å¢ƒä¸­çš„å¤§å¤šæ•°é«˜çº§åŠŸèƒ½éƒ½æ¥è‡ª LVM æœ¬èº«ã€‚LVM ä½äºæ–‡ä»¶ç³»ç»Ÿçš„â€œä¸‹æ–¹â€ï¼Œè¿™æ„å‘³ç€å®ƒæ”¯æŒä»»ä½•æ–‡ä»¶ç³»ç»Ÿã€‚é€»è¾‘å·Logical volumeï¼ˆLVï¼‰æ˜¯é€šç”¨çš„å—è®¾å¤‡ï¼Œå› æ­¤ è™šæ‹Ÿæœºå¯ä»¥ç›´æ¥ä½¿ç”¨å®ƒä»¬ã€‚è¿™ç§çµæ´»æ€§ä½¿å¾—æ¯ä¸ªé€»è¾‘å·éƒ½å¯ä»¥ä½¿ç”¨åˆé€‚çš„æ–‡ä»¶ç³»ç»Ÿï¼Œç”¨åˆé€‚çš„é€‰é¡¹åº”å¯¹å„ç§æƒ…å†µã€‚è¿™ç§åˆ†å±‚æ–¹æ³•è¿˜éµå¾ªäº†â€œå°å·¥å…·ååŒå·¥ä½œâ€çš„ Unix å“²å­¦ã€‚\nä»ç¡¬ä»¶æŠ½è±¡å‡ºæ¥çš„å·ç»„volume groupï¼ˆVGï¼‰å…è®¸ LVM åˆ›å»ºçµæ´»çš„é€»è¾‘å·ã€‚æ¯ä¸ªé€»è¾‘å·éƒ½æå–è‡ªåŒä¸€ä¸ªå­˜å‚¨æ± ï¼Œä½†å…·æœ‰è‡ªå·±çš„è®¾ç½®ã€‚è°ƒæ•´å·çš„å¤§å°æ¯”è°ƒæ•´ç‰©ç†åˆ†åŒºçš„å¤§å°å®¹æ˜“å¾—å¤šï¼Œå› ä¸ºæ²¡æœ‰æ•°æ®æœ‰åºæ”¾ç½®çš„é™åˆ¶ã€‚LVM ç‰©ç†å·physical volumeï¼ˆPVï¼‰å¯ä»¥æ˜¯ä»»æ„æ•°é‡çš„åˆ†åŒºï¼Œç”šè‡³å¯ä»¥åœ¨ç³»ç»Ÿè¿è¡Œæ—¶åœ¨è®¾å¤‡ä¹‹é—´ç§»åŠ¨ã€‚\nLVM æ”¯æŒåªè¯»å’Œè¯»å†™çš„ å¿«ç…§ï¼Œè¿™ä½¿å¾—ä»æ´»åŠ¨ç³»ç»Ÿåˆ›å»ºä¸€è‡´çš„å¤‡ä»½å˜å¾—å¾ˆå®¹æ˜“ã€‚æ¯ä¸ªå¿«ç…§éƒ½æœ‰ä¸€ä¸ªå®šä¹‰çš„å¤§å°ï¼Œæ›´æ”¹æºå·æˆ–å¿«ç…§å·å°†å ç”¨å…¶ä¸­çš„ç©ºé—´ã€‚åˆæˆ–è€…ï¼Œé€»è¾‘å·ä¹Ÿå¯ä»¥æ˜¯ç¨€ç–é…ç½®æ± thinly provisioned poolçš„ä¸€éƒ¨åˆ†ã€‚è¿™å…è®¸å¿«ç…§è‡ªåŠ¨ä½¿ç”¨æ± ä¸­çš„æ•°æ®ï¼Œè€Œä¸æ˜¯ä½¿ç”¨åœ¨åˆ›å»ºå·æ—¶å®šä¹‰çš„å›ºå®šå¤§å°çš„å—ã€‚\næœ‰å¤šä¸ªç£ç›˜é©±åŠ¨å™¨çš„ LVM\nå½“æœ‰å¤šä¸ªè®¾å¤‡æ—¶ï¼ŒLVM æ‰çœŸæ­£å¤§æ”¾å¼‚å½©ã€‚å®ƒåŸç”Ÿæ”¯æŒå¤§å¤šæ•° RAID çº§åˆ«ï¼Œæ¯ä¸ªé€»è¾‘å·å¯ä»¥å…·æœ‰ä¸åŒçš„ RAID çº§åˆ«ã€‚LVM å°†è‡ªåŠ¨ä¸º RAID é…ç½®é€‰æ‹©é€‚å½“çš„ç‰©ç†è®¾å¤‡ï¼Œæˆ–è€…ç”¨æˆ·å¯ä»¥ç›´æ¥æŒ‡å®šå®ƒã€‚åŸºæœ¬çš„ RAID æ”¯æŒåŒ…æ‹¬ç”¨äºæ€§èƒ½çš„æ•°æ®æ¡å¸¦åŒ–ï¼ˆRAID0ï¼‰å’Œç”¨äºå†—ä½™çš„é•œåƒï¼ˆRAID1ï¼‰ã€‚é€»è¾‘å·ä¹Ÿå¯ä»¥ä½¿ç”¨ RAID5ã€RAID6 å’Œ RAID10 ç­‰é«˜çº§è®¾ç½®ã€‚LVM RAID æ”¯æŒå·²ç»æˆç†Ÿï¼Œå› ä¸º LVM åœ¨åº•å±‚ä½¿ç”¨çš„ è®¾å¤‡æ˜ å°„å™¨ï¼ˆdmï¼‰ å’Œ å¤šè®¾å¤‡ï¼ˆmdï¼‰ å†…æ ¸æ”¯æŒï¼Œ ä¸ mdadm ä½¿ç”¨çš„ä¸€æ ·ã€‚\nå¯¹äºå…·æœ‰å¿«é€Ÿå’Œæ…¢é€Ÿé©±åŠ¨å™¨çš„ç³»ç»Ÿï¼Œé€»è¾‘å·ä¹Ÿå¯ä»¥æ˜¯ ç¼“å­˜å·ã€‚ç»å…¸ç¤ºä¾‹æ˜¯ SSD å’Œä¼ ç»Ÿç£ç›˜é©±åŠ¨å™¨çš„ç»„åˆã€‚ç¼“å­˜å·ä½¿ç”¨è¾ƒå¿«çš„é©±åŠ¨å™¨æ¥å­˜å‚¨æ›´é¢‘ç¹è®¿é—®çš„æ•°æ®ï¼ˆæˆ–ç”¨ä½œå†™ç¼“å­˜ï¼‰ï¼Œè€Œæ…¢é€Ÿçš„é©±åŠ¨å™¨åˆ™ç”¨äºå¤„ç†å¤§é‡æ•°æ®ã€‚\nLVM ä¸­å¤§é‡ç¨³å®šçš„åŠŸèƒ½ä»¥åŠ ext4 çš„å¯é æ€§åœ¨æ—¢å¾€çš„ä½¿ç”¨ä¸­æ—©å·²è¢«è¯æ˜äº†ã€‚å½“ç„¶ï¼ŒåŠŸèƒ½è¶Šå¤šå°±è¶Šå¤æ‚ã€‚åœ¨é…ç½® LVM æ—¶ï¼Œè¦æ‰¾åˆ°åˆé€‚çš„åŠŸèƒ½é€‰é¡¹æ˜¯å¾ˆæœ‰æŒ‘æˆ˜æ€§çš„ã€‚å¯¹äºå•é©±åŠ¨å™¨çš„å°å¼æœºç³»ç»Ÿï¼ŒLVM çš„åŠŸèƒ½ï¼ˆä¾‹å¦‚ RAID å’Œç¼“å­˜å·ï¼‰ä¸é€‚ç”¨ã€‚ä½†æ˜¯ï¼Œé€»è¾‘å·æ¯”ç‰©ç†åˆ†åŒºæ›´çµæ´»ï¼Œå¿«ç…§ä¹Ÿå¾ˆæœ‰ç”¨ã€‚å¯¹äºæ­£å¸¸çš„æ¡Œé¢ä½¿ç”¨ï¼ŒLVM çš„å¤æ‚æ€§ä¼šæˆä¸ºå…¸å‹çš„ç”¨æˆ·å¯èƒ½é‡åˆ°çš„é—®é¢˜æ¢å¤çš„éšœç¢ã€‚\nBtrfs çš„ä¼˜åŠ¿ ä»å‰å‡ ä»£æ–‡ä»¶ç³»ç»Ÿä¸­å­¦åˆ°çš„ç»éªŒæŒ‡å¯¼äº†æ„å»ºåˆ° Btrfs çš„åŠŸèƒ½è®¾è®¡ã€‚ä¸ ext4 ä¸åŒï¼Œå®ƒå¯ä»¥ç›´æ¥è·¨è¶Šå¤šä¸ªè®¾å¤‡ï¼Œå› æ­¤å®ƒå…·æœ‰é€šå¸¸ä»…åœ¨å·ç®¡ç†å™¨ä¸­æ‰èƒ½æ‰¾åˆ°çš„åŠŸèƒ½ã€‚å®ƒè¿˜å…·æœ‰ Linux æ–‡ä»¶ç³»ç»Ÿç©ºé—´ä¸­ç‹¬æœ‰çš„åŠŸèƒ½ï¼ˆZFS å…·æœ‰ç›¸ä¼¼çš„åŠŸèƒ½é›†ï¼Œä½†ä¸è¦æŒ‡æœ›å®ƒåœ¨ Linux å†…æ ¸ä¸­å‡ºç°ï¼‰ã€‚\nBtrfs çš„ä¸»è¦åŠŸèƒ½\nä¹Ÿè®¸æœ€é‡è¦çš„åŠŸèƒ½æ˜¯å¯¹æ‰€æœ‰æ•°æ®è¿›è¡Œæ ¡éªŒå’Œchecksummingã€‚æ ¡éªŒå’Œä¸å†™æ—¶å¤åˆ¶copy-on-writeï¼ˆCOWï¼‰ä¸€èµ·ï¼Œæä¾›äº†åœ¨æ„å¤–æ–­ç”µåç¡®ä¿æ–‡ä»¶ç³»ç»Ÿå®Œæ•´æ€§çš„ å…³é”®æ–¹æ³•ã€‚æ›´ç‹¬ç‰¹çš„æ˜¯ï¼Œæ ¡éªŒå’Œå¯ä»¥æ£€æµ‹æ•°æ®æœ¬èº«ä¸­çš„é”™è¯¯ã€‚æ‚„ç„¶çš„æ•°æ®æŸåï¼ˆæœ‰æ—¶ä¹Ÿç§°ä¸º bitrotï¼‰æ¯”å¤§å¤šæ•°äººæ„è¯†åˆ°çš„æ›´å¸¸è§ã€‚å¦‚æœæ²¡æœ‰ä¸»åŠ¨éªŒè¯ï¼ŒæŸåæœ€ç»ˆå¯èƒ½ä¼šä¼ æ’­åˆ°æ‰€æœ‰å¯ç”¨çš„å¤‡ä»½ä¸­ã€‚è¿™ä½¿å¾—ç”¨æˆ·æ²¡æœ‰æœ‰æ•ˆçš„å‰¯æœ¬ã€‚é€šè¿‡é€æ˜åœ°æ ¡éªŒæ‰€æœ‰æ•°æ®ï¼ŒBtrfs èƒ½å¤Ÿç«‹å³æ£€æµ‹åˆ°ä»»ä½•æ­¤ç±»æŸåã€‚å¯ç”¨æ­£ç¡®çš„ dup æˆ– raid é€‰é¡¹ï¼Œæ–‡ä»¶ç³»ç»Ÿä¹Ÿå¯ä»¥é€æ˜åœ°ä¿®å¤æŸåã€‚\nå†™æ—¶å¤åˆ¶ä¹Ÿæ˜¯ Btrfs çš„åŸºæœ¬åŠŸèƒ½ï¼Œå› ä¸ºå®ƒåœ¨æä¾›æ–‡ä»¶ç³»ç»Ÿå®Œæ•´æ€§å’Œå³æ—¶å­å·å¿«ç…§æ–¹é¢è‡³å…³é‡è¦ã€‚ä»å…¬å…±å­å·åˆ›å»ºå¿«ç…§åï¼Œå¿«ç…§ä¼šè‡ªåŠ¨å…±äº«åº•å±‚æ•°æ®ã€‚å¦å¤–ï¼Œäº‹åçš„é‡å¤æ•°æ®åˆ é™¤deduplication ä½¿ç”¨ç›¸åŒçš„æŠ€æœ¯æ¥æ¶ˆé™¤ç›¸åŒçš„æ•°æ®å—ã€‚å•ä¸ªæ–‡ä»¶å¯ä»¥é€šè¿‡ä½¿ç”¨ cp çš„ reflink é€‰é¡¹ æ¥ä½¿ç”¨ COW åŠŸèƒ½ã€‚reflink å‰¯æœ¬å¯¹äºå¤åˆ¶å¤§å‹æ–‡ä»¶ï¼ˆä¾‹å¦‚è™šæ‹Ÿæœºé•œåƒï¼‰ç‰¹åˆ«æœ‰ç”¨ï¼Œè¿™äº›æ–‡ä»¶å¾€å¾€éšç€æ—¶é—´çš„æ¨ç§»å…·æœ‰å¤§éƒ¨åˆ†ç›¸åŒçš„æ•°æ®ã€‚\nBtrfs æ”¯æŒè·¨è¶Šå¤šä¸ªè®¾å¤‡ï¼Œè€Œæ— éœ€å·ç®¡ç†å™¨ã€‚å¤šè®¾å¤‡æ”¯æŒå¯æä¾›æ•°æ®é•œåƒåŠŸèƒ½ä»¥å®ç°å†—ä½™å’Œæ¡å¸¦åŒ–ä»¥æé«˜æ€§èƒ½ã€‚æ­¤å¤–ï¼Œè¿˜å®éªŒæ€§åœ°æ”¯æŒæ›´é«˜çº§çš„ RAID çº§åˆ«ï¼Œä¾‹å¦‚ RAID 5 å’Œ RAID 6ã€‚ä¸æ ‡å‡† RAID è®¾ç½®ä¸åŒï¼ŒBtrfs çš„ RAID1 å®é™…ä¸Šå…è®¸å¥‡æ•°ä¸ªè®¾å¤‡ã€‚ä¾‹å¦‚ï¼Œå®ƒå¯ä»¥ä½¿ç”¨ 3 ä¸ªè®¾å¤‡ï¼Œå³ä½¿å®ƒä»¬çš„å¤§å°ä¸åŒã€‚\næ‰€æœ‰ RAID å’Œ dup é€‰é¡¹éƒ½æ˜¯åœ¨æ–‡ä»¶ç³»ç»Ÿçº§åˆ«æŒ‡å®šçš„ã€‚å› æ­¤ï¼Œå„ä¸ªå­å·ä¸èƒ½ä½¿ç”¨ä¸åŒçš„é€‰é¡¹ã€‚è¯·æ³¨æ„ï¼Œä½¿ç”¨å¤šè®¾å¤‡çš„ RAID1 é€‰é¡¹æ„å‘³ç€å³ä½¿ä¸€ä¸ªè®¾å¤‡å‘ç”Ÿæ•…éšœï¼Œå·ä¸­çš„æ‰€æœ‰æ•°æ®éƒ½æ˜¯å¯ç”¨çš„ï¼Œå¹¶ä¸”æ ¡éªŒåŠŸèƒ½å¯ä»¥ä¿æŒæ•°æ®æœ¬èº«çš„å®Œæ•´æ€§ã€‚è¿™è¶…å‡ºäº†å½“å‰å…¸å‹çš„ RAID è®¾ç½®æ‰€èƒ½æä¾›çš„èŒƒå›´ã€‚\né™„åŠ åŠŸèƒ½\nBtrfs è¿˜æ”¯æŒå¿«é€Ÿç®€ä¾¿çš„è¿œç¨‹å¤‡ä»½ã€‚å­å·å¿«ç…§å¯ä»¥ å‘é€åˆ°è¿œç¨‹ç³»ç»Ÿ è¿›è¡Œå­˜å‚¨ã€‚é€šè¿‡åˆ©ç”¨æ–‡ä»¶ç³»ç»Ÿä¸­å›ºæœ‰çš„ COW å…ƒæ•°æ®ï¼Œè¿™äº›ä¼ è¾“é€šè¿‡ä»…å‘é€å…ˆå‰å‘é€çš„å¿«ç…§ä¸­çš„å¢é‡æ›´æ”¹è€Œéå¸¸æœ‰æ•ˆã€‚è¯¸å¦‚ snapper ä¹‹ç±»çš„ç”¨æˆ·åº”ç”¨ç¨‹åºä½¿ç®¡ç†è¿™äº›å¿«ç…§å˜å¾—å®¹æ˜“ã€‚\nå¦å¤–ï¼ŒBtrfs å·å¯ä»¥å…·æœ‰ é€æ˜å‹ç¼© åŠŸèƒ½ï¼Œå¹¶ä¸” chattr +c å¯ä»¥æ ‡è®°è¿›è¡Œå‹ç¼©çš„å•ä¸ªæ–‡ä»¶æˆ–ç›®å½•ã€‚å‹ç¼©ä¸ä»…å¯ä»¥å‡å°‘æ•°æ®æ¶ˆè€—çš„ç©ºé—´ï¼Œè¿˜å¯ä»¥é€šè¿‡å‡å°‘å†™å…¥æ“ä½œé‡æ¥å¸®åŠ©å»¶é•¿ SSD çš„å¯¿å‘½ã€‚å‹ç¼©å½“ç„¶ä¼šå¸¦æ¥é¢å¤–çš„ CPU å¼€é”€ï¼Œä½†æ˜¯æœ‰å¾ˆå¤šé€‰é¡¹å°±å¯ä»¥æƒè¡¡å–èˆã€‚\nBtrfs é›†æˆäº†æ–‡ä»¶ç³»ç»Ÿå’Œå·ç®¡ç†å™¨åŠŸèƒ½ï¼Œè¿™æ„å‘³ç€æ€»ä½“ç»´æŠ¤æ¯” LVM-ext4 æ›´ç®€å•ã€‚å½“ç„¶ï¼Œè¿™ç§é›†æˆçš„çµæ´»æ€§è¾ƒä½ï¼Œä½†æ˜¯å¯¹äºå¤§å¤šæ•°å°å¼æœºç”šè‡³æœåŠ¡å™¨è€Œè¨€ï¼Œè®¾ç½®å·²è¶³å¤Ÿã€‚\nLVM ä¸Šä½¿ç”¨ Btrfs Btrfs å¯ä»¥ å°±åœ°è½¬æ¢ ext3/ext4 æ–‡ä»¶ç³»ç»Ÿã€‚å°±åœ°è½¬æ¢æ„å‘³ç€æ— éœ€å°†æ•°æ®å¤åˆ¶å‡ºæ¥ç„¶åå†å¤åˆ¶å›å»ã€‚æ•°æ®å—æœ¬èº«ç”šè‡³éƒ½ä¸éœ€è¦ä¿®æ”¹ã€‚å› æ­¤ï¼Œå¯¹äºç°æœ‰çš„ LVM-ext4 ç³»ç»Ÿï¼Œä¸€ç§é€‰æ‹©æ˜¯å°† LVM ä¿ç•™åœ¨åŸå¤„ï¼Œç„¶åç®€å•åœ°å°† ext4 è½¬æ¢ä¸º Btrfsã€‚è™½ç„¶å¯è¡Œä¸”å—æ”¯æŒï¼Œä½†æœ‰ä¸€äº›åŸå› ä½¿å®ƒä¸æ˜¯æœ€ä½³é€‰æ‹©ã€‚\nBtrfs çš„å¸å¼•åŠ›ä¹‹ä¸€æ˜¯ä¸å·ç®¡ç†å™¨é›†æˆçš„æ–‡ä»¶ç³»ç»Ÿæ‰€å¸¦æ¥çš„æ›´è½»æ¾çš„ç®¡ç†ã€‚è¦æ˜¯åœ¨ LVM ä¹‹ä¸Šè¿è¡Œï¼Œå¯¹äºç³»ç»Ÿç»´æŠ¤ï¼Œä»ç„¶è¦å¯¹é¢å¤–çš„å·ç®¡ç†å™¨è¿›è¡Œä¸€äº›è®¾ç½®ã€‚åŒæ ·ï¼ŒLVM è®¾ç½®é€šå¸¸å…·æœ‰å¤šä¸ªå›ºå®šå¤§å°çš„é€»è¾‘å·ï¼Œå¹¶å…·æœ‰ç‹¬ç«‹æ–‡ä»¶ç³»ç»Ÿã€‚è™½ç„¶ Btrfs æ”¯æŒç»™å®šçš„è®¡ç®—æœºä¸Šçš„å¤šä¸ªå·ï¼Œä½†æ˜¯è®¸å¤šä¸é”™çš„åŠŸèƒ½éƒ½éœ€è¦å•ä¸€å·å…·æœ‰å¤šä¸ªå­å·ã€‚å¦‚æœæ¯ä¸ª LVM å·éƒ½æœ‰ä¸€ä¸ªç‹¬ç«‹çš„ Btrfs å·ï¼Œåˆ™ç”¨æˆ·ä»ç„¶éœ€è¦æ‰‹åŠ¨ç®¡ç†å›ºå®šå¤§å°çš„ LVM å·ã€‚è™½ç„¶èƒ½å¤Ÿæ”¶ç¼©æŒ‚è½½çš„ Btrfs æ–‡ä»¶ç³»ç»Ÿçš„èƒ½åŠ›ç¡®å®ä½¿å¤„ç†å›ºå®šå¤§å°çš„å·çš„å·¥ä½œå˜å¾—æ›´è½»æ¾ã€‚é€šè¿‡åœ¨çº¿æ”¶ç¼©åŠŸèƒ½ï¼Œå°±æ— éœ€å¯åŠ¨ å®æ—¶é•œåƒ äº†ã€‚\nåœ¨ä½¿ç”¨ Btrfs çš„å¤šè®¾å¤‡æ”¯æŒæ—¶ï¼Œå¿…é¡»ä»”ç»†è€ƒè™‘é€»è¾‘å·çš„ç‰©ç†ä½ç½®ã€‚å¯¹äº Btrfs è€Œè¨€ï¼Œæ¯ä¸ªé€»è¾‘å·éƒ½æ˜¯ä¸€ä¸ªå•ç‹¬çš„ç‰©ç†è®¾å¤‡ï¼Œå¦‚æœå®é™…æƒ…å†µå¹¶éå¦‚æ­¤ï¼Œåˆ™æŸäº›æ•°æ®å¯ç”¨æ€§åŠŸèƒ½å¯èƒ½ä¼šåšå‡ºé”™è¯¯çš„å†³å®šã€‚ä¾‹å¦‚ï¼Œå¦‚æœå•ä¸ªé©±åŠ¨å™¨å‘ç”Ÿæ•…éšœï¼Œå¯¹æ•°æ®ä½¿ç”¨ RAID1 é€šå¸¸å¯ä»¥æä¾›ä¿æŠ¤ã€‚å¦‚æœå®é™…é€»è¾‘å·åœ¨åŒä¸€ç‰©ç†è®¾å¤‡ä¸Šï¼Œåˆ™æ²¡æœ‰å†—ä½™ã€‚\nå¦‚æœå¼ºçƒˆéœ€è¦æŸäº›ç‰¹å®šçš„ LVM åŠŸèƒ½ï¼Œä¾‹å¦‚åŸå§‹å—è®¾å¤‡æˆ–é«˜é€Ÿç¼“å­˜çš„é€»è¾‘å·ï¼Œåˆ™åœ¨ LVM ä¹‹ä¸Šè¿è¡Œ Btrfs æ˜¯æœ‰æ„ä¹‰çš„ã€‚åœ¨è¿™ç§é…ç½®ä¸‹ï¼ŒBtrfs ä»ç„¶æä¾›å…¶å¤§å¤šæ•°ä¼˜ç‚¹ï¼Œä¾‹å¦‚æ ¡éªŒå’Œå’Œæ˜“äºå‘é€çš„å¢é‡å¿«ç…§ã€‚å°½ç®¡ä½¿ç”¨ LVM ä¼šäº§ç”Ÿä¸€äº›æ“ä½œå¼€é”€ï¼Œä½† Btrfs çš„è¿™ç§å¼€é”€å¹¶ä¸æ¯”ä»»ä½•å…¶ä»–æ–‡ä»¶ç³»ç»Ÿå¤§ã€‚\næ€»ç»“ å½“å°è¯•åœ¨ Btrfs å’Œ LVM-ext4 ä¹‹é—´è¿›è¡Œé€‰æ‹©æ—¶ï¼Œæ²¡æœ‰ä¸€ä¸ªæ­£ç¡®çš„ç­”æ¡ˆã€‚æ¯ä¸ªç”¨æˆ·éƒ½æœ‰ç‹¬ç‰¹çš„è¦æ±‚ï¼Œå¹¶ä¸”åŒä¸€ç”¨æˆ·å¯èƒ½æ‹¥æœ‰å…·æœ‰ä¸åŒéœ€æ±‚çš„ä¸åŒç³»ç»Ÿã€‚çœ‹ä¸€ä¸‹æ¯ä¸ªé…ç½®çš„åŠŸèƒ½é›†ï¼Œå¹¶ç¡®å®šæ˜¯å¦æœ‰ä»¤äººå¿ƒåŠ¨çš„åŠŸèƒ½ã€‚å¦‚æœæ²¡æœ‰ï¼ŒåšæŒé»˜è®¤å€¼æ²¡æœ‰é”™ã€‚é€‰æ‹©è¿™ä¸¤ç§è®¾ç½®éƒ½æœ‰å¾ˆå¥½çš„ç†ç”±ã€‚\nSnapper Snapper æ˜¯ openSUSE ä¸‹ç”¨äºåˆ›å»ºå’Œç®¡ç†æ–‡ä»¶ç³»ç»Ÿå¿«ç…§ï¼ˆä»¥ä¸‹ç®€ç§°å¿«ç…§ï¼‰çš„å·¥å…·ã€‚å¿«ç…§ä¿å­˜äº†æ–‡ä»¶ç³»ç»Ÿåœ¨æŸä¸ªæ—¶é—´ç‚¹çš„çŠ¶æ€ï¼Œä»è€Œå¯ä»¥è½»æ¾å®ç°ç³»ç»Ÿå›æ»šæˆ–æ•°æ®å¤‡ä»½ã€‚\nSnapper å¯ä»¥åœ¨ Btrfs æ–‡ä»¶ç³»ç»Ÿï¼ˆæ¨èï¼‰åŠé‡‡ç”¨ XFS æˆ– Ext4 æ–‡ä»¶ç³»ç»Ÿçš„ LVM ç²¾ç®€é…ç½®å·ä¸Šä½¿ç”¨ï¼Œæœ¬æ–‡ä¸»è¦ä»‹ç»åœ¨ Btrfs æ–‡ä»¶ç³»ç»Ÿä¸Šä½¿ç”¨ Snapper çš„æ–¹æ³•ã€‚\nå¿«ç…§ç±»å‹ Snapper å¿«ç…§å¯åˆ†ä¸ºä¸¤å¤§ç±»å‹ï¼š\n å¿«ç…§å¯¹ï¼šç”±ä¸€å¯¹å¿«ç…§ç»„æˆï¼Œåœ¨è¿›è¡ŒæŸé¡¹æ“ä½œå‰æ‹æ‘„ä¸€ä¸ªâ€œå‰å¿«ç…§â€ï¼ˆpreï¼‰ï¼Œæ“ä½œåå†æ‹æ‘„ä¸€ä¸ªâ€œåå¿«ç…§â€ï¼ˆpostï¼‰ï¼Œä»è€Œå¯ä»¥æ¯”è¾ƒä¸¤ä¸ªå¿«ç…§å¯¹å·®å¼‚è€Œæ’¤é”€è¯¥æ“ä½œã€‚å¿«ç…§å¯¹æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œå¦‚æœåˆ é™¤äº†æŸä¸€å¿«ç…§ï¼Œåˆ™å¯¹åº”çš„å¿«ç…§ä¹Ÿä¼šè¢«åˆ é™¤ã€‚ å•ä¸€å¿«ç…§ï¼ˆsingleï¼‰ï¼šç”±ä¸€ä¸ªå•ç‹¬çš„å¿«ç…§ç»„æˆï¼Œä¸å…¶ä»–å¿«ç…§æ²¡æœ‰ç‰¹æ®Šè”ç³»ã€‚å¯ç”¨äºå¤‡ä»½æˆ–å›æ»šæ•´ä¸ªç³»ç»Ÿç­‰æ“ä½œã€‚  å¿«ç…§å¯¹å’Œå•ä¸€å¿«ç…§æ—¢å¯ä»¥æ‰‹åŠ¨åˆ›å»ºï¼Œä¹Ÿå¯ä»¥æ ¹æ®é…ç½®è‡ªåŠ¨åˆ›å»ºã€‚è‡ªåŠ¨åˆ›å»ºçš„å¿«ç…§åˆå¯åˆ†ä¸ºä¸‰ç§ç±»å‹ï¼š\n æ—¶é—´çº¿å¿«ç…§ï¼šæ¯å°æ—¶è‡ªåŠ¨åˆ›å»ºçš„å•ä¸€å¿«ç…§ã€‚ å®‰è£…å¿«ç…§ï¼šåœ¨å®‰è£…è½¯ä»¶åŒ…å‰åè‡ªåŠ¨åˆ›å»ºçš„ä¸€å¯¹å¿«ç…§å¯¹ã€‚å¯ç”¨äºæ’¤é”€è½¯ä»¶åŒ…æ›´æ”¹ã€‚ ç®¡ç†å¿«ç…§ï¼šåœ¨ä½¿ç”¨ YaST ç®¡ç†ç³»ç»Ÿå‰åè‡ªåŠ¨åˆ›å»ºçš„ä¸€å †å¿«ç…§å¯¹ã€‚å¯ç”¨äºæ’¤é”€é…ç½®æ›´æ”¹ã€‚  è¿™ä¸‰ç§è‡ªåŠ¨åˆ›å»ºçš„å¿«ç…§å‡å¯å•ç‹¬å¯ç”¨å’Œé…ç½®ï¼Œä»è€Œæä¾›äº†æå¤§çš„çµæ´»æ€§ã€‚\né»˜è®¤é…ç½® è¦åœ¨åˆ†åŒºæˆ– Btrfs å­å·å¯ç”¨å¿«ç…§ï¼Œéœ€è¦åˆ›å»ºé…ç½®æ–‡ä»¶ã€‚Snapper çš„é…ç½®æ–‡ä»¶å­˜å‚¨åœ¨ /etc/snapper/configs ä¸­ã€‚\nå¦‚æœä½ çš„æ ¹åˆ†åŒºå¤§äº 16 GBï¼Œå¹¶ä¸”åœ¨å®‰è£… openSUSE æ—¶ä½¿ç”¨é»˜è®¤åˆ†åŒºé…ç½®ï¼Œåˆ™æ ¹åˆ†åŒºçš„é…ç½®æ–‡ä»¶åº”å·²è¢«è‡ªåŠ¨åˆ›å»ºã€‚é»˜è®¤é…ç½®å¯ç”¨äº†å®‰è£…å¿«ç…§å’Œç®¡ç†å¿«ç…§ï¼Œå¹¶æ’é™¤äº†éƒ¨åˆ†ç›®å½•ï¼Œå¯ä»¥æ»¡è¶³å¤§å¤šæ•°éœ€æ±‚ã€‚ä»¥ä¸‹åˆ—è¡¨æ˜¾ç¤ºäº†æ’é™¤çš„æ‰€æœ‰ç›®å½•ï¼š\n  /boot/grub2/i386-pcã€/boot/grub2/x86_64-efiã€/boot/grub2/powerpc-ieee1275ã€/boot/grub2/s390x-emu\nä¸èƒ½å›æ»šå¼•å¯¼åŠ è½½ç¨‹åºé…ç½®ã€‚ä¸Šé¢åˆ—å‡ºçš„ç›®å½•æ˜¯æ¶æ„ä¸“å±ç›®å½•ã€‚å‰ä¸¤ä¸ªç›®å½•ä½äº AMD64/Intel 64 è®¡ç®—æœºä¸Šï¼Œåä¸¤ä¸ªç›®å½•åˆ†åˆ«ä½äº IBM POWER å’Œ IBM Z ä¸Šã€‚\n  /home\nå¦‚æœç‹¬ç«‹çš„åˆ†åŒºä¸­æ²¡æœ‰ /homeï¼Œä¾¿ä¼šå°†è¯¥ç›®å½•æ’é™¤ä»¥å…åœ¨å›æ»šæ—¶å‘ç”Ÿæ•°æ®ä¸¢å¤±ã€‚\n  /optã€/var/opt\nç¬¬ä¸‰æ–¹äº§å“é€šå¸¸å®‰è£…åˆ° /opt ä¸‹ã€‚æ’é™¤æ­¤ç›®å½•æ˜¯ä¸ºäº†é˜²æ­¢åœ¨å›æ»šæ—¶å¸è£…è¿™äº›åº”ç”¨ç¨‹åºã€‚\n  /srv\nåŒ…å« Web å’Œ FTP æœåŠ¡å™¨çš„æ•°æ®ã€‚æ’é™¤æ­¤ç›®å½•æ˜¯ä¸ºäº†é˜²æ­¢åœ¨å›æ»šæ—¶å‘ç”Ÿæ•°æ®ä¸¢å¤±ã€‚\n  /tmpã€/var/tmpã€/var/cacheã€/var/crash\nåŒ…å«ä¸´æ—¶æ–‡ä»¶å’Œè¶…é€Ÿç¼“å­˜çš„æ‰€æœ‰ç›®å½•éƒ½ä¼šæ’é™¤åœ¨å¿«ç…§èŒƒå›´ä¹‹å¤–ã€‚\n  /usr/local\nåœ¨æ‰‹åŠ¨å®‰è£…è½¯ä»¶æ—¶ä¼šç”¨åˆ°æ­¤ç›®å½•ã€‚ç³»ç»Ÿä¼šå°†è¯¥ç›®å½•æ’é™¤ä»¥å…åœ¨å›æ»šæ—¶å¸è½½è¿™äº›å®‰è£…çš„è½¯ä»¶ã€‚\n  /var/lib/libvirt/images\nä½¿ç”¨ libvirt ç®¡ç†çš„è™šæ‹Ÿæœºæ˜ åƒçš„é»˜è®¤ä½ç½®ã€‚ä¸ºç¡®ä¿å›æ»šæœŸé—´è™šæ‹Ÿæœºæ˜ åƒä¸ä¼šæ›¿æ¢ä¸ºæ—§ç‰ˆæœ¬è€Œè¢«æ’é™¤ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œæ­¤å­å·æ˜¯ä½¿ç”¨å†™å…¥æ—¶ä¸å¤åˆ¶é€‰é¡¹åˆ›å»ºçš„ã€‚\n  /var/lib/mailmanã€/var/spool\nåŒ…å«é‚®ä»¶æˆ–é‚®ä»¶é˜Ÿåˆ—çš„ç›®å½•ä¼šæ’é™¤ï¼Œä»¥å…åœ¨å›æ»šåé€ æˆé‚®ä»¶ä¸¢å¤±ã€‚\n  /var/lib/bind\nåŒ…å« DNS æœåŠ¡å™¨çš„åŒºåŸŸæ•°æ®ã€‚æ’é™¤è¯¥ç›®å½•æ˜¯ä¸ºäº†ç¡®ä¿å›æ»šååç§°æœåŠ¡å™¨ä»èƒ½è¿ä½œã€‚\n  /var/lib/mariadbã€/var/lib/mysqlã€/var/lib/pgqsl\nè¿™äº›ç›®å½•åŒ…å«æ•°æ®åº“æ•°æ®ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿™äº›å­å·æ˜¯ä½¿ç”¨å†™å…¥æ—¶ä¸å¤åˆ¶é€‰é¡¹åˆ›å»ºçš„ã€‚\n  /var/log\næ—¥å¿—æ–‡ä»¶æ‰€åœ¨çš„ä½ç½®ã€‚æ’é™¤è¯¥ç›®å½•æ˜¯ä¸ºäº†åœ¨å¯¹å—æŸçš„ç³»ç»Ÿè¿›è¡Œå›æ»šåèƒ½å¤Ÿå¯¹æ—¥å¿—æ–‡ä»¶è¿›è¡Œåˆ†æã€‚\n  å¦‚æœä½ å¸Œæœ›ä½¿ç”¨ openSUSE çš„é»˜è®¤é…ç½®ï¼Œä½†åœ¨å®‰è£… openSUSE æ—¶æœªå¼€å¯å¿«ç…§åŠŸèƒ½ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ›å»ºæ ¹åˆ†åŒºçš„é»˜è®¤é…ç½®æ–‡ä»¶ï¼š\næ³¨æ„ï¼š è¦ä½¿ç”¨è¯¥é»˜è®¤é…ç½®æ–‡ä»¶ï¼Œè¯·ç¡®ä¿æ ¹åˆ†åŒºå¤§å°è‡³å°‘ä¸º 16 GBï¼Œå¹¶ä½¿ç”¨ openSUSE å®‰è£…ç¨‹åºå»ºè®®çš„åŒ…å«å­å·çš„ Btrfs æ ¹æ–‡ä»¶ç³»ç»Ÿï¼ˆå®‰è£…ç¨‹åºé»˜è®¤åˆ†åŒºè®¾ç½®ï¼‰\nsnapper -c root create-config / ç¡®ä¿ snapper-zypp-plugin è½¯ä»¶åŒ…å·²å®‰è£…ä»¥å¯ç”¨å®‰è£…å¿«ç…§ï¼š\nzypper install snapper-zypp-plugin æ‰‹åŠ¨é…ç½® åˆ›å»ºå’Œè£…å…¥æ–°å­å· ç³»ç»Ÿæ”¯æŒåœ¨ / å±‚æ¬¡ä¸‹åˆ›å»ºæ–°çš„å­å·ï¼Œå¹¶æ°¸ä¹…æ€§è£…å…¥è¯¥å·ã€‚æ­¤ç±»å­å·å°†ä»å¿«ç…§ä¸­æ’é™¤ã€‚åˆ‡å‹¿åœ¨ç°æœ‰å¿«ç…§ä¸­åˆ›å»ºæ­¤ç±»å­å·ï¼Œå› ä¸ºåœ¨å›æ»šä¹‹åï¼Œæ‚¨å°†æ— æ³•å†åˆ é™¤å¿«ç…§ã€‚\nSUSE Linux Enterprise Server ä¸Šé…ç½®äº† /@/ å­å·ï¼Œè¯¥å­å·å……å½“æ°¸ä¹…æ€§å­å·ï¼ˆä¾‹å¦‚ /optã€/srvã€/home ç­‰ï¼‰çš„ç‹¬ç«‹æ ¹ç›®å½•ã€‚æ‚¨åˆ›å»ºå’Œæ°¸ä¹…è£…å…¥çš„ä»»ä½•æ–°å­å·éƒ½éœ€è¦åœ¨è¿™ä¸ªåˆå§‹æ ¹æ–‡ä»¶ç³»ç»Ÿä¸­åˆ›å»ºã€‚\nä¸ºæ­¤ï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ã€‚åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œä» /dev/sda2 åˆ›å»ºäº†ä¸€ä¸ªæ–°å­å· /usr/importantã€‚\nsudo mount /dev/sda2 -o subvol=@ /mntsudo btrfs subvolume create /mnt/usr/importantsudo umount /mnt /etc/fstab ä¸­çš„ç›¸åº”é¡¹éœ€ç±»ä¼¼äºï¼š\n/dev/sda2 /usr/important btrfs subvol=@/usr/important 0 0 æç¤ºï¼šå­å·å¯èƒ½åŒ…å«ç»å¸¸æ›´æ”¹çš„æ–‡ä»¶ï¼Œä¾‹å¦‚è™šæ‹ŸåŒ–çš„ç£ç›˜æ˜ åƒã€æ•°æ®åº“æ–‡ä»¶æˆ–æ—¥å¿—æ–‡ä»¶ã€‚å¦‚æœæ˜¯è¿™æ ·ï¼Œå¯è€ƒè™‘å¯¹æ­¤å·ç¦ç”¨å†™å…¥æ—¶å¤åˆ¶åŠŸèƒ½ï¼Œä»¥å…å¤åˆ¶ç£ç›˜å—ã€‚å¯åœ¨ /etc/fstab ä¸­ä½¿ç”¨ nodatacow è£…å…¥é€‰é¡¹æ¥å®ç°æ­¤ç›®çš„ï¼š\n/dev/sda2 /usr/important btrfs nodatacow,subvol=@/usr/important 0 0 æˆ–è€…ï¼Œè¦ä¸ºå•ä¸ªæ–‡ä»¶æˆ–ç›®å½•ç¦ç”¨å†™å…¥æ—¶å¤åˆ¶åŠŸèƒ½ï¼Œè¯·ä½¿ç”¨å‘½ä»¤ chattr +C è·¯å¾„ã€‚\nåˆ›å»ºé…ç½®æ–‡ä»¶ å¸Œæœ›åœ¨ç‰¹å®šåˆ†åŒºæˆ–å­å·å¯ç”¨å¿«ç…§ï¼Œå¯ä»¥ä»¥ä¸‹å‘½ä»¤åˆ›å»ºç›¸åº”çš„é…ç½®æ–‡ä»¶ï¼š\nsnapper -c é…ç½®æ–‡ä»¶å create-config åˆ†åŒºæˆ–å­å·çš„æŒ‚è½½ç‚¹ è¿™å°†æ ¹æ® /etc/snapper/config-templates/default æä¾›çš„é»˜è®¤å€¼åˆ›å»ºé…ç½®æ–‡ä»¶ã€‚\næ³¨æ„ï¼š åœ¨åˆ›å»ºé…ç½®æ–‡ä»¶å‰è¯·ç¡®ä¿ç›®æ ‡åˆ†åŒºæˆ–å­å·å·²è¢«åˆ›å»ºã€‚ä¸èƒ½ä¸ºåŒä¸€åˆ†åŒºæˆ–å­å·åˆ›å»ºå¤šä¸ªé…ç½®æ–‡ä»¶ã€‚\nä¾‹å¦‚ï¼Œä¸ºé˜²æ­¢å›æ»šæ—¶æ•°æ®ä¸¢å¤±ï¼Œé»˜è®¤çš„æ ¹åˆ†åŒºé…ç½®æ’é™¤äº† /home ç›®å½•ï¼Œå¯ä»¥ä½¿ç”¨ä¸Šè¿°å‘½ä»¤ä¸º /home åˆ›å»ºé…ç½®æ–‡ä»¶ï¼š\nsnapper -c home create-config /home è¯¥å‘½ä»¤ä¼šä½¿ç”¨ /etc/snapper/config-templates/default æä¾›çš„é»˜è®¤å€¼åˆ›å»º /etc/snapper/configs/home æ–‡ä»¶ã€‚\nå¯ä»¥ä½¿ç”¨\nsnapper list-configs æŸ¥çœ‹ç°æœ‰é…ç½®æ–‡ä»¶ã€‚\nå¯ç”¨/ç¦ç”¨è‡ªåŠ¨å¿«ç…§ ä½ å¯ä»¥é€‰æ‹©æ€§åœ°å¯ç”¨/ç¦ç”¨è‡ªåŠ¨åˆ›å»ºçš„å¿«ç…§ç±»å‹ï¼š\nå¯ç”¨æ—¶é—´çº¿å¿«ç…§\nsnapper -c é…ç½®æ–‡ä»¶å set-config \u0026quot;TIMELINE_CREATE=yes\u0026quot; ç¦ç”¨æ—¶é—´çº¿å¿«ç…§\nsnapper -c é…ç½®æ–‡ä»¶å set-config \u0026quot;TIMELINE_CREATE=no\u0026quot; æ—¶é—´çº¿å¿«ç…§é»˜è®¤ä¼šå¯ç”¨ï¼Œä½†æ ¹åˆ†åŒºé™¤å¤–ã€‚\næ³¨æ„ï¼š ä»¥ä¸‹ä¸¤ç§å¿«ç…§åŒ…å«çš„å†…å®¹ç”±å®‰è£…çš„è½¯ä»¶åŒ…æˆ–ä¿®æ”¹çš„é…ç½®è€Œå®šï¼Œä¸ç‰¹å®šåˆ†åŒºæˆ–å­å·æ— å…³ã€‚é»˜è®¤ä¸ºå¯ç”¨çŠ¶æ€ã€‚\nå¯ç”¨å®‰è£…å¿«ç…§\nzypper install snapper-zypp-plugin ç¦ç”¨å®‰è£…å¿«ç…§\nzypper remove snapper-zypp-plugin ä½¿ç”¨ YaST æˆ– Zypper å®‰è£…åŒ…æ—¶æ‰€åˆ›å»ºçš„å¿«ç…§ä¼šç”± snapper-zypp-plugin è¿›è¡Œå¤„ç†ã€‚ä½•æ—¶åˆ›å»ºå¿«ç…§ç”± XML é…ç½®æ–‡ä»¶ /etc/snapper/zypp-plugin.conf å®šä¹‰ã€‚\nå¯ç”¨ç®¡ç†å¿«ç…§\nåœ¨ /etc/sysconfig/yast2 ä¸­å°† USE_SNAPPER è®¾ç½®ä¸º yes ç¦ç”¨ç®¡ç†å¿«ç…§\nåœ¨ /etc/sysconfig/yast2 ä¸­å°† USE_SNAPPER è®¾ç½®ä¸º no é…ç½®æ–‡ä»¶å‚æ•° Snapper çš„è¡Œä¸ºç”±é…ç½®æ–‡ä»¶å‚æ•°å®šä¹‰ï¼Œé™¤äº†ç›´æ¥ä½¿ç”¨æ–‡æœ¬ç¼–è¾‘å™¨ç¼–è¾‘é…ç½®æ–‡ä»¶å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨\nsnapper -c é…ç½®æ–‡ä»¶åç§° set-config \u0026quot;å‚æ•°åç§°=å‚æ•°\u0026quot; ä¿®æ”¹é…ç½®æ–‡ä»¶å‚æ•°ã€‚\nä»¥ä¸‹å¯¹å‡ ä¸ªå¸¸ç”¨é…ç½®æ¡ˆä¾‹è¿›è¡Œè¯´æ˜ï¼Œå®Œæ•´çš„å‚æ•°è¯´æ˜å¯å‚é˜… snapper-configs(5) ï¼š\nman snapper-configs å…è®¸æ™®é€šç”¨æˆ·ç®¡ç†å¿«ç…§\né»˜è®¤æƒ…å†µä¸‹ä»… root ç”¨æˆ·å¯ä»¥ç®¡ç†å¿«ç…§ï¼Œè¦å…è®¸æ™®é€šç”¨æˆ·æˆ–ç»„ç®¡ç†å¿«ç…§ï¼Œå¯è¿è¡Œï¼š\nsnapper -c é…ç½®æ–‡ä»¶åç§° set-config \u0026quot;ALLOW_USERS=ç”¨æˆ·å\u0026quot; \u0026quot;ALLOW_GROUPS=ç»„å\u0026quot; \u0026quot;SYNC_ACL=yes\u0026quot; å¿…é¡»é…ç½®â€œSYNC_ACL=yesâ€ä»¥å…è®¸æ™®é€šç”¨æˆ·è®¿é—®å¿«ç…§æ‰€åœ¨ç›®å½•ã€‚\nè‡ªåŠ¨æ¸…ç†æ—§å¿«ç…§\nä¸ºé˜²æ­¢å¿«ç…§å æ®å…¨éƒ¨ç£ç›˜ç©ºé—´ï¼ŒSnapper æä¾›äº†å‡ ç§è‡ªåŠ¨æ¸…ç†æ—§å¿«ç…§çš„æœºåˆ¶ï¼Œå¯é€šè¿‡ä¸€ç³»åˆ—å‚æ•°é…ç½®è‡ªåŠ¨æ¸…ç†è¿‡ç¨‹ï¼š\n   æ¸…ç†æœºåˆ¶ è¯´æ˜ å¯ç”¨é€‰é¡¹ é…ç½®å‚æ•° å«ä¹‰ å¤‡æ³¨     ç¼–å· æ ¹æ®å¿«ç…§ç¼–å·è¿›è¡Œæ¸…ç† NUMBER_CLEANUP=yes NUMBER_LIMIT=æ•°å­—æˆ–èŒƒå›´ å®šä¹‰è¦ä¿ç•™çš„å¿«ç…§æ•°é‡ã€‚ å¦‚æœå¯ç”¨äº†å®šé¢æ”¯æŒï¼Œåº”ä½¿ç”¨èŒƒå›´ã€‚å¦‚æœæœªå¯ç”¨å®šé¢æ”¯æŒï¼Œåº”ä½¿ç”¨å•ä¸ªæ•°å­—ã€‚   NUMBER_LIMIT_IMPORTANT=æ•°å­—æˆ–èŒƒå›´ å®šä¹‰è¦ä¿ç•™çš„å« important æ ‡ç­¾çš„å¿«ç…§æ•°é‡ï¼Œå†…æ ¸æ›´æ–°ç­‰çš„å®‰è£…å¿«ç…§è‡ªå¸¦è¯¥æ ‡ç­¾ã€‚       NUMBER_MIN_AGE=ç§’ å®šä¹‰æ»¡è¶³ä¸Šè¿°æ¡ä»¶çš„å¿«ç…§è¢«æ¸…ç†å‰æœ€å°‘åº”ä¿ç•™çš„æ—¶é—´ã€‚0 è¡¨ç¤ºæ— é™åˆ¶ã€‚       æ—¶é—´çº¿ æ ¹æ®å¿«ç…§åˆ›å»ºæ—¶é—´è¿›è¡Œæ¸…ç† TIMELINE_CLEANUP=yes TIMELINE_LIMIT_HOURLY=æ•°å­—æˆ–èŒƒå›´ å®šä¹‰è¦ä¿ç•™çš„æ¯å°æ—¶é¦–å¼ å¿«ç…§çš„æ•°é‡ã€‚ å¦‚æœå¯ç”¨äº†å®šé¢æ”¯æŒï¼Œåº”ä½¿ç”¨èŒƒå›´ã€‚å¦‚æœæœªå¯ç”¨å®šé¢æ”¯æŒï¼Œåº”ä½¿ç”¨å•ä¸ªæ•°å­—ã€‚   TIMELINE_LIMIT_DAILY=æ•°å­—æˆ–èŒƒå›´ å®šä¹‰è¦ä¿ç•™çš„æ¯æ—¥é¦–å¼ å¿«ç…§çš„æ•°é‡ã€‚       TIMELINE_LIMIT_WEEKLY=æ•°å­—æˆ–èŒƒå›´ å®šä¹‰è¦ä¿ç•™çš„æ¯å‘¨é¦–å¼ å¿«ç…§çš„æ•°é‡ï¼Œæ­¤å¤„çš„å‘¨ç”±æ˜ŸæœŸä¸€å¼€å§‹ã€‚       TIMELINE_LIMIT_MONTHLY=æ•°å­—æˆ–èŒƒå›´ å®šä¹‰è¦ä¿ç•™çš„æ¯æœˆé¦–å¼ å¿«ç…§çš„æ•°é‡ã€‚       TIMELINE_LIMIT_YEARLY=æ•°å­—æˆ–èŒƒå›´ å®šä¹‰è¦ä¿ç•™çš„æ¯å¹´é¦–å¼ å¿«ç…§çš„æ•°é‡ã€‚       TIMELINE_MIN_AGE=ç§’ å®šä¹‰æ»¡è¶³ä¸Šè¿°æ¡ä»¶çš„å¿«ç…§è¢«æ¸…ç†å‰æœ€å°‘åº”ä¿ç•™çš„æ—¶é—´ã€‚0 è¡¨ç¤ºæ— é™åˆ¶ã€‚       æ— å·®å¼‚å¿«ç…§å¯¹ æ¸…ç†æ²¡æœ‰å·®å¼‚çš„å¿«ç…§å¯¹ã€‚å¦‚è¿è¡Œ Yast2 åæœªä½œä»»ä½•ä¿®æ”¹ï¼Œåˆ™è‡ªåŠ¨æ¸…ç†åˆ›å»ºçš„ç®¡ç†å¿«ç…§ã€‚ EMPTY_PRE_POST_CLEANUP=yes EMPTY_PRE_POST_CLEANUP=ç§’ å®šä¹‰æ— å·®å¼‚å¿«ç…§å¯¹è¢«æ¸…ç†å‰æœ€å°‘åº”ä¿ç•™çš„æ—¶é—´ã€‚0 è¡¨ç¤ºæ— é™åˆ¶ã€‚    ç£ç›˜å®šé¢ å®šä¹‰å¿«ç…§å¯å ç”¨ç©ºé—´çš„ç™¾åˆ†æ¯” è¿è¡Œsnapper setup-quota SPACE_LIMIT=è¡¨ç¤ºç™¾åˆ†æ¯”çš„å°æ•° å®šä¹‰å¿«ç…§å¯å ç”¨ç©ºé—´çš„ç™¾åˆ†æ¯” ä»…æ”¯æŒ Btrfs æ–‡ä»¶ç³»ç»Ÿéœ€è‡³å°‘å¯ç”¨ç¼–å·æˆ–æ—¶é—´çº¿æ¸…ç†ç®—æ³•ä¸­çš„ä¸€ä¸ªå¯ç”¨å®šé¢æ”¯æŒåï¼Œç¼–å·å’Œæ—¶é—´çº¿æ¸…ç†ç®—æ³•çš„éƒ¨åˆ†å‚æ•°åº”å½“ä½¿ç”¨èŒƒå›´å€¼ã€‚æ¸…ç†ç®—æ³•ä¼šæ¸…ç†å¿«ç…§è‡³ä¸Šé™å€¼ï¼Œå¦‚æœæœªæ»¡è¶³å®šé¢é…ç½®åˆ™åœ¨ä¸‹é™å€¼èŒƒå›´å†…å°½é‡æ¸…ç†å¿«ç…§ä»¥æ»¡è¶³å®šé¢ã€‚    ç®¡ç†é…ç½®æ–‡ä»¶ å¯ä»¥ä½¿ç”¨ snapper å‘½ä»¤å¿«é€Ÿç®¡ç†é…ç½®æ–‡ä»¶ï¼š\nåˆ—å‡ºé…ç½®æ–‡ä»¶\nsnapper list-configs æ˜¾ç¤ºç‰¹å®šçš„é…ç½®æ–‡ä»¶\nsnapper -c é…ç½®æ–‡ä»¶åç§° get-config åˆ é™¤é…ç½®æ–‡ä»¶\nsnapper -c é…ç½®æ–‡ä»¶åç§° delete-config å¿«ç…§ç®¡ç† å¯ä»¥ä½¿ç”¨ snapper å·¥å…·æˆ– Yast2 æ¨¡å—è¿›è¡ŒæŸ¥çœ‹ã€åˆ›å»ºã€æ¯”è¾ƒå¿«ç…§ç­‰æ“ä½œã€‚\nsnapper å·¥å…·æä¾›äº†ä¸€ç³»åˆ—å­å‘½ä»¤ï¼Œå¯ä»¥åœ¨æ–‡æœ¬ç•Œé¢è¿›è¡Œå¿«ç…§ç®¡ç†ã€‚æœ¬èŠ‚ä»‹ç»äº†ä¸€äº›å¸¸ç”¨å‘½ä»¤å’Œå‚æ•°ï¼Œæ›´å¤šä¿¡æ¯å¯å‚é˜… snapper(8)ï¼š\nman snapper æ³¨æ„ï¼š ç®¡ç†å¿«ç…§æ—¶å¯ä½¿ç”¨ â€œ-c é…ç½®æ–‡ä»¶åâ€ æŒ‡å®šé…ç½®æ–‡ä»¶ï¼Œå¦‚æœªæŒ‡å®šåˆ™é»˜è®¤ä½¿ç”¨ root é…ç½®æ–‡ä»¶ï¼Œä¸‹è¿°ç¤ºä¾‹å‡æœªæŒ‡å®šé…ç½®æ–‡ä»¶ã€‚\næŸ¥çœ‹å¿«ç…§\nsnapper list å°†åˆ—å‡º root é…ç½®çš„æ‰€æœ‰å¿«ç…§ã€‚\nå¯ä»¥ä½¿ç”¨ â€œ-tâ€ å‚æ•°åˆ—å‡ºç‰¹å®šç±»å‹çš„å¿«ç…§ã€‚\nä¾‹å¦‚ï¼Œåˆ—å‡º root é…ç½®ä¸‹çš„æ‰€æœ‰å¿«ç…§å¯¹ï¼š\nsnapper list -t pre-post åˆ—å‡º home é…ç½®ä¸‹çš„æ‰€æœ‰å•ä¸€å¿«ç…§ï¼š\nsnapper -c home list -t single ä½ è¿˜å¯ä»¥ä½¿ç”¨\nsnapper list -a åˆ—å‡ºæ‰€æœ‰é…ç½®ä¸‹çš„å¿«ç…§ã€‚\nåˆ›å»ºå¿«ç…§\nsnapper create å°†ä½¿ç”¨ root é…ç½®æ–‡ä»¶åˆ›å»ºä¸€ä¸ªå•ä¸€å¿«ç…§ã€‚\nå¯ä»¥ä½¿ç”¨â€œ-tâ€å‚æ•°æŒ‡å®šå¿«ç…§ç±»å‹ï¼ˆé»˜è®¤å€¼ä¸º singleï¼‰ï¼Œä½¿ç”¨â€œ-dâ€å‚æ•°æ·»åŠ æè¿°ã€‚æ‰‹åŠ¨åˆ›å»ºçš„å¿«ç…§é»˜è®¤ä¸ä¼šè‡ªåŠ¨è¢«æ¸…ç†ï¼Œä½¿ç”¨â€œ\u0026ndash;cleanup-algorithmâ€å‚æ•°æŒ‡å®šè‡ªåŠ¨æ¸…ç†ç®—æ³•ã€‚è¿˜å¯ä»¥ä½¿ç”¨â€œ\u0026ndash;userdataâ€å‚æ•°å®šä¹‰è‡ªå®šä¹‰æ•°æ®ï¼ˆå¦‚ important æ ‡è®°ï¼‰ã€‚\nä¾‹å¦‚ï¼Œåˆ›å»ºå½“å‰ç³»ç»Ÿçš„å•ä¸€å¿«ç…§ï¼Œæ ‡è®°ä¸ºé‡è¦ï¼Œå¹¶æŒ‡å®šæ—¶é—´çº¿æ¸…ç†ç®—æ³•ï¼š\nsnapper create -t single --description \u0026quot;ç³»ç»Ÿå¿«ç…§\u0026quot; --userdata \u0026quot;important=yes\u0026quot; --cleanup-algorithm timeline è¦åˆ›å»ºä¸€ä¸ªå¿«ç…§å¯¹ï¼Œé¦–å…ˆåˆ›å»ºä¸€ä¸ªå‰å¿«ç…§ï¼Œä½¿ç”¨â€œ\u0026ndash;print-numberâ€é€‰é¡¹ä»¥åˆ—å‡ºå¿«ç…§ç¼–å·ï¼š\nsnapper create -t pre --print-number --description \u0026quot;Before\u0026quot; å‡è®¾åˆ—å‡ºçš„å¿«ç…§ç¼–å·ä¸º 30ï¼Œå°†å…¶ä½œä¸ºâ€œ\u0026ndash;pre-numberâ€å‚æ•°çš„å€¼åˆ›å»ºåå¿«ç…§ï¼š\nsnapper create -t post --pre-number 30 --description \u0026quot;After\u0026quot; ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨\nsnapper create --command \u0026quot;è¦è¿è¡Œçš„å‘½ä»¤\u0026quot; ä»¥è‡ªåŠ¨åˆ›å»ºè¿è¡Œå‘½ä»¤å‰åçš„å¿«ç…§å¯¹ã€‚\næ¯”è¾ƒå¿«ç…§\næœ‰ä¸¤ç§æ¯”è¾ƒæ–¹æ³•ï¼š\nsnapper status \u0026lt;ç¬¬ä¸€ä¸ªå¿«ç…§ç¼–å·\u0026gt;..\u0026lt;ç¬¬äºŒä¸ªå¿«ç…§ç¼–å·\u0026gt; //ç¬¬ä¸€ä¸ªå¿«ç…§çš„åˆ›å»ºæ—¶é—´è¦æ—©äºç¬¬äºŒä¸ª å°†æ˜¾ç¤ºæ‚¨åœ¨ä¸¤ä¸ªå¿«ç…§æ—¶é—´å†…ä¿®æ”¹çš„å…¨éƒ¨æ–‡ä»¶çš„è·¯å¾„å’Œæ–‡ä»¶åã€‚\nä¾‹å¦‚ï¼Œä¸‹è¿°å‘½ä»¤å¯ä»¥æ¯”è¾ƒå½“å‰ç³»ç»ŸçŠ¶æ€ä¸ 161 å·å¿«ç…§çš„å·®å¼‚ï¼š\nsnapper status 161..0 //0 è¡¨ç¤ºå½“å‰ç³»ç»Ÿï¼Œå®ƒä¸æ˜¯å¿«ç…§ï¼Œä½†ä½ å¯ä»¥è®¤ä¸ºæ˜¯æ¯”æ‰€æœ‰å¿«ç…§éƒ½æ–°çš„ä¸€ä¸ªå¿«ç…§ã€‚ ç¬¬äºŒç§ï¼š\nsnapper diff \u0026lt;ç¬¬ä¸€ä¸ªå¿«ç…§ç¼–å·\u0026gt;..\u0026lt;ç¬¬äºŒä¸ªå¿«ç…§ç¼–å·\u0026gt; æ–‡ä»¶å å°†ä»¥ diff çš„æ ¼å¼æ˜¾ç¤ºæŒ‡å®šæ–‡ä»¶çš„å·®å¼‚ï¼Œå¦‚æœæœªæŒ‡å®šæ–‡ä»¶åï¼Œå°†æ˜¾ç¤ºæ‰€æœ‰æ–‡ä»¶çš„å·®å¼‚ã€‚\næ’¤é”€ä¿®æ”¹\nsnapper undochange \u0026lt;ä¿®æ”¹å‰çš„å¿«ç…§ç¼–å·\u0026gt;..\u0026lt;ä¿®æ”¹åçš„å¿«ç…§ç¼–å·\u0026gt; \u0026lt;æ–‡ä»¶å\u0026gt; æ¯”å¦‚ä½ è¯¯åˆ é™¤äº†æŸä¸ªæ–‡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨ï¼š\nsnapper undochange \u0026lt;åˆ é™¤æ–‡ä»¶å‰çš„å¿«ç…§ç¼–å·\u0026gt;..0 æ–‡ä»¶å //0 è¡¨ç¤ºå½“å‰ç³»ç»Ÿï¼Œå®ƒä¸æ˜¯å¿«ç…§ï¼Œä½†ä½ å¯ä»¥è®¤ä¸ºæ˜¯æ¯”æ‰€æœ‰å¿«ç…§éƒ½æ–°çš„ä¸€ä¸ªå¿«ç…§ã€‚ æ¥æ’¤é”€ã€‚\nåˆ é™¤å¿«ç…§\nsnapper delete å¿«ç…§ç¼–å·æˆ–èŒƒå›´ ä¾‹å¦‚ï¼Œè¦åˆ é™¤ 16 å·å¿«ç…§ï¼š\nsnapper delete 16 è¦åˆ é™¤ 10 å·åˆ° 15 å·å¿«ç…§ï¼š\nsnapper delete 10-15 å¯ä»¥ç»“åˆâ€œ-sâ€å‚æ•°ä»¥åœ¨åˆ é™¤å¿«ç…§åç«‹åˆ»é‡Šæ”¾å¯ç”¨ç©ºé—´è€Œä¸å¿…ç­‰å¾… Btrfs è¿›ç¨‹å›æ”¶ã€‚\nå›æ»šæ•´ä¸ªç³»ç»Ÿ\nSUSE Linux Enterprise Server ä¸ŠåŒ…å«çš„ GRUB 2 ç‰ˆæœ¬å¯ä»¥ä» Btrfs å¿«ç…§è¿›è¡Œå¼•å¯¼ã€‚ä¸ Snapper çš„å›æ»šåŠŸèƒ½ç›¸ç»“åˆï¼Œå°±èƒ½æ¢å¤é…ç½®é”™è¯¯çš„ç³»ç»Ÿã€‚åªæœ‰é’ˆå¯¹é»˜è®¤ Snapper é…ç½®ï¼ˆæ ¹ï¼‰åˆ›å»ºçš„å¿«ç…§æ‰å¯å¼•å¯¼ã€‚\næ³¨æ„ï¼š è¦å›æ»šæ•´ä¸ªç³»ç»Ÿï¼Œè¯·ç¡®ä¿æ ¹æ–‡ä»¶ç³»ç»Ÿä¸º openSUSE å®‰è£…ç¨‹åºé»˜è®¤çš„å¸¦å­å·çš„ Btrfs æ–‡ä»¶ç³»ç»Ÿã€‚ä» SUSE Linux Enterprise Server 15 å¼€å§‹ï¼Œåªæœ‰åœ¨æ ¹åˆ†åŒºçš„é»˜è®¤å­å·é…ç½®æœªæ›´æ”¹è¿‡çš„æƒ…å†µä¸‹ï¼Œæ‰æ”¯æŒç³»ç»Ÿå›æ»šã€‚\nå¦‚æœå› ä¸ºæ›´æ–°æˆ–ç—…æ¯’ç­‰åŸå› å¯¼è‡´ç³»ç»Ÿå‡ºç°é‡å¤§é”™è¯¯ï¼Œå¹¶ä¿ç•™äº†é”™è¯¯å‰çš„å¿«ç…§ï¼Œåˆ™å¯ä»¥å›æ»šæ•´ä¸ªç³»ç»Ÿåˆ°é”™è¯¯å‰çš„çŠ¶æ€ã€‚\nsnapper rollback è¦å›æ»šçš„å¿«ç…§ç¼–å· è¯¥å‘½ä»¤å°†åˆ›å»ºå½“å‰ç³»ç»ŸçŠ¶æ€çš„åªè¯»å¿«ç…§ A åŠæŒ‡å®šç¼–å·å¿«ç…§çš„å¯è¯»å†™å¿«ç…§ Bï¼Œå¹¶ä½¿ç”¨å¿«ç…§ B æ›¿æ¢æ ¹åˆ†åŒºçš„é»˜è®¤å­å·ï¼Œé‡æ–°å¯åŠ¨ç³»ç»Ÿåå³å¯å®ç°å›æ»šã€‚\nä½ è¿˜å¯ä»¥åœ¨å¼•å¯¼ç³»ç»Ÿæ—¶é€‰æ‹©Start bootloader from a read-only snapshotï¼Œä»¥å¼•å¯¼æƒ³è¦å›æ»šçš„å¿«ç…§ï¼Œåœ¨æ£€æŸ¥æ— è¯¯ååœ¨å¼•å¯¼çš„å¿«ç…§ä¸­æ‰§è¡Œï¼š\nsnapper rollback ä¸æŒ‡å®šå¿«ç…§ç¼–å·æ—¶ï¼Œå°†åˆ›å»ºæ ¹åˆ†åŒºé»˜è®¤å­å·ï¼ˆå³åŸç³»ç»Ÿï¼‰çš„åªè¯»å¿«ç…§ A å’Œå½“å‰ç³»ç»Ÿï¼ˆå³ç›®å‰å¼•å¯¼çš„å¿«ç…§ï¼‰çš„å¯è¯»å†™å¿«ç…§ Bï¼Œå¹¶ä½¿ç”¨å¿«ç…§ B æ›¿æ¢æ ¹åˆ†åŒºçš„é»˜è®¤å­å·ï¼Œé‡æ–°å¯åŠ¨ç³»ç»Ÿåé€‰æ‹©é»˜è®¤å¼•å¯¼é¡¹å³å¯å®ç°å›æ»šã€‚\nFirewall-cmd firewall-cmd(firewalld command line client) æ˜¯ firewalld çš„ä¸»è¦å‘½ä»¤è¡Œå·¥å…·ã€‚å®ƒå¯ä»¥ç”¨æ¥è·å– firewalld çš„çŠ¶æ€ä¿¡æ¯ï¼Œè·å–è¿è¡Œæ—¶å’Œæ°¸ä¹…ç¯å¢ƒçš„é˜²ç«å¢™é…ç½®ï¼Œä¹Ÿå¯ä»¥ç”¨æ¥ä¿®æ”¹è¿™äº›é…ç½®ã€‚\nåŸºæœ¬æ¦‚å¿µ firewalld å°†æ‰€æœ‰çš„ç½‘ç»œæ•°æ®æµé‡åˆ’åˆ†ä¸ºå¤šä¸ªåŒºåŸŸï¼Œå†æ ¹æ®æ•°æ®åŒ…çš„æºIPåœ°å€æˆ–ä¼ å…¥ç½‘ç»œæ¥å£ç­‰æ¡ä»¶ï¼Œå°†æ•°æ®æµé‡è½¬å…¥ç›¸åº”åŒºåŸŸçš„é˜²ç«å¢™è§„åˆ™ä¸­ã€‚\n blockï¼šæ‹’ç»æ‰€æœ‰ä¼ å…¥çš„ç½‘ç»œè¿æ¥ã€‚åªæœ‰ä»ç³»ç»Ÿå†…éƒ¨å‘èµ·çš„ç½‘ç»œè¿æ¥æ‰å¯èƒ½æœ‰æ•ˆï¼› dmzï¼šéš”ç¦»åŒºåŸŸä¹Ÿç§°ä¸ºéå†›äº‹åŒ–åŒºåŸŸï¼Œä¸ºæ‚¨çš„å±€åŸŸç½‘æä¾›æœ‰é™çš„è®¿é—®æƒé™ï¼Œå¹¶ä¸”åªå…è®¸é€‰å®šçš„ä¼ å…¥ç«¯å£ï¼› dropï¼šç»ˆæ­¢æ‰€æœ‰ä¼ å…¥é“¾æ¥ï¼Œåªå…è®¸ä¼ å‡ºçš„é“¾æ¥ï¼› externalï¼šå¯¹è·¯ç”±å™¨ç±»å‹çš„è¿æ¥å¾ˆæœ‰ç”¨ã€‚ä½ éœ€è¦å±€åŸŸç½‘å’Œå¹¿åŸŸç½‘çš„æ¥å£æ¥è¿›è¡Œä¼ªè£…ï¼ˆNATï¼‰æ‰èƒ½æ­£å¸¸å·¥ä½œã€‚ homeï¼šé€‚ç”¨äºå®¶åº­ç”µè„‘ï¼Œå¦‚å±€åŸŸç½‘å†…çš„ç¬”è®°æœ¬ç”µè„‘å’Œå°å¼æœºï¼Œæ‚¨å¯ä»¥ä¿¡ä»»å…¶ä»–ç”µè„‘ã€‚åªå…è®¸é€‰å®šçš„ TCP/IP ç«¯å£ï¼› internalï¼šç”¨äºå†…éƒ¨ç½‘ç»œï¼Œå½“ä½ å‡ ä¹ä¿¡ä»»å±€åŸŸç½‘å†…çš„å…¶ä»–æœåŠ¡å™¨æˆ–è®¡ç®—æœºæ—¶ï¼› publicï¼ˆç³»ç»Ÿé»˜è®¤å€¼ï¼‰ï¼šé€‚ç”¨äºå§‹ç»ˆå¤„äºå…¬å…±åŒºåŸŸçš„äº‘æœåŠ¡å™¨æˆ–æ‰˜ç®¡åœ¨æ‚¨å¤„çš„æœåŠ¡å™¨ã€‚æ‚¨ä¸ä¿¡ä»»ç½‘ç»œä¸Šçš„ä»»ä½•å…¶ä»–è®¡ç®—æœºå’ŒæœåŠ¡å™¨ã€‚æ‚¨åªå…è®¸ä½¿ç”¨æ‰€éœ€çš„ç«¯å£å’ŒæœåŠ¡ï¼› trustedï¼šå…è®¸ä»»ä½•çš„ç½‘ç»œé“¾æ¥ï¼› workï¼šé€‚ç”¨äºæ‚¨ä¿¡ä»»æ‚¨çš„åŒäº‹å’Œå…¶ä»–æœåŠ¡å™¨çš„å·¥ä½œåœºæ‰€ã€‚  æŸ¥çœ‹é»˜è®¤åŒºåŸŸï¼š\n$ firewall-cmd --get-default-zone å½“ NetworkManager æ·»åŠ æ–°çš„æ¥å£è¿æ¥ï¼ˆå¦‚ eth0 æˆ– ens3ï¼‰æ—¶ï¼Œå®ƒä»¬å°†è¢«è¿æ¥åˆ°é»˜è®¤çš„åŒºåŸŸã€‚é€šè¿‡è¿è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡ŒéªŒè¯ï¼š\n$ firewall-cmd --get-active-zones æœåŠ¡ï¼ˆservicesï¼‰ æœåŠ¡æ˜¯ä¸€ä¸ªåŒ…å«äº†æœ¬åœ°ç«¯å£ã€åè®®ã€æºç«¯å£ã€ç›®çš„åœ°å’Œé˜²ç«å¢™å¸®åŠ©æ¨¡å— (firewall helper modules) çš„åˆ—è¡¨ã€‚\næŸ¥è¯¢æœåŠ¡ # æŸ¥è¯¢å½“å‰åŒºåŸŸå…è®¸çš„æœåŠ¡ $ sudo firewall-cmd --list-services # æŸ¥è¯¢ç‰¹å®šåŒºåŸŸå…è®¸çš„æœåŠ¡ $ sudo firewall-cmd --list-services --zone=[åŒºåŸŸ] # æŸ¥è¯¢å…¨éƒ¨åŒºåŸŸçš„æœåŠ¡æˆ–é˜²ç«å¢™è§„åˆ™ $ sudo firewall-cmd --list-all-zones å¦‚æŸ¥è¯¢ä¸ public ç›¸å…³çš„é˜²ç«å¢™è§„åˆ™æˆ–æœåŠ¡ï¼š\n$ sudo firewall-cmd --list-all --zone=public public (active) target: default icmp-block-inversion: no interfaces: wlan0 sources: services: dhcpv6-client ports: protocols: forward: no masquerade: no forward-ports: source-ports: icmp-blocks: rich rules: åœ¨è¯¥æŸ¥è¯¢ç»“æœä¸­ï¼Œé»˜è®¤åŒºåŸŸæ˜¯ public ï¼Œå…è®¸çš„æœåŠ¡æ˜¯ dhcpv6-client ã€‚\nåˆ é™¤æœåŠ¡ $ sudo firewall-cmd --remove-service=[æœåŠ¡] --permanent --zone=[åŒºåŸŸ] $ sudo firewall-cmd --reload \u0026ndash;permanent æŒ‡å®šæ°¸ä¹…è§„åˆ™åˆ™ã€‚è¿è¡Œæ—¶çš„ firewalld é…ç½®æ›´æ”¹æ˜¯ä¸´æ—¶æ€§çš„ï¼Œå½“ä½ é‡æ–°å¯åŠ¨ openSUSE æˆ– firewalld æ—¶ï¼Œå®ƒä»¬å°±ä¼šæ¶ˆå¤±ã€‚è€Œæ°¸ä¹…è§„åˆ™åˆ™ä¸å—å½±å“ã€‚\næ·»åŠ æœåŠ¡ $ sudo firewall-cmd --add-service=[æœåŠ¡] --permanent --zone=[åŒºåŸŸ] $ sudo firewall-cmd --reload sudo è®¸å¤šå‘½ä»¤å’Œç³»ç»Ÿå®ç”¨ç¨‹åºéƒ½éœ€è¦ä»¥ root èº«ä»½è¿è¡Œæ‰èƒ½æ‰§è¡Œã€‚ä¸ºäº†ç¡®ä¿å®‰å…¨å’Œé¿å…å‘ç”Ÿæ„å¤–è¿è¡Œå±é™©å‘½ä»¤ï¼Œé€šå¸¸å»ºè®®ä¸è¦ç›´æ¥ä»¥ root èº«ä»½ç™»å½•ã€‚å»ºè®®çš„åšæ³•æ˜¯ä»¥éç‰¹æƒçš„æ™®é€šç”¨æˆ·èº«ä»½å·¥ä½œï¼Œå¹¶ä½¿ç”¨ sudo å‘½ä»¤æ¥è¿è¡Œéœ€è¦è¾ƒé«˜ç‰¹æƒçš„å‘½ä»¤ã€‚\nåœ¨ SUSE Linux Enterprise Server ä¸Šï¼Œsudo é»˜è®¤é…ç½®ä¸ su çš„å·¥ä½œæ–¹å¼ç±»ä¼¼ã€‚ä½†æ˜¯ï¼Œsudo å¯è®©ç”¨æˆ·ä»¥é«˜åº¦å¯é…ç½®çš„æ–¹å¼ä½¿ç”¨ä»»ä½•å…¶ä»–ç”¨æˆ·çš„ç‰¹æƒæ¥è¿è¡Œå‘½ä»¤ã€‚è¿™æ ·ï¼Œä¾¿å¯ä¸ºæŸäº›ç”¨æˆ·å’Œç»„æŒ‡æ´¾å…·æœ‰ç‰¹å®šç‰¹æƒçš„è§’è‰²ã€‚ä¸¾ä¾‹æ¥è¯´ï¼Œå¯ä»¥å…è®¸ç»„ users çš„æˆå‘˜ä½¿ç”¨ wilber çš„ç‰¹æƒè¿è¡Œå‘½ä»¤ã€‚é€šè¿‡ç¦æ­¢æŒ‡å®šä»»ä½•å‘½ä»¤é€‰é¡¹ï¼Œå¯ä»¥è¿›ä¸€æ­¥é™åˆ¶å¯¹å‘½ä»¤çš„æƒé™ã€‚è™½ç„¶ su å§‹ç»ˆéœ€è¦ root å£ä»¤æ‰èƒ½ä½¿ç”¨ PAM è¿›è¡Œèº«ä»½éªŒè¯ï¼Œä½†æ˜¯æ‚¨å¯ä»¥å°† sudo é…ç½®ä¸ºä½¿ç”¨æ‚¨è‡ªå·±çš„èº«ä»½å‡­è¯è¿›è¡Œèº«ä»½éªŒè¯ã€‚è¿™æ ·å°±ä¸éœ€è¦å…±äº« root å£ä»¤ï¼Œä»è€Œæé«˜äº†å®‰å…¨æ€§ã€‚\nsudo åŸºæœ¬ç”¨æ³• è™½ç„¶ sudo ç®€å•æ˜“ç”¨ï¼ŒåŠŸèƒ½å´ååˆ†å¼ºå¤§ã€‚\nè¿è¡Œå•ä¸ªå‘½ä»¤ ä»¥æ™®é€šç”¨æˆ·èº«ä»½ç™»å½•åï¼Œæ‚¨å¯ä»¥åœ¨å‘½ä»¤å‰åŠ ä¸Š sudo ä»¥ root èº«ä»½è¿è¡Œä»»ä½•å‘½ä»¤ã€‚æŒ‰ç…§æç¤ºè¾“å…¥å£ä»¤åï¼Œå¦‚æœèº«ä»½éªŒè¯æˆåŠŸï¼Œæ‚¨ä¾¿èƒ½ä»¥ root èº«ä»½è¿è¡Œå‘½ä»¤ï¼š\n# id -un å‘½ä»¤ä¼šæ‰“å°å½“å‰ç”¨æˆ·çš„ç™»å½•å $ id -un tux # åœ¨è¾“å…¥è¿‡ç¨‹ä¸­ä¸ä¼šæ˜¾ç¤ºå£ä»¤ï¼Œæ— è®ºæ˜¯æ˜æ–‡è¿˜æ˜¯å¯†æ–‡å‡ä¸æ˜¾ç¤ºã€‚  $ sudo id -un root\u0026#39;s password: root # åªæœ‰ä»¥ sudo å¼€å¤´çš„å‘½ä»¤æ‰ä¼šä½¿ç”¨è¾ƒé«˜çš„ç‰¹æƒè¿è¡Œã€‚å¦‚æœæ˜¯ä¸å¸¦ sudo å‰ç¼€çš„ç›¸åŒå‘½ä»¤ï¼Œä»ä¼šä½¿ç”¨å½“å‰ç”¨æˆ·çš„ç‰¹æƒè¿è¡Œã€‚  $ id -un tux # åœ¨é™å®šæ—¶é—´å†…ï¼Œæ‚¨æ— éœ€å†æ¬¡è¾“å…¥ root å£ä»¤ã€‚  $ sudo id -un root I/O é‡å®šå‘çš„å·¥ä½œæ–¹å¼ä¸æ‚¨é¢„æœŸçš„å¯èƒ½ä¸åŒï¼š\n$ sudo echo s \u0026gt; /proc/sysrq-trigger bash: /proc/sysrq-trigger: Permission denied $ sudo cat \u0026lt; /proc/1/maps bash: /proc/1/maps: Permission denied åªæœ‰ echo/cat äºŒè¿›åˆ¶ä¼šä½¿ç”¨è¾ƒé«˜ç‰¹æƒè¿è¡Œï¼Œé‡å®šå‘åˆ™ç”±ç”¨æˆ·å¤–å£³ä½¿ç”¨ç”¨æˆ·ç‰¹æƒæ‰§è¡Œã€‚æ‚¨å¯ä»¥æŒ‰å¯åŠ¨å¤–å£³ä¸­æ‰€è¿°å¯åŠ¨å¤–å£³ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ dd å®ç”¨ç¨‹åºæ¥å¯åŠ¨ï¼š\n$ echo s | sudo dd of=/proc/sysrq-trigger $ sudo dd if=/proc/1/maps | cat å¯åŠ¨å¤–å£³ å¿…é¡»åœ¨æ¯æ¡å‘½ä»¤å‰åŠ ä¸Š sudo å¯èƒ½å¾ˆç¹çã€‚è™½ç„¶å¯ä»¥å°†å¤–å£³æŒ‡å®šä¸ºå‘½ä»¤ sudo bashï¼Œä½†è¿˜æ˜¯å»ºè®®æ‚¨ä½¿ç”¨ä»¥ä¸‹å…¶ä¸­ä¸€ç§å†…ç½®æœºåˆ¶æ¥å¯åŠ¨å¤–å£³ï¼š\n  sudo -s (\u0026lt;å‘½ä»¤\u0026gt;)\nå¯åŠ¨ SHELL ç¯å¢ƒå˜é‡æ‰€æŒ‡å®šçš„å¤–å£³æˆ–ç›®æ ‡ç”¨æˆ·çš„é»˜è®¤å¤–å£³ã€‚å¦‚æœç»™å®šäº†å‘½ä»¤ï¼Œåˆ™ä¼šå°†è¯¥å‘½ä»¤ä¼ é€’ç»™å¤–å£³ï¼ˆä½¿ç”¨ -c é€‰é¡¹ï¼‰ï¼Œå¦åˆ™å¤–å£³ä¼šä»¥äº¤äº’æ¨¡å¼è¿è¡Œã€‚\n$ sudo -s root's password: $ exit   sudo -i (\u0026lt;å‘½ä»¤\u0026gt;)\n  ä¸ -s ç±»ä¼¼ï¼Œä½†æ˜¯ä¼šå°†å¤–å£³å¯åŠ¨ä¸ºç™»å½•å¤–å£³ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œç³»ç»Ÿä¼šå¯¹å¤–å£³çš„å¯åŠ¨æ–‡ä»¶ï¼ˆ.profile ç­‰ï¼‰è¿›è¡Œå¤„ç†ï¼Œå¹¶ä¼šå°†å½“å‰çš„å·¥ä½œç›®å½•è®¾ç½®ä¸ºç›®æ ‡ç”¨æˆ·çš„ä¸»ç›®å½•ã€‚\n$ sudo -i root's password: $ exit   ç¯å¢ƒå˜é‡ é»˜è®¤æƒ…å†µä¸‹ï¼Œsudo ä¸ä¼šä¼ æ’­ç¯å¢ƒå˜é‡ï¼š\n$ ENVVAR=test env | grep ENVVAR ENVVAR=test $ ENVVAR=test sudo env | grep ENVVAR root's password: $ è¾“å‡ºä¸ºç©ºå³è¡¨æ˜åœ¨ä½¿ç”¨ sudo è¿è¡Œçš„å‘½ä»¤çš„ç¯å¢ƒä¸­ä¸å­˜åœ¨ç¯å¢ƒå˜é‡ ENVVARã€‚\næ­¤è¡Œä¸ºå¯é€šè¿‡ env_reset é€‰é¡¹è¿›è¡Œæ›´æ”¹ï¼Œè¯·å‚è§ä¸‹æ–‡æœ‰ç”¨çš„æ ‡å¿—å’Œé€‰é¡¹ã€‚\né…ç½® sudo sudo æ˜¯ä¸€ä¸ªéå¸¸çµæ´»çš„å·¥å…·ï¼Œæä¾›å„ç§é…ç½®é€‰é¡¹ã€‚\næ³¨æ„ï¼šå¦‚æœæ‚¨ä¸å°å¿ƒå°†è‡ªå·±é”å®šåœ¨ sudo ä¹‹å¤–ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ su - åŠ root å£ä»¤æ¥è·å– root å¤–å£³ã€‚è¦ä¿®å¤è¯¥é”™è¯¯ï¼Œè¯·è¿è¡Œ visudoã€‚\nç¼–è¾‘é…ç½®æ–‡ä»¶ sudo çš„ä¸»è¦ç­–ç•¥é…ç½®æ–‡ä»¶ä¸º /etc/sudoersã€‚å¦‚æœæ­¤æ–‡ä»¶ä¸­å­˜åœ¨é”™è¯¯ï¼Œæ‚¨å¯èƒ½ä¾¿ä¼šæ— æ³•è¿›å…¥ç³»ç»Ÿï¼Œå› æ­¤å¼ºçƒˆå»ºè®®æ‚¨ä½¿ç”¨ visudo æ¥ç¼–è¾‘é…ç½®æ–‡ä»¶ã€‚æ­¤ä¸¾å¯é˜²æ­¢åŒæ—¶æ›´æ”¹æ‰“å¼€çš„æ–‡ä»¶ï¼Œå¹¶ä¼šåœ¨ä¿å­˜ä¿®æ”¹ä¹‹å‰æ£€æŸ¥è¯­æ³•é”™è¯¯ã€‚\næ‚¨è¿˜å¯ä»¥é€šè¿‡è®¾ç½® EDITOR ç¯å¢ƒå˜é‡æ¥ä½¿ç”¨é™¤ vi ä»¥å¤–çš„ç¼–è¾‘å™¨ï¼ˆä¸è®ºåå­—å¦‚ä½•ï¼‰ï¼Œä¾‹å¦‚ï¼š\n$ sudo EDITOR=/usr/bin/nano visudo ä¸è¿‡ï¼Œ/etc/sudoers æ–‡ä»¶æœ¬èº«æ˜¯ç”±ç³»ç»ŸåŒ…æä¾›çš„ï¼Œæ›´æ–°æ—¶è¿™äº›ä¿®æ”¹å¯èƒ½ä¼šå–æ¶ˆã€‚å› æ­¤ï¼Œå»ºè®®æ‚¨å°†è‡ªå®šä¹‰é…ç½®æ”¾åˆ° /etc/sudoers.d/ ç›®å½•ä¸‹çš„æ–‡ä»¶ä¸­ã€‚è¯¥ç›®å½•ä¸‹çš„ä»»ä½•æ–‡ä»¶éƒ½ä¼šè‡ªåŠ¨çº³å…¥ç³»ç»Ÿä¸­ã€‚è¦åœ¨è¯¥å­ç›®å½•ä¸‹åˆ›å»ºæˆ–ç¼–è¾‘æ–‡ä»¶ï¼Œè¯·è¿è¡Œï¼š\nsudo visudo -f /etc/sudoers.d/NAME æˆ–è€…ï¼Œä½¿ç”¨å…¶ä»–ç¼–è¾‘å™¨ï¼ˆä¾‹å¦‚ nanoï¼‰ï¼š\nsudo EDITOR=/usr/bin/nano visudo -f /etc/sudoers.d/NAME æ³¨æ„ï¼š/etc/sudoers ä¸­çš„ #includedir å‘½ä»¤ï¼ˆç”¨äº /etc/sudoers.dï¼‰ä¼šå¿½ç•¥ä»¥ ~ï¼ˆæ³¢æµªå·ï¼‰ç»“å°¾æˆ–åŒ…å« .ï¼ˆç‚¹ï¼‰çš„æ–‡ä»¶ã€‚\nå…³äº visudo å‘½ä»¤çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·è¿è¡Œ man 8 visudoã€‚\nsudoers åŸºæœ¬é…ç½®è¯­æ³• åœ¨ sudoers é…ç½®æ–‡ä»¶ä¸­ï¼Œæœ‰ä¸¤ç§ç±»å‹çš„é€‰é¡¹ï¼šå­—ç¬¦ä¸²å’Œæ ‡å¿—ã€‚å­—ç¬¦ä¸²å¯ä»¥åŒ…å«ä»»ä½•å€¼ï¼Œè€Œæ ‡å¿—åˆ™åªèƒ½åœ¨â€œONâ€æˆ–â€œOFFâ€ä¹‹é—´åˆ‡æ¢ã€‚sudoers é…ç½®æ–‡ä»¶æœ€é‡è¦çš„è¯­æ³•æ„é€ ä¸ºï¼š\n# Everything on a line after a # gets ignored, Defaults !insults # Disable the insults flag Defaults env_keep += \u0026quot;DISPLAY HOME\u0026quot; # Add DISPLAY and HOME to env_keep tux ALL = NOPASSWD: /usr/bin/frobnicate, PASSWD: /usr/bin/journalctl  #include å’Œ #includedir è¿™ä¸¤ä¸ªæ™®é€šå‘½ä»¤ä¾‹å¤–ã€‚å…¶åè·Ÿæ•°å­—ï¼Œç”¨äºæŒ‡å®š UIDã€‚ å»é™¤ ! å¯å°†æŒ‡å®šçš„æ ‡å¿—è®¾ç½®ä¸ºâ€œONâ€ã€‚  æœ‰ç”¨çš„æ ‡å¿—å’Œé€‰é¡¹\n   é€‰é¡¹åç§° è¯´æ˜ ç¤ºä¾‹     targetpw æ­¤æ ‡å¿—æ§åˆ¶è°ƒç”¨ç”¨æˆ·æ˜¯éœ€è¦è¾“å…¥ç›®æ ‡ç”¨æˆ·ï¼ˆä¾‹å¦‚ rootï¼‰çš„å£ä»¤ (ON) è¿˜æ˜¯éœ€è¦è¾“å…¥è°ƒç”¨ç”¨æˆ·çš„å£ä»¤ (OFF)ã€‚ Defaults targetpw # Turn targetpw flag ON   rootpw å¦‚æœè®¾ç½®äº†è¯¥é€‰é¡¹ï¼Œsudo ä¼šæç¤ºè¾“å…¥ root å£ä»¤ï¼Œè€Œéç›®æ ‡ç”¨æˆ·æˆ–è°ƒç”¨è€…çš„å£ä»¤ã€‚é»˜è®¤å€¼ä¸ºâ€œOFFâ€ã€‚ Defaults !rootpw # Turn rootpw flag OFF   env_reset å¦‚æœè®¾ç½®äº†è¯¥é€‰é¡¹ï¼Œsudo ä¼šæ„é€ ä¸€ä¸ªä»…åŒ…å« TERMã€PATHã€HOMEã€MAILã€SHELLã€LOGNAMEã€USERã€USERNAME å’Œ SUDO_* é›†çš„æœ€å°ç¯å¢ƒã€‚æ­¤å¤–ï¼Œä¼šä»è°ƒç”¨ç¯å¢ƒå¯¼å…¥ env_keep ä¸­åˆ—å‡ºçš„å˜é‡ã€‚é»˜è®¤å€¼ä¸ºâ€œONâ€ã€‚ Defaults env_reset # Turn env_reset flag ON   env_keep env_reset æ ‡å¿—è®¾ä¸ºâ€œONâ€æ—¶è¦ä¿ç•™çš„ç¯å¢ƒå˜é‡åˆ—è¡¨ã€‚ # Set env_keep to contain EDITOR and PROMPT Defaults env_keep = \u0026quot;EDITOR PROMPT\u0026quot; Defaults env_keep += \u0026quot;JRE_HOME\u0026quot; # Add JRE_HOME Defaults env_keep -= \u0026quot;JRE_HOME\u0026quot; # Remove JRE_HOME   env_delete env_reset æ ‡å¿—è®¾ä¸ºâ€œOFFâ€æ—¶è¦å»é™¤çš„ç¯å¢ƒå˜é‡åˆ—è¡¨ã€‚ # Set env_delete to contain EDITOR and PROMPT Defaults env_delete = \u0026quot;EDITOR PROMPT\u0026quot; Defaults env_delete += \u0026quot;JRE_HOME\u0026quot; # Add JRE_HOME Defaults env_delete -= \u0026quot;JRE_HOME\u0026quot; # Remove JRE_HOME    è¿˜å¯ä»¥ä½¿ç”¨ Defaults ä»¤ç‰Œä¸ºç”¨æˆ·ã€ä¸»æœºå’Œå‘½ä»¤é›†åˆåˆ›å»ºåˆ«åã€‚å¹¶ä¸”ï¼Œå¯ä»¥ä»…å°†é€‰é¡¹åº”ç”¨åˆ°ç‰¹å®šç”¨æˆ·é›†ã€‚\nå…³äº /etc/sudoers é…ç½®æ–‡ä»¶çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§ man 5 sudoersã€‚\nsudoers ä¸­çš„è§„åˆ™ sudoers é…ç½®ä¸­çš„è§„åˆ™å¯èƒ½ä¼šéå¸¸å¤æ‚ï¼Œå› æ­¤æœ¬èŠ‚ä»…æ¶‰åŠåŸºæœ¬å†…å®¹ã€‚æ¯ä¸ªè§„åˆ™éƒ½éµå¾ªåŸºæœ¬æ¨¡å¼ï¼ˆ[] æ ‡è®°çš„æ˜¯å¯é€‰éƒ¨åˆ†ï¼‰ï¼š\n#Who Where As whom Tag What User_List Host_List = [(User_List)] [NOPASSWD:|PASSWD:] Cmnd_List   User_List\nä¸€ä¸ªæˆ–å¤šä¸ªï¼ˆç”¨ , åˆ†éš”ï¼‰æ ‡è¯†ç¬¦ï¼šç”¨æˆ·åã€æ ¼å¼ä¸º %GROUPNAME çš„ç»„æˆ–æ ¼å¼ä¸º #UID çš„ç”¨æˆ· IDã€‚å¯ä»¥ä½¿ç”¨ ! å‰ç¼€æ¥å–åã€‚\n  Host_List\nä¸€ä¸ªæˆ–å¤šä¸ªï¼ˆç”¨ , åˆ†éš”ï¼‰æ ‡è¯†ç¬¦ï¼šï¼ˆå®Œå…¨é™å®šçš„ï¼‰ä¸»æœºåæˆ– IP åœ°å€ã€‚å¯ä»¥ä½¿ç”¨ ! å‰ç¼€æ¥å–åã€‚Host_List çš„æƒ¯å¸¸é€‰é¡¹ä¸º ALLã€‚\n  NOPASSWD:|PASSWD:\nå¦‚æœç”¨æˆ·åœ¨ NOPASSWD: åé¢è¿è¡Œçš„å‘½ä»¤ä¸ CMDSPEC åŒ¹é…ï¼Œç³»ç»Ÿä¸ä¼šæç¤ºç”¨æˆ·è¾“å…¥å£ä»¤ã€‚\nPASSWD ä¸ºé»˜è®¤é€‰é¡¹ï¼Œä»…å½“ä¸¤ä¸ªé€‰é¡¹ä½äºåŒä¸€è¡Œæ—¶æ‰éœ€è¦æŒ‡å®šå®ƒï¼š\ntux ALL = PASSWD: /usr/bin/foo, NOPASSWD: /usr/bin/bar   Cmnd_List\nä¸€ä¸ªæˆ–å¤šä¸ªï¼ˆç”¨ , åˆ†éš”ï¼‰åŒºåˆ†ç¬¦ï¼šå¯æ‰§è¡Œæ–‡ä»¶çš„è·¯å¾„ï¼Œåè·Ÿå…è®¸ä½¿ç”¨çš„è‡ªå˜é‡æˆ–ä»€ä¹ˆä¹Ÿä¸è·Ÿã€‚\n/usr/bin/foo # Anything allowed /usr/bin/foo bar # Only \u0026quot;/usr/bin/foo bar\u0026quot; allowed /usr/bin/foo \u0026quot;\u0026quot; # No arguments allowed   ALL å¯ä»¥ç”¨ä½œ User_Listã€Host_List å’Œ Cmnd_Listã€‚\nå…è®¸ tux åœ¨æ— éœ€è¾“å…¥å£ä»¤çš„æƒ…å†µä¸‹ä»¥ root èº«ä»½è¿è¡Œæ‰€æœ‰å‘½ä»¤çš„è§„åˆ™ï¼š\ntux ALL = NOPASSWD: ALL å…è®¸ tux è¿è¡Œ systemctl restart apache2 çš„è§„åˆ™ï¼š\ntux ALL = /usr/bin/systemctl restart apache2 å…è®¸ tux åœ¨ä¸å¸¦è‡ªå˜é‡çš„æƒ…å†µä¸‹ä»¥ admin èº«ä»½è¿è¡Œ wall çš„è§„åˆ™ï¼š\ntux ALL = (admin) /usr/bin/wall \u0026quot;\u0026quot; è­¦å‘Šï¼šä»¥ä¸‹ç±»å‹çš„æ„é€ \nALL ALL = ALL åœ¨æ²¡æœ‰ Defaults targetpw çš„æƒ…å†µä¸‹åˆ‡å‹¿ä½¿ç”¨ï¼Œå¦åˆ™ä»»ä½•äººéƒ½èƒ½ä»¥ root èº«ä»½è¿è¡Œå‘½ä»¤ã€‚\nå¸¸è§ä½¿ç”¨æƒ…å†µ å°½ç®¡é»˜è®¤é…ç½®å¯¹äºç®€å•çš„è®¾ç½®å’Œæ¡Œé¢ç¯å¢ƒé€šå¸¸å·²ç»å¤Ÿç”¨ï¼Œä½†æ˜¯è‡ªå®šä¹‰é…ç½®éå¸¸æœ‰ç”¨ã€‚\nåœ¨æ— éœ€ root å£ä»¤çš„æƒ…å†µä¸‹ä½¿ç”¨ sudo åœ¨å…·æœ‰ç‰¹æ®Šé™åˆ¶ï¼ˆâ€œç”¨æˆ· X åªèƒ½ä»¥ rootâ€ èº«ä»½è¿è¡Œå‘½ä»¤ Yï¼‰çš„æƒ…å†µä¸‹ï¼Œæ— æ³•å®ç°æ­¤ç›®çš„ã€‚åœ¨å…¶ä»–æƒ…å†µä¸‹ï¼Œè¿˜æ˜¯å»ºè®®è¿›è¡ŒæŸç§åˆ†éš”ã€‚æŒ‰ç…§æƒ¯ä¾‹ï¼Œç»„ wheel çš„æˆå‘˜èƒ½ä»¥ root èº«ä»½è¿è¡Œæ‰€æœ‰å¸¦æœ‰ sudo çš„å‘½ä»¤ã€‚\n  å°†è‡ªå·±æ·»åŠ åˆ° wheel ç»„\nå¦‚æœæ‚¨è‡ªå·±çš„ç”¨æˆ·å¸æˆ·å°šä¸æ˜¯ wheel ç»„çš„æˆå‘˜ï¼Œè¯·æ·»åŠ è¯¥å¸æˆ·ï¼Œå…·ä½“åšæ³•æ˜¯è¿è¡Œ sudo usermod -a -G wheel ç”¨æˆ·åç„¶åæ³¨é”€å¹¶å†æ¬¡ç™»å½•ã€‚è¿è¡Œ groups ç”¨æˆ·åä»¥ç¡®è®¤æ›´æ”¹æ˜¯å¦æˆåŠŸã€‚\n  å°†ä½¿ç”¨è°ƒç”¨ç”¨æˆ·çš„å£ä»¤è¿›è¡Œèº«ä»½éªŒè¯çš„é€‰é¡¹è®¾ä¸ºé»˜è®¤è®¾ç½®ã€‚\nä½¿ç”¨ visudo åˆ›å»ºæ–‡ä»¶ /etc/sudoers.d/userpwå¹¶æ·»åŠ ï¼š\nDefaults !targetpw   é€‰æ‹©æ–°é»˜è®¤è§„åˆ™ã€‚\næ ¹æ®æ˜¯å¦æƒ³è¦ç”¨æˆ·é‡æ–°è¾“å…¥å£ä»¤ï¼Œå–æ¶ˆå¯¹ /etc/sudoers ä¸­ç‰¹å®šè¡Œçš„æ³¨é‡Šï¼Œå¹¶å°†é»˜è®¤è§„åˆ™æ³¨é‡Šæ‰ã€‚\n## Uncomment to allow members of group wheel to execute any command # %wheel ALL=(ALL) ALL ## Same thing without a password # %wheel ALL=(ALL) NOPASSWD: ALL   æé«˜é»˜è®¤è§„åˆ™çš„é™åˆ¶æ€§\nå°† /etc/sudoers ä¸­å…è®¸ä¸€åˆ‡æ“ä½œçš„è§„åˆ™æ³¨é‡Šæ‰æˆ–å»é™¤ï¼š\nALL ALL=(ALL) ALL # WARNING! Only use this together with 'Defaults targetpw'!   è­¦å‘Šï¼šåˆ‡å‹¿æ¼æ‰è¿™ä¸€æ­¥ï¼Œå¦åˆ™ä»»ä½•ç”¨æˆ·éƒ½èƒ½ä»¥ root èº«ä»½æ‰§è¡Œä»»ä½•å‘½ä»¤ã€‚\n  æµ‹è¯•é…ç½®\nå°è¯•ä»¥ wheel çš„æˆå‘˜å’Œéæˆå‘˜èº«ä»½è¿è¡Œ sudoã€‚\n# user tux $ groups users wheel $ sudo id -un tux's password: root # use wilber $ groups users $ sudo id -un wilber is not in the sudoers file. This incident will be reported.   å¯¹ X.Org åº”ç”¨ç¨‹åºä½¿ç”¨ sudo åœ¨ä½¿ç”¨ sudo å¯åŠ¨å›¾å½¢åº”ç”¨ç¨‹åºæ—¶ï¼Œå¯èƒ½ä¼šå‡ºç°ä»¥ä¸‹é”™è¯¯ï¼š\n$ sudo xterm xterm: Xt error: Can't open display: %s xterm: DISPLAY is not set YaST ä¼šé€‰æ‹© ncurses ç•Œé¢è€Œéå›¾å½¢ç•Œé¢ã€‚\nè¦åœ¨é€šè¿‡ sudo å¯åŠ¨çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨ X.Orgï¼Œéœ€è¦ä¼ æ’­ç¯å¢ƒå˜é‡ DISPLAY å’Œ XAUTHORITYã€‚è¦è¿›è¡Œæ­¤é¡¹é…ç½®ï¼Œè¯·åˆ›å»ºæ–‡ä»¶ /etc/sudoers.d/xorgå¹¶æ·»åŠ ä¸‹é¢ä¸€è¡Œï¼š\nDefaults env_keep += \u0026quot;DISPLAY XAUTHORITY\u0026quot; å¦‚å°šæœªè®¾ç½® XAUTHORITY å˜é‡ï¼Œè¯·æŒ‰å¦‚ä¸‹æ–¹å¼è®¾ç½®ï¼š\nexport XAUTHORITY=~/.Xauthority ç°åœ¨ï¼ŒX.Org åº”ç”¨ç¨‹åºä¾¿å¯æ­£å¸¸è¿è¡Œï¼š\nsudo yast2 Zypper Zypper æ˜¯ç”¨äºå®‰è£…ã€æ›´æ–°å’Œå»é™¤åŒ…çš„å‘½ä»¤è¡ŒåŒ…ç®¡ç†å™¨ã€‚å®ƒè¿˜å¯ç®¡ç†å‚¨å­˜åº“ã€‚è¿™ä¸€ç‚¹å¯¹äºå®Œæˆè¿œç¨‹è½¯ä»¶ç®¡ç†ä»»åŠ¡æˆ–ä»å¤–å£³è„šæœ¬ç®¡ç†è½¯ä»¶å°¤å…¶æœ‰ç”¨ã€‚\nä¸€èˆ¬ä½¿ç”¨ Zypper çš„å¸¸ç”¨è¯­æ³•ä¸ºï¼š\nzypper [--global-options] COMMAND [--command-options] [arguments] æœ‰å…³å¸¸è§„é€‰é¡¹å’Œæ‰€æœ‰å‘½ä»¤çš„åˆ—è¡¨ï¼Œè¯·å‚è§ zypper helpã€‚è¦è·å–æœ‰å…³ç‰¹å®šå‘½ä»¤çš„å¸®åŠ©ï¼Œè¯·é”®å…¥ zypper help å‘½ä»¤ã€‚\n  Zypper å‘½ä»¤\næ‰§è¡Œ Zypper æœ€ç®€å•çš„æ–¹å¼æ˜¯ï¼Œé”®å…¥å…¶åç§°åè·Ÿä¸€ä¸ªå‘½ä»¤ã€‚ä¾‹å¦‚ï¼Œè¦å°†æ‰€æœ‰éœ€è¦çš„å¢è¡¥ç¨‹åºåº”ç”¨äºç³»ç»Ÿï¼Œè¯·ä½¿ç”¨ï¼š\n$ sudo zypper patch   å…¨å±€é€‰é¡¹\næ­¤å¤–ï¼Œæ‚¨è¿˜å¯ä»¥é€‰æ‹©ä½¿ç”¨ä¸€ä¸ªæˆ–å¤šä¸ªå…¨å±€é€‰é¡¹ï¼Œåªéœ€åœ¨å‘½ä»¤å‰é¢é”®å…¥å®ƒä»¬å³å¯ï¼š\n$ sudo zypper --non-interactive patch åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œé€‰é¡¹ --non-interactive è¡¨ç¤ºåœ¨ä¸è¯¢é—®ä»»ä½•é—®é¢˜çš„æƒ…å†µä¸‹è¿è¡Œå‘½ä»¤ï¼ˆè‡ªåŠ¨åº”ç”¨é»˜è®¤å›ç­”ï¼‰ã€‚\n  å‘½ä»¤ç‰¹å®šçš„é€‰é¡¹\nè¦ä½¿ç”¨ç‰¹å®šäºæŸä¸ªå‘½ä»¤çš„é€‰é¡¹ï¼Œè¯·ç´§æ¥åœ¨è¯¥å‘½ä»¤åé¢é”®å…¥è¿™äº›é€‰é¡¹ï¼š\n$ sudo zypper patch --auto-agree-with-licenses åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œ--auto-agree-with-licenses ç”¨äºå°†æ‰€æœ‰éœ€è¦çš„å¢è¡¥ç¨‹åºåº”ç”¨äºç³»ç»Ÿï¼Œä¸è¦æ±‚æ‚¨ç¡®è®¤ä»»ä½•è®¸å¯æ¡æ¬¾ï¼Œè€Œæ˜¯è‡ªåŠ¨æ¥å—è®¸å¯æ¡æ¬¾ã€‚\n  è‡ªå˜é‡\næŸäº›å‘½ä»¤éœ€è¦ä¸€ä¸ªæˆ–å¤šä¸ªè‡ªå˜é‡ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ install å‘½ä»¤æ—¶ï¼Œéœ€è¦æŒ‡å®šæ‚¨è¦å®‰è£…çš„ä¸€ä¸ªæˆ–å¤šä¸ªåŒ…ï¼š\n$ sudo zypper install mplayer æŸäº›é€‰é¡¹è¿˜éœ€è¦å•ä¸ªè‡ªå˜é‡ã€‚ç”¨ä»¥ä¸‹å‘½ä»¤å¯åˆ—å‡ºæ‰€æœ‰å·²çŸ¥æ¨¡å¼ï¼š\n$ zypper search -t pattern   æ‚¨å¯ä»¥ç»„åˆä¸Šè¿°æ‰€æœ‰æ¨¡å¼ã€‚ä¾‹å¦‚ï¼Œä¸‹é¢çš„å‘½ä»¤åœ¨å†—é•¿æ¨¡å¼ä¸‹è¿è¡Œæ—¶å°†å®‰è£… mc and vim åŒ…ï¼ˆæ¥è‡ª factory å‚¨å­˜åº“ï¼‰ï¼š\n$ sudo zypper -v install --from factory mc vim --from é€‰é¡¹ç¡®ä¿äº†åœ¨ä»æŒ‡å®šå‚¨å­˜åº“è¯·æ±‚åŒ…æ—¶ä¿ç•™æ‰€æœ‰å‚¨å­˜åº“çš„å¯ç”¨çŠ¶æ€ï¼ˆç”¨äºè§£æä»»ä½•ä¾èµ–é¡¹ï¼‰ã€‚\nå¤šæ•° Zypper å‘½ä»¤éƒ½æœ‰ dry-run é€‰é¡¹ï¼Œå®ƒæ¨¡æ‹Ÿç»™å®šçš„å‘½ä»¤ã€‚å®ƒå¯ç”¨äºæµ‹è¯•ã€‚\n$ sudo zypper remove --dry-run MozillaFirefox Zypper æ”¯æŒ --userdata å­—ç¬¦ä¸²å…¨å±€é€‰é¡¹ã€‚æ‚¨å¯ä»¥ä½¿ç”¨æ­¤é€‰é¡¹æŒ‡å®šä¸€ä¸ªå°†ä¼šå†™å…¥ Zypper çš„æ—¥å¿—æ–‡ä»¶å’Œæ’ä»¶ï¼ˆä¾‹å¦‚ Btrfs æ’ä»¶ï¼‰çš„å­—ç¬¦ä¸²ã€‚å®ƒå¯ä»¥ç”¨äºæ ‡è®°å’Œæ ‡è¯†æ—¥å¿—æ–‡ä»¶ä¸­çš„äº‹åŠ¡ã€‚\n$ sudo zypper --userdata STRING patch ä½¿ç”¨ Zypper å®‰è£…å’Œåˆ é™¤è½¯ä»¶ è¦å®‰è£…æˆ–å»é™¤åŒ…ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\n$ sudo zypper install PACKAGE_NAME$ sudo zypper remove PACKAGE_NAME è­¦å‘Šï¼šä¸è¦å»é™¤å¿…éœ€çš„ç³»ç»ŸåŒ…ï¼Œä¾‹å¦‚ glibc ã€zypperã€kernelã€‚å¦‚æœå»é™¤è¿™äº›åŒ…ï¼Œç³»ç»Ÿå¯èƒ½ä¼šå˜å¾—ä¸ç¨³å®šï¼Œæˆ–å®Œå…¨åœæ­¢å·¥ä½œã€‚\né€‰æ‹©è¦å®‰è£…æˆ–å»é™¤çš„åŒ… å¯ä»¥ä½¿ç”¨ zypper install å’Œ zypper remove å‘½ä»¤é€šè¿‡å¤šç§æ–¹æ³•æ¥æ‰¾åˆ°åŒ…ã€‚\n  æŒ‰ç¡®åˆ‡çš„åŒ…åç§°\n$ sudo zypper install MozillaFirefox   æŒ‰ç¡®åˆ‡çš„åŒ…åç§°å’Œç‰ˆæœ¬å·\n$ sudo zypper install MozillaFirefox-52.2   æŒ‰å‚¨å­˜åº“åˆ«åå’ŒåŒ…åç§°\n$ sudo zypper install mozilla:MozillaFirefox å…¶ä¸­ mozilla æ˜¯ç”¨äºå®‰è£…çš„å‚¨å­˜åº“åˆ«åã€‚\n  ä½¿ç”¨é€šé…ç¬¦æŒ‰åŒ…åç§°\næ‚¨å¯ä»¥é€‰æ‹©åç§°ä»¥ç‰¹å®šå­—ç¬¦ä¸²å¼€å¤´æˆ–ç»“å°¾çš„æ‰€æœ‰åŒ…ã€‚ä½¿ç”¨é€šé…ç¬¦è¦å°å¿ƒï¼Œç‰¹åˆ«æ˜¯å»é™¤åŒ…çš„æ—¶å€™ã€‚ä»¥ä¸‹å‘½ä»¤å°†å®‰è£…åç§°ä»¥â€œMozâ€å¼€å¤´çš„æ‰€æœ‰åŒ…ï¼š\n$ sudo zypper install 'Moz*' æç¤ºï¼šåœ¨è°ƒè¯•é—®é¢˜æ—¶ï¼Œæ‚¨æœ‰æ—¶éœ€è¦ä¸´æ—¶å®‰è£…å¤§é‡çš„ -debuginfo åŒ…ï¼Œä»¥è·å–æœ‰å…³æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹çš„è¯¦ç»†ä¿¡æ¯ã€‚åœ¨è°ƒè¯•ä¼šè¯å®Œæˆåï¼Œå¦‚æœæ‚¨éœ€è¦æ¸…ç†ç¯å¢ƒï¼Œè¯·è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š\n$ sudo zypper remove '*-debuginfo'   æŒ‰åŠŸèƒ½\nä¾‹å¦‚ï¼Œè¦å®‰è£…ä¸çŸ¥é“åç§°çš„åŒ…ï¼Œè¿™äº›åŠŸèƒ½å°±å¾ˆæœ‰ç”¨ã€‚ä¸‹é¢çš„å‘½ä»¤å°†å®‰è£…åŒ… MozillaFirefoxï¼š\n$ sudo zypper install firefox   æŒ‰åŠŸèƒ½ã€ç¡¬ä»¶ä½“ç³»ç»“æ„æˆ–ç‰ˆæœ¬\n  æ‰€éœ€ç¡¬ä»¶ä½“ç³»ç»“æ„çš„åç§°éœ€è¦è¿½åŠ åœ¨åŠŸèƒ½çš„åé¢ï¼Œä¸¤è€…ä»¥å¥ç‚¹åˆ†éš”ã€‚ä¾‹å¦‚ï¼Œè¦æŒ‡å®š AMD64/Intel 64 ä½“ç³»ç»“æ„ï¼ˆåœ¨ Zypper ä¸­å‘½åä¸º x86_64ï¼‰ï¼Œè¯·ä½¿ç”¨ï¼š\n$ sudo zypper install 'firefox.x86_64'   ç‰ˆæœ¬å¿…é¡»è¿½åŠ åˆ°å­—ç¬¦ä¸²çš„æœ«å°¾ï¼Œå¹¶ä¸”å‰é¢å¿…é¡»å¸¦æœ‰ä¸€ä¸ªè¿ç®—ç¬¦ï¼š\u0026lt;ï¼ˆå°äºï¼‰ã€\u0026lt;=ï¼ˆå°äºç­‰äºï¼‰ã€=ï¼ˆç­‰äºï¼‰ã€\u0026gt;=ï¼ˆå¤§äºç­‰äºï¼‰æˆ– \u0026gt;ï¼ˆå¤§äºï¼‰ã€‚\n$ sudo zypper install 'firefox\u0026gt;=52.2'   è¿˜å¯ä»¥æŒ‡å®šç¡¬ä»¶ä½“ç³»ç»“æ„ä¸ç‰ˆæœ¬ç»„åˆè¦æ±‚ï¼š\n$ sudo zypper install 'firefox.x86_64\u0026gt;=52.2'     æŒ‰ RPM æ–‡ä»¶çš„è·¯å¾„\næ‚¨è¿˜å¯ä»¥æŒ‡å®šåŒ…çš„æœ¬åœ°æˆ–è¿œç¨‹è·¯å¾„ï¼š\n$ sudo zypper install /tmp/install/MozillaFirefox.rpm$ sudo zypper install http://download.example.com/MozillaFirefox.rpm   åŒæ—¶å®‰è£…å’Œå»é™¤åŒ… è¦åŒæ—¶å®‰è£…å’Œå»é™¤åŒ…ï¼Œè¯·ä½¿ç”¨ +/- ä¿®é¥°ç¬¦ã€‚è¦å®‰è£… emacs å¹¶åŒæ—¶å»é™¤ vim ï¼Œè¯·ä½¿ç”¨ï¼š\n$ sudo zypper install emacs -vim è¦å»é™¤ emacs å¹¶åŒæ—¶å®‰è£… vim ï¼Œè¯·ä½¿ç”¨ï¼š\n$ sudo zypper remove emacs +vim ä¸ºé¿å… - å¼€å¤´çš„åŒ…åç§°è¢«è§£é‡Šä¸ºå‘½ä»¤è¡Œé€‰é¡¹ï¼Œè¦å§‹ç»ˆæŠŠå®ƒç”¨ä½œç¬¬äºŒä¸ªè‡ªå˜é‡ã€‚å¦‚æœåšä¸åˆ°è¿™ç‚¹ï¼Œåœ¨å®ƒä¹‹å‰åŠ ä¸Š --ï¼š\n$ sudo zypper install -emacs +vim # Wrong$ sudo zypper install vim -emacs # Correct$ sudo zypper install -- -emacs +vim # Correct$ sudo zypper remove emacs +vim # Correct æ¸…ç†å·²å»é™¤åŒ…çš„ä¾èµ–é¡¹ å¦‚æœæ‚¨æƒ³å°†åœ¨æŒ‡å®šçš„åŒ…å»é™¤åä¸å†éœ€è¦çš„æ‰€æœ‰åŒ…ï¼ˆéšæŒ‡å®šçš„åŒ…ï¼‰è‡ªåŠ¨å»é™¤ï¼Œè¯·ä½¿ç”¨ --clean-deps é€‰é¡¹ï¼š\n$ sudo zypper rm PACKAGE_NAME --clean-deps åœ¨è„šæœ¬ä¸­ä½¿ç”¨ Zypper é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨å®‰è£…æˆ–åˆ é™¤é€‰å®šåŒ…ä¹‹å‰å‘ç”Ÿé—®é¢˜æ—¶ï¼ŒZypper ä¼šè¦æ±‚ç¡®è®¤ã€‚æ‚¨å¯ä»¥ä½¿ç”¨ --non-interactive é€‰é¡¹è¦†ç›–æ­¤è¡Œä¸ºã€‚å¿…é¡»åœ¨å®é™…å‘½ä»¤ï¼ˆinstallã€remove å’Œ patchï¼‰çš„å‰é¢æŒ‡å®šæ­¤é€‰é¡¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\n$ sudo zypper --non-interactive install PACKAGE_NAME è¯¥é€‰é¡¹å…è®¸åœ¨è„šæœ¬å’Œ cron ä»»åŠ¡ä¸­ä½¿ç”¨ Zypperã€‚\nå®‰è£…æˆ–ä¸‹è½½æºåŒ… è¦å®‰è£…æŸä¸ªåŒ…çš„å¯¹åº”æºä»£ç åŒ…ï¼Œè¯·ä½¿ç”¨ï¼š\n$ zypper source-install PACKAGE_NAME ä»¥ root èº«ä»½æ‰§è¡Œæ—¶ï¼ŒæºåŒ…çš„é»˜è®¤å®‰è£…ä½ç½®ä¸º /usr/src/packages/ï¼›ä»¥ç”¨æˆ·èº«ä»½è¿è¡Œæ—¶ï¼Œåˆ™ä¸º ~/rpmbuildã€‚å¯ä»¥åœ¨æœ¬åœ° rpm é…ç½®ä¸­æ›´æ”¹è¿™äº›å€¼ã€‚\nä½¿ç”¨æ­¤å‘½ä»¤è¿˜ä¼šå®‰è£…æŒ‡å®šåŒ…çš„ç‰ˆæœ¬ä¾èµ–é¡¹ã€‚å¦‚æœä¸æƒ³æ‰§è¡Œæ­¤æ“ä½œï¼Œè¯·æ·»åŠ å¼€å…³ -Dï¼š\n$ sudo zypper source-install -D PACKAGE_NAME è¦åªå®‰è£…ç‰ˆæœ¬ä¾èµ–é¡¹ï¼Œè¯·ä½¿ç”¨ -dã€‚\n$ sudo zypper source-install -d PACKAGE_NAME å½“ç„¶ï¼Œåªæœ‰å½“å‚¨å­˜åº“åˆ—è¡¨ä¸­å¯ç”¨äº†å«æœ‰æºåŒ…çš„å‚¨å­˜åº“æ—¶ï¼Œæ‰èƒ½è¿™æ ·åšï¼ˆé»˜è®¤æ·»åŠ ä½†ä¸å¯ç”¨å®ƒï¼‰ã€‚\nå¯ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•æ¥è·å–å‚¨å­˜åº“ä¸­æ‰€æœ‰æºåŒ…çš„åˆ—è¡¨ï¼š\n$ zypper search -t srcpackage æ‚¨ä¹Ÿå¯ä»¥å°†æ‰€æœ‰å·²å®‰è£…è½¯ä»¶åŒ…çš„æºåŒ…ä¸‹è½½åˆ°æœ¬åœ°ç›®å½•ã€‚è¦ä¸‹è½½æºåŒ…ï¼Œè¯·ä½¿ç”¨ï¼š\n$ zypper source-download é»˜è®¤çš„ä¸‹è½½ç›®å½•æ˜¯ /var/cache/zypper/source-downloadã€‚æ‚¨å¯ä»¥ä½¿ç”¨ --directory é€‰é¡¹æ›´æ”¹ä¸‹è½½ç›®å½•ã€‚è‹¥åªæƒ³æ˜¾ç¤ºç¼ºå¤±æˆ–å¤šä½™çš„åŒ…è€Œä¸è¿›è¡Œä¸‹è½½æˆ–åˆ é™¤ä»»ä½•å†…å®¹ï¼Œè¯·ä½¿ç”¨ --status é€‰é¡¹ã€‚è¦åˆ é™¤å¤šä½™çš„æºåŒ…ï¼Œè¯·ä½¿ç”¨ --delete é€‰é¡¹ã€‚è¦ç¦ç”¨åˆ é™¤ï¼Œè¯·ä½¿ç”¨ --no-delete é€‰é¡¹ã€‚\nä»ç¦ç”¨çš„å‚¨å­˜åº“å®‰è£…åŒ… é€šå¸¸ï¼Œæ‚¨åªèƒ½å®‰è£…æˆ–åˆ·æ–°æ¥è‡ªå¯ç”¨çš„å‚¨å­˜åº“çš„åŒ…ã€‚--plus-content æ ‡è®°é€‰é¡¹å¯å¸®åŠ©æ‚¨æŒ‡å®šè¦åˆ·æ–°çš„ã€è¦åœ¨å½“å‰ Zypper ä¼šè¯æœŸé—´æš‚æ—¶å¯ç”¨çš„ï¼Œä»¥åŠè¦åœ¨ä¼šè¯å®Œæˆåç¦ç”¨çš„å‚¨å­˜åº“ã€‚\nä¾‹å¦‚ï¼Œè¦å¯ç”¨å¯ä»¥æä¾›å…¶ä»– -debuginfo æˆ– -debugsource åŒ…çš„å‚¨å­˜åº“ï¼Œè¯·ä½¿ç”¨ --plus-content debugã€‚å¯ä»¥å¤šæ¬¡æŒ‡å®šæ­¤é€‰é¡¹ã€‚\nè¦æš‚æ—¶å¯ç”¨æ­¤ç±»â€œè°ƒè¯•â€å‚¨å­˜åº“ä»¥å®‰è£…ç‰¹å®šçš„ -debuginfo åŒ…ï¼Œè¯·æŒ‰å¦‚ä¸‹æ‰€ç¤ºä½¿ç”¨è¯¥é€‰é¡¹ï¼š\n$ sudo zypper --plus-content debug \\ install \u0026quot;debuginfo(build-id)=eb844a5c20c70a59fc693cd1061f851fb7d046f4\u0026quot; å¯¹äºç¼ºå°‘çš„ debuginfo åŒ…ï¼Œgdb å°†ä¼šæŠ¥å‘Š build-id å­—ç¬¦ä¸²ã€‚\nå®ç”¨ç¨‹åº è¦æ ¡éªŒæ‰€æœ‰ä¾èµ–é¡¹æ˜¯å¦ä»ç„¶æ»¡è¶³ï¼Œå¹¶ä¿®å¤ç¼ºå°‘çš„ä¾èµ–é¡¹ï¼Œè¯·ä½¿ç”¨ï¼š\n$ zypper verify é™¤äº†ä¾èµ–é¡¹å¿…é¡»æ»¡è¶³å¤–ï¼ŒæŸäº›åŒ…è¿˜â€œæ¨èâ€å…¶ä»–åŒ…ã€‚åªæœ‰åœ¨å®é™…å¯ç”¨å¹¶å¯å®‰è£…æ—¶æ‰ä¼šå®‰è£…è¿™äº›æ¨èåŒ…ã€‚å¦‚æœæ¨èçš„åŒ…åœ¨æ¨èå®ƒä»¬çš„åŒ…å·²å®‰è£…ï¼ˆé€šè¿‡æ·»åŠ å…¶ä»–åŒ…æˆ–ç¡¬ä»¶ï¼‰ä¹‹åæ‰å¯ç”¨ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\n$ sudo zypper install-new-recommends æ­¤å‘½ä»¤åœ¨æ’å…¥ç½‘ç»œæ‘„åƒå¤´æˆ– Wi-Fi è®¾å¤‡åéå¸¸æœ‰ç”¨ã€‚å¦‚æœå¯ç”¨ï¼Œå®ƒå°†å®‰è£…è®¾å¤‡é©±åŠ¨ç¨‹åºå’Œç›¸å…³è½¯ä»¶ã€‚åªæœ‰åœ¨æ»¡è¶³ç‰¹å®šç¡¬ä»¶ä¾èµ–é¡¹åï¼Œæ‰å¯å®‰è£…é©±åŠ¨ç¨‹åºå’Œç›¸å…³è½¯ä»¶ã€‚\nä½¿ç”¨ Zypper æ›´æ–°è½¯ä»¶ ç”¨ Zypper æ›´æ–°è½¯ä»¶æœ‰ä¸‰ç§æ–¹å¼ï¼šå®‰è£…åŒ…ã€å®‰è£…åŒ…çš„æ–°ç‰ˆæœ¬æˆ–æ›´æ–°æ•´ä¸ªåˆ†å‘åŒ…ã€‚æœ€åä¸€ç§æ–¹å¼å¯é€šè¿‡ zypper dist-upgrade æ¥å®ç°ã€‚\nå®‰è£…å…¨éƒ¨æ‰€éœ€çš„å¢è¡¥ç¨‹åº è¦å®‰è£…æ‰€æœ‰é€‚ç”¨äºæ‚¨ç³»ç»Ÿçš„æ­£å¼å‘å¸ƒçš„å¢è¡¥ç¨‹åºï¼Œè¯·è¿è¡Œï¼š\n$ sudo zypper patch ç³»ç»Ÿå°†ä¼šæ£€æŸ¥æ‚¨è®¡ç®—æœºä¸Šé…ç½®çš„å‚¨å­˜åº“ä¸­æä¾›çš„æ‰€æœ‰å¢è¡¥ç¨‹åºæ˜¯å¦ä¸æ‚¨çš„å®‰è£…ç›¸å…³ã€‚å¦‚æœç›¸å…³ï¼ˆæœªåˆ†ä¸ºå¯é€‰æˆ–åŠŸèƒ½ç±»åˆ«ï¼‰ï¼Œåˆ™ä¼šç«‹å³å®‰è£…è¿™äº›å¢è¡¥ç¨‹åºã€‚\nå¦‚æœå³å°†å®‰è£…çš„å¢è¡¥ç¨‹åºæ‰€åŒ…å«çš„æ›´æ”¹è¦æ±‚é‡å¼•å¯¼ç³»ç»Ÿï¼Œæ‚¨ä¼šåœ¨é‡å¼•å¯¼å‰æ”¶åˆ°è­¦å‘Šã€‚\nå•çº¯ä½¿ç”¨ zypper patch å‘½ä»¤ä¸ä¼šåº”ç”¨æ¥è‡ªç¬¬ä¸‰æ–¹å‚¨å­˜åº“çš„åŒ…ã€‚è¦åŒæ—¶æ›´æ–°ç¬¬ä¸‰æ–¹å‚¨å­˜åº“ï¼Œè¯·ä½¿ç”¨ with-update å‘½ä»¤é€‰é¡¹ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š\n$ sudo zypper patch --with update è¦é¢å¤–å®‰è£…å¯é€‰å¢è¡¥ç¨‹åºï¼Œè¯·ä½¿ç”¨ï¼š\n$ sudo zypper patch --with-optional è¦å®‰è£…ä¸ç‰¹å®š Bugzilla é—®é¢˜ç›¸å…³çš„æ‰€æœ‰å¢è¡¥ç¨‹åºï¼Œè¯·ä½¿ç”¨ï¼š\n$ sudo zypper patch --bugzilla=NUMBER è¦å®‰è£…ä¸ç‰¹å®š CVE æ•°æ®åº“é¡¹ç›¸å…³çš„æ‰€æœ‰å¢è¡¥ç¨‹åºï¼Œè¯·ä½¿ç”¨ï¼š\n$ sudo zypper patch --cve=NUMBER ä¾‹å¦‚ï¼Œè¦å®‰è£… CVE ç¼–å·ä¸º CVE-2010-2713 çš„å®‰å…¨å¢è¡¥ç¨‹åºï¼Œè¯·æ‰§è¡Œï¼š\n$ sudo zypper patch --cve=CVE-2010-2713 å¦‚æœåªæƒ³å®‰è£…å½±å“ Zypper å’ŒåŒ…ç®¡ç†æœ¬èº«çš„å¢è¡¥ç¨‹åºï¼Œè¯·ä½¿ç”¨ï¼š\n$ sudo zypper patch --updatestack-only è¯·è®°ä½ï¼Œå¦‚æœæ‚¨ä½¿ç”¨äº† updatestack-only å‘½ä»¤é€‰é¡¹ï¼Œå°†ä¼šä¸¢å¼ƒåŸæœ¬è¿˜ä¼šæ›´æ–°å…¶ä»–å‚¨å­˜åº“çš„å…¶ä»–å‘½ä»¤é€‰é¡¹ã€‚\nåˆ—å‡ºå¢è¡¥ç¨‹åº ä¸ºäº†è®©æ‚¨ç¡®å®šå¢è¡¥ç¨‹åºæ˜¯å¦å¯ç”¨ï¼ŒZypper å…è®¸æ‚¨æŸ¥çœ‹ä»¥ä¸‹ä¿¡æ¯ï¼š\n  æ‰€éœ€å¢è¡¥ç¨‹åºçš„æ•°ç›®\nè¦åˆ—å‡ºæ‰€éœ€å¢è¡¥ç¨‹åºï¼ˆé€‚ç”¨äºæ‚¨çš„ç³»ç»Ÿä½†å°šæœªå®‰è£…çš„å¢è¡¥ç¨‹åºï¼‰çš„æ•°ç›®ï¼Œè¯·ä½¿ç”¨ patch-checkï¼š\n$ zypper patch-checkLoading repository data...Reading installed packages...5 patches needed (1 security patch) å¯ä»¥ç»“åˆ --updatestack-only é€‰é¡¹ä½¿ç”¨æ­¤å‘½ä»¤ï¼Œä»¥ä¾¿ä»…åˆ—å‡ºå½±å“ Zypper å’ŒåŒ…ç®¡ç†æœ¬èº«çš„å¢è¡¥ç¨‹åºã€‚\n  æ‰€éœ€å¢è¡¥ç¨‹åºçš„åˆ—è¡¨\nè¦åˆ—å‡ºå…¨éƒ¨æ‰€éœ€çš„å¢è¡¥ç¨‹åºï¼ˆé€‚ç”¨äºæ‚¨çš„ç³»ç»Ÿä½†å°šæœªå®‰è£…çš„å¢è¡¥ç¨‹åºï¼‰ï¼Œè¯·ä½¿ç”¨ list-patchesï¼š\n$ zypper list-patchesLoading repository data...Reading installed packages...Repository | Name | Version | Category | Status | Summary---------------+-------------+---------+----------+---------+---------SLES12-Updates | SUSE-2014-8 | 1 | security | needed | openssl: Update for OpenSSL   æ‰€æœ‰å¢è¡¥ç¨‹åºçš„åˆ—è¡¨\nè¦åˆ—å‡ºå¯ç”¨çš„æ‰€æœ‰å¢è¡¥ç¨‹åºï¼Œè€Œä¸ç®¡å®ƒä»¬æ˜¯å¦å·²å®‰è£…æˆ–é€‚ç”¨äºæ‚¨çš„å®‰è£…ï¼Œè¯·ä½¿ç”¨ zypper patchesã€‚\nè¿˜å¯ä»¥åˆ—å‡ºå¹¶å®‰è£…ä¸ç‰¹å®šé—®é¢˜ç›¸å…³çš„å¢è¡¥ç¨‹åºã€‚è¦åˆ—å‡ºç‰¹å®šçš„å¢è¡¥ç¨‹åºï¼Œè¯·ä½¿ç”¨å¸¦ä»¥ä¸‹é€‰é¡¹çš„ zypper list-patches å‘½ä»¤ï¼š\n  æŒ‰ Bugzilla é—®é¢˜\nè¦åˆ—å‡ºä¸ Bugzilla é—®é¢˜ç›¸å…³çš„å…¨éƒ¨æ‰€éœ€å¢è¡¥ç¨‹åºï¼Œè¯·ä½¿ç”¨ --bugzilla é€‰é¡¹ã€‚\nè¦åˆ—å‡ºé’ˆå¯¹ç‰¹å®š Bug çš„å¢è¡¥ç¨‹åºï¼Œæ‚¨ä¹Ÿå¯ä»¥æŒ‡å®š Bug ç¼–å·ï¼š--bugzilla=ç¼–å·ã€‚è¦æœç´¢ä¸å¤šä¸ª Bugzilla é—®é¢˜ç›¸å…³çš„å¢è¡¥ç¨‹åºï¼Œè¯·åœ¨ bug ç¼–å·ä¹‹é—´æ·»åŠ é€—å·ï¼Œä¾‹å¦‚ï¼š\n$ zypper list-patches --bugzilla=972197,956917   æŒ‰ CVE ç¼–å·\nè¦åˆ—å‡ºä¸ CVEï¼ˆå…¬å…±æ¼æ´å’ŒæŠ«éœ²ï¼‰æ•°æ®åº“ä¸­æŸä¸ªé¡¹ç›¸å…³çš„å…¨éƒ¨æ‰€éœ€å¢è¡¥ç¨‹åºï¼Œè¯·ä½¿ç”¨ --cve é€‰é¡¹ã€‚\nè¦åˆ—å‡ºé’ˆå¯¹ç‰¹å®š CVE æ•°æ®åº“é¡¹çš„å¢è¡¥ç¨‹åºï¼Œæ‚¨ä¹Ÿå¯ä»¥æŒ‡å®š CVE ç¼–å·ï¼š--cve=*ç¼–å·*ã€‚è¦æœç´¢ä¸å¤šä¸ª CVE æ•°æ®åº“é¡¹ç›¸å…³çš„å¢è¡¥ç¨‹åºï¼Œè¯·åœ¨ CVE ç¼–å·ä¹‹é—´æ·»åŠ é€—å·ï¼Œä¾‹å¦‚ï¼š\n$ zypper list-patches --bugzilla=CVE-2016-2315,CVE-2016-2324     è¦åˆ—å‡ºæ‰€æœ‰å¢è¡¥ç¨‹åºè€Œä¸ç®¡æ˜¯å¦éœ€è¦å®‰è£…å®ƒä»¬ï¼Œè¯·å¦å¤–ä½¿ç”¨ --all é€‰é¡¹ã€‚ä¾‹å¦‚ï¼Œè¦åˆ—å‡ºæŒ‡æ´¾æœ‰ CVE ç¼–å·çš„æ‰€æœ‰å¢è¡¥ç¨‹åºï¼Œè¯·ä½¿ç”¨ï¼š\n$ zypper list-patches --all --cveIssue | No. | Patch | Category | Severity | Status------+---------------+-------------------+-------------+-----------+----------cve | CVE-2015-0287 | SUSE-SLE-Module.. | recommended | moderate | neededcve | CVE-2014-3566 | SUSE-SLE-SERVER.. | recommended | moderate | not needed[...] å®‰è£…æ–°çš„åŒ…ç‰ˆæœ¬ å¦‚æœæŸä¸ªå®‰è£…æºåªåŒ…å«æ–°åŒ…ï¼Œä½†æœªæä¾›å¢è¡¥ç¨‹åºï¼Œåˆ™ zypper patch ä¸ä¼šäº§ç”Ÿä»»ä½•ä½œç”¨ã€‚è¦ä½¿ç”¨å¯ç”¨çš„è¾ƒæ–°ç‰ˆæœ¬æ›´æ–°æ‰€æœ‰å·²å®‰è£…çš„åŒ…ï¼ˆåŒæ—¶è¿˜è¦ä¿æŒç³»ç»Ÿå®Œæ•´æ€§ï¼‰ï¼Œè¯·ä½¿ç”¨ï¸°\n$ sudo zypper update è¦æ›´æ–°ä¸ªåˆ«åŒ…ï¼Œè¯·ç”¨æ›´æ–°æˆ–å®‰è£…å‘½ä»¤æŒ‡å®šåŒ…ï¼š\n$ sudo zypper update PACKAGE_NAME$ sudo zypper install PACKAGE_NAME å¯ä½¿ç”¨æ­¤å‘½ä»¤æ¥è·å–æ‰€æœ‰æ–°çš„å¯å®‰è£…åŒ…çš„åˆ—è¡¨ï¼š\n$ zypper list-updates è¯·æ³¨æ„ï¼Œæ­¤å‘½ä»¤åªä¼šåˆ—å‡ºç¬¦åˆä»¥ä¸‹å‡†åˆ™çš„åŒ…ï¸°\n ä¸å·²å®‰è£…çš„åŒ…æ‹¥æœ‰ç›¸åŒçš„ä¾›åº”å•†ï¼Œ ç”±è‡³å°‘ä¸å·²å®‰è£…åŒ…æ‹¥æœ‰ç›¸åŒä¼˜å…ˆçº§çš„å‚¨å­˜åº“æä¾›ï¼Œ å¯å®‰è£…ï¼ˆæ»¡è¶³æ‰€æœ‰ä¾èµ–é¡¹ï¼‰ã€‚  æ‰€æœ‰æ–°çš„å¯ç”¨åŒ…ï¼ˆæ— è®ºæ˜¯å¦å¯å®‰è£…ï¼‰çš„åˆ—è¡¨å¯é€šè¿‡ä»¥ä¸‹æ–¹å¼è·å–ï¼š\n$ sudo zypper list-updates --all è¦æ‰¾å‡ºæ–°åŒ…æ— æ³•å®‰è£…çš„åŸå› ï¼Œè¯·ä½¿ç”¨ä¸Šé¢æ‰€è¿°çš„ zypper install æˆ– zypper update å‘½ä»¤ã€‚\nè¯†åˆ«å­¤ç«‹çš„åŒ… æ¯å½“æ‚¨ä» Zypper ä¸­å»é™¤æŸä¸ªå‚¨å­˜åº“æˆ–è€…å‡çº§ç³»ç»Ÿæ—¶ï¼ŒæŸäº›åŒ…å¯èƒ½ä¼šè¿›å…¥â€œå­¤ç«‹â€çŠ¶æ€ã€‚è¿™äº›å­¤ç«‹çš„åŒ…ä¸å†å±äºä»»ä½•æ´»åŠ¨å‚¨å­˜åº“ã€‚ä»¥ä¸‹å‘½ä»¤å¯ä»¥åˆ—å‡ºè¿™äº›åŒ…ï¼š\n$ sudo zypper packages --orphaned å€ŸåŠ©æ­¤åˆ—è¡¨ï¼Œæ‚¨å¯ä»¥ç¡®å®šæ˜¯å¦ä»ç„¶éœ€è¦æŸä¸ªåŒ…ï¼Œæˆ–è€…æ˜¯å¦å¯ä»¥å®‰å…¨å»é™¤æŸä¸ªåŒ…ã€‚\nè¯†åˆ«ä½¿ç”¨å·²åˆ é™¤æ–‡ä»¶çš„è¿›ç¨‹å’ŒæœåŠ¡ åœ¨å¢è¡¥ã€æ›´æ–°æˆ–å»é™¤åŒ…æ—¶ï¼Œç³»ç»Ÿä¸Šå¯èƒ½æœ‰ä¸€äº›æ­£åœ¨è¿è¡Œçš„è¿›ç¨‹ä¼šç»§ç»­ä½¿ç”¨æ›´æ–°æˆ–å»é™¤åå·²è¢«åˆ é™¤çš„æ–‡ä»¶ã€‚è¿è¡Œ zypper ps å¯ä»¥åˆ—å‡ºä½¿ç”¨å·²åˆ é™¤æ–‡ä»¶çš„è¿›ç¨‹ã€‚å¦‚æœæ­¤ç±»è¿›ç¨‹å±äºæŸä¸ªå·²çŸ¥çš„æœåŠ¡ï¼Œåˆ™ä¼šåˆ—å‡ºæœåŠ¡åç§°ï¼Œæ–¹ä¾¿æ‚¨é‡å¯åŠ¨è¯¥æœåŠ¡ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œzypper ps ä¼šæ˜¾ç¤ºä¸€ä¸ªè¡¨ï¼š\nPID | PPID | UID | User | Command | Service | Files------+------+-----+-------+--------------+--------------+-------------------814 | 1 | 481 | avahi | avahi-daemon | avahi-daemon | /lib64/ld-2.19.s-\u0026gt; | | | | | | /lib64/libdl-2.1-\u0026gt; | | | | | | /lib64/libpthrea-\u0026gt; | | | | | | /lib64/libc-2.19-\u0026gt;[...]  PIDï¼šè¿›ç¨‹çš„ ID PPIDï¼šçˆ¶è¿›ç¨‹çš„ ID UIDï¼šè¿è¡Œè¿›ç¨‹çš„ç”¨æˆ·çš„ ID Userï¼šè¿è¡Œè¿›ç¨‹çš„ç”¨æˆ·çš„ç™»å½•å Commandï¼šç”¨äºæ‰§è¡Œè¿›ç¨‹çš„å‘½ä»¤ Serviceï¼šæœåŠ¡åç§°ï¼ˆä»…å½“å‘½ä»¤ä¸ç³»ç»ŸæœåŠ¡å…³è”æ—¶æ‰æ˜¾ç¤ºï¼‰ Filesï¼šå·²åˆ é™¤æ–‡ä»¶çš„åˆ—è¡¨  é€šè¿‡å¦‚ä¸‹æ–¹å¼å¯æ§åˆ¶ zypper ps çš„è¾“å‡ºæ ¼å¼ï¼š\n  zypper ps -s\nåˆ›å»ºä¸€ä»½ç®€çŸ­è¡¨æ ¼ï¼Œå…¶ä¸­ä¸ä¼šæ˜¾ç¤ºå·²åˆ é™¤çš„æ–‡ä»¶ã€‚\nPID | PPID | UID | User | Command | Service------+------+------+---------+--------------+--------------814 | 1 | 481 | avahi | avahi-daemon | avahi-daemon817 | 1 | 0 | root | irqbalance | irqbalance1567 | 1 | 0 | root | sshd | sshd1761 | 1 | 0 | root | master | postfix1764 | 1761 | 51 | postfix | pickup | postfix1765 | 1761 | 51 | postfix | qmgr | postfix2031 | 2027 | 1000 | tux | bash |   zypper ps -ss\nä»…æ˜¾ç¤ºä¸ç³»ç»ŸæœåŠ¡å…³è”çš„è¿›ç¨‹ã€‚\nPID | PPID | UID | User | Command | Service------+------+------+---------+--------------+--------------814 | 1 | 481 | avahi | avahi-daemon | avahi-daemon817 | 1 | 0 | root | irqbalance | irqbalance1567 | 1 | 0 | root | sshd | sshd1761 | 1 | 0 | root | master | postfix1764 | 1761 | 51 | postfix | pickup | postfix1765 | 1761 | 51 | postfix | qmgr | postfix   zypper ps -sss\nä»…æ˜¾ç¤ºä½¿ç”¨å·²åˆ é™¤æ–‡ä»¶çš„ç³»ç»ŸæœåŠ¡ã€‚\navahi-daemonirqbalancepostfixsshd   zypper ps --print \u0026quot;systemctl status %s\u0026quot;\næ˜¾ç¤ºç”¨äºæ£€ç´¢å¯èƒ½éœ€è¦é‡å¯åŠ¨çš„æœåŠ¡çŠ¶æ€ä¿¡æ¯çš„å‘½ä»¤ã€‚\nsystemctl status avahi-daemonsystemctl status irqbalancesystemctl status postfixsystemctl status sshd   ç”¨ Zypper ç®¡ç†å®‰è£…æº Zypper çš„æ‰€æœ‰å®‰è£…æˆ–å¢è¡¥ç¨‹åºå‘½ä»¤å‡åŸºäºå·²çŸ¥å®‰è£…æºåˆ—è¡¨ã€‚è¦åˆ—å‡ºç³»ç»Ÿå·²çŸ¥çš„æ‰€æœ‰å‚¨å­˜åº“ï¼Œè¯·ä½¿ç”¨å‘½ä»¤ï¼š\n$ zypper repos ç»“æœå°†ç±»ä¼¼äºä¸ä»¥ä¸‹è¾“å‡ºï¼š\n# | Alias | Name | Enabled | Refresh--+--------------+---------------+---------+--------1 | SLEHA-12-GEO | SLEHA-12-GEO | Yes | No2 | SLEHA-12 | SLEHA-12 | Yes | No3 | SLES12 | SLES12 | Yes | No å½“åœ¨å„ä¸ªå‘½ä»¤ä¸­æŒ‡å®šå‚¨å­˜åº“æ—¶ï¼Œå¯ä»¥ä½¿ç”¨åˆ«åã€URI æˆ– zypper repos å‘½ä»¤è¾“å‡ºä¸­çš„å‚¨å­˜åº“ç¼–å·ã€‚å‚¨å­˜åº“åˆ«åæ˜¯ç”¨äºå‚¨å­˜åº“å¤„ç†å‘½ä»¤ä¸­çš„å‚¨å­˜åº“åç§°çš„ç®€çŸ­ç‰ˆæœ¬ã€‚è¯·æ³¨æ„ï¼Œåœ¨ä¿®æ”¹å‚¨å­˜åº“åˆ—è¡¨åï¼Œå‚¨å­˜åº“ç¼–å·å¯èƒ½ä¼šæ›´æ”¹ã€‚åˆ«åæœ¬èº«ä¸ä¼šæ›´æ”¹ã€‚\né»˜è®¤æƒ…å†µä¸‹ä¸æ˜¾ç¤ºå‚¨å­˜åº“çš„ URI æˆ–ä¼˜å…ˆçº§ä¹‹ç±»çš„ç»†èŠ‚ã€‚ç”¨ä»¥ä¸‹å‘½ä»¤å¯ä»¥åˆ—å‡ºæ‰€æœ‰ç»†èŠ‚ï¼š\n$ zypper repos -d æ·»åŠ å®‰è£…æº è¦æ·»åŠ å®‰è£…æºï¼Œè¯·è¿è¡Œ\n$ sudo zypper addrepo URI ALIAS URI å¯ä»¥æ˜¯å› ç‰¹ç½‘å‚¨å­˜åº“ã€ç½‘ç»œèµ„æºã€ç›®å½•ã€CD æˆ– DVDã€‚ALIAS æ˜¯å‚¨å­˜åº“çš„å”¯ä¸€ç®€å†™æ ‡è¯†ç¬¦ã€‚æ‚¨å¯ä»¥éšæ„é€‰æ‹©åˆ«åï¼Œå‰ææ˜¯å®ƒå¿…é¡»å”¯ä¸€ã€‚å¦‚æœæŒ‡å®šçš„åˆ«åå·²åœ¨ä½¿ç”¨ï¼ŒZypper å°†å‘å‡ºè­¦å‘Šã€‚\nåˆ·æ–°å‚¨å­˜åº“ zypper å¯è®©æ‚¨ä»é…ç½®çš„å‚¨å­˜åº“ä¸­æå–åŒ…çš„æ›´æ”¹ã€‚è¦æå–æ›´æ”¹ï¼Œè¯·è¿è¡Œï¼š\n$ sudo zypper refresh æ³¨æ„ï¼šæœ‰äº›å‘½ä»¤é»˜è®¤ä¼šè‡ªåŠ¨æ‰§è¡Œ refreshï¼Œå› æ­¤æ‚¨ä¸éœ€è¦æ˜ç¡®è¿è¡Œè¯¥å‘½ä»¤ã€‚\nä½¿ç”¨ refresh å‘½ä»¤æ—¶æ­é… --plus-content é€‰é¡¹è¿˜å¯æŸ¥çœ‹å·²ç¦ç”¨å‚¨å­˜åº“ä¸­çš„æ›´æ”¹ï¼š\n$ sudo zypper --plus-content refresh è¯¥é€‰é¡¹è™½ç„¶ä¼šæå–å‚¨å­˜åº“ä¸­çš„æ›´æ”¹ï¼Œä½†ä¼šä½¿ç¦ç”¨å‚¨å­˜åº“çš„çŠ¶æ€ä¿æŒä¸å˜ï¼Œå³ä»ä¸ºç¦ç”¨ã€‚\nåˆ é™¤å‚¨å­˜åº“ è¦ä»åˆ—è¡¨ä¸­å»é™¤æŸä¸ªå‚¨å­˜åº“ï¼Œè¯·å°†å‘½ä»¤ zypper removerepo ä¸è¦åˆ é™¤çš„å‚¨å­˜åº“çš„åˆ«åæˆ–ç¼–å·ç»“åˆä½¿ç”¨ã€‚ä¾‹å¦‚\n$ sudo zypper removerepo 1$ sudo zypper removerepo \u0026quot;SLEHA-12-GEO\u0026quot; ä¿®æ”¹å‚¨å­˜åº“ ç”¨ zypper modifyrepo å¯ç”¨æˆ–ç¦ç”¨å‚¨å­˜åº“ã€‚æ‚¨è¿˜å¯ä»¥ç”¨è¯¥å‘½ä»¤æ›´æ”¹å‚¨å­˜åº“çš„å±æ€§ï¼ˆä¾‹å¦‚åˆ·æ–°è¡Œä¸ºã€åç§°æˆ–ä¼˜å…ˆçº§ï¼‰ã€‚ä»¥ä¸‹å‘½ä»¤å°†ä¼šå¯ç”¨åä¸º updates çš„å‚¨å­˜åº“ã€æ‰“å¼€è‡ªåŠ¨åˆ·æ–°å¹¶å°†å…¶ä¼˜å…ˆçº§è®¾ç½®ä¸º 20ï¼š\n$ sudo zypper modifyrepo -er -p 20 'updates' ä¿®æ”¹å‚¨å­˜åº“å¹¶ä¸å±€é™äºå•ä¸ªå‚¨å­˜åº“ â€”â€” æ‚¨ä¹Ÿå¯ä»¥å¯¹ç»„æ‰§è¡Œè¯¥æ“ä½œï¸°\n -aï¼šæ‰€æœ‰å‚¨å­˜åº“ -lï¼šæœ¬åœ°å‚¨å­˜åº“ -tï¼šè¿œç¨‹å‚¨å­˜åº“ -m ç±»å‹ï¼šç‰¹å®šç±»å‹çš„å‚¨å­˜åº“ï¼ˆå…¶ä¸­ç±»å‹å¯ä»¥æ˜¯ä»¥ä¸‹ä¹‹ä¸€ï¼šhttpã€httpsã€ftpã€cdã€dvdã€dirã€fileã€cifsã€smbã€nfsã€hd å’Œ isoï¼‰  è¦é‡å‘½åå®‰è£…æºåˆ«åï¼Œè¯·ä½¿ç”¨ renamerepo å‘½ä»¤ã€‚ä»¥ä¸‹ç¤ºä¾‹å°†åˆ«åä» Mozilla Firefox æ›´æ”¹ä¸º firefoxï¼š\n$ sudo zypper renamerepo 'Mozilla Firefox' firefox ç”¨ Zypper æŸ¥è¯¢å‚¨å­˜åº“å’ŒåŒ… Zypper æä¾›å„ç§æŸ¥è¯¢å‚¨å­˜åº“æˆ–åŒ…çš„æ–¹å¼ã€‚è¦è·å–æ‰€æœ‰å¯ç”¨çš„äº§å“ã€æ¨¡å¼ã€åŒ…æˆ–å¢è¡¥ç¨‹åºçš„åˆ—è¡¨ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\n$ zypper products$ zypper patterns$ zypper packages$ zypper patches è¦æŸ¥è¯¢ç‰¹å®šåŒ…çš„æ‰€æœ‰å‚¨å­˜åº“ï¼Œè¯·ä½¿ç”¨ searchã€‚è¦è·å¾—æœ‰å…³ç‰¹å®šåŒ…çš„ä¿¡æ¯ï¼Œè¯·ä½¿ç”¨ info å‘½ä»¤ã€‚\næœç´¢è½¯ä»¶ zypper search å‘½ä»¤å¯å¯¹åŒ…åæˆ–ï¼ˆè§†æƒ…å†µï¼‰å¯¹åŒ…æ‘˜è¦å’Œè¯´æ˜æ‰§è¡Œæœç´¢ã€‚æ‹¬åœ¨ / ä¸­çš„å­—ç¬¦ä¸²ä¼šè§£è¯‘ä¸ºæ­£åˆ™è¡¨è¾¾å¼ã€‚é»˜è®¤æƒ…å†µä¸‹æœç´¢ä¸åŒºåˆ†å¤§å°å†™ã€‚\n  æ‰§è¡Œç®€å•æœç´¢æ¥æŸ¥æ‰¾åŒ…å« fire çš„åŒ…åç§°\n$ zypper search \u0026quot;fire\u0026quot;   æ‰§è¡Œç®€å•æœç´¢æ¥æŸ¥æ‰¾ç¡®åˆ‡çš„åŒ… MozillaFirefox\n$ zypper search --match-exact \u0026quot;MozillaFirefox\u0026quot;   åŒæ—¶åœ¨åŒ…æè¿°å’Œæ‘˜è¦ä¸­æœç´¢\n$ zypper search -d fire   ä»…æ˜¾ç¤ºå°šæœªå®‰è£…çš„åŒ…\n$ zypper search -u fire   æ˜¾ç¤ºåŒ…å«å­—ç¬¦ä¸² fir ä¸”è¯¥å­—ç¬¦ä¸²åé¢ä¸æ˜¯ e çš„åŒ…\n$ zypper se \u0026quot;/fir[^e]/\u0026quot;   æœç´¢ç‰¹å®šåŠŸèƒ½ è¦æœç´¢æä¾›ç‰¹æ®ŠåŠŸèƒ½çš„åŒ…ï¼Œè¯·ä½¿ç”¨å‘½ä»¤ what-providesã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æƒ³çŸ¥é“å“ªä¸ªåŒ…æä¾› Perl æ¨¡å— SVN::Coreï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\n$ zypper what-provides 'perl(SVN::Core)' what-provides åŒ…å ä¸ rpm -q --whatprovides åŒ…å ç±»ä¼¼ï¼Œä¸è¿‡ RPM åªèƒ½æŸ¥è¯¢ RPM æ•°æ®åº“ï¼ˆå³æ‰€æœ‰å·²å®‰è£…çš„åŒ…çš„æ•°æ®åº“ï¼‰ã€‚å¦ä¸€æ–¹é¢ï¼ŒZypper å°†å‘Šè¯‰æ‚¨ä»»æ„å‚¨å­˜åº“çš„åŠŸèƒ½çš„æä¾›å•†ï¼Œè€Œéä»…å·²å®‰è£…çš„å‚¨å­˜åº“åŠŸèƒ½çš„æä¾›å•†ã€‚\næ˜¾ç¤ºåŒ…ä¿¡æ¯ è¦æŸ¥è¯¢ä¸ªåˆ«åŒ…ï¼Œè¯·ä½¿ç”¨ info å‘½ä»¤ï¼Œå¹¶ç”¨å®Œæ•´åŒ…åç§°ä½œä¸ºè‡ªå˜é‡ã€‚è¿™ä¼šæ˜¾ç¤ºæœ‰å…³æŸä¸ªåŒ…çš„è¯¦ç»†ä¿¡æ¯ã€‚å¦‚æœåŒ…åä¸å‚¨å­˜åº“ä¸­çš„æ‰€æœ‰åŒ…åéƒ½ä¸åŒ¹é…ï¼Œè¯¥å‘½ä»¤ä¼šè¾“å‡ºéåŒ…åŒ¹é…é¡¹çš„è¯¦ç»†ä¿¡æ¯ã€‚å¦‚æœæ‚¨è¯·æ±‚ç‰¹å®šç±»å‹ï¼ˆé€šè¿‡ä½¿ç”¨ -t é€‰é¡¹ï¼‰ï¼Œä½†è¯¥ç±»å‹ä¸å­˜åœ¨ï¼Œè¯¥å‘½ä»¤ä¼šè¾“å‡ºå…¶ä»–å¯ç”¨çš„åŒ¹é…é¡¹ï¼Œä½†ä¸æä¾›è¯¦ç»†ä¿¡æ¯ã€‚\nå¦‚æœæ‚¨æŒ‡å®šæºåŒ…ï¼Œè¯¥å‘½ä»¤ä¼šæ˜¾ç¤ºåŸºäºè¯¥æºåŒ…æ„å»ºçš„äºŒè¿›åˆ¶åŒ…ã€‚å¦‚æœæ‚¨æŒ‡å®šäºŒè¿›åˆ¶åŒ…ï¼Œè¯¥å‘½ä»¤ä¼šè¾“å‡ºç”¨æ¥æ„å»ºè¯¥äºŒè¿›åˆ¶åŒ…çš„æºåŒ…ã€‚\nå¦‚æœè¿˜è¦æ˜¾ç¤ºè¯¥åŒ…å¿…éœ€/æ¨èçš„åŒ…ï¼Œåˆ™ä½¿ç”¨é€‰é¡¹ --requires å’Œ --recommendsï¼š\nzypper info --requires MozillaFirefox æ˜¾ç¤ºç”Ÿå‘½å‘¨æœŸä¿¡æ¯ è¦æ£€æŸ¥æ‚¨çš„äº§å“å’Œæ‰€æ”¯æŒåŒ…çš„ç”Ÿå‘½å‘¨æœŸï¼Œè¯·å¦‚ä¸‹æ‰€ç¤ºä½¿ç”¨ zypper lifecycle å‘½ä»¤ï¼š\n$ zypper lifecycleProduct end of supportCodestream: SUSE Linux Enterprise Server 15 2028-04-23 SUSE Linux Enterprise Server 15 n/a*Module end of supportBasesystem Module 2021-07-31No packages with end of support different from product.*) See https://www.suse.com/lifecycle for latest information é…ç½® Zypper Zypper ç°åœ¨éšé™„é…ç½®æ–‡ä»¶ï¼Œå…è®¸æ‚¨æ°¸ä¹…æ›´æ”¹ Zypper çš„è¡Œä¸ºï¼ˆç³»ç»ŸèŒƒå›´æˆ–ç”¨æˆ·ç‰¹å®šï¼‰ã€‚è¦è¿›è¡Œç³»ç»ŸèŒƒå›´æ›´æ”¹ï¼Œè¯·ç¼–è¾‘ /etc/zypp/zypper.confã€‚è¦è¿›è¡Œç”¨æˆ·ç‰¹å®šçš„æ›´æ”¹ï¼Œè¯·ç¼–è¾‘ ~/.zypper.confã€‚å¦‚æœ ~/.zypper.conf å°šä¸å­˜åœ¨ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ /etc/zypp/zypper.conf ä½œä¸ºæ¨¡æ¿ï¼šå°†å…¶å¤åˆ¶åˆ° ~/.zypper.conf å¹¶æ ¹æ®æ‚¨çš„å–œå¥½è¿›è¡Œè°ƒæ•´ã€‚è¯·å‚è§æ–‡ä»¶ä¸­çš„æ³¨é‡Šï¼Œè·å–æœ‰å…³å¯ç”¨é€‰é¡¹çš„å¸®åŠ©ã€‚\næŸ¥é”™ å¦‚æœæ‚¨åœ¨è®¿é—®é…ç½®çš„å‚¨å­˜åº“ä¸­çš„åŒ…æ—¶é‡åˆ°é—®é¢˜ï¼ˆä¾‹å¦‚ï¼Œå°½ç®¡æ‚¨çŸ¥é“æŸä¸ªåŒ…åœ¨æŸä¸ªå‚¨å­˜åº“ä¸­ï¼Œä½† Zypper æ‰¾ä¸åˆ°è¯¥åŒ…ï¼‰ï¼Œåˆ·æ–°å‚¨å­˜åº“æˆ–è®¸å¯ä»¥è§£å†³é—®é¢˜ï¼š\nsudo zypper refresh å¦‚æœä¸èµ·ä½œç”¨ï¼Œåˆ™å°è¯•\nsudo zypper refresh -fdb è¿™ä¼šå¼ºåˆ¶å®Œå…¨åˆ·æ–°å’Œé‡æ„å»ºæ•°æ®åº“ï¼ŒåŒ…æ‹¬å¼ºåˆ¶ä¸‹è½½åŸå§‹å…ƒæ•°æ®ã€‚\nBtrfs æ–‡ä»¶ç³»ç»Ÿä¸Šçš„ Zypper å›æ»šåŠŸèƒ½ å¦‚æœæ ¹åˆ†åŒºä¸Šä½¿ç”¨çš„æ˜¯ Btrfs æ–‡ä»¶ç³»ç»Ÿï¼Œä¸”ç³»ç»Ÿä¸­å®‰è£…äº† snapperï¼Œå½“ Zypper æäº¤å¯¹æ–‡ä»¶ç³»ç»Ÿæ‰€åšçš„æ›´æ”¹ä»¥åˆ›å»ºç›¸åº”çš„æ–‡ä»¶ç³»ç»Ÿå¿«ç…§æ—¶ï¼Œä¼šè‡ªåŠ¨è°ƒç”¨ snapperã€‚è¿™äº›å¿«ç…§å¯ç”¨äºè¿˜åŸ Zypper è¿›è¡Œçš„ä»»ä½•æ›´æ”¹ã€‚\nRPM RPMï¼ˆRPM ç¨‹åºåŒ…ç®¡ç†å™¨ï¼‰ç”¨äºç®¡ç†è½¯ä»¶åŒ…ã€‚å…¶ä¸»è¦ç¨‹å‘½ä»¤ä¸º rpm å’Œ rpmbuildã€‚ç”¨æˆ·ã€ç³»ç»Ÿç®¡ç†å‘˜å’ŒåŒ…æ„å»ºäººå‘˜å¯ä»¥æŸ¥è¯¢å¼ºå¤§çš„ RPM æ•°æ®åº“ä»¥è·å¾—æœ‰å…³å·²å®‰è£…è½¯ä»¶çš„è¯¦ç»†ä¿¡æ¯ã€‚\nrpm æœ‰äº”ç§æ¨¡å¼ï¼šå®‰è£…ã€å¸è£…ï¼ˆæˆ–æ›´æ–°ï¼‰è½¯ä»¶åŒ…ã€é‡æ„å»º RPM æ•°æ®åº“ã€æŸ¥è¯¢ RPM åº“æˆ–ç‹¬ç«‹ RPM å­˜æ¡£ã€å¯¹åŒ…æ‰§è¡Œå®Œæ•´æ€§æ£€æŸ¥ä»¥åŠå¯¹åŒ…ç­¾åã€‚rpmbuild å¯ç”¨äºä»åŸå§‹æºæ„å»ºå¯å®‰è£…çš„åŒ…ã€‚\nç”¨ç‰¹æ®Šçš„äºŒè¿›åˆ¶æ ¼å¼å¯¹å¯å®‰è£… RPM å­˜æ¡£è¿›è¡Œæ‰“åŒ…ã€‚è¿™äº›å­˜æ¡£ç”±è¦å®‰è£…çš„ç¨‹åºæ–‡ä»¶å’ŒæŸäº›å…ƒä¿¡æ¯ç»„æˆï¼Œè¿™äº›å…ƒä¿¡æ¯ä¾› rpm åœ¨å®‰è£…è¿‡ç¨‹ä¸­é…ç½®è½¯ä»¶åŒ…ä½¿ç”¨æˆ–è€…å‚¨å­˜åœ¨ RPM æ•°æ®åº“ä¸­è¿›è¡Œå­˜æ¡£ã€‚RPM å­˜æ¡£é€šå¸¸å…·æœ‰æ‰©å±•å .rpmã€‚\nå¯¹äºä¸€äº›åŒ…ï¼Œè½¯ä»¶å¼€å‘æ‰€éœ€çš„ç»„ä»¶ï¼ˆåº“ã€æŠ¥å¤´ã€åŒ…å«æ–‡ä»¶ç­‰ï¼‰å·²çº³å…¥ç‹¬ç«‹çš„åŒ…ä¸­ã€‚åªæœ‰å½“æ‚¨è¦è‡ªå·±ç¼–è¯‘è½¯ä»¶æ—¶æ‰éœ€è¦è¿™äº›å¼€å‘åŒ…ï¼ˆä¾‹å¦‚æœ€æ–°çš„ GNOME åŒ…ï¼‰ã€‚å¯ä»¥é€šè¿‡æ‰©å±•å -devel ç¡®å®šè¿™äº›å¼€å‘åŒ…ï¼Œä¾‹å¦‚åŒ… alsa-devel å’Œ gimp-develã€‚\næ ¡éªŒåŒ…çœŸå®æ€§ RPM åŒ…å…·æœ‰ GPG ç­¾åã€‚è¦æ ¡éªŒ RPM åŒ…çš„ç­¾åï¼Œè¯·ä½¿ç”¨ rpm --checksig PACKAGE-1.2.3.rpm å‘½ä»¤ç¡®å®šè¯¥åŒ…æ˜¯æ¥è‡ª SUSE è¿˜æ˜¯å¦ä¸€ä¸ªå¯ä¿¡æœºæ„ã€‚ç‰¹åˆ«å»ºè®®å¯¹æ¥è‡ªå› ç‰¹ç½‘çš„æ›´æ–°åŒ…ä½¿ç”¨æ­¤å‘½ä»¤ã€‚\nä¿®å¤æ“ä½œç³»ç»Ÿä¸­çš„é—®é¢˜æ—¶ï¼Œæ‚¨å¯èƒ½éœ€è¦å°†é—®é¢˜ä¸´æ—¶ä¿®å¤ (PTF) å®‰è£…åˆ°ç”Ÿäº§ç³»ç»Ÿä¸­ã€‚SUSE æä¾›çš„åŒ…å·²ä½¿ç”¨ç‰¹æ®Šçš„ PTF å¯†é’¥ç­¾åã€‚è¦æ‰‹åŠ¨å¯¼å…¥è¯¥å¯†é’¥ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\nsudo rpm --import \\/usr/share/doc/packages/suse-build-key/suse_ptf_key.asc å¯¼å…¥è¯¥å¯†é’¥åï¼Œæ‚¨å¯ä»¥åœ¨ç³»ç»Ÿä¸Šå®‰è£… PTF åŒ…ã€‚\nç®¡ç†åŒ…ï¼šå®‰è£…ã€æ›´æ–°å’Œå¸è£… å®‰è£… RPM å­˜æ¡£çš„æ­¥éª¤é€šå¸¸ååˆ†ç®€å•ï¼Œæ‰§è¡Œè¿è¡Œï¼šrpm -i PACKAGE.rpmã€‚ä½¿ç”¨æ­¤å‘½ä»¤å¯ä»¥å®‰è£…åŒ…ï¼Œä½†å‰ææ˜¯æ»¡è¶³å…¶ä¾èµ–å…³ç³»å¹¶ä¸”ä¸ä¸å…¶ä»–åŒ…å†²çªã€‚å¦‚æœå‡ºç°é”™è¯¯æ¶ˆæ¯ï¼Œrpm å°†è¯·æ±‚é‚£äº›éœ€è¦å®‰è£…çš„åŒ…ä»¥æ»¡è¶³ä¾èµ–å…³ç³»è¦æ±‚ã€‚åœ¨åå°ï¼ŒRPM æ•°æ®åº“ç¡®ä¿ä¸å‡ºç°å†²çª ï¼ ä¸€ä¸ªç‰¹å®šæ–‡ä»¶åªèƒ½å±äºä¸€ä¸ªåŒ…ã€‚é€šè¿‡é€‰æ‹©ä¸åŒçš„é€‰é¡¹ï¼Œæ‚¨å¯ä»¥å¼ºåˆ¶ rpm å¿½ç•¥è¿™äº›é»˜è®¤è®¾ç½®ï¼Œä½†è¿™åªä¾›ä¸“å®¶ç”¨æˆ·ä½¿ç”¨ã€‚å¦åˆ™ï¼Œå°†å½±å“ç³»ç»Ÿçš„å®Œæ•´æ€§å¹¶å¯èƒ½ä½¿ç³»ç»Ÿæ— æ³•æ›´æ–°ã€‚\né€‰é¡¹ -U æˆ– --upgrade ä»¥åŠ -F æˆ– --freshen å¯ç”¨äºæ›´æ–°åŒ…ï¼ˆä¾‹å¦‚ï¼Œrpm -F PACKAGE.rpmï¼‰ã€‚æ­¤å‘½ä»¤å°†åˆ é™¤æ—§ç‰ˆæœ¬çš„æ–‡ä»¶å¹¶ç«‹å³å®‰è£…æ–°æ–‡ä»¶ã€‚ä¸¤ä¸ªç‰ˆæœ¬ä¹‹é—´çš„å·®åˆ«æ˜¯ï¼š-U å®‰è£…ç³»ç»Ÿä¸­ä»¥å‰ä¸å­˜åœ¨çš„åŒ…ï¼Œè€Œ -F åªæ›´æ–°ä»¥å‰å®‰è£…çš„åŒ…ã€‚æ›´æ–°æ—¶ï¼Œrpm ä½¿ç”¨ä»¥ä¸‹ç­–ç•¥å°å¿ƒæ›´æ–°é…ç½®æ–‡ä»¶ï¼š\n å¦‚æœé…ç½®æ–‡ä»¶æœªè¢«ç³»ç»Ÿç®¡ç†å‘˜æ›´æ”¹ï¼Œåˆ™ rpm å°†å®‰è£…é€‚å½“æ–‡ä»¶çš„æ–°ç‰ˆæœ¬ã€‚ç³»ç»Ÿç®¡ç†å‘˜æ— éœ€æ‰§è¡Œä»»ä½•æ“ä½œã€‚ å¦‚æœé…ç½®æ–‡ä»¶åœ¨æ›´æ–°å‰æ›¾è¢«ç³»ç»Ÿç®¡ç†å‘˜æ›´æ”¹ï¼Œåˆ™ rpm ä¼šä»¥æ‰©å±•å .rpmorig æˆ– .rpmsaveï¼ˆå¤‡ä»½æ–‡ä»¶ï¼‰ä¿å­˜æ›´æ”¹çš„æ–‡ä»¶ï¼Œå¹¶å®‰è£…æ–°åŒ…ä¸­çš„ç‰ˆæœ¬ã€‚ä»…å½“åŸå…ˆå®‰è£…çš„æ–‡ä»¶å’Œè¾ƒæ–°çš„ç‰ˆæœ¬ä¸åŒæ—¶ï¼Œæ‰æ‰§è¡Œæ­¤æ“ä½œã€‚å¦‚æœæ˜¯è¿™ç§æƒ…å†µï¼Œåˆ™å°†å¤‡ä»½æ–‡ä»¶ï¼ˆ.rpmorig æˆ– .rpmsaveï¼‰ä¸æ–°å®‰è£…çš„æ–‡ä»¶è¿›è¡Œæ¯”è¾ƒï¼Œå¹¶åœ¨æ–°æ–‡ä»¶ä¸­å†æ¬¡è¿›è¡Œæ›´æ”¹ã€‚ä¹‹åï¼Œè¯·åˆ é™¤æ‰€æœ‰ .rpmorig å’Œ .rpmsave æ–‡ä»¶ï¼Œä»¥å…ä»¥åçš„æ›´æ–°å‡ºç°é—®é¢˜ã€‚ å¦‚æœé…ç½®æ–‡ä»¶å·²å­˜åœ¨å¹¶ä¸” .spec æ–‡ä»¶ä¸­æŒ‡å®šäº† noreplace æ ‡ç­¾ï¼Œåˆ™å‡ºç° .rpmnew æ–‡ä»¶ã€‚  æ›´æ–°åï¼Œåœ¨ä½¿ç”¨ .rpmsave å’Œ .rpmnew æ–‡ä»¶è¿›è¡Œæ¯”è¾ƒååº”å°†å®ƒä»¬åˆ é™¤ï¼Œä»è€Œé˜²æ­¢å®ƒä»¬é˜»ç¢ä»¥åçš„æ›´æ–°ã€‚å¦‚æœ RPM æ•°æ®åº“ä»¥å‰æœªèƒ½è¯†åˆ«æ–‡ä»¶ï¼Œåˆ™å°†ä¸ºå…¶æŒ‡æ´¾æ‰©å±•å .rpmorigã€‚ å¦åˆ™ï¼Œå°†ä½¿ç”¨ .rpmsaveã€‚æ¢å¥è¯è¯´ï¼Œ.rpmorig æ˜¯ä»å¼‚ç³»ç»Ÿæ ¼å¼æ›´æ–°ä¸º RPM çš„ç»“æœã€‚è€Œ .rpmsave æ˜¯ä»è¾ƒæ—©çš„ RPM æ›´æ–°ä¸ºè¾ƒæ–°çš„ RPM çš„ç»“æœã€‚.rpmnew ä¸æä¾›ä»»ä½•æœ‰å…³ç³»ç»Ÿç®¡ç†å‘˜æ˜¯å¦å¯¹é…ç½®æ–‡ä»¶è¿›è¡Œè¿‡ä»»ä½•æ›´æ”¹çš„ä¿¡æ¯ã€‚/var/adm/rpmconfigcheck ä¸­æä¾›è¿™äº›æ–‡ä»¶çš„åˆ—è¡¨ã€‚ä¸è¦†ç›–æŸäº›é…ç½®æ–‡ä»¶ï¼ˆå¦‚ /etc/httpd/httpd.confï¼‰ä»¥å…è®¸ç»§ç»­è¿›è¡Œæ“ä½œã€‚\n-U å¼€å…³çš„ä½œç”¨å¹¶ä¸å®Œå…¨ç­‰åŒäºä½¿ç”¨ -e é€‰é¡¹è¿›è¡Œå¸è½½ä»¥åŠä½¿ç”¨ -i é€‰é¡¹è¿›è¡Œå®‰è£…ï¼Œå®ƒè¿˜æœ‰å…¶ä»–ä½œç”¨ã€‚åªè¦å¯èƒ½ï¼Œå°±å¯ä»¥ä½¿ç”¨ -Uã€‚\nè¦å»é™¤åŒ…ï¼Œè¯·è¾“å…¥ rpm -e PACKAGEã€‚ä»…å½“ä¸å­˜åœ¨æœªè§£å†³çš„ä¾èµ–é¡¹é—®é¢˜æ—¶ï¼Œæ­¤å‘½ä»¤æ‰ä¼šåˆ é™¤åŒ…ã€‚ä¾‹å¦‚ï¼Œåªè¦æœ‰å…¶ä»–ç¨‹åºéœ€è¦ Tcl/Tkï¼Œç†è®ºä¸Šå°±ä¸èƒ½åˆ é™¤å®ƒã€‚å³ä½¿æ˜¯åœ¨è¿™ç§æƒ…å†µä¸‹ï¼ŒRPM ä¹Ÿä¼šå‘æ•°æ®åº“å¯»æ±‚å¸®åŠ©ã€‚å¦‚æœå‡ºäºä»»ä½•åŸå› æ— æ³•è¿›è¡Œæ­¤åˆ é™¤æ“ä½œï¼ˆå³ä½¿ä¸å­˜åœ¨å…¶ä»–ä¾èµ–é¡¹ï¼‰ï¼Œåˆ™æœ€å¥½ä½¿ç”¨é€‰é¡¹ --rebuilddb é‡æ„å»º RPM æ•°æ®åº“ã€‚\nå¢é‡ RPM åŒ… å¢é‡ RPM åŒ…åŒ…å«æ—§ç‰ˆæœ¬å’Œæ–°ç‰ˆæœ¬çš„ RPM åŒ…ä¹‹é—´çš„å·®åˆ«ã€‚åœ¨æ—§ RPM ä¸Šåº”ç”¨å¢é‡ RPM å°†å¾—åˆ°å…¨æ–°çš„ RPMã€‚ä¸éœ€è¦æ—§ RPM çš„å‰¯æœ¬ï¼Œå› ä¸ºå¢é‡ RPM ä¹Ÿå¯ä»¥ä¸å·²å®‰è£…çš„ RPM ä¸€èµ·å·¥ä½œã€‚å¢é‡ RPM åŒ…çš„å¤§å°ç”šè‡³æ¯”å¢è¡¥ç¨‹åº RPM å°ï¼Œè¿™æœ‰åˆ©äºé€šè¿‡å› ç‰¹ç½‘ä¼ é€æ›´æ–°åŒ…ã€‚ç¼ºç‚¹æ˜¯ï¼Œæ¶‰åŠå¢é‡ RPM çš„æ›´æ–°æ“ä½œä¸ä½¿ç”¨çº¯ç²¹ RPM æˆ–å¢è¡¥ç¨‹åº RPM è¿›è¡Œæ›´æ–°çš„æƒ…å†µç›¸æ¯”ï¼Œå ç”¨çš„ CPU å‘¨æœŸè¦é•¿å¾—å¤šã€‚\nmakedeltarpm å’Œ applydelta äºŒè¿›åˆ¶æ–‡ä»¶æ˜¯å¢é‡ RPM å¥—ä»¶ï¼ˆåŒ… deltarpmï¼‰çš„ä¸€éƒ¨åˆ†ï¼Œå¯å¸®åŠ©æ‚¨åˆ›å»ºå’Œåº”ç”¨å¢é‡ RPM åŒ…ã€‚ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯ä»¥åˆ›å»ºåä¸º new.delta.rpm çš„å¢é‡ RPMã€‚ä»¥ä¸‹å‘½ä»¤å‡è®¾ old.rpm å’Œ new.rpm æ˜¯å­˜åœ¨çš„ï¼š\nsudo makedeltarpm old.rpm new.rpm new.delta.rpm å¦‚æœæ—§åŒ…å·²ç»å®‰è£…ï¼Œåˆ™ä½¿ç”¨ applydeltarpm å¯ä»¥ä»æ–‡ä»¶ç³»ç»Ÿé‡æ–°æ„å»ºæ–°çš„ RPMï¼š\nsudo applydeltarpm new.delta.rpm new.rpm å¦‚æœä¸è®¿é—®æ–‡ä»¶ç³»ç»Ÿè€Œä»æ—§ RPM å¾—åˆ°å®ƒï¼Œè¯·ä½¿ç”¨ -r é€‰é¡¹ï¼š\nsudo applydeltarpm -r old.rpm new.delta.rpm new.rpm RPM æŸ¥è¯¢ å¸¦ -q é€‰é¡¹çš„ rpm å°†å¯åŠ¨æŸ¥è¯¢ï¼Œå¦‚æ­¤ç”¨æˆ·ä¾¿å¯æŸ¥çœ‹ RPM å­˜æ¡£ï¼ˆé€šè¿‡æ·»åŠ é€‰é¡¹ -pï¼‰å¹¶æŸ¥è¯¢å·²å®‰è£…åŒ…çš„ RPM æ•°æ®åº“ã€‚å¯ä»¥ä½¿ç”¨å¤šä¸ªå¼€å…³æŒ‡å®šæ‰€éœ€ä¿¡æ¯çš„ç±»å‹ã€‚\n   é€‰é¡¹ å«ä¹‰     -i åŒ…ä¿¡æ¯   -l æ–‡ä»¶åˆ—è¡¨   -f FILE æŸ¥è¯¢åŒ…å«æ–‡ä»¶ FILE çš„åŒ…ï¼ˆå¿…é¡»ä½¿ç”¨ FILE æŒ‡å®šå®Œæ•´è·¯å¾„ï¼‰   -s å¸¦æœ‰çŠ¶æ€ä¿¡æ¯çš„æ–‡ä»¶åˆ—è¡¨ï¼ˆé—´æ¥æŒ‡å®š -lï¼‰   -d ä»…åˆ—å‡ºæ–‡æ¡£æ–‡ä»¶ï¼ˆé—´æ¥æŒ‡å®š -lï¼‰   -c ä»…åˆ—å‡ºé…ç½®æ–‡ä»¶ï¼ˆé—´æ¥æŒ‡å®š -lï¼‰   --dump å¸¦æœ‰å®Œæ•´è¯¦ç»†ä¿¡æ¯çš„æ–‡ä»¶åˆ—è¡¨ï¼ˆå°†ç”¨äº -lã€-c æˆ– -dï¼‰   --provides åˆ—å‡ºåŒ…ä¸­å¯è¢«å¦ä¸€ä¸ªåŒ…é€šè¿‡ --requires è¯·æ±‚çš„åŠŸèƒ½   --requires, -R åŒ…éœ€è¦çš„åŠŸèƒ½   --scripts å®‰è£…è„šæœ¬ï¼ˆé¢„å®‰è£…ã€åå®‰è£…ã€å¸è½½ï¼‰    ä¾‹å¦‚ï¼Œå‘½ä»¤ rpm -q -i wget æ˜¾ç¤º\nName : wgetVersion : 1.14Release : 17.1Architecture: x86_64Install Date: Mon 30 Jan 2017 14:01:29 CETGroup : Productivity/Networking/Web/UtilitiesSize : 2046483License : GPL-3.0+Signature : RSA/SHA256, Thu 08 Dec 2016 07:48:44 CET, Key ID 70af9e8139db7c82Source RPM : wget-1.14-17.1.src.rpmBuild Date : Thu 08 Dec 2016 07:48:34 CETBuild Host : sheep09Relocations : (not relocatable)Packager : https://www.suse.com/Vendor : SUSE LLC \u0026lt;https://www.suse.com/\u0026gt;URL : http://www.gnu.org/software/wget/Summary : A Tool for Mirroring FTP and HTTP ServersDescription :Wget enables you to retrieve WWW documents or FTP files from a server.This can be done in script files or via the command line.Distribution: SUSE Linux Enterprise 12 åªæœ‰å½“æ‚¨æŒ‡å®šå¸¦æœ‰å®Œæ•´è·¯å¾„çš„å®Œæ•´æ–‡ä»¶åæ—¶ï¼Œé€‰é¡¹ -f æ‰èµ·ä½œç”¨ã€‚æ ¹æ®éœ€è¦æä¾›ä»»æ„å¤šä¸ªæ–‡ä»¶åã€‚ä¾‹å¦‚ï¼š\nrpm -q -f /bin/rpm /usr/bin/wgetrpm-4.11.2-15.1.x86_64wget-1.14-17.1.x86_64 å¦‚æœåªçŸ¥é“éƒ¨åˆ†æ–‡ä»¶åï¼Œåˆ™å¯ä»¥ä½¿ç”¨å¤–å£³è„šæœ¬ã€‚å½“è¿è¡Œæ‰€æ˜¾ç¤ºçš„è„šæœ¬æ—¶ï¼Œå°†éƒ¨åˆ†æ–‡ä»¶åä»¥å‚æ•°çš„å½¢å¼ä¼ é€’ç»™è„šæœ¬ã€‚\n#! /bin/shfor i in $(rpm -q -a -l | grep $1); do echo \u0026quot;\\\u0026quot;$i\\\u0026quot; is in package:\u0026quot; rpm -q -f $i echo \u0026quot;\u0026quot;done rpm -q --changelog PACKAGE å‘½ä»¤ä¼šæŒ‰æ—¥æœŸæ’åºæ˜¾ç¤ºæœ‰å…³ç‰¹å®šåŒ…çš„è¯¦ç»†æ›´æ”¹ä¿¡æ¯åˆ—è¡¨ã€‚\nå€ŸåŠ©å·²å®‰è£…çš„ RPM æ•°æ®åº“ï¼Œå¯ä»¥è¿›è¡Œæ ¡éªŒæ£€æŸ¥ã€‚ä½¿ç”¨ -V æˆ– --verify å¯åŠ¨è¿™äº›æ£€æŸ¥ã€‚ä½¿ç”¨æ­¤é€‰é¡¹ï¼Œrpm æ˜¾ç¤ºå®‰è£…åå·²è¢«æ›´æ”¹çš„åŒ…ä¸­çš„æ‰€æœ‰æ–‡ä»¶ã€‚rpm ä½¿ç”¨ 8 ä¸ªå­—ç¬¦ç¬¦å·ç»™å‡ºæœ‰å…³ä»¥ä¸‹æ›´æ”¹çš„ä¸€äº›æç¤ºï¼š\n   ç¬¦å· å«ä¹‰     5 MD5 æ ¡éªŒå’Œ   S æ–‡ä»¶å¤§å°   L ç¬¦å·é“¾æ¥   T ä¿®æ”¹æ—¶é—´   D ä¸»è¦å’Œæ¬¡è¦è®¾å¤‡ç¼–å·   U æ‹¥æœ‰è€…   G ç»„   M æ–¹å¼ï¼ˆæƒé™å’Œæ–‡ä»¶ç±»å‹ï¼‰    å¯¹äºé…ç½®æ–‡ä»¶ï¼Œå°†è¾“å‡ºå­—æ¯ cã€‚ä¾‹å¦‚ï¼Œå¯¹äº /etc/wgetrcï¼ˆwget åŒ…ï¼‰çš„æ›´æ”¹ï¼š\nrpm -V wgetS.5....T c /etc/wgetrc RPM æ•°æ®åº“çš„æ–‡ä»¶è¢«æ”¾ç½®åœ¨ /var/lib/rpm ä¸­ã€‚å¦‚æœåˆ†åŒº /usr çš„å¤§å°ä¸º 1 GBï¼Œåˆ™æ­¤æ•°æ®åº“å¯èƒ½ä¼šå ç”¨å°†è¿‘ 30 MBï¼Œç‰¹åˆ«æ˜¯åœ¨å®Œå…¨æ›´æ–°ä¹‹åã€‚å¦‚æœæ•°æ®åº“æ¯”é¢„æœŸå¤§å¾—å¤šï¼Œåˆ™æœ€å¥½ä½¿ç”¨é€‰é¡¹ --rebuilddb é‡æ„å»ºæ•°æ®åº“ã€‚åœ¨æ‰§è¡Œæ­¤æ“ä½œä¹‹å‰ï¼Œåˆ¶ä½œæ—§æ•°æ®åº“çš„å¤‡ä»½ã€‚cron è„šæœ¬ cron.daily æ¯å¤©åˆ¶ä½œæ•°æ®åº“çš„å‰¯æœ¬ï¼ˆç”¨ gzip æ‰“åŒ…ï¼‰å¹¶å°†è¿™äº›å‰¯æœ¬å‚¨å­˜åœ¨ /var/adm/backup/rpmdb ä¸­ã€‚å‰¯æœ¬çš„æ•°ç›®æ˜¯ç”± /etc/sysconfig/backup ä¸­çš„å˜é‡ MAX_RPMDB_BACKUPSï¼ˆé»˜è®¤å€¼ä¸º 5ï¼‰æ§åˆ¶çš„ã€‚å¯¹äº 1 GB çš„ /usrï¼Œå•ä¸ªå¤‡ä»½çš„å¤§å°å¤§çº¦ä¸º 1 MBã€‚\nå®‰è£…å’Œç¼–è¯‘æºåŒ… æ‰€æœ‰æºåŒ…éƒ½å¸¦æœ‰ .src.rpm æ‰©å±•åï¼ˆæº RPMï¼‰ã€‚\næºåŒ…å¯ä»¥ä»å®‰è£…åª’ä½“å¤åˆ¶åˆ°ç¡¬ç›˜å¹¶ä½¿ç”¨ YaST è§£å‹ç¼©ã€‚ä½†æ˜¯ï¼Œåœ¨åŒ…ç®¡ç†å™¨ä¸­å®ƒä»¬ä¸ä¼šè¢«æ ‡è®°ä¸ºå·²å®‰è£… ([i])ã€‚è¿™æ˜¯å› ä¸ºæºåŒ…ä¸æ˜¯åœ¨ RPM æ•°æ®åº“ä¸­è¾“å…¥çš„ã€‚åªæœ‰å·²å®‰è£…çš„æ“ä½œç³»ç»Ÿè½¯ä»¶åˆ—åœ¨ RPM æ•°æ®åº“ä¸­ã€‚å®‰è£…æºåŒ…æ—¶ï¼Œåªå°†æºä»£ç æ·»åŠ åˆ°ç³»ç»Ÿä¸­ã€‚\nä»¥ä¸‹ç›®å½•å¿…é¡»å¯ç”¨äº /usr/src/packages ä¸­çš„ rpm å’Œ rpmbuildï¼ˆé™¤éåœ¨è¯¸å¦‚ /etc/rpmrc è¿™æ ·çš„æ–‡ä»¶ä¸­æŒ‡å®šè‡ªå®šä¹‰è®¾ç½®ï¼‰ï¼š\n  SOURCES\nä»£è¡¨åŸå§‹æºï¼ˆ.tar.bz2 æˆ– .tar.gz æ–‡ä»¶ç­‰ï¼‰å’Œç‰¹å®šäºå‘å¸ƒç‰ˆæœ¬çš„è°ƒæ•´ï¼ˆå¤šä¸º .diff æˆ– .patch æ–‡ä»¶ï¼‰\n  SPECS\nä»£è¡¨ .spec æ–‡ä»¶ï¼Œç±»ä¼¼äºå…ƒ Makefileï¼Œè¯¥æ–‡ä»¶æ§åˆ¶æ„å»ºè¿›ç¨‹\n  BUILD\nåœ¨æ­¤ç›®å½•ä¸­è§£å‹ç¼©ã€å¢è¡¥å’Œç¼–è¯‘æ‰€æœ‰æº\n  RPMS\nå‚¨å­˜å®Œæ•´çš„äºŒè¿›åˆ¶åŒ…çš„ä½ç½®\n  SRPMS\nè¿™é‡Œæ˜¯æº RPM\n  ä½¿ç”¨ YaST å®‰è£…æºåŒ…æ—¶ï¼Œå°†åœ¨ /usr/src/packages ä¸­å®‰è£…æ‰€æœ‰éœ€è¦çš„ç»„ä»¶ï¼šæºå’Œè°ƒæ•´åœ¨ SOURCES ä¸­ï¼Œç›¸å…³çš„ .spec æ–‡ä»¶åœ¨ SPECS ä¸­ã€‚\nè­¦å‘Šï¼šä¸è¦å¯¹ç³»ç»Ÿç»„ä»¶ï¼ˆglibcã€rpm ç­‰ï¼‰è¿›è¡Œè¯•éªŒï¼Œå› ä¸ºè¿™æ ·åšä¼šå½±å“ç³»ç»Ÿçš„ç¨³å®šæ€§ã€‚\nä¸‹é¢çš„ç¤ºä¾‹ä½¿ç”¨ wget.src.rpm åŒ…ã€‚å®‰è£…æºåŒ…åï¼Œåº”å…·æœ‰ç±»ä¼¼ä»¥ä¸‹åˆ—è¡¨ä¸­çš„æ–‡ä»¶ï¼š\n/usr/src/packages/SOURCES/wget-1.11.4.tar.bz2/usr/src/packages/SOURCES/wgetrc.patch/usr/src/packages/SPECS/wget.spec rpmbuild -bX /usr/src/packages/SPECS/wget.spec ä¼šå¯åŠ¨ç¼–è¯‘ã€‚X æ˜¯é€šé…ç¬¦ï¼Œä»£è¡¨æ„å»ºè¿›ç¨‹çš„ä¸åŒé˜¶æ®µã€‚ä»¥ä¸‹ç®€è¦æè¿°ï¼š\n  -bp\nåœ¨ /usr/src/packages/BUILD ä¸­å‡†å¤‡æºï¼šè§£å‹å’Œæ‰“å¢è¡¥ç¨‹åºã€‚\n  -bc\næ‰§è¡Œä¸ -bp ç›¸åŒçš„æ“ä½œï¼Œä½†è¿˜è¿›è¡Œç¼–è¯‘ã€‚\n  -bi\næ‰§è¡Œä¸ -bp ç›¸åŒçš„æ“ä½œï¼Œä½†è¿˜å®‰è£…ç”Ÿæˆçš„è½¯ä»¶ã€‚æ³¨æ„ï¼šå¦‚æœåŒ…ä¸æ”¯æŒ BuildRoot åŠŸèƒ½ï¼Œåˆ™å¯èƒ½ä¼šé‡å†™é…ç½®æ–‡ä»¶ã€‚\n  -bb\næ‰§è¡Œä¸ -bi ç›¸åŒçš„æ“ä½œï¼Œä½†è¿˜åˆ›å»ºäºŒè¿›åˆ¶åŒ…ã€‚å¦‚æœç¼–è¯‘æˆåŠŸï¼ŒäºŒè¿›åˆ¶åŒ…åº”è¯¥åœ¨ /usr/src/packages/RPMS ä¸­ã€‚\n  -ba\næ‰§è¡Œä¸ -bb ç›¸åŒçš„æ“ä½œï¼Œä½†è¿˜åˆ›å»ºæº RPMã€‚å¦‚æœç¼–è¯‘æˆåŠŸï¼ŒäºŒè¿›åˆ¶åŒ…åº”è¯¥åœ¨ /usr/src/packages/SRPMS ä¸­ã€‚\n  --short-circuit\nè·³è¿‡æŸäº›æ­¥éª¤ã€‚\n  ç°åœ¨å¯ä»¥ä½¿ç”¨ rpm -i æˆ–æœ€å¥½ä½¿ç”¨ rpm -U æ¥å®‰è£…åˆ›å»ºçš„äºŒè¿›åˆ¶ RPMã€‚ä½¿ç”¨ rpm è¿›è¡Œå®‰è£…ä½¿å®ƒæ˜¾ç¤ºåœ¨ RPM æ•°æ®åº“ä¸­ã€‚\nä½¿ç”¨ build ç¼–è¯‘ RPM åŒ… è®¸å¤šåŒ…å­˜åœ¨çš„é£é™©æ˜¯æ„å»ºè¿›ç¨‹ä¸­ä¼šå°†è®¸å¤šä¸éœ€è¦çš„æ–‡ä»¶æ·»åŠ åˆ°æ­£åœ¨è¿è¡Œçš„ç³»ç»Ÿä¸­ã€‚ä¸ºé˜²æ­¢å‘ç”Ÿè¿™ç§æƒ…å†µï¼Œè¯·ä½¿ç”¨ buildï¼Œå®ƒå°†åˆ›å»ºæ„å»ºåŒ…çš„å·²å®šä¹‰ç¯å¢ƒã€‚è¦å»ºç«‹è¿™ä¸€ chroot ç¯å¢ƒï¼Œbuild è„šæœ¬å¿…é¡»å’Œå®Œæ•´çš„åŒ…æ ‘ç»“æ„ä¸€èµ·æä¾›ã€‚å¯ä»¥é€šè¿‡ NFS æˆ–ä» DVD ä½¿ç”¨ç¡¬ç›˜ä¸Šçš„æ­¤æ ‘ã€‚ä½¿ç”¨ build --rpms DIRECTORY è®¾ç½®ä½ç½®ã€‚ä¸ rpm ä¸åŒï¼Œbuild å‘½ä»¤åœ¨æºç›®å½•ä¸­æŸ¥æ‰¾ .spec æ–‡ä»¶ã€‚è¦ç”¨ç³»ç»Ÿä¸­ /media/dvd ä¸‹è£…å…¥çš„ DVD æ„å»º wgetï¼ˆå¦‚ä¸Šä¾‹æ‰€ç¤ºï¼‰ï¼Œè¯·ä»¥ root ç”¨æˆ·èº«ä»½ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š\ncd /usr/src/packages/SOURCES/mv ../SPECS/wget.spec .build --rpms /media/dvd/suse/ wget.spec éšåï¼Œå°†åœ¨ /var/tmp/build-root å»ºç«‹ä¸€ä¸ªæœ€å°çš„ç¯å¢ƒã€‚åœ¨æ­¤ç¯å¢ƒä¸­æ„å»ºåŒ…ã€‚å®Œæˆåï¼Œç”Ÿæˆçš„åŒ…ä½äº /var/tmp/build-root/usr/src/packages/RPMS ä¸­ã€‚\nbuild è„šæœ¬æä¾›å¤šä¸ªå…¶ä»–é€‰é¡¹ã€‚ä¾‹å¦‚ï¼Œä½¿è„šæœ¬ä¼˜å…ˆé€‰æ‹©æ‚¨è‡ªå·±çš„ RPMã€å¿½ç•¥æ„å»ºç¯å¢ƒçš„åˆå§‹åŒ–æˆ–è€…å°† rpm å‘½ä»¤é™åˆ¶åœ¨ä¸Šè¿°é˜¶æ®µä¹‹ä¸€ã€‚\nç”¨äº RPM å­˜æ¡£å’Œ RPM æ•°æ®åº“çš„å·¥å…· Midnight Commander (mc) å¯ä»¥æ˜¾ç¤º RPM å­˜æ¡£çš„å†…å®¹å¹¶å¤åˆ¶éƒ¨åˆ†å†…å®¹ã€‚å®ƒå°†å­˜æ¡£è¡¨ç¤ºä¸ºè™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼Œæä¾› Midnight Commander æ‰€æœ‰å¸¸ç”¨çš„èœå•é€‰é¡¹ã€‚ä½¿ç”¨ F3 é”®æ˜¾ç¤º HEADERã€‚ä½¿ç”¨å…‰æ ‡é”®å’Œ Enter é”®æŸ¥çœ‹å­˜æ¡£ç»“æ„ã€‚ä½¿ç”¨ F5 é”®å¤åˆ¶éƒ¨åˆ†å­˜æ¡£ã€‚\næ‹¥æœ‰å…¨éƒ¨åŠŸèƒ½çš„åŒ…ç®¡ç†å™¨å°†ä½œä¸º YaST æ¨¡å—æä¾›ã€‚\nPackman ä»€ä¹ˆæ˜¯ Packman ï¼Ÿ openSUSE çš„ Packman æ˜¯ Package man çš„ç¼©å†™ã€‚æ„å³æŒ‡ä¸€ç¾¤æ‰“åŒ…ç‹‚ç»„æˆçš„å›¢ä½“ã€‚ä»–ä»¬åœ¨å°Šé‡å¹¶é‡è§†ç‰ˆæƒçš„åŸºç¡€ä¸Šåšä¸€äº›è§„é¿ä¸“åˆ©çš„äº‹ã€‚æ€»ä¹‹ï¼Œä»–ä»¬æƒ³è¦è‡ªç”±æ‰“åŒ…ä»å¤šåª’ä½“åˆ°å¤§å‹è½¯ä»¶åˆ°æ¸¸æˆåˆ°ç”šè‡³æ˜¯è‡ªå·±çš„å›æ”¶ç«™çš„æ‰€æœ‰å†…å®¹ã€‚\nPackman å’Œ openSUSE çš„å…³ç³» Packman ä¸éš¶å±äºä»»ä½• openSUSE å®˜æ–¹ï¼Œæ˜¯ç‹¬ç«‹äº openSUSE ç¤¾åŒºä¹‹å¤–çš„ç¤¾åŒºï¼Œåªæ˜¯åŸºäº openSUSE æ‰“ç»™ openSUSE ç”¨çš„è½¯ä»¶åŒ…ã€‚æ³¨æ„ openSUSE ç¤¾åŒºä¹Ÿæ˜¯å®˜æ–¹ï¼ŒåŒæ ·æœ‰åœ¨ä¸“åˆ©æ³•æœ€ä¸ºä¸¥è‹›çš„ç¾å›½å’Œæ¬§æ´²æ³¨å†Œï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆ OBS ä¸èƒ½æ‰“åŒ…ä¸“åˆ©è½¯ä»¶çš„åŸå› ï¼Œå¦ä¸€ä¸ªåŸå› æ˜¯ OBS çš„æœåŠ¡å™¨åè½äºå¾·å›½è¯ºä¼¦å ¡ã€‚\nPackman çš„èµ„æºæ¥è‡ªäºæˆå‘˜æçŒ®ï¼Œä¸èƒ½å’Œ openSUSE å®˜æ–¹æœ‰ä»»ä½•çš„è”ç³»ï¼Œä¹Ÿå°±æ˜¯è¯´å³ä½¿æ˜¯ SuSE çš„æçŒ®ï¼Œä¹Ÿè¦æ”¾å¼ƒä¸€åˆ‡æƒåˆ©ã€‚ä¸èƒ½åƒç¤¾åŒºè‘£äº‹ä¼šé‚£æ ·ï¼Œä¸»å¸­è¦ç”± SuSE æŒ‡å®šï¼Œä¸€èˆ¬æ˜¯ SuSE å‘˜å·¥ã€‚\nPackman æ¬¢è¿å¤§å­¦å’Œç¤¾åŒºä¸ºå®ƒåšé•œåƒã€‚\nPackman æ”¶çº³ä»€ä¹ˆæ ·çš„è½¯ä»¶ ï¼Ÿ ç”±äºè‹±æ–‡çš„ free å¾ˆæœ‰è¿·æƒ‘æ€§ï¼ˆå¤§éƒ¨åˆ†å¤–å›½äººå–œæ¬¢ç”¨æ³•è¯­ Libreï¼Œä¹Ÿå°±æ˜¯è‡ªç”±ï¼‰ï¼š\n è¿™é‡Œçš„è‡ªç”±ï¼Œä»ç„¶ä¸åŒ…æ‹¬å•†ä¸šå’Œç§æœ‰è½¯ä»¶ï¼Œç‰ˆæƒäº§å“åº”è¯¥å°Šé‡ä»–ä»¬è‡ªæœ‰çš„åˆ†å‘æ¸ é“ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œè¿™é‡Œä»ç„¶ä¸åšç›—ç‰ˆï¼Œä¹Ÿä¸åšå…è´¹ä½¿ç”¨çš„å•†ä¸šè½¯ä»¶ã€‚ä¸è§„é¿ç‰ˆæƒï¼Œåªè§„é¿ä¸“åˆ©ã€‚ç‰ˆæƒåŒæ ·æ˜¯ä¿æŠ¤ Linux ä¸‹çš„å¼€æºä½œå“ä¸è¢«ç›—ç‰ˆçš„åŠ›é‡ï¼Œè€Œä¸“åˆ©åˆ™æ˜¯å¤§å…¬å¸ç”¨æ¥ç‰Ÿåˆ©çš„å·¥å…·ã€‚ è¿™é‡Œåªæ¥çº³ç”±äºæˆ–æœ‰ä¸“åˆ©çº çº·è€Œä¸èƒ½å­˜åœ¨äºå®˜æ–¹æ„å»ºæœåŠ¡ä¸­çš„è½¯ä»¶ã€‚æ¯”å¦‚ FFMPEGï¼ŒMPLAYERï¼ŒMP3, AMULEã€‚å’Œä¾èµ–å®ƒä»¬çš„è½¯ä»¶ã€‚ä»¥åŠå¯ä»¥è‡ªç”±åˆ†å‘çš„è½¯ä»¶ï¼Œå¹¶ä¸”æ„¿æ„å…è®¸ä»æºä»£ç ç¼–è¯‘ã€‚  ä¹Ÿå°±æ˜¯è¯´ï¼Œå¤§éƒ¨åˆ†æ—¶å€™è¿™é‡Œçš„è½¯ä»¶éƒ½æ˜¯ FOSS/LOSS ï¼ˆè‡ªç”±å’Œå¼€æºè½¯ä»¶ï¼‰ï¼Œè€Œä¸æ˜¯å…è´¹è½¯ä»¶ã€‚è€Œä¸”æ˜¯å­˜åœ¨æˆ–æœ‰ä¸“åˆ©çº çº·çš„è½¯ä»¶ï¼Œæƒ³æƒ³çœ‹ä»€ä¹ˆè½¯ä»¶æœ€å®¹æ˜“å‘ç”Ÿä¸“åˆ©çº çº·å‘¢ï¼Ÿ å¤šåª’ä½“ã€‚äºæ˜¯ Packman é‡Œæœ‰é‚£ä¹ˆå¤šå¤šåª’ä½“è½¯ä»¶ä¹Ÿå°±ä¸å¥‡æ€ªäº†ã€‚\nå¦å¤– Packman è¿˜å…è®¸ä¸¤ç±»è½¯ä»¶ï¼šå‘è¡Œç‰ˆä¸­é•¿æœŸä¸æ›´æ–°çš„è½¯ä»¶çš„æœ€æ–°ç‰ˆï¼Œå’Œå‘è¡Œç‰ˆä¸­æ²¡æœ‰çš„è½¯ä»¶ã€‚ä½†è¿™æ˜¯ FTP åšæºçš„æ—¶ä»£å»¶ç»­ä¸‹æ¥çš„ã€‚ç›®å‰è¿™ä¸¤ç±»è½¯ä»¶éƒ½å»ºè®®èµ° OBS æµç¨‹æ¥åšï¼Œå› ä¸º OBS çš„æœåŠ¡å™¨æ¯” Packman çš„å¤šå¿«å¥½çœã€‚\nTips\u0026amp;Questions è§£å†³KDEä¸‹KDE Walleté‡è£…ç³»ç»Ÿåæ¯æ¬¡ç™»é™†éœ€è¦è¾“å…¥å¯†ç  åœ¨æ¯æ¬¡é‡è£…æˆ–è€…é…ç½®æ¡Œé¢åkdewalletæ€»æ˜¯åœ¨ç™»é™†ç³»ç»Ÿä¹‹åæç¤ºè¾“å…¥å¯†ç ï¼Œè™½ç„¶åœ¨è¾“å…¥å¯†ç åèƒ½å¤Ÿç»§ç»­æ­£å¸¸ä½¿ç”¨ï¼Œä½†æ˜¯æ¯æ¬¡ç™»é™†ç³»ç»Ÿéƒ½éœ€è¦è¾“å…¥ä¸€æ¬¡å¯†ç è¿˜æ˜¯å¾ˆçƒ¦äººçš„ã€‚\nå‡ºç°çš„åŸå› ï¼š\nåœ¨é‡æ–°é…ç½®æ¡Œé¢æˆ–è€…é‡è£…ç³»ç»Ÿä¹‹åKDE Walletæ‰€éœ€è¦çš„ä¸€äº›å¿…å¤‡éœ€è¦ä¾èµ–ç»„ä»¶æœªèƒ½æ‰¾åˆ°ï¼Œæ‰€ä»¥å¯¼è‡´ä¸èƒ½æ­£ç¡®è¿è¡ŒKDE Walletï¼Œæ‰€ä»¥åªè¦å®‰è£…å…¶æ‰€éœ€çš„ç»„ä»¶å³å¯ã€‚è€Œå…¶æ‰€éœ€çš„ä½†æ˜¯æœªèƒ½è‡ªåŠ¨å®‰è£…çš„ä¾èµ–ç»„ä»¶æ­£æ˜¯ pam_kwalletï¼Œkwallet-pam ä¸ GnuPG keys ä¸å…¼å®¹ï¼Œæ‰€ä»¥ KDE Wallet å¿…é¡»ä½¿ç”¨ blowfish åŠ å¯†æ–¹å¼ã€‚\nè§£å†³æ–¹æ¡ˆ ï¼š\nå®‰è£…ç¼ºå¤±çš„ç»„ä»¶\nsudo zypper in pam_kwallet ä¸ºäº†ä¿é™©èµ·è§ï¼ŒæŸ¥çœ‹ä¸ªäººç›®å½•ä¸‹æ˜¯å¦å­˜åœ¨~/.kde4/share/apps/kwalletæ–‡ä»¶å¤¹ï¼Œå¦‚æœå­˜åœ¨åˆ™å°†å…¶åˆ é™¤æˆ–è€…é‡å‘½åä»¥é¿å…å‡ºç°å†²çªï¼Œå¹¶ä¸”è¿˜éœ€è¦ç¡®å®šä½¿ç”¨çš„é’±åŒ…åä¸ºkdewalletå¹¶ä¸”å¯†ç ä¸ºå½“å‰ç”¨æˆ·çš„å¯†ç ã€‚\nå¦‚æ­¤ä¾¿å¯å®Œå…¨æ­£å¸¸ä½¿ç”¨KDE Wallet\nè§£å†³æ–¹æ¡ˆå‚è€ƒarch wikiçš„KDE Walletå°èŠ‚ä¸­ã€‚\nCould not open a connection to your authentication agent æ‰§è¡Œssh-addæ—¶å‡ºç°\nssh-agent bash æ— æ³•è¯»å– exfat ã€ .7z å’Œ .rar sudo zypper in fuse-exfat exfat-utilssudo zypper in p7zip-fullsudo zypper in unrar ä¸å…³é—­å•å‡»è¿è¡Œ Dolphin é»˜è®¤å•å‡»è¿è¡Œï¼Œå¤šæ•°äººéƒ½ç†Ÿæ‚‰åŒå‡»è¿è¡Œï¼Œä½†æ˜¯å…¶å®åªè¦ç‚¹å‡»æ–‡ä»¶å·¦ä¸Šè§’çš„åŠ å·ï¼Œå°±å¯ä»¥ä¸è¿è¡Œï¼Œç›¸å½“äºåŒå‡»ä¸‹çš„å•å‡»é€‰æ‹©æ–‡ä»¶ã€‚\næ€æ­»çª—å£ æŒ‰ CTRL + ESC ï¼Œå¯åŠ¨ç³»ç»Ÿå«å£«ï¼Œç‚¹å‡» å·¥å…· ï¼Œç„¶åç‚¹å‡» æ€æ­»çª—å£ ï¼Œç„¶åç‚¹å‡»ä½ æƒ³å¹²æ‰çš„çª—å£ã€‚\nä¸»é¢˜ ä¸æ˜¯æˆ‘å–œæ¬¢é»‘æš—ä¸»é¢˜ï¼Œè€Œæ˜¯çƒ­é—¨çš„å¥½çœ‹çš„ä¸»é¢˜éƒ½æ˜¯é»‘æš—ä¸»é¢˜ã€‚æ‰€ä»¥å°è¯•å¦‚ä¸‹ï¼š\n å…¨å±€é»‘æš—ä¸»é¢˜ä¸º Sweet chrome é»‘æš—ä¸»é¢˜  ç³»ç»Ÿè®¾ç½® Theme ä½¿ç”¨ GTK+ï¼Œå¯ä»¥ä½¿æ ‡é¢˜æ ï¼Œè®¾ç½®èœå•æ ä¸ºé»‘æš—ï¼Œä½†æ˜¯ç½‘é¡µã€è®¾ç½®é¡µä¸ºç™½è‰²ã€‚ Chrome é»‘æš—æ¨¡å¼ï¼šåœ¨ç½‘å€æ è¾“å…¥ chrome://flags/#enable-force-darkï¼Œå¯ç”¨ã€‚å¯ä»¥ä½¿è®¾ç½®é¡µé¢é»‘æš—ï¼Œç½‘é¡µé»‘æš—ï¼Œä½†æ˜¯è¿›å…¥ segmentfaultï¼Œä½ ä¼šå‘ç° segment ä¸è§äº†ã€‚ å®‰è£… dark reader æ’ä»¶ã€‚å¯ä»¥ä½¿ç½‘é¡µé»‘æš—ï¼Œæ¯” chrome è‡ªå¸¦è¡¨ç°è¦å¥½ã€‚ä½†æ˜¯æ‰“å¼€æ–°é¡µé¢æ—¶ï¼Œè¿˜æ˜¯æœ‰çŸ­æš‚çš„ç™½è‰²ã€‚   Firefox é»‘æš—ä¸»é¢˜  è®¾ç½®é¡µçš„é¢œè‰²ä¼šä¸ç³»ç»Ÿä¸€è‡´ï¼Œä¹Ÿå°±æ˜¯ä¸ chrome ç›¸åã€‚ firefox theme ä¼šæ”¹å˜æ ‡é¢˜æ ã€è®¾ç½®èœå•æ é¢œè‰²ã€‚    å®é™…ä¸Šä½ ä¼šå‘ç°ï¼Œæ— æ³•è¾¾åˆ°ä¸€è‡´çš„é»‘æš—ï¼Œåè€Œä½¿å¾—çœ¼ç›ä¸èˆ’æœï¼Œæ‰€ä»¥æˆ‘æ”¾å¼ƒäº†é»‘æš—ä¸»é¢˜ã€‚\näº®è‰²æ··åˆä¸»é¢˜ï¼š\n Global Theme ä¸º openSUSE Plasma ä¸º Edna-light Window Decorations ä¸º Edna-light Font ä¸º Source Hans Sans CN å’Œ Jet Brains Moon Icon ä¸º Papirus SSDM Theme ä¸º chili for plasma kconsole ä¸»é¢˜ä¸º sweet å¼€å§‹æ”¹ä¸º application dashboard  å®é™…ä½ ä¼šå‘ç°ï¼Œæ··åˆä¸»é¢˜æ²¡æœ‰ä¸€ä¸ªå•ç‹¬ä¸»é¢˜æ­é…çš„é‚£ä¹ˆåè°ƒã€‚\nçª—ä½“å†…å®¹äº®è‰²ï¼Œå…¶ä»–éƒ¨åˆ†ä¸ºé»‘æš—ï¼Œå³æ ‡å‡†ä¸»é¢˜:\n å…¨å±€ä¸»é¢˜ Sweet Colors ä¸º Breezeï¼Œä½¿å¾— window å†…å®¹ä¸ºäº®è‰² Window Decorations ä¸º sweet-dark-transparentï¼Œè®¾ç½®æ ‡é¢˜æ  Icon ä¸º Papirus SSDM Theme ä¸º sweet fcitx ä¸º dartmouthã€‚  æ„Ÿè§‰å¯ä»¥ã€‚\nDesktop Effectsï¼š\n Magic Lamp 400ms Wobbly Windows  ä¸å¦‚ä¸è¦ã€‚\nopenSUSE çš„é»˜è®¤ /etc/sudoers Defaults targetALL ALL=(ALL) ALLroot ALL=(ALL) ALL å¹¶æŠŠrootå¯†ç è®¾ç½®ä¸ºå®‰è£…æ—¶ç”¨æˆ·å¯†ç ã€‚\nè¿™å¯¼è‡´ä½ åœ¨è£…å®Œç³»ç»Ÿåï¼Œå¦‚æœæ”¹äº†å¯†ç ï¼Œä¾æ—§éœ€è¦é€šè¿‡åŸæ¥çš„å¯†ç è·å– root æƒé™ã€‚\nvscode keychain issues for KDE $ sudo zypper in gnome-keyring æç¤ºæ·»åŠ å¯†ç çš„æ—¶å€™ä¸ºç©ºå°±è¡Œäº†ï¼Œå¦åˆ™æ¯æ¬¡å¯åŠ¨ vscode éƒ½éœ€è¦è¾“å…¥ä¸€æ¬¡å¯†ç ã€‚\nNVIDIA æœ‰ä¸¤ç§ä¸ºè‹±ä¼Ÿè¾¾ï¼ˆNVIDIAï¼‰æ˜¾å¡æä¾›çš„é©±åŠ¨ï¼š\n ä¸º NVIDIA ç¡¬ä»¶æä¾›çš„è‡ªç”±å¼€æºçš„é©±åŠ¨åå« nouveauã€‚ æ¥è‡ª NVIDIA å‚å•†è‡ªå·±çš„é©±åŠ¨åä¸º nvidiaï¼Œä½†ç”±äºè®¸å¯è¯é—®é¢˜ï¼Œå®ƒä¸èƒ½ç›´æ¥è¢«é›†æˆè¿›å…¥ openSUSE ã€‚  æ·»åŠ  Nvdia è½¯ä»¶æº\n# zypper addrepo --refresh 'https://download.nvidia.com/opensuse/leap/$releasever' NVIDIA ç¡®å®šæ˜¾å¡å‹å·\n# hwinfo --gfxcard | grep Model å®‰è£…é©±åŠ¨\n# zypper in x11-video-nvidiaG05 é‡å¯ç¡®è®¤æ˜¯å¦åŠ è½½\n# lsmod | grep nvidia å¸¸ç”¨è½¯ä»¶ Typora å­—ä½“ å¦‚æœ Typora å­—ä½“å¦‚ä¸Šé¢é‚£æ ·ï¼Œæ¯ä¸ªå­—å¤§å°ä¸ä¸€æ ·ï¼š\n  æ•´ä¸ªåº”ç”¨çš„è¯­è¨€è®¾ç½®ä¸ºè‹±è¯­\n  åœ¨ conf.user.json æŒ‡å®šå­—ä½“\n{ \u0026#34;defaultFontFamily\u0026#34;: { \u0026#34;standard\u0026#34;: \u0026#34;Source Han Sans CN\u0026#34;, //String - Defaults to \u0026#34;Times New Roman\u0026#34;.  \u0026#34;serif\u0026#34;: \u0026#34;Source Han Sans CN\u0026#34;, // String - Defaults to \u0026#34;Times New Roman\u0026#34;.  \u0026#34;sansSerif\u0026#34;: \u0026#34;Source Han Sans CN\u0026#34;, // String - Defaults to \u0026#34;Arial\u0026#34;.  \u0026#34;monospace\u0026#34;: \u0026#34;JetBrains Mono\u0026#34; // String - Defaults to \u0026#34;Courier New\u0026#34;.  } }   flatpak run: Invalid MIT-MAGIC-COOKIE-1 key rm .Xauthority Linux Deploy å‡†å¤‡ ä¸€ä¸ª Root äº†çš„ Android æ‰‹æœº\nBusy Boxï¼šLinux Deploy æ”¯æ’‘è½¯ä»¶ã€‚\nLinux deployï¼šLinux ç³»ç»Ÿæ”¯æ’‘è½¯ä»¶ã€‚\nå®‰è£… Busy Box ç‚¹å‡»å®‰è£…ï¼Œç­‰å¾…ç¨‹åºè‡ªè¡Œè¿è¡Œï¼Œåœ¨ç•Œé¢ä¸­è¾“å‡º ## END åé€€å‡ºç¨‹åºã€‚\nLinux deploy  ç‚¹å‡»å·¦å›¾å·¦ä¸Šè§’éƒ¨åˆ†ï¼Œé€‰æ‹© è®¾ç½®ï¼Œåœ¨è®¾ç½®ç•Œé¢ä¸­æ‰¾åˆ°PATHå˜é‡ï¼Œèµ‹äºˆå…¶å€¼ /system/xbinã€‚ å»ºè®®å¼€å¯ é”å®šWifi åŠŸèƒ½ã€‚ æ¥ç€é€€å›ä¸»ç•Œé¢ï¼Œç‚¹å‡»å³ä¸‹è§’éƒ¨åˆ†ã€‚ å‘è¡Œç‰ˆ çœ‹ä¸ªäººå–œå¥½é€‰æ‹©ï¼ŒDebian ç³»ï¼ˆDebianï¼ŒKailiï¼ŒUbuntuï¼‰è¾ƒçƒ­é—¨ã€‚ æ¶æ„ é»˜è®¤ã€‚ æº é»˜è®¤ã€‚å¦‚æœä¸‹çš„æ…¢çš„è¯ï¼Œå°±ä»¿ç…§é»˜è®¤çš„æºæ¢ä¸ºå›½å†…çš„æºï¼Œå¦‚ USTC MIRRORSï¼Œä½†æ˜¯ä¸è¦ç‰¹æ„å»æ¢æºï¼Œå®˜æ–¹çš„æºç”¨çš„äº†çš„è¯å®˜æ–¹çš„æºæœ€å¥½ã€‚ å®‰è£…è·¯å¾„ ï¼šå®‰è£…åœ¨æ‰‹æœºè‡ªå¸¦çš„å­˜å‚¨ç©ºé—´ä¸­ï¼Œåˆ™åœ¨è·¯å¾„å¼€å¤´åŠ ä¸Š${ENV_DIR}ï¼›å®‰è£…åœ¨ sdcard ä¸­ï¼ŒåŠ ä¸Š${EXTERNAL_STORAGE}ã€‚ æ–‡ä»¶ç³»ç»Ÿ ï¼šæ¨è ext4ã€‚ ç”¨æˆ·å å’Œ å¯†ç  è‡ªå®šä¹‰ã€‚ DNS é»˜è®¤ã€‚ æœ¬åœ°åŒ– ï¼šç®€ä½“ä¸­æ–‡å¯ä»¥é€‰æ‹© zh_CN.UTF-8ï¼Œå»ºè®®é€‰æ‹© en_US.UTF-8 ã€‚ æŒ‚è½½åˆ—è¡¨ï¼šæ·»åŠ è®¿é—®æ‰‹æœºå†…å®¹çš„ç›®å½•ï¼Œæ‰‹æœºç›®å½•ï¼šæŒ‚è½½ç‚¹ï¼Œå¦‚ /sdcard:/mntï¼Œä¹‹åä¼šè‡ªåŠ¨æŒ‚è½½ã€‚ å¼€å¯SSHã€‚ å›¾å½¢ç•Œé¢åŠŸèƒ½ï¼Œéœ€è¦çš„è¯å°±é€‰ XFce ä¸ºæ¡Œé¢ï¼ŒXFce`æ˜¯è½»é‡çº§æ¡Œé¢ç¯å¢ƒã€‚ é€€å‡ºç³»ç»Ÿè®¾ç½®ç•Œé¢ï¼Œç‚¹å‡»ä¸»ç•Œé¢å³ä¸Šè§’ï¼Œé€‰æ‹©å®‰è£…ã€‚ ç­‰å¾…ç¨‹åºè‡ªè¡Œå®‰è£…Linuxç³»ç»Ÿï¼Œå¼€å§‹æ—¶ä¼šè‡ªåŠ¨åˆ›é€ ä¸€ä¸ª4Gå·¦å³å¤§å°çš„imgæ–‡ä»¶ï¼Œè¿™ä¸ªæ˜¯é»˜è®¤çš„å¤§å°ï¼Œä½ å¯ä»¥æ ¹æ®ä½ æ‰‹æœºçš„å®¹é‡è‡ªå®šä¹‰ï¼Œåˆ›é€ æ–‡ä»¶éœ€è¦ä¸€ç‚¹æ—¶é—´ï¼Œå±å¹•ä¼šå¾ˆå®‰é™ï¼Œå†ç„¶åä¼šå®‰è£…å„ç§ä¸œè¥¿ï¼Œå±å¹•ä¼šè¾“å‡ºå¾ˆå¤šä¿¡æ¯ï¼Œæ ¹æ®ä½ çš„æºçš„é€Ÿåº¦ï¼Œç­‰å¾…æ—¶é—´ä¸ç­‰ï¼Œçœ‹åˆ° \u0026lt;\u0026lt;\u0026lt;deploy åˆ™å®‰è£…å®Œæ¯•ã€‚å¦‚æœä¸­é—´æ²¡æœ‰ failed åˆ™å®‰è£…æˆåŠŸã€‚å®‰è£…å¤±è´¥çš„è¯å°±éœ€è¦é‡æ–°å®‰è£…ï¼Œæ¢ä¸ªå¿«ä¸€ç‚¹çš„ç½‘ï¼Œæˆ–è€…å¥½ä¸€ç‚¹çš„æºã€‚ æ³¨æ„ï¼šå®‰è£…å®Œæ¯•åè¦å…ˆç‚¹å‡»åœæ­¢æŒ‰é’®ï¼Œå†æŒ‰å¯åŠ¨æŒ‰é’®ã€‚è¿™ä¸ªå¾ˆé‡è¦ï¼Œä¸ç„¶ä½ å°±å¾—é‡è£…äº†ã€‚  ä½¿ç”¨   Andorid ç«¯ç”¨ ConnectBox\n  Windowsç”¨ putty ï¼Œå›¾å½¢ç•Œé¢ç”¨ VNC Viewerã€‚VNC Viewer ç›´æ¥æœä¸»æœºIPå°±è¡Œï¼ŒVNC Server åœ¨ä½ é€‰æ‹©å®‰è£…å›¾å½¢ç•Œé¢åŠŸèƒ½æ—¶å°±è‡ªåŠ¨å®‰è£…äº†ï¼Œä¸éœ€è¦å†å®‰è£… vnc4serverã€‚\n  Linux è¾“å…¥ssh username@hostnameå°±è¡Œã€‚\n  å…¶ä»–   å®‰è£…åå¦‚æœç”¨ vnc viewer åªæœ‰ä¸€ä¸ªç‚¹çš„è¯ï¼Œå¯ä»¥æ¢ä¸€ä¸ªå‘è¡Œç‰ˆï¼Œæˆ‘å°è¯•çš„ CentOS æœ‰è¿™ä¸ªé—®é¢˜ã€‚\n  Linuxè¿çš„æ—¶å€™å‡ºç° WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!ï¼š\nssh-keygen -R + è¾“å…¥æœåŠ¡å™¨çš„IP   altarch æ¶æ„çš„æ‰‹æœº CentOS ç³»ç»Ÿæ¢æº\ncp CentOS-7-armhfp.repo CentOS-Base.repo mv CentOS-7-armhfp.repo CentOS-7-armhfp.repo.backup vi CentOS-Base.repo baseurl=https://mirrors.ustc.edu.cn/centos-altarch/7.6.1810/os/armhfp/ yum makecache yum update   å¦‚æœä½ ä¹‹å‰æ²¡æœ‰å®‰è£…VNCçš„è¯ï¼Œç°åœ¨åˆæƒ³è£…ï¼š\nyum -y install tigervnc-server   ","permalink":"https://sakamotokurome.github.io/posts/distributions/","summary":"Fedora [fÉ™ËˆdÉ”rÉ™] è´¹å¤šæ‹‰ Fedora å®šåˆ¶ç‰ˆ ä¸ºä»€ä¹ˆ Linus Torvalds ç”¨ Fedora 2008ï¼šlinuså¯¹å‘è¡Œç‰ˆçš„è¦æ±‚æ˜¯\u0026quot;æ˜“å®‰è£…ï¼Œæ¯”è¾ƒè´´è¿‘ä¸Šæ¸¸\u0026quot;å³å¯ã€‚ 201","title":"Distributions"},{"content":" The goals of the FreeBSD Project are to provide software that may be used for any purpose and without strings attached. Many of us have a significant investment in the code (and project) and would certainly not mind a little financial compensation now and then, but we are definitely not prepared to insist on it. We believe that our first and foremost \u0026ldquo;mission\u0026rdquo; is to provide code to any and all comers, and for whatever purpose, so that the code gets the widest possible use and provides the widest possible benefit. This is, I believe, one of the most fundamental goals of Free Software and one that we enthusiastically support.\nThat code in our source tree which falls under the GNU General Public License (GPL) or Library General Public License (LGPL) comes with slightly more strings attached, though at least on the side of enforced access rather than the usual opposite. Due to the additional complexities that can evolve in the commercial use of GPL software we do, however, prefer software submitted under the more relaxed BSD license when it is a reasonable option to do so.\nJordan Hubbard - FreeBSD Handbook\n Install FreeBSD BIOS Disable unused and unwanted options.\nInstall   To put the image on the pendrive we will use the dd tool available on almost any Mac OS X (macOS) and Linux system. For Windows You will have to download it from here â€“ dd for windows( bs=1M on Linux/Windows ).ï¼ˆå¯ç”¨ Rufus æ›¿ä»£ï¼‰\nsudo dd if=FreeBSD-11.1-RELEASE-amd64-memstick.img of=/dev/da1 bs=1m   When we have a new machine there is always a problem with new name for it. The RFC 1178 Choosing a Name for Your Computer from 1990 year tries to address that issue\n  We will use ZFS because we want to use Boot Environments with sysutils/beadm port.\n Hit [ENTER] on the Pool Type/Disks to select target disk to install FreeBSD on. Now (in FreeBSD 12.x) it is possible to install FreeBSD on GELI encrypted root on ZFS pool without any additional partitions or filesystems. You need to select is Yes for the Encryption part . I advice using GPT (BIOS+UEFI) as it will support both system types so when you are running BIOS system now and will move the disk to other system that boots with UEFI it will also just work out of the box. We will set SWAP size to 0 (no SWAP) as it will not be needed. If we will need SWAP in the future, then we will create ZVOL on ZFS and use it as a SWAP device.     Select services as shown below.   Enable all security hardening features as shown below.  X11 Window System X æœ€åˆè¨­è¨ˆæ˜¯ä»¥ç¶²è·¯ç‚ºä¸­å¿ƒï¼Œæ¡ç”¨ â€œclient-serverâ€ æ¶æ§‹ã€‚åœ¨æ­¤æ¶æ§‹ä¸‹ â€œX ä¼ºæœå™¨â€ åœ¨æœ‰éµç›¤ã€è¢å¹•ã€æ»‘é¼ çš„é›»è…¦ä¸Šé‹ä½œã€‚è©²ä¼ºæœå™¨è² è²¬çš„å·¥ä½œåŒ…å«ç®¡ç†é¡¯ç¤ºã€è™•ç†ä¾†è‡ªéµç›¤ã€æ»‘é¼ çš„è¼¸å…¥åŠä¾†è‡ªå…¶ä»–è¨­å‚™)çš„è¼¸å…¥æˆ–è¼¸å‡ºã€‚\næ¯å€‹ X æ‡‰ç”¨ç¨‹å¼ï¼Œå¦‚ XTermã€Firefox éƒ½æ˜¯ â€œå®¢æˆ¶ç«¯â€ã€‚\nè¦–çª—ç®¡ç†ç¨‹å¼è¦å®šè¢å¹•ä¸Šçš„è¦–çª—è©²é•·ä»€éº¼æ¨£ã€è¦å¦‚ä½•ç§»å‹•æ»‘é¼ æŒ‡æ¨™ã€ è¦ç”¨ä»€éº¼éµä¾†åœ¨è¦–çª—åˆ‡æ›ã€æ¯å€‹è¦–çª—çš„æ¨™é¡Œåˆ—é•·ç›¸ï¼ŒåŠæ˜¯å¦è©²æœ‰é—œé–‰æŒ‰éˆ•ï¼Œç­‰ç­‰ã€‚è¦–çª—ç®¡ç†ç¨‹å¼è² è²¬æ»‘é¼ æŒ‡æ¨™çš„èšç„¦æ”¿ç­–ã€‚ èšç„¦æ”¿ç­–æŒ‡çš„æ˜¯å¦‚ä½•æ±ºå®šä½¿ç”¨ä¸­åŠæ¥æ”¶éµç›¤è¼¸å…¥çš„è¦–çª—ã€‚é€šå¸¸è¼ƒç‚ºäººç†Ÿæ‚‰çš„èšç„¦æ”¿ç­–å«åš â€œclick-to-focusâ€ï¼Œé€™å€‹æ¨¡å¼ä¸­ï¼Œæ»‘é¼ é»é¸åˆ°çš„è¦–çª—ä¾¿æœƒè™•æ–¼ä½œç”¨ä¸­ (Active) çš„ç‹€æ…‹ã€‚\nKDE èˆ‡ GNOME æœƒè¢«ç¨±ä½œæ¡Œé¢ç’°å¢ƒæ˜¯å› ç‚ºåŒ…å«äº†å®Œæ•´å¸¸ç”¨æ¡Œé¢ä½œæ¥­çš„æ‡‰ç”¨ç¨‹å¼ã€‚\nBIOS or UEFI If you find a device that is not supported by any â€˜acceleratedâ€™driver like intel or nvidia. You would use vesa driver (Video Electronics Standards Association) while booting in BIOS mode and You will use scfb driver (System Console Frame Buffer) while booting on UEFI mode. This can be checked by\nsudo sysctl machdep.bootmethod Packages sudo pkg install xorg Xorg Configuration   é¡¯ç¤ºå¡ã€é¡¯ç¤ºå™¨ä»¥åŠè¼¸å…¥è£ç½®æœƒè‡ªå‹•åµæ¸¬ï¼Œç„¡é ˆä»»ä½•æ‰‹å‹•è¨­ç½®ã€‚é™¤éè‡ªå‹•è¨­ç½®å¤±æ•—ï¼Œå¦å‰‡è«‹å‹¿å»ºç«‹ xorg.conf æˆ–åŸ·è¡Œ -configure æ­¥é©Ÿã€‚\n  åŠ å…¥è¦åŸ·è¡Œ Xorg çš„ä½¿ç”¨è€…åˆ° video æˆ– wheel ç¾¤çµ„ï¼Œä»¥ä¾¿åœ¨å¯ç”¨æ™‚èƒ½é–‹å•Ÿ 3D åŠ é€Ÿã€‚è¦åŠ å…¥ä½¿ç”¨è€… jru åˆ°ä»»ä¸€å€‹å¯ç”¨çš„ç¾¤çµ„ï¼š\nsudo pw groupmod video -m jru || pw groupmod wheel -m jru   Login Class(å¯è§£å†³ä¸­æ–‡ä¹±ç ï¼Œpowershell å­—ç¬¦æ˜¾ç¤ºæ–¹å½¢)\nAdd this login class to the /etc/login.conf file.\nvideo:\\  :charset=UTF-8:\\  :lang=en_US.UTF-8:\\  :tc=default: Rebuild the login class database.\nsudo cap_mkdb /etc/login.conf Lets set the login class to video for the vuk user.\nsudo pw usermod -L video -n vuk How the account looks after setting the login class.\nsudo grep vuk /etc/master.passwd vuk:{REMOVED}:1000:1000:video:0:0:vuk:/home/vuk:/bin/sh Now logout and login again to make that work. View the changes through the locale command.\n  æ˜¾å¡é©±åŠ¨ï¼šä½¿ç”¨å¤šæª”ï¼Œæ¯ä¸€å€‹æª”æ¡ˆåªè¨­å®šä¸€å€‹æŒ‡å®šé …ç›®æœƒè¼ƒå‚³çµ±ä½¿ç”¨å–®ä¸€ /etc/X11/xorg.conf è¨­å®šä¾†çš„ç°¡å–®ã€‚å®Œæ•´è·¯å¾‘ç‚º /usr/local/etc/X11/xorg.conf.d/ã€‚ï¼ˆå®‰è£… intel æ˜¾å¡é©±åŠ¨ä¸ nvidia é©±åŠ¨éš¾ï¼Œscfb ä¸ vesa é©±åŠ¨æ— æ³•è°ƒæ•´åˆ†è¾¨ç‡ï¼‰\nsudo vi /usr/local/etc/X11/xorg.conf.d/driver-intel.conf Section \u0026#34;Device\u0026#34; Identifier \u0026#34;Card0\u0026#34; Driver \u0026#34;scfb\u0026#34; BusID \u0026#34;PCI:0:2:0\u0026#34; EndSection è‹¥æœ‰å¤šå¼µé¡¯ç¤ºå¡ï¼Œå¯å–æ¶ˆè¨»è§£ BusID identifier ç„¶å¾Œè¨­å®šç‚ºæƒ³è¦çš„é¡¯ç¤ºå¡ï¼Œé¡¯ç¤ºå¡çš„ Bus ID æ¸…å–®å¯ä»¥ä½¿ç”¨ pciconf -lv | grep -B3 display å–å¾—ã€‚\n  æ‰‹å‹•è¨­å®š\n  è¨­å®šæª”å¯ç”± Xorg æ ¹æ“šåµæ¸¬åˆ°çš„ç¡¬é«”ç”¢ç”Ÿï¼Œé€™å€‹æª”æ¡ˆå°ä¸€é–‹å§‹è‡ªè¨‚è¨­å®šå¾ˆæœ‰å¹«åŠ©ã€‚\nXorg -configure   è¨­å®šæª”æœƒå„²å­˜è‡³ /root/xorg.conf.newï¼Œåšä»»ä½•éœ€è¦çš„æ›´æ”¹ï¼Œç„¶å¾Œä½¿ç”¨ä»¥ä¸‹æŒ‡ä»¤æ¸¬è©¦è©²æª”æ¡ˆï¼š\nXorg -config /root/xorg.conf.new åœ¨æ–°è¨­å®šæª”èª¿æ•´èˆ‡æ¸¬è©¦éå¾Œï¼Œä¾¿å¯åˆ†é–‹æˆè¼ƒå°çš„æª”æ¡ˆæ”¾ç½®åˆ°æ­£å¸¸çš„ä½ç½® /usr/local/etc/X11/xorg.conf.d/ã€‚\n    Install Desktop Enviroment   FreeBSD æ¡Œé¢å‘è¡Œç‰ˆ\n GhostBSD æ˜¯ FreeBSD æ¡Œé¢å‘è¡Œç‰ˆï¼Œæ³¨æ„ä½¿ç”¨ Official ç‰ˆæœ¬ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨ FreeBSD æºå‡çº§ã€‚ nomadbsd æ˜¯ä¸ªéå¸¸æ¼‚äº®çš„ FreeBSD æ¡Œé¢å‘è¡Œç‰ˆ ï¼Œå¾·å›½äº§ã€‚ å¯ä»¥åœ¨è™šæ‹Ÿæœºé‡Œé¢å®‰è£… FreeBSD æ¡Œé¢å‘è¡Œç‰ˆï¼Œç„¶åæ‰¾åˆ°è‡ªå·±æƒ³ç”¨çš„æ¡Œé¢å·¥å…·ï¼Œå†å®šåˆ¶è‡ªå·±çš„ FreeBSD æ¡Œé¢ã€‚    Install Desktop Environment\nsudo pkg install gnome3 sudo pkg install gnome3-lite sudo pkg install x11/kde5 sudo pkg install xfce sudo pkg install mate   Install/Enable Display Manager: You have to decide how You want to start your X11 Window Server, you may login in plan text console and then type xinit or startx to read your ~/.xinitrc configuration and daemons (The difference between xinit and startx is that startx command executes xinit command with arguments.) or You may want to use X11 Login manager such as xdm/sddm/slim with ~/.xsession configuration to load after successful login.\nsudo pkg install xdm sudo pkg install slim\t# xfce,mateï¼Œslim æœ‰ä¸ª slim-themes è½¯ä»¶åŒ… sudo pkg install x11/sddm\t# kde While xinit run commands based on the ~/.xinitrc file the XDM login manager looks for the ~/.xsession file. As You will be loading same stuff regardless of the startup method we will create a link of ~/.xsession pointing to the ~/.xinitrc file. This way either method You choose You will always end with started X11 session.\nln -s ~/.xinitrc ~/.xsession One more case about the ~/.xinitrc (or ~/.xsession) file. It is interpreted as a shell script (and yes you can do if/then/else/fi and case/esac or for/while POSIX shell scripting in it) but it does not need to be executable. The last command in this file MUST NOT to be put in the background (must be without the \u0026amp; char at the end) because the X11 session will end.\n  Setting\nsudo vi /etc/ttys\t# xdm ttyv8 \u0026#34;/usr/local/bin/xdm -nodaemon\u0026#34; xterm on secure sudo vi /etc/fstab\t# gnome, kde proc /proc procfs rw 0 0 sudo vi /etc/rc.conf moused_enalbe=\u0026#34;YES\u0026#34; dbus_enable=\u0026#34;YES\u0026#34;\t# gnome, kde, xfce hald_enable=\u0026#34;YES\u0026#34;\t# gnome, kde, mate gdm_enalbe=\u0026#34;YES\u0026#34;\t# gnome å¯åŠ¨ sddm_enable=\u0026#34;YES\u0026#34;\t# kde å¯åŠ¨ slim_enable=\u0026#34;YES\u0026#34;\t# xfce,mate gnome_enable=\u0026#34;YES\u0026#34;\t# gnome æœåŠ¡   slim Usage(Failed to execute login command)\nsudo vi ~/.xinitrc exec mate-session\t# mate exec xfce4-session\t# xfce   Components   Window Manager: Openbox\u0026hellip;\n  Status Bar: Also known as information bar, the place on the screen that would provide You needed information such as current date and time, CPU, RAM and storage usage, current network information or battery status.\n  While Xmobar is nice solution it comes with about 2 GB of dependencies of Haskell and Haskell libraries.\n  While Polybar can look very nice on screenshots it is a lot more heavy on resources and is limited only to modules/features that were implemented in it.\n  I have used Conky for quite long time but after recent tests I made Dzen2 is a lot less on resources then Conky while doing the same thing.\n    Task Bar: A taskbar is an element of a graphical user interface which has various purposes. It typically shows which programs are currently running.\n  You can use classic taskbar like XFCE Panel used in the XFCE desktop environment.\n  You can also configure Tint2 that way. But it only shows applications that are active on the current desktop.\n  One of the greatest taskbars of all time was/is the Mac OS X Dock (now macOS Dock). It also has an indicator showing if application is launched. Currently the best and lightest solution for providing the dock-like functionality on open desktops seems to be Plank.\n    Application Launcher: While not being any crucial role of the desktop environment it have its uses and sometimes save time.\nLets start with resources, the Rofi implementation of application launcher uses almost 3 times more RAM then Dmenu solution.\n  Desktop with Dmenu launched and with alc characters inserted to â€˜filterâ€™ commands in the search of a calculator application.\n  The Rofi requires simple command.\nrofi -show run -theme solarized_alternate -font \u0026#34;Monaco 8\u0026#34;     Blue Light Spectrum Suppress: Automatically adjusts color temperature of the screen according to your current time in your location.\n  While F.lux (closed source) does not provide a native binary for FreeBSD it does offer such binary for Linux and as FreeBSD provides Linux Binary Compatibility its possible to use it on FreeBSD. To use F.lux just start it in the ~/.xinitrc or ~/.xsession file like that.\n~/path/to/bin/xflux -l 33.54321 -g 11.12345 \u0026amp; Of course 33.54321 is latitude and 11.12345 is longitude of your localization.\n  Redshift is the solution that I propose to use as open source blue light spectrum suppressor. Similarly like with the F.lux to start Redshift just put it in the ~/.xinitrc or ~/.xsession file like that.\nredshift -l 33.54321:11.12345 -g 0.9 \u0026amp;   Someone else suggested trying sctd which is sct but rewritten/modified to be a daemon that will automatically change the color temperature during the day (or night). The sctd uses smaller about of RAM memory, uses less libraries and size of these libraries is smaller then what redshfit needs.\n    Binary å¥—ä»¶ æœå¯»è½¯ä»¶ï¼šFreeBSD Portsã€FreshPorts\nå› ç·¨è­¯é¸é …ä¸åŒï¼Œæœ‰äº› Port æœƒæœ‰å¤šå€‹ç‰ˆæœ¬å¯ä½¿ç”¨ã€‚\n  USTC Mirrorsï¼šæ³¨æ„ä½¿ç”¨ Latest æºï¼Œæœ‰å¾ˆå¤šæµè¡Œè½¯ä»¶ã€‚åˆ›å»º /usr/local/etc/pkg/repos/FreeBSD.conf è¦†ç›–å®˜æ–¹æº /etc/pkg/FreeBSD.conf é…ç½®\nsudo vi /usr/local/etc/pkg/repos/FreeBSD.conf FreeBSD: { url: \u0026#34;pkg+http://mirrors.ustc.edu.cn/freebsd-pkg/${ABI}/latest\u0026#34;, } sudo pkg update -f\t# æ›´æ–°ç´¢å¼•   163 Mirrors\n url: \u0026quot;pkg+http://mirrors.163.com/freebsd-pkg/${ABI}/latest\u0026quot;,   è¦å•Ÿå‹• (Bootstrap) ç³»çµ±ï¼Œè«‹åŸ·è¡Œ\nsudo /usr/sbin/pkg   ç•¶å‡ç´šåŸä½¿ç”¨èˆŠç‰ˆ pkg_* å·¥å…·çš„æ—¢æœ‰ç³»çµ±æ™‚ï¼Œå¿…é ˆå°‡è³‡æ–™åº«è½‰æ›æˆæ–°çš„æ ¼å¼\nsudo pkg2ng   Update the available remote repositories as listed in pkg.conf\nsudo pkg update   Search for a package\nsudo pkg search perl   åœ¨æŒ‡å®šè¦å®‰è£çš„å¥—ä»¶æ™‚ï¼Œæœ€å¥½ä½¿ç”¨ Port ä¾†æºä¾†æŒ‡å®šè©²æ‡‰ç”¨ç¨‹å¼ï¼ŒPort ä¾†æºæ˜¯æŒ‡æ‡‰ç”¨ç¨‹å¼åœ¨ Port æ¨¹ä¸­çš„è·¯å¾‘\nsudo pkg search -o perl   Install a package: Installing must specify a unique origin or version otherwise it will try installing all matches\nsudo pkg install perl-5.14   åˆ—å‡ºå·²ç¶“å®‰è£çš„ Port ä¸­æœ‰é‚£äº›å·²éæ™‚\nsudo pkg version -l \u0026#34;\u0026lt;\u0026#34;   Upgrade from remote repository\nsudo pkg upgrade   Delete an installed package\nsudo pkg delete perl-5.14   Remove unneeded dependencies\nsudo pkg autoremove   List installed packages\nsudo pkg info   Display information about installed packages\nsudo pkg info perl-5.14   Show the pkg-message of a package\nsudo pkg info -D perl-5.14   è¦æŸ¥è©¢å·²å®‰åœ¨ç³»çµ±ä¸Šçš„è»Ÿé«”æ˜¯å¦æœ‰ä»»ä½•å·²çŸ¥çš„æ¼æ´\nsudo pkg audit -F   å› ç‚ºç›¸ä¾æ‰€å®‰è£çš„å¥—ä»¶ç¨±ä½œè‡ªå‹• (Automatic) å¥—ä»¶ï¼Œè€Œéè‡ªå‹•å¥—ä»¶å³å¥—ä»¶è¢«å®‰è£çš„åŸå› ä¸æ˜¯å› ç‚ºå…¶ä»–å¥—ä»¶æ‰€ç›¸ä¾\nsudo pkg prime-list\t# deprecated   Clean the local cache of fetched remote packages\nsudo pkg clean   Packages\nsudo pkg install linux-sublime3 sudo pkg install mysql180-server mysql180-client   Port å¥—ä»¶ å„ªé»ï¼š\n å¯æ›´æ”¹ç·¨è­¯é¸é … éƒ¨ä»½è»Ÿé«”çš„æˆæ¬Šæ¢æ¬¾ä¸­ç¦æ­¢ä»¥ Binary æ ¼å¼ç™¼ä½ˆã€‚ é€™ç¨®è»Ÿé«”å¿…é ˆä»¥åŸå§‹ç¢¼ç™¼ä½ˆä¸¦ç”±çµ‚ç«¯ä½¿ç”¨è€…ç·¨è­¯ã€‚ åŸå§‹ç¢¼å¯å¥—ç”¨è‡ªè¨‚çš„ä¿®è£œã€‚  Port ä¸­ä¸¦ä¸å«å¯¦éš›çš„åŸå§‹ç¢¼ï¼Œåœ¨ç·¨è­¯ Port è§£å£“ç¸®æ™‚æœƒè‡ªå‹•ä¸‹è¼‰çš„åŸå§‹ç¢¼åˆ° /usr/ports/distfilesã€‚\n  USTC Mirrorsï¼šåœ¨ /etc/make.conf ä¸­æ·»åŠ ä»¥ä¸‹å†…å®¹\nMASTER_SITE_OVERRIDE?=http://mirrors.ustc.edu.cn/freebsd-ports/distfiles/${DIST_SUBDIR}/   163 Mirrors\nMASTER_SITE_OVERRIDE?=http://mirrors.163.com/freebsd-ports/distfiles/${DIST_SUBDIR}/   å®‰è£ Port å¥—ä»¶é›†ï¼šä¸‹è¼‰å£“ç¸®å¾Œçš„ Port å¥—ä»¶é›†å¿«ç…§ (Snapshot) åˆ° /var/db/portsnap\nsudo portsnap fetch   ç¬¬ä¸€æ¬¡åŸ·è¡Œ Portsnap æ™‚ï¼Œè¦å…ˆè§£å£“ç¸®å¿«ç…§åˆ° /usr/ports\nsudo portsnap extract   åŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ä¾†æ›´æ–° /usr/ports\nsudo portsnap fetch sudo portsnap update   è¦æ‰¾åˆ° Port æ‰€åœ¨çš„åˆ†é¡\nsudo whereis lsof   ä½¿ç”¨ Port å¥—ä»¶é›†å…§å»ºçš„æœå°‹æ©Ÿåˆ¶ä¾†æ‰¾è»Ÿé«”\nsudo cd /usr/ports sudo make search name=lsof sudo make quicksearch name=lsof\t# ä¸æ¥å—å¤šè³‡è¨Š   è‹¥è¦é€²è¡Œæ›´æœ‰æ·±åº¦çš„æœå°‹\nsudo make search key=string sudo make quicksearch key=string   ä¸€æ¬¡è¨­å®šæ‰€æœ‰Port ç·¨è­¯é¸é …\nsudo make config-recursive   é‡æ–°é€²å…¥ Port çš„ç·¨è­¯é¸é …æ¸…å–®\nsudo make config\t# or sudo make showconfig\t# or sudo make rmconfig   ç·¨è­¯ä¸¦å®‰è£ Port\nsudo cd /usr/ports/sysutils/lsof sudo make install   ç·¨è­¯åœ¨ /usr/ports Port ä¸¦å®‰è£åˆ° /usr/home/example/local\nsudo make WRKDIRPREFIX=../ports PREFIX=../local install   å®‰è£éç¨‹ä¸­æœƒå»ºç«‹å·¥ä½œç”¨çš„å­ç›®éŒ„ç”¨ä¾†å„²å­˜ç·¨è­¯æ™‚æš«å­˜çš„æª”æ¡ˆã€‚å¯ç§»é™¤æ­¤ç›®éŒ„ä¾†ç¯€çœç£ç¢Ÿç©ºé–“ä¸¦æ¼¸å°‘å¾€å¾Œå‡ç´šæ–°ç‰ˆ Port æ™‚é€ æˆå•é¡Œ\nsudo make clean   ç§»é™¤å·²å®‰è£çš„ Port\nsudo cd /usr/ports/sysutils/lsof sudo make deinstall   Example\ncd /usr/ports/java/linux-oracle-jdk18 sudo make install   å®‰è£å¾Œçš„æ³¨æ„äº‹é …ï¼š\n å¤§éƒ¨ä»½æ‡‰ç”¨ç¨‹å¼å®‰è£æœƒåœ¨ /usr/local/etc å®‰è£è‡³å°‘ä¸€å€‹é è¨­çš„è¨­å®šæª”ã€‚ æ‡‰ç”¨ç¨‹å¼æä¾›çš„æ–‡ä»¶æœƒå®‰è£åˆ° /usr/local/share/docã€‚ éƒ¨ä»½æ‡‰ç”¨ç¨‹å¼æœƒä»¥æœå‹™çš„æ–¹å¼åŸ·è¡Œï¼Œåœ¨å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼å‰å‰éœ€è¦åŠ å…¥è¨­å®šåˆ° /etc/rc.confã€‚é€™äº›æ‡‰ç”¨ç¨‹å¼é€šå¸¸æœƒå®‰è£å•Ÿå‹• Script åˆ° /usr/local/etc/rc.dã€‚  LinuxÂ® Binary ç›¸å®¹æ€§ FreeBSD æä¾› LinuxÂ® Binary çš„ç›¸å®¹æ€§ï¼Œå…è¨±ä½¿ç”¨è€…åœ¨ FreeBSD ç³»çµ±ä¸Šä¸éœ€è¦ä¿®æ”¹å°±å¯ä»¥å®‰è£å’ŒåŸ·è¡Œå¤§éƒ¨ä»½çš„ LinuxÂ® Binaryã€‚\næœ€å¥½ä¸è¦ç›´æ¥å®‰è£… Linux çš„è½¯ä»¶ï¼Œè€Œä½¿ç”¨ FreeBSD æºä¸­çš„ Linux è½¯ä»¶ï¼Œä¸€èˆ¬ä»¥ linux-package å‘½åã€‚\n  è¼‰å…¥ LinuxÂ® æ ¸å¿ƒæ¨¡çµ„\nsudo kldload linux   å° 64-ä½å…ƒçš„ç›¸å®¹æ€§\nsudo kldload linux64   ç¢ºèªæ¨¡çµ„å·²è¼‰å…¥\nsudo kldstat   å®‰è£åŸºæœ¬çš„ LinuxÂ® ç¨‹å¼åº«å’Œ Binary\nsudo pkg install emulators/linux_base-c7   Add the following line\nsudo vi /etc/fstab linprocfs /compat/linux/proc\tlinprocfs\trw\t0\t0 linsysfs /compat/linux/sys\tlinsysfs\trw\t0\t0 tmpfs /compat/linux/dev/shm\ttmpfs\trw,mode=1777\t0\t0   é–‹æ©Ÿæ™‚é–‹å•Ÿ LinuxÂ® ç›¸å®¹æ€§\nsudo vi /etc/rc.conf linux_enable=\u0026#34;YES\u0026#34;   å®‰è£ LinuxÂ® ELF Binary\nsudo brandelf -t Linux my-linux-elf-binary   å®‰è£ä»¥ LinuxÂ® RPM ç‚ºåŸºç¤çš„æ‡‰ç”¨ç¨‹å¼,éœ€å…ˆå®‰è£ archivers/rpm4 å¥—ä»¶æˆ– Port\nsudo pkg install rpm4 sudo cd /compat/linux sudo rpm2cpio \u0026lt; /path/to/linux.archive.rpm | cpio -id   æ‰‹å‹•å®‰è£å…¶ä»–ç¨‹å¼åº«   åœ¨ LinuxÂ® ç³»çµ±ï¼Œå¯ä½¿ç”¨ ldd ä¾†æ‰¾å‡ºæ‡‰ç”¨ç¨‹å¼éœ€è¦å“ªå€‹å…±ç”¨ç¨‹å¼åº«\nldd linuxdoom libXt.so.3 (DLL Jump 3.1) =\u0026gt; /usr/X11/lib/libXt.so.3.1.0   è¤‡è£½ LinuxÂ® ç³»çµ±è¼¸å‡ºçµæœä¸­æœ€å¾Œä¸€æ¬„éœ€è¦çš„çš„æª”æ¡ˆåˆ° FreeBSD ç³»çµ±çš„ /compat/linuxã€‚ è¤‡è£½å®Œå¾Œï¼Œå»ºç«‹ç¬¦è™Ÿé€£çµ (Symbolic link) è‡³è¼¸å‡ºçµæœç¬¬ä¸€æ¬„çš„åç¨±\n/compat/linux/usr/X11/lib/libXt.so.3.1.0 /compat/linux/usr/X11/lib/libXt.so.3 -\u0026gt; libXt.so.3.1.0   è‡ªè¨‚æ ¸å¿ƒ ç‚ºä½•è¦ç·¨è­¯è‡ªè¨‚çš„æ ¸å¿ƒ? è‡ªè¨‚æ ¸å¿ƒæœ‰è¨±å¤šé …å„ªé»ï¼Œå¦‚ï¼š\n åŠ é€Ÿé–‹æ©Ÿï¼Œå› ç‚ºè‡ªè¨‚çš„æ ¸å¿ƒåªéœ€è¦åµæ¸¬æ‚¨ç³»çµ±ä¸Šå­˜åœ¨çš„ç¡¬é«”ï¼Œæ‰€ä»¥è®“å•Ÿå‹•æ‰€èŠ±çš„éç¨‹æ›´æµæš¢å¿«é€Ÿã€‚ æ¸›å°‘è¨˜æ†¶é«”ä½¿ç”¨ï¼Œè‡ªè¨‚çš„æ ¸å¿ƒé€šå¸¸æœƒæ¯” GENERIC æ ¸å¿ƒä½¿ç”¨æ›´å°‘çš„è¨˜æ†¶é«”ï¼Œé€™å¾ˆé‡è¦ï¼Œå› ç‚ºæ ¸å¿ƒå¿…é ˆä¸€ç›´å­˜æ”¾åœ¨å¯¦é«”è¨˜æ†¶é«”å…§ã€‚ æ”¯æ´é¡å¤–çš„ç¡¬é«”ï¼Œè‡ªè¨‚çš„æ ¸å¿ƒå¯ä»¥å¢åŠ ä¸€äº› GENERIC æ ¸å¿ƒæ²’æœ‰æä¾›çš„ç¡¬é«”æ”¯æ´ã€‚  åµæ¸¬ç³»çµ±ç¡¬é«”   dmesg or /var/run/dmesg.boot or /var/log/messages\n  pciconf -lv\n  åœ¨ manæŒ‡ä»¤åŠ ä¸Š -k æ——æ¨™å¯åˆ—å‡ºæœ‰åŒ…å«æŒ‡å®šè£ç½®å“ç‰Œæˆ–åç¨±çš„æ‰‹å†Šé é¢æ¸…å–®ï¼šman -k Intel\n  è¨­å®šæª” /usr/src/sys ä¸‹å­ç›®éŒ„ä»£è¡¨è‘—æ”¯æ´çš„ç¡¬é«”æ¶æ§‹ (Architecture)ï¼Œæ¯å€‹æ”¯æ´çš„ç¡¬é«”æ¶æ§‹ä¸­æœƒæœ‰ conf å­ç›®éŒ„ï¼Œè£¡é¢å«æœ‰ä¾›è©²æ¶æ§‹ä½¿ç”¨çš„ GENERIC æ ¸å¿ƒè¨­å®šæª”ã€‚\nèªªæ˜åœ¨GENERIC åŒç›®éŒ„çš„ NOTES æª”æ¡ˆä¸­ã€‚æ‰€æœ‰æ¶æ§‹é€šç”¨é¸é …ï¼Œåƒè€ƒ /usr/src/sys/conf/NOTESã€‚\nå¤‡ä»½ä¸æ¢å¤ dump \u0026amp; restore FreeBSD ç³»ç»Ÿçš„å¤‡ä»½å°±æ˜¯å¯¹ç³»ç»Ÿæ–‡ä»¶çš„æ‰“åŒ…ï¼Œç„¶åæ”¾åˆ°ä¸€ä¸ªå®‰å…¨çš„åœ°æ–¹ï¼Œä½¿ç”¨çš„æ‰“åŒ…å·¥å…·æ˜¯ dumpï¼›FreeBSD ç³»ç»Ÿçš„æ¢å¤å°±æ˜¯æŠŠä½ ä¿å­˜å¥½çš„ç³»ç»Ÿæ–‡ä»¶ä»å®‰å…¨çš„åœ°æ–¹é‡Œé¢æ‹¿å‡ºæ¥æ”¾åˆ°ä½ çš„ç¡¬ç›˜ä¸Šå»ï¼Œä½¿ç”¨çš„æ¢å¤å·¥å…·æ˜¯ restoreï¼›\n  éœ€è¦å¤‡ä»½çš„ç›®å½•ï¼š\n / è¿™ä¸ªç›®å½•å­˜æ”¾å¾ˆå¤šåŸºæœ¬å·¥å…·ï¼ŒåŒ…æ‹¬å†…æ ¸ï¼Œéœ€è¦å¤‡ä»½ï¼› /home ç”¨æˆ·æ•°æ®ï¼Œéœ€è¦å¤‡ä»½ï¼› /usr å¾ˆå¤šå·¥å…·ä»¥åŠç³»ç»Ÿçš„æºä»£ç éƒ½æ”¾åœ¨è¿™é‡Œé¢ï¼Œéœ€è¦å¤‡ä»½ï¼› /usr/local æ‰€æœ‰å®‰è£…çš„è½¯ä»¶åŸºæœ¬ä¸Šéƒ½åœ¨è¿™é‡Œï¼Œéœ€è¦å¤‡ä»½ï¼› /var ç³»ç»Ÿçš„æ—¥å¿—ï¼Œportsç³»ç»Ÿçš„æ•°æ®åº“ï¼Œéœ€è¦å¤‡ä»½ï¼›    å¤‡ä»½æ–¹æ³•ï¼šä»¥ / ç›®å½•ä¸ºä¾‹ï¼ŒæŠŠç§»åŠ¨ç¡¬ç›˜æŒ‚è½½åœ¨ /mnt/fender_01 ç›®å½•ï¼Œ/ ç›®å½•å¯¹åº”ç¡¬ç›˜ä¸Šé¢çš„ /dev/ad12s1a åˆ†åŒºï¼Œå¤‡ä»½æ•´ä¸ªç›®å½•çš„å‘½ä»¤å¦‚ä¸‹ï¼š\ndump -0Lauf /mnt/fender_01/dump/ad12sa1.dump /dev/ad12s1a  -0 å¤‡ä»½æ‰€æœ‰çš„æ–‡ä»¶ç³»ç»Ÿä¸­çš„å†…å®¹ï¼Œä¹Ÿå°±æ˜¯ä¸ä½¿ç”¨å¢é‡å¤‡ä»½ï¼› -f æŒ‡å®šå¤‡ä»½ç»“æœå­˜æ”¾çš„æ–‡ä»¶åï¼› -a å‘Šè¯‰ dump ä¸è€ƒè™‘å¤‡ä»½çš„ä»‹è´¨çš„å¤§å°é—®é¢˜ï¼Œæ—©æœŸå¤‡ä»½ä½¿ç”¨ç£å¸¦ï¼Œdump ä¼šé¢„å…ˆè®¡ç®—ä¸€ä¸‹éœ€è¦çš„ç©ºé—´ï¼Œä½¿ç”¨è¿™ä¸ªé€‰é¡¹å‘Šè¯‰ dump å¿½ç•¥è¿™ä¸ªé—®é¢˜ï¼› -u å‘Šè¯‰ dump æ›´æ–°ä¸€ä¸‹ /etc/dumpdatesï¼Œè¿™ä¸ªæ–‡ä»¶è®°å½•äº†ä½ åœ¨ç³»ç»Ÿä¸Šæœæœ‰çš„å¤‡ä»½æ´»åŠ¨ï¼› -L å¤‡ä»½å·²ç»æŒ‚è½½çš„æ–‡ä»¶ç³»ç»Ÿæ—¶éœ€è¦ï¼Œè¿™ä¸ªé€‰é¡¹ä¼šä½¿ç”¨ UFS2 çš„ snapshot åŠŸèƒ½æ¥ä¿è¯æ–‡ä»¶ç³»ç»Ÿçš„ä¸€è‡´æ€§ã€‚    æ¢å¤æ–¹æ³•\n  æ¢å¤ / ä»¥å¤–çš„ç›®å½•ï¼šä»¥æ¢å¤ /home ç›®å½•ä¸ºä¾‹ï¼Œé‡å¯ç³»ç»Ÿè¿›å…¥å•ç”¨æˆ·æ¨¡å¼ï¼ŒæŒ‚è½½ /tmp åˆ†åŒºï¼ŒæŒ‚è½½ç§»åŠ¨ç¡¬ç›˜ï¼Œè¿™æ—¶å¤‡ä»½ç”Ÿæˆçš„æ–‡ä»¶ä¿å­˜åœ¨ /mnt/01/dump/dev/ad12s1h.dumpï¼Œæ ¼å¼åŒ– /dev/ad12s1hï¼š\nnewfs -U /dev/ad12s1h\t# -U é€‰å‹æ¥æ‰“å¼€ softupdate æŒ‚è½½è¿™ä¸ªåˆ†åŒºï¼Œä¾‹å¦‚ /mnt/02/ï¼Œæ¢å¤ç›®å½•ï¼š\ncd /mnt/02 restore -rf /mnt/01/dump/ad12s1h.dump   æ¢å¤ /ï¼šå› ä¸º restore åœ¨ / ç›®å½•ä¸­ï¼Œæ‰€ä»¥ä¸èƒ½ä½¿ç”¨ä¸Šé¢æ–¹æ³•æ¢å¤ / ç›®å½•ã€‚è§£å†³åŠæ³•æ˜¯ä½¿ç”¨ freebsd_livefs_cd å¯åŠ¨ç³»ç»Ÿã€‚\n    å¤‡ä»½ MBR\n  å¤‡ä»½\ndd if=/dev/da0 of=/path/to/mbr.img bs=512 count=1   æ¢å¤\ndd if=/path/to/mbr.img of=/dev/da0 bs=512 count=1     å‚è€ƒï¼šFreeBSD dump å¤‡ä»½\nrsyncï¼ˆremote syncï¼‰ å¯ä»¥åœ¨æœ¬åœ°è®¡ç®—æœºä¸è¿œç¨‹è®¡ç®—æœºä¹‹é—´ï¼Œæˆ–è€…ä¸¤ä¸ªæœ¬åœ°ç›®å½•ä¹‹é—´åŒæ­¥æ–‡ä»¶ï¼Œä¸”ä»…ä¼ è¾“æœ‰å˜åŠ¨çš„éƒ¨åˆ†ã€‚\n  å°†æºç›®å½•åŒæ­¥åˆ°ç›®æ ‡ç›®å½•\nrsync -r source1 source2 destination\t# -r è¡¨ç¤ºé€’å½’ï¼Œå³åŒ…å«å­ç›®å½• rsync -a source/ destination\t# -a é™¤äº†å¯ä»¥é€’å½’åŒæ­¥ä»¥å¤–ï¼Œè¿˜å¯ä»¥åŒæ­¥å…ƒä¿¡æ¯ï¼ˆæ¯”å¦‚ä¿®æ”¹æ—¶é—´ã€æƒé™ç­‰ï¼‰   æ’é™¤æ–‡ä»¶ï¼šåŒæ­¥æ—¶æ’é™¤æŸäº›æ–‡ä»¶æˆ–ç›®å½•ï¼Œè¿™æ—¶å¯ä»¥ç”¨ --exclude å‚æ•°æŒ‡å®šæ’é™¤æ¨¡å¼ï¼Œå¤šä¸ªæ’é™¤æ¨¡å¼ï¼Œå¯ä»¥ç”¨å¤šä¸ª --exclude å‚æ•°\nrsync -av --exclude dir source/ destination\t# æ’é™¤æ‰€æœ‰ TXT æ–‡ä»¶   å¢é‡å¤‡ä»½ï¼šé™¤äº†æºç›®å½•ä¸ç›®æ ‡ç›®å½•ç›´æ¥æ¯”è¾ƒï¼Œrsync è¿˜æ”¯æŒä½¿ç”¨åŸºå‡†ç›®å½•ï¼Œå³å°†æºç›®å½•ä¸åŸºå‡†ç›®å½•ä¹‹é—´å˜åŠ¨çš„éƒ¨åˆ†ï¼ŒåŒæ­¥åˆ°ç›®æ ‡ç›®å½•ã€‚--link-dest å‚æ•°ç”¨æ¥æŒ‡å®šåŒæ­¥æ—¶çš„åŸºå‡†ç›®å½•ã€‚\nrsync -a --delete --link-dest /compare/path /source/path /target/path   è¿œç¨‹åŒæ­¥ï¼šrsync é»˜è®¤ä½¿ç”¨ SSH è¿›è¡Œè¿œç¨‹ç™»å½•å’Œæ•°æ®ä¼ è¾“\nrsync -av source/ username@remote_host:destination\t# å°†æœ¬åœ°å†…å®¹åŒæ­¥åˆ°è¿œç¨‹æœåŠ¡å™¨ rsync -av username@remote_host:source/ destination\t# å°†è¿œç¨‹å†…å®¹åŒæ­¥åˆ°æœ¬åœ°   ä½¿ç”¨ rsync æ¥å¤‡ä»½ç³»ç»Ÿ\nrsync -aH --delete --exclude dir --link-dest /compare/path source destination  -H é€‰é¡¹ç”¨æ¥ä¿æŒç¡¬é“¾æ¥ é»˜è®¤æƒ…å†µä¸‹ï¼Œrsync åªç¡®ä¿æºç›®å½•çš„æ‰€æœ‰å†…å®¹ï¼ˆæ˜ç¡®æ’é™¤çš„æ–‡ä»¶é™¤å¤–ï¼‰éƒ½å¤åˆ¶åˆ°ç›®æ ‡ç›®å½•ã€‚å®ƒä¸ä¼šä½¿ä¸¤ä¸ªç›®å½•ä¿æŒç›¸åŒï¼Œå¹¶ä¸”ä¸ä¼šåˆ é™¤æ–‡ä»¶ã€‚å¦‚æœä½ æƒ³è®©é‚£äº›åœ¨æºç›®å½•é‡Œè¢«åˆ é™¤çš„æ–‡ä»¶åœ¨ç›®æ ‡ç›®å½•é‡Œä¹Ÿè¢«åˆ é™¤ï¼Œé‚£ä¹ˆä½ å¯ä»¥åŠ ä¸Š --delete é€‰é¡¹æ¥åˆ é™¤ã€‚--delete å‚æ•°ä¼šä½¿å¾— destination æˆä¸º source çš„ä¸€ä¸ªé•œåƒã€‚    å‚è€ƒï¼šrsync ç”¨æ³•æ•™ç¨‹ï¼Œä½¿ç”¨ rsync æ¥å¤‡ä»½ Linux ç³»ç»Ÿ\nZ æª”æ¡ˆç³»çµ± (ZFS) ZFS çš„è¨­è¨ˆç›®æ¨™ä¸»è¦æœ‰ä¸‰å€‹ï¼š\n è³‡æ–™å®Œæ•´æ€§ï¼šæ‰€æœ‰è³‡æ–™éƒ½æœƒæœ‰ä¸€å€‹è³‡æ–™çš„æ ¡é©—ç¢¼ (checksum)ï¼Œè³‡æ–™å¯«å…¥æ™‚æœƒè¨ˆç®—æ ¡é©—ç¢¼ç„¶å¾Œä¸€ä½µå¯«å…¥ï¼Œå¾€å¾Œè®€å–è³‡æ–™æ™‚æœƒå†è¨ˆç®—ä¸€æ¬¡æ ¡é©—ç¢¼ï¼Œè‹¥æ ¡é©—ç¢¼èˆ‡ç•¶åˆå¯«å…¥æ™‚ä¸ç›¸ç¬¦ï¼Œä¾¿å¯åµæ¸¬åˆ°è³‡æ–™éŒ¯èª¤ï¼Œæ­¤æ™‚è‹¥æœ‰å¯ç”¨çš„è³‡æ–™å‚™æ´ (Data redundancy)ï¼ŒZFS æœƒå˜—è©¦è‡ªå‹•ä¿®æ­£éŒ¯èª¤ã€‚ å„²å­˜æ± ï¼šå¯¦é«”çš„å„²å­˜è£ç½®éƒ½æœƒå…ˆè¢«åŠ å…¥åˆ°ä¸€å€‹å„²å­˜æ±  (Pool)ï¼Œé€™å€‹å…±ç”¨çš„å„²å­˜æ± å¯ç”¨ä¾†é…ç½®å„²å­˜ç©ºé–“ï¼Œå„²å­˜æ± çš„ç©ºé–“å¯è¢«æ‰€æœ‰çš„æª”æ¡ˆç³»çµ±ä½¿ç”¨ä¸”é€éåŠ å…¥æ–°çš„å„²å­˜è£ç½®ä¾†å¢åŠ ç©ºé–“ã€‚ æ•ˆèƒ½ï¼šæä¾›å¤šå€‹å¿«å–æ©Ÿåˆ¶ä¾†å¢åŠ æ•ˆèƒ½ã€‚å…ˆé€²ã€ä»¥è¨˜æ†¶é«”ç‚ºåŸºç¤çš„è®€å–å¿«å–å¯ä½¿ç”¨ ARCã€‚ç¬¬äºŒå±¤ä»¥ç£ç¢Ÿç‚ºåŸºç¤çš„è®€å–å¿«å–å¯ä½¿ç”¨ L2ARCï¼Œä»¥ç£ç¢Ÿç‚ºåŸºç¤çš„åŒæ­¥å¯«å…¥å¿«å–å‰‡å¯ä½¿ç”¨ ZILã€‚  Others Screen resolution on FreeBSD on VirtualBox é—®é¢˜æè¿°ï¼šåœ¨virtualboxè™šæ‹Ÿæœºä¸‹ï¼Œæ— æ³•æ”¹å˜æ¡Œé¢åˆ†è¾¨ç‡ä¸º1366x768\nVBoxManage setextradata \u0026#34;FreeBSD\u0026#34; VBoxInternal2/EfiGraphicsResolution 1366x768 Disable the Forward/Back buttons on my mouse é—®é¢˜æè¿°ï¼šæµè§ˆç½‘é¡µæ—¶ï¼Œé¼ æ ‡æ»‘è½®æ»šåŠ¨æµè§ˆå™¨å°±ä¼šå‰è¿›åé€€ã€‚\nSalvedï¼š\n  æ‰§è¡Œä¸‹é¢å‘½ä»¤åï¼Œä¸Šä¸‹æ»‘åŠ¨é¼ æ ‡æ»‘è½®ï¼Œçœ‹çœ‹æ˜ å°„åˆ°é‚£äº›buttonï¼Œä¸€èˆ¬æ˜¯buttons 8 and 9\nsudo xev | grep -A2 ButtonPress   then disable button 8 and 9ï¼ˆå‰ææ˜¯æœ‰ä¸Šé¢çš„é—®é¢˜ï¼Œå¦åˆ™å°±ä¸è¦ç¦ï¼‰\nsudo vi ~/.Xmodmap pointer = 1 2 3 4 5 6 7 0 0 0 0 0   test it with the command,command automatically when you log in; if yours doesn\u0026rsquo;t, arrange for it to run when X starts.\nsudo xmodmap ~/.Xmodmap   Install chinese font sudo pkg install zh-CJKUnifonts\t# CJKï¼ˆä¸­æ—¥éŸ©ç»Ÿä¸€è¡¨æ„æ–‡å­—ï¼‰ è®¾å•ä½¿ç”¨æ¨¡å¼ä¸ºä¸å®‰å…¨ sudo vi /etc/ttys console none\tunknown off insecure No space left on device é—®é¢˜æè¿°ï¼šä½¿ç”¨ pkg update æ—¶æç¤ºè¿™ä¸ªé—®é¢˜ã€‚åŸå› æ˜¯ /tmp is too smallã€‚\nSalved:\nsudo vi /etc/fstab tmpfs\t/tmp\ttmpfs\trw,size=256000000\t0\t0\t# size ä»¥Byteä¸ºå•ä½ VirtualBoxâ„¢ guest additions sudo cd /usr/ports/emulators/virtualbox-ose-additions \u0026amp;\u0026amp; make install clean sudo vi /etc/rc.conf vboxguest_enable=\u0026#34;YES\u0026#34; vboxservice_enable=\u0026#34;YES\u0026#34; vboxservice_flags=\u0026#34;--disable-timesync\u0026#34;\t# è‹¥æœ‰ä½¿ç”¨ ntpdæˆ– ntpdateï¼Œä¾¿å¯é—œé–‰ä¸»æ©Ÿæ™‚é–“åŒæ­¥åŠŸèƒ½ Fish Fish æ˜¯\u0026quot;the friendly interactive shell\u0026quot;çš„ç®€ç§°ï¼Œæœ€å¤§ç‰¹ç‚¹å°±æ˜¯æ–¹ä¾¿æ˜“ç”¨ã€‚\nFish ä¼šè‡ªåŠ¨åœ¨å…‰æ ‡åé¢ç»™å‡ºå»ºè®®ï¼Œè¡¨ç¤ºå¯èƒ½çš„é€‰é¡¹ï¼Œé¢œè‰²ä¸ºç°è‰²ã€‚å¦‚æœé‡‡çº³å»ºè®®ï¼Œå¯ä»¥æŒ‰ä¸‹â†’æˆ–Control + Fã€‚å¦‚æœåªé‡‡çº³ä¸€éƒ¨åˆ†ï¼Œå¯ä»¥æŒ‰ä¸‹Alt + â†’ã€‚\nè¾“å…¥å‘½ä»¤æ—¶ï¼ŒFish ä¼šè‡ªåŠ¨æ˜¾ç¤ºåŒ¹é…çš„ä¸Šä¸€æ¡å†å²è®°å½•ã€‚å¦‚æœæ²¡æœ‰åŒ¹é…çš„å†å²è®°å½•ï¼ŒFish ä¼šçŒœæµ‹å¯èƒ½çš„ç»“æœï¼Œè‡ªåŠ¨è¡¥å…¨å„ç§è¾“å…¥ã€‚\nHow to start things at boot time   ä¸»æµçš„æ¡Œé¢ç¯å¢ƒéƒ½è‡ªå¸¦åº”ç”¨ç¨‹åºè‡ªå¯åŠ¨è®¾ç½®ç¨‹åºã€‚\n  These directories are defined in /etc/defaults/rc.confï¼ˆä¸»è¦æ˜¯è¿è¡Œè„šæœ¬ï¼‰\n  Default startup directory is /usr/local/etc/rc.d/. if you need the files to be executed in a specific order, try numbering the files. For example:\n000This.Will.Run.First.sh 020This.Will.Run.Next.sh 030And.Then.This.sh   deprecated: /etc/rc.local\n    DSBAutostart is a Qt program that allows you to add commands to be executed at session start.\nï¼ˆæœ¬è´¨å°±æ˜¯åœ¨ .xinitrc è°ƒç”¨ç¨‹åºæŒ‡ä»¤ï¼ŒGUI ç¨‹åºå¼€æœºå¯åŠ¨éƒ½éœ€æ”¾å…¥ .xinitrcï¼Œåœ¨ Xorg å¯åŠ¨åè¿è¡Œï¼‰\n  Installation\ncd /usr/ports/x11/dsbautostart \u0026amp;\u0026amp; make install distclean   Usage\n  Manual\n  Setup: Add the following command to your ~/.xinitrc, or to your window manager\u0026rsquo;s startup script (e.g. ~/.config/openbox/autostart.sh)\nsh ~/.config/DSB/autostart.sh\u0026amp;   ~/.config/DSB/autostart.sh\nPlank\u0026amp;     GUI: Setting -\u0026gt; DSBAutostart -\u0026gt; Add Command, example plank, then Save and Quit\n      FreeBSD Insall Oracle JDK  å®‰è£… Linux Compact åœ¨ /usr/ports/java/linux-oracle-jdk18 è¿è¡Œ sudo make install æ ¹æ®æç¤ºåœ¨ Oracle Java Archive ä¸‹è½½éœ€è¦çš„ JDK ç‰ˆæœ¬å®‰è£…åŒ…ï¼Œå¤åˆ¶åˆ° /usr/ports/distfiles åœ¨ /usr/ports/java/linux-oracle-jdk18 è¿è¡Œ sudo make installï¼Œå®‰è£…æˆåŠŸ  FreeBSD Install Python and pip sudo pkg install python python --version Python 3.7.9 sudo pkg install py37-pip ç®€åŒ–å¯åŠ¨ FreeBSD é»˜è®¤å¯åŠ¨è¿‡ç¨‹ç›¸å½“è¯¦ç»†ï¼ŒåŒ…å«å¤§é‡è°ƒè¯•ä¿¡æ¯ä»¥åŠå†…æ ¸æ¶ˆæ¯ã€‚\n Add the boot_mute=YES option to the /boot/loader.conf file. Add autoboot_delay=2 parameter to the /boot/loader.conf file. Add rc_startmsgs=\u0026quot;NO\u0026quot; to your /etc/rc.conf file.  è¿æ¥ç½‘ç»œ If You will have attached LAN cable and your interface is em0 (check ifconfig command output) then dhclient em0 command should grant You the working connection to the Internet â€“ assuming that You have DHCP server on that network.\nifconfig em0 up dhclient em0 To test the network connectivity use the ping command.\nping -c 3 freebsd.org If You would like to connect to the World with wireless connection then here are the needed commands. First lets check what wireless card You have.\nsysctl net.wlan.devices We will now create wlan virtual device on top of our iwn0 device and bring it up.\nifconfig wlan0 create wlandev iwn0 ifconfig wlan0 up We can scan for existing nearby WiFi access points if needed.\nifconfig wlan0 scan Now we need to add the desired WiFi network to the /etc/wpa_supplicant.conf file as shown below.\nnetwork={ ssid=\u0026quot;WIFI-NETWORK-NAME\u0026quot; psk=\u0026quot;PASSWORD\u0026quot; } Then You may connect to it using the wpa_supplicant daemon. Hit the [CTRL]+[Z] key combination to put the process into suspended state. Then we type the bg command to put it back into running state, but in the background so we can continue to type next commands.\nwpa_supplicant -i wlan0 -c /etc/wpa_supplicant.conf Now we will request for the IP address from the access point DHCP server.\ndhclient wlan0 How To Add and Remove Users on FreeBSD   Add a User: adduser\n  Grant Sudo Privileges: On FreeBSD, users that are members of the wheel group are allowed to use sudo. This is due to the following line in the default sudoers file, /usr/local/etc/sudoers\n%wheel ALL=(ALL) NOPASSWD: ALL   Remove a User: rmuser\n  Lock a User Account: pw lock username\n  Unlock a User: pw unlock username\n  å…¶ä»– NetBSD: huaweicloudã€aliyunã€tsinghua\nOpenBSD: huaweicloudã€aliyunã€tsinghua\nä¸€ç¯‡å¥½æ–‡ï¼šFreeBSDçš„ç°çŠ¶å’Œæœªæ¥\nFreeBSD Desktop\nFreeBSD ä½¿ç”¨æ‰‹å†Š\n","permalink":"https://sakamotokurome.github.io/posts/freebsd/","summary":"The goals of the FreeBSD Project are to provide software that may be used for any purpose and without strings attached. Many of us have a significant investment in the code (and project) and would certainly not mind a little financial compensation now and then, but we are definitely not prepared to insist on it. We believe that our first and foremost \u0026ldquo;mission\u0026rdquo; is to provide code to any and","title":"FreeBSD"},{"content":"Just a little conversation\nAbout give me your picture\nOn the cover of a magazine\nOn the cover of a magazine\nJust a little conversation\nBut how long it might take one?\nTo get along with such thing?\nTo get along with such thing?\nBut everybody knows\nIt\u0026rsquo;s easier to fall apart\nJust a little conversation\nAbout give me your picture\nOn the cover of a magazine\nOn the cover of a magazine\n  ","permalink":"https://sakamotokurome.github.io/posts/conversation/","summary":"Just a little conversation\nAbout give me your picture\nOn the cover of a magazine\nOn the cover of a magazine\nJust a little conversation\nBut how long it might take one?\nTo get along with such thing?\nTo get along with such thing?\nBut everybody knows\nIt\u0026rsquo;s easier to fall apart\nJust a little conversation\nAbout give me your picture\nOn the cover of a magazine\nOn the cover of a magazine","title":"Conversation"},{"content":"","permalink":"https://sakamotokurome.github.io/links/","summary":"","title":""}]